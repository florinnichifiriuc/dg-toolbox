"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{6304:(ht,Se,T)=>{T.d(Se,{Dh:()=>Te,GT:()=>me,cc:()=>De,hO:()=>qe,on:()=>R,pX:()=>ne,xv:()=>we});var M=T(7989),J=T(7142),N=T(5781);ht=T.hmd(ht);const se=["ngOnDestroy"],ne=(Oe,at,rt,Y={})=>new Proxy(Oe,{get:(he,Q)=>rt.runOutsideAngular(()=>{var He;if(Oe[Q])return!(null===(He=Y?.spy)||void 0===He)&&He.get&&Y.spy.get(Q,Oe[Q]),Oe[Q];if(se.indexOf(Q)>-1)return()=>{};const xe=at.toPromise().then(We=>{const re=We&&We[Q];return"function"==typeof re?re.bind(We):re&&re.then?re.then(ct=>rt.run(()=>ct)):rt.run(()=>re)});return new Proxy(()=>{},{get:(We,re)=>xe[re],apply:(We,re,ct)=>xe.then(Pt=>{var e1;const S1=Pt&&Pt(...ct);return!(null===(e1=Y?.spy)||void 0===e1)&&e1.apply&&Y.spy.apply(Q,ct,S1),S1})})})}),me=(Oe,at)=>{at.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Y=>{Object.defineProperty(Oe.prototype,Y,Object.getOwnPropertyDescriptor(rt.prototype||rt,Y))})})};class ge{constructor(at){return at}}const Te=new M.OlP("angularfire2.app.options"),we=new M.OlP("angularfire2.app.name");function R(Oe,at,rt){const he="object"==typeof rt&&rt||{};he.name=he.name||"string"==typeof rt&&rt||"[DEFAULT]";const He=J.Z.apps.filter(xe=>xe&&xe.name===he.name)[0]||at.runOutsideAngular(()=>J.Z.initializeApp(Oe,he));try{JSON.stringify(Oe)!==JSON.stringify(He.options)&&j("error",`${He.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(He)}const j=(Oe,...at)=>{(0,M.X6Q)()&&typeof console<"u"&&console[Oe](...at)},ie={provide:ge,useFactory:R,deps:[Te,M.R0b,[new M.FiY,we]]};let qe=(()=>{class Oe{constructor(rt){J.Z.registerVersion("angularfire",N.q4.full,"core"),J.Z.registerVersion("angularfire",N.q4.full,"app-compat"),J.Z.registerVersion("angular",M.q4F.full,rt.toString())}static initializeApp(rt,Y){return{ngModule:Oe,providers:[{provide:Te,useValue:rt},{provide:we,useValue:Y}]}}}return Oe.\u0275fac=function(rt){return new(rt||Oe)(M.LFG(M.Lbi))},Oe.\u0275mod=M.oAB({type:Oe}),Oe.\u0275inj=M.cJS({providers:[ie]}),Oe})();function De(Oe,at,rt,Y,he){const[,Q,He]=globalThis.\u0275AngularfireInstanceCache.find(xe=>xe[0]===Oe)||[];if(Q)return function dt(Oe,at){try{return Oe.toString()===at.toString()}catch{return Oe===at}}(he,He)||(Be("error",`${at} was already initialized on the ${rt} Firebase App with different settings.${ve?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:he,was:He})),Q;{const xe=Y();return globalThis.\u0275AngularfireInstanceCache.push([Oe,xe,he]),xe}}const ve=!!ht.hot,Be=(Oe,...at)=>{(0,M.X6Q)()&&typeof console<"u"&&console[Oe](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5781:(ht,Se,T)=>{T.d(Se,{q4:()=>Aa,iC:()=>x2,HU:()=>M0,vb:()=>Na,JM:()=>wc});var M=T(7989),J=T(3182),N=T(5861),se=T(534),ne=T(9058),me=T(4537),ge=T(7879);const Te=(w,H)=>H.some(S=>w instanceof S);let we,R;const qe=new WeakMap,De=new WeakMap,dt=new WeakMap,ve=new WeakMap,Be=new WeakMap;let rt={get(w,H,S){if(w instanceof IDBTransaction){if("done"===H)return De.get(w);if("objectStoreNames"===H)return w.objectStoreNames||dt.get(w);if("store"===H)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return He(w[H])},set:(w,H,S)=>(w[H]=S,!0),has:(w,H)=>w instanceof IDBTransaction&&("done"===H||"store"===H)||H in w};function Q(w){return"function"==typeof w?function he(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...H){return w.apply(xe(this),H),He(qe.get(this))}:function(...H){return He(w.apply(xe(this),H))}:function(H,...S){const A=w.call(xe(this),H,...S);return dt.set(A,H.sort?H.sort():[H]),He(A)}}(w):(w instanceof IDBTransaction&&function at(w){if(De.has(w))return;const H=new Promise((S,A)=>{const U=()=>{w.removeEventListener("complete",W),w.removeEventListener("error",le),w.removeEventListener("abort",le)},W=()=>{S(),U()},le=()=>{A(w.error||new DOMException("AbortError","AbortError")),U()};w.addEventListener("complete",W),w.addEventListener("error",le),w.addEventListener("abort",le)});De.set(w,H)}(w),Te(w,function j(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,rt):w)}function He(w){if(w instanceof IDBRequest)return function Oe(w){const H=new Promise((S,A)=>{const U=()=>{w.removeEventListener("success",W),w.removeEventListener("error",le)},W=()=>{S(He(w.result)),U()},le=()=>{A(w.error),U()};w.addEventListener("success",W),w.addEventListener("error",le)});return H.then(S=>{S instanceof IDBCursor&&qe.set(S,w)}).catch(()=>{}),Be.set(H,w),H}(w);if(ve.has(w))return ve.get(w);const H=Q(w);return H!==w&&(ve.set(w,H),Be.set(H,w)),H}const xe=w=>Be.get(w),ct=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],e1=new Map;function S1(w,H){if(!(w instanceof IDBDatabase)||H in w||"string"!=typeof H)return;if(e1.get(H))return e1.get(H);const S=H.replace(/FromIndex$/,""),A=H!==S,U=Pt.includes(S);if(!(S in(A?IDBIndex:IDBObjectStore).prototype)||!U&&!ct.includes(S))return;const W=function(){var le=(0,N.Z)(function*($e,...Ne){const Fe=this.transaction($e,U?"readwrite":"readonly");let zt=Fe.store;return A&&(zt=zt.index(Ne.shift())),(yield Promise.all([zt[S](...Ne),U&&Fe.done]))[0]});return function(Ne){return le.apply(this,arguments)}}();return e1.set(H,W),W}!function Y(w){rt=w(rt)}(w=>({...w,get:(H,S,A)=>S1(H,S)||w.get(H,S,A),has:(H,S)=>!!S1(H,S)||w.has(H,S)}));const jn="@firebase/installations",V2="0.6.4",oi=1e4,$n=`w:${V2}`,ae="FIS_v2",ue="https://firebaseinstallations.googleapis.com/v1",ye=36e5,Je=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(w){return w instanceof ne.ZR&&w.code.includes("request-failed")}function w2({projectId:w}){return`${ue}/projects/${w}/installations`}function pt(w){return{token:w.token,requestStatus:2,expiresIn:v1(w.expiresIn),creationTime:Date.now()}}function Wt(w,H){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,N.Z)(function*(w,H){const A=(yield H.json()).error;return Je.create("request-failed",{requestName:w,serverCode:A.code,serverMessage:A.message,serverStatus:A.status})})).apply(this,arguments)}function c2({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function t1(w){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,N.Z)(function*(w){const H=yield w();return H.status>=500&&H.status<600?w():H})).apply(this,arguments)}function v1(w){return Number(w.replace("s","000"))}function F1(){return(F1=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:H},{fid:S}){const A=w2(w),U=c2(w),W=H.getImmediate({optional:!0});if(W){const Fe=yield W.getHeartbeatsHeader();Fe&&U.append("x-firebase-client",Fe)}const $e={method:"POST",headers:U,body:JSON.stringify({fid:S,authVersion:ae,appId:w.appId,sdkVersion:$n})},Ne=yield t1(()=>fetch(A,$e));if(Ne.ok){const Fe=yield Ne.json();return{fid:Fe.fid||S,registrationStatus:2,refreshToken:Fe.refreshToken,authToken:pt(Fe.authToken)}}throw yield Wt("Create Installation",Ne)})).apply(this,arguments)}function B1(w){return new Promise(H=>{setTimeout(H,w)})}const Pi=/^[cdef][\w-]{21}$/,mt="";function Rt(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const S=function St(w){return function ir(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Pi.test(S)?S:mt}catch{return mt}}function r2(w){return`${w.appName}!${w.appId}`}const m2=new Map;function L1(w,H){const S=r2(w);Ri(S,H),function Zt(w,H){const S=function Ot(){return!D1&&"BroadcastChannel"in self&&(D1=new BroadcastChannel("[Firebase] FID Change"),D1.onmessage=w=>{Ri(w.data.key,w.data.fid)}),D1}();S&&S.postMessage({key:w,fid:H}),function Gn(){0===m2.size&&D1&&(D1.close(),D1=null)}()}(S,H)}function Ri(w,H){const S=m2.get(w);if(S)for(const A of S)A(H)}let D1=null;const Vr="firebase-installations-database",Ir=1,Y1="firebase-installations-store";let sr=null;function mn(){return sr||(sr=function We(w,H,{blocked:S,upgrade:A,blocking:U,terminated:W}={}){const le=indexedDB.open(w,H),$e=He(le);return A&&le.addEventListener("upgradeneeded",Ne=>{A(He(le.result),Ne.oldVersion,Ne.newVersion,He(le.transaction))}),S&&le.addEventListener("blocked",()=>S()),$e.then(Ne=>{W&&Ne.addEventListener("close",()=>W()),U&&Ne.addEventListener("versionchange",()=>U())}).catch(()=>{}),$e}(Vr,Ir,{upgrade:(w,H)=>{0===H&&w.createObjectStore(Y1)}})),sr}function U2(w,H){return j2.apply(this,arguments)}function j2(){return(j2=(0,N.Z)(function*(w,H){const S=r2(w),U=(yield mn()).transaction(Y1,"readwrite"),W=U.objectStore(Y1),le=yield W.get(S);return yield W.put(H,S),yield U.done,(!le||le.fid!==H.fid)&&L1(w,H.fid),H})).apply(this,arguments)}function x1(w){return I2.apply(this,arguments)}function I2(){return(I2=(0,N.Z)(function*(w){const H=r2(w),A=(yield mn()).transaction(Y1,"readwrite");yield A.objectStore(Y1).delete(H),yield A.done})).apply(this,arguments)}function Q1(w,H){return X1.apply(this,arguments)}function X1(){return(X1=(0,N.Z)(function*(w,H){const S=r2(w),U=(yield mn()).transaction(Y1,"readwrite"),W=U.objectStore(Y1),le=yield W.get(S),$e=H(le);return void 0===$e?yield W.delete(S):yield W.put($e,S),yield U.done,$e&&(!le||le.fid!==$e.fid)&&L1(w,$e.fid),$e})).apply(this,arguments)}function F(w){return P.apply(this,arguments)}function P(){return P=(0,N.Z)(function*(w){let H;const S=yield Q1(w.appConfig,A=>{const U=function G(w){return Lt(w||{fid:Rt(),registrationStatus:0})}(A),W=function Me(w,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(Je.create("app-offline"))};const S={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},A=function ee(w,H){return Ke.apply(this,arguments)}(w,S);return{installationEntry:S,registrationPromise:A}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:Et(w)}:{installationEntry:H}}(w,U);return H=W.registrationPromise,W.installationEntry});return S.fid===mt?{installationEntry:yield H}:{installationEntry:S,registrationPromise:H}}),P.apply(this,arguments)}function Ke(){return Ke=(0,N.Z)(function*(w,H){try{const S=yield function Hr(w,H){return F1.apply(this,arguments)}(w,H);return U2(w.appConfig,S)}catch(S){throw je(S)&&409===S.customData.serverCode?yield x1(w.appConfig):yield U2(w.appConfig,{fid:H.fid,registrationStatus:0}),S}}),Ke.apply(this,arguments)}function Et(w){return wt.apply(this,arguments)}function wt(){return(wt=(0,N.Z)(function*(w){let H=yield $2(w.appConfig);for(;1===H.registrationStatus;)yield B1(100),H=yield $2(w.appConfig);if(0===H.registrationStatus){const{installationEntry:S,registrationPromise:A}=yield F(w);return A||S}return H})).apply(this,arguments)}function $2(w){return Q1(w,H=>{if(!H)throw Je.create("installation-not-found");return Lt(H)})}function Lt(w){return function C2(w){return 1===w.registrationStatus&&w.registrationTime+oi<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function T2(){return(T2=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:H},S){const A=function Sn(w,{fid:H}){return`${w2(w)}/${H}/authTokens:generate`}(w,S),U=function p2(w,{refreshToken:H}){const S=c2(w);return S.append("Authorization",function O1(w){return`${ae} ${w}`}(H)),S}(w,S),W=H.getImmediate({optional:!0});if(W){const Fe=yield W.getHeartbeatsHeader();Fe&&U.append("x-firebase-client",Fe)}const $e={method:"POST",headers:U,body:JSON.stringify({installation:{sdkVersion:$n,appId:w.appId}})},Ne=yield t1(()=>fetch(A,$e));if(Ne.ok)return pt(yield Ne.json());throw yield Wt("Generate Auth Token",Ne)})).apply(this,arguments)}function qn(w){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,N.Z)(function*(w,H=!1){let S;const A=yield Q1(w.appConfig,W=>{if(!xt(W))throw Je.create("not-registered");const le=W.authToken;if(!H&&function Kt(w){return 2===w.requestStatus&&!function z2(w){const H=Date.now();return H<w.creationTime||w.creationTime+w.expiresIn<H+ye}(w)}(le))return W;if(1===le.requestStatus)return S=function oe(w,H){return X.apply(this,arguments)}(w,H),W;{if(!navigator.onLine)throw Je.create("app-offline");const $e=function E2(w){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:H})}(W);return S=function it(w,H){return Ge.apply(this,arguments)}(w,$e),$e}});return S?yield S:A.authToken}),Oi.apply(this,arguments)}function X(){return(X=(0,N.Z)(function*(w,H){let S=yield ze(w.appConfig);for(;1===S.authToken.requestStatus;)yield B1(100),S=yield ze(w.appConfig);const A=S.authToken;return 0===A.requestStatus?qn(w,H):A})).apply(this,arguments)}function ze(w){return Q1(w,H=>{if(!xt(H))throw Je.create("not-registered");return function r1(w){return 1===w.requestStatus&&w.requestTime+oi<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function Ge(){return Ge=(0,N.Z)(function*(w,H){try{const S=yield function Ut(w,H){return T2.apply(this,arguments)}(w,H),A=Object.assign(Object.assign({},H),{authToken:S});return yield U2(w.appConfig,A),S}catch(S){if(!je(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const A=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield U2(w.appConfig,A)}else yield x1(w.appConfig);throw S}}),Ge.apply(this,arguments)}function xt(w){return void 0!==w&&2===w.registrationStatus}function ci(){return(ci=(0,N.Z)(function*(w){const H=w,{installationEntry:S,registrationPromise:A}=yield F(H);return A?A.catch(console.error):qn(H).catch(console.error),S.fid})).apply(this,arguments)}function Fi(){return Fi=(0,N.Z)(function*(w,H=!1){const S=w;return yield function N3(w){return J1.apply(this,arguments)}(S),(yield qn(S,H)).token}),Fi.apply(this,arguments)}function J1(){return(J1=(0,N.Z)(function*(w){const{registrationPromise:H}=yield F(w);H&&(yield H)})).apply(this,arguments)}function li(w){return Je.create("missing-app-config-values",{valueName:w})}const P3="installations",c0=w=>{const H=w.getProvider("app").getImmediate(),S=function A1(w){if(!w||!w.options)throw li("App Configuration");if(!w.name)throw li("App Name");const H=["projectId","apiKey","appId"];for(const S of H)if(!w.options[S])throw li(S);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(H);return{app:H,appConfig:S,heartbeatServiceProvider:(0,se._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},Er=w=>{const H=w.getProvider("app").getImmediate(),S=(0,se._getProvider)(H,P3).getImmediate();return{getId:()=>function Ln(w){return ci.apply(this,arguments)}(S),getToken:U=>function T3(w){return Fi.apply(this,arguments)}(S,U)}};(function ec(){(0,se._registerComponent)(new me.wA(P3,c0,"PUBLIC")),(0,se._registerComponent)(new me.wA("installations-internal",Er,"PRIVATE"))})(),(0,se.registerVersion)(jn,V2),(0,se.registerVersion)(jn,V2,"esm2017");const Ui="@firebase/remote-config",l1=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mt{constructor(H,S,A,U){this.client=H,this.storage=S,this.storageCache=A,this.logger=U}isCachedDataFresh(H,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const A=Date.now()-S,U=A<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${A}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${U}.`),U}fetch(H){var S=this;return(0,N.Z)(function*(){const[A,U]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(U&&S.isCachedDataFresh(H.cacheMaxAgeMillis,A))return U;H.eTag=U&&U.eTag;const W=yield S.client.fetch(H),le=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&le.push(S.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(le),W})()}}function l2(w=navigator){return w.languages&&w.languages[0]||w.language}class M1{constructor(H,S,A,U,W,le){this.firebaseInstallations=H,this.sdkVersion=S,this.namespace=A,this.projectId=U,this.apiKey=W,this.appId=le}fetch(H){var S=this;return(0,N.Z)(function*(){const[A,U]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},Ne={sdk_version:S.sdkVersion,app_instance_id:A,app_instance_id_token:U,app_id:S.appId,language_code:l2()},Fe={method:"POST",headers:$e,body:JSON.stringify(Ne)},zt=fetch(le,Fe),bt=new Promise((on,Zr)=>{H.signal.addEventListener(()=>{const p3=new Error("The operation was aborted.");p3.name="AbortError",Zr(p3)})});let $1;try{yield Promise.race([zt,bt]),$1=yield zt}catch(on){let Zr="fetch-client-network";throw"AbortError"===on?.name&&(Zr="fetch-timeout"),l1.create(Zr,{originalErrorMessage:on?.message})}let Y2=$1.status;const Si=$1.headers.get("ETag")||void 0;let p4,Kr;if(200===$1.status){let on;try{on=yield $1.json()}catch(Zr){throw l1.create("fetch-client-parse",{originalErrorMessage:Zr?.message})}p4=on.entries,Kr=on.state}if("INSTANCE_STATE_UNSPECIFIED"===Kr?Y2=500:"NO_CHANGE"===Kr?Y2=304:("NO_TEMPLATE"===Kr||"EMPTY_CONFIG"===Kr)&&(p4={}),304!==Y2&&200!==Y2)throw l1.create("fetch-status",{httpStatus:Y2});return{status:Y2,eTag:Si,config:p4}})()}}class Gi{constructor(H,S){this.client=H,this.storage=S}fetch(H){var S=this;return(0,N.Z)(function*(){const A=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(H,A)})()}attemptFetch(H,{throttleEndTimeMillis:S,backoffCount:A}){var U=this;return(0,N.Z)(function*(){yield function Lr(w,H){return new Promise((S,A)=>{const U=Math.max(H-Date.now(),0),W=setTimeout(S,U);w.addEventListener(()=>{clearTimeout(W),A(l1.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,S);try{const W=yield U.client.fetch(H);return yield U.storage.deleteThrottleMetadata(),W}catch(W){if(!function i1(w){if(!(w instanceof ne.ZR&&w.customData))return!1;const H=Number(w.customData.httpStatus);return 429===H||500===H||503===H||504===H}(W))throw W;const le={throttleEndTimeMillis:Date.now()+(0,ne.$s)(A),backoffCount:A+1};return yield U.storage.setThrottleMetadata(le),U.attemptFetch(H,le)}})()}}class fi{constructor(H,S,A,U,W){this.app=H,this._client=S,this._storageCache=A,this._storage=U,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vt(w,H){const S=w.target.error||void 0;return l1.create(H,{originalErrorMessage:S&&S?.message})}const s1="app_namespace_store";class B3{constructor(H,S,A,U=function f2(){return new Promise((w,H)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=A=>{H(Vt(A,"storage-open"))},S.onsuccess=A=>{w(A.target.result)},S.onupgradeneeded=A=>{0===A.oldVersion&&A.target.result.createObjectStore(s1,{keyPath:"compositeKey"})}}catch(S){H(l1.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=H,this.appName=S,this.namespace=A,this.openDbPromise=U}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var S=this;return(0,N.Z)(function*(){const A=yield S.openDbPromise;return new Promise((U,W)=>{const $e=A.transaction([s1],"readonly").objectStore(s1),Ne=S.createCompositeKey(H);try{const Fe=$e.get(Ne);Fe.onerror=zt=>{W(Vt(zt,"storage-get"))},Fe.onsuccess=zt=>{const bt=zt.target.result;U(bt?bt.value:void 0)}}catch(Fe){W(l1.create("storage-get",{originalErrorMessage:Fe?.message}))}})})()}set(H,S){var A=this;return(0,N.Z)(function*(){const U=yield A.openDbPromise;return new Promise((W,le)=>{const Ne=U.transaction([s1],"readwrite").objectStore(s1),Fe=A.createCompositeKey(H);try{const zt=Ne.put({compositeKey:Fe,value:S});zt.onerror=bt=>{le(Vt(bt,"storage-set"))},zt.onsuccess=()=>{W()}}catch(zt){le(l1.create("storage-set",{originalErrorMessage:zt?.message}))}})})()}delete(H){var S=this;return(0,N.Z)(function*(){const A=yield S.openDbPromise;return new Promise((U,W)=>{const $e=A.transaction([s1],"readwrite").objectStore(s1),Ne=S.createCompositeKey(H);try{const Fe=$e.delete(Ne);Fe.onerror=zt=>{W(Vt(zt,"storage-delete"))},Fe.onsuccess=()=>{U()}}catch(Fe){W(l1.create("storage-delete",{originalErrorMessage:Fe?.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class Dr{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,N.Z)(function*(){const S=H.storage.getLastFetchStatus(),A=H.storage.getLastSuccessfulFetchTimestampMillis(),U=H.storage.getActiveConfig(),W=yield S;W&&(H.lastFetchStatus=W);const le=yield A;le&&(H.lastSuccessfulFetchTimestampMillis=le);const $e=yield U;$e&&(H.activeConfig=$e)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function or(){return nn.apply(this,arguments)}function nn(){return(nn=(0,N.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function a1(){(0,se._registerComponent)(new me.wA("remote-config",function w(H,{instanceIdentifier:S}){const A=H.getProvider("app").getImmediate(),U=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw l1.create("registration-window");if(!(0,ne.hl)())throw l1.create("indexed-db-unavailable");const{projectId:W,apiKey:le,appId:$e}=A.options;if(!W)throw l1.create("registration-project-id");if(!le)throw l1.create("registration-api-key");if(!$e)throw l1.create("registration-app-id");const Ne=new B3($e,A.name,S=S||"firebase"),Fe=new Dr(Ne),zt=new ge.Yd(Ui);zt.logLevel=ge.in.ERROR;const bt=new M1(U,se.SDK_VERSION,S,W,le,$e),$1=new Gi(bt,Ne),Y2=new Mt($1,Ne,Fe,zt),Si=new fi(A,Y2,Fe,Ne,zt);return function y1(w){const H=(0,ne.m9)(w);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(Si),Si},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Ui,"0.4.4"),(0,se.registerVersion)(Ui,"0.4.4","esm2017")}();const Ts=(w,H)=>H.some(S=>w instanceof S);let xr,Tt;const Ns=new WeakMap,G2=new WeakMap,Ar=new WeakMap,q2=new WeakMap,cr=new WeakMap;let W2={get(w,H,S){if(w instanceof IDBTransaction){if("done"===H)return G2.get(w);if("objectStoreNames"===H)return w.objectStoreNames||Ar.get(w);if("store"===H)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return U1(w[H])},set:(w,H,S)=>(w[H]=S,!0),has:(w,H)=>w instanceof IDBTransaction&&("done"===H||"store"===H)||H in w};function Tr(w){return"function"==typeof w?function ks(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function di(){return Tt||(Tt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...H){return w.apply(T1(this),H),U1(Ns.get(this))}:function(...H){return U1(w.apply(T1(this),H))}:function(H,...S){const A=w.call(T1(this),H,...S);return Ar.set(A,H.sort?H.sort():[H]),U1(A)}}(w):(w instanceof IDBTransaction&&function rc(w){if(G2.has(w))return;const H=new Promise((S,A)=>{const U=()=>{w.removeEventListener("complete",W),w.removeEventListener("error",le),w.removeEventListener("abort",le)},W=()=>{S(),U()},le=()=>{A(w.error||new DOMException("AbortError","AbortError")),U()};w.addEventListener("complete",W),w.addEventListener("error",le),w.addEventListener("abort",le)});G2.set(w,H)}(w),Ts(w,function l0(){return xr||(xr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,W2):w)}function U1(w){if(w instanceof IDBRequest)return function o1(w){const H=new Promise((S,A)=>{const U=()=>{w.removeEventListener("success",W),w.removeEventListener("error",le)},W=()=>{S(U1(w.result)),U()},le=()=>{A(w.error),U()};w.addEventListener("success",W),w.addEventListener("error",le)});return H.then(S=>{S instanceof IDBCursor&&Ns.set(S,w)}).catch(()=>{}),cr.set(H,w),H}(w);if(q2.has(w))return q2.get(w);const H=Tr(w);return H!==w&&(q2.set(w,H),cr.set(H,w)),H}const T1=w=>cr.get(w);function hi(w,H,{blocked:S,upgrade:A,blocking:U,terminated:W}={}){const le=indexedDB.open(w,H),$e=U1(le);return A&&le.addEventListener("upgradeneeded",Ne=>{A(U1(le.result),Ne.oldVersion,Ne.newVersion,U1(le.transaction))}),S&&le.addEventListener("blocked",()=>S()),$e.then(Ne=>{W&&Ne.addEventListener("close",()=>W()),U&&Ne.addEventListener("versionchange",()=>U())}).catch(()=>{}),$e}function pi(w,{blocked:H}={}){const S=indexedDB.deleteDatabase(w);return H&&S.addEventListener("blocked",()=>H()),U1(S).then(()=>{})}const U3=["get","getKey","getAll","getAllKeys","count"],u0=["put","add","delete","clear"],Ps=new Map;function j3(w,H){if(!(w instanceof IDBDatabase)||H in w||"string"!=typeof H)return;if(Ps.get(H))return Ps.get(H);const S=H.replace(/FromIndex$/,""),A=H!==S,U=u0.includes(S);if(!(S in(A?IDBIndex:IDBObjectStore).prototype)||!U&&!U3.includes(S))return;const W=function(){var le=(0,N.Z)(function*($e,...Ne){const Fe=this.transaction($e,U?"readwrite":"readonly");let zt=Fe.store;return A&&(zt=zt.index(Ne.shift())),(yield Promise.all([zt[S](...Ne),U&&Fe.done]))[0]});return function(Ne){return le.apply(this,arguments)}}();return Ps.set(H,W),W}!function _1(w){W2=w(W2)}(w=>({...w,get:(H,S,A)=>j3(H,S)||w.get(H,S,A),has:(H,S)=>!!j3(H,S)||w.has(H,S)}));const na="/firebase-messaging-sw.js",$3="/firebase-cloud-messaging-push-scope",ra="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",f0="https://fcmregistrations.googleapis.com/v1",d2="google.c.a.c_id",d0="google.c.a.c_l",ic="google.c.a.ts";var ia=function(w){return w.PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",w}(ia||{});function Yn(w){const H=new Uint8Array(w);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function G3(w){const S=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),A=atob(S),U=new Uint8Array(A.length);for(let W=0;W<A.length;++W)U[W]=A.charCodeAt(W);return U}const mi="fcm_token_details_db",q3=5,qi="fcm_token_object_Store";function Wi(){return Wi=(0,N.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(mi))return null;let H=null;return(yield hi(mi,q3,{upgrade:(A=(0,N.Z)(function*(U,W,le,$e){var Ne;if(W<2||!U.objectStoreNames.contains(qi))return;const Fe=$e.objectStore(qi),zt=yield Fe.index("fcmSenderId").get(w);if(yield Fe.clear(),zt)if(2===W){const bt=zt;if(!bt.auth||!bt.p256dh||!bt.endpoint)return;H={token:bt.fcmToken,createTime:null!==(Ne=bt.createTime)&&void 0!==Ne?Ne:Date.now(),subscriptionOptions:{auth:bt.auth,p256dh:bt.p256dh,endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:"string"==typeof bt.vapidKey?bt.vapidKey:Yn(bt.vapidKey)}}}else if(3===W){const bt=zt;H={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Yn(bt.auth),p256dh:Yn(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Yn(bt.vapidKey)}}}else if(4===W){const bt=zt;H={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Yn(bt.auth),p256dh:Yn(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Yn(bt.vapidKey)}}}}),function(W,le,$e,Ne){return A.apply(this,arguments)})})).close(),yield pi(mi),yield pi("fcm_vapid_details_db"),yield pi("undefined"),function Nr(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:H}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}(H)?H:null;var A}),Wi.apply(this,arguments)}const Rs="firebase-messaging-database",sa=1,w1="firebase-messaging-store";let Os=null;function Fs(){return Os||(Os=hi(Rs,sa,{upgrade:(w,H)=>{0===H&&w.createObjectStore(w1)}})),Os}function W3(w){return gi.apply(this,arguments)}function gi(){return gi=(0,N.Z)(function*(w){const H=H2(w),A=yield(yield Fs()).transaction(w1).objectStore(w1).get(H);if(A)return A;{const U=yield function Yl(w){return Wi.apply(this,arguments)}(w.appConfig.senderId);if(U)return yield ac(w,U),U}}),gi.apply(this,arguments)}function ac(w,H){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,N.Z)(function*(w,H){const S=H2(w),U=(yield Fs()).transaction(w1,"readwrite");return yield U.objectStore(w1).put(H,S),yield U.done,H})).apply(this,arguments)}function kr(){return(kr=(0,N.Z)(function*(w){const H=H2(w),A=(yield Fs()).transaction(w1,"readwrite");yield A.objectStore(w1).delete(H),yield A.done})).apply(this,arguments)}function H2({appConfig:w}){return w.appId}const b1=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Us(w,H){return js.apply(this,arguments)}function js(){return(js=(0,N.Z)(function*(w,H){const S=yield K3(w),A=cc(H),U={method:"POST",headers:S,body:JSON.stringify(A)};let W;try{W=yield(yield fetch(vi(w.appConfig),U)).json()}catch(le){throw b1.create("token-subscribe-failed",{errorInfo:le?.toString()})}if(W.error)throw b1.create("token-subscribe-failed",{errorInfo:W.error.message});if(!W.token)throw b1.create("token-subscribe-no-token");return W.token})).apply(this,arguments)}function aa(){return(aa=(0,N.Z)(function*(w,H){const S=yield K3(w),A=cc(H.subscriptionOptions),U={method:"PATCH",headers:S,body:JSON.stringify(A)};let W;try{W=yield(yield fetch(`${vi(w.appConfig)}/${H.token}`,U)).json()}catch(le){throw b1.create("token-update-failed",{errorInfo:le?.toString()})}if(W.error)throw b1.create("token-update-failed",{errorInfo:W.error.message});if(!W.token)throw b1.create("token-update-no-token");return W.token})).apply(this,arguments)}function oa(w,H){return $s.apply(this,arguments)}function $s(){return($s=(0,N.Z)(function*(w,H){const A={method:"DELETE",headers:yield K3(w)};try{const W=yield(yield fetch(`${vi(w.appConfig)}/${H}`,A)).json();if(W.error)throw b1.create("token-unsubscribe-failed",{errorInfo:W.error.message})}catch(U){throw b1.create("token-unsubscribe-failed",{errorInfo:U?.toString()})}})).apply(this,arguments)}function vi({projectId:w}){return`${f0}/projects/${w}/registrations`}function K3(w){return lr.apply(this,arguments)}function lr(){return(lr=(0,N.Z)(function*({appConfig:w,installations:H}){const S=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function cc({p256dh:w,auth:H,endpoint:S,vapidKey:A}){const U={web:{endpoint:S,auth:H,p256dh:w}};return A!==ra&&(U.web.applicationPubKey=A),U}const lc=6048e5;function Gs(){return Gs=(0,N.Z)(function*(w){const H=yield function Zi(w,H){return qs.apply(this,arguments)}(w.swRegistration,w.vapidKey),S={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:H.endpoint,auth:Yn(H.getKey("auth")),p256dh:Yn(H.getKey("p256dh"))},A=yield W3(w.firebaseDependencies);if(A){if(function Ws(w,H){return H.vapidKey===w.vapidKey&&H.endpoint===w.endpoint&&H.auth===w.auth&&H.p256dh===w.p256dh}(A.subscriptionOptions,S))return Date.now()>=A.createTime+lc?function uc(w,H){return yi.apply(this,arguments)}(w,{token:A.token,createTime:Date.now(),subscriptionOptions:S}):A.token;try{yield oa(w.firebaseDependencies,A.token)}catch(U){console.warn(U)}return ua(w.firebaseDependencies,S)}return ua(w.firebaseDependencies,S)}),Gs.apply(this,arguments)}function la(){return la=(0,N.Z)(function*(w){const H=yield W3(w.firebaseDependencies);H&&(yield oa(w.firebaseDependencies,H.token),yield function Dn(w){return kr.apply(this,arguments)}(w.firebaseDependencies));const S=yield w.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),la.apply(this,arguments)}function yi(){return yi=(0,N.Z)(function*(w,H){try{const S=yield function Ki(w,H){return aa.apply(this,arguments)}(w.firebaseDependencies,H),A=Object.assign(Object.assign({},H),{token:S,createTime:Date.now()});return yield ac(w.firebaseDependencies,A),S}catch(S){throw yield function ca(w){return la.apply(this,arguments)}(w),S}}),yi.apply(this,arguments)}function ua(w,H){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,N.Z)(function*(w,H){const A={token:yield Us(w,H),createTime:Date.now(),subscriptionOptions:H};return yield ac(w,A),A.token})).apply(this,arguments)}function qs(){return(qs=(0,N.Z)(function*(w,H){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:G3(H)})})).apply(this,arguments)}function Ci(w){const H={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Z3(w,H){if(!H.notification)return;w.notification={};const S=H.notification.title;S&&(w.notification.title=S);const A=H.notification.body;A&&(w.notification.body=A);const U=H.notification.image;U&&(w.notification.image=U);const W=H.notification.icon;W&&(w.notification.icon=W)}(H,w),function Ks(w,H){H.data&&(w.data=H.data)}(H,w),function Qn(w,H){var S,A,U,W,le;if(!(H.fcmOptions||null!==(S=H.notification)&&void 0!==S&&S.click_action))return;w.fcmOptions={};const $e=null!==(U=null===(A=H.fcmOptions)||void 0===A?void 0:A.link)&&void 0!==U?U:null===(W=H.notification)||void 0===W?void 0:W.click_action;$e&&(w.fcmOptions.link=$e);const Ne=null===(le=H.fcmOptions)||void 0===le?void 0:le.analytics_label;Ne&&(w.fcmOptions.analyticsLabel=Ne)}(H,w),H}function Y3(w,H){const S=[];for(let A=0;A<w.length;A++)S.push(w.charAt(A)),A<H.length&&S.push(H.charAt(A));return S.join("")}function Q3(w){return b1.create("missing-app-config-values",{valueName:w})}Y3("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Y3("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zs{constructor(H,S,A){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const U=function e2(w){if(!w||!w.options)throw Q3("App Configuration Object");if(!w.name)throw Q3("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:S}=w;for(const A of H)if(!S[A])throw Q3(A);return{appName:w.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:U,installations:S,analyticsProvider:A}}_delete(){return Promise.resolve()}}function X3(){return(X3=(0,N.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(na,{scope:$3}),w.swRegistration.update().catch(()=>{})}catch(H){throw b1.create("failed-service-worker-registration",{browserErrorMessage:H?.message})}})).apply(this,arguments)}function rn(){return(rn=(0,N.Z)(function*(w,H){if(!H&&!w.swRegistration&&(yield function u1(w){return X3.apply(this,arguments)}(w)),H||!w.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw b1.create("invalid-sw-registration");w.swRegistration=H}})).apply(this,arguments)}function Yi(){return(Yi=(0,N.Z)(function*(w,H){H?w.vapidKey=H:w.vapidKey||(w.vapidKey=ra)})).apply(this,arguments)}function e4(){return e4=(0,N.Z)(function*(w,H){if(!navigator)throw b1.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw b1.create("permission-blocked");return yield function L2(w,H){return Yi.apply(this,arguments)}(w,H?.vapidKey),yield function J3(w,H){return rn.apply(this,arguments)}(w,H?.serviceWorkerRegistration),function Ql(w){return Gs.apply(this,arguments)}(w)}),e4.apply(this,arguments)}function t4(){return(t4=(0,N.Z)(function*(w,H,S){const A=function dc(w){switch(w){case ia.NOTIFICATION_CLICKED:return"notification_open";case ia.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(H);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(A,{message_id:S[d2],message_name:S[d0],message_time:S[ic],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Rr(){return Rr=(0,N.Z)(function*(w,H){const S=H.data;if(!S.isFirebaseMessaging)return;w.onMessageHandler&&S.messageType===ia.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Ci(S)):w.onMessageHandler.next(Ci(S)));const A=S.data;(function fc(w){return"object"==typeof w&&!!w&&d2 in w})(A)&&"1"===A["google.c.a.e"]&&(yield function ur(w,H,S){return t4.apply(this,arguments)}(w,S.messageType,A))}),Rr.apply(this,arguments)}const Or="@firebase/messaging",It=w=>{const H=new Zs(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function n4(w,H){return Rr.apply(this,arguments)}(H,S)),H},Ys=w=>{const H=w.getProvider("messaging").getImmediate();return{getToken:A=>function fa(w,H){return e4.apply(this,arguments)}(H,A)}};function Qs(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,N.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function h0(){(0,se._registerComponent)(new me.wA("messaging",It,"PUBLIC")),(0,se._registerComponent)(new me.wA("messaging-internal",Ys,"PRIVATE")),(0,se.registerVersion)(Or,"0.12.4"),(0,se.registerVersion)(Or,"0.12.4","esm2017")}();const fe="analytics",qt="firebase_id",i4="origin",pc=6e4,D2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Js="https://www.googletagmanager.com/gtag/js",M2=new ge.Yd("@firebase/analytics"),K2=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Br(w){if(!w.startsWith(Js)){const H=K2.create("invalid-gtag-resource",{gtagURL:w});return M2.warn(H.message),""}return w}function pa(w){return Promise.all(w.map(H=>H.catch(S=>S)))}function Mi(){return(Mi=(0,N.Z)(function*(w,H,S,A,U,W){const le=A[U];try{if(le)yield H[le];else{const Ne=(yield pa(S)).find(Fe=>Fe.measurementId===U);Ne&&(yield H[Ne.appId])}}catch($e){M2.error($e)}w("config",U,W)})).apply(this,arguments)}function vn(){return(vn=(0,N.Z)(function*(w,H,S,A,U){try{let W=[];if(U&&U.send_to){let le=U.send_to;Array.isArray(le)||(le=[le]);const $e=yield pa(S);for(const Ne of le){const Fe=$e.find(bt=>bt.measurementId===Ne),zt=Fe&&H[Fe.appId];if(!zt){W=[];break}W.push(zt)}}0===W.length&&(W=Object.values(H)),yield Promise.all(W),w("event",A,U||{})}catch(W){M2.error(W)}})).apply(this,arguments)}const g0=30,a4=new class Ur{constructor(H={},S=1e3){this.throttleMetadata=H,this.intervalMillis=S}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,S){this.throttleMetadata[H]=S}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function ga(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function o4(){return(o4=(0,N.Z)(function*(w){var H;const{appId:S,apiKey:A}=w,U={method:"GET",headers:ga(A)},W=D2.replace("{app-id}",S),le=yield fetch(W,U);if(200!==le.status&&304!==le.status){let $e="";try{const Ne=yield le.json();null!==(H=Ne.error)&&void 0!==H&&H.message&&($e=Ne.error.message)}catch{}throw K2.create("config-fetch-failed",{httpStatus:le.status,responseMessage:$e})}return le.json()})).apply(this,arguments)}function _i(){return(_i=(0,N.Z)(function*(w,H=a4,S){const{appId:A,apiKey:U,measurementId:W}=w.options;if(!A)throw K2.create("no-app-id");if(!U){if(W)return{measurementId:W,appId:A};throw K2.create("no-api-key")}const le=H.getThrottleMetadata(A)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Ma;return setTimeout((0,N.Z)(function*(){$e.abort()}),void 0!==S?S:pc),ya({appId:A,apiKey:U,measurementId:W},le,$e,H)})).apply(this,arguments)}function ya(w,H,S){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,N.Z)(function*(w,{throttleEndTimeMillis:H,backoffCount:S},A,U=a4){var W;const{appId:le,measurementId:$e}=w;try{yield function Ca(w,H){return new Promise((S,A)=>{const U=Math.max(H-Date.now(),0),W=setTimeout(S,U);w.addEventListener(()=>{clearTimeout(W),A(K2.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(A,H)}catch(Ne){if($e)return M2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${Ne?.message}]`),{appId:le,measurementId:$e};throw Ne}try{const Ne=yield function v0(w){return o4.apply(this,arguments)}(w);return U.deleteThrottleMetadata(le),Ne}catch(Ne){const Fe=Ne;if(!function wi(w){if(!(w instanceof ne.ZR&&w.customData))return!1;const H=Number(w.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Fe)){if(U.deleteThrottleMetadata(le),$e)return M2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${Fe?.message}]`),{appId:le,measurementId:$e};throw Ne}const zt=503===Number(null===(W=Fe?.customData)||void 0===W?void 0:W.httpStatus)?(0,ne.$s)(S,U.intervalMillis,g0):(0,ne.$s)(S,U.intervalMillis),bt={throttleEndTimeMillis:Date.now()+zt,backoffCount:S+1};return U.setThrottleMetadata(le,bt),M2.debug(`Calling attemptFetch again in ${zt} millis`),ya(w,bt,A,U)}}),Ji.apply(this,arguments)}class Ma{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let _a,Hi;function dr(){return(dr=(0,N.Z)(function*(w,H,S,A,U){if(U&&U.global)w("event",S,A);else{const W=yield H;w("event",S,Object.assign(Object.assign({},A),{send_to:W}))}})).apply(this,arguments)}function n3(){return(n3=(0,N.Z)(function*(){if(!(0,ne.hl)())return M2.warn(K2.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(w){return M2.warn(K2.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function $r(){return $r=(0,N.Z)(function*(w,H,S,A,U,W,le){var $e;const Ne=function va(w){return _i.apply(this,arguments)}(w);Ne.then(Y2=>{S[Y2.measurementId]=Y2.appId,w.options.measurementId&&Y2.measurementId!==w.options.measurementId&&M2.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Y2.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Y2=>M2.error(Y2)),H.push(Ne);const Fe=function ts(){return n3.apply(this,arguments)}().then(Y2=>{if(Y2)return A.getId()}),[zt,bt]=yield Promise.all([Ne,Fe]);(function ma(w){const H=window.document.getElementsByTagName("script");for(const S of Object.values(H))if(S.src&&S.src.includes(Js)&&S.src.includes(w))return S;return null})(W)||function t3(w,H){const S=function e3(w,H){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(w,H)),S}("firebase-js-sdk-policy",{createScriptURL:Br}),A=document.createElement("script"),U=`${Js}?l=${w}&id=${H}`;A.src=S?S?.createScriptURL(U):U,A.async=!0,document.head.appendChild(A)}(W,zt.measurementId),Hi&&(U("consent","default",Hi),function jr(w){Hi=w}(void 0)),U("js",new Date);const $1=null!==($e=le?.config)&&void 0!==$e?$e:{};return $1[i4]="firebase",$1.update=!0,null!=bt&&($1[qt]=bt),U("config",zt.measurementId,$1),_a&&(U("set",_a),function mr(w){_a=w}(void 0)),zt.measurementId}),$r.apply(this,arguments)}class j1{constructor(H){this.app=H}_delete(){return delete f1[this.app.options.appId],Promise.resolve()}}let f1={},Ha=[];const Va={};let i3,xn,Vi="dataLayer",Ia=!1;function Gr(w,H,S){!function u4(){const w=[];if((0,ne.ru)()&&w.push("This is a browser extension environment."),(0,ne.zI)()||w.push("Cookies are not available."),w.length>0){const H=w.map((A,U)=>`(${U+1}) ${A}`).join(" "),S=K2.create("invalid-analytics-context",{errorInfo:H});M2.warn(S.message)}}();const A=w.options.appId;if(!A)throw K2.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw K2.create("no-api-key");M2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=f1[A])throw K2.create("already-exists",{id:A});if(!Ia){!function N1(w){let H=[];Array.isArray(window[w])?H=window[w]:window[w]=H}(Vi);const{wrappedGtag:W,gtagCore:le}=function Xi(w,H,S,A,U){let W=function(...le){window[A].push(arguments)};return window[U]&&"function"==typeof window[U]&&(W=window[U]),window[U]=function s4(w,H,S,A){function W(){return W=(0,N.Z)(function*(le,...$e){try{if("event"===le){const[Ne,Fe]=$e;yield function H1(w,H,S,A,U){return vn.apply(this,arguments)}(w,H,S,Ne,Fe)}else if("config"===le){const[Ne,Fe]=$e;yield function gn(w,H,S,A,U,W){return Mi.apply(this,arguments)}(w,H,S,A,Ne,Fe)}else if("consent"===le){const[Ne]=$e;w("consent","update",Ne)}else if("get"===le){const[Ne,Fe,zt]=$e;w("get",Ne,Fe,zt)}else if("set"===le){const[Ne]=$e;w("set",Ne)}else w(le,...$e)}catch(Ne){M2.error(Ne)}}),W.apply(this,arguments)}return function U(le){return W.apply(this,arguments)}}(W,w,H,S),{gtagCore:W,wrappedGtag:window[U]}}(f1,Ha,Va,Vi,"gtag");xn=W,i3=le,Ia=!0}return f1[A]=function r3(w,H,S,A,U,W,le){return $r.apply(this,arguments)}(w,Ha,Va,H,i3,Vi,S),new j1(w)}function ns(){return gr.apply(this,arguments)}function gr(){return(gr=(0,N.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Ii="@firebase/analytics";!function yc(){(0,se._registerComponent)(new me.wA(fe,(H,{options:S})=>Gr(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,se._registerComponent)(new me.wA("analytics-internal",function w(H){try{const S=H.getProvider(fe).getImmediate();return{logEvent:(A,U,W)=>function rs(w,H,S,A){w=(0,ne.m9)(w),function k1(w,H,S,A,U){return dr.apply(this,arguments)}(xn,f1[w.app.options.appId],H,S,A).catch(U=>M2.error(U))}(S,A,U,W)}}catch(S){throw K2.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,se.registerVersion)(Ii,"0.10.0"),(0,se.registerVersion)(Ii,"0.10.0","esm2017")}();var o3=T(1954),Da=T(2631);const Cc=new class ss extends Da.v{}(class d4 extends o3.o{constructor(H,S){super(H,S),this.scheduler=H,this.work=S}schedule(H,S=0){return S>0?super.schedule(H,S):(this.delay=S,this.state=H,this.scheduler.flush(this),this)}execute(H,S){return S>0||this.closed?super.execute(H,S):this._execute(H,S)}requestAsyncId(H,S,A=0){return null!=A&&A>0||null==A&&this.delay>0?super.requestAsyncId(H,S,A):(H.flush(this),0)}});var An=T(6321),Mc=T(4674),c3=T(9360),as=T(8251),vr=T(2737),Z2=T(5137),_c=T(3093);const Aa=new M.GfV("7.6.1"),zi="__angularfire_symbol__analyticsIsSupportedValue",l3="__angularfire_symbol__analyticsIsSupported",u3="__angularfire_symbol__remoteConfigIsSupportedValue",Wr="__angularfire_symbol__remoteConfigIsSupported",Tn="__angularfire_symbol__messagingIsSupportedValue",Xn="__angularfire_symbol__messagingIsSupported";function wc(w,H,S){if(H){if(1===H.length)return H[0];const W=H.filter(le=>le.app===S);if(1===W.length)return W[0]}return S.container.getProvider(w).getImmediate({optional:!0})}globalThis[l3]||(globalThis[l3]=ns().then(w=>globalThis[zi]=w).catch(()=>globalThis[zi]=!1)),globalThis[Xn]||(globalThis[Xn]=Qs().then(w=>globalThis[Tn]=w).catch(()=>globalThis[Tn]=!1)),globalThis[Wr]||(globalThis[Wr]=or().then(w=>globalThis[u3]=w).catch(()=>globalThis[u3]=!1));const Na=(w,H)=>{const S=H?[H]:(0,J.C6)(),A=[];return S.forEach(U=>{U.container.getProvider(w).instances.forEach(le=>{A.includes(le)||A.push(le)})}),A};function cs(){}class d3{constructor(H,S=Cc){this.zone=H,this.delegate=S}now(){return this.delegate.now()}schedule(H,S,A){const U=this.zone;return this.delegate.schedule(function(le){U.runGuarded(()=>{H.apply(this,[le])})},S,A)}}class bc{constructor(H){this.zone=H,this.task=null}call(H,S){const A=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs)),S.pipe(function xa(w,H,S){const A=(0,Mc.m)(w)||H||S?{next:w,error:H,complete:S}:w;return A?(0,c3.e)((U,W)=>{var le;null===(le=A.subscribe)||void 0===le||le.call(A);let $e=!0;U.subscribe((0,as.x)(W,Ne=>{var Fe;null===(Fe=A.next)||void 0===Fe||Fe.call(A,Ne),W.next(Ne)},()=>{var Ne;$e=!1,null===(Ne=A.complete)||void 0===Ne||Ne.call(A),W.complete()},Ne=>{var Fe;$e=!1,null===(Fe=A.error)||void 0===Fe||Fe.call(A,Ne),W.error(Ne)},()=>{var Ne,Fe;$e&&(null===(Ne=A.unsubscribe)||void 0===Ne||Ne.call(A)),null===(Fe=A.finalize)||void 0===Fe||Fe.call(A)}))}):vr.y}({next:A,complete:A,error:A})).subscribe(H).add(A)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let M0=(()=>{class w{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new d3(Zone.current)),this.insideAngular=S.run(()=>new d3(Zone.current,An.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(S){return new(S||w)(M.LFG(M.R0b))},w.\u0275prov=M.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Ei(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function x2(w){return Ei(),function h3(w){return function(S){return(S=S.lift(new bc(w.ngZone))).pipe((0,Z2.R)(w.outsideAngular),(0,_c.Q)(w.insideAngular))}}(Ei())(w)}},9058:(ht,Se,T)=>{T.d(Se,{$s:()=>x1,BH:()=>Q,G6:()=>$n,L:()=>we,LL:()=>Ve,Pz:()=>he,Sg:()=>He,UG:()=>re,US:()=>me,ZB:()=>ie,ZR:()=>be,aH:()=>Y,b$:()=>e1,eu:()=>ue,hl:()=>ae,jU:()=>ct,m9:()=>X1,ne:()=>r2,pd:()=>Rt,r3:()=>Jt,ru:()=>Pt,tV:()=>R,uI:()=>We,vZ:()=>F1,w1:()=>jn,xO:()=>Pi,xb:()=>O1,z$:()=>xe,zI:()=>ye,zd:()=>mt});const se=function(F){const P=[];let G=0;for(let Me=0;Me<F.length;Me++){let ee=F.charCodeAt(Me);ee<128?P[G++]=ee:ee<2048?(P[G++]=ee>>6|192,P[G++]=63&ee|128):55296==(64512&ee)&&Me+1<F.length&&56320==(64512&F.charCodeAt(Me+1))?(ee=65536+((1023&ee)<<10)+(1023&F.charCodeAt(++Me)),P[G++]=ee>>18|240,P[G++]=ee>>12&63|128,P[G++]=ee>>6&63|128,P[G++]=63&ee|128):(P[G++]=ee>>12|224,P[G++]=ee>>6&63|128,P[G++]=63&ee|128)}return P},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,P){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let ee=0;ee<F.length;ee+=3){const Ke=F[ee],Et=ee+1<F.length,wt=Et?F[ee+1]:0,$2=ee+2<F.length,Lt=$2?F[ee+2]:0;let T2=(15&wt)<<2|Lt>>6,Sn=63&Lt;$2||(Sn=64,Et||(T2=64)),Me.push(G[Ke>>2],G[(3&Ke)<<4|wt>>4],G[T2],G[Sn])}return Me.join("")},encodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(F):this.encodeByteArray(se(F),P)},decodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(F):function(F){const P=[];let G=0,Me=0;for(;G<F.length;){const ee=F[G++];if(ee<128)P[Me++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Ke=F[G++];P[Me++]=String.fromCharCode((31&ee)<<6|63&Ke)}else if(ee>239&&ee<365){const $2=((7&ee)<<18|(63&F[G++])<<12|(63&F[G++])<<6|63&F[G++])-65536;P[Me++]=String.fromCharCode(55296+($2>>10)),P[Me++]=String.fromCharCode(56320+(1023&$2))}else{const Ke=F[G++],Et=F[G++];P[Me++]=String.fromCharCode((15&ee)<<12|(63&Ke)<<6|63&Et)}}return P.join("")}(this.decodeStringToByteArray(F,P))},decodeStringToByteArray(F,P){this.init_();const G=P?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let ee=0;ee<F.length;){const Ke=G[F.charAt(ee++)],wt=ee<F.length?G[F.charAt(ee)]:0;++ee;const Lt=ee<F.length?G[F.charAt(ee)]:64;++ee;const Ut=ee<F.length?G[F.charAt(ee)]:64;if(++ee,null==Ke||null==wt||null==Lt||null==Ut)throw new ge;Me.push(Ke<<2|wt>>4),64!==Lt&&(Me.push(wt<<4&240|Lt>>2),64!==Ut&&Me.push(Lt<<6&192|Ut))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(F){return function(F){const P=se(F);return me.encodeByteArray(P,!0)}(F).replace(/\./g,"")},R=function(F){try{return me.decodeString(F,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function ie(F,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return P}for(const G in P)!P.hasOwnProperty(G)||!qe(G)||(F[G]=ie(F[G],P[G]));return F}function qe(F){return"__proto__"!==F}const Oe=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=F&&R(F[1]);return P&&JSON.parse(P)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Y=()=>{var F;return null===(F=Oe())||void 0===F?void 0:F.config},he=F=>{var P;return null===(P=Oe())||void 0===P?void 0:P[`_${F}`]};class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,G)=>{this.resolve=P,this.reject=G})}wrapCallback(P){return(G,Me)=>{G?this.reject(G):this.resolve(Me),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(G):P(G,Me))}}}function He(F,P){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=P||"demo-project",ee=F.iat||0,Ke=F.sub||F.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:ee,exp:ee+3600,auth_time:ee,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},F);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(Et)),""].join(".")}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function We(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function re(){var F;const P=null===(F=Oe())||void 0===F?void 0:F.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ct(){return"object"==typeof self&&self.self===self}function Pt(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function e1(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function jn(){const F=xe();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function $n(){return!re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function ue(){return new Promise((F,P)=>{try{let G=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(Me);ee.onsuccess=()=>{ee.result.close(),G||self.indexedDB.deleteDatabase(Me),F(!0)},ee.onupgradeneeded=()=>{G=!1},ee.onerror=()=>{var Ke;P((null===(Ke=ee.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(G){P(G)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class be extends Error{constructor(P,G,Me){super(G),this.code=P,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(P,G,Me){this.service=P,this.serviceName=G,this.errors=Me}create(P,...G){const Me=G[0]||{},ee=`${this.service}/${P}`,Ke=this.errors[P],Et=Ke?function Je(F,P){return F.replace(je,(G,Me)=>{const ee=P[Me];return null!=ee?String(ee):`<${Me}?>`})}(Ke,Me):"Error";return new be(ee,`${this.serviceName}: ${Et} (${ee}).`,Me)}}const je=/\{\$([^}]+)}/g;function Jt(F,P){return Object.prototype.hasOwnProperty.call(F,P)}function O1(F){for(const P in F)if(Object.prototype.hasOwnProperty.call(F,P))return!1;return!0}function F1(F,P){if(F===P)return!0;const G=Object.keys(F),Me=Object.keys(P);for(const ee of G){if(!Me.includes(ee))return!1;const Ke=F[ee],Et=P[ee];if(B1(Ke)&&B1(Et)){if(!F1(Ke,Et))return!1}else if(Ke!==Et)return!1}for(const ee of Me)if(!G.includes(ee))return!1;return!0}function B1(F){return null!==F&&"object"==typeof F}function Pi(F){const P=[];for(const[G,Me]of Object.entries(F))Array.isArray(Me)?Me.forEach(ee=>{P.push(encodeURIComponent(G)+"="+encodeURIComponent(ee))}):P.push(encodeURIComponent(G)+"="+encodeURIComponent(Me));return P.length?"&"+P.join("&"):""}function mt(F){const P={};return F.replace(/^\?/,"").split("&").forEach(Me=>{if(Me){const[ee,Ke]=Me.split("=");P[decodeURIComponent(ee)]=decodeURIComponent(Ke)}}),P}function Rt(F){const P=F.indexOf("?");if(!P)return"";const G=F.indexOf("#",P);return F.substring(P,G>0?G:void 0)}function r2(F,P){const G=new m2(F,P);return G.subscribe.bind(G)}class m2{constructor(P,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{P(this)}).catch(Me=>{this.error(Me)})}next(P){this.forEachObserver(G=>{G.next(P)})}error(P){this.forEachObserver(G=>{G.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,G,Me){let ee;if(void 0===P&&void 0===G&&void 0===Me)throw new Error("Missing Observer.");ee=function Yt(F,P){if("object"!=typeof F||null===F)return!1;for(const G of P)if(G in F&&"function"==typeof F[G])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:G,complete:Me},void 0===ee.next&&(ee.next=n1),void 0===ee.error&&(ee.error=n1),void 0===ee.complete&&(ee.complete=n1);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Ke}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,P)}sendOne(P,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{G(this.observers[P])}catch(Me){typeof console<"u"&&console.error&&console.error(Me)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n1(){}const sr=1e3,mn=2,U2=144e5,j2=.5;function x1(F,P=sr,G=mn){const Me=P*Math.pow(G,F),ee=Math.round(j2*Me*(Math.random()-.5)*2);return Math.min(U2,Me+ee)}function X1(F){return F&&F._delegate?F._delegate:F}},5453:(ht,Se,T)=>{var M=T(7989);let J=null;function N(){return J}class ne{}const me=new M.OlP("DocumentToken");let u2=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({}),e})();function Kn(n){return"server"===n}class qs extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ws extends qs{static makeCurrent(){!function se(n){J||(J=n)}(new Ws)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Z3(){return Ci=Ci||document.querySelector("base"),Ci?Ci.getAttribute("href"):null}();return null==t?null:function Qn(n){Ks=Ks||document.createElement("a"),Ks.setAttribute("href",n);const e=Ks.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ci=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ln(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Ks,Ci=null,Y3=(()=>{var n;class e{build(){return new XMLHttpRequest}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),e})();const e2=new M.OlP("EventManagerPlugins");let Q3=(()=>{var n;class e{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(l=>{l.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,a,l){return this._findPluginFor(a).addEventListener(r,a,l)}getZone(){return this._zone}_findPluginFor(r){let a=this._eventNameToPlugin.get(r);if(a)return a;if(a=this._plugins.find(f=>f.supports(r)),!a)throw new M.vHH(5101,!1);return this._eventNameToPlugin.set(r,a),a}}return(n=e).\u0275fac=function(r){return new(r||n)(M.LFG(e2),M.LFG(M.R0b))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),e})();class Zs{constructor(e){this._doc=e}}const u1="ng-app-id";let X3=(()=>{var n;class e{constructor(r,a,l,f={}){this.doc=r,this.appId=a,this.nonce=l,this.platformId=f,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Kn(f),this.resetHostNodes()}addStyles(r){for(const a of r)1===this.changeUsageCount(a,1)&&this.onStyleAdded(a)}removeStyles(r){for(const a of r)this.changeUsageCount(a,-1)<=0&&this.onStyleRemoved(a)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(a=>a.remove()),r.clear());for(const a of this.getAllStyles())this.onStyleRemoved(a);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const a of this.getAllStyles())this.addStyleToHost(r,a)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const a of this.hostNodes)this.addStyleToHost(a,r)}onStyleRemoved(r){const a=this.styleRef;a.get(r)?.elements?.forEach(l=>l.remove()),a.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${u1}="${this.appId}"]`);if(r?.length){const a=new Map;return r.forEach(l=>{null!=l.textContent&&a.set(l.textContent,l)}),a}return null}changeUsageCount(r,a){const l=this.styleRef;if(l.has(r)){const f=l.get(r);return f.usage+=a,f.usage}return l.set(r,{usage:a,elements:[]}),a}getStyleElement(r,a){const l=this.styleNodesInDOM,f=l?.get(a);if(f?.parentNode===r)return l.delete(a),f.removeAttribute(u1),f;{const m=this.doc.createElement("style");return this.nonce&&m.setAttribute("nonce",this.nonce),m.textContent=a,this.platformIsServer&&m.setAttribute(u1,this.appId),m}}addStyleToHost(r,a){const l=this.getStyleElement(r,a);r.appendChild(l);const f=this.styleRef,m=f.get(a)?.elements;m?m.push(l):f.set(a,{elements:[l],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(n=e).\u0275fac=function(r){return new(r||n)(M.LFG(me),M.LFG(M.AFp),M.LFG(M.Ojb,8),M.LFG(M.Lbi))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),e})();const J3={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rn=/%COMP%/g,ur=new M.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function n4(n,e){return e.map(t=>t.replace(rn,n))}let Rr=(()=>{var n;class e{constructor(r,a,l,f,m,_,V,E=null){this.eventManager=r,this.sharedStylesHost=a,this.appId=l,this.removeStylesOnCompDestroy=f,this.doc=m,this.platformId=_,this.ngZone=V,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=Kn(_),this.defaultRenderer=new Or(r,m,V,this.platformIsServer)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===M.ifc.ShadowDom&&(a={...a,encapsulation:M.ifc.Emulated});const l=this.getOrCreateRenderer(r,a);return l instanceof Xs?l.applyToHost(r):l instanceof Qs&&l.applyStyles(),l}getOrCreateRenderer(r,a){const l=this.rendererByCompId;let f=l.get(a.id);if(!f){const m=this.doc,_=this.ngZone,V=this.eventManager,E=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,O=this.platformIsServer;switch(a.encapsulation){case M.ifc.Emulated:f=new Xs(V,E,a,this.appId,x,m,_,O);break;case M.ifc.ShadowDom:return new h0(V,E,r,a,m,_,this.nonce,O);default:f=new Qs(V,E,a,x,m,_,O)}l.set(a.id,f)}return f}ngOnDestroy(){this.rendererByCompId.clear()}}return(n=e).\u0275fac=function(r){return new(r||n)(M.LFG(Q3),M.LFG(X3),M.LFG(M.AFp),M.LFG(ur),M.LFG(me),M.LFG(M.Lbi),M.LFG(M.R0b),M.LFG(M.Ojb))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),e})();class Or{constructor(e,t,r,a){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(J3[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Ys(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ys(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new M.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const l=J3[a];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=J3[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(M.JOm.DashCase|M.JOm.Important)?e.style.setProperty(t,r,a&M.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&M.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=N().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Ys(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class h0 extends Or{constructor(e,t,r,a,l,f,m,_){super(e,l,f,_),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const V=n4(a.id,a.styles);for(const E of V){const x=document.createElement("style");m&&x.setAttribute("nonce",m),x.textContent=E,this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qs extends Or{constructor(e,t,r,a,l,f,m,_){super(e,l,f,m),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=a,this.styles=_?n4(_,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xs extends Qs{constructor(e,t,r,a,l,f,m,_){const V=a+"-"+r.id;super(e,t,r,l,f,m,_,V),this.contentAttr=function t4(n){return"_ngcontent-%COMP%".replace(rn,n)}(V),this.hostAttr=function dc(n){return"_nghost-%COMP%".replace(rn,n)}(V)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let p0=(()=>{var n;class e extends Zs{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,l){return r.addEventListener(a,l,!1),()=>this.removeEventListener(r,a,l)}removeEventListener(r,a,l){return r.removeEventListener(a,l)}}return(n=e).\u0275fac=function(r){return new(r||n)(M.LFG(me))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),e})();const fr=["alt","control","meta","shift"],Qi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let m0=(()=>{var n;class e extends Zs{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,a,l){const f=e.parseEventName(a),m=e.eventCallback(f.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(r,f.domEventName,m))}static parseEventName(r){const a=r.toLowerCase().split("."),l=a.shift();if(0===a.length||"keydown"!==l&&"keyup"!==l)return null;const f=e._normalizeKey(a.pop());let m="",_=a.indexOf("code");if(_>-1&&(a.splice(_,1),m="code."),fr.forEach(E=>{const x=a.indexOf(E);x>-1&&(a.splice(x,1),m+=E+".")}),m+=f,0!=a.length||0===f.length)return null;const V={};return V.domEventName=l,V.fullKey=m,V}static matchEventFullKeyCode(r,a){let l=Qi[r.key]||r.key,f="";return a.indexOf("code.")>-1&&(l=r.code,f="code."),!(null==l||!l)&&(l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),fr.forEach(m=>{m!==l&&(0,Fr[m])(r)&&(f+=m+".")}),f+=l,f===a)}static eventCallback(r,a,l){return f=>{e.matchEventFullKeyCode(f,r)&&l.runGuarded(()=>a(f))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(n=e).\u0275fac=function(r){return new(r||n)(M.LFG(me))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),e})();const Js=(0,M.eFA)(M._c5,"browser",[{provide:M.Lbi,useValue:"browser"},{provide:M.g9A,useValue:function qt(){Ws.makeCurrent()},multi:!0},{provide:me,useFactory:function pc(){return(0,M.RDi)(document),document},deps:[]}]),M2=new M.OlP(""),sn=[{provide:M.rWj,useClass:class fc{addToWindow(e){M.dqk.getAngularTestability=(r,a=!0)=>{const l=e.findTestabilityInTree(r,a);if(null==l)throw new M.vHH(5103,!1);return l},M.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),M.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),M.dqk.frameworkStabilizers||(M.dqk.frameworkStabilizers=[]),M.dqk.frameworkStabilizers.push(r=>{const a=M.dqk.getAllAngularTestabilities();let l=a.length,f=!1;const m=function(_){f=f||_,l--,0==l&&r(f)};a.forEach(_=>{_.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:M.lri,useClass:M.dDg,deps:[M.R0b,M.eoX,M.rWj]},{provide:M.dDg,useClass:M.dDg,deps:[M.R0b,M.eoX,M.rWj]}],K2=[{provide:M.zSh,useValue:"root"},{provide:M.qLn,useFactory:function i4(){return new M.qLn},deps:[]},{provide:e2,useClass:p0,multi:!0,deps:[me,M.R0b,M.Lbi]},{provide:e2,useClass:m0,multi:!0,deps:[me]},Rr,X3,Q3,{provide:M.FYo,useExisting:Rr},{provide:class nn{},useClass:Y3,deps:[]},[]];let Br=(()=>{var n;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:M.AFp,useValue:r.appId}]}}}return(n=e).\u0275fac=function(r){return new(r||n)(M.LFG(M2,12))},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({providers:[...K2,...sn],imports:[u2,M.hGG]}),e})();typeof window<"u"&&window;let Ji=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=M.Yz7({token:n,factory:function(r){let a=null;return a=r?new(r||n):M.LFG(wi),a},providedIn:"root"}),e})(),wi=(()=>{var n;class e extends Ji{constructor(r){super(),this._doc=r}sanitize(r,a){if(null==a)return null;switch(r){case M.q3G.NONE:return a;case M.q3G.HTML:return(0,M.qzn)(a,"HTML")?(0,M.z3N)(a):(0,M.EiD)(this._doc,String(a)).toString();case M.q3G.STYLE:return(0,M.qzn)(a,"Style")?(0,M.z3N)(a):a;case M.q3G.SCRIPT:if((0,M.qzn)(a,"Script"))return(0,M.z3N)(a);throw new M.vHH(5200,!1);case M.q3G.URL:return(0,M.qzn)(a,"URL")?(0,M.z3N)(a):(0,M.mCW)(String(a));case M.q3G.RESOURCE_URL:if((0,M.qzn)(a,"ResourceURL"))return(0,M.z3N)(a);throw new M.vHH(5201,!1);default:throw new M.vHH(5202,!1)}}bypassSecurityTrustHtml(r){return(0,M.JVY)(r)}bypassSecurityTrustStyle(r){return(0,M.L6k)(r)}bypassSecurityTrustScript(r){return(0,M.eBb)(r)}bypassSecurityTrustUrl(r){return(0,M.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,M.pB0)(r)}}return(n=e).\u0275fac=function(r){return new(r||n)(M.LFG(me))},n.\u0275prov=M.Yz7({token:n,factory:function(r){let a=null;return a=r?new r:function Ca(n){return new wi(n.get(me))}(M.LFG(M.zs3)),a},providedIn:"root"}),e})();var C5={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},ch={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},Xu={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},o7={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},B7={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},Dx={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},PV={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function oT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function ut(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?oT(Object(t),!0).forEach(function(r){W1(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oT(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sv(n){return(sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function cT(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function W1(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GV(n,e){return function HY(n){if(Array.isArray(n))return n}(n)||function IY(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var f,m,r=[],a=!0,l=!1;try{for(t=t.call(n);!(a=(f=t.next()).done)&&(r.push(f.value),!e||r.length!==e);a=!0);}catch(_){l=!0,m=_}finally{try{!a&&null!=t.return&&t.return()}finally{if(l)throw m}}return r}}(n,e)||lT(n,e)||function EY(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q7(n){return function bY(n){if(Array.isArray(n))return qV(n)}(n)||function VY(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||lT(n)||function zY(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lT(n,e){if(n){if("string"==typeof n)return qV(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qV(n,e)}}function qV(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var uT=function(){},WV={},fT={},dT=null,hT={mark:uT,measure:uT};try{typeof window<"u"&&(WV=window),typeof document<"u"&&(fT=document),typeof MutationObserver<"u"&&(dT=MutationObserver),typeof performance<"u"&&(hT=performance)}catch{}var cv,lv,uv,fv,dv,pT=(WV.navigator||{}).userAgent,mT=void 0===pT?"":pT,Vo=WV,N2=fT,gT=dT,ov=hT,R4=!!N2.documentElement&&!!N2.head&&"function"==typeof N2.addEventListener&&"function"==typeof N2.createElement,vT=~mT.indexOf("MSIE")||~mT.indexOf("Trident/"),O4="___FONT_AWESOME___",yT="fa",CT="svg-inline--fa",z6="data-fa-i2svg",ZV="data-fa-pseudo-element",LY="data-fa-pseudo-element-pending",YV="data-prefix",QV="data-icon",MT="fontawesome-i2svg",DY="async",xY=["HTML","HEAD","STYLE","SCRIPT"],_T=function(){try{return!0}catch{return!1}}(),k2="classic",d1="sharp",XV=[k2,d1];function W7(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[k2]}})}var K7=W7((W1(cv={},k2,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),W1(cv,d1,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),cv)),Z7=W7((W1(lv={},k2,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),W1(lv,d1,{solid:"fass",regular:"fasr",light:"fasl"}),lv)),Y7=W7((W1(uv={},k2,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),W1(uv,d1,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),uv)),AY=W7((W1(fv={},k2,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),W1(fv,d1,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),fv)),TY=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,wT="fa-layers-text",NY=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,kY=W7((W1(dv={},k2,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),W1(dv,d1,{900:"fass",400:"fasr",300:"fasl"}),dv)),bT=[1,2,3,4,5,6,7,8,9,10],PY=bT.concat([11,12,13,14,15,16,17,18,19,20]),RY=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],E6={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Q7=new Set;Object.keys(Z7[k2]).map(Q7.add.bind(Q7)),Object.keys(Z7[d1]).map(Q7.add.bind(Q7));var OY=[].concat(XV,q7(Q7),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",E6.GROUP,E6.SWAP_OPACITY,E6.PRIMARY,E6.SECONDARY]).concat(bT.map(function(n){return"".concat(n,"x")})).concat(PY.map(function(n){return"w-".concat(n)})),X7=Vo.FontAwesomeConfig||{};N2&&"function"==typeof N2.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=GV(n,2),r=e[1],a=function BY(n){return""===n||"false"!==n&&("true"===n||n)}(function FY(n){var e=N2.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=a&&(X7[r]=a)});var HT={styleDefault:"solid",familyDefault:"classic",cssPrefix:yT,replacementClass:CT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};X7.familyPrefix&&(X7.cssPrefix=X7.familyPrefix);var sl=ut(ut({},HT),X7);sl.autoReplaceSvg||(sl.observeMutations=!1);var yt={};Object.keys(HT).forEach(function(n){Object.defineProperty(yt,n,{enumerable:!0,set:function(t){sl[n]=t,J7.forEach(function(r){return r(yt)})},get:function(){return sl[n]}})}),Object.defineProperty(yt,"familyPrefix",{enumerable:!0,set:function(e){sl.cssPrefix=e,J7.forEach(function(t){return t(yt)})},get:function(){return sl.cssPrefix}}),Vo.FontAwesomeConfig=yt;var J7=[],H3={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},GY="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ef(){for(var n=12,e="";n-- >0;)e+=GY[62*Math.random()|0];return e}function al(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function JV(n){return n.classList?al(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function VT(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hv(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function eI(n){return n.size!==H3.size||n.x!==H3.x||n.y!==H3.y||n.rotate!==H3.rotate||n.flipX||n.flipY}var ZY=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function IT(){var n=yT,e=CT,t=yt.cssPrefix,r=yt.replacementClass,a=ZY;if(t!==n||r!==e){var l=new RegExp("\\.".concat(n,"\\-"),"g"),f=new RegExp("\\--".concat(n,"\\-"),"g"),m=new RegExp("\\.".concat(e),"g");a=a.replace(l,".".concat(t,"-")).replace(f,"--".concat(t,"-")).replace(m,".".concat(r))}return a}var zT=!1;function tI(){yt.autoAddCss&&!zT&&(function $Y(n){if(n&&R4){var e=N2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=N2.head.childNodes,r=null,a=t.length-1;a>-1;a--){var l=t[a],f=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(f)>-1&&(r=l)}N2.head.insertBefore(e,r)}}(IT()),zT=!0)}var YY={mixout:function(){return{dom:{css:IT,insertCss:tI}}},hooks:function(){return{beforeDOMElementCreation:function(){tI()},beforeI2svg:function(){tI()}}}},F4=Vo||{};F4[O4]||(F4[O4]={}),F4[O4].styles||(F4[O4].styles={}),F4[O4].hooks||(F4[O4].hooks={}),F4[O4].shims||(F4[O4].shims=[]);var ws=F4[O4],ET=[],pv=!1;function tf(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,a=n.children,l=void 0===a?[]:a;return"string"==typeof n?VT(n):"<".concat(e," ").concat(function qY(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(VT(n[t]),'" ')},"").trim()}(r),">").concat(l.map(tf).join(""),"</").concat(e,">")}function ST(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}R4&&((pv=(N2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(N2.readyState))||N2.addEventListener("DOMContentLoaded",function n(){N2.removeEventListener("DOMContentLoaded",n),pv=1,ET.map(function(e){return e()})}));var nI=function(e,t,r,a){var _,V,E,l=Object.keys(e),f=l.length,m=void 0!==a?function(e,t){return function(r,a,l,f){return e.call(t,r,a,l,f)}}(t,a):t;for(void 0===r?(_=1,E=e[l[0]]):(_=0,E=r);_<f;_++)E=m(E,e[V=l[_]],V,e);return E};function rI(n){var e=function eQ(n){for(var e=[],t=0,r=n.length;t<r;){var a=n.charCodeAt(t++);if(a>=55296&&a<=56319&&t<r){var l=n.charCodeAt(t++);56320==(64512&l)?e.push(((1023&a)<<10)+(1023&l)+65536):(e.push(a),t--)}else e.push(a)}return e}(n);return 1===e.length?e[0].toString(16):null}function LT(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function iI(n,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,a=void 0!==r&&r,l=LT(e);"function"!=typeof ws.hooks.addPack||a?ws.styles[n]=ut(ut({},ws.styles[n]||{}),l):ws.hooks.addPack(n,LT(e)),"fas"===n&&iI("fa",e)}var mv,gv,vv,ol=ws.styles,nQ=ws.shims,rQ=(W1(mv={},k2,Object.values(Y7[k2])),W1(mv,d1,Object.values(Y7[d1])),mv),sI=null,DT={},xT={},AT={},TT={},NT={},iQ=(W1(gv={},k2,Object.keys(K7[k2])),W1(gv,d1,Object.keys(K7[d1])),gv);var kT=function(){var e=function(l){return nI(ol,function(f,m,_){return f[_]=nI(m,l,{}),f},{})};DT=e(function(a,l,f){return l[3]&&(a[l[3]]=f),l[2]&&l[2].filter(function(_){return"number"==typeof _}).forEach(function(_){a[_.toString(16)]=f}),a}),xT=e(function(a,l,f){return a[f]=f,l[2]&&l[2].filter(function(_){return"string"==typeof _}).forEach(function(_){a[_]=f}),a}),NT=e(function(a,l,f){var m=l[2];return a[f]=f,m.forEach(function(_){a[_]=f}),a});var t="far"in ol||yt.autoFetchSvg,r=nI(nQ,function(a,l){var f=l[0],m=l[1],_=l[2];return"far"===m&&!t&&(m="fas"),"string"==typeof f&&(a.names[f]={prefix:m,iconName:_}),"number"==typeof f&&(a.unicodes[f.toString(16)]={prefix:m,iconName:_}),a},{names:{},unicodes:{}});AT=r.names,TT=r.unicodes,sI=yv(yt.styleDefault,{family:yt.familyDefault})};function aI(n,e){return(DT[n]||{})[e]}function S6(n,e){return(NT[n]||{})[e]}function PT(n){return AT[n]||{prefix:null,iconName:null}}function zo(){return sI}(function jY(n){J7.push(n)})(function(n){sI=yv(n.styleDefault,{family:yt.familyDefault})}),kT();var oI=function(){return{prefix:null,iconName:null,rest:[]}};function yv(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===t?k2:t;return Z7[r][n]||Z7[r][K7[r][n]]||(n in ws.styles?n:null)||null}var RT=(W1(vv={},k2,Object.keys(Y7[k2])),W1(vv,d1,Object.keys(Y7[d1])),vv);function Cv(n){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,a=void 0!==r&&r,l=(W1(e={},k2,"".concat(yt.cssPrefix,"-").concat(k2)),W1(e,d1,"".concat(yt.cssPrefix,"-").concat(d1)),e),f=null,m=k2;(n.includes(l[k2])||n.some(function(V){return RT[k2].includes(V)}))&&(m=k2),(n.includes(l[d1])||n.some(function(V){return RT[d1].includes(V)}))&&(m=d1);var _=n.reduce(function(V,E){var x=function aQ(n,e){var t=e.split("-"),r=t[0],a=t.slice(1).join("-");return r!==n||""===a||function sQ(n){return~OY.indexOf(n)}(a)?null:a}(yt.cssPrefix,E);if(ol[E]?(E=rQ[m].includes(E)?AY[m][E]:E,f=E,V.prefix=E):iQ[m].indexOf(E)>-1?(f=E,V.prefix=yv(E,{family:m})):x?V.iconName=x:E!==yt.replacementClass&&E!==l[k2]&&E!==l[d1]&&V.rest.push(E),!a&&V.prefix&&V.iconName){var O="fa"===f?PT(V.iconName):{},q=S6(V.prefix,V.iconName);O.prefix&&(f=null),V.iconName=O.iconName||q||V.iconName,V.prefix=O.prefix||V.prefix,"far"===V.prefix&&!ol.far&&ol.fas&&!yt.autoFetchSvg&&(V.prefix="fas")}return V},oI());return(n.includes("fa-brands")||n.includes("fab"))&&(_.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(_.prefix="fad"),!_.prefix&&m===d1&&(ol.fass||yt.autoFetchSvg)&&(_.prefix="fass",_.iconName=S6(_.prefix,_.iconName)||_.iconName),("fa"===_.prefix||"fa"===f)&&(_.prefix=zo()||"fas"),_}var lQ=function(){function n(){(function MY(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function _Y(n,e,t){e&&cT(n.prototype,e),t&&cT(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];var f=a.reduce(this._pullDefinitions,{});Object.keys(f).forEach(function(m){t.definitions[m]=ut(ut({},t.definitions[m]||{}),f[m]),iI(m,f[m]);var _=Y7[k2][m];_&&iI(_,f[m]),kT()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var a=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(a).map(function(l){var f=a[l],m=f.prefix,_=f.iconName,V=f.icon,E=V[2];t[m]||(t[m]={}),E.length>0&&E.forEach(function(x){"string"==typeof x&&(t[m][x]=V)}),t[m][_]=V}),t}}]),n}(),OT=[],cl={},ll={},uQ=Object.keys(ll);function cI(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),a=2;a<t;a++)r[a-2]=arguments[a];return(cl[n]||[]).forEach(function(f){e=f.apply(null,[e].concat(r))}),e}function L6(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(cl[n]||[]).forEach(function(l){l.apply(null,t)})}function B4(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return ll[n]?ll[n].apply(null,e):void 0}function lI(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||zo();if(e)return e=S6(t,e)||e,ST(FT.definitions,t,e)||ST(ws.styles,t,e)}var FT=new lQ,hQ={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R4?(L6("beforeI2svg",e),B4("pseudoElements2svg",e),B4("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===yt.autoReplaceSvg&&(yt.autoReplaceSvg=!0),yt.observeMutations=!0,function XY(n){R4&&(pv?setTimeout(n,0):ET.push(n))}(function(){mQ({autoReplaceSvgRoot:t}),L6("watch",e)})}},ni={noAuto:function(){yt.autoReplaceSvg=!1,yt.observeMutations=!1,L6("noAuto")},config:yt,dom:hQ,parse:{icon:function(e){if(null===e)return null;if("object"===sv(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:S6(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=yv(e[0]);return{prefix:r,iconName:S6(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(yt.cssPrefix,"-"))>-1||e.match(TY))){var a=Cv(e.split(" "),{skipLookups:!0});return{prefix:a.prefix||zo(),iconName:S6(a.prefix,a.iconName)||a.iconName}}if("string"==typeof e){var l=zo();return{prefix:l,iconName:S6(l,e)||e}}}},library:FT,findIconDefinition:lI,toHtml:tf},mQ=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===t?N2:t;(Object.keys(ws.styles).length>0||yt.autoFetchSvg)&&R4&&yt.autoReplaceSvg&&ni.dom.i2svg({node:r})};function Mv(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return tf(r)})}}),Object.defineProperty(n,"node",{get:function(){if(R4){var r=N2.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function uI(n){var e=n.icons,t=e.main,r=e.mask,a=n.prefix,l=n.iconName,f=n.transform,m=n.symbol,_=n.title,V=n.maskId,E=n.titleId,x=n.extra,O=n.watchable,q=void 0!==O&&O,de=r.found?r:t,Ae=de.width,Pe=de.height,ft="fak"===a,lt=[yt.replacementClass,l?"".concat(yt.cssPrefix,"-").concat(l):""].filter(function(Es){return-1===x.classes.indexOf(Es)}).filter(function(Es){return""!==Es||!!Es}).concat(x.classes).join(" "),st={children:[],attributes:ut(ut({},x.attributes),{},{"data-prefix":a,"data-icon":l,class:lt,role:x.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Ae," ").concat(Pe)})},vt=ft&&!~x.classes.indexOf("fa-fw")?{width:"".concat(Ae/Pe*16*.0625,"em")}:{};q&&(st.attributes[z6]=""),_&&(st.children.push({tag:"title",attributes:{id:st.attributes["aria-labelledby"]||"title-".concat(E||ef())},children:[_]}),delete st.attributes.title);var Ht=ut(ut({},st),{},{prefix:a,iconName:l,main:t,mask:r,maskId:V,transform:f,symbol:m,styles:ut(ut({},vt),x.styles)}),Bt=r.found&&t.found?B4("generateAbstractMask",Ht)||{children:[],attributes:{}}:B4("generateAbstractIcon",Ht)||{children:[],attributes:{}},zs=Bt.attributes;return Ht.children=Bt.children,Ht.attributes=zs,m?function vQ(n){var t=n.iconName,r=n.children,a=n.attributes,l=n.symbol,f=!0===l?"".concat(n.prefix,"-").concat(yt.cssPrefix,"-").concat(t):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ut(ut({},a),{},{id:f}),children:r}]}]}(Ht):function gQ(n){var e=n.children,t=n.main,r=n.mask,a=n.attributes,l=n.styles,f=n.transform;if(eI(f)&&t.found&&!r.found){var V={x:t.width/t.height/2,y:.5};a.style=hv(ut(ut({},l),{},{"transform-origin":"".concat(V.x+f.x/16,"em ").concat(V.y+f.y/16,"em")}))}return[{tag:"svg",attributes:a,children:e}]}(Ht)}function BT(n){var e=n.content,t=n.width,r=n.height,a=n.transform,l=n.title,f=n.extra,m=n.watchable,_=void 0!==m&&m,V=ut(ut(ut({},f.attributes),l?{title:l}:{}),{},{class:f.classes.join(" ")});_&&(V[z6]="");var E=ut({},f.styles);eI(a)&&(E.transform=function KY(n){var e=n.transform,t=n.width,a=n.height,l=void 0===a?16:a,f=n.startCentered,m=void 0!==f&&f,_="";return _+=m&&vT?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-l/2,"em) "):m?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(_+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:a,startCentered:!0,width:t,height:r}),E["-webkit-transform"]=E.transform);var x=hv(E);x.length>0&&(V.style=x);var O=[];return O.push({tag:"span",attributes:V,children:[e]}),l&&O.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),O}var fI=ws.styles;function dI(n){var e=n[0],t=n[1],l=GV(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(l)?{tag:"g",attributes:{class:"".concat(yt.cssPrefix,"-").concat(E6.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat(E6.SECONDARY),fill:"currentColor",d:l[0]}},{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat(E6.PRIMARY),fill:"currentColor",d:l[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:l}}}}var CQ={found:!1,width:512,height:512};function hI(n,e){var t=e;return"fa"===e&&null!==yt.styleDefault&&(e=zo()),new Promise(function(r,a){if(B4("missingIconAbstract"),"fa"===t){var f=PT(n)||{};n=f.iconName||n,e=f.prefix||e}if(n&&e&&fI[e]&&fI[e][n])return r(dI(fI[e][n]));(function MQ(n,e){!_T&&!yt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(ut(ut({},CQ),{},{icon:yt.showMissingIcons&&n&&B4("missingIconAbstract")||{}}))})}var UT=function(){},pI=yt.measurePerformance&&ov&&ov.mark&&ov.measure?ov:{mark:UT,measure:UT},nf='FA "6.4.2"',jT=function(e){pI.mark("".concat(nf," ").concat(e," ends")),pI.measure("".concat(nf," ").concat(e),"".concat(nf," ").concat(e," begins"),"".concat(nf," ").concat(e," ends"))},mI={begin:function(e){return pI.mark("".concat(nf," ").concat(e," begins")),function(){return jT(e)}},end:jT},_v=function(){};function $T(n){return"string"==typeof(n.getAttribute?n.getAttribute(z6):null)}function VQ(n){return N2.createElementNS("http://www.w3.org/2000/svg",n)}function IQ(n){return N2.createElement(n)}function GT(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===t?"svg"===n.tag?VQ:IQ:t;if("string"==typeof n)return N2.createTextNode(n);var a=r(n.tag);return Object.keys(n.attributes||[]).forEach(function(f){a.setAttribute(f,n.attributes[f])}),(n.children||[]).forEach(function(f){a.appendChild(GT(f,{ceFn:r}))}),a}var wv={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(a){t.parentNode.insertBefore(GT(a),t)}),null===t.getAttribute(z6)&&yt.keepOriginalSource){var r=N2.createComment(function zQ(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~JV(t).indexOf(yt.replacementClass))return wv.replace(e);var a=new RegExp("".concat(yt.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var l=r[0].attributes.class.split(" ").reduce(function(m,_){return _===yt.replacementClass||_.match(a)?m.toSvg.push(_):m.toNode.push(_),m},{toNode:[],toSvg:[]});r[0].attributes.class=l.toSvg.join(" "),0===l.toNode.length?t.removeAttribute("class"):t.setAttribute("class",l.toNode.join(" "))}var f=r.map(function(m){return tf(m)}).join("\n");t.setAttribute(z6,""),t.innerHTML=f}};function qT(n){n()}function WT(n,e){var t="function"==typeof e?e:_v;if(0===n.length)t();else{var r=qT;yt.mutateApproach===DY&&(r=Vo.requestAnimationFrame||qT),r(function(){var a=function HQ(){return!0===yt.autoReplaceSvg?wv.replace:wv[yt.autoReplaceSvg]||wv.replace}(),l=mI.begin("mutate");n.map(a),l(),t()})}}var gI=!1;function KT(){gI=!0}function vI(){gI=!1}var bv=null;function ZT(n){if(gT&&yt.observeMutations){var e=n.treeCallback,t=void 0===e?_v:e,r=n.nodeCallback,a=void 0===r?_v:r,l=n.pseudoElementsCallback,f=void 0===l?_v:l,m=n.observeMutationsRoot,_=void 0===m?N2:m;bv=new gT(function(V){if(!gI){var E=zo();al(V).forEach(function(x){if("childList"===x.type&&x.addedNodes.length>0&&!$T(x.addedNodes[0])&&(yt.searchPseudoElements&&f(x.target),t(x.target)),"attributes"===x.type&&x.target.parentNode&&yt.searchPseudoElements&&f(x.target.parentNode),"attributes"===x.type&&$T(x.target)&&~RY.indexOf(x.attributeName))if("class"===x.attributeName&&function wQ(n){var e=n.getAttribute?n.getAttribute(YV):null,t=n.getAttribute?n.getAttribute(QV):null;return e&&t}(x.target)){var O=Cv(JV(x.target)),de=O.iconName;x.target.setAttribute(YV,O.prefix||E),de&&x.target.setAttribute(QV,de)}else(function bQ(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(yt.replacementClass)})(x.target)&&a(x.target)})}}),R4&&bv.observe(_,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function YT(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=function LQ(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",a=Cv(JV(n));return a.prefix||(a.prefix=zo()),e&&t&&(a.prefix=e,a.iconName=t),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=function oQ(n,e){return(xT[n]||{})[e]}(a.prefix,n.innerText)||aI(a.prefix,rI(n.innerText))),!a.iconName&&yt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=n.firstChild.data)),a}(n),r=t.iconName,a=t.prefix,l=t.rest,f=function DQ(n){var e=al(n.attributes).reduce(function(a,l){return"class"!==a.name&&"style"!==a.name&&(a[l.name]=l.value),a},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return yt.autoA11y&&(t?e["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(r||ef()):(e["aria-hidden"]="true",e.focusable="false")),e}(n),m=cI("parseNodeAttributes",{},n),_=e.styleParser?function SQ(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,a){var l=a.split(":"),f=l[0],m=l.slice(1);return f&&m.length>0&&(r[f]=m.join(":").trim()),r},{})),t}(n):[];return ut({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:a,transform:H3,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:l,styles:_,attributes:f}},m)}var AQ=ws.styles;function QT(n){var e="nest"===yt.autoReplaceSvg?YT(n,{styleParser:!1}):YT(n);return~e.extra.classes.indexOf(wT)?B4("generateLayersText",n,e):B4("generateSvgReplacementMutation",n,e)}var Eo=new Set;function XT(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!R4)return Promise.resolve();var t=N2.documentElement.classList,r=function(x){return t.add("".concat(MT,"-").concat(x))},a=function(x){return t.remove("".concat(MT,"-").concat(x))},l=yt.autoFetchSvg?Eo:XV.map(function(E){return"fa-".concat(E)}).concat(Object.keys(AQ));l.includes("fa")||l.push("fa");var f=[".".concat(wT,":not([").concat(z6,"])")].concat(l.map(function(E){return".".concat(E,":not([").concat(z6,"])")})).join(", ");if(0===f.length)return Promise.resolve();var m=[];try{m=al(n.querySelectorAll(f))}catch{}if(!(m.length>0))return Promise.resolve();r("pending"),a("complete");var _=mI.begin("onTree"),V=m.reduce(function(E,x){try{var O=QT(x);O&&E.push(O)}catch(q){_T||"MissingIcon"===q.name&&console.error(q)}return E},[]);return new Promise(function(E,x){Promise.all(V).then(function(O){WT(O,function(){r("active"),r("complete"),a("pending"),"function"==typeof e&&e(),_(),E()})}).catch(function(O){_(),x(O)})})}function TQ(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;QT(n).then(function(t){t&&WT([t],e)})}XV.map(function(n){Eo.add("fa-".concat(n))}),Object.keys(K7[k2]).map(Eo.add.bind(Eo)),Object.keys(K7[d1]).map(Eo.add.bind(Eo)),Eo=q7(Eo);var kQ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,a=void 0===r?H3:r,l=t.symbol,f=void 0!==l&&l,m=t.mask,_=void 0===m?null:m,V=t.maskId,E=void 0===V?null:V,x=t.title,O=void 0===x?null:x,q=t.titleId,de=void 0===q?null:q,Ae=t.classes,Pe=void 0===Ae?[]:Ae,ft=t.attributes,lt=void 0===ft?{}:ft,st=t.styles,vt=void 0===st?{}:st;if(e){var Ht=e.prefix,Bt=e.iconName,J2=e.icon;return Mv(ut({type:"icon"},e),function(){return L6("beforeDOMElementCreation",{iconDefinition:e,params:t}),yt.autoA11y&&(O?lt["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(de||ef()):(lt["aria-hidden"]="true",lt.focusable="false")),uI({icons:{main:dI(J2),mask:_?dI(_.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Ht,iconName:Bt,transform:ut(ut({},H3),a),symbol:f,title:O,maskId:E,titleId:de,extra:{attributes:lt,styles:vt,classes:Pe}})})}},PQ={mixout:function(){return{icon:(n=kQ,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:lI(e||{}),a=t.mask;return a&&(a=(a||{}).icon?a:lI(a||{})),n(r,ut(ut({},t),{},{mask:a}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=XT,t.nodeCallback=TQ,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,l=t.callback;return XT(void 0===r?N2:r,void 0===l?function(){}:l)},e.generateSvgReplacementMutation=function(t,r){var a=r.iconName,l=r.title,f=r.titleId,m=r.prefix,_=r.transform,V=r.symbol,E=r.mask,x=r.maskId,O=r.extra;return new Promise(function(q,de){Promise.all([hI(a,m),E.iconName?hI(E.iconName,E.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Ae){var Pe=GV(Ae,2);q([t,uI({icons:{main:Pe[0],mask:Pe[1]},prefix:m,iconName:a,transform:_,symbol:V,maskId:x,title:l,titleId:f,extra:O,watchable:!0})])}).catch(de)})},e.generateAbstractIcon=function(t){var V,r=t.children,a=t.attributes,l=t.main,f=t.transform,_=hv(t.styles);return _.length>0&&(a.style=_),eI(f)&&(V=B4("generateAbstractTransformGrouping",{main:l,transform:f,containerWidth:l.width,iconWidth:l.width})),r.push(V||l.icon),{children:r,attributes:a}}}},RQ={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.classes,l=void 0===a?[]:a;return Mv({type:"layer"},function(){L6("beforeDOMElementCreation",{assembler:t,params:r});var f=[];return t(function(m){Array.isArray(m)?m.map(function(_){f=f.concat(_.abstract)}):f=f.concat(m.abstract)}),[{tag:"span",attributes:{class:["".concat(yt.cssPrefix,"-layers")].concat(q7(l)).join(" ")},children:f}]})}}}},OQ={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.title,l=void 0===a?null:a,f=r.classes,m=void 0===f?[]:f,_=r.attributes,V=void 0===_?{}:_,E=r.styles,x=void 0===E?{}:E;return Mv({type:"counter",content:t},function(){return L6("beforeDOMElementCreation",{content:t,params:r}),function yQ(n){var e=n.content,t=n.title,r=n.extra,a=ut(ut(ut({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),l=hv(r.styles);l.length>0&&(a.style=l);var f=[];return f.push({tag:"span",attributes:a,children:[e]}),t&&f.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),f}({content:t.toString(),title:l,extra:{attributes:V,styles:x,classes:["".concat(yt.cssPrefix,"-layers-counter")].concat(q7(m))}})})}}}},FQ={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.transform,l=void 0===a?H3:a,f=r.title,m=void 0===f?null:f,_=r.classes,V=void 0===_?[]:_,E=r.attributes,x=void 0===E?{}:E,O=r.styles,q=void 0===O?{}:O;return Mv({type:"text",content:t},function(){return L6("beforeDOMElementCreation",{content:t,params:r}),BT({content:t,transform:ut(ut({},H3),l),title:m,extra:{attributes:x,styles:q,classes:["".concat(yt.cssPrefix,"-layers-text")].concat(q7(V))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var a=r.title,l=r.transform,f=r.extra,m=null,_=null;if(vT){var V=parseInt(getComputedStyle(t).fontSize,10),E=t.getBoundingClientRect();m=E.width/V,_=E.height/V}return yt.autoA11y&&!a&&(f.attributes["aria-hidden"]="true"),Promise.resolve([t,BT({content:t.innerHTML,width:m,height:_,transform:l,title:a,extra:f,watchable:!0})])}}},BQ=new RegExp('"',"ug"),JT=[1105920,1112319];function eN(n,e){var t="".concat(LY).concat(e.replace(":","-"));return new Promise(function(r,a){if(null!==n.getAttribute(t))return r();var f=al(n.children).filter(function(J2){return J2.getAttribute(ZV)===e})[0],m=Vo.getComputedStyle(n,e),_=m.getPropertyValue("font-family").match(NY),V=m.getPropertyValue("font-weight"),E=m.getPropertyValue("content");if(f&&!_)return n.removeChild(f),r();if(_&&"none"!==E&&""!==E){var x=m.getPropertyValue("content"),O=~["Sharp"].indexOf(_[2])?d1:k2,q=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(_[2])?Z7[O][_[2].toLowerCase()]:kY[O][V],de=function UQ(n){var e=n.replace(BQ,""),t=function tQ(n,e){var a,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(a=n.charCodeAt(e+1))>=56320&&a<=57343?1024*(r-55296)+a-56320+65536:r}(e,0),r=t>=JT[0]&&t<=JT[1],a=2===e.length&&e[0]===e[1];return{value:rI(a?e[0]:e),isSecondary:r||a}}(x),Ae=de.value,Pe=de.isSecondary,ft=_[0].startsWith("FontAwesome"),lt=aI(q,Ae),st=lt;if(ft){var vt=function cQ(n){var e=TT[n],t=aI("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(Ae);vt.iconName&&vt.prefix&&(lt=vt.iconName,q=vt.prefix)}if(!lt||Pe||f&&f.getAttribute(YV)===q&&f.getAttribute(QV)===st)r();else{n.setAttribute(t,st),f&&n.removeChild(f);var Ht=function xQ(){return{iconName:null,title:null,titleId:null,prefix:null,transform:H3,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Bt=Ht.extra;Bt.attributes[ZV]=e,hI(lt,q).then(function(J2){var zs=uI(ut(ut({},Ht),{},{icons:{main:J2,mask:oI()},prefix:q,iconName:st,extra:Bt,watchable:!0})),Es=N2.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?n.insertBefore(Es,n.firstChild):n.appendChild(Es),Es.outerHTML=zs.map(function(Cre){return tf(Cre)}).join("\n"),n.removeAttribute(t),r()}).catch(a)}}else r()})}function jQ(n){return Promise.all([eN(n,"::before"),eN(n,"::after")])}function $Q(n){return!(n.parentNode===document.head||~xY.indexOf(n.tagName.toUpperCase())||n.getAttribute(ZV)||n.parentNode&&"svg"===n.parentNode.tagName)}function tN(n){if(R4)return new Promise(function(e,t){var r=al(n.querySelectorAll("*")).filter($Q).map(jQ),a=mI.begin("searchPseudoElements");KT(),Promise.all(r).then(function(){a(),vI(),e()}).catch(function(){a(),vI(),t()})})}var nN=!1,rN=function(e){return e.toLowerCase().split(" ").reduce(function(r,a){var l=a.toLowerCase().split("-"),f=l[0],m=l.slice(1).join("-");if(f&&"h"===m)return r.flipX=!0,r;if(f&&"v"===m)return r.flipY=!0,r;if(m=parseFloat(m),isNaN(m))return r;switch(f){case"grow":r.size=r.size+m;break;case"shrink":r.size=r.size-m;break;case"left":r.x=r.x-m;break;case"right":r.x=r.x+m;break;case"up":r.y=r.y-m;break;case"down":r.y=r.y+m;break;case"rotate":r.rotate=r.rotate+m}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},yI={x:0,y:0,width:"100%",height:"100%"};function iN(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}var ZQ={hooks:function(){return{parseNodeAttributes:function(t,r){var a=r.getAttribute("data-fa-mask"),l=a?Cv(a.split(" ").map(function(f){return f.trim()})):oI();return l.prefix||(l.prefix=zo()),t.mask=l,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var n,r=t.children,a=t.attributes,l=t.main,f=t.mask,m=t.maskId,E=l.icon,O=f.icon,q=function WY(n){var e=n.transform,r=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},l="translate(".concat(32*e.x,", ").concat(32*e.y,") "),f="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),m="rotate(".concat(e.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(l," ").concat(f," ").concat(m)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:f.width,iconWidth:l.width}),de={tag:"rect",attributes:ut(ut({},yI),{},{fill:"white"})},Ae=E.children?{children:E.children.map(iN)}:{},Pe={tag:"g",attributes:ut({},q.inner),children:[iN(ut({tag:E.tag,attributes:ut(ut({},E.attributes),q.path)},Ae))]},ft={tag:"g",attributes:ut({},q.outer),children:[Pe]},lt="mask-".concat(m||ef()),st="clip-".concat(m||ef()),vt={tag:"mask",attributes:ut(ut({},yI),{},{id:lt,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[de,ft]},Ht={tag:"defs",children:[{tag:"clipPath",attributes:{id:st},children:(n=O,"g"===n.tag?n.children:[n])},vt]};return r.push(Ht,{tag:"rect",attributes:ut({fill:"currentColor","clip-path":"url(#".concat(st,")"),mask:"url(#".concat(lt,")")},yI)}),{children:r,attributes:a}}}};!function fQ(n,e){var t=e.mixoutsTo;OT=n,cl={},Object.keys(ll).forEach(function(r){-1===uQ.indexOf(r)&&delete ll[r]}),OT.forEach(function(r){var a=r.mixout?r.mixout():{};if(Object.keys(a).forEach(function(f){"function"==typeof a[f]&&(t[f]=a[f]),"object"===sv(a[f])&&Object.keys(a[f]).forEach(function(m){t[f]||(t[f]={}),t[f][m]=a[f][m]})}),r.hooks){var l=r.hooks();Object.keys(l).forEach(function(f){cl[f]||(cl[f]=[]),cl[f].push(l[f])})}r.provides&&r.provides(ll)})}([YY,PQ,RQ,OQ,FQ,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=tN,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;yt.searchPseudoElements&&tN(void 0===r?N2:r)}}},{mixout:function(){return{dom:{unwatch:function(){KT(),nN=!0}}}},hooks:function(){return{bootstrap:function(){ZT(cI("mutationObserverCallbacks",{}))},noAuto:function(){!function EQ(){bv&&bv.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;nN?vI():ZT(cI("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return rN(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var a=r.getAttribute("data-fa-transform");return a&&(t.transform=rN(a)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,a=t.transform,f=t.iconWidth,m={transform:"translate(".concat(t.containerWidth/2," 256)")},_="translate(".concat(32*a.x,", ").concat(32*a.y,") "),V="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),E="rotate(".concat(a.rotate," 0 0)"),q={outer:m,inner:{transform:"".concat(_," ").concat(V," ").concat(E)},path:{transform:"translate(".concat(f/2*-1," -256)")}};return{tag:"g",attributes:ut({},q.outer),children:[{tag:"g",attributes:ut({},q.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ut(ut({},r.icon.attributes),q.path)}]}]}}}},ZQ,{provides:function(e){var t=!1;Vo.matchMedia&&(t=Vo.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],a={fill:"currentColor"},l={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ut(ut({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var f=ut(ut({},l),{},{attributeName:"opacity"}),m={tag:"circle",attributes:ut(ut({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||m.children.push({tag:"animate",attributes:ut(ut({},l),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ut(ut({},f),{},{values:"1;0;1;1;0;1;"})}),r.push(m),r.push({tag:"path",attributes:ut(ut({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ut(ut({},f),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:ut(ut({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ut(ut({},f),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var a=r.getAttribute("data-fa-symbol");return t.symbol=null!==a&&(""===a||a),t}}}}],{mixoutsTo:ni});var JQ=ni.parse,eX=ni.icon;const tX=["*"],iX=n=>{const e={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let oX=(()=>{var n;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),sN=(()=>{var n;class e{constructor(){this.definitions={}}addIcons(...r){for(const a of r){a.prefix in this.definitions||(this.definitions[a.prefix]={}),this.definitions[a.prefix][a.iconName]=a;for(const l of a.icon[2])"string"==typeof l&&(this.definitions[a.prefix][l]=a)}}addIconPacks(...r){for(const a of r){const l=Object.keys(a).map(f=>a[f]);this.addIcons(...l)}}getIconDefinition(r,a){return r in this.definitions&&a in this.definitions[r]?this.definitions[r][a]:null}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),cX=(()=>{var n;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=M.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[M.TTD]}),e})(),lX=(()=>{var n;class e{constructor(r,a){this.renderer=r,this.elementRef=a}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(n=e).\u0275fac=function(r){return new(r||n)(M.Y36(M.Qsj),M.Y36(M.SBq))},n.\u0275cmp=M.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[M.TTD],ngContentSelectors:tX,decls:1,vars:0,template:function(r,a){1&r&&(M.F$t(),M.Hsn(0))},encapsulation:2}),e})(),uX=(()=>{var n;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,a,l,f,m){this.sanitizer=r,this.config=a,this.iconLibrary=l,this.stackItem=f,this.classes=[],null!=m&&null==f&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const l=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=l){const f=this.buildParams();this.renderIcon(l,f)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const a=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:"string"==typeof n?{prefix:e,iconName:n}:{prefix:n[0],iconName:n[1]})(r,this.config.defaultPrefix);return"icon"in a?a:this.iconLibrary.getIconDefinition(a.prefix,a.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(a),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},a="string"==typeof this.transform?JQ.transform(this.transform):this.transform;return{title:this.title,transform:a,classes:[...iX(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,a){const l=eX(r,a);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(l.html.join("\n"))}}return(n=e).\u0275fac=function(r){return new(r||n)(M.Y36(Ji),M.Y36(oX),M.Y36(sN),M.Y36(cX,8),M.Y36(lX,8))},n.\u0275cmp=M.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,a){2&r&&(M.Ikx("innerHTML",a.renderedIconHTML,M.oJD),M.uIk("title",a.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[M.TTD],decls:0,vars:0,template:function(r,a){},encapsulation:2}),e})(),fX=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({}),e})(),dX=(()=>{var n;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275dir=M.lG2({type:n,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,a){2&r&&M.ekj("active",a.isActive)},inputs:{tabName:"tabName"}}),e})();const D6=function(){return{color:"#eee"}},hX=function(){return["fas","house-chimney"]},pX=function(){return["fas","earth-americas"]},mX=function(){return["fas","satellite-dish"]},gX=function(){return["fas","jet-fighter-up"]},vX=function(){return["fas","chess-board"]},yX=function(){return["fas","flask-vial"]},CX=function(){return["fas","hand-fist"]};let MX=(()=>{var n;class e{constructor(r){this.renderer=(0,M.f3M)(M.Qsj),r.addIcons(o7,B7,Xu,Dx,ch,C5,PV)}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}}return(n=e).\u0275fac=function(r){return new(r||n)(M.Y36(sN))},n.\u0275cmp=M.Xpm({type:n,selectors:[["dgt-navbar"]],decls:37,vars:42,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["href","/fleets",1,"dgt-navbar-tab-link"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"]],template:function(r,a){1&r&&(M.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),M._UZ(4,"fa-icon",4),M.TgZ(5,"span",5),M._uU(6,"home"),M.qZA()()(),M.TgZ(7,"li",2)(8,"a",6),M._UZ(9,"fa-icon",4),M.TgZ(10,"span",5),M._uU(11,"planets"),M.qZA()()(),M.TgZ(12,"li",2)(13,"a",7),M._UZ(14,"fa-icon",4),M.TgZ(15,"span",5),M._uU(16,"radar"),M.qZA()()(),M.TgZ(17,"li",2)(18,"a",8),M._UZ(19,"fa-icon",4),M.TgZ(20,"span",5),M._uU(21,"fleets"),M.qZA()()(),M.TgZ(22,"li",2)(23,"a",9),M._UZ(24,"fa-icon",4),M.TgZ(25,"span",5),M._uU(26,"navigation"),M.qZA()()(),M.TgZ(27,"li",2)(28,"a",10),M._UZ(29,"fa-icon",4),M.TgZ(30,"span",5),M._uU(31,"research"),M.qZA()()(),M.TgZ(32,"li",2)(33,"a",11),M._UZ(34,"fa-icon",4),M.TgZ(35,"span",5),M._uU(36,"alliances"),M.qZA()()()()()),2&r&&(M.xp6(2),M.Q6J("tabName","home"),M.xp6(2),M.Akn(M.DdM(28,D6)),M.Q6J("icon",M.DdM(29,hX)),M.xp6(3),M.Q6J("tabName","planets"),M.xp6(2),M.Akn(M.DdM(30,D6)),M.Q6J("icon",M.DdM(31,pX)),M.xp6(3),M.Q6J("tabName","radar"),M.xp6(2),M.Akn(M.DdM(32,D6)),M.Q6J("icon",M.DdM(33,mX)),M.xp6(3),M.Q6J("tabName","fleets"),M.xp6(2),M.Akn(M.DdM(34,D6)),M.Q6J("icon",M.DdM(35,gX)),M.xp6(3),M.Q6J("tabName","navigation"),M.xp6(2),M.Akn(M.DdM(36,D6)),M.Q6J("icon",M.DdM(37,vX)),M.xp6(3),M.Q6J("tabName","research"),M.xp6(2),M.Akn(M.DdM(38,D6)),M.Q6J("icon",M.DdM(39,yX)),M.xp6(3),M.Q6J("tabName","alliances"),M.xp6(2),M.Akn(M.DdM(40,D6)),M.Q6J("icon",M.DdM(41,CX)))},dependencies:[uX,dX],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:10px;border-top-right-radius:10px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:10px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:10px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:24px;padding-right:5px;display:block;width:auto;padding-top:4px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;display:block}"]}),e})(),_X=(()=>{var n;class e{constructor(){console.log("%cDGT%c - installing custom navigation menu...","font-size: 12px; font-weight: bold;","font-size: 12px;")}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=M.oAB({type:n,bootstrap:[MX]}),n.\u0275inj=M.cJS({imports:[Br,fX]}),e})();var wX=T(6321),CI=T(3018),x6=T(2459),ul=T(2096),wn=T(5781),bX=T(2372),aN=T(4564);function oN(...n){return function HX(){return(0,bX.J)(1)}()((0,x6.D)(n,(0,aN.yG)(n)))}var A6=T(9360);function MI(...n){const e=(0,aN.yG)(n);return(0,A6.e)((t,r)=>{(e?oN(n,t,e):oN(n,t)).subscribe(r)})}var fl=T(8251);function _I(){return(0,A6.e)((n,e)=>{let t,r=!1;n.subscribe((0,fl.x)(e,a=>{const l=t;t=a,r&&e.next([l,a]),r=!0}))})}var ri=T(7398);function wI(n,e){return(0,A6.e)(function VX(n,e,t,r,a){return(l,f)=>{let m=t,_=e,V=0;l.subscribe((0,fl.x)(f,E=>{const x=V++;_=m?n(_,E,x):(m=!0,E),r&&f.next(_)},a&&(()=>{m&&f.next(_),f.complete()})))}}(n,e,arguments.length>=2,!0))}var IX=T(3997);function Hv(n,e){return(0,A6.e)((t,r)=>{let a=0;t.subscribe((0,fl.x)(r,l=>n.call(e,l,a++)&&r.next(l)))})}var et,bs=T(6304),zX=(T(5967),T(3106)),_e=T(5861),T6=T(534),Vv=T(4537),So=T(7879),a2=T(9058),EX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hs={},bI=bI||{},Ft=EX||self;function Iv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var HI="closure_uid_"+(1e9*Math.random()>>>0),LX=0;function DX(n,e,t){return n.call.apply(n.bind,arguments)}function xX(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Rn(n,e,t){return(Rn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?DX:xX).apply(null,arguments)}function zv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function un(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,a,l){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return e.prototype[a].apply(r,f)}}function Lo(){this.s=this.s,this.o=this.o}Lo.prototype.s=!1,Lo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function SX(n){Object.prototype.hasOwnProperty.call(n,HI)&&n[HI]||(n[HI]=++LX)}(this)},Lo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cN=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function VI(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function lN(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Iv(r)){const a=n.length||0,l=r.length||0;n.length=a+l;for(let f=0;f<l;f++)n[a+f]=r[f]}else n.push(r)}}function On(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}On.prototype.h=function(){this.defaultPrevented=!0};var TX=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",()=>{},e),Ft.removeEventListener("test",()=>{},e)}catch{}return n}();function sf(n){return/^[\s\xa0]*$/.test(n)}function Ev(){var n=Ft.navigator;return n&&(n=n.userAgent)?n:""}function V3(n){return-1!=Ev().indexOf(n)}function II(n){return II[" "](n),n}II[" "]=function(){};var EI,n,kX=V3("Opera"),dl=V3("Trident")||V3("MSIE"),uN=V3("Edge"),zI=uN||dl,fN=V3("Gecko")&&!(-1!=Ev().toLowerCase().indexOf("webkit")&&!V3("Edge"))&&!(V3("Trident")||V3("MSIE"))&&!V3("Edge"),PX=-1!=Ev().toLowerCase().indexOf("webkit")&&!V3("Edge");function dN(){var n=Ft.document;return n?n.documentMode:void 0}e:{var SI="",LI=(n=Ev(),fN?/rv:([^\);]+)(\)|;)/.exec(n):uN?/Edge\/([\d\.]+)/.exec(n):dl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):PX?/WebKit\/(\S+)/.exec(n):kX?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(LI&&(SI=LI?LI[1]:""),dl){var DI=dN();if(null!=DI&&DI>parseFloat(SI)){EI=String(DI);break e}}EI=SI}var RX=Ft.document&&dl&&(dN()||parseInt(EI,10))||void 0;function af(n,e){if(On.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(fN){e:{try{II(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:OX[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&af.$.h.call(this)}}un(af,On);var OX={2:"touch",3:"pen",4:"mouse"};af.prototype.h=function(){af.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var of="closure_listenable_"+(1e6*Math.random()|0),FX=0;function BX(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=a,this.key=++FX,this.fa=this.ia=!1}function Sv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function AI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function pN(n){const e={};for(const t in n)e[t]=n[t];return e}const mN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gN(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let l=0;l<mN.length;l++)t=mN[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Lv(n){this.src=n,this.g={},this.h=0}function TI(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],a=cN(r,e);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(Sv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function NI(n,e,t,r){for(var a=0;a<n.length;++a){var l=n[a];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==r)return a}return-1}Lv.prototype.add=function(n,e,t,r,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var f=NI(n,e,r,a);return-1<f?(e=n[f],t||(e.ia=!1)):((e=new BX(e,this.src,l,!!r,a)).ia=t,n.push(e)),e};var kI="closure_lm_"+(1e6*Math.random()|0),PI={};function vN(n,e,t,r,a){if(r&&r.once)return CN(n,e,t,r,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)vN(n,e[l],t,r,a);return null}return t=BI(t),n&&n[of]?n.O(e,t,rf(r)?!!r.capture:!!r,a):yN(n,e,t,!1,r,a)}function yN(n,e,t,r,a,l){if(!e)throw Error("Invalid event type");var f=rf(a)?!!a.capture:!!a,m=OI(n);if(m||(n[kI]=m=new Lv(n)),(t=m.add(e,t,r,f,l)).proxy)return t;if(r=function jX(){const e=$X;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)TX||(a=f),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(_N(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function CN(n,e,t,r,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)CN(n,e[l],t,r,a);return null}return t=BI(t),n&&n[of]?n.P(e,t,rf(r)?!!r.capture:!!r,a):yN(n,e,t,!0,r,a)}function MN(n,e,t,r,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)MN(n,e[l],t,r,a);else r=rf(r)?!!r.capture:!!r,t=BI(t),n&&n[of]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=NI(l=n.g[e],t,r,a))&&(Sv(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=OI(n))&&(e=n.g[e.toString()],n=-1,e&&(n=NI(e,t,r,a)),(t=-1<n?e[n]:null)&&RI(t))}function RI(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[of])TI(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(_N(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=OI(e))?(TI(t,n),0==t.h&&(t.src=null,e[kI]=null)):Sv(n)}}}function _N(n){return n in PI?PI[n]:PI[n]="on"+n}function $X(n,e){if(n.fa)n=!0;else{e=new af(e,this);var t=n.listener,r=n.la||n.src;n.ia&&RI(n),n=t.call(r,e)}return n}function OI(n){return(n=n[kI])instanceof Lv?n:null}var FI="__closure_events_fn_"+(1e9*Math.random()>>>0);function BI(n){return"function"==typeof n?n:(n[FI]||(n[FI]=function(e){return n.handleEvent(e)}),n[FI])}function fn(){Lo.call(this),this.i=new Lv(this),this.S=this,this.J=null}function bn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new On(e,n);else if(e instanceof On)e.target=e.target||n;else{var a=e;gN(e=new On(r,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];a=Dv(f,r,!0,e)&&a}if(a=Dv(f=e.g=n,r,!0,e)&&a,a=Dv(f,r,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Dv(f=e.g=t[l],r,!1,e)&&a}function Dv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==t){var m=f.listener,_=f.la||f.src;f.ia&&TI(n.i,f),a=!1!==m.call(_,r)&&a}}return a&&!r.defaultPrevented}un(fn,Lo),fn.prototype[of]=!0,fn.prototype.removeEventListener=function(n,e,t,r){MN(this,n,e,t,r)},fn.prototype.N=function(){if(fn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Sv(t[r]);delete n.g[e],n.h--}}this.J=null},fn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},fn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var UI=Ft.JSON.stringify;function qX(){var n=jI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var wN=new class GX{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new KX,n=>n.reset());class KX{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ZX(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function YX(n){Ft.setTimeout(()=>{throw n},0)}let cf,lf=!1,jI=new class WX{constructor(){this.h=this.g=null}add(e,t){const r=wN.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},bN=()=>{const n=Ft.Promise.resolve(void 0);cf=()=>{n.then(QX)}};var QX=()=>{for(var n;n=qX();){try{n.h.call(n.g)}catch(t){YX(t)}var e=wN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}lf=!1};function xv(n,e){fn.call(this),this.h=n||1,this.g=e||Ft,this.j=Rn(this.qb,this),this.l=Date.now()}function $I(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function GI(n,e,t){if("function"==typeof n)t&&(n=Rn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function HN(n){n.g=GI(()=>{n.g=null,n.i&&(n.i=!1,HN(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}un(xv,fn),(et=xv.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bn(this,"tick"),this.ga&&($I(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){xv.$.N.call(this),$I(this),delete this.g};class XX extends Lo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HN(this)}N(){super.N(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uf(n){Lo.call(this),this.h=n,this.g={}}un(uf,Lo);var VN=[];function IN(n,e,t,r){Array.isArray(t)||(t&&(VN[0]=t.toString()),t=VN);for(var a=0;a<t.length;a++){var l=vN(e,t[a],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function zN(n){AI(n.g,function(e,t){this.g.hasOwnProperty(t)&&RI(e)},n),n.g={}}function Av(){this.g=!0}function hl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nJ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return UI(t)}catch{return e}}(n,t)+(r?" "+r:"")})}uf.prototype.N=function(){uf.$.N.call(this),zN(this)},uf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Av.prototype.Ea=function(){this.g=!1},Av.prototype.info=function(){};var N6={},EN=null;function Tv(){return EN=EN||new fn}function SN(n){On.call(this,N6.Ta,n)}function ff(n){const e=Tv();bn(e,new SN(e))}function LN(n,e){On.call(this,N6.STAT_EVENT,n),this.stat=e}function er(n){const e=Tv();bn(e,new LN(e,n))}function DN(n,e){On.call(this,N6.Ua,n),this.size=e}function df(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}N6.Ta="serverreachability",un(SN,On),N6.STAT_EVENT="statevent",un(LN,On),N6.Ua="timingevent",un(DN,On);var Nv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qI(){}function TN(){}qI.prototype.h=null;var ZI,hf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function WI(){On.call(this,"d")}function KI(){On.call(this,"c")}function kv(){}function pf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new uf(this),this.P=rJ,this.V=new xv(n=zI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new NN}function NN(){this.i=null,this.g="",this.h=!1}un(WI,On),un(KI,On),un(kv,qI),kv.prototype.g=function(){return new XMLHttpRequest},kv.prototype.i=function(){return{}},ZI=new kv;var rJ=45e3,YI={},Pv={};function QI(n,e,t){n.L=1,n.v=Bv(U4(e)),n.s=t,n.S=!0,kN(n,null)}function kN(n,e){n.G=Date.now(),mf(n),n.A=U4(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),qN(t.i,"t",r),n.C=0,t=n.l.J,n.h=new NN,n.g=gk(n.l,t?e:null,!n.s),0<n.O&&(n.M=new XX(Rn(n.Pa,n,n.g),n.O)),IN(n.U,n.g,"readystatechange",n.nb),e=n.I?pN(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),ff(),function JX(n,e,t,r,a,l){n.info(function(){if(n.g)if(l)for(var f="",m=l.split("&"),_=0;_<m.length;_++){var V=m[_].split("=");if(1<V.length){var E=V[0];V=V[1];var x=E.split("_");f=2<=x.length&&"type"==x[1]?f+(E+"=")+V+"&":f+(E+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.W,n.s)}function PN(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function RN(n,e,t){let a,r=!0;for(;!n.J&&n.C<t.length;){if(a=iJ(n,t),a==Pv){4==e&&(n.o=4,er(14),r=!1),hl(n.j,n.m,null,"[Incomplete Response]");break}if(a==YI){n.o=4,er(15),hl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}hl(n.j,n.m,a,null),XI(n,a)}PN(n)&&a!=Pv&&a!=YI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,er(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),sz(e),e.M=!0,er(11))):(hl(n.j,n.m,t,"[Invalid Chunked Response]"),k6(n),gf(n))}function iJ(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Pv:(t=Number(e.substring(t,r)),isNaN(t)?YI:(r+=1)+t>e.length?Pv:(e=e.slice(r,r+t),n.C=r+t,e))}function mf(n){n.Y=Date.now()+n.P,ON(n,n.P)}function ON(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=df(Rn(n.lb,n),e)}function Rv(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function gf(n){0==n.l.H||n.J||dk(n.l,n)}function k6(n){Rv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,$I(n.V),zN(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function XI(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||JI(t.i,n)))if(!n.K&&JI(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Wv(t),Gv(t)}iz(t),er(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=df(Rn(t.ib,t),6e3));if(1>=ZN(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else R6(t,11)}else if((n.K||t.g==n)&&Wv(t),!sf(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let V=a[e];if(t.V=V[0],V=V[1],2==t.H)if("c"==V[0]){t.K=V[1],t.pa=V[2];const E=V[3];null!=E&&(t.ra=E,t.l.info("VER="+t.ra));const x=V[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const O=V[5];null!=O&&"number"==typeof O&&0<O&&(t.L=r=1.5*O,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const de=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(de){var l=r.i;l.g||-1==de.indexOf("spdy")&&-1==de.indexOf("quic")&&-1==de.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(ez(l,l.h),l.h=null))}if(r.F){const Ae=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Ae&&(r.Da=Ae,P2(r.I,r.F,Ae))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=n;if((r=t).wa=mk(r,r.J?r.pa:null,r.Y),f.K){YN(r.i,f);var m=f,_=r.L;_&&m.setTimeout(_),m.B&&(Rv(m),mf(m)),r.g=f}else uk(r);0<t.j.length&&qv(t)}else"stop"!=V[0]&&"close"!=V[0]||R6(t,7);else 3==t.H&&("stop"==V[0]||"close"==V[0]?"stop"==V[0]?R6(t,7):rz(t):"noop"!=V[0]&&t.h&&t.h.Aa(V),t.A=0)}ff()}catch{}}function FN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Iv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function aJ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Iv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function sJ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Iv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),a=r.length,l=0;l<a;l++)e.call(void 0,r[l],t&&t[l],n)}(et=pf.prototype).setTimeout=function(n){this.P=n},et.nb=function(n){n=n.target;const e=this.M;e&&3==I3(n)?e.l():this.Pa(n)},et.Pa=function(n){try{if(n==this.g)e:{const E=I3(this.g);var e=this.g.Ia();if(this.g.da(),!(3>E)&&(3!=E||zI||this.g&&(this.h.h||this.g.ja()||ik(this.g)))){this.J||4!=E||7==e||ff(),Rv(this);var t=this.g.da();this.ca=t;t:if(PN(this)){var r=ik(this.g);n="";var a=r.length,l=4==I3(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){k6(this),gf(this);var f="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function eJ(n,e,t,r,a,l,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,E,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,_=this.g;if((m=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sf(m)){var V=m;break t}}V=null}if(!(t=V)){this.i=!1,this.o=3,er(12),k6(this),gf(this);break e}hl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,XI(this,t)}this.S?(RN(this,E,f),zI&&this.i&&3==E&&(IN(this.U,this.V,"tick",this.mb),this.V.start())):(hl(this.j,this.m,f,null),XI(this,f)),4==E&&k6(this),this.i&&!this.J&&(4==E?dk(this.l,this):(this.i=!1,mf(this)))}else(function HJ(n){const e={};n=(n.g&&2<=I3(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(sf(n[r]))continue;var t=ZX(n[r]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[a]||[];e[a]=l,l.push(t)}!function UX(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,er(12)):(this.o=0,er(13)),k6(this),gf(this)}}}catch{}},et.mb=function(){if(this.g){var n=I3(this.g),e=this.g.ja();this.C<e.length&&(Rv(this),RN(this,n,e),this.i&&4!=n&&mf(this))}},et.cancel=function(){this.J=!0,k6(this)},et.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function tJ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ff(),er(17)),k6(this),this.o=2,gf(this)):ON(this,this.Y-n)};var BN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function P6(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof P6){this.h=n.h,Ov(this,n.j),this.s=n.s,this.g=n.g,Fv(this,n.m),this.l=n.l;var e=n.i,t=new Cf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),UN(this,t),this.o=n.o}else n&&(e=String(n).match(BN))?(this.h=!1,Ov(this,e[1]||"",!0),this.s=vf(e[2]||""),this.g=vf(e[3]||"",!0),Fv(this,e[4]),this.l=vf(e[5]||"",!0),UN(this,e[6]||"",!0),this.o=vf(e[7]||"")):(this.h=!1,this.i=new Cf(null,this.h))}function U4(n){return new P6(n)}function Ov(n,e,t){n.j=t?vf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function UN(n,e,t){e instanceof Cf?(n.i=e,function hJ(n,e){e&&!n.j&&(Do(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&($N(this,r),qN(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=yf(e,fJ)),n.i=new Cf(e,n.h))}function P2(n,e,t){n.i.set(e,t)}function Bv(n){return P2(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function vf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cJ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cJ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}P6.prototype.toString=function(){var n=[],e=this.j;e&&n.push(yf(e,jN,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(yf(e,jN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(yf(t,"/"==t.charAt(0)?uJ:lJ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",yf(t,dJ)),n.join("")};var jN=/[#\/\?@]/g,lJ=/[#\?:]/g,uJ=/[#\?]/g,fJ=/[#\?@]/g,dJ=/#/g;function Cf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Do(n){n.g||(n.g=new Map,n.h=0,n.i&&function oJ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var l=n[t].substring(0,r);a=n[t].substring(r+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $N(n,e){Do(n),e=pl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function GN(n,e){return Do(n),e=pl(n,e),n.g.has(e)}function qN(n,e,t){$N(n,e),0<t.length&&(n.i=null,n.g.set(pl(n,e),VI(t)),n.h+=t.length)}function pl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function WN(n){this.l=n||mJ,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ka&&Ft.g.Ka()&&Ft.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=Cf.prototype).add=function(n,e){Do(this),this.i=null,n=pl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){Do(this),this.g.forEach(function(t,r){t.forEach(function(a){n.call(e,a,r,this)},this)},this)},et.ta=function(){Do(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const a=n[r];for(let l=0;l<a.length;l++)t.push(e[r])}return t},et.Z=function(n){Do(this);let e=[];if("string"==typeof n)GN(this,n)&&(e=e.concat(this.g.get(pl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},et.set=function(n,e){return Do(this),this.i=null,GN(this,n=pl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),f=this.Z(r);for(r=0;r<f.length;r++){var a=l;""!==f[r]&&(a+="="+encodeURIComponent(String(f[r]))),n.push(a)}}return this.i=n.join("&")};var mJ=10;function KN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ZN(n){return n.h?1:n.g?n.g.size:0}function JI(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ez(n,e){n.g?n.g.add(e):n.h=e}function YN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function QN(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return VI(n.i)}WN.prototype.cancel=function(){if(this.i=QN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var gJ=class{stringify(n){return Ft.JSON.stringify(n,void 0)}parse(n){return Ft.JSON.parse(n,void 0)}};function vJ(){this.g=new gJ}function yJ(n,e,t){const r=t||"";try{FN(n,function(a,l){let f=a;rf(a)&&(f=UI(a)),e.push(r+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function Uv(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch{}}function Mf(n){this.l=n.fc||null,this.j=n.ob||!1}function jv(n,e){fn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=tz,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}un(Mf,qI),Mf.prototype.g=function(){return new jv(this.l,this.j)},Mf.prototype.i=function(n){return function(){return n}}({}),un(jv,fn);var tz=0;function XN(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function _f(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wf(n)}function wf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=jv.prototype).open=function(n,e){if(this.readyState!=tz)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,wf(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ft).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_f(this)),this.readyState=tz},et.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wf(this)),this.g&&(this.readyState=3,wf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XN(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_f(this):wf(this),3==this.readyState&&XN(this)}},et.Za=function(n){this.g&&(this.response=this.responseText=n,_f(this))},et.Ya=function(n){this.g&&(this.response=n,_f(this))},et.ka=function(){this.g&&_f(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(jv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MJ=Ft.JSON.parse;function h1(n){fn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JN,this.L=this.M=!1}un(h1,fn);var JN="",_J=/^https?$/i,wJ=["POST","PUT"];function ek(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,tk(n),$v(n)}function tk(n){n.F||(n.F=!0,bn(n,"complete"),bn(n,"error"))}function nk(n){if(n.h&&typeof bI<"u"&&(!n.C[1]||4!=I3(n)||2!=n.da()))if(n.v&&4==I3(n))GI(n.La,0,n);else if(bn(n,"readystatechange"),4==I3(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var a=String(n.I).match(BN)[1]||null;!a&&Ft.self&&Ft.self.location&&(a=Ft.self.location.protocol.slice(0,-1)),r=!_J.test(a?a.toLowerCase():"")}t=r}if(t)bn(n,"complete"),bn(n,"success");else{n.m=6;try{var l=2<I3(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",tk(n)}}finally{$v(n)}}}function $v(n,e){if(n.g){rk(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||bn(n,"ready");try{t.onreadystatechange=r}catch{}}}function rk(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function I3(n){return n.g?n.g.readyState:0}function ik(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case JN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function sk(n){let e="";return AI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function nz(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=sk(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):P2(n,e,t))}function bf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ak(n){this.Ga=0,this.j=[],this.l=new Av,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bf("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bf("baseRetryDelayMs",5e3,n),this.hb=bf("retryDelaySeedMs",1e4,n),this.eb=bf("forwardChannelMaxRetries",2,n),this.xa=bf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new WN(n&&n.concurrentRequestLimit),this.Ja=new vJ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rz(n){if(ok(n),3==n.H){var e=n.W++,t=U4(n.I);if(P2(t,"SID",n.K),P2(t,"RID",e),P2(t,"TYPE","terminate"),Hf(n,t),(e=new pf(n,n.l,e)).L=2,e.v=Bv(U4(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon)try{t=Ft.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=gk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),mf(e)}pk(n)}function Gv(n){n.g&&(sz(n),n.g.cancel(),n.g=null)}function ok(n){Gv(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),Wv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function qv(n){if(!KN(n.i)&&!n.m){n.m=!0;var e=n.Na;cf||bN(),lf||(cf(),lf=!0),jI.add(e,n),n.C=0}}function ck(n,e){var t;t=e?e.m:n.W++;const r=U4(n.I);P2(r,"SID",n.K),P2(r,"RID",t),P2(r,"AID",n.V),Hf(n,r),n.o&&n.s&&nz(r,n.o,n.s),t=new pf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=lk(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ez(n.i,t),QI(t,r,e)}function Hf(n,e){n.na&&AI(n.na,function(t,r){P2(e,r,t)}),n.h&&FN({},function(t,r){P2(e,r,t)})}function lk(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Rn(n.h.Va,n.h,n):null;e:{var a=n.j;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=a[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let m=!0;for(let _=0;_<t;_++){let V=a[_].g;const E=a[_].map;if(V-=l,0>V)l=Math.max(0,a[_].g-100),m=!1;else try{yJ(E,f,"req"+V+"_")}catch{r&&r(E)}}if(m){r=f.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function uk(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;cf||bN(),lf||(cf(),lf=!0),jI.add(e,n),n.A=0}}function iz(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=df(Rn(n.Ma,n),hk(n,n.A)),n.A++,0))}function sz(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function fk(n){n.g=new pf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=U4(n.wa);P2(e,"RID","rpc"),P2(e,"SID",n.K),P2(e,"AID",n.V),P2(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&P2(e,"TO",n.qa),P2(e,"TYPE","xmlhttp"),Hf(n,e),n.o&&n.s&&nz(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Bv(U4(e)),t.s=null,t.S=!0,kN(t,n)}function Wv(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function dk(n,e){var t=null;if(n.g==e){Wv(n),sz(n),n.g=null;var r=2}else{if(!JI(n.i,e))return;t=e.F,YN(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=n.C;bn(r=Tv(),new DN(r,t)),qv(n)}else uk(n);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==r&&function VJ(n,e){return!(ZN(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=df(Rn(n.Na,n,e),hk(n,n.C)),n.C++,0)))}(n,e)||2==r&&iz(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:R6(n,5);break;case 4:R6(n,10);break;case 3:R6(n,6);break;default:R6(n,2)}}function hk(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function R6(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Rn(n.pb,n);t||(t=new P6("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||Ov(t,"https"),Bv(t)),function CJ(n,e){const t=new Av;if(Ft.Image){const r=new Image;r.onload=zv(Uv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=zv(Uv,t,r,"TestLoadImage: error",!1,e),r.onabort=zv(Uv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=zv(Uv,t,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else er(2);n.H=0,n.h&&n.h.za(e),pk(n),ok(n)}function pk(n){if(n.H=0,n.ma=[],n.h){const e=QN(n.i);(0!=e.length||0!=n.j.length)&&(lN(n.ma,e),lN(n.ma,n.j),n.i.i.length=0,VI(n.j),n.j.length=0),n.h.ya()}}function mk(n,e,t){var r=t instanceof P6?U4(t):new P6(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Fv(r,r.m);else{var a=Ft.location;r=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new P6(null);r&&Ov(l,r),e&&(l.g=e),a&&Fv(l,a),t&&(l.l=t),r=l}return e=n.Da,(t=n.F)&&e&&P2(r,t,e),P2(r,"VER",n.ra),Hf(n,r),r}function gk(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new h1(t&&n.Ha&&!n.va?new Mf({ob:!0}):n.va)).Oa(n.J),e}function vk(){}function Kv(){if(dl&&!(10<=Number(RX)))throw Error("Environmental error: no available transport.")}function ii(n,e){fn.call(this),this.g=new ak(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!sf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ml(this)}function yk(n){WI.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ck(){KI.call(this),this.status=1}function ml(n){this.g=n}function Vs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function az(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)r[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)r[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=n.g[3],f=(e=n.g[0])+(l^(t=n.g[1])&((a=n.g[2])^l))+r[0]+3614090360&4294967295;f=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=t+(f<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+r[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+r[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+r[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+r[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+r[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+r[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+r[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+r[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+r[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+r[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+r[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^l&(t^a))+r[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+r[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+r[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+r[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+r[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+r[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+r[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+r[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+r[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+r[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+r[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+r[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^l)+r[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+r[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+r[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+r[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+r[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+r[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+r[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+r[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+r[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+r[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+r[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+r[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+r[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~l))+r[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+r[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+r[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+r[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+r[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+r[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+r[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+r[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+r[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+r[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+r[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+r[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=t+((f=e+(a^(t|~l))+r[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+r[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=l+((f=a+(e^(l|~t))+r[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,n.g[2]=n.g[2]+a&4294967295,n.g[3]=n.g[3]+l&4294967295}function v2(n,e){this.h=e;for(var t=[],r=!0,a=n.length-1;0<=a;a--){var l=0|n[a];r&&l==e||(t[a]=l,r=!1)}this.g=t}(et=h1.prototype).Oa=function(n){this.M=n},et.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ZI.g(),this.C=function AN(n){return n.h||(n.h=n.i())}(this.u?this.u:ZI),this.g.onreadystatechange=Rn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(l){return void ek(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)t.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=Ft.FormData&&n instanceof Ft.FormData,!(0<=cN(wJ,e))||r||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of t)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rk(this),0<this.B&&((this.L=function bJ(n){return dl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rn(this.ua,this)):this.A=GI(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){ek(this,l)}},et.ua=function(){typeof bI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bn(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,bn(this,"complete"),bn(this,"abort"),$v(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$v(this,!0)),h1.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?nk(this):this.kb())},et.kb=function(){nk(this)},et.isActive=function(){return!!this.g},et.da=function(){try{return 2<I3(this)?this.g.status:-1}catch{return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),MJ(e)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=ak.prototype).ra=8,et.H=1,et.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const a=new pf(this,this.l,n);let l=this.s;if(this.U&&(l?(l=pN(l),gN(l,this.U)):l=this.U),null!==this.o||this.O||(a.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=lk(this,a,e),P2(t=U4(this.I),"RID",n),P2(t,"CVER",22),this.F&&P2(t,"X-HTTP-Session-Id",this.F),Hf(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(sk(l)))+"&"+e:this.o&&nz(t,this.o,l)),ez(this.i,a),this.bb&&P2(t,"TYPE","init"),this.P?(P2(t,"$req",e),P2(t,"SID","null"),a.aa=!0,QI(a,t,null)):QI(a,t,e),this.H=2}}else 3==this.H&&(n?ck(this,n):0==this.j.length||KN(this.i)||ck(this))},et.Ma=function(){if(this.u=null,fk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=df(Rn(this.jb,this),n)}},et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,er(10),Gv(this),fk(this))},et.ib=function(){null!=this.v&&(this.v=null,Gv(this),iz(this),er(19))},et.pb=function(n){n?(this.l.info("Successfully pinged google.com"),er(2)):(this.l.info("Failed to ping google.com"),er(1))},et.isActive=function(){return!!this.h&&this.h.isActive(this)},(et=vk.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.isActive=function(){return!0},et.Va=function(){},Kv.prototype.g=function(n,e){return new ii(n,e)},un(ii,fn),ii.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;er(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=mk(n,null,n.Y),qv(n)},ii.prototype.close=function(){rz(this.g)},ii.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=UI(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&qv(e)},ii.prototype.N=function(){this.g.h=null,delete this.j,rz(this.g),delete this.g,ii.$.N.call(this)},un(yk,WI),un(Ck,KI),un(ml,vk),ml.prototype.Ba=function(){bn(this.g,"a")},ml.prototype.Aa=function(n){bn(this.g,new yk(n))},ml.prototype.za=function(n){bn(this.g,new Ck)},ml.prototype.ya=function(){bn(this.g,"b")},un(Vs,function IJ(){this.blockSize=-1}),Vs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,a=this.h,l=0;l<e;){if(0==a)for(;l<=t;)az(this,n,l),l+=this.blockSize;if("string"==typeof n){for(;l<e;)if(r[a++]=n.charCodeAt(l++),a==this.blockSize){az(this,r),a=0;break}}else for(;l<e;)if(r[a++]=n[l++],a==this.blockSize){az(this,r),a=0;break}}this.h=a,this.i+=e},Vs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var zJ={};function oz(n){return-128<=n&&128>n?function NX(n,e){var t=zJ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new v2([0|e],0>e?-1:0)}):new v2([0|n],0>n?-1:0)}function z3(n){if(isNaN(n)||!isFinite(n))return gl;if(0>n)return Hn(z3(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=cz;return new v2(e,0)}var cz=4294967296,gl=oz(0),lz=oz(1),_k=oz(16777216);function j4(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ti(n){return-1==n.h}function Hn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new v2(t,~n.h).add(lz)}function Zv(n,e){return n.add(Hn(e))}function Yv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Vf(n,e){this.g=n,this.h=e}function Qv(n,e){if(j4(e))throw Error("division by zero");if(j4(n))return new Vf(gl,gl);if(Ti(n))return e=Qv(Hn(n),e),new Vf(Hn(e.g),Hn(e.h));if(Ti(e))return e=Qv(n,Hn(e)),new Vf(Hn(e.g),e.h);if(30<n.g.length){if(Ti(n)||Ti(e))throw Error("slowDivide_ only works with positive integers.");for(var t=lz,r=e;0>=r.X(n);)t=wk(t),r=wk(r);var a=vl(t,1),l=vl(r,1);for(r=vl(r,2),t=vl(t,2);!j4(r);){var f=l.add(r);0>=f.X(n)&&(a=a.add(t),l=f),r=vl(r,1),t=vl(t,1)}return e=Zv(n,a.R(e)),new Vf(a,e)}for(a=gl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),f=(l=z3(t)).R(e);Ti(f)||0<f.X(n);)f=(l=z3(t-=r)).R(e);j4(l)&&(l=lz),a=a.add(l),n=Zv(n,f)}return new Vf(a,n)}function wk(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new v2(t,n.h)}function vl(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,a=[],l=0;l<r;l++)a[l]=0<e?n.D(l+t)>>>e|n.D(l+t+1)<<32-e:n.D(l+t);return new v2(a,n.h)}(et=v2.prototype).ea=function(){if(Ti(this))return-Hn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:cz+r)*e,e*=cz}return n},et.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(j4(this))return"0";if(Ti(this))return"-"+Hn(this).toString(n);for(var e=z3(Math.pow(n,6)),t=this,r="";;){var a=Qv(t,e).g,l=((0<(t=Zv(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(j4(t=a))return l+r;for(;6>l.length;)l="0"+l;r=l+r}},et.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},et.X=function(n){return Ti(n=Zv(this,n))?-1:j4(n)?0:1},et.abs=function(){return Ti(this)?Hn(this):this},et.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,a=0;a<=e;a++){var l=r+(65535&this.D(a))+(65535&n.D(a)),f=(l>>>16)+(this.D(a)>>>16)+(n.D(a)>>>16);r=f>>>16,t[a]=(f&=65535)<<16|(l&=65535)}return new v2(t,-2147483648&t[t.length-1]?-1:0)},et.R=function(n){if(j4(this)||j4(n))return gl;if(Ti(this))return Ti(n)?Hn(this).R(Hn(n)):Hn(Hn(this).R(n));if(Ti(n))return Hn(this.R(Hn(n)));if(0>this.X(_k)&&0>n.X(_k))return z3(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<n.g.length;a++){var l=this.D(r)>>>16,f=65535&this.D(r),m=n.D(a)>>>16,_=65535&n.D(a);t[2*r+2*a]+=f*_,Yv(t,2*r+2*a),t[2*r+2*a+1]+=l*_,Yv(t,2*r+2*a+1),t[2*r+2*a+1]+=f*m,Yv(t,2*r+2*a+1),t[2*r+2*a+2]+=l*m,Yv(t,2*r+2*a+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new v2(t,0)},et.gb=function(n){return Qv(this,n).h},et.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new v2(t,this.h&n.h)},et.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new v2(t,this.h|n.h)},et.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new v2(t,this.h^n.h)},Kv.prototype.createWebChannel=Kv.prototype.g,ii.prototype.send=ii.prototype.u,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,Nv.NO_ERROR=0,Nv.TIMEOUT=8,Nv.HTTP_ERROR=6,xN.COMPLETE="complete",TN.EventType=hf,hf.OPEN="a",hf.CLOSE="b",hf.ERROR="c",hf.MESSAGE="d",fn.prototype.listen=fn.prototype.O,h1.prototype.listenOnce=h1.prototype.P,h1.prototype.getLastError=h1.prototype.Sa,h1.prototype.getLastErrorCode=h1.prototype.Ia,h1.prototype.getStatus=h1.prototype.da,h1.prototype.getResponseJson=h1.prototype.Wa,h1.prototype.getResponseText=h1.prototype.ja,h1.prototype.send=h1.prototype.ha,h1.prototype.setWithCredentials=h1.prototype.Oa,Vs.prototype.digest=Vs.prototype.l,Vs.prototype.reset=Vs.prototype.reset,Vs.prototype.update=Vs.prototype.j,v2.prototype.add=v2.prototype.add,v2.prototype.multiply=v2.prototype.R,v2.prototype.modulo=v2.prototype.gb,v2.prototype.compare=v2.prototype.X,v2.prototype.toNumber=v2.prototype.ea,v2.prototype.toString=v2.prototype.toString,v2.prototype.getBits=v2.prototype.D,v2.fromNumber=z3,v2.fromString=function Mk(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Hn(Mk(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=z3(Math.pow(e,8)),r=gl,a=0;a<n.length;a+=8){var l=Math.min(8,n.length-a),f=parseInt(n.substring(a,a+l),e);8>l?(l=z3(Math.pow(e,l)),r=r.R(l).add(z3(f))):r=(r=r.R(t)).add(z3(f))}return r};var EJ=Hs.createWebChannelTransport=function(){return new Kv},SJ=Hs.getStatEventTarget=function(){return Tv()},uz=Hs.ErrorCode=Nv,LJ=Hs.EventType=xN,DJ=Hs.Event=N6,bk=Hs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xJ=Hs.FetchXmlHttpFactory=Mf,Xv=Hs.WebChannel=TN,AJ=Hs.XhrIo=h1,TJ=Hs.Md5=Vs,yl=Hs.Integer=v2;const Hk="@firebase/firestore";class dn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let Cl="9.23.0";const xo=new So.Yd("@firebase/firestore");function fz(){return xo.logLevel}function Re(n,...e){if(xo.logLevel<=So.in.DEBUG){const t=e.map(dz);xo.debug(`Firestore (${Cl}): ${n}`,...t)}}function I1(n,...e){if(xo.logLevel<=So.in.ERROR){const t=e.map(dz);xo.error(`Firestore (${Cl}): ${n}`,...t)}}function Ni(n,...e){if(xo.logLevel<=So.in.WARN){const t=e.map(dz);xo.warn(`Firestore (${Cl}): ${n}`,...t)}}function dz(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: `+n;throw I1(e),new Error(e)}function Ct(n,e){n||ot()}function Xe(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends a2.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class K1{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class RJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OJ{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const l=V=>this.i!==a?(a=this.i,t(V)):Promise.resolve();let f=new K1;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new K1,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const V=f;e.enqueueRetryable((0,_e.Z)(function*(){yield V.promise,yield l(r.currentUser)}))},_=V=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(V=>_(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?_(V):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new K1)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new Vk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new dn(e)}}class FJ{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class BJ{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new FJ(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ik{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UJ{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=l=>{null!=l.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?a(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.T=t.token,new Ik(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jJ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class zk{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const a=jJ(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[l]%62))}return r}}function kt(n,e){return n<e?-1:n>e?1:0}function Ml(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function Ek(n){return n+"\0"}class Q2{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Q2.fromMillis(Date.now())}static fromDate(e){return Q2.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Q2(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Q2(0,0))}static max(){return new _t(new Q2(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class If{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===If.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof If?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=e.get(a),f=t.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class t2 extends If{construct(e,t,r){return new t2(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new t2(t)}static emptyPath(){return new t2([])}}const $J=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class p1 extends If{construct(e,t,r){return new p1(e,t,r)}static isValidIdentifier(e){return $J.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),p1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new p1(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(0===r.length)throw new Ee(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;a<e.length;){const m=e[a];if("\\"===m){if(a+1===e.length)throw new Ee(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[a+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ee(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,a+=2}else"`"===m?(f=!f,a++):"."!==m||f?(r+=m,a++):(l(),a++)}if(l(),f)throw new Ee(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new p1(t)}static emptyPath(){return new p1([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(t2.fromString(e))}static fromName(e){return new Qe(t2.fromString(e).popFirst(5))}static empty(){return new Qe(t2.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===t2.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return t2.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new t2(e.slice()))}}class Jv{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function hz(n){return n.fields.find(e=>2===e.kind)}function O6(n){return n.fields.filter(e=>2!==e.kind)}Jv.UNKNOWN_ID=-1;class ey{constructor(e,t){this.fieldPath=e,this.kind=t}}class zf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new zf(0,si.min())}}function Sk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=_t.fromTimestamp(1e9===r?new Q2(t+1,0):new Q2(t,r));return new si(a,Qe.empty(),e)}function Lk(n){return new si(n.readTime,n.key,-1)}class si{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new si(_t.min(),Qe.empty(),-1)}static max(){return new si(_t.max(),Qe.empty(),-1)}}function pz(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:kt(n.largestBatchId,e.largestBatchId))}const Dk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ao(n){return mz.apply(this,arguments)}function mz(){return mz=(0,_e.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==Dk)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),mz.apply(this,arguments)}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let a=0,l=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++l,f&&l===a&&t()},_=>r(_))}),f=!0,l===a&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(a=>a?te.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new te((r,a)=>{const l=e.length,f=new Array(l);let m=0;for(let _=0;_<l;_++){const V=_;t(e[V]).next(E=>{f[V]=E,++m,m===l&&r(f)},E=>a(E))}})}static doWhile(e,t){return new te((r,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):r()};l()})}}class ty{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new K1,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ef(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const a=gz(r.target.error);this.v.reject(new Ef(e,a))}}static open(e,t,r,a){try{return new ty(t,e.transaction(a,r))}catch(l){throw new Ef(t,l)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new KJ(t)}}class Is{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Is.S((0,a2.z$)())&&I1("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),F6(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,a2.hl)())return!1;if(Is.C())return!0;const e=(0,a2.z$)(),t=Is.S(e),r=0<t&&t<10,a=Is.N(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=f=>{r(f.target.result)},l.onblocked=()=>{a(new Ef(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const m=f.target.error;a("VersionError"===m.name?new Ee(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ee(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Ef(e,m))},l.onupgradeneeded=f=>{Re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.O(f.target.result,l.transaction,f.oldVersion,t.version).next(()=>{Re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var l=this;return(0,_e.Z)(function*(){const f="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.$(e);const _=ty.open(l.db,e,f?"readonly":"readwrite",r),V=a(_).next(E=>(_.P(),E)).catch(E=>(_.abort(E),te.reject(E))).toPromise();return V.catch(()=>{}),yield _.R,V}catch(_){const V=_,E="FirebaseError"!==V.name&&m<3;if(Re("SimpleDb","Transaction failed with error:",V.message,"Retrying:",E),l.close(),!E)return Promise.reject(V)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class WJ{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return F6(this.L.delete())}}class Ef extends Ee{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function To(n){return"IndexedDbTransactionError"===n.name}class KJ{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Re("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),F6(r)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),F6(this.store.add(e))}get(e){return F6(this.store.get(e)).next(t=>(void 0===t&&(t=null),Re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),F6(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),F6(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const a=this.cursor(r),l=[];return this.W(a,(f,m)=>{l.push(m)}).next(()=>l)}{const a=this.store.getAll(r.range);return new te((l,f)=>{a.onerror=m=>{f(m.target.error)},a.onsuccess=m=>{l(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new te((a,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}J(e,t){Re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const a=this.cursor(r);return this.W(a,(l,f,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.W(a,t)}Z(e){const t=this.cursor({});return new te((r,a)=>{t.onerror=l=>{const f=gz(l.target.error);a(f)},t.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(m=>{m?f.continue():r()}):r()}})}W(e,t){const r=[];return new te((a,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const m=f.target.result;if(!m)return void a();const _=new WJ(m),V=t(m.primaryKey,m.value,_);if(V instanceof te){const E=V.catch(x=>(_.done(),te.reject(x)));r.push(E)}_.isDone?a():null===_.K?m.continue():m.continue(_.K)}}).next(()=>te.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function F6(n){return new te((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=gz(r.target.error);t(a)}})}let Ak=!1;function gz(n){const e=Is.S((0,a2.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ak||(Ak=!0,setTimeout(()=>{throw r},0)),r}}return n}class ZJ{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{Re("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){To(r)?Re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ao(r)}yield t.et(6e4)}))}}class YJ{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let a=t,l=!0;return te.doWhile(()=>!0===l&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!r.has(f))return Re("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(m=>{a-=m,r.add(f)});l=!1})).next(()=>t-a)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next(l=>{const f=l.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,l)).next(m=>(Re("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>f.size)}))}rt(e,t){let r=e;return t.changes.forEach((a,l)=>{const f=Lk(l);pz(f,r)>0&&(r=f)}),new si(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ai=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>r.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Sf(n){return null==n}function Lf(n){return 0===n&&1/n==-1/0}function Tk(n){return"number"==typeof n&&Number.isInteger(n)&&!Lf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Fn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Nk(e)),e=QJ(n.get(t),e);return Nk(e)}function QJ(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Nk(n){return n+"\x01\x01"}function E3(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),t2.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const f=n.indexOf("\x01",l);switch((f<0||f>t)&&ot(),n.charAt(f+1)){case"\x01":const m=n.substring(l,f);let _;0===a.length?_=m:(a+=m,_=a,a=""),r.push(_);break;case"\x10":a+=n.substring(l,f),a+="\0";break;case"\x11":a+=n.substring(l,f+1);break;default:ot()}l=f+2}return new t2(r)}const kk=["userId","batchId"];function ny(n,e){return[n,Fn(e)]}function Pk(n,e,t){return[n,Fn(e),t]}const XJ={},JJ=["prefixPath","collectionGroup","readTime","documentId"],eee=["prefixPath","collectionGroup","documentId"],tee=["collectionGroup","readTime","prefixPath","documentId"],nee=["canonicalId","targetId"],ree=["targetId","path"],iee=["path","targetId"],see=["collectionId","parent"],aee=["indexId","uid"],oee=["uid","sequenceNumber"],cee=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lee=["indexId","uid","orderedDocumentKey"],uee=["userId","collectionPath","documentId"],fee=["userId","collectionPath","largestBatchId"],dee=["userId","collectionGroup","largestBatchId"],Rk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hee=[...Rk,"documentOverlays"],Ok=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fk=Ok,pee=[...Fk,"indexConfiguration","indexState","indexEntries"];class vz extends xk{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function hn(n,e){const t=Xe(n);return Is.M(t.ht,e)}function Bk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function No(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Uk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class A2{constructor(e,t){this.comparator=e,this.root=t||Vn.EMPTY}insert(e,t){return new A2(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new A2(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ry(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ry(this.root,e,this.comparator,!1)}getReverseIterator(){return new ry(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ry(this.root,e,this.comparator,!0)}}class ry{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Vn.RED,this.left=a??Vn.EMPTY,this.right=l??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Vn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Vn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1,Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,a){return this}insert(n,e,t){return new Vn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class R2{constructor(e){this.comparator=e,this.data=new A2(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jk(this.data.getIterator())}getIteratorFrom(e){return new jk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof R2)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new R2(this.comparator);return t.data=e,t}}class jk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _l(n){return n.hasNext()?n.getNext():void 0}class _r{constructor(e){this.fields=e,e.sort(p1.comparator)}static empty(){return new _r([])}unionWith(e){let t=new R2(p1.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class $k extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Z1{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $k("Invalid base64 string: "+a):a}}(e);return new Z1(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new Z1(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Z1.EMPTY_BYTE_STRING=new Z1("");const gee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=gee.exec(n);if(Ct(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:m1(n.seconds),nanos:m1(n.nanos)}}function m1(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $4(n){return"string"==typeof n?Z1.fromBase64String(n):Z1.fromUint8Array(n)}function iy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sy(n){const e=n.mapValue.fields.__previous_value__;return iy(e)?sy(e):e}function Df(n){const e=ko(n.mapValue.fields.__local_write_time__.timestampValue);return new Q2(e.seconds,e.nanos)}class vee{constructor(e,t,r,a,l,f,m,_,V){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=_,this.useFetchStreams=V}}class Po{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Po("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}const Ro={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ay={nullValue:"NULL_VALUE"};function Oo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iy(n)?4:Kk(n)?9007199254740991:10:ot()}function S3(n,e){if(n===e)return!0;const t=Oo(n);if(t!==Oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Df(n).isEqual(Df(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=ko(r.timestampValue),f=ko(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,$4(n.bytesValue).isEqual($4(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return m1(r.geoPointValue.latitude)===m1(a.geoPointValue.latitude)&&m1(r.geoPointValue.longitude)===m1(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return m1(r.integerValue)===m1(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=m1(r.doubleValue),f=m1(a.doubleValue);return l===f?Lf(l)===Lf(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return Ml(n.arrayValue.values||[],e.arrayValue.values||[],S3);case 10:return function(r,a){const l=r.mapValue.fields||{},f=a.mapValue.fields||{};if(Bk(l)!==Bk(f))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===f[m]||!S3(l[m],f[m])))return!1;return!0}(n,e);default:return ot()}var a}function xf(n,e){return void 0!==(n.values||[]).find(t=>S3(t,e))}function Fo(n,e){if(n===e)return 0;const t=Oo(n),r=Oo(e);if(t!==r)return kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const f=m1(a.integerValue||a.doubleValue),m=m1(l.integerValue||l.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return Gk(n.timestampValue,e.timestampValue);case 4:return Gk(Df(n),Df(e));case 5:return kt(n.stringValue,e.stringValue);case 6:return function(a,l){const f=$4(a),m=$4(l);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),m=l.split("/");for(let _=0;_<f.length&&_<m.length;_++){const V=kt(f[_],m[_]);if(0!==V)return V}return kt(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const f=kt(m1(a.latitude),m1(l.latitude));return 0!==f?f:kt(m1(a.longitude),m1(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],m=l.values||[];for(let _=0;_<f.length&&_<m.length;++_){const V=Fo(f[_],m[_]);if(V)return V}return kt(f.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===Ro.mapValue&&l===Ro.mapValue)return 0;if(a===Ro.mapValue)return 1;if(l===Ro.mapValue)return-1;const f=a.fields||{},m=Object.keys(f),_=l.fields||{},V=Object.keys(_);m.sort(),V.sort();for(let E=0;E<m.length&&E<V.length;++E){const x=kt(m[E],V[E]);if(0!==x)return x;const O=Fo(f[m[E]],_[V[E]]);if(0!==O)return O}return kt(m.length,V.length)}(n.mapValue,e.mapValue);default:throw ot()}}function Gk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return kt(n,e);const t=ko(n),r=ko(e),a=kt(t.seconds,r.seconds);return 0!==a?a:kt(t.nanos,r.nanos)}function wl(n){return yz(n)}function yz(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=ko(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$4(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",l=!0;for(const f of r.values||[])l?l=!1:a+=",",a+=yz(f);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",f=!0;for(const m of a)f?f=!1:l+=",",l+=`${m}:${yz(r.fields[m])}`;return l+"}"}(n.mapValue):ot();var e}function B6(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Cz(n){return!!n&&"integerValue"in n}function Af(n){return!!n&&"arrayValue"in n}function qk(n){return!!n&&"nullValue"in n}function Wk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cy(n){return!!n&&"mapValue"in n}function Tf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return No(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Tf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Kk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function yee(n){return"nullValue"in n?ay:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?B6(Po.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function Cee(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?B6(Po.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ro:ot()}function Zk(n,e){const t=Fo(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Yk(n,e){const t=Fo(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tf(t)}setAll(e){let t=p1.emptyPath(),r={},a=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const _=this.getFieldsMap(t);this.applyChanges(_,r,a),r={},a=[],t=m.popLast()}f?r[m.lastSegment()]=Tf(f):a.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());cy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return S3(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];cy(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){No(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new In(Tf(this.value))}}function Qk(n){const e=[];return No(n.fields,(t,r)=>{const a=new p1([t]);if(cy(r)){const l=Qk(r.mapValue).fields;if(0===l.length)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)}),new _r(e)}class O2{constructor(e,t,r,a,l,f,m){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=f,this.documentState=m}static newInvalidDocument(e){return new O2(e,0,_t.min(),_t.min(),_t.min(),In.empty(),0)}static newFoundDocument(e,t,r,a){return new O2(e,1,t,_t.min(),r,a,0)}static newNoDocument(e,t){return new O2(e,2,t,_t.min(),_t.min(),In.empty(),0)}static newUnknownDocument(e,t){return new O2(e,3,t,_t.min(),_t.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof O2&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new O2(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bo{constructor(e,t){this.position=e,this.inclusive=t}}function Xk(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],f=n.position[a];if(r=l.field.isKeyField()?Qe.comparator(Qe.fromName(f.referenceValue),t.key):Fo(f,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Jk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!S3(n.position[t],e.position[t]))return!1;return!0}class bl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class eP{}class Qt extends eP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new _ee(e,t,r):"array-contains"===t?new Hee(e,r):"in"===t?new aP(e,r):"not-in"===t?new Vee(e,r):"array-contains-any"===t?new Iee(e,r):new Qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new wee(e,r):new bee(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Fo(t,this.value)):null!==t&&Oo(this.value)===Oo(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class y2 extends eP{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new y2(e,t)}matches(e){return Hl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Hl(n){return"and"===n.op}function Mz(n){return"or"===n.op}function _z(n){return tP(n)&&Hl(n)}function tP(n){for(const e of n.filters)if(e instanceof y2)return!1;return!0}function wz(n){if(n instanceof Qt)return n.field.canonicalString()+n.op.toString()+wl(n.value);if(_z(n))return n.filters.map(e=>wz(e)).join(",");{const e=n.filters.map(t=>wz(t)).join(",");return`${n.op}(${e})`}}function nP(n,e){return n instanceof Qt?(t=n,(r=e)instanceof Qt&&t.op===r.op&&t.field.isEqual(r.field)&&S3(t.value,r.value)):n instanceof y2?function(t,r){return r instanceof y2&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((a,l,f)=>a&&nP(l,r.filters[f]),!0)}(n,e):void ot();var t,r}function rP(n,e){const t=n.filters.concat(e);return y2.create(t,n.op)}function iP(n){return n instanceof Qt?`${(e=n).field.canonicalString()} ${e.op} ${wl(e.value)}`:n instanceof y2?function(e){return e.op.toString()+" {"+e.getFilters().map(iP).join(" ,")+"}"}(n):"Filter";var e}class _ee extends Qt{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class wee extends Qt{constructor(e,t){super(e,"in",t),this.keys=sP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bee extends Qt{constructor(e,t){super(e,"not-in",t),this.keys=sP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class Hee extends Qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Af(t)&&xf(t.arrayValue,this.value)}}class aP extends Qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xf(this.value.arrayValue,t)}}class Vee extends Qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xf(this.value.arrayValue,t)}}class Iee extends Qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Af(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xf(this.value.arrayValue,r))}}class zee{constructor(e,t=null,r=[],a=[],l=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=f,this.endAt=m,this.dt=null}}function bz(n,e=null,t=[],r=[],a=null,l=null,f=null){return new zee(n,e,t,r,a,l,f)}function U6(n){const e=Xe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>wz(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),Sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wl(r)).join(",")),e.dt=t}return e.dt}function Nf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Mee(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jk(n.startAt,e.startAt)&&Jk(n.endAt,e.endAt)}function ly(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function uy(n,e){return n.filters.filter(t=>t instanceof Qt&&t.field.isEqual(e))}function oP(n,e,t){let r=ay,a=!0;for(const l of uy(n,e)){let f=ay,m=!0;switch(l.op){case"<":case"<=":f=yee(l.value);break;case"==":case"in":case">=":f=l.value;break;case">":f=l.value,m=!1;break;case"!=":case"not-in":f=ay}Zk({value:r,inclusive:a},{value:f,inclusive:m})<0&&(r=f,a=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const f=t.position[l];Zk({value:r,inclusive:a},{value:f,inclusive:t.inclusive})<0&&(r=f,a=t.inclusive);break}return{value:r,inclusive:a}}function cP(n,e,t){let r=Ro,a=!0;for(const l of uy(n,e)){let f=Ro,m=!0;switch(l.op){case">=":case">":f=Cee(l.value),m=!1;break;case"==":case"in":case"<=":f=l.value;break;case"<":f=l.value,m=!1;break;case"!=":case"not-in":f=Ro}Yk({value:r,inclusive:a},{value:f,inclusive:m})>0&&(r=f,a=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const f=t.position[l];Yk({value:r,inclusive:a},{value:f,inclusive:t.inclusive})>0&&(r=f,a=t.inclusive);break}return{value:r,inclusive:a}}class G4{constructor(e,t=null,r=[],a=[],l=null,f="F",m=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=f,this.startAt=m,this.endAt=_,this.wt=null,this._t=null}}function lP(n,e,t,r,a,l,f,m){return new G4(n,e,t,r,a,l,f,m)}function Vl(n){return new G4(n)}function uP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Hz(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function fy(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Vz(n){return null!==n.collectionGroup}function j6(n){const e=Xe(n);if(null===e.wt){e.wt=[];const t=fy(e),r=Hz(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new bl(t)),e.wt.push(new bl(p1.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new bl(p1.keyField(),l))}}}return e.wt}function tr(n){const e=Xe(n);if(!e._t)if("F"===e.limitType)e._t=bz(e.path,e.collectionGroup,j6(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of j6(e))t.push(new bl(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Bo(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Bo(e.startAt.position,e.startAt.inclusive):null;e._t=bz(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e._t}function Iz(n,e){e.getFirstInequalityField(),fy(n);const t=n.filters.concat([e]);return new G4(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function dy(n,e,t){return new G4(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kf(n,e){return Nf(tr(n),tr(e))&&n.limitType===e.limitType}function fP(n){return`${U6(tr(n))}|lt:${n.limitType}`}function zz(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>iP(r)).join(", ")}]`),Sf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wl(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wl(r)).join(",")),`Target(${t})`}(tr(n))}; limitType=${n.limitType})`}function Pf(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Qe.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of j6(t))if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(a,l,f){const m=Xk(a,l,f);return a.inclusive?m<=0:m<0}(t.startAt,j6(t),r)||t.endAt&&!function(a,l,f){const m=Xk(a,l,f);return a.inclusive?m>=0:m>0}(t.endAt,j6(t),r)));var t,r}function dP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hP(n){return(e,t)=>{let r=!1;for(const a of j6(n)){const l=Eee(a,e,t);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function Eee(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(a,l,f){const m=l.data.field(a),_=f.data.field(a);return null!==m&&null!==_?Fo(m,_):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class q4{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return Uk(this.inner)}size(){return this.innerSize}}const See=new A2(Qe.comparator);function wr(){return See}const pP=new A2(Qe.comparator);function Rf(...n){let e=pP;for(const t of n)e=e.insert(t.key,t);return e}function mP(n){let e=pP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function L3(){return Of()}function gP(){return Of()}function Of(){return new q4(n=>n.toString(),(n,e)=>n.isEqual(e))}const Lee=new A2(Qe.comparator),Dee=new R2(Qe.comparator);function Gt(...n){let e=Dee;for(const t of n)e=e.add(t);return e}const xee=new R2(kt);function Ez(){return xee}function vP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(e)?"-0":e}}function yP(n){return{integerValue:""+n}}function CP(n,e){return Tk(e)?yP(e):vP(n,e)}class hy{constructor(){this._=void 0}}function Aee(n,e,t){return n instanceof Il?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&iy(a)&&(a=sy(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof $6?_P(n,e):n instanceof G6?wP(n,e):function(r,a){const l=MP(r,a),f=bP(l)+bP(r.gt);return Cz(l)&&Cz(r.gt)?yP(f):vP(r.serializer,f)}(n,e)}function Tee(n,e,t){return n instanceof $6?_P(n,e):n instanceof G6?wP(n,e):t}function MP(n,e){return n instanceof zl?Cz(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Il extends hy{}class $6 extends hy{constructor(e){super(),this.elements=e}}function _P(n,e){const t=HP(e);for(const r of n.elements)t.some(a=>S3(a,r))||t.push(r);return{arrayValue:{values:t}}}class G6 extends hy{constructor(e){super(),this.elements=e}}function wP(n,e){let t=HP(e);for(const r of n.elements)t=t.filter(a=>!S3(a,r));return{arrayValue:{values:t}}}class zl extends hy{constructor(e,t){super(),this.serializer=e,this.gt=t}}function bP(n){return m1(n.integerValue||n.doubleValue)}function HP(n){return Af(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ff{constructor(e,t){this.field=e,this.transform=t}}class kee{constructor(e,t){this.version=e,this.transformResults=t}}class X2{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new X2}static exists(e){return new X2(void 0,e)}static updateTime(e){return new X2(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function py(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class my{}function VP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Sl(n.key,X2.none()):new El(n.key,n.data,X2.none());{const t=n.data,r=In.empty();let a=new R2(p1.comparator);for(let l of e.fields)if(!a.has(l)){let f=t.field(l);null===f&&l.length>1&&(l=l.popLast(),f=t.field(l)),null===f?r.delete(l):r.set(l,f),a=a.add(l)}return new W4(n.key,r,new _r(a.toArray()),X2.none())}}function Pee(n,e,t){n instanceof El?function(r,a,l){const f=r.value.clone(),m=EP(r.fieldTransforms,a,l.transformResults);f.setAll(m),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof W4?function(r,a,l){if(!py(r.precondition,a))return void a.convertToUnknownDocument(l.version);const f=EP(r.fieldTransforms,a,l.transformResults),m=a.data;m.setAll(zP(r)),m.setAll(f),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bf(n,e,t,r){return n instanceof El?function(a,l,f,m){if(!py(a.precondition,l))return f;const _=a.value.clone(),V=SP(a.fieldTransforms,m,l);return _.setAll(V),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof W4?function(a,l,f,m){if(!py(a.precondition,l))return f;const _=SP(a.fieldTransforms,m,l),V=l.data;return V.setAll(zP(a)),V.setAll(_),l.convertToFoundDocument(l.version,V).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,r):(f=t,py(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Ree(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=MP(r.transform,a||null);null!=l&&(null===t&&(t=In.empty()),t.set(r.field,l))}return t||null}function IP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ml(t,r,(a,l)=>function Nee(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof $6&&r instanceof $6||t instanceof G6&&r instanceof G6?Ml(t.elements,r.elements,S3):t instanceof zl&&r instanceof zl?S3(t.gt,r.gt):t instanceof Il&&r instanceof Il);var t,r}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class El extends my{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class W4 extends my{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zP(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function EP(n,e,t){const r=new Map;Ct(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],f=l.transform,m=e.data.field(l.field);r.set(l.field,Tee(f,m,t[a]))}return r}function SP(n,e,t){const r=new Map;for(const a of n){const l=a.transform,f=t.data.field(a.field);r.set(a.field,Aee(l,f,e))}return r}class Sl extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sz extends my{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lz{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Pee(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gP();return this.mutations.forEach(a=>{const l=e.get(a.key),f=l.overlayedDocument;let m=this.applyToLocalView(f,l.mutatedFields);m=t.has(a.key)?null:m;const _=VP(f,m);null!==_&&r.set(a.key,_),f.isValidDocument()||f.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(t,r)=>IP(t,r))&&Ml(this.baseMutations,e.baseMutations,(t,r)=>IP(t,r))}}class Dz{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Ct(e.mutations.length===r.length);let a=Lee;const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,r[f].version);return new Dz(e,t,r,a)}}class xz{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fee{constructor(e,t){this.count=e,this.unchangedNames=t}}var R1,n2;function LP(n){switch(n){default:return ot();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function DP(n){if(void 0===n)return I1("GRPC error has no .code"),ce.UNKNOWN;switch(n){case R1.OK:return ce.OK;case R1.CANCELLED:return ce.CANCELLED;case R1.UNKNOWN:return ce.UNKNOWN;case R1.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case R1.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case R1.INTERNAL:return ce.INTERNAL;case R1.UNAVAILABLE:return ce.UNAVAILABLE;case R1.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case R1.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case R1.NOT_FOUND:return ce.NOT_FOUND;case R1.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case R1.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case R1.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case R1.ABORTED:return ce.ABORTED;case R1.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case R1.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case R1.DATA_LOSS:return ce.DATA_LOSS;default:return ot()}}(n2=R1||(R1={}))[n2.OK=0]="OK",n2[n2.CANCELLED=1]="CANCELLED",n2[n2.UNKNOWN=2]="UNKNOWN",n2[n2.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n2[n2.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n2[n2.NOT_FOUND=5]="NOT_FOUND",n2[n2.ALREADY_EXISTS=6]="ALREADY_EXISTS",n2[n2.PERMISSION_DENIED=7]="PERMISSION_DENIED",n2[n2.UNAUTHENTICATED=16]="UNAUTHENTICATED",n2[n2.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n2[n2.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n2[n2.ABORTED=10]="ABORTED",n2[n2.OUT_OF_RANGE=11]="OUT_OF_RANGE",n2[n2.UNIMPLEMENTED=12]="UNIMPLEMENTED",n2[n2.INTERNAL=13]="INTERNAL",n2[n2.UNAVAILABLE=14]="UNAVAILABLE",n2[n2.DATA_LOSS=15]="DATA_LOSS";class Az{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return gy}static getOrCreateInstance(){return null===gy&&(gy=new Az),gy}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let gy=null;function xP(){return new TextEncoder}const Bee=new yl([4294967295,4294967295],0);function AP(n){const e=xP().encode(n),t=new TJ;return t.update(e),new Uint8Array(t.digest())}function TP(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new yl([t,r],0),new yl([a,l],0)]}class Tz{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Uf(`Invalid padding: ${t}`);if(r<0)throw new Uf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Uf(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Uf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=yl.fromNumber(this.It)}Et(e,t,r){let a=e.add(t.multiply(yl.fromNumber(r)));return 1===a.compare(Bee)&&(a=new yl([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=AP(e),[r,a]=TP(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(r,a,l);if(!this.At(f))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Tz(l,a,t);return r.forEach(m=>f.insert(m)),f}insert(e){if(0===this.It)return;const t=AP(e),[r,a]=TP(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(r,a,l);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Uf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jf{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,$f.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new jf(_t.min(),a,new A2(kt),wr(),Gt())}}class $f{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new $f(r,t,Gt(),Gt(),Gt())}}class vy{constructor(e,t,r,a){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=a}}class NP{constructor(e,t){this.targetId=e,this.Vt=t}}class kP{constructor(e,t,r=Z1.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class PP{constructor(){this.St=0,this.Dt=OP(),this.Ct=Z1.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Gt(),t=Gt(),r=Gt();return this.Dt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:ot()}}),new $f(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=OP()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Uee{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=wr(),this.zt=RP(),this.Wt=new A2(kt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,a)=>{this.te(a)&&t(a)})}ne(e){var t;const r=e.targetId,a=e.Vt.count,l=this.se(r);if(l){const f=l.target;if(ly(f))if(0===a){const m=new Qe(f.path);this.Yt(r,m,O2.newNoDocument(m,_t.min()))}else Ct(1===a);else{const m=this.ie(r);if(m!==a){const _=this.re(e,m);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Az.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(V,E,x){var O,q,de,Ae,Pe,ft;const lt={localCacheCount:E,existenceFilterCount:x.count},st=x.unchangedNames;return st&&(lt.bloomFilter={applied:0===V,hashCount:null!==(O=st?.hashCount)&&void 0!==O?O:0,bitmapLength:null!==(Ae=null===(de=null===(q=st?.bits)||void 0===q?void 0:q.bitmap)||void 0===de?void 0:de.length)&&void 0!==Ae?Ae:0,padding:null!==(ft=null===(Pe=st?.bits)||void 0===Pe?void 0:Pe.padding)&&void 0!==ft?ft:0}),lt}(_,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:a}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:m=0}=r;let _,V;try{_=$4(l).toUint8Array()}catch(E){if(E instanceof $k)return Ni("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw E}try{V=new Tz(_,f,m)}catch(E){return Ni(E instanceof Uf?"BloomFilter error: ":"Applying bloom filter failed: ",E),1}return 0===V.It?1:a!==t-this.oe(e.targetId,V)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let a=0;return r.forEach(l=>{const f=this.Gt.ue(),m=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;t.vt(m)||(this.Yt(e,l,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((l,f)=>{const m=this.se(f);if(m){if(l.current&&ly(m.target)){const _=new Qe(m.target.path);null!==this.jt.get(_)||this.ae(f,_)||this.Yt(f,_,O2.newNoDocument(_,e))}l.Mt&&(t.set(f,l.Ot()),l.Ft())}});let r=Gt();this.zt.forEach((l,f)=>{let m=!0;f.forEachWhile(_=>{const V=this.se(_);return!V||"TargetPurposeLimboResolution"===V.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const a=new jf(e,t,this.Wt,this.jt,r);return this.jt=wr(),this.zt=RP(),this.Wt=new A2(kt),a}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new PP,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new R2(kt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new PP),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function RP(){return new A2(Qe.comparator)}function OP(){return new A2(Qe.comparator)}const jee={asc:"ASCENDING",desc:"DESCENDING"},$ee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gee={and:"AND",or:"OR"};class qee{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nz(n,e){return n.useProto3Json||Sf(e)?e:{value:e}}function Ll(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Wee(n,e){return Ll(n,e.toTimestamp())}function z1(n){return Ct(!!n),_t.fromTimestamp(function(e){const t=ko(e);return new Q2(t.seconds,t.nanos)}(n))}function kz(n,e){return(t=n,new t2(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function BP(n){const e=t2.fromString(n);return Ct(YP(e)),e}function Gf(n,e){return kz(n.databaseId,e.path)}function D3(n,e){const t=BP(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(jP(t))}function Pz(n,e){return kz(n.databaseId,e)}function UP(n){const e=BP(n);return 4===e.length?t2.emptyPath():jP(e)}function qf(n){return new t2(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jP(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function $P(n,e,t){return{name:Gf(n,e),fields:t.value.mapValue.fields}}function GP(n,e,t){const r=D3(n,e.name),a=z1(e.updateTime),l=e.createTime?z1(e.createTime):_t.min(),f=new In({mapValue:{fields:e.fields}}),m=O2.newFoundDocument(r,a,l,f);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Wf(n,e){let t;if(e instanceof El)t={update:$P(n,e.key,e.value)};else if(e instanceof Sl)t={delete:Gf(n,e.key)};else if(e instanceof W4)t={update:$P(n,e.key,e.data),updateMask:tte(e.fieldMask)};else{if(!(e instanceof Sz))return ot();t={verify:Gf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const f=l.transform;if(f instanceof Il)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof $6)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof G6)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zl)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Wee(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ot()),t;var a}function Rz(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?X2.updateTime(z1(a.updateTime)):void 0!==a.exists?X2.exists(a.exists):X2.none():X2.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(l,f){let m=null;"setToServerValue"in f?(Ct("REQUEST_TIME"===f.setToServerValue),m=new Il):"appendMissingElements"in f?m=new $6(f.appendMissingElements.values||[]):"removeAllFromArray"in f?m=new G6(f.removeAllFromArray.values||[]):"increment"in f?m=new zl(l,f.increment):ot();const _=p1.fromServerFormat(f.fieldPath);return new Ff(_,m)}(n,a)):[];var a;if(e.update){const a=D3(n,e.update.name),l=new In({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new _r((e.updateMask.fieldPaths||[]).map(V=>p1.fromServerFormat(V)));return new W4(a,l,f,t,r)}return new El(a,l,t,r)}if(e.delete){const a=D3(n,e.delete);return new Sl(a,t)}if(e.verify){const a=D3(n,e.verify);return new Sz(a,t)}return ot()}function qP(n,e){return{documents:[Pz(n,e.path)]}}function Oz(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Pz(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Pz(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(_){if(0!==_.length)return ZP(y2.create(_,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(_){if(0!==_.length)return _.map(V=>{return{field:Uo((E=V).field),direction:Xee(E.dir)};var E})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=Nz(n,e.limit);var m,_;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function WP(n){let e=UP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Ct(1===r);const E=t.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(E){const x=KP(E);return x instanceof y2&&_z(x)?x.getFilters():[x]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(E=>{return new bl(Dl((x=E).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let m=null;t.limit&&(m=function(E){let x;return x="object"==typeof E?E.value:E,Sf(x)?null:x}(t.limit));let _=null;var E;t.startAt&&(_=new Bo((E=t.startAt).values||[],!!E.before));let V=null;return t.endAt&&(V=function(E){return new Bo(E.values||[],!E.before)}(t.endAt)),lP(e,a,f,l,m,"F",_,V)}function KP(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Dl(e.unaryFilter.field);return Qt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Dl(e.unaryFilter.field);return Qt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Dl(e.unaryFilter.field);return Qt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Dl(e.unaryFilter.field);return Qt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?Qt.create(Dl((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return y2.create(e.compositeFilter.filters.map(t=>KP(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function Xee(n){return jee[n]}function Jee(n){return $ee[n]}function ete(n){return Gee[n]}function Uo(n){return{fieldPath:n.canonicalString()}}function Dl(n){return p1.fromServerFormat(n.fieldPath)}function ZP(n){return n instanceof Qt?function(e){if("=="===e.op){if(Wk(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NAN"}};if(qk(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Wk(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NAN"}};if(qk(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(e.field),op:Jee(e.op),value:e.value}}}(n):n instanceof y2?function(e){const t=e.getFilters().map(r=>ZP(r));return 1===t.length?t[0]:{compositeFilter:{op:ete(e.op),filters:t}}}(n):ot()}function tte(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class K4{constructor(e,t,r,a,l=_t.min(),f=_t.min(),m=Z1.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=_}withSequenceNumber(e){return new K4(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new K4(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new K4(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new K4(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QP{constructor(e){this.fe=e}}function XP(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:yy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Gf(a=n.fe,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Ll(a,l.version.toTimestamp()),createTime:Ll(a,l.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:q6(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:q6(e.version)}}var a,l;return r}function yy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function q6(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function W6(n){const e=new Q2(n.seconds,n.nanoseconds);return _t.fromTimestamp(e)}function K6(n,e){const t=(e.baseMutations||[]).map(l=>Rz(n.fe,l));for(let l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);const r=e.mutations.map(l=>Rz(n.fe,l)),a=Q2.fromMillis(e.localWriteTimeMs);return new Lz(e.batchId,a,t,r)}function Kf(n){const e=W6(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?W6(n.lastLimboFreeSnapshotVersion):_t.min();let r;var a;return void 0!==n.query.documents?(Ct(1===(a=n.query).documents.length),r=tr(Vl(UP(a.documents[0])))):r=tr(WP(n.query)),new K4(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Z1.fromBase64String(n.resumeToken))}function JP(n,e){const t=q6(e.snapshotVersion),r=q6(e.lastLimboFreeSnapshotVersion);let a;a=ly(e.target)?qP(n.fe,e.target):Oz(n.fe,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:U6(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function Fz(n){const e=WP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dy(e,e.limit,"L"):e}function Bz(n,e){return new xz(e.largestBatchId,Rz(n.fe,e.overlayMutation))}function eR(n,e){const t=e.path.lastSegment();return[n,Fn(e.path.popLast()),t]}function tR(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:q6(r.readTime),documentKey:Fn(r.documentKey.path),largestBatchId:r.largestBatchId}}class rte{getBundleMetadata(e,t){return nR(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:W6(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return nR(e).put({bundleId:(r=t).id,createTime:q6(z1(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return rR(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:Fz(a.bundledQuery),readTime:W6(a.readTime)};var a})}saveNamedQuery(e,t){return rR(e).put({name:(r=t).name,readTime:q6(z1(r.readTime)),bundledQuery:r.bundledQuery});var r}}function nR(n){return hn(n,"bundles")}function rR(n){return hn(n,"namedQueries")}class Cy{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Cy(e,t.uid||"")}getOverlay(e,t){return Zf(e).get(eR(this.userId,t)).next(r=>r?Bz(this.serializer,r):null)}getOverlays(e,t){const r=L3();return te.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){const a=[];return r.forEach((l,f)=>{const m=new xz(t,f);a.push(this.we(e,m))}),te.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach(f=>a.add(Fn(f.getCollectionPath())));const l=[];return a.forEach(f=>{const m=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);l.push(Zf(e).J("collectionPathOverlayIndex",m))}),te.waitFor(l)}getOverlaysForCollection(e,t,r){const a=L3(),l=Fn(t),f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Zf(e).j("collectionPathOverlayIndex",f).next(m=>{for(const _ of m){const V=Bz(this.serializer,_);a.set(V.getKey(),V)}return a})}getOverlaysForCollectionGroup(e,t,r,a){const l=L3();let f;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zf(e).X({index:"collectionGroupOverlayIndex",range:m},(_,V,E)=>{const x=Bz(this.serializer,V);l.size()<a||x.largestBatchId===f?(l.set(x.getKey(),x),f=x.largestBatchId):E.done()}).next(()=>l)}we(e,t){return Zf(e).put(function(r,a,l){const[f,m,_]=eR(a,l.mutation.key);return{userId:a,collectionPath:m,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Wf(r.fe,l.mutation)}}(this.serializer,this.userId,t))}}function Zf(n){return hn(n,"documentOverlays")}class Z6{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(m1(e.integerValue));else if("doubleValue"in e){const r=m1(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Lf(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae($4(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?Kk(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ot()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const a of Object.keys(r))this.Te(a,t),this.me(r[a],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const a of r)this.me(a,t)}ve(e,t){this.ye(t,37),Qe.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function ite(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function iR(n){const e=64-function(t){let r=0;for(let a=0;a<8;++a){const l=ite(255&t[a]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Z6.Ve=new Z6;class ste{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const a=t.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const a=t.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const t=this.Fe(e),r=iR(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Le(e){const t=this.Fe(e),r=iR(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class ate{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class ote{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Yf{constructor(){this.je=new ste,this.ze=new ate(this.je),this.We=new ote(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Y6{constructor(e,t,r,a){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=a}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Y6(this.indexId,this.documentKey,this.arrayValue,r)}}function jo(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=sR(n.arrayValue,e.arrayValue),0!==t?t:(t=sR(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function sR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class cte{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Ct(e.collectionGroup===this.collectionId);const t=hz(e);if(void 0!==t&&!this.en(t))return!1;const r=O6(e);let a=new Set,l=0,f=0;for(;l<r.length&&this.en(r[l]);++l)a=a.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const m=r[l];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[f++],m))return!1}++l}for(;l<r.length;++l)if(f>=this.Ye.length||!this.sn(this.Ye[f++],r[l]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function aR(n){var e,t;if(Ct(n instanceof Qt||n instanceof y2),n instanceof Qt){if(n instanceof aP){const a=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>Qt.create(n.field,"==",l)))||[];return y2.create(a,"or")}return n}const r=n.filters.map(a=>aR(a));return y2.create(r,n.op)}function lte(n){if(0===n.getFilters().length)return[];const e=$z(aR(n));return Ct(oR(e)),Uz(e)||jz(e)?[e]:e.getFilters()}function Uz(n){return n instanceof Qt}function jz(n){return n instanceof y2&&_z(n)}function oR(n){return Uz(n)||jz(n)||function(e){if(e instanceof y2&&Mz(e)){for(const t of e.getFilters())if(!Uz(t)&&!jz(t))return!1;return!0}return!1}(n)}function $z(n){if(Ct(n instanceof Qt||n instanceof y2),n instanceof Qt)return n;if(1===n.filters.length)return $z(n.filters[0]);const e=n.filters.map(r=>$z(r));let t=y2.create(e,n.op);return t=My(t),oR(t)?t:(Ct(t instanceof y2),Ct(Hl(t)),Ct(t.filters.length>1),t.filters.reduce((r,a)=>Gz(r,a)))}function Gz(n,e){let t;return Ct(n instanceof Qt||n instanceof y2),Ct(e instanceof Qt||e instanceof y2),t=n instanceof Qt?e instanceof Qt?y2.create([n,e],"and"):cR(n,e):e instanceof Qt?cR(e,n):function(r,a){if(Ct(r.filters.length>0&&a.filters.length>0),Hl(r)&&Hl(a))return rP(r,a.getFilters());const l=Mz(r)?r:a,f=Mz(r)?a:r,m=l.filters.map(_=>Gz(_,f));return y2.create(m,"or")}(n,e),My(t)}function cR(n,e){if(Hl(e))return rP(e,n.getFilters());{const t=e.filters.map(r=>Gz(n,r));return y2.create(t,"or")}}function My(n){if(Ct(n instanceof Qt||n instanceof y2),n instanceof Qt)return n;const e=n.getFilters();if(1===e.length)return My(e[0]);if(tP(n))return n;const t=e.map(a=>My(a)),r=[];return t.forEach(a=>{a instanceof Qt?r.push(a):a instanceof y2&&(a.op===n.op?r.push(...a.filters):r.push(a))}),1===r.length?r[0]:y2.create(r,n.op)}class ute{constructor(){this.rn=new qz}addToCollectionParentIndex(e,t){return this.rn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(si.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(si.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class qz{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new R2(t2.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new R2(t2.comparator)).toArray()}}const _y=new Uint8Array(0);class fte{constructor(e,t){this.user=e,this.databaseId=t,this.on=new qz,this.un=new q4(r=>U6(r),(r,a)=>Nf(r,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const l={collectionId:r,parent:Fn(a)};return lR(e).put(l)}return te.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[Ek(t),""],!1,!0);return lR(e).j(a).next(l=>{for(const f of l){if(f.collectionId!==t)break;r.push(E3(f.parent))}return r})}addFieldIndex(e,t){const r=wy(e),a={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var f;delete a.indexId;const l=r.add(a);if(t.indexState){const f=Xf(e);return l.next(m=>{f.put(tR(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=wy(e),a=Xf(e),l=Qf(e);return r.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Qf(e);let a=!0;const l=new Map;return te.forEach(this.cn(t),f=>this.an(e,f).next(m=>{a&&(a=!!m),l.set(f,m)})).next(()=>{if(a){let f=Gt();const m=[];return te.forEach(l,(_,V)=>{var E;Re("IndexedDbIndexManager",`Using index ${E=_,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(st=>`${st.fieldPath}:${st.kind}`).join(",")}`} to execute ${U6(t)}`);const x=function(st,vt){const Ht=hz(vt);if(void 0===Ht)return null;for(const Bt of uy(st,Ht.fieldPath))switch(Bt.op){case"array-contains-any":return Bt.value.arrayValue.values||[];case"array-contains":return[Bt.value]}return null}(V,_),O=function(st,vt){const Ht=new Map;for(const Bt of O6(vt))for(const J2 of uy(st,Bt.fieldPath))switch(J2.op){case"==":case"in":Ht.set(Bt.fieldPath.canonicalString(),J2.value);break;case"not-in":case"!=":return Ht.set(Bt.fieldPath.canonicalString(),J2.value),Array.from(Ht.values())}return null}(V,_),q=function(st,vt){const Ht=[];let Bt=!0;for(const J2 of O6(vt)){const zs=0===J2.kind?oP(st,J2.fieldPath,st.startAt):cP(st,J2.fieldPath,st.startAt);Ht.push(zs.value),Bt&&(Bt=zs.inclusive)}return new Bo(Ht,Bt)}(V,_),de=function(st,vt){const Ht=[];let Bt=!0;for(const J2 of O6(vt)){const zs=0===J2.kind?cP(st,J2.fieldPath,st.endAt):oP(st,J2.fieldPath,st.endAt);Ht.push(zs.value),Bt&&(Bt=zs.inclusive)}return new Bo(Ht,Bt)}(V,_),Ae=this.hn(_,V,q),Pe=this.hn(_,V,de),ft=this.ln(_,V,O),lt=this.fn(_.indexId,x,Ae,q.inclusive,Pe,de.inclusive,ft);return te.forEach(lt,st=>r.H(st,t.limit).next(vt=>{vt.forEach(Ht=>{const Bt=Qe.fromSegments(Ht.documentKey);f.has(Bt)||(f=f.add(Bt),m.push(Bt))})}))}).next(()=>m)}return te.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:lte(y2.create(e.filters,"and")).map(r=>bz(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,a,l,f,m){const _=(null!=t?t.length:1)*Math.max(r.length,l.length),V=_/(null!=t?t.length:1),E=[];for(let x=0;x<_;++x){const O=t?this.dn(t[x/V]):_y,q=this.wn(e,O,r[x%V],a),de=this._n(e,O,l[x%V],f),Ae=m.map(Pe=>this.wn(e,O,Pe,!0));E.push(...this.createRange(q,de,Ae))}return E}wn(e,t,r,a){const l=new Y6(e,Qe.empty(),t,r);return a?l:l.Je()}_n(e,t,r,a){const l=new Y6(e,Qe.empty(),t,r);return a?l.Je():l}an(e,t){const r=new cte(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(l=>{let f=null;for(const m of l)r.tn(m)&&(!f||m.fields.length>f.fields.length)&&(f=m);return f})}getIndexType(e,t){let r=2;const a=this.cn(t);return te.forEach(a,l=>this.an(e,l).next(f=>{f?0!==r&&f.fields.length<function(m){let _=new R2(p1.comparator),V=!1;for(const E of m.filters)for(const x of E.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?V=!0:_=_.add(x.field));for(const E of m.orderBy)E.field.isKeyField()||(_=_.add(E.field));return _.size+(V?1:0)}(l)&&(r=1):r=0})).next(()=>null!==t.limit&&a.length>1&&2===r?1:r)}mn(e,t){const r=new Yf;for(const a of O6(e)){const l=t.data.field(a.fieldPath);if(null==l)return null;const f=r.He(a.kind);Z6.Ve._e(l,f)}return r.Qe()}dn(e){const t=new Yf;return Z6.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Yf;return Z6.Ve._e(B6(this.databaseId,t),r.He(function(a){const l=O6(a);return 0===l.length?0:l[l.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let a=[];a.push(new Yf);let l=0;for(const f of O6(e)){const m=r[l++];for(const _ of a)if(this.yn(t,f.fieldPath)&&Af(m))a=this.pn(a,f,m);else{const V=_.He(f.kind);Z6.Ve._e(m,V)}}return this.In(a)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const a=[...e],l=[];for(const f of r.arrayValue.values||[])for(const m of a){const _=new Yf;_.seed(m.Qe()),Z6.Ve._e(f,_.He(t.kind)),l.push(_)}return l}yn(e,t){return!!e.filters.find(r=>r instanceof Qt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=wy(e),a=Xf(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(l=>{const f=[];return te.forEach(l,m=>a.get([m.indexId,this.uid]).next(_=>{f.push(function(V,E){const x=E?new zf(E.sequenceNumber,new si(W6(E.readTime),new Qe(E3(E.documentKey)),E.largestBatchId)):zf.empty(),O=V.fields.map(([q,de])=>new ey(p1.fromServerFormat(q),de));return new Jv(V.indexId,V.collectionGroup,O,x)}(m,_))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,a)=>{const l=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==l?l:kt(r.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const a=wy(e),l=Xf(e);return this.Tn(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>te.forEach(m,_=>l.put(tR(_.indexId,this.user,f,r)))))}updateIndexEntries(e,t){const r=new Map;return te.forEach(t,(a,l)=>{const f=r.get(a.collectionGroup);return(f?te.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(m=>(r.set(a.collectionGroup,m),te.forEach(m,_=>this.En(e,a,_).next(V=>{const E=this.An(l,_);return V.isEqual(E)?te.resolve():this.vn(e,l,_,V,E)}))))})}Rn(e,t,r,a){return Qf(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,a){return Qf(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const a=Qf(e);let l=new R2(jo);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(f,m)=>{l=l.add(new Y6(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}An(e,t){let r=new R2(jo);const a=this.mn(t,e);if(null==a)return r;const l=hz(t);if(null!=l){const f=e.data.field(l.fieldPath);if(Af(f))for(const m of f.arrayValue.values||[])r=r.add(new Y6(t.indexId,e.key,this.dn(m),a))}else r=r.add(new Y6(t.indexId,e.key,_y,a));return r}vn(e,t,r,a,l){Re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(m,_,V,E,x){const O=m.getIterator(),q=_.getIterator();let de=_l(O),Ae=_l(q);for(;de||Ae;){let Pe=!1,ft=!1;if(de&&Ae){const lt=V(de,Ae);lt<0?ft=!0:lt>0&&(Pe=!0)}else null!=de?ft=!0:Pe=!0;Pe?(E(Ae),Ae=_l(q)):ft?(x(de),de=_l(O)):(de=_l(O),Ae=_l(q))}}(a,l,jo,m=>{f.push(this.Rn(e,t,r,m))},m=>{f.push(this.Pn(e,t,r,m))}),te.waitFor(f)}Tn(e){let t=1;return Xf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,l)=>{l.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((f,m)=>jo(f,m)).filter((f,m,_)=>!m||0!==jo(f,_[m-1]));const a=[];a.push(e);for(const f of r){const m=jo(f,e),_=jo(f,t);if(0===m)a[0]=e.Je();else if(m>0&&_<0)a.push(f),a.push(f.Je());else if(_>0)break}a.push(t);const l=[];for(let f=0;f<a.length;f+=2){if(this.bn(a[f],a[f+1]))return[];l.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,_y,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,_y,[]]))}return l}bn(e,t){return jo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(uR)}getMinOffset(e,t){return te.mapArray(this.cn(t),r=>this.an(e,r).next(a=>a||ot())).next(uR)}}function lR(n){return hn(n,"collectionParents")}function Qf(n){return hn(n,"indexEntries")}function wy(n){return hn(n,"indexConfiguration")}function Xf(n){return hn(n,"indexState")}function uR(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const a=n[r].indexState.offset;pz(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new si(e.readTime,e.documentKey,t)}const fR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dR(n,e,t){const r=n.store("mutations"),a=n.store("documentMutations"),l=[],f=IDBKeyRange.only(t.batchId);let m=0;const _=r.X({range:f},(E,x,O)=>(m++,O.delete()));l.push(_.next(()=>{Ct(1===m)}));const V=[];for(const E of t.mutations){const x=Pk(e,E.key.path,t.batchId);l.push(a.delete(x)),V.push(E.key)}return te.waitFor(l).next(()=>V)}function by(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class Hy{constructor(e,t,r,a){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=a,this.Vn={}}static de(e,t,r,a){Ct(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Hy(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $o(e).X({index:"userMutationsIndex",range:r},(a,l,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const l=xl(e),f=$o(e);return f.add({}).next(m=>{Ct("number"==typeof m);const _=new Lz(m,t,r,a),V=function(O,q,de){const Ae=de.baseMutations.map(ft=>Wf(O.fe,ft)),Pe=de.mutations.map(ft=>Wf(O.fe,ft));return{userId:q,batchId:de.batchId,localWriteTimeMs:de.localWriteTime.toMillis(),baseMutations:Ae,mutations:Pe}}(this.serializer,this.userId,_),E=[];let x=new R2((O,q)=>kt(O.canonicalString(),q.canonicalString()));for(const O of a){const q=Pk(this.userId,O.key.path,m);x=x.add(O.key.path.popLast()),E.push(f.put(V)),E.push(l.put(q,XJ))}return x.forEach(O=>{E.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.Vn[m]=_.keys()}),te.waitFor(E).next(()=>_)})}lookupMutationBatch(e,t){return $o(e).get(t).next(r=>r?(Ct(r.userId===this.userId),K6(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?te.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Vn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return $o(e).X({index:"userMutationsIndex",range:a},(f,m,_)=>{m.userId===this.userId&&(Ct(m.batchId>=r),l=K6(this.serializer,m)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $o(e).X({index:"userMutationsIndex",range:t,reverse:!0},(a,l,f)=>{r=l.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $o(e).j("userMutationsIndex",t).next(r=>r.map(a=>K6(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=ny(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return xl(e).X({range:a},(f,m,_)=>{const[V,E,x]=f,O=E3(E);if(V===this.userId&&t.path.isEqual(O))return $o(e).get(x).next(q=>{if(!q)throw ot();Ct(q.userId===this.userId),l.push(K6(this.serializer,q))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new R2(kt);const a=[];return t.forEach(l=>{const f=ny(this.userId,l.path),m=IDBKeyRange.lowerBound(f),_=xl(e).X({range:m},(V,E,x)=>{const[O,q,de]=V,Ae=E3(q);O===this.userId&&l.path.isEqual(Ae)?r=r.add(de):x.done()});a.push(_)}),te.waitFor(a).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=ny(this.userId,r),f=IDBKeyRange.lowerBound(l);let m=new R2(kt);return xl(e).X({range:f},(_,V,E)=>{const[x,O,q]=_,de=E3(O);x===this.userId&&r.isPrefixOf(de)?de.length===a&&(m=m.add(q)):E.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],a=[];return t.forEach(l=>{a.push($o(e).get(l).next(f=>{if(null===f)throw ot();Ct(f.userId===this.userId),r.push(K6(this.serializer,f))}))}),te.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return dR(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),te.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return te.resolve();const r=IDBKeyRange.lowerBound([this.userId]),a=[];return xl(e).X({range:r},(l,f,m)=>{if(l[0]===this.userId){const _=E3(l[1]);a.push(_)}else m.done()}).next(()=>{Ct(0===a.length)})})}containsKey(e,t){return hR(e,this.userId,t)}xn(e){return pR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hR(n,e,t){const r=ny(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let f=!1;return xl(n).X({range:l,Y:!0},(m,_,V)=>{const[E,x,O]=m;E===e&&x===a&&(f=!0),V.done()}).next(()=>f)}function $o(n){return hn(n,"mutations")}function xl(n){return hn(n,"documentMutations")}function pR(n){return hn(n,"mutationQueues")}class Q6{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Q6(0)}static Mn(){return new Q6(-1)}}class dte{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Q6(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>_t.fromTimestamp(new Q2(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.On(e,a)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Al(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let a=0;const l=[];return Al(e).X((f,m)=>{const _=Kf(m);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(a++,l.push(this.removeTargetData(e,_)))}).next(()=>te.waitFor(l)).next(()=>a)}forEachTarget(e,t){return Al(e).X((r,a)=>{const l=Kf(a);t(l)})}$n(e){return mR(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}On(e,t){return mR(e).put("targetGlobalKey",t)}Fn(e,t){return Al(e).put(JP(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=U6(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Al(e).X({range:a,index:"queryTargetsIndex"},(f,m,_)=>{const V=Kf(m);Nf(t,V.target)&&(l=V,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const a=[],l=Go(e);return t.forEach(f=>{const m=Fn(f.path);a.push(l.put({targetId:r,path:m})),a.push(this.referenceDelegate.addReference(e,r,f))}),te.waitFor(a)}removeMatchingKeys(e,t,r){const a=Go(e);return te.forEach(t,l=>{const f=Fn(l.path);return te.waitFor([a.delete([r,f]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Go(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Go(e);let l=Gt();return a.X({range:r,Y:!0},(f,m,_)=>{const V=E3(f[1]),E=new Qe(V);l=l.add(E)}).next(()=>l)}containsKey(e,t){const r=Fn(t.path),a=IDBKeyRange.bound([r],[Ek(r)],!1,!0);let l=0;return Go(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,m],_,V)=>{0!==f&&(l++,V.done())}).next(()=>l>0)}le(e,t){return Al(e).get(t).next(r=>r?Kf(r):null)}}function Al(n){return hn(n,"targets")}function mR(n){return hn(n,"targetGlobal")}function Go(n){return hn(n,"targetDocuments")}function gR([n,e],[t,r]){const a=kt(n,t);return 0===a?kt(e,r):a}class hte{constructor(e){this.Ln=e,this.buffer=new R2(gR),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();gR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){To(r)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ao(r)}yield t.Qn(3e5)}))}}class pte{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return te.resolve(ai.ct);const r=new hte(t);return this.jn.forEachTarget(e,a=>r.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>r.Kn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(fR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fR):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,a,l,f,m,_,V;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,f=Date.now(),this.nthSequenceNumber(e,a))).next(x=>(r=x,m=Date.now(),this.removeTargets(e,r,t))).next(x=>(l=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(V=Date.now(),fz()<=So.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-E}ms\n\tDetermined least recently used ${a} in `+(m-f)+`ms\n\tRemoved ${l} targets in `+(_-m)+`ms\n\tRemoved ${x} documents in `+(V-_)+`ms\nTotal Duration: ${V-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:x})))}}class mte{constructor(e,t){this.db=e,this.garbageCollector=function yR(n,e){return new pte(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,a)=>t(a))}addReference(e,t,r){return Vy(e,r)}removeReference(e,t,r){return Vy(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Vy(e,t)}Xn(e,t){return function(r,a){let l=!1;return pR(r).Z(f=>hR(r,f,a).next(m=>(m&&(l=!0),te.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Yn(e,(f,m)=>{if(m<=t){const _=this.Xn(e,f).next(V=>{if(!V)return l++,r.getEntry(e,f).next(()=>(r.removeEntry(f,_t.min()),Go(e).delete([0,Fn(f.path)])))});a.push(_)}}).next(()=>te.waitFor(a)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Vy(e,t)}Yn(e,t){const r=Go(e);let a,l=ai.ct;return r.X({index:"documentTargetsIndex"},([f,m],{path:_,sequenceNumber:V})=>{0===f?(l!==ai.ct&&t(new Qe(E3(a)),l),l=V,a=_):l=ai.ct}).next(()=>{l!==ai.ct&&t(new Qe(E3(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vy(n,e){return Go(n).put((r=n.currentSequenceNumber,{targetId:0,path:Fn(e.path),sequenceNumber:r}));var r}class CR{constructor(){this.changes=new q4(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,O2.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gte{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return X6(e).put(r)}removeEntry(e,t,r){return X6(e).delete(function(a,l){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],yy(l),f[f.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=O2.newInvalidDocument(t);return X6(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Jf(t))},(a,l)=>{r=this.ts(t,l)}).next(()=>r)}es(e,t){let r={size:0,document:O2.newInvalidDocument(t)};return X6(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Jf(t))},(a,l)=>{r={document:this.ts(t,l),size:by(l)}}).next(()=>r)}getEntries(e,t){let r=wr();return this.ns(e,t,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f)}).next(()=>r)}ss(e,t){let r=wr(),a=new A2(Qe.comparator);return this.ns(e,t,(l,f)=>{const m=this.ts(l,f);r=r.insert(l,m),a=a.insert(l,by(f))}).next(()=>({documents:r,rs:a}))}ns(e,t,r){if(t.isEmpty())return te.resolve();let a=new R2(bR);t.forEach(_=>a=a.add(_));const l=IDBKeyRange.bound(Jf(a.first()),Jf(a.last())),f=a.getIterator();let m=f.getNext();return X6(e).X({index:"documentKeyIndex",range:l},(_,V,E)=>{const x=Qe.fromSegments([...V.prefixPath,V.collectionGroup,V.documentId]);for(;m&&bR(m,x)<0;)r(m,null),m=f.getNext();m&&m.isEqual(x)&&(r(m,V),m=f.hasNext()?f.getNext():null),m?E.G(Jf(m)):E.done()}).next(()=>{for(;m;)r(m,null),m=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,r,a){const l=t.path,f=[l.popLast().toArray(),l.lastSegment(),yy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return X6(e).j(IDBKeyRange.bound(f,m,!0)).next(_=>{let V=wr();for(const E of _){const x=this.ts(Qe.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);x.isFoundDocument()&&(Pf(t,x)||a.has(x.key))&&(V=V.insert(x.key,x))}return V})}getAllFromCollectionGroup(e,t,r,a){let l=wr();const f=wR(t,r),m=wR(t,si.max());return X6(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,m,!0)},(_,V,E)=>{const x=this.ts(Qe.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);l=l.insert(x.key,x),l.size===a&&E.done()}).next(()=>l)}newChangeBuffer(e){return new vte(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _R(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Zn(e,t){return _R(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function nte(n,e){let t;if(e.document)t=GP(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),a=W6(e.noDocument.readTime);t=O2.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Qe.fromSegments(e.unknownDocument.path),a=W6(e.unknownDocument.version);t=O2.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime(function(r){const a=new Q2(r[0],r[1]);return _t.fromTimestamp(a)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(_t.min()))return r}return O2.newInvalidDocument(e)}}function MR(n){return new gte(n)}class vte extends CR{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new q4(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new R2((l,f)=>kt(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const m=this.us.get(l);if(t.push(this.os.removeEntry(e,l,m.readTime)),f.isValidDocument()){const _=XP(this.os.serializer,f);a=a.add(l.path.popLast());const V=by(_);r+=V-m.size,t.push(this.os.addEntry(e,l,_))}else if(r-=m.size,this.trackRemovals){const _=XP(this.os.serializer,f.convertToNoDocument(_t.min()));t.push(this.os.addEntry(e,l,_))}}),a.forEach(l=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.os.updateMetadata(e,r)),te.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:a})=>(a.forEach((l,f)=>{this.us.set(l,{size:f,readTime:r.get(l).readTime})}),r))}}function _R(n){return hn(n,"remoteDocumentGlobal")}function X6(n){return hn(n,"remoteDocumentsV14")}function Jf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wR(n,e){const t=e.documentKey.path.toArray();return[n,yy(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function bR(n,e){const t=n.path.toArray(),r=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(a=kt(t[l],r[l]),a)return a;return a=kt(t.length,r.length),a||(a=kt(t[t.length-2],r[r.length-2]),a||kt(t[t.length-1],r[r.length-1]))}class yte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class HR{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==r&&Bf(r.mutation,a,_r.empty(),Q2.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const a=L3();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let f=Rf();return l.forEach((m,_)=>{f=f.insert(m,_.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const r=L3();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,r,a){let l=wr();const f=Of(),m=Of();return t.forEach((_,V)=>{const E=r.get(V.key);a.has(V.key)&&(void 0===E||E.mutation instanceof W4)?l=l.insert(V.key,V):void 0!==E?(f.set(V.key,E.mutation.getFieldMask()),Bf(E.mutation,V,E.mutation.getFieldMask(),Q2.now())):f.set(V.key,_r.empty())}),this.recalculateAndSaveOverlays(e,l).next(_=>(_.forEach((V,E)=>f.set(V,E)),t.forEach((V,E)=>{var x;return m.set(V,new yte(E,null!==(x=f.get(V))&&void 0!==x?x:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Of();let a=new A2((f,m)=>f-m),l=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(_=>{const V=t.get(_);if(null===V)return;let E=r.get(_)||_r.empty();E=m.applyToLocalView(V,E),r.set(_,E);const x=(a.get(m.batchId)||Gt()).add(_);a=a.insert(m.batchId,x)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),V=_.key,E=_.value,x=gP();E.forEach(O=>{if(!l.has(O)){const q=VP(t.get(O),r.get(O));null!==q&&x.set(O,q),l=l.add(O)}}),f.push(this.documentOverlayCache.saveOverlays(e,V,x))}return te.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Qe.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Vz(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var a}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const f=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):te.resolve(L3());let m=-1,_=l;return f.next(V=>te.forEach(V,(E,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),l.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(O=>{_=_.insert(E,O)}))).next(()=>this.populateOverlays(e,V,l)).next(()=>this.computeViews(e,_,V,Gt())).next(E=>({batchId:m,changes:mP(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(r=>{let a=Rf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const a=t.collectionGroup;let l=Rf();return this.indexManager.getCollectionParents(e,a).next(f=>te.forEach(f,m=>{const _=(V=t,E=m.child(a),new G4(E,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt));var V,E;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(V=>{V.forEach((E,x)=>{l=l.insert(E,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a))).next(l=>{a.forEach((m,_)=>{const V=_.getKey();null===l.get(V)&&(l=l.insert(V,O2.newInvalidDocument(V)))});let f=Rf();return l.forEach((m,_)=>{const V=a.get(m);void 0!==V&&Bf(V.mutation,_,_r.empty(),Q2.now()),Pf(t,_)&&(f=f.insert(m,_))}),f})}}class Cte{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return te.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:z1(r.createTime)}),te.resolve()}getNamedQuery(e,t){return te.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Fz(r.bundledQuery),readTime:z1(r.readTime)}),te.resolve();var r}}class Mte{constructor(){this.overlays=new A2(Qe.comparator),this.ls=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=L3();return te.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.we(e,t,l)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.ls.get(r);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const a=L3(),l=t.length+1,f=new Qe(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const _=m.getNext().value,V=_.getKey();if(!t.isPrefixOf(V.path))break;V.path.length===l&&_.largestBatchId>r&&a.set(_.getKey(),_)}return te.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new A2((V,E)=>V-E);const f=this.overlays.getIterator();for(;f.hasNext();){const V=f.getNext().value;if(V.getKey().getCollectionGroup()===t&&V.largestBatchId>r){let E=l.get(V.largestBatchId);null===E&&(E=L3(),l=l.insert(V.largestBatchId,E)),E.set(V.getKey(),V)}}const m=L3(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((V,E)=>m.set(V,E)),!(m.size()>=a)););return te.resolve(m)}we(e,t,r){const a=this.overlays.get(r.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(r.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new xz(t,r));let l=this.ls.get(t);void 0===l&&(l=Gt(),this.ls.set(t,l)),this.ls.set(t,l.add(r.key))}}class Wz{constructor(){this.fs=new R2(pn.ds),this.ws=new R2(pn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new pn(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new pn(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Qe(new t2([])),r=new pn(t,e),a=new pn(t,e+1),l=[];return this.ws.forEachInRange([r,a],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qe(new t2([])),r=new pn(t,e),a=new pn(t,e+1);let l=Gt();return this.ws.forEachInRange([r,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new pn(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class pn{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qe.comparator(e.key,t.key)||kt(e.As,t.As)}static _s(e,t){return kt(e.As,t.As)||Qe.comparator(e.key,t.key)}}class _te{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new R2(pn.ds)}checkEmpty(e){return te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,a){const l=this.vs;this.vs++;const f=new Lz(l,t,r,a);this.mutationQueue.push(f);for(const m of a)this.Rs=this.Rs.add(new pn(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,t){return te.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),l=a<0?0:a;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pn(t,0),a=new pn(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([r,a],f=>{const m=this.Ps(f.As);l.push(m)}),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new R2(kt);return t.forEach(a=>{const l=new pn(a,0),f=new pn(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],m=>{r=r.add(m.As)})}),te.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Qe.isDocumentKey(l)||(l=l.child(""));const f=new pn(new Qe(l),0);let m=new R2(kt);return this.Rs.forEachWhile(_=>{const V=_.key.path;return!!r.isPrefixOf(V)&&(V.length===a&&(m=m.add(_.As)),!0)},f),te.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const a=this.Ps(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Ct(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return te.forEach(t.mutations,a=>{const l=new pn(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new pn(t,0),a=this.Rs.firstAfterOrEqual(r);return te.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return te.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wte{constructor(e){this.Ds=e,this.docs=new A2(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():O2.newInvalidDocument(t))}getEntries(e,t){let r=wr();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():O2.newInvalidDocument(a))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=wr();const f=t.path,m=new Qe(f.child("")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:V,value:{document:E}}=_.getNext();if(!f.isPrefixOf(V.path))break;V.path.length>f.length+1||pz(Lk(E),r)<=0||(a.has(E.key)||Pf(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,r,a){ot()}Cs(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new bte(this)}getSize(e){return te.resolve(this.size)}}class bte extends CR{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Hte{constructor(e){this.persistence=e,this.xs=new q4(t=>U6(t),Nf),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Wz,this.targetCount=0,this.Ms=Q6.kn()}forEachTarget(e,t){return this.xs.forEach((r,a)=>t(a)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),te.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Q6(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Fn(t),te.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.xs.forEach((f,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),te.waitFor(l).next(()=>a)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.ks.containsKey(t))}}class Kz{constructor(e,t){this.$s={},this.overlays={},this.Os=new ai(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Hte(this),this.indexManager=new ute,this.remoteDocumentCache=new wte(r=>this.referenceDelegate.Ls(r)),this.serializer=new QP(t),this.qs=new Cte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mte,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new _te(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const a=new Vte(this.Os.next());return this.referenceDelegate.Us(),r(a).next(l=>this.referenceDelegate.Ks(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Gs(e,t){return te.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Vte extends xk{constructor(e){super(),this.currentSequenceNumber=e}}class Iy{constructor(e){this.persistence=e,this.Qs=new Wz,this.js=null}static zs(e){return new Iy(e)}get Ws(){if(this.js)return this.js;throw ot()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),te.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ws.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Ws,r=>{const a=Qe.fromPath(r);return this.Hs(e,a).next(l=>{l||t.removeEntry(a,_t.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return te.or([()=>te.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Ite{constructor(e){this.serializer=e}O(e,t,r,a){const l=new ty("createOrUpgrade",t);var m;r<1&&a>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kk,{unique:!0}),m.createObjectStore("documentMutations"),VR(e),function(m){m.createObjectStore("remoteDocuments")}(e));let f=te.resolve();return r<3&&a>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),VR(e)),f=f.next(()=>function(m){const _=m.store("targetGlobal"),V={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",V)}(l))),r<4&&a>=4&&(0!==r&&(f=f.next(()=>function(m,_){return _.store("mutations").j().next(V=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kk,{unique:!0});const E=_.store("mutations"),x=V.map(O=>E.put(O));return te.waitFor(x)})}(e,l))),f=f.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&a>=5&&(f=f.next(()=>this.Ys(l))),r<6&&a>=6&&(f=f.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(l)))),r<7&&a>=7&&(f=f.next(()=>this.Zs(l))),r<8&&a>=8&&(f=f.next(()=>this.ti(e,l))),r<9&&a>=9&&(f=f.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&a>=10&&(f=f.next(()=>this.ei(l))),r<11&&a>=11&&(f=f.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&a>=12&&(f=f.next(()=>{!function(m){const _=m.createObjectStore("documentOverlays",{keyPath:uee});_.createIndex("collectionPathOverlayIndex",fee,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",dee,{unique:!1})}(e)})),r<13&&a>=13&&(f=f.next(()=>function(m){const _=m.createObjectStore("remoteDocumentsV14",{keyPath:JJ});_.createIndex("documentKeyIndex",eee),_.createIndex("collectionGroupIndex",tee)}(e)).next(()=>this.ni(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&a>=14&&(f=f.next(()=>this.si(e,l))),r<15&&a>=15&&(f=f.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:aee}).createIndex("sequenceNumberIndex",oee,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:cee}).createIndex("documentKeyIndex",lee,{unique:!1})}(e))),f}Xs(e){let t=0;return e.store("remoteDocuments").X((r,a)=>{t+=by(a)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(a=>te.forEach(a,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",f).next(m=>te.forEach(m,_=>{Ct(_.userId===l.userId);const V=K6(this.serializer,_);return dR(e,l.userId,V).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const l=[];return r.X((f,m)=>{const _=new t2(f),V=[0,Fn(_)];l.push(t.get(V).next(E=>E?te.resolve():t.put({targetId:0,path:Fn(_),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>te.waitFor(l))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:see});const r=t.store("collectionParents"),a=new qz,l=f=>{if(a.add(f)){const m=f.lastSegment(),_=f.popLast();return r.put({collectionId:m,parent:Fn(_)})}};return t.store("remoteDocuments").X({Y:!0},(f,m)=>{const _=new t2(f);return l(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,m,_],V)=>{const E=E3(m);return l(E.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,a)=>{const l=Kf(a),f=JP(this.serializer,l);return t.put(f)})}ni(e,t){const r=t.store("remoteDocuments"),a=[];return r.X((l,f)=>{const m=t.store("remoteDocumentsV14"),_=(V=f,V.document?new Qe(t2.fromString(V.document.name).popFirst(5)):V.noDocument?Qe.fromSegments(V.noDocument.path):V.unknownDocument?Qe.fromSegments(V.unknownDocument.path):ot()).path.toArray();var V;const E={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(m.put(E))}).next(()=>te.waitFor(a))}si(e,t){const r=t.store("mutations"),a=MR(this.serializer),l=new Kz(Iy.zs,this.serializer.fe);return r.j().next(f=>{const m=new Map;return f.forEach(_=>{var V;let E=null!==(V=m.get(_.userId))&&void 0!==V?V:Gt();K6(this.serializer,_).keys().forEach(x=>E=E.add(x)),m.set(_.userId,E)}),te.forEach(m,(_,V)=>{const E=new dn(V),x=Cy.de(this.serializer,E),O=l.getIndexManager(E),q=Hy.de(E,this.serializer,O,l.referenceDelegate);return new HR(a,q,x,O).recalculateAndSaveOverlaysForDocumentKeys(new vz(t,ai.ct),_).next()})})}}function VR(n){n.createObjectStore("targetDocuments",{keyPath:ree}).createIndex("documentTargetsIndex",iee,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nee,{unique:!0}),n.createObjectStore("targetGlobal")}const Zz="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yz{constructor(e,t,r,a,l,f,m,_,V,E,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=l,this.window=f,this.document=m,this.ri=V,this.oi=E,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=O=>Promise.resolve(),!Yz.D())throw new Ee(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mte(this,a),this.di=t+"main",this.serializer=new QP(_),this.wi=new Is(this.di,this.ui,new Ite(this.serializer)),this.Bs=new dte(this.referenceDelegate,this.serializer),this.remoteDocumentCache=MR(this.serializer),this.qs=new rte,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===E&&I1("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ee(ce.FAILED_PRECONDITION,Zz);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ai(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,_e.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ey(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(To(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return e9(e).get("owner").next(t=>te.resolve(this.Ri(t)))}Pi(e){return Ey(e).delete(this.clientId)}bi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=hn(r,"clientMetadata");return a.j().next(l=>{const f=e.Si(l,18e5),m=l.filter(_=>-1===f.indexOf(_));return te.forEach(m,_=>a.delete(_.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?te.resolve(!0):e9(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ee(ce.FAILED_PRECONDITION,Zz);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ey(e).j().next(r=>void 0===this.Si(r,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new vz(t,ai.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ey(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Hy.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fte(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Cy.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Re("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",l=15===(f=this.ui)?pee:14===f?Fk:13===f?Ok:12===f?hee:11===f?Rk:void ot();var f;let m;return this.wi.runTransaction(e,a,l,_=>(m=new vz(_,this.Os?this.Os.next():ai.ct),"readwrite-primary"===t?this.Ti(m).next(V=>!!V||this.Ei(m)).next(V=>{if(!V)throw I1(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ee(ce.FAILED_PRECONDITION,Dk);return r(m)}).next(V=>this.vi(m).next(()=>V)):this.Oi(m).next(()=>r(m)))).then(_=>(m.raiseOnCommittedEvent(),_))}Oi(e){return e9(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ee(ce.FAILED_PRECONDITION,Zz)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return e9(e).put("owner",t)}static D(){return Is.D()}Ai(e){const t=e9(e);return t.get("owner").next(r=>this.Ri(r)?(Re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):te.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(I1(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,a2.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return I1("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){I1("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function e9(n){return hn(n,"owner")}function Ey(n){return hn(n,"clientMetadata")}function Qz(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Xz{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=a}static Li(e,t){let r=Gt(),a=Gt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Xz(e,t.fromCache,r,a)}}class IR{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,a){return this.Ki(e,t).next(l=>l||this.Gi(e,t,a,r)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(uP(t))return te.resolve(null);let r=tr(t);return this.indexManager.getIndexType(e,r).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=dy(t,null,"F"),r=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const f=Gt(...l);return this.Ui.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,r).next(_=>{const V=this.ji(t,m);return this.zi(t,V,f,_.readTime)?this.Ki(e,dy(t,null,"F")):this.Wi(e,V,t,_)}))})))}Gi(e,t,r,a){return uP(t)||a.isEqual(_t.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(l=>{const f=this.ji(t,l);return this.zi(t,f,r,a)?this.Qi(e,t):(fz()<=So.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zz(t)),this.Wi(e,f,t,Sk(a,-1)))})}ji(e,t){let r=new R2(hP(e));return t.forEach((a,l)=>{Pf(e,l)&&(r=r.add(l))}),r}zi(e,t,r,a){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Qi(e,t){return fz()<=So.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",zz(t)),this.Ui.getDocumentsMatchingQuery(e,t,si.min())}Wi(e,t,r,a){return this.Ui.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class zte{constructor(e,t,r,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new A2(kt),this.Yi=new q4(l=>U6(l),Nf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function zR(n,e,t,r){return new zte(n,e,t,r)}function ER(n,e){return Jz.apply(this,arguments)}function Jz(){return Jz=(0,_e.Z)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const f=[],m=[];let _=Gt();for(const V of a){f.push(V.batchId);for(const E of V.mutations)_=_.add(E.key)}for(const V of l){m.push(V.batchId);for(const E of V.mutations)_=_.add(E.key)}return t.localDocuments.getDocuments(r,_).next(V=>({er:V,removedBatchIds:f,addedBatchIds:m}))})})}),Jz.apply(this,arguments)}function SR(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function LR(n,e,t){let r=Gt(),a=Gt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let f=wr();return t.forEach((m,_)=>{const V=l.get(m);_.isFoundDocument()!==V.isFoundDocument()&&(a=a.add(m)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(m,_.readTime),f=f.insert(m,_)):!V.isValidDocument()||_.version.compareTo(V.version)>0||0===_.version.compareTo(V.version)&&V.hasPendingWrites?(e.addEntry(_),f=f.insert(m,_)):Re("LocalStore","Ignoring outdated watch update for ",m,". Current version:",V.version," Watch version:",_.version)}),{nr:f,sr:a}})}function Lte(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tl(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Bs.getTargetData(r,e).next(l=>l?(a=l,te.resolve(a)):t.Bs.allocateTargetId(r).next(f=>(a=new K4(e,f,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ji.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Nl(n,e,t){return eE.apply(this,arguments)}function eE(){return eE=(0,_e.Z)(function*(n,e,t){const r=Xe(n),a=r.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,f=>r.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!To(f))throw f;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(a.target)}),eE.apply(this,arguments)}function Sy(n,e,t){const r=Xe(n);let a=_t.min(),l=Gt();return r.persistence.runTransaction("Execute query","readonly",f=>function(m,_,V){const E=Xe(m),x=E.Yi.get(V);return void 0!==x?te.resolve(E.Ji.get(x)):E.Bs.getTargetData(_,V)}(r,f,tr(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(f,m.targetId).next(_=>{l=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(f,e,t?a:_t.min(),t?l:Gt())).next(m=>(AR(r,dP(e),m),{documents:m,ir:l})))}function DR(n,e){const t=Xe(n),r=Xe(t.Bs),a=t.Ji.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>r.le(l,e).next(f=>f?f.target:null))}function xR(n,e){const t=Xe(n),r=t.Xi.get(e)||_t.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.Zi.getAllFromCollectionGroup(a,e,Sk(r,-1),Number.MAX_SAFE_INTEGER)).then(a=>(AR(t,e,a),a))}function AR(n,e,t){let r=n.Xi.get(e)||_t.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Xi.set(e,r)}function tE(){return tE=(0,_e.Z)(function*(n,e,t,r){const a=Xe(n);let l=Gt(),f=wr();for(const V of t){const E=e.rr(V.metadata.name);V.document&&(l=l.add(E));const x=e.ur(V);x.setReadTime(e.cr(V.metadata.readTime)),f=f.insert(E,x)}const m=a.Zi.newChangeBuffer({trackRemovals:!0}),_=yield Tl(a,(V=r,tr(Vl(t2.fromString(`__bundle__/docs/${V}`)))));var V;return a.persistence.runTransaction("Apply bundle documents","readwrite",V=>LR(V,m,f).next(E=>(m.apply(V),E)).next(E=>a.Bs.removeMatchingKeysForTargetId(V,_.targetId).next(()=>a.Bs.addMatchingKeys(V,l,_.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(V,E.nr,E.sr)).next(()=>E.nr)))}),tE.apply(this,arguments)}function xte(n,e){return nE.apply(this,arguments)}function nE(){return nE=(0,_e.Z)(function*(n,e,t=Gt()){const r=yield Tl(n,tr(Fz(e.bundledQuery))),a=Xe(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const f=z1(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return a.qs.saveNamedQuery(l,e);const m=r.withResumeToken(Z1.EMPTY_BYTE_STRING,f);return a.Ji=a.Ji.insert(m.targetId,m),a.Bs.updateTargetData(l,m).next(()=>a.Bs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>a.Bs.addMatchingKeys(l,t,r.targetId)).next(()=>a.qs.saveNamedQuery(l,e))})}),nE.apply(this,arguments)}function TR(n,e){return`firestore_clients_${n}_${e}`}function NR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function rE(n,e){return`firestore_targets_${n}_${e}`}class Ly{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static ar(e,t,r){const a=JSON.parse(r);let l,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(l=new Ee(a.error.code,a.error.message))),f?new Ly(e,t,a.state,l):(I1("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class t9{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let a,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new Ee(r.error.code,r.error.message))),l?new t9(e,r.state,a):(I1("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,l=Ez();for(let f=0;a&&f<r.activeTargetIds.length;++f)a=Tk(r.activeTargetIds[f]),l=l.add(r.activeTargetIds[f]);return a?new Dy(e,l):(I1("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class iE{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new iE(t.clientId,t.onlineState):(I1("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sE{constructor(){this.activeTargetIds=Ez()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aE{constructor(e,t,r,a,l){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new A2(kt),this.started=!1,this.yr=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.pr=TR(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new sE),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.$i();for(const a of t){if(a===e.wr)continue;const l=e.getItem(TR(e.persistenceKey,a));if(l){const f=Dy.ar(a,l);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const a=e.br(r);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(rE(this.persistenceKey,e));if(r){const a=t9.ar(e,r);a&&(t=a.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rE(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.Cr(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Re("SharedClientState","READ",e,t),t}setItem(e,t){Re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void I1("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const a=t.Or(r.key);return t.Fr(a,null)}{const a=t.Br(r.key,r.newValue);if(a)return t.Fr(a.clientId,a)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const a=t.Lr(r.key,r.newValue);if(a)return t.qr(a)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const a=t.Ur(r.key,r.newValue);if(a)return t.Kr(a)}}else if(r.key===t.vr){if(null!==r.newValue){const a=t.br(r.newValue);if(a)return t.Vr(a)}}else if(r.key===t.Ir){const a=function(l){let f=ai.ct;if(null!=l)try{const m=JSON.parse(l);Ct("number"==typeof m),f=m}catch(m){I1("SharedClientState","Failed to read sequence number from WebStorage",m)}return f}(r.newValue);a!==ai.ct&&t.sequenceNumberHandler(a)}else if(r.key===t.Rr){const a=t.Gr(r.newValue);yield Promise.all(a.map(l=>t.syncEngine.Qr(l)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const a=new Ly(this.currentUser,e,t,r),l=NR(this.persistenceKey,this.currentUser,e);this.setItem(l,a.hr())}Cr(e){const t=NR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const a=rE(this.persistenceKey,e),l=new t9(e,t,r);this.setItem(a,l.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return Dy.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),a=Number(r[1]);return Ly.ar(new dn(void 0!==r[2]?r[2]:null),a,t)}Ur(e,t){const r=this.Ar.exec(e),a=Number(r[1]);return t9.ar(a,t)}br(e){return iE.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),a=this.Sr(this.gr),l=this.Sr(r),f=[],m=[];return l.forEach(_=>{a.has(_)||f.push(_)}),a.forEach(_=>{l.has(_)||m.push(_)}),this.syncEngine.Wr(f,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Ez();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class kR{constructor(){this.Hr=new sE,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ate{Yr(e){}shutdown(){}}class PR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xy=null;function oE(){return null===xy?xy=268435456+Math.round(2147483648*Math.random()):xy++,"0x"+xy.toString(16)}const Tte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nte{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Un="WebChannelConnection";class kte extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,a,l){const f=oE(),m=this.To(e,t);Re("RestConnection",`Sending RPC '${e}' ${f}:`,m,r);const _={};return this.Eo(_,a,l),this.Ao(e,m,_,r).then(V=>(Re("RestConnection",`Received RPC '${e}' ${f}: `,V),V),V=>{throw Ni("RestConnection",`RPC '${e}' ${f} failed with error: `,V,"url: ",m,"request:",r),V})}vo(e,t,r,a,l,f){return this.Io(e,t,r,a,l)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}To(e,t){return`${this.mo}/v1/${t}:${Tte[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,a){const l=oE();return new Promise((f,m)=>{const _=new AJ;_.setWithCredentials(!0),_.listenOnce(LJ.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case uz.NO_ERROR:const E=_.getResponseJson();Re(Un,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),f(E);break;case uz.TIMEOUT:Re(Un,`RPC '${e}' ${l} timed out`),m(new Ee(ce.DEADLINE_EXCEEDED,"Request time out"));break;case uz.HTTP_ERROR:const x=_.getStatus();if(Re(Un,`RPC '${e}' ${l} failed with status:`,x,"response text:",_.getResponseText()),x>0){let O=_.getResponseJson();Array.isArray(O)&&(O=O[0]);const q=O?.error;if(q&&q.status&&q.message){const de=function(Ae){const Pe=Ae.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Pe)>=0?Pe:ce.UNKNOWN}(q.status);m(new Ee(de,q.message))}else m(new Ee(ce.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new Ee(ce.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Re(Un,`RPC '${e}' ${l} completed.`)}});const V=JSON.stringify(a);Re(Un,`RPC '${e}' ${l} sending request:`,a),_.send(t,"POST",V,r,15)})}Ro(e,t,r){const a=oE(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=EJ(),m=SJ(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},V=this.longPollingOptions.timeoutSeconds;void 0!==V&&(_.longPollingTimeout=Math.round(1e3*V)),this.useFetchStreams&&(_.xmlHttpFactory=new xJ({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const E=l.join("");Re(Un,`Creating RPC '${e}' stream ${a}: ${E}`,_);const x=f.createWebChannel(E,_);let O=!1,q=!1;const de=new Nte({ro:Pe=>{q?Re(Un,`Not sending because RPC '${e}' stream ${a} is closed:`,Pe):(O||(Re(Un,`Opening RPC '${e}' stream ${a} transport.`),x.open(),O=!0),Re(Un,`RPC '${e}' stream ${a} sending:`,Pe),x.send(Pe))},oo:()=>x.close()}),Ae=(Pe,ft,lt)=>{Pe.listen(ft,st=>{try{lt(st)}catch(vt){setTimeout(()=>{throw vt},0)}})};return Ae(x,Xv.EventType.OPEN,()=>{q||Re(Un,`RPC '${e}' stream ${a} transport opened.`)}),Ae(x,Xv.EventType.CLOSE,()=>{q||(q=!0,Re(Un,`RPC '${e}' stream ${a} transport closed`),de.wo())}),Ae(x,Xv.EventType.ERROR,Pe=>{q||(q=!0,Ni(Un,`RPC '${e}' stream ${a} transport errored:`,Pe),de.wo(new Ee(ce.UNAVAILABLE,"The operation could not be completed")))}),Ae(x,Xv.EventType.MESSAGE,Pe=>{var ft;if(!q){const lt=Pe.data[0];Ct(!!lt);const vt=lt.error||(null===(ft=lt[0])||void 0===ft?void 0:ft.error);if(vt){Re(Un,`RPC '${e}' stream ${a} received error:`,vt);const Ht=vt.status;let Bt=function(zs){const Es=R1[zs];if(void 0!==Es)return DP(Es)}(Ht),J2=vt.message;void 0===Bt&&(Bt=ce.INTERNAL,J2="Unknown error status: "+Ht+" with message "+vt.message),q=!0,de.wo(new Ee(Bt,J2)),x.close()}else Re(Un,`RPC '${e}' stream ${a} received:`,lt),de._o(lt)}}),Ae(m,DJ.STAT_EVENT,Pe=>{Pe.stat===bk.PROXY?Re(Un,`RPC '${e}' stream ${a} detected buffering proxy`):Pe.stat===bk.NOPROXY&&Re(Un,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{de.fo()},0),de}}function RR(){return typeof window<"u"?window:null}function Ay(){return typeof document<"u"?document:null}function n9(n){return new qee(n,!0)}class cE{constructor(e,t,r=1e3,a=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=a,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-r);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class OR{constructor(e,t,r,a,l,f,m,_){this.ii=e,this.$o=r,this.Oo=a,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new cE(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,_e.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,_e.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(I1(t.toString()),I1("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Fo===t&&this.Zo(r,a)},r=>{e(()=>{const a=new Ee(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(a)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{r(()=>this.tu(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,_e.Z)(function*(){e.state=0,e.start()}))}tu(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pte extends OR{constructor(e,t,r,a,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,f),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Zee(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ot(),a=e.targetChange.targetIds||[],l=function(_,V){return _.useProto3Json?(Ct(void 0===V||"string"==typeof V),Z1.fromBase64String(V||"")):(Ct(void 0===V||V instanceof Uint8Array),Z1.fromUint8Array(V||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const V=void 0===_.code?ce.UNKNOWN:DP(_.code);return new Ee(V,_.message||"")}(f);t=new kP(r,a,l,m||null)}else if("documentChange"in e){const r=e.documentChange,a=D3(n,r.document.name),l=z1(r.document.updateTime),f=r.document.createTime?z1(r.document.createTime):_t.min(),m=new In({mapValue:{fields:r.document.fields}}),_=O2.newFoundDocument(a,l,f,m);t=new vy(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,a=D3(n,r.document),l=r.readTime?z1(r.readTime):_t.min(),f=O2.newNoDocument(a,l);t=new vy([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,a=D3(n,r.document);t=new vy([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:a=0,unchangedNames:l}=r,f=new Fee(a,l);t=new NP(r.targetId,f)}}var _;return t}(this.serializer,e),r=function(a){if(!("targetChange"in a))return _t.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?_t.min():l.readTime?z1(l.readTime):_t.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=qf(this.serializer),t.addTarget=function(a,l){let f;const m=l.target;if(f=ly(m)?{documents:qP(a,m)}:{query:Oz(a,m)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=FP(a,l.resumeToken);const _=Nz(a,l.expectedCount);null!==_&&(f.expectedCount=_)}else if(l.snapshotVersion.compareTo(_t.min())>0){f.readTime=Ll(a,l.snapshotVersion.toTimestamp());const _=Nz(a,l.expectedCount);null!==_&&(f.expectedCount=_)}return f}(this.serializer,e);const r=function Qee(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=qf(this.serializer),t.removeTarget=e,this.Wo(t)}}class Rte extends OR{constructor(e,t,r,a,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Yee(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,a){let l=z1(r.updateTime?r.updateTime:a);return l.isEqual(_t.min())&&(l=z1(a)),new kee(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=z1(e.commitTime);return this.listener.cu(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=qf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Wf(this.serializer,r))};this.Wo(t)}}class Ote extends class{}{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Ee(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Io(e,t,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(ce.UNKNOWN,a.toString())})}vo(e,t,r,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,t,r,l,f,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ce.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class Bte{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(I1(t),this.mu=!1):Re("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ute{constructor(e,t,r,a,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(m=>{r.enqueueAndForget((0,_e.Z)(function*(){var _;qo(f)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,_e.Z)(function*(V){const E=Xe(V);E.vu.add(4),yield kl(E),E.bu.set("Unknown"),E.vu.delete(4),yield r9(E)}),function(V){return _.apply(this,arguments)})(f))}))}),this.bu=new Bte(r,a)}}function r9(n){return uE.apply(this,arguments)}function uE(){return uE=(0,_e.Z)(function*(n){if(qo(n))for(const e of n.Ru)yield e(!0)}),uE.apply(this,arguments)}function kl(n){return fE.apply(this,arguments)}function fE(){return fE=(0,_e.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),fE.apply(this,arguments)}function Ty(n,e){const t=Xe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),pE(t)?hE(t):Rl(t).Ko()&&dE(t,e))}function i9(n,e){const t=Xe(n),r=Rl(t);t.Au.delete(e),r.Ko()&&FR(t,e),0===t.Au.size&&(r.Ko()?r.jo():qo(t)&&t.bu.set("Unknown"))}function dE(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rl(n).su(e)}function FR(n,e){n.Vu.qt(e),Rl(n).iu(e)}function hE(n){n.Vu=new Uee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Rl(n).start(),n.bu.gu()}function pE(n){return qo(n)&&!Rl(n).Uo()&&n.Au.size>0}function qo(n){return 0===Xe(n).vu.size}function BR(n){n.Vu=void 0}function jte(n){return mE.apply(this,arguments)}function mE(){return mE=(0,_e.Z)(function*(n){n.Au.forEach((e,t)=>{dE(n,e)})}),mE.apply(this,arguments)}function $te(n,e){return gE.apply(this,arguments)}function gE(){return gE=(0,_e.Z)(function*(n,e){BR(n),pE(n)?(n.bu.Iu(e),hE(n)):n.bu.set("Unknown")}),gE.apply(this,arguments)}function Gte(n,e,t){return vE.apply(this,arguments)}function vE(){return vE=(0,_e.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof kP&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(a,l){const f=l.cause;for(const m of l.targetIds)a.Au.has(m)&&(yield a.remoteSyncer.rejectListen(m,f),a.Au.delete(m),a.Vu.removeTarget(m))}),function(a,l){return r.apply(this,arguments)})(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ny(n,r)}else if(e instanceof vy?n.Vu.Ht(e):e instanceof NP?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(_t.min()))try{const r=yield SR(n.localStore);t.compareTo(r)>=0&&(yield function(a,l){const f=a.Vu.ce(l);return f.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const V=a.Au.get(_);V&&a.Au.set(_,V.withResumeToken(m.resumeToken,l))}}),f.targetMismatches.forEach((m,_)=>{const V=a.Au.get(m);if(!V)return;a.Au.set(m,V.withResumeToken(Z1.EMPTY_BYTE_STRING,V.snapshotVersion)),FR(a,m);const E=new K4(V.target,m,_,V.sequenceNumber);dE(a,E)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),yield Ny(n,r)}var r}),vE.apply(this,arguments)}function Ny(n,e,t){return yE.apply(this,arguments)}function yE(){return yE=(0,_e.Z)(function*(n,e,t){if(!To(e))throw e;n.vu.add(1),yield kl(n),n.bu.set("Offline"),t||(t=()=>SR(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield r9(n)}))}),yE.apply(this,arguments)}function UR(n,e){return e().catch(t=>Ny(n,t,e))}function Pl(n){return CE.apply(this,arguments)}function CE(){return CE=(0,_e.Z)(function*(n){const e=Xe(n),t=Wo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;qte(e);)try{const a=yield Lte(e.localStore,r);if(null===a){0===e.Eu.length&&t.jo();break}r=a.batchId,Wte(e,a)}catch(a){yield Ny(e,a)}jR(e)&&$R(e)}),CE.apply(this,arguments)}function qte(n){return qo(n)&&n.Eu.length<10}function Wte(n,e){n.Eu.push(e);const t=Wo(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function jR(n){return qo(n)&&!Wo(n).Uo()&&n.Eu.length>0}function $R(n){Wo(n).start()}function Kte(n){return ME.apply(this,arguments)}function ME(){return ME=(0,_e.Z)(function*(n){Wo(n).hu()}),ME.apply(this,arguments)}function Zte(n){return _E.apply(this,arguments)}function _E(){return _E=(0,_e.Z)(function*(n){const e=Wo(n);for(const t of n.Eu)e.uu(t.mutations)}),_E.apply(this,arguments)}function Yte(n,e,t){return wE.apply(this,arguments)}function wE(){return wE=(0,_e.Z)(function*(n,e,t){const r=n.Eu.shift(),a=Dz.from(r,e,t);yield UR(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Pl(n)}),wE.apply(this,arguments)}function Qte(n,e){return bE.apply(this,arguments)}function bE(){return bE=(0,_e.Z)(function*(n,e){var t;e&&Wo(n).ou&&(yield(t=(0,_e.Z)(function*(r,a){if(LP(l=a.code)&&l!==ce.ABORTED){const f=r.Eu.shift();Wo(r).Qo(),yield UR(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Pl(r)}var l}),function(r,a){return t.apply(this,arguments)})(n,e)),jR(n)&&$R(n)}),bE.apply(this,arguments)}function GR(n,e){return HE.apply(this,arguments)}function HE(){return HE=(0,_e.Z)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=qo(t);t.vu.add(3),yield kl(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield r9(t)}),HE.apply(this,arguments)}function VE(n,e){return IE.apply(this,arguments)}function IE(){return IE=(0,_e.Z)(function*(n,e){const t=Xe(n);e?(t.vu.delete(2),yield r9(t)):e||(t.vu.add(2),yield kl(t),t.bu.set("Unknown"))}),IE.apply(this,arguments)}function Rl(n){return n.Su||(n.Su=function(e,t,r){const a=Xe(e);return a.fu(),new Pte(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{uo:jte.bind(null,n),ao:$te.bind(null,n),nu:Gte.bind(null,n)}),n.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Su.Qo(),pE(n)?hE(n):n.bu.set("Unknown")):(yield n.Su.stop(),BR(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Wo(n){return n.Du||(n.Du=function(e,t,r){const a=Xe(e);return a.fu(),new Rte(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{uo:Kte.bind(null,n),ao:Qte.bind(null,n),au:Zte.bind(null,n),cu:Yte.bind(null,n)}),n.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Du.Qo(),yield Pl(n)):(yield n.Du.stop(),n.Eu.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class zE{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new K1,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,a,l){const f=Date.now()+r,m=new zE(e,t,f,a,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ee(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ol(n,e){if(I1("AsyncQueue",`${e}: ${n}`),To(n))return new Ee(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Fl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=Rf(),this.sortedSet=new A2(this.comparator)}static emptySet(e){return new Fl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class qR{constructor(){this.Cu=new A2(Qe.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ot():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bl{constructor(e,t,r,a,l,f,m,_,V){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=V}static fromInitialDocuments(e,t,r,a,l){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new Bl(e,t,Fl.emptySet(t),f,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class Xte{constructor(){this.Nu=void 0,this.listeners=[]}}class Jte{constructor(){this.queries=new q4(e=>fP(e),kf),this.onlineState="Unknown",this.ku=new Set}}function EE(n,e){return SE.apply(this,arguments)}function SE(){return SE=(0,_e.Z)(function*(n,e){const t=Xe(n),r=e.query;let a=!1,l=t.queries.get(r);if(l||(a=!0,l=new Xte),a)try{l.Nu=yield t.onListen(r)}catch(f){const m=Ol(f,`Initialization of query '${zz(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&xE(t)}),SE.apply(this,arguments)}function LE(n,e){return DE.apply(this,arguments)}function DE(){return DE=(0,_e.Z)(function*(n,e){const t=Xe(n),r=e.query;let a=!1;const l=t.queries.get(r);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)}),DE.apply(this,arguments)}function e2e(n,e){const t=Xe(n);let r=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const m of f.listeners)m.$u(a)&&(r=!0);f.Nu=a}}r&&xE(t)}function t2e(n,e,t){const r=Xe(n),a=r.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);r.queries.delete(e)}function xE(n){n.ku.forEach(e=>{e.next()})}class AE{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class n2e{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class WR{constructor(e){this.serializer=e}rr(e){return D3(this.serializer,e)}ur(e){return e.metadata.exists?GP(this.serializer,e.document,!1):O2.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return z1(e)}}class r2e{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KR(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=t2.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new WR(this.serializer);for(const a of e)if(a.metadata.queries){const l=r.rr(a.metadata.name);for(const f of a.metadata.queries){const m=(t.get(f)||Gt()).add(l);t.set(f,m)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function Dte(n,e,t,r){return tE.apply(this,arguments)}(e.localStore,new WR(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const a of e.queries)yield xte(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function KR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ZR{constructor(e){this.key=e}}class YR{constructor(e){this.key=e}}class QR{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Gt(),this.mutatedKeys=Gt(),this.tc=hP(e),this.ec=new Fl(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new qR,a=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,m=!1;const _="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,V="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,x)=>{const O=a.get(E),q=Pf(this.query,x)?x:null,de=!!O&&this.mutatedKeys.has(O.key),Ae=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Pe=!1;O&&q?O.data.isEqual(q.data)?de!==Ae&&(r.track({type:3,doc:q}),Pe=!0):this.rc(O,q)||(r.track({type:2,doc:q}),Pe=!0,(_&&this.tc(q,_)>0||V&&this.tc(q,V)<0)&&(m=!0)):!O&&q?(r.track({type:0,doc:q}),Pe=!0):O&&!q&&(r.track({type:1,doc:O}),Pe=!0,(_||V)&&(m=!0)),Pe&&(q?(f=f.add(q),l=Ae?l.add(E):l.delete(E)):(f=f.delete(E),l=l.delete(E)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const E="F"===this.query.limitType?f.last():f.first();f=f.delete(E.key),l=l.delete(E.key),r.track({type:1,doc:E})}return{ec:f,ic:r,zi:m,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((V,E)=>function(x,O){const q=de=>{switch(de){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return q(x)-q(O)}(V.type,E.type)||this.tc(V.doc,E.doc)),this.oc(r);const f=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,_=m!==this.Xu;return this.Xu=m,0!==l.length||_?{snapshot:new Bl(this.query,e.ec,a,l,e.mutatedKeys,0===m,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new qR,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Gt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new YR(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new ZR(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Gt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Bl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class i2e{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class s2e{constructor(e){this.key=e,this.fc=!1}}class a2e{constructor(e,t,r,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new q4(m=>fP(m),kf),this._c=new Map,this.mc=new Set,this.gc=new A2(Qe.comparator),this.yc=new Map,this.Ic=new Wz,this.Tc={},this.Ec=new Map,this.Ac=Q6.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function o2e(n,e){return TE.apply(this,arguments)}function TE(){return TE=(0,_e.Z)(function*(n,e){const t=rS(n);let r,a;const l=t.wc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),a=l.view.lc();else{const f=yield Tl(t.localStore,tr(e)),m=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,a=yield NE(t,e,r,"current"===m,f.resumeToken),t.isPrimaryClient&&Ty(t.remoteStore,f)}return a}),TE.apply(this,arguments)}function NE(n,e,t,r,a){return kE.apply(this,arguments)}function kE(){return kE=(0,_e.Z)(function*(n,e,t,r,a){n.Rc=(x,O,q)=>{return(de=(0,_e.Z)(function*(Ae,Pe,ft,lt){let st=Pe.view.sc(ft);st.zi&&(st=yield Sy(Ae.localStore,Pe.query,!1).then(({documents:Bt})=>Pe.view.sc(Bt,st)));const vt=lt&&lt.targetChanges.get(Pe.targetId),Ht=Pe.view.applyChanges(st,Ae.isPrimaryClient,vt);return qE(Ae,Pe.targetId,Ht.cc),Ht.snapshot}),function(Ae,Pe,ft,lt){return de.apply(this,arguments)})(n,x,O,q);var de};const l=yield Sy(n.localStore,e,!0),f=new QR(e,l.ir),m=f.sc(l.documents),_=$f.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,a),V=f.applyChanges(m,n.isPrimaryClient,_);qE(n,t,V.cc);const E=new i2e(e,t,f);return n.wc.set(e,E),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),V.snapshot}),kE.apply(this,arguments)}function c2e(n,e){return PE.apply(this,arguments)}function PE(){return PE=(0,_e.Z)(function*(n,e){const t=Xe(n),r=t.wc.get(e),a=t._c.get(r.targetId);if(a.length>1)return t._c.set(r.targetId,a.filter(l=>!kf(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Nl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),i9(t.remoteStore,r.targetId),Ul(t,r.targetId)}).catch(Ao))):(Ul(t,r.targetId),yield Nl(t.localStore,r.targetId,!0))}),PE.apply(this,arguments)}function RE(){return RE=(0,_e.Z)(function*(n,e,t){const r=iS(n);try{const a=yield function(l,f){const m=Xe(l),_=Q2.now(),V=f.reduce((O,q)=>O.add(q.key),Gt());let E,x;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let q=wr(),de=Gt();return m.Zi.getEntries(O,V).next(Ae=>{q=Ae,q.forEach((Pe,ft)=>{ft.isValidDocument()||(de=de.add(Pe))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,q)).next(Ae=>{E=Ae;const Pe=[];for(const ft of f){const lt=Ree(ft,E.get(ft.key).overlayedDocument);null!=lt&&Pe.push(new W4(ft.key,lt,Qk(lt.value.mapValue),X2.exists(!0)))}return m.mutationQueue.addMutationBatch(O,_,Pe,f)}).next(Ae=>{x=Ae;const Pe=Ae.applyToLocalDocumentSet(E,de);return m.documentOverlayCache.saveOverlays(O,Ae.batchId,Pe)})}).then(()=>({batchId:x.batchId,changes:mP(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,f,m){let _=l.Tc[l.currentUser.toKey()];_||(_=new A2(kt)),_=_.insert(f,m),l.Tc[l.currentUser.toKey()]=_}(r,a.batchId,t),yield Z4(r,a.changes),yield Pl(r.remoteStore)}catch(a){const l=Ol(a,"Failed to persist write");t.reject(l)}}),RE.apply(this,arguments)}function XR(n,e){return OE.apply(this,arguments)}function OE(){return OE=(0,_e.Z)(function*(n,e){const t=Xe(n);try{const r=yield function Ste(n,e){const t=Xe(n),r=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const m=[];e.targetChanges.forEach((E,x)=>{const O=a.get(x);if(!O)return;m.push(t.Bs.removeMatchingKeys(l,E.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(l,E.addedDocuments,x)));let q=O.withSequenceNumber(l.currentSequenceNumber);var de,Ae,Pe;null!==e.targetMismatches.get(x)?q=q.withResumeToken(Z1.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,r)),a=a.insert(x,q),Ae=q,Pe=E,(0===(de=O).resumeToken.approximateByteSize()||Ae.snapshotVersion.toMicroseconds()-de.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(l,q))});let _=wr(),V=Gt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),m.push(LR(l,f,e.documentUpdates).next(E=>{_=E.nr,V=E.sr})),!r.isEqual(_t.min())){const E=t.Bs.getLastRemoteSnapshotVersion(l).next(x=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(E)}return te.waitFor(m).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,_,V)).next(()=>_)}).then(l=>(t.Ji=a,l))}(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.yc.get(l);f&&(Ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?Ct(f.fc):a.removedDocuments.size>0&&(Ct(f.fc),f.fc=!1))}),yield Z4(t,r,e)}catch(r){yield Ao(r)}}),OE.apply(this,arguments)}function JR(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.wc.forEach((l,f)=>{const m=f.view.Mu(e);m.snapshot&&a.push(m.snapshot)}),function(l,f){const m=Xe(l);m.onlineState=f;let _=!1;m.queries.forEach((V,E)=>{for(const x of E.listeners)x.Mu(f)&&(_=!0)}),_&&xE(m)}(r.eventManager,e),a.length&&r.dc.nu(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function u2e(n,e,t){return FE.apply(this,arguments)}function FE(){return FE=(0,_e.Z)(function*(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.yc.get(e),l=a&&a.key;if(l){let f=new A2(Qe.comparator);f=f.insert(l,O2.newNoDocument(l,_t.min()));const m=Gt().add(l),_=new jf(_t.min(),new Map,new A2(kt),f,m);yield XR(r,_),r.gc=r.gc.remove(l),r.yc.delete(e),WE(r)}else yield Nl(r.localStore,e,!1).then(()=>Ul(r,e,t)).catch(Ao)}),FE.apply(this,arguments)}function f2e(n,e){return BE.apply(this,arguments)}function BE(){return BE=(0,_e.Z)(function*(n,e){const t=Xe(n),r=e.batch.batchId;try{const a=yield function Ete(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,m,_,V){const E=_.batch,x=E.keys();let O=te.resolve();return x.forEach(q=>{O=O.next(()=>V.getEntry(m,q)).next(de=>{const Ae=_.docVersions.get(q);Ct(null!==Ae),de.version.compareTo(Ae)<0&&(E.applyToRemoteDocument(de,_),de.isValidDocument()&&(de.setReadTime(_.commitVersion),V.addEntry(de)))})}),O.next(()=>f.mutationQueue.removeMutationBatch(m,E))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=Gt();for(let _=0;_<f.mutationResults.length;++_)f.mutationResults[_].transformResults.length>0&&(m=m.add(f.batch.mutations[_].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}(t.localStore,e);GE(t,r,null),$E(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Z4(t,a)}catch(a){yield Ao(a)}}),BE.apply(this,arguments)}function d2e(n,e,t){return UE.apply(this,arguments)}function UE(){return UE=(0,_e.Z)(function*(n,e,t){const r=Xe(n);try{const a=yield function(l,f){const m=Xe(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let V;return m.mutationQueue.lookupMutationBatch(_,f).next(E=>(Ct(null!==E),V=E.keys(),m.mutationQueue.removeMutationBatch(_,E))).next(()=>m.mutationQueue.performConsistencyCheck(_)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(_,V,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,V)).next(()=>m.localDocuments.getDocuments(_,V))})}(r.localStore,e);GE(r,e,t),$E(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Z4(r,a)}catch(a){yield Ao(a)}}),UE.apply(this,arguments)}function jE(){return jE=(0,_e.Z)(function*(n,e){const t=Xe(n);qo(t.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const f=Xe(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const a=t.Ec.get(r)||[];a.push(e),t.Ec.set(r,a)}catch(r){const a=Ol(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),jE.apply(this,arguments)}function $E(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function GE(n,e,t){const r=Xe(n);let a=r.Tc[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Tc[r.currentUser.toKey()]=a}}function Ul(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||eO(n,r)})}function eO(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(i9(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),WE(n))}function qE(n,e,t){for(const r of t)r instanceof ZR?(n.Ic.addReference(r.key,e),p2e(n,r)):r instanceof YR?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||eO(n,r.key)):ot()}function p2e(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.mc.add(r),WE(n))}function WE(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qe(t2.fromString(e)),r=n.Ac.next();n.yc.set(r,new s2e(t)),n.gc=n.gc.insert(t,r),Ty(n.remoteStore,new K4(tr(Vl(t.path)),r,"TargetPurposeLimboResolution",ai.ct))}}function Z4(n,e,t){return KE.apply(this,arguments)}function KE(){return KE=(0,_e.Z)(function*(n,e,t){const r=Xe(n),a=[],l=[],f=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,_)=>{f.push(r.Rc(_,e,t).then(V=>{if((V||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,V?.fromCache?"not-current":"current"),V){a.push(V);const E=Xz.Li(_.targetId,V);l.push(E)}}))}),yield Promise.all(f),r.dc.nu(a),yield(m=(0,_e.Z)(function*(_,V){const E=Xe(_);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>te.forEach(V,O=>te.forEach(O.Fi,q=>E.persistence.referenceDelegate.addReference(x,O.targetId,q)).next(()=>te.forEach(O.Bi,q=>E.persistence.referenceDelegate.removeReference(x,O.targetId,q)))))}catch(x){if(!To(x))throw x;Re("LocalStore","Failed to update sequence numbers: "+x)}for(const x of V){const O=x.targetId;if(!x.fromCache){const q=E.Ji.get(O),Ae=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);E.Ji=E.Ji.insert(O,Ae)}}}),function(_,V){return m.apply(this,arguments)})(r.localStore,l))}),KE.apply(this,arguments)}function m2e(n,e){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,_e.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=yield ER(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(m=>{m.reject(new Ee(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Z4(t,r.er)}var a}),ZE.apply(this,arguments)}function g2e(n,e){const t=Xe(n),r=t.yc.get(e);if(r&&r.fc)return Gt().add(r.key);{let a=Gt();const l=t._c.get(e);if(!l)return a;for(const f of l){const m=t.wc.get(f);a=a.unionWith(m.view.nc)}return a}}function v2e(n,e){return YE.apply(this,arguments)}function YE(){return YE=(0,_e.Z)(function*(n,e){const t=Xe(n),r=yield Sy(t.localStore,e.query,!0),a=e.view.hc(r);return t.isPrimaryClient&&qE(t,e.targetId,a.cc),a}),YE.apply(this,arguments)}function y2e(n,e){return QE.apply(this,arguments)}function QE(){return QE=(0,_e.Z)(function*(n,e){const t=Xe(n);return xR(t.localStore,e).then(r=>Z4(t,r))}),QE.apply(this,arguments)}function C2e(n,e,t,r){return XE.apply(this,arguments)}function XE(){return XE=(0,_e.Z)(function*(n,e,t,r){const a=Xe(n),l=yield function(f,m){const _=Xe(f),V=Xe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",E=>V.Sn(E,m).next(x=>x?_.localDocuments.getDocuments(E,x):te.resolve(null)))}(a.localStore,e);var m;null!==l?("pending"===t?yield Pl(a.remoteStore):"acknowledged"===t||"rejected"===t?(GE(a,e,r||null),$E(a,e),m=e,Xe(Xe(a.localStore).mutationQueue).Cn(m)):ot(),yield Z4(a,l)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}),XE.apply(this,arguments)}function JE(){return JE=(0,_e.Z)(function*(n,e){const t=Xe(n);if(rS(t),iS(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield tO(t,r.toArray());t.vc=!0,yield VE(t.remoteStore,!0);for(const l of a)Ty(t.remoteStore,l)}else if(!1===e&&!1!==t.vc){const r=[];let a=Promise.resolve();t._c.forEach((l,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):a=a.then(()=>(Ul(t,f),Nl(t.localStore,f,!0))),i9(t.remoteStore,f)}),yield a,yield tO(t,r),function(l){const f=Xe(l);f.yc.forEach((m,_)=>{i9(f.remoteStore,_)}),f.Ic.Ts(),f.yc=new Map,f.gc=new A2(Qe.comparator)}(t),t.vc=!1,yield VE(t.remoteStore,!1)}}),JE.apply(this,arguments)}function tO(n,e,t){return eS.apply(this,arguments)}function eS(){return eS=(0,_e.Z)(function*(n,e,t){const r=Xe(n),a=[],l=[];for(const f of e){let m;const _=r._c.get(f);if(_&&0!==_.length){m=yield Tl(r.localStore,tr(_[0]));for(const V of _){const E=r.wc.get(V),x=yield v2e(r,E);x.snapshot&&l.push(x.snapshot)}}else{const V=yield DR(r.localStore,f);m=yield Tl(r.localStore,V),yield NE(r,nO(V),f,!1,m.resumeToken)}a.push(m)}return r.dc.nu(l),a}),eS.apply(this,arguments)}function nO(n){return lP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _2e(n){const e=Xe(n);return Xe(Xe(e.localStore).persistence).$i()}function w2e(n,e,t,r){return tS.apply(this,arguments)}function tS(){return tS=(0,_e.Z)(function*(n,e,t,r){const a=Xe(n);if(a.vc)return void Re("SyncEngine","Ignoring unexpected query state notification.");const l=a._c.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const f=yield xR(a.localStore,dP(l[0])),m=jf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Z1.EMPTY_BYTE_STRING);yield Z4(a,f,m);break}case"rejected":yield Nl(a.localStore,e,!0),Ul(a,e,r);break;default:ot()}}),tS.apply(this,arguments)}function b2e(n,e,t){return nS.apply(this,arguments)}function nS(){return nS=(0,_e.Z)(function*(n,e,t){const r=rS(n);if(r.vc){for(const a of e){if(r._c.has(a)){Re("SyncEngine","Adding an already active target "+a);continue}const l=yield DR(r.localStore,a),f=yield Tl(r.localStore,l);yield NE(r,nO(l),f.targetId,!1,f.resumeToken),Ty(r.remoteStore,f)}for(const a of t)r._c.has(a)&&(yield Nl(r.localStore,a,!1).then(()=>{i9(r.remoteStore,a),Ul(r,a)}).catch(Ao))}}),nS.apply(this,arguments)}function rS(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=XR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g2e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u2e.bind(null,e),e.dc.nu=e2e.bind(null,e.eventManager),e.dc.Pc=t2e.bind(null,e.eventManager),e}function iS(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f2e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d2e.bind(null,e),e}class s9{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.serializer=n9(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return zR(this.persistence,new IR,e.initialUser,this.serializer)}createPersistence(e){return new Kz(Iy.zs,this.serializer)}createSharedClientState(e){return new kR}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sS extends s9{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield iS(r.Vc.syncEngine),yield Pl(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return zR(this.persistence,new IR,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new vR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new YJ(t,this.persistence);return new ZJ(e.asyncQueue,r)}createPersistence(e){const t=Qz(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new Yz(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,RR(),Ay(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new kR}}class rO extends sS{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const a=r.Vc.syncEngine;r.sharedClientState instanceof aE&&(r.sharedClientState.syncEngine={jr:C2e.bind(null,a),zr:w2e.bind(null,a),Wr:b2e.bind(null,a),$i:_2e.bind(null,a),Qr:y2e.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var l=(0,_e.Z)(function*(f){yield function M2e(n,e){return JE.apply(this,arguments)}(r.Vc.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start():f||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(f&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():f||r.indexBackfillerScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}createSharedClientState(e){const t=RR();if(!aE.D(t))throw new Ee(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Qz(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new aE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class jl{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>JR(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=m2e.bind(null,r.syncEngine),yield VE(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Jte}createDatastore(e){const t=n9(e.databaseInfo.databaseId),r=new kte(e.databaseInfo);return new Ote(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,l=m=>JR(this.syncEngine,m,0),f=PR.D()?new PR:new Ate,new Ute(t,r,a,l,f);var t,r,a,l,f}createSyncEngine(e,t){return function(r,a,l,f,m,_,V){const E=new a2e(r,a,l,f,m,_);return V&&(E.vc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=Xe(t);Re("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield kl(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function iO(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ky{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):I1("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class I2e{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new K1,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),a=Number(r);isNaN(a)&&e.Mc(`length string (${r}) is not valid number`);const l=yield e.$c(a);return new n2e(JSON.parse(l),t.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,_e.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class z2e{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ee(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,_e.Z)(function*(l,f){const m=Xe(l),_=qf(m.serializer)+"/documents",V={documents:f.map(q=>Gf(m.serializer,q))},E=yield m.vo("BatchGetDocuments",_,V,f.length),x=new Map;E.forEach(q=>{const de=function Kee(n,e){return"found"in e?function(t,r){Ct(!!r.found);const a=D3(t,r.found.name),l=z1(r.found.updateTime),f=r.found.createTime?z1(r.found.createTime):_t.min(),m=new In({mapValue:{fields:r.found.fields}});return O2.newFoundDocument(a,l,f,m)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const a=D3(t,r.missing),l=z1(r.readTime);return O2.newNoDocument(a,l)}(n,e):ot()}(m.serializer,q);x.set(de.key.toString(),de)});const O=[];return f.forEach(q=>{const de=x.get(q.toString());Ct(!!de),O.push(de)}),O}),function(l,f){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const l=Qe.fromPath(a);e.mutations.push(new Sz(l,e.precondition(l)))}),yield(r=(0,_e.Z)(function*(a,l){const f=Xe(a),m=qf(f.serializer)+"/documents",_={writes:l.map(V=>Wf(f.serializer,V))};yield f.Io("Commit",m,_)}),function(a,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ee(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_t.min())?X2.exists(!1):X2.updateTime(t):X2.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new Ee(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return X2.updateTime(t)}return X2.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class E2e{constructor(e,t,r,a,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=a,this.deferred=l,this.Bc=r.maxAttempts,this.qo=new cE(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,_e.Z)(function*(){const t=new z2e(e.datastore),r=e.qc(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.Uc(l)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const t=this.updateFunction(e);return!Sf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!LP(t)}return!1}}class S2e{constructor(e,t,r,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=zk.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,_e.Z)(function*(m){Re("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(Re("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ee(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new K1;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=Ol(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Py(n,e){return aS.apply(this,arguments)}function aS(){return aS=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,_e.Z)(function*(l){r.isEqual(l)||(yield ER(e.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),aS.apply(this,arguments)}function oS(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield lS(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>GR(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,l)=>GR(e.remoteStore,l)),n._onlineComponents=e}),cS.apply(this,arguments)}function sO(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function lS(n){return uS.apply(this,arguments)}function uS(){return uS=(0,_e.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Py(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!sO(t))throw t;Ni("Error using user provided cache. Falling back to memory cache: "+t),yield Py(n,new s9)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),yield Py(n,new s9);return n._offlineComponents}),uS.apply(this,arguments)}function Ry(n){return fS.apply(this,arguments)}function fS(){return fS=(0,_e.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),yield oS(n,n._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),yield oS(n,new jl))),n._onlineComponents}),fS.apply(this,arguments)}function aO(n){return lS(n).then(e=>e.persistence)}function Oy(n){return lS(n).then(e=>e.localStore)}function oO(n){return Ry(n).then(e=>e.remoteStore)}function dS(n){return Ry(n).then(e=>e.syncEngine)}function $l(n){return hS.apply(this,arguments)}function hS(){return hS=(0,_e.Z)(function*(n){const e=yield Ry(n),t=e.eventManager;return t.onListen=o2e.bind(null,e.syncEngine),t.onUnlisten=c2e.bind(null,e.syncEngine),t}),hS.apply(this,arguments)}function lO(n,e,t={}){const r=new K1;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(a,l,f,m,_){const V=new ky({next:x=>{l.enqueueAndForget(()=>LE(a,E));const O=x.docs.has(f);!O&&x.fromCache?_.reject(new Ee(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&x.fromCache&&m&&"server"===m.source?_.reject(new Ee(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),E=new AE(Vl(f.path),V,{includeMetadataChanges:!0,Ku:!0});return EE(a,E)}(yield $l(n),n.asyncQueue,e,t,r)})),r.promise}function uO(n,e,t={}){const r=new K1;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(a,l,f,m,_){const V=new ky({next:x=>{l.enqueueAndForget(()=>LE(a,E)),x.fromCache&&"server"===m.source?_.reject(new Ee(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),E=new AE(f,V,{includeMetadataChanges:!0,Ku:!0});return EE(a,E)}(yield $l(n),n.asyncQueue,e,t,r)})),r.promise}function fO(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const dO=new Map;function pS(n,e,t){if(!t)throw new Ee(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hO(n,e,t,r){if(!0===e&&!0===r)throw new Ee(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pO(n){if(!Qe.isDocumentKey(n))throw new Ee(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mO(n){if(Qe.isDocumentKey(n))throw new Ee(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function Xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fy(n);throw new Ee(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gO(n,e){if(e<=0)throw new Ee(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class vO{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ee(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ee(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=fO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class a9{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ee(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ee(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new PJ;switch(t.type){case"firstParty":return new BJ(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ee(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dO.get(e);t&&(Re("ComponentProvider","Removing Datastore"),dO.delete(e),t.terminate())}(this),Promise.resolve()}}class F2{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new x3(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new F2(this.firestore,e,this._key)}}class zn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zn(this.firestore,e,this._query)}}class x3 extends zn{constructor(e,t,r){super(e,t,Vl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new F2(this.firestore,null,new Qe(e))}withConverter(e){return new x3(this.firestore,e,this._path)}}function CO(n,e,...t){if(n=(0,a2.m9)(n),pS("collection","path",e),n instanceof a9){const r=t2.fromString(e,...t);return mO(r),new x3(n,null,r)}{if(!(n instanceof F2||n instanceof x3))throw new Ee(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(t2.fromString(e,...t));return mO(r),new x3(n.firestore,null,r)}}function By(n,e,...t){if(n=(0,a2.m9)(n),1===arguments.length&&(e=zk.A()),pS("doc","path",e),n instanceof a9){const r=t2.fromString(e,...t);return pO(r),new F2(n,null,new Qe(r))}{if(!(n instanceof F2||n instanceof x3))throw new Ee(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(t2.fromString(e,...t));return pO(r),new F2(n.firestore,n instanceof x3?n.converter:null,new Qe(r))}}function MO(n,e){return n=(0,a2.m9)(n),e=(0,a2.m9)(e),(n instanceof F2||n instanceof x3)&&(e instanceof F2||e instanceof x3)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function mS(n,e){return n=(0,a2.m9)(n),e=(0,a2.m9)(e),n instanceof zn&&e instanceof zn&&n.firestore===e.firestore&&kf(n._query,e._query)&&n.converter===e.converter}class O2e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new cE(this,"async_queue_retry"),this.Xc=()=>{const t=Ay();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Ay();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ay();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new K1;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!To(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,I1("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=zE.createAndSchedule(this,e,t,r,l=>this.na(l));return this.zc.push(a),a}Zc(){this.Wc&&ot()}verifyOperationInProgress(){}sa(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function gS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class F2e{constructor(){this._progressObserver={},this._taskCompletionResolver=new K1,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class B2 extends a9{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new O2e,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_O(this),this._firestoreClient.terminate()}}function E1(n){return n._firestoreClient||_O(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function _O(n){var e,t,r;const a=n._freezeSettings(),l=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new vee(n._databaseId,m,n._persistenceKey,(V=a).host,V.ssl,V.experimentalForceLongPolling,V.experimentalAutoDetectLongPolling,fO(V.experimentalLongPollingOptions),V.useFetchStreams));var m,V;n._firestoreClient=new S2e(n._authCredentials,n._appCheckCredentials,n._queue,l),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=a.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function wO(n,e,t){const r=new K1;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield Py(n,t),yield oS(n,e),r.resolve()}catch(a){const l=a;if(!sO(l))throw l;Ni("Error enabling indexeddb cache. Falling back to memory cache: "+l),r.reject(l)}})).then(()=>r.promise)}function bO(n){if(n._initialized||n._terminated)throw new Ee(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class A3{constructor(e){this._byteString=e}static fromBase64String(e){try{return new A3(Z1.fromBase64String(e))}catch(t){throw new Ee(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new A3(Z1.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Y4{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ee(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new p1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class J6{constructor(e){this._methodName=e}}class Uy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}const Q2e=/^__.*__$/;class X2e{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new W4(e,this.data,this.fieldMask,t,this.fieldTransforms):new El(e,this.data,t,this.fieldTransforms)}}class HO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new W4(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class jy{constructor(e,t,r,a,l,f){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new jy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:r,la:!1});return a.fa(e),a}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:r,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return qy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(VO(this.ca)&&Q2e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class J2e{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||n9(e)}ya(e,t,r,a=!1){return new jy({ca:e,methodName:t,ga:r,path:p1.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function e0(n){const e=n._freezeSettings(),t=n9(n._databaseId);return new J2e(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $y(n,e,t,r,a,l={}){const f=n.ya(l.merge||l.mergeFields?2:0,e,t,a);MS("Data must be an object, but it was:",f,r);const m=EO(r,f);let _,V;if(l.merge)_=new _r(f.fieldMask),V=f.fieldTransforms;else if(l.mergeFields){const E=[];for(const x of l.mergeFields){const O=l9(e,x,t);if(!f.contains(O))throw new Ee(ce.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);LO(E,O)||E.push(O)}_=new _r(E),V=f.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,V=f.fieldTransforms;return new X2e(new In(m),_,V)}class c9 extends J6{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof c9}}function IO(n,e,t){return new jy({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vS extends J6{_toFieldTransform(e){return new Ff(e.path,new Il)}isEqual(e){return e instanceof vS}}class e1e extends J6{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=IO(this,e,!0),r=this.pa.map(l=>t0(l,t)),a=new $6(r);return new Ff(e.path,a)}isEqual(e){return this===e}}class t1e extends J6{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=IO(this,e,!0),r=this.pa.map(l=>t0(l,t)),a=new G6(r);return new Ff(e.path,a)}isEqual(e){return this===e}}class n1e extends J6{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new zl(e.serializer,CP(e.serializer,this.Ia));return new Ff(e.path,t)}isEqual(e){return this===e}}function yS(n,e,t,r){const a=n.ya(1,e,t);MS("Data must be an object, but it was:",a,r);const l=[],f=In.empty();No(r,(_,V)=>{const E=Gy(e,_,t);V=(0,a2.m9)(V);const x=a.da(E);if(V instanceof c9)l.push(E);else{const O=t0(V,x);null!=O&&(l.push(E),f.set(E,O))}});const m=new _r(l);return new HO(f,m,a.fieldTransforms)}function CS(n,e,t,r,a,l){const f=n.ya(1,e,t),m=[l9(e,r,t)],_=[a];if(l.length%2!=0)throw new Ee(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<l.length;O+=2)m.push(l9(e,l[O])),_.push(l[O+1]);const V=[],E=In.empty();for(let O=m.length-1;O>=0;--O)if(!LO(V,m[O])){const q=m[O];let de=_[O];de=(0,a2.m9)(de);const Ae=f.da(q);if(de instanceof c9)V.push(q);else{const Pe=t0(de,Ae);null!=Pe&&(V.push(q),E.set(q,Pe))}}const x=new _r(V);return new HO(E,x,f.fieldTransforms)}function zO(n,e,t,r=!1){return t0(t,n.ya(r?4:3,e))}function t0(n,e){if(SO(n=(0,a2.m9)(n)))return MS("Unsupported field value:",e,n),EO(n,e);if(n instanceof J6)return function(t,r){if(!VO(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const a=[];let l=0;for(const f of t){let m=t0(f,r.wa(l));null==m&&(m={nullValue:"NULL_VALUE"}),a.push(m),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,a2.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return CP(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Q2.fromDate(t);return{timestampValue:Ll(r.serializer,a)}}if(t instanceof Q2){const a=new Q2(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ll(r.serializer,a)}}if(t instanceof Uy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof A3)return{bytesValue:FP(r.serializer,t._byteString)};if(t instanceof F2){const a=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw r._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:kz(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Fy(t)}`)}(n,e)}function EO(n,e){const t={};return Uk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(n,(r,a)=>{const l=t0(a,e.ha(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function SO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Q2||n instanceof Uy||n instanceof A3||n instanceof F2||n instanceof J6)}function MS(n,e,t){if(!SO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Fy(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function l9(n,e,t){if((e=(0,a2.m9)(e))instanceof Y4)return e._internalPath;if("string"==typeof e)return Gy(n,e);throw qy("Field path arguments must be of type string or ",n,!1,void 0,t)}const r1e=new RegExp("[~\\*/\\[\\]]");function Gy(n,e,t){if(e.search(r1e)>=0)throw qy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Y4(...e.split("."))._internalPath}catch{throw qy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qy(n,e,t,r,a){const l=r&&!r.isEmpty(),f=void 0!==a;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(l||f)&&(_+=" (found",l&&(_+=` in field ${r}`),f&&(_+=` in document ${a}`),_+=")"),new Ee(ce.INVALID_ARGUMENT,m+n+_)}function LO(n,e){return n.some(t=>t.isEqual(e))}class u9{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new F2(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new i1e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class i1e extends u9{data(){return super.data()}}function Wy(n,e){return"string"==typeof e?Gy(n,e):e instanceof Y4?e._internalPath:e._delegate._internalPath}function DO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ee(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _S{}class f9 extends _S{}function Ko(n,e,...t){let r=[];e instanceof _S&&r.push(e),r=r.concat(t),function(a){const l=a.filter(m=>m instanceof Gl).length,f=a.filter(m=>m instanceof d9).length;if(l>1||l>0&&f>0)throw new Ee(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class d9 extends f9{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new d9(e,t,r)}_apply(e){const t=this._parse(e);return NO(e._query,t),new zn(e.firestore,e.converter,Iz(e._query,t))}_parse(e){const t=e0(e.firestore);return function(a,l,f,m,_,V,E){let x;if(_.isKeyField()){if("array-contains"===V||"array-contains-any"===V)throw new Ee(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${V}' queries on documentId().`);if("in"===V||"not-in"===V){TO(E,V);const O=[];for(const q of E)O.push(AO(m,a,q));x={arrayValue:{values:O}}}else x=AO(m,a,E)}else"in"!==V&&"not-in"!==V&&"array-contains-any"!==V||TO(E,V),x=zO(f,"where",E,"in"===V||"not-in"===V);return Qt.create(_,V,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Gl extends _S{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Gl(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:y2.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,a){let l=r;const f=a.getFlattenedFilters();for(const m of f)NO(l,m),l=Iz(l,m)}(e._query,t),new zn(e.firestore,e.converter,Iz(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wS extends f9{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wS(e,t)}_apply(e){const t=function(r,a,l){if(null!==r.startAt)throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new bl(a,l);return function(m,_){if(null===Hz(m)){const V=fy(m);null!==V&&kO(0,V,_.field)}}(r,f),f}(e._query,this._field,this._direction);return new zn(e.firestore,e.converter,function(r,a){const l=r.explicitOrderBy.concat([a]);return new G4(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Ky extends f9{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ky(e,t,r)}_apply(e){return new zn(e.firestore,e.converter,dy(e._query,this._limit,this._limitType))}}class Zy extends f9{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Zy(e,t,r)}_apply(e){const t=xO(e,this.type,this._docOrFields,this._inclusive);return new zn(e.firestore,e.converter,(a=t,new G4((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class Yy extends f9{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Yy(e,t,r)}_apply(e){const t=xO(e,this.type,this._docOrFields,this._inclusive);return new zn(e.firestore,e.converter,(a=t,new G4((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function xO(n,e,t,r){if(t[0]=(0,a2.m9)(t[0]),t[0]instanceof u9)return function(a,l,f,m,_){if(!m)throw new Ee(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const V=[];for(const E of j6(a))if(E.field.isKeyField())V.push(B6(l,m.key));else{const x=m.data.field(E.field);if(iy(x))throw new Ee(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const O=E.field.canonicalString();throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}V.push(x)}return new Bo(V,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=e0(n.firestore);return function(l,f,m,_,V,E){const x=l.explicitOrderBy;if(V.length>x.length)throw new Ee(ce.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let q=0;q<V.length;q++){const de=V[q];if(x[q].field.isKeyField()){if("string"!=typeof de)throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof de}`);if(!Vz(l)&&-1!==de.indexOf("/"))throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${de}' contains a slash.`);const Ae=l.path.child(t2.fromString(de));if(!Qe.isDocumentKey(Ae))throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Ae}' is not because it contains an odd number of segments.`);const Pe=new Qe(Ae);O.push(B6(f,Pe))}else{const Ae=zO(m,_,de);O.push(Ae)}}return new Bo(O,E)}(n._query,n.firestore._databaseId,a,e,t,r)}}function AO(n,e,t){if("string"==typeof(t=(0,a2.m9)(t))){if(""===t)throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vz(e)&&-1!==t.indexOf("/"))throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(t2.fromString(t));if(!Qe.isDocumentKey(r))throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B6(n,new Qe(r))}if(t instanceof F2)return B6(n,t._key);throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fy(t)}.`)}function TO(n,e){if(!Array.isArray(n)||0===n.length)throw new Ee(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NO(n,e){if(e.isInequality()){const r=fy(n),a=e.field;if(null!==r&&!r.isEqual(a))throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${a.toString()}'`);const l=Hz(n);null!==l&&kO(0,a,l)}const t=function(r,a){for(const l of r)for(const f of l.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ee(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function kO(n,e,t){if(!t.isEqual(e))throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class bS{convertValue(e,t="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return m1(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($4(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return No(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new Uy(m1(e.latitude),m1(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Df(e));default:return null}}convertTimestamp(e){const t=ko(e);return new Q2(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=t2.fromString(e);Ct(YP(r));const a=new Po(r.get(1),r.get(3)),l=new Qe(r.popFirst(5));return a.isEqual(t)||I1(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Qy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class h1e extends bS{constructor(e){super(),this.firestore=e}convertBytes(e){return new A3(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new F2(this.firestore,null,t)}}class n0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Q4 extends u9{constructor(e,t,r,a,l,f){super(e,t,r,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new h9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Wy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class h9 extends Q4{data(e={}){return super.data(e)}}class Zo{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new n0(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new h9(this._firestore,this._userDataWriter,r.key,r,new n0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new h9(r._firestore,r._userDataWriter,f.doc.key,f.doc,new n0(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const m=new h9(r._firestore,r._userDataWriter,f.doc.key,f.doc,new n0(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,V=-1;return 0!==f.type&&(_=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),V=l.indexOf(f.doc.key)),{type:m1e(f.type),doc:m,oldIndex:_,newIndex:V}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function m1e(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function RO(n,e){return n instanceof Q4&&e instanceof Q4?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zo&&e instanceof Zo&&n._firestore===e._firestore&&mS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Yo extends bS{constructor(e){super(),this.firestore=e}convertBytes(e){return new A3(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new F2(this.firestore,null,t)}}function OO(n,e,t){n=Xt(n,F2);const r=Xt(n.firestore,B2),a=Qy(n.converter,e,t);return ql(r,[$y(e0(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,X2.none())])}function FO(n,e,t,...r){n=Xt(n,F2);const a=Xt(n.firestore,B2),l=e0(a);let f;return f="string"==typeof(e=(0,a2.m9)(e))||e instanceof Y4?CS(l,"updateDoc",n._key,e,t,r):yS(l,"updateDoc",n._key,e),ql(a,[f.toMutation(n._key,X2.exists(!0))])}function BO(n,...e){var t,r,a;n=(0,a2.m9)(n);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||gS(e[f])||(l=e[f],f++);const m={includeMetadataChanges:l.includeMetadataChanges};if(gS(e[f])){const x=e[f];e[f]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[f+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[f+2]=null===(a=x.complete)||void 0===a?void 0:a.bind(x)}let _,V,E;if(n instanceof F2)V=Xt(n.firestore,B2),E=Vl(n._key.path),_={next:x=>{e[f]&&e[f](HS(V,n,x))},error:e[f+1],complete:e[f+2]};else{const x=Xt(n,zn);V=Xt(x.firestore,B2),E=x._query;const O=new Yo(V);_={next:q=>{e[f]&&e[f](new Zo(V,O,x,q))},error:e[f+1],complete:e[f+2]},DO(n._query)}return function(x,O,q,de){const Ae=new ky(de),Pe=new AE(O,Ae,q);return x.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return EE(yield $l(x),Pe)})),()=>{Ae.Dc(),x.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return LE(yield $l(x),Pe)}))}}(E1(V),E,m,_)}function ql(n,e){return function(t,r){const a=new K1;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function l2e(n,e,t){return RE.apply(this,arguments)}(yield dS(t),r,a)})),a.promise}(E1(n),e)}function HS(n,e,t){const r=t.docs.get(e._key),a=new Yo(n);return new Q4(n,a,e._key,r,new n0(t.hasPendingWrites,t.fromCache),e.converter)}const A1e={maxAttempts:5};class UO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=e0(e)}set(e,t,r){this._verifyNotCommitted();const a=Qo(e,this._firestore),l=Qy(a.converter,t,r),f=$y(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,r);return this._mutations.push(f.toMutation(a._key,X2.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=Qo(e,this._firestore);let f;return f="string"==typeof(t=(0,a2.m9)(t))||t instanceof Y4?CS(this._dataReader,"WriteBatch.update",l._key,t,r,a):yS(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(f.toMutation(l._key,X2.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qo(e,this._firestore);return this._mutations=this._mutations.concat(new Sl(t._key,X2.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qo(n,e){if((n=(0,a2.m9)(n)).firestore!==e)throw new Ee(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class T1e extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=e0(e)}get(e){const t=Qo(e,this._firestore),r=new h1e(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return ot();const l=a[0];if(l.isFoundDocument())return new u9(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new u9(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const a=Qo(e,this._firestore),l=Qy(a.converter,t,r),f=$y(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,r);return this._transaction.set(a._key,f),this}update(e,t,r,...a){const l=Qo(e,this._firestore);let f;return f="string"==typeof(t=(0,a2.m9)(t))||t instanceof Y4?CS(this._dataReader,"Transaction.update",l._key,t,r,a):yS(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,f),this}delete(e){const t=Qo(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qo(e,this._firestore),r=new Yo(this._firestore);return super.get(e).then(a=>new Q4(this._firestore,r,t._key,a._document,new n0(!1,!1),t.converter))}}function VS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ee("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function $O(){if(typeof Uint8Array>"u")throw new Ee("unimplemented","Uint8Arrays are not available in this environment.")}function GO(){if(!function mee(){return typeof atob<"u"}())throw new Ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Cl=T6.SDK_VERSION,(0,T6._registerComponent)(new Vv.wA("firestore",(t,{instanceIdentifier:r,options:a})=>{const l=t.getProvider("app").getImmediate(),f=new B2(new OJ(t.getProvider("auth-internal")),new UJ(t.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ee(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(m.options.projectId,_)}(l,r),l);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,T6.registerVersion)(Hk,"3.13.0",n),(0,T6.registerVersion)(Hk,"3.13.0","esm2017")}();class p9{constructor(e){this._delegate=e}static fromBase64String(e){return GO(),new p9(A3.fromBase64String(e))}static fromUint8Array(e){return $O(),new p9(A3.fromUint8Array(e))}toBase64(){return GO(),this._delegate.toBase64()}toUint8Array(){return $O(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IS(n){return function j1e(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class $1e{enableIndexedDbPersistence(e,t){return function U2e(n,e){bO(n=Xt(n,B2));const t=E1(n);if(t._uninitializedComponentsProvider)throw new Ee(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Ni("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),a=new jl;return wO(t,a,new sS(a,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function j2e(n){bO(n=Xt(n,B2));const e=E1(n);if(e._uninitializedComponentsProvider)throw new Ee(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Ni("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new jl;return wO(e,r,new rO(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $2e(n){if(n._initialized&&!n._terminated)throw new Ee(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new K1;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!Is.D())return Promise.resolve();const a=r+"main";yield Is.delete(a)}),function(r){return t.apply(this,arguments)})(Qz(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class qO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Po||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ni("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function yO(n,e,t,r={}){var a;const l=(n=Xt(n,a9))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),r.mockUserToken){let m,_;if("string"==typeof r.mockUserToken)m=r.mockUserToken,_=dn.MOCK_USER;else{m=(0,a2.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const V=r.mockUserToken.sub||r.mockUserToken.user_id;if(!V)throw new Ee(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new dn(V)}n._authCredentials=new RJ(new Vk(m,_))}}(this._delegate,e,t,r)}enableNetwork(){return function q2e(n){return function L2e(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield aO(n),t=yield oO(n);return e.setNetworkEnabled(!0),function(r){const a=Xe(r);return a.vu.delete(0),r9(a)}(t)}))}(E1(n=Xt(n,B2)))}(this._delegate)}disableNetwork(){return function W2e(n){return function D2e(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield aO(n),t=yield oO(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(a){const l=Xe(a);l.vu.add(0),yield kl(l),l.bu.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(E1(n=Xt(n,B2)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function G2e(n){return function(e){const t=new K1;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function h2e(n,e){return jE.apply(this,arguments)}(yield dS(e),t)})),t.promise}(E1(n=Xt(n,B2)))}(this._delegate)}onSnapshotsInSync(e){return function H1e(n,e){return function T2e(n,e){const t=new ky(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield $l(n),a=t,Xe(r).ku.add(a),void a.next();var r,a})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield $l(n),a=t,void Xe(r).ku.delete(a);var r,a}))}}(E1(n=Xt(n,B2)),gS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wl(this,CO(this._delegate,e))}catch(t){throw nr(t,"collection()","Firestore.collection()")}}doc(e){try{return new ki(this,By(this._delegate,e))}catch(t){throw nr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rr(this,function R2e(n,e){if(n=Xt(n,a9),pS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zn(n,null,(t=e,new G4(t2.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw nr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function N1e(n,e,t){n=Xt(n,B2);const r=Object.assign(Object.assign({},A1e),t);return function(a){if(a.maxAttempts<1)throw new Ee(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,l,f){const m=new K1;return a.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const _=yield function cO(n){return Ry(n).then(e=>e.datastore)}(a);new E2e(a.asyncQueue,_,f,l,m).run()})),m.promise}(E1(n),a=>e(new T1e(n,a)),r)}(this._delegate,t=>e(new WO(this,t)))}batch(){return E1(this._delegate),new KO(new UO(this._delegate,e=>ql(this._delegate,e)))}loadBundle(e){return function K2e(n,e){const t=E1(n=Xt(n,B2)),r=new F2e;return function N2e(n,e,t,r){const a=function(l,f){let m;return m="string"==typeof l?xP().encode(l):l,_=function(_,V){if(_ instanceof Uint8Array)return iO(_,V);if(_ instanceof ArrayBuffer)return iO(new Uint8Array(_),V);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new I2e(_,f);var _}(t,n9(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function H2e(n,e,t){const r=Xe(n);var a;(a=(0,_e.Z)(function*(l,f,m){try{const _=yield f.getMetadata();if(yield function(O,q){const de=Xe(O),Ae=z1(q.createTime);return de.persistence.runTransaction("hasNewerBundle","readonly",Pe=>de.qs.getBundleMetadata(Pe,q.id)).then(Pe=>!!Pe&&Pe.createTime.compareTo(Ae)>=0)}(l.localStore,_))return yield f.close(),m._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);m._updateProgress(KR(_));const V=new r2e(_,l.localStore,f.serializer);let E=yield f.bc();for(;E;){const O=yield V.zu(E);O&&m._updateProgress(O),E=yield f.bc()}const x=yield V.complete();return yield Z4(l,x.Ju,void 0),yield function(O,q){const de=Xe(O);return de.persistence.runTransaction("Save bundle","readwrite",Ae=>de.qs.saveBundleMetadata(Ae,q))}(l.localStore,_),m._completeWith(x.progress),Promise.resolve(x.Hu)}catch(_){return Ni("SyncEngine",`Loading bundle failed with ${_}`),m._failWith(_),Promise.resolve(new Set)}var O}),function(l,f,m){return a.apply(this,arguments)})(r,e,t).then(a=>{r.sharedClientState.notifyBundleLoaded(a)})}(yield dS(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Z2e(n,e){return function k2e(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const a=Xe(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.qs.getNamedQuery(l,r))}(yield Oy(n),e)}))}(E1(n=Xt(n,B2)),e).then(t=>t?new zn(n,null,t.query):null)}(this._delegate,e).then(t=>t?new rr(this,t):null)}}class Xy extends bS{constructor(e){super(),this.firestore=e}convertBytes(e){return new p9(new A3(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ki.forKey(t,this.firestore,null)}}class WO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Xy(e)}get(e){const t=s0(e);return this._delegate.get(t).then(r=>new m9(this._firestore,new Q4(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=s0(e);return r?(VS("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=s0(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=s0(e);return this._delegate.delete(t),this}}class KO{constructor(e){this._delegate=e}set(e,t,r){const a=s0(e);return r?(VS("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=s0(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=s0(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class r0{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new h9(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new g9(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=r0.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(t);return l||(l=new r0(e,new Xy(e),t),a.set(t,l)),l}}r0.INSTANCES=new WeakMap;class ki{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xy(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ki(t,new F2(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new ki(t,new F2(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Wl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wl(this.firestore,CO(this._delegate,e))}catch(t){throw nr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,a2.m9)(e))instanceof F2&&MO(this._delegate,e)}set(e,t){t=VS("DocumentReference.set",t);try{return t?OO(this._delegate,e,t):OO(this._delegate,e)}catch(r){throw nr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?FO(this._delegate,e):FO(this._delegate,e,t,...r)}catch(a){throw nr(a,"updateDoc()","DocumentReference.update()")}}delete(){return function w1e(n){return ql(Xt(n.firestore,B2),[new Sl(n._key,X2.none())])}(this._delegate)}onSnapshot(...e){const t=ZO(e),r=YO(e,a=>new m9(this.firestore,new Q4(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return BO(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function v1e(n){n=Xt(n,F2);const e=Xt(n.firestore,B2),t=E1(e),r=new Yo(e);return function x2e(n,e){const t=new K1;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(a,l,f){try{const m=yield function(_,V){const E=Xe(_);return E.persistence.runTransaction("read document","readonly",x=>E.localDocuments.getDocument(x,V))}(a,l);m.isFoundDocument()?f.resolve(m):m.isNoDocument()?f.resolve(null):f.reject(new Ee(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const _=Ol(m,`Failed to get document '${l} from cache`);f.reject(_)}}),function(a,l,f){return r.apply(this,arguments)})(yield Oy(n),e,t);var r})),t.promise}(t,n._key).then(a=>new Q4(e,r,n._key,a,new n0(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function y1e(n){n=Xt(n,F2);const e=Xt(n.firestore,B2);return lO(E1(e),n._key,{source:"server"}).then(t=>HS(e,n,t))}(this._delegate):function g1e(n){n=Xt(n,F2);const e=Xt(n.firestore,B2);return lO(E1(e),n._key).then(t=>HS(e,n,t))}(this._delegate),t.then(r=>new m9(this.firestore,new Q4(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ki(this.firestore,this._delegate.withConverter(e?r0.getInstance(this.firestore,e):null))}}function nr(n,e,t){return n.message=n.message.replace(e,t),n}function ZO(n){for(const e of n)if("object"==typeof e&&!IS(e))return e;return{}}function YO(n,e){var t,r;let a;return a=IS(n[0])?n[0]:IS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class m9{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ki(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return RO(this._delegate,e._delegate)}}class g9 extends m9{data(e){const t=this._delegate.data(e);return function kJ(n,e){n||ot()}(void 0!==t),t}}class rr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xy(e)}where(e,t,r){try{return new rr(this.firestore,Ko(this._delegate,function s1e(n,e,t){const r=e,a=Wy("where",n);return d9._create(a,r,t)}(e,t,r)))}catch(a){throw nr(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new rr(this.firestore,Ko(this._delegate,function a1e(n,e="asc"){const t=e,r=Wy("orderBy",n);return wS._create(r,t)}(e,t)))}catch(r){throw nr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rr(this.firestore,Ko(this._delegate,function o1e(n){return gO("limit",n),Ky._create("limit",n,"F")}(e)))}catch(t){throw nr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new rr(this.firestore,Ko(this._delegate,function c1e(n){return gO("limitToLast",n),Ky._create("limitToLast",n,"L")}(e)))}catch(t){throw nr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rr(this.firestore,Ko(this._delegate,function l1e(...n){return Zy._create("startAt",n,!0)}(...e)))}catch(t){throw nr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rr(this.firestore,Ko(this._delegate,function u1e(...n){return Zy._create("startAfter",n,!1)}(...e)))}catch(t){throw nr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rr(this.firestore,Ko(this._delegate,function f1e(...n){return Yy._create("endBefore",n,!1)}(...e)))}catch(t){throw nr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rr(this.firestore,Ko(this._delegate,function d1e(...n){return Yy._create("endAt",n,!0)}(...e)))}catch(t){throw nr(t,"endAt()","Query.endAt()")}}isEqual(e){return mS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function M1e(n){n=Xt(n,zn);const e=Xt(n.firestore,B2),t=E1(e),r=new Yo(e);return function A2e(n,e){const t=new K1;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(a,l,f){try{const m=yield Sy(a,l,!0),_=new QR(l,m.ir),V=_.sc(m.documents),E=_.applyChanges(V,!1);f.resolve(E.snapshot)}catch(m){const _=Ol(m,`Failed to execute query '${l} against cache`);f.reject(_)}}),function(a,l,f){return r.apply(this,arguments)})(yield Oy(n),e,t);var r})),t.promise}(t,n._query).then(a=>new Zo(e,r,n,a))}(this._delegate):"server"===e?.source?function _1e(n){n=Xt(n,zn);const e=Xt(n.firestore,B2),t=E1(e),r=new Yo(e);return uO(t,n._query,{source:"server"}).then(a=>new Zo(e,r,n,a))}(this._delegate):function C1e(n){n=Xt(n,zn);const e=Xt(n.firestore,B2),t=E1(e),r=new Yo(e);return DO(n._query),uO(t,n._query).then(a=>new Zo(e,r,n,a))}(this._delegate),t.then(r=>new zS(this.firestore,new Zo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=ZO(e),r=YO(e,a=>new zS(this.firestore,new Zo(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return BO(this._delegate,t,r)}withConverter(e){return new rr(this.firestore,this._delegate.withConverter(e?r0.getInstance(this.firestore,e):null))}}class q1e{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new g9(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new rr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new g9(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new q1e(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new g9(this._firestore,r))})}isEqual(e){return RO(this._delegate,e._delegate)}}class Wl extends rr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ki(this.firestore,e):null}doc(e){try{return new ki(this.firestore,void 0===e?By(this._delegate):By(this._delegate,e))}catch(t){throw nr(t,"doc()","CollectionReference.doc()")}}add(e){return function b1e(n,e){const t=Xt(n.firestore,B2),r=By(n),a=Qy(n.converter,e);return ql(t,[$y(e0(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,X2.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ki(this.firestore,t))}isEqual(e){return MO(this._delegate,e._delegate)}withConverter(e){return new Wl(this.firestore,this._delegate.withConverter(e?r0.getInstance(this.firestore,e):null))}}function s0(n){return Xt(n,F2)}class ES{constructor(...e){this._delegate=new Y4(...e)}static documentId(){return new ES(p1.keyField().canonicalString())}isEqual(e){return(e=(0,a2.m9)(e))instanceof Y4&&this._delegate._internalPath.isEqual(e._internalPath)}}class a0{constructor(e){this._delegate=e}static serverTimestamp(){const e=function P1e(){return new vS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new a0(e)}static delete(){const e=function k1e(){return new c9("deleteField")}();return e._methodName="FieldValue.delete",new a0(e)}static arrayUnion(...e){const t=function R1e(...n){return new e1e("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new a0(t)}static arrayRemove(...e){const t=function O1e(...n){return new t1e("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new a0(t)}static increment(e){const t=function F1e(n){return new n1e("increment",n)}(e);return t._methodName="FieldValue.increment",new a0(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const W1e={Firestore:qO,GeoPoint:Uy,Timestamp:Q2,Blob:p9,Transaction:WO,WriteBatch:KO,DocumentReference:ki,DocumentSnapshot:m9,Query:rr,QueryDocumentSnapshot:g9,QuerySnapshot:zS,CollectionReference:Wl,FieldPath:ES,FieldValue:a0,setLogLevel:function G1e(n){!function NJ(n){xo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Z1e(n){(function K1e(n,e){n.INTERNAL.registerComponent(new Vv.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps(Object.assign({},W1e)))})(n,(e,t)=>new qO(e,t,new $1e)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(zX.Z);var QO=T(8645),Y1e=T(3019),Jy=T(3093),Xo=T(4664),Q1e=T(4552);class X1e extends QO.x{constructor(e=1/0,t=1/0,r=Q1e.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:l,_windowTime:f}=this;t||(r.push(e),!a&&r.push(l.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:a}=this,l=a.slice();for(let f=0;f<l.length&&!e.closed;f+=r?1:2)e.next(l[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:a}=this,l=(a?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!a){const f=t.now();let m=0;for(let _=1;_<r.length&&r[_]<=f;_+=2)m=_;m&&r.splice(0,m+1)}}}var J1e=T(3020);function XO(n,e,t){let r,a=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=n):r=n??1/0,(0,J1e.B)({connector:()=>new X1e(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}const JO=(0,T(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var tne=T(6232);function ine(n=sne){return(0,A6.e)((e,t)=>{let r=!1;e.subscribe((0,fl.x)(t,a=>{r=!0,t.next(a)},()=>r?t.complete():t.error(n())))})}function sne(){return new JO}var ane=T(2737);var cne=T(4674);function eF(n,e){return(0,cne.m)(e)?(0,Xo.w)(()=>n,e):(0,Xo.w)(()=>n)}var SS=T(5137);T(3182);const DS=new Map,nF={activated:!1,tokenObservers:[]},hne={initialized:!1,enabled:!1};function g1(n){return DS.get(n)||Object.assign({},nF)}function tC(){return hne}const xS="https://content-firebaseappcheck.googleapis.com/v1",vne="exchangeDebugToken",rF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Cne{constructor(e,t,r,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new a2.BH,yield function Mne(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new a2.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const En=new a2.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AS(n){if(!g1(n).activated)throw En.create("use-before-activation",{appName:n.name})}function iC(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const x=yield a.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const l={method:"POST",body:JSON.stringify(e),headers:r};let f,m;try{f=yield fetch(n,l)}catch(x){throw En.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==f.status)throw En.create("fetch-status-error",{httpStatus:f.status});try{m=yield f.json()}catch(x){throw En.create("fetch-parse-error",{originalErrorMessage:x?.message})}const _=m.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw En.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const V=1e3*Number(_[1]),E=Date.now();return{token:m.token,expireTimeMillis:E+V,issuedAtTimeMillis:E}}),NS.apply(this,arguments)}function iF(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`${xS}/projects/${t}/apps/${r}:${vne}?key=${a}`,body:{debug_token:e}}}const Hne="firebase-app-check-database",Vne=1,v9="firebase-app-check-store";let sC=null;function kS(){return kS=(0,_e.Z)(function*(n,e){const r=(yield function aF(){return sC||(sC=new Promise((n,e)=>{try{const t=indexedDB.open(Hne,Vne);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(En.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(v9,{keyPath:"compositeKey"})}}catch(t){e(En.create("storage-open",{originalErrorMessage:t?.message}))}}),sC)}()).transaction(v9,"readwrite"),l=r.objectStore(v9).put({compositeKey:n,value:e});return new Promise((f,m)=>{l.onsuccess=_=>{f()},r.onerror=_=>{var V;m(En.create("storage-set",{originalErrorMessage:null===(V=_.target.error)||void 0===V?void 0:V.message}))}})}),kS.apply(this,arguments)}const y9=new So.Yd("@firebase/app-check");function OS(n,e){return(0,a2.hl)()?function zne(n,e){return function oF(n,e){return kS.apply(this,arguments)}(function lF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{y9.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function BS(){return tC().enabled}function US(){return jS.apply(this,arguments)}function jS(){return jS=(0,_e.Z)(function*(){const n=tC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),jS.apply(this,arguments)}const Ane={error:"UNKNOWN_ERROR"};function Tne(n){return a2.US.encodeString(JSON.stringify(n),!1)}function aC(n){return $S.apply(this,arguments)}function $S(){return $S=(0,_e.Z)(function*(n,e=!1){const t=n.app;AS(t);const r=g1(t);let l,a=r.token;if(a&&!Kl(a)&&(r.token=void 0,a=void 0),!a){const _=yield r.cachedTokenPromise;_&&(Kl(_)?a=_:yield OS(t,void 0))}if(!e&&a&&Kl(a))return{token:a.token};let m,f=!1;if(BS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=iC(iF(t,yield US()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),f=!0);const _=yield r.exchangeTokenPromise;return yield OS(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),f=!0),a=yield g1(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?y9.warn(_.message):y9.error(_),l=_}return a?l?m=Kl(a)?{token:a.token,internalError:l}:hF(l):(m={token:a.token},r.token=a,yield OS(t,a)):m=hF(l),f&&function dF(n,e){const t=g1(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),$S.apply(this,arguments)}function GS(){return GS=(0,_e.Z)(function*(n){const e=n.app;AS(e);const{provider:t}=g1(e);if(BS()){const r=yield US(),{token:a}=yield iC(iF(e,r),n.heartbeatServiceProvider);return{token:a}}{const{token:r}=yield t.getToken();return{token:r}}}),GS.apply(this,arguments)}function WS(n,e){const t=g1(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function fF(n){const{app:e}=n,t=g1(e);let r=t.tokenRefresher;r||(r=function Nne(n){const{app:e}=n;return new Cne((0,_e.Z)(function*(){let r;if(r=g1(e).token?yield aC(n,!0):yield aC(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=g1(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},rF.RETRIAL_MIN_WAIT,rF.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Kl(n){return n.expireTimeMillis-Date.now()>0}function hF(n){return{token:Tne(Ane),error:n}}class kne{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=g1(this.app);for(const t of e)WS(this.app,t.next);return Promise.resolve()}}const _F="app-check-internal";!function Yne(){(0,T6._registerComponent)(new Vv.wA("app-check",n=>function Pne(n,e){return new kne(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_F).initialize()})),(0,T6._registerComponent)(new Vv.wA(_F,n=>function Rne(n){return{getToken:e=>aC(n,e),getLimitedUseToken:()=>function uF(n){return GS.apply(this,arguments)}(n),addTokenListener:e=>function qS(n,e,t,r){const{app:a}=n,l=g1(a);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&Kl(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),fF(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>fF(n))}(n,"INTERNAL",e),removeTokenListener:e=>WS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,T6.registerVersion)("@firebase/app-check","0.8.0")}();class QS{constructor(){return(0,wn.vb)("app-check")}}typeof window<"u"&&window;var tre=T(7142);const bF=new M.OlP("angularfire2.auth.use-emulator"),HF=new M.OlP("angularfire2.auth.settings"),VF=new M.OlP("angularfire2.auth.tenant-id"),IF=new M.OlP("angularfire2.auth.langugage-code"),zF=new M.OlP("angularfire2.auth.use-device-language"),EF=new M.OlP("angularfire.auth.persistence"),SF=(n,e,t,r,a,l,f,m)=>(0,bs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=a,l&&_.useDeviceLanguage(),f)for(const[V,E]of Object.entries(f))_.settings[V]=E;return m&&_.setPersistence(m),_},[t,r,a,l,f,m]);let LF=(()=>{class n{constructor(t,r,a,l,f,m,_,V,E,x,O,q){const de=new QO.x,Ae=(0,ul.of)(void 0).pipe((0,Jy.Q)(f.outsideAngular),(0,Xo.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(T.bind(T,5967)))),(0,ri.U)(()=>(0,bs.on)(t,l,r)),(0,ri.U)(Pe=>SF(Pe,l,m,V,E,x,_,O)),XO({bufferSize:1,refCount:!1}));if(Kn(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ul.of)(null);else{Ae.pipe(function one(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hv((a,l)=>n(a,l,r)):ane.y,function nne(n){return n<=0?()=>tne.E:(0,A6.e)((e,t)=>{let r=0;e.subscribe((0,fl.x)(t,a=>{++r<=n&&(t.next(a),n<=r&&t.complete())}))})}(1),t?function rne(n){return(0,A6.e)((e,t)=>{let r=!1;e.subscribe((0,fl.x)(t,a=>{r=!0,t.next(a)},()=>{r||t.next(n),t.complete()}))})}(e):ine(()=>new JO))}()).subscribe();const ft=Ae.pipe((0,Xo.w)(vt=>vt.getRedirectResult().then(Ht=>Ht,()=>null)),wn.iC,XO({bufferSize:1,refCount:!1})),lt=Ae.pipe((0,Xo.w)(vt=>new CI.y(Ht=>({unsubscribe:l.runOutsideAngular(()=>vt.onAuthStateChanged(Bt=>Ht.next(Bt),Bt=>Ht.error(Bt),()=>Ht.complete()))})))),st=Ae.pipe((0,Xo.w)(vt=>new CI.y(Ht=>({unsubscribe:l.runOutsideAngular(()=>vt.onIdTokenChanged(Bt=>Ht.next(Bt),Bt=>Ht.error(Bt),()=>Ht.complete()))}))));this.authState=ft.pipe(eF(lt),(0,SS.R)(f.outsideAngular),(0,Jy.Q)(f.insideAngular)),this.user=ft.pipe(eF(st),(0,SS.R)(f.outsideAngular),(0,Jy.Q)(f.insideAngular)),this.idToken=this.user.pipe((0,Xo.w)(vt=>vt?(0,x6.D)(vt.getIdToken()):(0,ul.of)(null))),this.idTokenResult=this.user.pipe((0,Xo.w)(vt=>vt?(0,x6.D)(vt.getIdTokenResult()):(0,ul.of)(null))),this.credential=(0,Y1e.T)(ft,de,this.authState.pipe(Hv(vt=>!vt))).pipe((0,ri.U)(vt=>vt?.user?vt:null),(0,SS.R)(f.outsideAngular),(0,Jy.Q)(f.insideAngular))}return(0,bs.pX)(this,Ae,l,{spy:{apply:(Pe,ft,lt)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&lt.then(st=>de.next(st))}}})}}return n.\u0275fac=function(t){return new(t||n)(M.LFG(bs.Dh),M.LFG(bs.xv,8),M.LFG(M.Lbi),M.LFG(M.R0b),M.LFG(wn.HU),M.LFG(bF,8),M.LFG(HF,8),M.LFG(VF,8),M.LFG(IF,8),M.LFG(zF,8),M.LFG(EF,8),M.LFG(QS,8))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function DF(n,e){return function rre(n,e=wX.z){return new CI.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function JS(n,e){return DF(n,e).pipe((0,ri.U)(t=>({payload:t,type:"query"})))}function cC(n,e){return JS(n,e).pipe(MI(void 0),_I(),(0,ri.U)(([t,r])=>{const a=r.payload.docChanges(),l=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,m)=>{const _=a.find(E=>E.doc.ref.isEqual(f.ref)),V=t?.payload.docs.find(E=>E.ref.isEqual(f.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(f.metadata)||!_&&V&&JSON.stringify(V.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),l}))}function xF(n,e,t){return cC(n,t).pipe(wI((r,a)=>function sre(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function are(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return eL(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return eL(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return eL(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(l=>l.payload),e),[]),(0,IX.x)(),(0,ri.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function eL(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function AF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class TF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=cC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ri.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(MI(void 0),_I(),Hv(([r,a])=>a.length>0||!r),(0,ri.U)(([r,a])=>a),wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(wI((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AF(e);return xF(this.query,t,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(e={}){return JS(this.query,this.afs.schedulers.outsideAngular).pipe((0,ri.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),wn.iC)}get(e){return(0,x6.D)(this.query.get(e)).pipe(wn.iC)}add(e){return this.ref.add(e)}doc(e){return new NF(this.ref.doc(e),this.afs)}}class NF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:l}=RF(r,t);return new TF(a,l,this.afs)}snapshotChanges(){return function ire(n,e){return DF(n,e).pipe(MI(void 0),_I(),(0,ri.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ri.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,x6.D)(this.ref.get(e)).pipe(wn.iC)}}class ore{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?cC(this.query,this.afs.schedulers.outsideAngular).pipe((0,ri.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Hv(t=>t.length>0),wn.iC):cC(this.query,this.afs.schedulers.outsideAngular).pipe(wn.iC)}auditTrail(e){return this.stateChanges(e).pipe(wI((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AF(e);return xF(this.query,t,this.afs.schedulers.outsideAngular).pipe(wn.iC)}valueChanges(e={}){return JS(this.query,this.afs.schedulers.outsideAngular).pipe((0,ri.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),wn.iC)}get(e){return(0,x6.D)(this.query.get(e)).pipe(wn.iC)}}const kF=new M.OlP("angularfire2.enableFirestorePersistence"),PF=new M.OlP("angularfire2.firestore.persistenceSettings"),cre=new M.OlP("angularfire2.firestore.settings"),lre=new M.OlP("angularfire2.firestore.use-emulator");function RF(n,e=(t=>t)){return{query:e(n),ref:n}}let OF=(()=>{class n{constructor(t,r,a,l,f,m,_,V,E,x,O,q,de,Ae,Pe,ft,lt){this.schedulers=_;const st=(0,bs.on)(t,m,r),vt=E;x&&SF(st,m,O,de,Ae,Pe,q,ft),[this.firestore,this.persistenceEnabled$]=(0,bs.cc)(`${st.name}.firestore`,"AngularFirestore",st.name,()=>{const Ht=m.runOutsideAngular(()=>st.firestore());if(l&&Ht.settings(l),vt&&Ht.useEmulator(...vt),a&&!Kn(f)){const Bt=()=>{try{return(0,x6.D)(Ht.enablePersistence(V||void 0).then(()=>!0,()=>!1))}catch(J2){return typeof console<"u"&&console.warn(J2),(0,ul.of)(!1)}};return[Ht,m.runOutsideAngular(Bt)]}return[Ht,(0,ul.of)(!1)]},[l,vt,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:f}=RF(a,r),m=this.schedulers.ngZone.run(()=>l);return new TF(m,f,this)}collectionGroup(t,r){const a=r||(f=>f),l=this.firestore.collectionGroup(t);return new ore(a(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new NF(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(M.LFG(bs.Dh),M.LFG(bs.xv,8),M.LFG(kF,8),M.LFG(cre,8),M.LFG(M.Lbi),M.LFG(M.R0b),M.LFG(wn.HU),M.LFG(PF,8),M.LFG(lre,8),M.LFG(LF,8),M.LFG(bF,8),M.LFG(HF,8),M.LFG(VF,8),M.LFG(IF,8),M.LFG(zF,8),M.LFG(EF,8),M.LFG(QS,8))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ure=(()=>{class n{constructor(){tre.Z.registerVersion("angularfire",wn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:kF,useValue:!0},{provide:PF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({providers:[OF]}),n})();class tL{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}}class fre{constructor(){this._orbit=0,this._ground=0,this._workers=new tL,this._soldiers=new tL,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class nL{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}}let FF=(()=>{var n;class e{constructor(){this.document=(0,M.f3M)(me)}extract(){let r=[];return this.document.querySelectorAll("#planetList > #planetList").forEach(a=>{let l=new fre,f=a.querySelectorAll(".resourceLine .left > span"),m=[];f.forEach(_=>{let V=_.textContent.split(/\s+/),E=new nL;E.name=_.parentElement.className.split(/\s+/)[2],E.stored=parseInt(V[0].replace(/,/g,"")),E.production=parseInt(V[1].substring(1,V[1].length-1).replace(/,/g,"")),E.abundance=parseInt(V[2].replace(/,/g,"")),m.push(E)}),l.resources=m,l.workers.available=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0].replace(/[(,]/g,"")),l.workers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),l.workers.maximumNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),l.soldiers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),l.name=a.querySelectorAll(".planetName > a")[0].innerHTML,l.location=a.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),l.orbit=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),l.ground=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(l)}),r}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),e})();class dre{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new tL,this._soldiers=0,this._buildings=[],this._fleet=[]}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get buildings(){return this._buildings}set buildings(e){this._buildings=e}get fleet(){return this._fleet}set fleet(e){this._fleet=e}}var br=function(n){return n[n.UNKNOWN=-1]="UNKNOWN",n[n.RESOURCE=0]="RESOURCE",n[n.SURFACE=1]="SURFACE",n[n.FLEET=2]="FLEET",n}(br||{});class hre{constructor(e,t){this._planetScan=e,this._type=t}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}let BF=(()=>{var n;class e{constructor(){this.document=(0,M.f3M)(me)}extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let l,r=new dre,a=document.querySelectorAll("#contentBox #planetHeader")[1];switch(a.querySelectorAll(".planetHeadSection .resource > span").length){case 5:l=br.SURFACE;break;case 3:l=br.RESOURCE;break;case 0:l=br.FLEET;break;default:l=br.UNKNOWN}let f=new hre(r,l);return(l===br.RESOURCE||l===br.SURFACE)&&(f.planetScan.orbit=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[0].textContent),f.planetScan.ground=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[1].textContent),f.planetScan.location=a.querySelectorAll(".planetHeadSection .coords")[0].textContent.replace(/\s+/,"")),l===br.RESOURCE&&a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach(m=>{let _=new nL;_.abundance=parseInt(m.textContent),f.planetScan.resources.push(_)}),l===br.SURFACE&&(a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach(m=>{let _=new nL;_.stored=parseInt(m.textContent.replace(/,/g,"")),f.planetScan.resources.push(_)}),a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((m,_)=>{f.planetScan.resources[_].abundance=parseInt(m.textContent)}),f.planetScan.workers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.split(/\//g)[0].replace(/,/g,"")),f.planetScan.workers.maximumNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.split(/\//g)[1].replace(/,/g,"")),f.planetScan.workers.available=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.split(/\s+/)[0].replace(/[(,]/g,"")),f.planetScan.soldiers=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.replace(/,/g,""))),f}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),rL=(()=>{var n;class e{constructor(){this.planetListExtractor=(0,M.f3M)(FF),this.planetScanExtractor=(0,M.f3M)(BF)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),e})(),pre=(()=>{var n;class e{extractScan(){return this.dgAPI.planetScan()}updateScan(r){this.firestore.collection("scans",a=>a.where("_location","==",r.planetScan.location).limit(1)).get().subscribe(a=>{let l=a.docChanges().map(f=>f.doc.data())[0];r.type==br.FLEET&&(l.fleet=r.planetScan.fleet),r.type==br.RESOURCE&&(l.resources.length>0?l.resources.forEach((f,m)=>{f.abundance=r.planetScan.resources[m].abundance}):l.resources=r.planetScan.resources),r.type==br.SURFACE&&(l.resources=r.planetScan.resources,l.workers=r.planetScan.workers,l.soldiers=r.planetScan.soldiers),(r.type==br.RESOURCE||r.type==br.SURFACE)&&(l.orbit=r.planetScan.orbit,l.ground=r.planetScan.ground),this.firestore.collection("scans").doc(a.docs[0].id).set(JSON.parse(JSON.stringify(r.planetScan))).then(()=>{console.log("Planet Scan ["+r.type+"] updated to FireStore: ["+JSON.stringify(r.planetScan)+"]")})})}constructor(){this.firestore=(0,M.f3M)(OF),this.dgAPI=(0,M.f3M)(rL)}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),mre=(()=>{var n;class e{constructor(){this.scansService=(0,M.f3M)(pre)}ngOnInit(){this.scansService.updateScan(this.scansService.extractScan())}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=M.Xpm({type:n,selectors:[["dgt-scans-panel"]],decls:2,vars:0,template:function(r,a){1&r&&(M.TgZ(0,"p"),M._uU(1,"Scans in cloud are active!"),M.qZA())}}),e})(),gre=(()=>{var n;class e{}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({providers:[FF,BF,rL],imports:[u2]}),e})();const vre_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR"};let yre=(()=>{var n;class e{constructor(){console.log("%cDGT%c - installing scans in cloud...","font-size: 12px; font-weight: bold;","font-size: 12px;")}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275mod=M.oAB({type:n,bootstrap:[mre]}),n.\u0275inj=M.cJS({providers:[rL],imports:[Br,gre,bs.hO.initializeApp(vre_firebase),ure]}),e})();const UF=Js();let iL=window.location.pathname.split(/\//g);UF.bootstrapModule(_X).catch(n=>console.error(n)),"planet"===iL[1]&&"comms"===(5===iL.length&&iL[3])&&UF.bootstrapModule(yre).catch(n=>console.error(n))},3018:(ht,Se,T)=>{T.d(Se,{y:()=>R});var M=T(1887),J=T(7394),N=T(4850),se=T(2737);var ge=T(2653),Te=T(4674),we=T(1441);let R=(()=>{class De{constructor(ve){ve&&(this._subscribe=ve)}lift(ve){const Be=new De;return Be.source=this,Be.operator=ve,Be}subscribe(ve,Be,Oe){const at=function qe(De){return De&&De instanceof M.Lv||function ie(De){return De&&(0,Te.m)(De.next)&&(0,Te.m)(De.error)&&(0,Te.m)(De.complete)}(De)&&(0,J.Nn)(De)}(ve)?ve:new M.Hp(ve,Be,Oe);return(0,we.x)(()=>{const{operator:rt,source:Y}=this;at.add(rt?rt.call(at,Y):Y?this._subscribe(at):this._trySubscribe(at))}),at}_trySubscribe(ve){try{return this._subscribe(ve)}catch(Be){ve.error(Be)}}forEach(ve,Be){return new(Be=j(Be))((Oe,at)=>{const rt=new M.Hp({next:Y=>{try{ve(Y)}catch(he){at(he),rt.unsubscribe()}},error:at,complete:Oe});this.subscribe(rt)})}_subscribe(ve){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(ve)}[N.L](){return this}pipe(...ve){return function me(De){return 0===De.length?se.y:1===De.length?De[0]:function(ve){return De.reduce((Be,Oe)=>Oe(Be),ve)}}(ve)(this)}toPromise(ve){return new(ve=j(ve))((Be,Oe)=>{let at;this.subscribe(rt=>at=rt,rt=>Oe(rt),()=>Be(at))})}}return De.create=dt=>new De(dt),De})();function j(De){var dt;return null!==(dt=De??ge.config.Promise)&&void 0!==dt?dt:Promise}},8645:(ht,Se,T)=>{T.d(Se,{x:()=>ge});var M=T(3018),J=T(7394);const se=(0,T(2306).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=T(9039),me=T(1441);let ge=(()=>{class we extends M.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const ie=new Te(this,this);return ie.operator=j,ie}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(j)}})}error(j){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:ie}=this;for(;ie.length;)ie.shift().error(j)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:ie,isStopped:qe,observers:De}=this;return ie||qe?J.Lc:(this.currentObservers=null,De.push(j),new J.w0(()=>{this.currentObservers=null,(0,ne.P)(De,j)}))}_checkFinalizedStatuses(j){const{hasError:ie,thrownError:qe,isStopped:De}=this;ie?j.error(qe):De&&j.complete()}asObservable(){const j=new M.y;return j.source=this,j}}return we.create=(R,j)=>new Te(R,j),we})();class Te extends ge{constructor(R,j){super(),this.destination=R,this.source=j}next(R){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===ie||ie.call(j,R)}error(R){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===ie||ie.call(j,R)}complete(){var R,j;null===(j=null===(R=this.destination)||void 0===R?void 0:R.complete)||void 0===j||j.call(R)}_subscribe(R){var j,ie;return null!==(ie=null===(j=this.source)||void 0===j?void 0:j.subscribe(R))&&void 0!==ie?ie:J.Lc}}},1887:(ht,Se,T)=>{T.d(Se,{Hp:()=>ve,Lv:()=>ie});var M=T(4674),J=T(7394),N=T(2653),se=T(3894);function ne(){}const me=we("C",void 0,void 0);function we(Y,he,Q){return{kind:Y,value:he,error:Q}}var R=T(7599),j=T(1441);class ie extends J.w0{constructor(he){super(),this.isStopped=!1,he?(this.destination=he,(0,J.Nn)(he)&&he.add(this)):this.destination=rt}static create(he,Q,He){return new ve(he,Q,He)}next(he){this.isStopped?at(function Te(Y){return we("N",Y,void 0)}(he),this):this._next(he)}error(he){this.isStopped?at(function ge(Y){return we("E",void 0,Y)}(he),this):(this.isStopped=!0,this._error(he))}complete(){this.isStopped?at(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(he){this.destination.next(he)}_error(he){try{this.destination.error(he)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function De(Y,he){return qe.call(Y,he)}class dt{constructor(he){this.partialObserver=he}next(he){const{partialObserver:Q}=this;if(Q.next)try{Q.next(he)}catch(He){Be(He)}}error(he){const{partialObserver:Q}=this;if(Q.error)try{Q.error(he)}catch(He){Be(He)}else Be(he)}complete(){const{partialObserver:he}=this;if(he.complete)try{he.complete()}catch(Q){Be(Q)}}}class ve extends ie{constructor(he,Q,He){let xe;if(super(),(0,M.m)(he)||!he)xe={next:he??void 0,error:Q??void 0,complete:He??void 0};else{let We;this&&N.config.useDeprecatedNextContext?(We=Object.create(he),We.unsubscribe=()=>this.unsubscribe(),xe={next:he.next&&De(he.next,We),error:he.error&&De(he.error,We),complete:he.complete&&De(he.complete,We)}):xe=he}this.destination=new dt(xe)}}function Be(Y){N.config.useDeprecatedSynchronousErrorHandling?(0,j.O)(Y):(0,se.h)(Y)}function at(Y,he){const{onStoppedNotification:Q}=N.config;Q&&R.z.setTimeout(()=>Q(Y,he))}const rt={closed:!0,next:ne,error:function Oe(Y){throw Y},complete:ne}},7394:(ht,Se,T)=>{T.d(Se,{Lc:()=>me,w0:()=>ne,Nn:()=>ge});var M=T(4674);const N=(0,T(2306).d)(we=>function(j){we(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((ie,qe)=>`${qe+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=T(9039);class ne{constructor(R){this.initialTeardown=R,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let R;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const De of j)De.remove(this);else j.remove(this);const{initialTeardown:ie}=this;if((0,M.m)(ie))try{ie()}catch(De){R=De instanceof N?De.errors:[De]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const De of qe)try{Te(De)}catch(dt){R=R??[],dt instanceof N?R=[...R,...dt.errors]:R.push(dt)}}if(R)throw new N(R)}}add(R){var j;if(R&&R!==this)if(this.closed)Te(R);else{if(R instanceof ne){if(R.closed||R._hasParent(this))return;R._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(R)}}_hasParent(R){const{_parentage:j}=this;return j===R||Array.isArray(j)&&j.includes(R)}_addParent(R){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(R),j):j?[j,R]:R}_removeParent(R){const{_parentage:j}=this;j===R?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,R)}remove(R){const{_finalizers:j}=this;j&&(0,se.P)(j,R),R instanceof ne&&R._removeParent(this)}}ne.EMPTY=(()=>{const we=new ne;return we.closed=!0,we})();const me=ne.EMPTY;function ge(we){return we instanceof ne||we&&"closed"in we&&(0,M.m)(we.remove)&&(0,M.m)(we.add)&&(0,M.m)(we.unsubscribe)}function Te(we){(0,M.m)(we)?we():we.unsubscribe()}},2653:(ht,Se,T)=>{T.d(Se,{config:()=>M});const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ht,Se,T)=>{T.d(Se,{E:()=>J});const J=new(T(3018).y)(ne=>ne.complete())},2459:(ht,Se,T)=>{T.d(Se,{D:()=>he});var M=T(4829),J=T(3093),N=T(5137),me=T(3018),Te=T(4971),we=T(4674),R=T(7103);function ie(Q,He){if(!Q)throw new Error("Iterable cannot be null");return new me.y(xe=>{(0,R.f)(xe,He,()=>{const We=Q[Symbol.asyncIterator]();(0,R.f)(xe,He,()=>{We.next().then(re=>{re.done?xe.complete():xe.next(re.value)})},0,!0)})})}var qe=T(8382),De=T(4026),dt=T(4266),ve=T(3664),Be=T(5726),Oe=T(9853),at=T(541);function he(Q,He){return He?function Y(Q,He){if(null!=Q){if((0,qe.c)(Q))return function se(Q,He){return(0,M.Xf)(Q).pipe((0,N.R)(He),(0,J.Q)(He))}(Q,He);if((0,dt.z)(Q))return function ge(Q,He){return new me.y(xe=>{let We=0;return He.schedule(function(){We===Q.length?xe.complete():(xe.next(Q[We++]),xe.closed||this.schedule())})})}(Q,He);if((0,De.t)(Q))return function ne(Q,He){return(0,M.Xf)(Q).pipe((0,N.R)(He),(0,J.Q)(He))}(Q,He);if((0,Be.D)(Q))return ie(Q,He);if((0,ve.T)(Q))return function j(Q,He){return new me.y(xe=>{let We;return(0,R.f)(xe,He,()=>{We=Q[Te.h](),(0,R.f)(xe,He,()=>{let re,ct;try{({value:re,done:ct}=We.next())}catch(Pt){return void xe.error(Pt)}ct?xe.complete():xe.next(re)},0,!0)}),()=>(0,we.m)(We?.return)&&We.return()})}(Q,He);if((0,at.L)(Q))return function rt(Q,He){return ie((0,at.Q)(Q),He)}(Q,He)}throw(0,Oe.z)(Q)}(Q,He):(0,M.Xf)(Q)}},4829:(ht,Se,T)=>{T.d(Se,{Xf:()=>qe});var M=T(7582),J=T(4266),N=T(4026),se=T(3018),ne=T(8382),me=T(5726),ge=T(9853),Te=T(3664),we=T(541),R=T(4674),j=T(3894),ie=T(4850);function qe(Y){if(Y instanceof se.y)return Y;if(null!=Y){if((0,ne.c)(Y))return function De(Y){return new se.y(he=>{const Q=Y[ie.L]();if((0,R.m)(Q.subscribe))return Q.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Y);if((0,J.z)(Y))return function dt(Y){return new se.y(he=>{for(let Q=0;Q<Y.length&&!he.closed;Q++)he.next(Y[Q]);he.complete()})}(Y);if((0,N.t)(Y))return function ve(Y){return new se.y(he=>{Y.then(Q=>{he.closed||(he.next(Q),he.complete())},Q=>he.error(Q)).then(null,j.h)})}(Y);if((0,me.D)(Y))return Oe(Y);if((0,Te.T)(Y))return function Be(Y){return new se.y(he=>{for(const Q of Y)if(he.next(Q),he.closed)return;he.complete()})}(Y);if((0,we.L)(Y))return function at(Y){return Oe((0,we.Q)(Y))}(Y)}throw(0,ge.z)(Y)}function Oe(Y){return new se.y(he=>{(function rt(Y,he){var Q,He,xe,We;return(0,M.mG)(this,void 0,void 0,function*(){try{for(Q=(0,M.KL)(Y);!(He=yield Q.next()).done;)if(he.next(He.value),he.closed)return}catch(re){xe={error:re}}finally{try{He&&!He.done&&(We=Q.return)&&(yield We.call(Q))}finally{if(xe)throw xe.error}}he.complete()})})(Y,he).catch(Q=>he.error(Q))})}},3019:(ht,Se,T)=>{T.d(Se,{T:()=>me});var M=T(2372),J=T(4829),N=T(6232),se=T(4564),ne=T(2459);function me(...ge){const Te=(0,se.yG)(ge),we=(0,se._6)(ge,1/0),R=ge;return R.length?1===R.length?(0,J.Xf)(R[0]):(0,M.J)(we)((0,ne.D)(R,Te)):N.E}},2096:(ht,Se,T)=>{T.d(Se,{of:()=>N});var M=T(4564),J=T(2459);function N(...se){const ne=(0,M.yG)(se);return(0,J.D)(se,ne)}},8251:(ht,Se,T)=>{T.d(Se,{x:()=>J});var M=T(1887);function J(se,ne,me,ge,Te){return new N(se,ne,me,ge,Te)}class N extends M.Lv{constructor(ne,me,ge,Te,we,R){super(ne),this.onFinalize=we,this.shouldUnsubscribe=R,this._next=me?function(j){try{me(j)}catch(ie){ne.error(ie)}}:super._next,this._error=Te?function(j){try{Te(j)}catch(ie){ne.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(j){ne.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},3997:(ht,Se,T)=>{T.d(Se,{x:()=>se});var M=T(2737),J=T(9360),N=T(8251);function se(me,ge=M.y){return me=me??ne,(0,J.e)((Te,we)=>{let R,j=!0;Te.subscribe((0,N.x)(we,ie=>{const qe=ge(ie);(j||!me(R,qe))&&(j=!1,R=qe,we.next(ie))}))})}function ne(me,ge){return me===ge}},7398:(ht,Se,T)=>{T.d(Se,{U:()=>N});var M=T(9360),J=T(8251);function N(se,ne){return(0,M.e)((me,ge)=>{let Te=0;me.subscribe((0,J.x)(ge,we=>{ge.next(se.call(ne,we,Te++))}))})}},2372:(ht,Se,T)=>{T.d(Se,{J:()=>R});var M=T(7398),J=T(4829),N=T(9360),se=T(7103),ne=T(8251),ge=T(4674);function Te(j,ie,qe=1/0){return(0,ge.m)(ie)?Te((De,dt)=>(0,M.U)((ve,Be)=>ie(De,ve,dt,Be))((0,J.Xf)(j(De,dt))),qe):("number"==typeof ie&&(qe=ie),(0,N.e)((De,dt)=>function me(j,ie,qe,De,dt,ve,Be,Oe){const at=[];let rt=0,Y=0,he=!1;const Q=()=>{he&&!at.length&&!rt&&ie.complete()},He=We=>rt<De?xe(We):at.push(We),xe=We=>{ve&&ie.next(We),rt++;let re=!1;(0,J.Xf)(qe(We,Y++)).subscribe((0,ne.x)(ie,ct=>{dt?.(ct),ve?He(ct):ie.next(ct)},()=>{re=!0},void 0,()=>{if(re)try{for(rt--;at.length&&rt<De;){const ct=at.shift();Be?(0,se.f)(ie,Be,()=>xe(ct)):xe(ct)}Q()}catch(ct){ie.error(ct)}}))};return j.subscribe((0,ne.x)(ie,He,()=>{he=!0,Q()})),()=>{Oe?.()}}(De,dt,j,qe)))}var we=T(2737);function R(j=1/0){return Te(we.y,j)}},3093:(ht,Se,T)=>{T.d(Se,{Q:()=>se});var M=T(7103),J=T(9360),N=T(8251);function se(ne,me=0){return(0,J.e)((ge,Te)=>{ge.subscribe((0,N.x)(Te,we=>(0,M.f)(Te,ne,()=>Te.next(we),me),()=>(0,M.f)(Te,ne,()=>Te.complete(),me),we=>(0,M.f)(Te,ne,()=>Te.error(we),me)))})}},3020:(ht,Se,T)=>{T.d(Se,{B:()=>ne});var M=T(4829),J=T(8645),N=T(1887),se=T(9360);function ne(ge={}){const{connector:Te=(()=>new J.x),resetOnError:we=!0,resetOnComplete:R=!0,resetOnRefCountZero:j=!0}=ge;return ie=>{let qe,De,dt,ve=0,Be=!1,Oe=!1;const at=()=>{De?.unsubscribe(),De=void 0},rt=()=>{at(),qe=dt=void 0,Be=Oe=!1},Y=()=>{const he=qe;rt(),he?.unsubscribe()};return(0,se.e)((he,Q)=>{ve++,!Oe&&!Be&&at();const He=dt=dt??Te();Q.add(()=>{ve--,0===ve&&!Oe&&!Be&&(De=me(Y,j))}),He.subscribe(Q),!qe&&ve>0&&(qe=new N.Hp({next:xe=>He.next(xe),error:xe=>{Oe=!0,at(),De=me(rt,we,xe),He.error(xe)},complete:()=>{Be=!0,at(),De=me(rt,R),He.complete()}}),(0,M.Xf)(he).subscribe(qe))})(ie)}}function me(ge,Te,...we){if(!0===Te)return void ge();if(!1===Te)return;const R=new N.Hp({next:()=>{R.unsubscribe(),ge()}});return(0,M.Xf)(Te(...we)).subscribe(R)}},5137:(ht,Se,T)=>{T.d(Se,{R:()=>J});var M=T(9360);function J(N,se=0){return(0,M.e)((ne,me)=>{me.add(N.schedule(()=>ne.subscribe(me),se))})}},4664:(ht,Se,T)=>{T.d(Se,{w:()=>se});var M=T(4829),J=T(9360),N=T(8251);function se(ne,me){return(0,J.e)((ge,Te)=>{let we=null,R=0,j=!1;const ie=()=>j&&!we&&Te.complete();ge.subscribe((0,N.x)(Te,qe=>{we?.unsubscribe();let De=0;const dt=R++;(0,M.Xf)(ne(qe,dt)).subscribe(we=(0,N.x)(Te,ve=>Te.next(me?me(qe,ve,dt,De++):ve),()=>{we=null,ie()}))},()=>{j=!0,ie()}))})}},1954:(ht,Se,T)=>{T.d(Se,{o:()=>ne});var M=T(7394);class J extends M.w0{constructor(ge,Te){super()}schedule(ge,Te=0){return this}}const N={setInterval(me,ge,...Te){const{delegate:we}=N;return we?.setInterval?we.setInterval(me,ge,...Te):setInterval(me,ge,...Te)},clearInterval(me){const{delegate:ge}=N;return(ge?.clearInterval||clearInterval)(me)},delegate:void 0};var se=T(9039);class ne extends J{constructor(ge,Te){super(ge,Te),this.scheduler=ge,this.work=Te,this.pending=!1}schedule(ge,Te=0){var we;if(this.closed)return this;this.state=ge;const R=this.id,j=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(j,R,Te)),this.pending=!0,this.delay=Te,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(j,this.id,Te),this}requestAsyncId(ge,Te,we=0){return N.setInterval(ge.flush.bind(ge,this),we)}recycleAsyncId(ge,Te,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return Te;null!=Te&&N.clearInterval(Te)}execute(ge,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(ge,Te);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,Te){let R,we=!1;try{this.work(ge)}catch(j){we=!0,R=j||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),R}unsubscribe(){if(!this.closed){const{id:ge,scheduler:Te}=this,{actions:we}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(we,this),null!=ge&&(this.id=this.recycleAsyncId(Te,ge,null)),this.delay=null,super.unsubscribe()}}}},2631:(ht,Se,T)=>{T.d(Se,{v:()=>N});var M=T(4552);class J{constructor(ne,me=J.now){this.schedulerActionCtor=ne,this.now=me}schedule(ne,me=0,ge){return new this.schedulerActionCtor(this,ne).schedule(ge,me)}}J.now=M.l.now;class N extends J{constructor(ne,me=J.now){super(ne,me),this.actions=[],this._active=!1}flush(ne){const{actions:me}=this;if(this._active)return void me.push(ne);let ge;this._active=!0;do{if(ge=ne.execute(ne.state,ne.delay))break}while(ne=me.shift());if(this._active=!1,ge){for(;ne=me.shift();)ne.unsubscribe();throw ge}}}},6321:(ht,Se,T)=>{T.d(Se,{z:()=>N});var M=T(1954);const N=new(T(2631).v)(M.o)},4552:(ht,Se,T)=>{T.d(Se,{l:()=>M});const M={now:()=>(M.delegate||Date).now(),delegate:void 0}},7599:(ht,Se,T)=>{T.d(Se,{z:()=>M});const M={setTimeout(J,N,...se){const{delegate:ne}=M;return ne?.setTimeout?ne.setTimeout(J,N,...se):setTimeout(J,N,...se)},clearTimeout(J){const{delegate:N}=M;return(N?.clearTimeout||clearTimeout)(J)},delegate:void 0}},4971:(ht,Se,T)=>{T.d(Se,{h:()=>J});const J=function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ht,Se,T)=>{T.d(Se,{L:()=>M});const M="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ht,Se,T)=>{T.d(Se,{_6:()=>me,yG:()=>ne});var M=T(4674);function N(ge){return ge[ge.length-1]}function ne(ge){return function J(ge){return ge&&(0,M.m)(ge.schedule)}(N(ge))?ge.pop():void 0}function me(ge,Te){return"number"==typeof N(ge)?ge.pop():Te}},9039:(ht,Se,T)=>{function M(J,N){if(J){const se=J.indexOf(N);0<=se&&J.splice(se,1)}}T.d(Se,{P:()=>M})},2306:(ht,Se,T)=>{function M(J){const se=J(ne=>{Error.call(ne),ne.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}T.d(Se,{d:()=>M})},1441:(ht,Se,T)=>{T.d(Se,{O:()=>se,x:()=>N});var M=T(2653);let J=null;function N(ne){if(M.config.useDeprecatedSynchronousErrorHandling){const me=!J;if(me&&(J={errorThrown:!1,error:null}),ne(),me){const{errorThrown:ge,error:Te}=J;if(J=null,ge)throw Te}}else ne()}function se(ne){M.config.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ne)}},7103:(ht,Se,T)=>{function M(J,N,se,ne=0,me=!1){const ge=N.schedule(function(){se(),me?J.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(J.add(ge),!me)return ge}T.d(Se,{f:()=>M})},2737:(ht,Se,T)=>{function M(J){return J}T.d(Se,{y:()=>M})},4266:(ht,Se,T)=>{T.d(Se,{z:()=>M});const M=J=>J&&"number"==typeof J.length&&"function"!=typeof J},5726:(ht,Se,T)=>{T.d(Se,{D:()=>J});var M=T(4674);function J(N){return Symbol.asyncIterator&&(0,M.m)(N?.[Symbol.asyncIterator])}},4674:(ht,Se,T)=>{function M(J){return"function"==typeof J}T.d(Se,{m:()=>M})},8382:(ht,Se,T)=>{T.d(Se,{c:()=>N});var M=T(4850),J=T(4674);function N(se){return(0,J.m)(se[M.L])}},3664:(ht,Se,T)=>{T.d(Se,{T:()=>N});var M=T(4971),J=T(4674);function N(se){return(0,J.m)(se?.[M.h])}},4026:(ht,Se,T)=>{T.d(Se,{t:()=>J});var M=T(4674);function J(N){return(0,M.m)(N?.then)}},541:(ht,Se,T)=>{T.d(Se,{L:()=>se,Q:()=>N});var M=T(7582),J=T(4674);function N(ne){return(0,M.FC)(this,arguments,function*(){const ge=ne.getReader();try{for(;;){const{value:Te,done:we}=yield(0,M.qq)(ge.read());if(we)return yield(0,M.qq)(void 0);yield yield(0,M.qq)(Te)}}finally{ge.releaseLock()}})}function se(ne){return(0,J.m)(ne?.getReader)}},9360:(ht,Se,T)=>{T.d(Se,{e:()=>N});var M=T(4674);function N(se){return ne=>{if(function J(se){return(0,M.m)(se?.lift)}(ne))return ne.lift(function(me){try{return se(me,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3894:(ht,Se,T)=>{T.d(Se,{h:()=>N});var M=T(2653),J=T(7599);function N(se){J.z.setTimeout(()=>{const{onUnhandledError:ne}=M.config;if(!ne)throw se;ne(se)})}},9853:(ht,Se,T)=>{function M(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(Se,{z:()=>M})},7989:(ht,Se,T)=>{T.d(Se,{AFp:()=>J9,hGG:()=>lV,Ojb:()=>KC,sBO:()=>KH,EJc:()=>vH,SBq:()=>ro,qLn:()=>S4,OlP:()=>s2,zs3:()=>Xr,ZZ4:()=>D7,aQg:()=>x7,soG:()=>X8,h0i:()=>k4,R0b:()=>ln,FiY:()=>m3,Lbi:()=>E5,g9A:()=>z5,Qsj:()=>oM,FYo:()=>od,JOm:()=>Ba,q3G:()=>V4,Rgc:()=>M6,dDg:()=>kH,eoX:()=>wg,q4F:()=>cd,GfV:()=>k5,s_b:()=>G8,ifc:()=>ze,Lck:()=>nb,eFA:()=>Ig,f3M:()=>Lt,X6Q:()=>WH,_c5:()=>cV,rg0:()=>Gs,zSh:()=>H5,wAp:()=>yo,vHH:()=>Y,lri:()=>Mg,rWj:()=>_g,JZr:()=>rt,EiD:()=>t8,mCW:()=>Wc,qzn:()=>Qa,JVY:()=>_C,pB0:()=>HC,eBb:()=>bC,L6k:()=>wC,LAX:()=>p5,cg1:()=>P8,kL8:()=>Vp,dqk:()=>Yt,QGY:()=>L8,F4k:()=>Dh,RDi:()=>mC,AaK:()=>ie,z3N:()=>Li,TTD:()=>yi,xp6:()=>q5,uIk:()=>su,ekj:()=>Eu,Xpm:()=>Ls,lG2:()=>ui,Yz7:()=>Dt,cJS:()=>p2,oAB:()=>ji,Yjl:()=>O3,Y36:()=>so,_UZ:()=>S8,qZA:()=>E8,TgZ:()=>z8,Ikx:()=>k8,LFG:()=>wt,$8M:()=>Wr,Hsn:()=>Rh,F$t:()=>Ph,Q6J:()=>mu,DdM:()=>pm,oJD:()=>$9,Akn:()=>ei,_uU:()=>ap});var M=T(8645),J=T(7394);class N extends M.x{constructor(s){super(),this._value=s}get value(){return this.getValue()}_subscribe(s){const o=super._subscribe(s);return!o.closed&&s.next(this._value),o}getValue(){const{hasError:s,thrownError:o,_value:c}=this;if(s)throw o;return this._throwIfClosed(),c}next(s){super.next(this._value=s)}}var se=T(3018),ne=T(3019),me=T(2096),ge=T(3020),Te=T(4664),we=T(3997);function R(i){for(let s in i)if(i[s]===R)return s;throw Error("Could not find renamed property on target object.")}function ie(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ie).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function qe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const De=R({__forward_ref__:R});function dt(i){return i.__forward_ref__=dt,i.toString=function(){return ie(this())},i}function ve(i){return function Be(i){return"function"==typeof i&&i.hasOwnProperty(De)&&i.__forward_ref__===dt}(i)?i():i}function Oe(i){return i&&!!i.\u0275providers}const rt="https://g.co/ng/security#xss";class Y extends Error{constructor(s,o){super(function he(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,o)),this.code=s}}function Q(i){return"string"==typeof i?i:null==i?"":String(i)}function ct(i,s){throw new Y(-201,!1)}function Je(i,s){null==i&&function je(i,s,o,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${o} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Dt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function p2(i){return{providers:i.providers||[],imports:i.imports||[]}}function t1(i){return v1(i,F1)||v1(i,ir)}function v1(i,s){return i.hasOwnProperty(s)?i[s]:null}function Hr(i){return i&&(i.hasOwnProperty(B1)||i.hasOwnProperty(Pi))?i[B1]:null}const F1=R({\u0275prov:R}),B1=R({\u0275inj:R}),ir=R({ngInjectableDef:R}),Pi=R({ngInjectorDef:R});var mt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(mt||{});let Rt;function r2(i){const s=Rt;return Rt=i,s}function m2(i,s,o){const c=t1(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&mt.Optional?null:void 0!==s?s:void ct(ie(i))}const Yt=globalThis,x1={},I2="__NG_DI_FLAG__",Q1="ngTempTokenPath",F=/\n/gm,G="__source";let Me;function Ke(i){const s=Me;return Me=i,s}function Et(i,s=mt.Default){if(void 0===Me)throw new Y(-203,!1);return null===Me?m2(i,void 0,s):Me.get(i,s&mt.Optional?null:void 0,s)}function wt(i,s=mt.Default){return(function St(){return Rt}()||Et)(ve(i),s)}function Lt(i,s=mt.Default){return wt(i,C2(s))}function C2(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Ut(i){const s=[];for(let o=0;o<i.length;o++){const c=ve(i[o]);if(Array.isArray(c)){if(0===c.length)throw new Y(900,!1);let u,h=mt.Default;for(let g=0;g<c.length;g++){const C=c[g],b=Sn(C);"number"==typeof b?-1===b?u=C.token:h|=b:u=C}s.push(wt(u,h))}else s.push(wt(c))}return s}function T2(i,s){return i[I2]=s,i.prototype[I2]=s,i}function Sn(i){return i[I2]}function oe(i){return{toString:i}.toString()}var X=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(X||{}),ze=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(ze||{});const it={},Ge=[],xt=R({\u0275cmp:R}),Kt=R({\u0275dir:R}),z2=R({\u0275pipe:R}),E2=R({\u0275mod:R}),r1=R({\u0275fac:R}),Ln=R({__NG_ELEMENT_ID__:R}),ci=R({__NG_ENV_ID__:R});function T3(i,s,o){let c=i.length;for(;;){const u=i.indexOf(s,o);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const h=s.length;if(u+h===c||i.charCodeAt(u+h)<=32)return u}o=u+1}}function Fi(i,s,o){let c=0;for(;c<o.length;){const u=o[c];if("number"==typeof u){if(0!==u)break;c++;const h=o[c++],g=o[c++],C=o[c++];i.setAttribute(s,g,C,h)}else{const h=u,g=o[++c];J1(h)?i.setProperty(s,h,g):i.setAttribute(s,h,g),c++}}return c}function N3(i){return 3===i||4===i||6===i}function J1(i){return 64===i.charCodeAt(0)}function zr(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let c=0;c<s.length;c++){const u=s[c];"number"==typeof u?o=u:0===o||Ss(i,o,u,null,-1===o||2===o?s[++c]:null)}}return i}function Ss(i,s,o,c,u){let h=0,g=i.length;if(-1===s)g=-1;else for(;h<i.length;){const C=i[h++];if("number"==typeof C){if(C===s){g=-1;break}if(C>s){g=h-1;break}}}for(;h<i.length;){const C=i[h];if("number"==typeof C)break;if(C===o){if(null===c)return void(null!==u&&(i[h+1]=u));if(c===i[h+1])return void(i[h+2]=u)}h++,null!==c&&h++,null!==u&&h++}-1!==g&&(i.splice(g,0,s),h=g+1),i.splice(h++,0,o),null!==c&&i.splice(h++,0,c),null!==u&&i.splice(h++,0,u)}const k3="ng-template";function S2(i,s,o){let c=0,u=!0;for(;c<i.length;){let h=i[c++];if("string"==typeof h&&u){const g=i[c++];if(o&&"class"===h&&-1!==T3(g.toLowerCase(),s,0))return!0}else{if(1===h){for(;c<i.length&&"string"==typeof(h=i[c++]);)if(h.toLowerCase()===s)return!0;return!1}"number"==typeof h&&(u=!1)}}return!1}function Bi(i){return 4===i.type&&i.value!==k3}function o0(i,s,o){return s===(4!==i.type||o?i.value:k3)}function Jo(i,s,o){let c=4;const u=i.attrs||[],h=function c0(i){for(let s=0;s<i.length;s++)if(N3(i[s]))return s;return i.length}(u);let g=!1;for(let C=0;C<s.length;C++){const b=s[C];if("number"!=typeof b){if(!g)if(4&c){if(c=2|1&c,""!==b&&!o0(i,b,o)||""===b&&1===s.length){if(A1(c))return!1;g=!0}}else{const z=8&c?b:s[++C];if(8&c&&null!==i.attrs){if(!S2(i.attrs,z,o)){if(A1(c))return!1;g=!0}continue}const k=li(8&c?"class":b,u,Bi(i),o);if(-1===k){if(A1(c))return!1;g=!0;continue}if(""!==z){let $;$=k>h?"":u[k+1].toLowerCase();const K=8&c?$:null;if(K&&-1!==T3(K,z,0)||2&c&&z!==$){if(A1(c))return!1;g=!0}}}}else{if(!g&&!A1(c)&&!A1(b))return!1;if(g&&A1(b))continue;g=!1,c=b|1&c}}return A1(c)||g}function A1(i){return 0==(1&i)}function li(i,s,o,c){if(null===s)return-1;let u=0;if(c||!o){let h=!1;for(;u<s.length;){const g=s[u];if(g===i)return u;if(3===g||6===g)h=!0;else{if(1===g||2===g){let C=s[++u];for(;"string"==typeof C;)C=s[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=h?1:2}return-1}return function Er(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const c=i[o];if("number"==typeof c)return-1;if(c===s)return o;o++}return-1}(s,i)}function P3(i,s,o=!1){for(let c=0;c<s.length;c++)if(Jo(i,s[c],o))return!0;return!1}function ec(i,s){e:for(let o=0;o<s.length;o++){const c=s[o];if(i.length===c.length){for(let u=0;u<i.length;u++)if(i[u]!==c[u])continue e;return!0}}return!1}function Ui(i,s){return i?":not("+s.trim()+")":s}function J4(i){let s=i[0],o=1,c=2,u="",h=!1;for(;o<i.length;){let g=i[o];if("string"==typeof g)if(2&c){const C=i[++o];u+="["+g+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?u+="."+g:4&c&&(u+=" "+g);else""!==u&&!A1(g)&&(s+=Ui(h,u),u=""),c=g,h=h||!A1(c);o++}return""!==u&&(s+=Ui(h,u)),s}function Ls(i){return oe(()=>{const s=F3(i),o={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===X.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||ze.Emulated,styles:i.styles||Ge,_:null,schemas:i.schemas||null,tView:null,id:""};tc(o);const c=i.dependencies;return o.directiveDefs=$i(c,!1),o.pipeDefs=$i(c,!0),o.id=function tn(i){let s=0;const o=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const u of o)s=Math.imul(31,s)+u.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(o),o})}function R3(i){return jt(i)||b2(i)}function Ds(i){return null!==i}function ji(i){return oe(()=>({type:i.type,bootstrap:i.bootstrap||Ge,declarations:i.declarations||Ge,imports:i.imports||Ge,exports:i.exports||Ge,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function xs(i,s){if(null==i)return it;const o={};for(const c in i)if(i.hasOwnProperty(c)){let u=i[c],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=c,s&&(s[u]=h)}return o}function ui(i){return oe(()=>{const s=F3(i);return tc(s),s})}function O3(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function jt(i){return i[xt]||null}function b2(i){return i[Kt]||null}function y1(i){return i[z2]||null}function F3(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||it,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Ge,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xs(i.inputs,s),outputs:xs(i.outputs)}}function tc(i){i.features?.forEach(s=>s(i))}function $i(i,s){if(!i)return null;const o=s?y1:R3;return()=>("function"==typeof i?i():i).map(c=>o(c)).filter(Ds)}const g2=0,Ze=1,Mt=2,l2=3,M1=4,Lr=5,i1=6,Gi=7,u2=8,Wn=9,fi=10,Vt=11,s1=12,nc=13,Kn=14,f2=15,B3=16,Dr=17,a1=18,ar=19,Zn=20,or=21,nn=22,Ts=23,xr=24,Tt=25,di=1,Ns=2,G2=7,q2=9,o1=11;function W2(i){return Array.isArray(i)&&"object"==typeof i[di]}function _1(i){return Array.isArray(i)&&!0===i[di]}function ks(i){return 0!=(4&i.flags)}function Tr(i){return i.componentOffset>-1}function T1(i){return!!i.template}function hi(i){return 0!=(512&i[Mt])}function Nr(i,s){return i.hasOwnProperty(r1)?i[r1]:null}let W3=Yt.WeakRef??class Fs{constructor(s){this.ref=s}deref(){return this.ref}},Bs=0,Dn=null,kr=!1;function H2(i){const s=Dn;return Dn=i,s}class oc{constructor(){this.id=Bs++,this.ref=function gi(i){return new W3(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,o]of this.producers){const c=o.producerNode.deref();if(null!=c&&o.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(s),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=kr;kr=!0;try{for(const[o,c]of this.consumers){const u=c.consumerNode.deref();null!=u&&u.trackingVersion===c.atTrackingVersion?u.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),u?.producers.delete(this.id))}}finally{kr=s}}producerAccessed(){if(kr)throw new Error("");if(null===Dn)return;let s=Dn.producers.get(this.id);void 0===s?(s={consumerNode:Dn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Dn.trackingVersion},Dn.producers.set(this.id,s),this.consumers.set(Dn.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=Dn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Dn?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let $s=null;function Gs(i){const s=H2(null);try{return i()}finally{H2(s)}}const ca=()=>{};class la extends oc{constructor(s,o,c){super(),this.watch=s,this.schedule=o,this.dirty=!1,this.cleanupFn=ca,this.registerOnCleanup=u=>{this.cleanupFn=u},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=H2(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ca,this.watch(this.registerOnCleanup)}finally{H2(s)}}cleanup(){this.cleanupFn()}}class uc{constructor(s,o,c){this.previousValue=s,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function yi(){return ua}function ua(i){return i.type.prototype.ngOnChanges&&(i.setInput=Zi),Pr}function Pr(){const i=Ws(this),s=i?.current;if(s){const o=i.previous;if(o===it)i.previous=s;else for(let c in s)o[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Zi(i,s,o,c){const u=this.declaredInputs[o],h=Ws(i)||function Ci(i,s){return i[qs]=s}(i,{previous:it,current:null}),g=h.current||(h.current={}),C=h.previous,b=C[u];g[u]=new uc(b&&b.currentValue,s,C===it),i[c]=s}yi.ngInherit=!0;const qs="__ngSimpleChanges__";function Ws(i){return i[qs]||null}const Qn=function(i,s,o){};function e2(i){for(;Array.isArray(i);)i=i[g2];return i}function u1(i,s){return e2(s[i.index])}function J3(i,s){return i.data[s]}function L2(i,s){const o=s[i];return W2(o)?o:o[g2]}function ur(i,s){return null==s?null:i[s]}function t4(i){i[Dr]=0}function dc(i){1024&i[Mt]||(i[Mt]|=1024,Rr(i,1))}function n4(i){1024&i[Mt]&&(i[Mt]&=-1025,Rr(i,-1))}function Rr(i,s){let o=i[l2];if(null===o)return;o[Lr]+=s;let c=o;for(o=o[l2];null!==o&&(1===s&&1===c[Lr]||-1===s&&0===c[Lr]);)o[Lr]+=s,c=o,o=o[l2]}const It={lFrame:ya(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fr(){return It.bindingsEnabled}function Qi(){return null!==It.skipHydrationRootTNode}function fe(){return It.lFrame.lView}function qt(){return It.lFrame.tView}function D2(){let i=Js();for(;null!==i&&64===i.type;)i=i.parent;return i}function Js(){return It.lFrame.currentTNode}function sn(i,s){const o=It.lFrame;o.currentTNode=i,o.isParent=s}function K2(){return It.lFrame.isParent}function Br(){It.lFrame.isParent=!1}function H1(){return It.lFrame.bindingIndex++}function vn(i){const s=It.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function ma(i,s){const o=It.lFrame;o.bindingIndex=o.bindingRootIndex=i,mc(s)}function mc(i){It.lFrame.currentDirectiveIndex=i}function ga(i){It.lFrame.currentQueryIndex=i}function v0(i){const s=i[Ze];return 2===s.type?s.declTNode:1===s.type?i[i1]:null}function o4(i,s,o){if(o&mt.SkipSelf){let u=s,h=i;for(;!(u=u.parent,null!==u||o&mt.Host||(u=v0(h),null===u||(h=h[Kn],10&u.type))););if(null===u)return!1;s=u,i=h}const c=It.lFrame=_i();return c.currentTNode=s,c.lView=i,!0}function va(i){const s=_i(),o=i[Ze];It.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function _i(){const i=It.lFrame,s=null===i?null:i.child;return null===s?ya(i):s}function ya(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Ji(){const i=It.lFrame;return It.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ca=Ji;function wi(){const i=Ji();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function k1(){return It.lFrame.selectedIndex}function dr(i){It.lFrame.selectedIndex=i}function _2(){const i=It.lFrame;return J3(i.tView,i.selectedIndex)}let ba=!0;function hr(){return ba}function pr(i){ba=i}function Hi(i,s){for(let o=s.directiveStart,c=s.directiveEnd;o<c;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:C,ngAfterViewInit:b,ngAfterViewChecked:z,ngOnDestroy:D}=h;g&&(i.contentHooks??=[]).push(-o,g),C&&((i.contentHooks??=[]).push(o,C),(i.contentCheckHooks??=[]).push(o,C)),b&&(i.viewHooks??=[]).push(-o,b),z&&((i.viewHooks??=[]).push(o,z),(i.viewCheckHooks??=[]).push(o,z)),null!=D&&(i.destroyHooks??=[]).push(o,D)}}function jr(i,s,o){n3(i,s,3,o)}function mr(i,s,o,c){(3&i[Mt])===o&&n3(i,s,o,c)}function ts(i,s){let o=i[Mt];(3&o)===s&&(o&=8191,o+=1,i[Mt]=o)}function n3(i,s,o,c){const h=c??-1,g=s.length-1;let C=0;for(let b=void 0!==c?65535&i[Dr]:0;b<g;b++)if("number"==typeof s[b+1]){if(C=s[b],null!=c&&C>=c)break}else s[b]<0&&(i[Dr]+=65536),(C<h||-1==h)&&($r(i,o,s,b),i[Dr]=(4294901760&i[Dr])+b+2),b++}function r3(i,s){Qn(4,i,s);const o=H2(null);try{s.call(i)}finally{H2(o),Qn(5,i,s)}}function $r(i,s,o,c){const u=o[c]<0,h=o[c+1],C=i[u?-o[c]:o[c]];u?i[Mt]>>13<i[Dr]>>16&&(3&i[Mt])===s&&(i[Mt]+=8192,r3(C,h)):r3(C,h)}const j1=-1;class f1{constructor(s,o,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function u4(i){return i!==j1}function Gr(i){return 32767&i}function qr(i,s){let o=function gc(i){return i>>16}(i),c=s;for(;o>0;)c=c[Kn],o--;return c}let ns=!0;function gr(i){const s=ns;return ns=i,s}const vc=255,s3=5;let Ea=0;const yn={};function a3(i,s){const o=La(i,s);if(-1!==o)return o;const c=s[Ze];c.firstCreatePass&&(i.injectorIndex=s.length,rs(c.data,i),rs(s,null),rs(c.blueprint,null));const u=Ii(i,s),h=i.injectorIndex;if(u4(u)){const g=Gr(u),C=qr(u,s),b=C[Ze].data;for(let z=0;z<8;z++)s[h+z]=C[g+z]|b[g+z]}return s[h+8]=u,h}function rs(i,s){i.push(0,0,0,0,0,0,0,0,s)}function La(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ii(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,c=null,u=s;for(;null!==u;){if(c=u3(u),null===c)return j1;if(o++,u=u[Kn],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return j1}function is(i,s,o){!function Sa(i,s,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Ln)&&(c=o[Ln]),null==c&&(c=o[Ln]=Ea++);const u=c&vc;s.data[i+(u>>s3)]|=1<<u}(i,s,o)}function o3(i,s,o){if(o&mt.Optional||void 0!==i)return i;ct()}function d4(i,s,o,c){if(o&mt.Optional&&void 0===c&&(c=null),!(o&(mt.Self|mt.Host))){const u=i[Wn],h=r2(void 0);try{return u?u.get(s,c,o&mt.Optional):m2(s,c,o&mt.Optional)}finally{r2(h)}}return o3(c,0,o)}function Da(i,s,o,c=mt.Default,u){if(null!==i){if(2048&s[Mt]&&!(c&mt.Self)){const g=function l3(i,s,o,c,u){let h=i,g=s;for(;null!==h&&null!==g&&2048&g[Mt]&&!(512&g[Mt]);){const C=ss(h,g,o,c|mt.Self,yn);if(C!==yn)return C;let b=h.parent;if(!b){const z=g[Zn];if(z){const D=z.get(o,yn,c);if(D!==yn)return D}b=u3(g),g=g[Kn]}h=b}return u}(i,s,o,c,yn);if(g!==yn)return g}const h=ss(i,s,o,c,yn);if(h!==yn)return h}return d4(s,o,c,u)}function ss(i,s,o,c,u){const h=function Mc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Ln)?i[Ln]:void 0;return"number"==typeof s?s>=0?s&vc:_c:s}(o);if("function"==typeof h){if(!o4(s,i,c))return c&mt.Host?o3(u,0,c):d4(s,o,c,u);try{let g;if(g=h(c),null!=g||c&mt.Optional)return g;ct()}finally{Ca()}}else if("number"==typeof h){let g=null,C=La(i,s),b=j1,z=c&mt.Host?s[f2][i1]:null;for((-1===C||c&mt.SkipSelf)&&(b=-1===C?Ii(i,s):s[C+8],b!==j1&&as(c,!1)?(g=s[Ze],C=Gr(b),s=qr(b,s)):C=-1);-1!==C;){const D=s[Ze];if(c3(h,C,D.data)){const k=Cc(C,s,o,g,c,z);if(k!==yn)return k}b=s[C+8],b!==j1&&as(c,s[Ze].data[C+8]===z)&&c3(h,C,s)?(g=D,C=Gr(b),s=qr(b,s)):C=-1}}return u}function Cc(i,s,o,c,u,h){const g=s[Ze],C=g.data[i+8],D=function h4(i,s,o,c,u){const h=i.providerIndexes,g=s.data,C=1048575&h,b=i.directiveStart,D=h>>20,$=u?C+D:i.directiveEnd;for(let K=c?C:C+D;K<$;K++){const pe=g[K];if(K<b&&o===pe||K>=b&&pe.type===o)return K}if(u){const K=g[b];if(K&&T1(K)&&K.type===o)return b}return null}(C,g,o,null==c?Tr(C)&&ns:c!=g&&0!=(3&C.type),u&mt.Host&&h===C);return null!==D?An(s,g,D,C):yn}function An(i,s,o,c){let u=i[o];const h=s.data;if(function Ha(i){return i instanceof f1}(u)){const g=u;g.resolving&&function xe(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Y(-200,`Circular dependency in DI detected for ${i}${o}`)}(function He(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Q(i)}(h[o]));const C=gr(g.canSeeViewProviders);g.resolving=!0;const z=g.injectImpl?r2(g.injectImpl):null;o4(i,c,mt.Default);try{u=i[o]=g.factory(void 0,h,i,c),s.firstCreatePass&&o>=c.directiveStart&&function es(i,s,o){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:h}=s.type.prototype;if(c){const g=ua(s);(o.preOrderHooks??=[]).push(i,g),(o.preOrderCheckHooks??=[]).push(i,g)}u&&(o.preOrderHooks??=[]).push(0-i,u),h&&((o.preOrderHooks??=[]).push(i,h),(o.preOrderCheckHooks??=[]).push(i,h))}(o,h[o],s)}finally{null!==z&&r2(z),gr(C),g.resolving=!1,Ca()}}return u}function c3(i,s,o){return!!(o[s+(i>>s3)]&1<<i)}function as(i,s){return!(i&mt.Self||i&mt.Host&&s)}class Z2{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,c){return Da(this._tNode,this._lView,s,C2(c),o)}}function _c(){return new Z2(D2(),fe())}function u3(i){const s=i[Ze],o=s.type;return 2===o?s.declTNode:1===o?i[i1]:null}function Wr(i){return function yc(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const c=o.length;let u=0;for(;u<c;){const h=o[u];if(N3(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<c&&"string"==typeof o[u];)u++;else{if(h===s)return o[u+1];u+=2}}}return null}(D2(),i)}const Xn="__parameters__";function os(i,s,o){return oe(()=>{const c=function f3(i){return function(...o){if(i){const c=i(...o);for(const u in c)this[u]=c[u]}}}(s);function u(...h){if(this instanceof u)return c.apply(this,h),this;const g=new u(...h);return C.annotation=g,C;function C(b,z,D){const k=b.hasOwnProperty(Xn)?b[Xn]:Object.defineProperty(b,Xn,{value:[]})[Xn];for(;k.length<=D;)k.push(null);return(k[D]=k[D]||[]).push(g),b}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}function H(i,s){i.forEach(o=>Array.isArray(o)?H(o,s):s(o))}function S(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function A(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function U(i,s){const o=[];for(let c=0;c<i;c++)o.push(s);return o}function Fe(i,s,o){let c=bt(i,s);return c>=0?i[1|c]=o:(c=~c,function $e(i,s,o,c){let u=i.length;if(u==s)i.push(o,c);else if(1===u)i.push(c,i[0]),i[0]=o;else{for(u--,i.push(i[u-1],i[u]);u>s;)i[u]=i[u-2],u--;i[s]=o,i[s+1]=c}}(i,c,s,o)),c}function zt(i,s){const o=bt(i,s);if(o>=0)return i[1|o]}function bt(i,s){return function Y2(i,s,o){let c=0,u=i.length>>o;for(;u!==c;){const h=c+(u-c>>1),g=i[h<<o];if(s===g)return h<<o;g>s?u=h:c=h+1}return~(u<<o)}(i,s,1)}const m3=T2(os("Optional"),8),Ic=T2(os("SkipSelf"),4);function Fa(i){return 128==(128&i.flags)}var Ba=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Ba||{});const Nc=new Map;let kc=0;const ja="__ngContext__";function V1(i,s){W2(s)?(i[ja]=s[ar],function Cn(i){Nc.set(i[ar],i)}(s)):i[ja]=s}let ms;function w4(i,s){return ms(i,s)}function b4(i){const s=i[l2];return _1(s)?s[l2]:s}function q0(i){return K0(i[s1])}function W0(i){return K0(i[M1])}function K0(i){for(;null!==i&&!_1(i);)i=i[M1];return i}function v(i,s,o,c,u){if(null!=c){let h,g=!1;_1(c)?h=c:W2(c)&&(g=!0,c=c[g2]);const C=e2(c);0===i&&null!==o?null==u?Uc(s,o,C):Qr(s,o,C,u||null,!0):1===i&&null!==o?Qr(s,o,C,u||null,!0):2===i?function $c(i,s,o){const c=Wa(i,s);c&&function qa(i,s,o,c){i.removeChild(s,o,c)}(i,c,s,o)}(s,C,g):3===i&&s.destroyNode(C),null!=h&&function uC(i,s,o,c,u){const h=o[G2];h!==e2(o)&&v(s,i,c,h,u);for(let C=o1;C<o.length;C++){const b=o[C];Gc(b[Ze],b,i,s,c,h)}}(s,i,h,o,u)}}function I(i,s,o){return i.createElement(s,o)}function nt(i,s){const o=i[q2],c=o.indexOf(s);n4(s),o.splice(c,1)}function h2(i,s){if(i.length<=o1)return;const o=o1+s,c=i[o];if(c){const u=c[B3];null!==u&&u!==i&&nt(u,c),s>0&&(i[o-1][M1]=c[M1]);const h=A(i,o1+s);!function L(i,s){Gc(i,s,s[Vt],2,null,null),s[g2]=null,s[i1]=null}(c[Ze],c);const g=h[a1];null!==g&&g.detachView(h[Ze]),c[l2]=null,c[M1]=null,c[Mt]&=-129}return c}function cn(i,s){if(!(256&s[Mt])){const o=s[Vt];s[Ts]?.destroy(),s[xr]?.destroy(),o.destroyNode&&Gc(i,s,o,3,null,null),function Le(i){let s=i[s1];if(!s)return C3(i[Ze],i);for(;s;){let o=null;if(W2(s))o=s[s1];else{const c=s[o1];c&&(o=c)}if(!o){for(;s&&!s[M1]&&s!==i;)W2(s)&&C3(s[Ze],s),s=s[l2];null===s&&(s=i),W2(s)&&C3(s[Ze],s),o=s&&s[M1]}s=o}}(s)}}function C3(i,s){if(!(256&s[Mt])){s[Mt]&=-129,s[Mt]|=256,function Fc(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let c=0;c<o.length;c+=2){const u=s[o[c]];if(!(u instanceof f1)){const h=o[c+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const C=u[h[g]],b=h[g+1];Qn(4,C,b);try{b.call(C)}finally{Qn(5,C,b)}}else{Qn(4,u,h);try{h.call(u)}finally{Qn(5,u,h)}}}}}(i,s),function Oc(i,s){const o=i.cleanup,c=s[Gi];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const g=o[h+3];g>=0?c[g]():c[-g].unsubscribe(),h+=2}else o[h].call(c[o[h+1]]);null!==c&&(s[Gi]=null);const u=s[or];if(null!==u){s[or]=null;for(let h=0;h<u.length;h++)(0,u[h])()}}(i,s),1===s[Ze].type&&s[Vt].destroy();const o=s[B3];if(null!==o&&_1(s[l2])){o!==s[l2]&&nt(o,s);const c=s[a1];null!==c&&c.detachView(i)}!function R0(i){Nc.delete(i[ar])}(s)}}function Ga(i,s,o){return function Bc(i,s,o){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return o[g2];{const{componentOffset:u}=c;if(u>-1){const{encapsulation:h}=i.data[c.directiveStart+u];if(h===ze.None||h===ze.Emulated)return null}return u1(c,o)}}(i,s.parent,o)}function Qr(i,s,o,c,u){i.insertBefore(s,o,c,u)}function Uc(i,s,o){i.appendChild(s,o)}function jc(i,s,o,c,u){null!==c?Qr(i,s,o,c,u):Uc(i,s,o)}function Wa(i,s){return i.parentNode(s)}function Z0(i,s,o){return I9(i,s,o)}let Y0,X0,J0,qc,I9=function c5(i,s,o){return 40&i.type?u1(i,o):null};function Q0(i,s,o,c){const u=Ga(i,c,s),h=s[Vt],C=Z0(c.parent||s[i1],c,s);if(null!=u)if(Array.isArray(o))for(let b=0;b<o.length;b++)jc(h,u,o[b],C,!1);else jc(h,u,o,C,!1);void 0!==Y0&&Y0(h,c,s,o,u)}function Za(i,s){if(null!==s){const o=s.type;if(3&o)return u1(s,i);if(4&o)return l5(-1,i[s.index]);if(8&o){const c=s.child;if(null!==c)return Za(i,c);{const u=i[s.index];return _1(u)?l5(-1,u):e2(u)}}if(32&o)return w4(s,i)()||e2(i[s.index]);{const c=E9(i,s);return null!==c?Array.isArray(c)?c[0]:Za(b4(i[f2]),c):Za(i,s.next)}}return null}function E9(i,s){return null!==s?i[f2][i1].projection[s.projection]:null}function l5(i,s){const o=o1+i+1;if(o<s.length){const c=s[o],u=c[Ze].firstChild;if(null!==u)return Za(c,u)}return s[G2]}function u5(i,s,o,c,u,h,g){for(;null!=o;){const C=c[o.index],b=o.type;if(g&&0===s&&(C&&V1(e2(C),c),o.flags|=2),32!=(32&o.flags))if(8&b)u5(i,s,o.child,c,u,h,!1),v(s,i,u,C,h);else if(32&b){const z=w4(o,c);let D;for(;D=z();)v(s,i,u,D,h);v(s,i,u,C,h)}else 16&b?L9(i,s,c,o,u,h):v(s,i,u,C,h);o=g?o.projectionNext:o.next}}function Gc(i,s,o,c,u,h){u5(o,c,i.firstChild,s,u,h,!1)}function L9(i,s,o,c,u,h){const g=o[f2],b=g[i1].projection[c.projection];if(Array.isArray(b))for(let z=0;z<b.length;z++)v(s,i,u,b[z],h);else{let z=b;const D=g[l2];Fa(c)&&(z.flags|=128),u5(i,s,z,D,u,h,!0)}}function x9(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function A9(i,s,o){const{mergedAttrs:c,classes:u,styles:h}=o;null!==c&&Fi(i,s,c),null!==u&&x9(i,s,u),null!==h&&function D9(i,s,o){i.setAttribute(s,"style",o)}(i,s,h)}function H4(i){return function f5(){if(void 0===X0&&(X0=null,Yt.trustedTypes))try{X0=Yt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return X0}()?.createHTML(i)||i}function mC(i){J0=i}function Ya(){if(void 0!==J0)return J0;if(typeof document<"u")return document;throw new Y(210,!1)}function T9(i){return function d5(){if(void 0===qc&&(qc=null,Yt.trustedTypes))try{qc=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return qc}()?.createHTML(i)||i}class M3{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rt})`}}class gC extends M3{getTypeName(){return"HTML"}}class vC extends M3{getTypeName(){return"Style"}}class yC extends M3{getTypeName(){return"Script"}}class k9 extends M3{getTypeName(){return"URL"}}class CC extends M3{getTypeName(){return"ResourceURL"}}function Li(i){return i instanceof M3?i.changingThisBreaksApplicationSecurity:i}function Qa(i,s){const o=function MC(i){return i instanceof M3&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${rt})`)}return o===s}function _C(i){return new gC(i)}function wC(i){return new vC(i)}function bC(i){return new yC(i)}function p5(i){return new k9(i)}function HC(i){return new CC(i)}class R9{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(H4(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch{return null}}}class VC{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const o=this.inertDocument.createElement("template");return o.innerHTML=H4(s),o}}const zC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wc(i){return(i=String(i)).match(zC)?i:"unsafe:"+i}function gs(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Xa(...i){const s={};for(const o of i)for(const c in o)o.hasOwnProperty(c)&&(s[c]=!0);return s}const O9=gs("area,br,col,hr,img,wbr"),F9=gs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),B9=gs("rp,rt"),m5=Xa(O9,Xa(F9,gs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xa(B9,gs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xa(B9,F9)),g5=gs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),U9=Xa(g5,gs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),j9=gs("script,style,template");class LC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!m5.hasOwnProperty(o))return this.sanitizedSomething=!0,!j9.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=s.attributes;for(let u=0;u<c.length;u++){const h=c.item(u),g=h.name,C=g.toLowerCase();if(!U9.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let b=h.value;g5[C]&&(b=Wc(b)),this.buf.push(" ",g,'="',v5(b),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();m5.hasOwnProperty(o)&&!O9.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(v5(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const DC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xC=/([^\#-~ |!])/g;function v5(i){return i.replace(/&/g,"&amp;").replace(DC,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(xC,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let e8;function t8(i,s){let o=null;try{e8=e8||function P9(i){const s=new VC(i);return function IC(){try{return!!(new window.DOMParser).parseFromString(H4(""),"text/html")}catch{return!1}}()?new R9(s):s}(i);let c=s?String(s):"";o=e8.getInertBodyElement(c);let u=5,h=c;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,c=h,h=o.innerHTML,o=e8.getInertBodyElement(c)}while(c!==h);return H4((new LC).sanitizeChildren(y5(o)||o))}finally{if(o){const c=y5(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function y5(i){return"content"in i&&function AC(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var V4=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(V4||{});function $9(i){const s=function Kc(){const i=fe();return i&&i[fi].sanitizer}();return s?T9(s.sanitize(V4.HTML,i)||""):Qa(i,"HTML")?T9(Li(i)):t8(Ya(),Q(i))}class s2{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Dt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Zc=new s2("ENVIRONMENT_INITIALIZER"),W9=new s2("INJECTOR",-1),K9=new s2("INJECTOR_DEF_TYPES");class n8{get(s,o=x1){if(o===x1){const c=new Error(`NullInjectorError: No provider for ${ie(s)}!`);throw c.name="NullInjectorError",c}return o}}function OC(...i){return{\u0275providers:M5(0,i),\u0275fromNgModule:!0}}function M5(i,...s){const o=[],c=new Set;let u;const h=g=>{o.push(g)};return H(s,g=>{const C=g;I4(C,h,[],c)&&(u||=[],u.push(C))}),void 0!==u&&Y9(u,h),o}function Y9(i,s){for(let o=0;o<i.length;o++){const{ngModule:c,providers:u}=i[o];_5(u,h=>{s(h,c)})}}function I4(i,s,o,c){if(!(i=ve(i)))return!1;let u=null,h=Hr(i);const g=!h&&jt(i);if(h||g){if(g&&!g.standalone)return!1;u=i}else{const b=i.ngModule;if(h=Hr(b),!h)return!1;u=b}const C=c.has(u);if(g){if(C)return!1;if(c.add(u),g.dependencies){const b="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const z of b)I4(z,s,o,c)}}else{if(!h)return!1;{if(null!=h.imports&&!C){let z;c.add(u);try{H(h.imports,D=>{I4(D,s,o,c)&&(z||=[],z.push(D))})}finally{}void 0!==z&&Y9(z,s)}if(!C){const z=Nr(u)||(()=>new u);s({provide:u,useFactory:z,deps:Ge},u),s({provide:K9,useValue:u,multi:!0},u),s({provide:Zc,useValue:()=>wt(u),multi:!0},u)}const b=h.providers;if(null!=b&&!C){const z=i;_5(b,D=>{s(D,z)})}}}return u!==i&&void 0!==i.providers}function _5(i,s){for(let o of i)Oe(o)&&(o=o.\u0275providers),Array.isArray(o)?_5(o,s):s(o)}const FC=R({provide:String,useValue:R});function w5(i){return null!==i&&"object"==typeof i&&FC in i}function z4(i){return"function"==typeof i}const H5=new s2("Set Injector scope."),r8={},UC={};let V5;function Yc(){return void 0===V5&&(V5=new n8),V5}class vs{}class i8 extends vs{get destroyed(){return this._destroyed}constructor(s,o,c,u){super(),this.parent=o,this.source=c,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,I5(s,g=>this.processProvider(g)),this.records.set(W9,Ja(void 0,this)),u.has("environment")&&this.records.set(vs,Ja(void 0,this));const h=this.records.get(H5);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(K9.multi,Ge,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=Ke(this),c=r2(void 0);try{return s()}finally{Ke(o),r2(c)}}get(s,o=x1,c=mt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ci))return s[ci](this);c=C2(c);const h=Ke(this),g=r2(void 0);try{if(!(c&mt.SkipSelf)){let b=this.records.get(s);if(void 0===b){const z=function qC(i){return"function"==typeof i||"object"==typeof i&&i instanceof s2}(s)&&t1(s);b=z&&this.injectableDefInScope(z)?Ja(s8(s),r8):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(c&mt.Self?Yc():this.parent).get(s,o=c&mt.Optional&&o===x1?null:o)}catch(C){if("NullInjectorError"===C.name){if((C[Q1]=C[Q1]||[]).unshift(ie(s)),h)throw C;return function qn(i,s,o,c){const u=i[Q1];throw s[G]&&u.unshift(s[G]),i.message=function Oi(i,s,o,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let u=ie(s);if(Array.isArray(s))u=s.map(ie).join(" -> ");else if("object"==typeof s){let h=[];for(let g in s)if(s.hasOwnProperty(g)){let C=s[g];h.push(g+":"+("string"==typeof C?JSON.stringify(C):ie(C)))}u=`{${h.join(", ")}}`}return`${o}${c?"("+c+")":""}[${u}]: ${i.replace(F,"\n  ")}`}("\n"+i.message,u,o,c),i.ngTokenPath=u,i[Q1]=null,i}(C,s,"R3InjectorError",this.source)}throw C}finally{r2(g),Ke(h)}}resolveInjectorInitializers(){const s=Ke(this),o=r2(void 0);try{const u=this.get(Zc.multi,Ge,mt.Self);for(const h of u)h()}finally{Ke(s),r2(o)}}toString(){const s=[],o=this.records;for(const c of o.keys())s.push(ie(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(s){let o=z4(s=ve(s))?s:ve(s&&s.provide);const c=function $C(i){return w5(i)?Ja(void 0,i.useValue):Ja(function X9(i,s,o){let c;if(z4(i)){const u=ve(i);return Nr(u)||s8(u)}if(w5(i))c=()=>ve(i.useValue);else if(function b5(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Ut(i.deps||[]));else if(function Q9(i){return!(!i||!i.useExisting)}(i))c=()=>wt(ve(i.useExisting));else{const u=ve(i&&(i.useClass||i.provide));if(!function GC(i){return!!i.deps}(i))return Nr(u)||s8(u);c=()=>new u(...Ut(i.deps))}return c}(i),r8)}(s);if(z4(s)||!0!==s.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=Ja(void 0,r8,!0),u.factory=()=>Ut(u.multi),this.records.set(o,u)),o=s,u.multi.push(s)}this.records.set(o,c)}hydrate(s,o){return o.value===r8&&(o.value=UC,o.value=o.factory()),"object"==typeof o.value&&o.value&&function a8(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=ve(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function s8(i){const s=t1(i),o=null!==s?s.factory:Nr(i);if(null!==o)return o;if(i instanceof s2)throw new Y(204,!1);if(i instanceof Function)return function jC(i){const s=i.length;if(s>0)throw U(s,"?"),new Y(204,!1);const o=function O1(i){return i&&(i[F1]||i[ir])||null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Y(204,!1)}function Ja(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function I5(i,s){for(const o of i)Array.isArray(o)?I5(o,s):o&&Oe(o)?I5(o.\u0275providers,s):s(o)}const J9=new s2("AppId",{providedIn:"root",factory:()=>WC}),WC="ng",z5=new s2("Platform Initializer"),E5=new s2("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),KC=new s2("CSP nonce",{providedIn:"root",factory:()=>Ya().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let td=(i,s,o)=>null;function A5(i,s,o=!1){return td(i,s,o)}class rM{}class sd{}class iM{resolveComponentFactory(s){throw function f8(i){const s=Error(`No component factory found for ${ie(i)}.`);return s.ngComponent=i,s}(s)}}let n6=(()=>{class s{}return s.NULL=new iM,s})();function sM(){return no(D2(),fe())}function no(i,s){return new ro(u1(i,s))}let ro=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=sM,s})();class od{}let oM=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function cM(){const i=fe(),o=L2(D2().index,i);return(W2(o)?o:i)[Vt]}(),s})(),lM=(()=>{var i;class s{}return(i=s).\u0275prov=Dt({token:i,providedIn:"root",factory:()=>null}),s})();class k5{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const cd=new k5("16.2.1"),P5={};function dd(i,s=null,o=null,c){const u=hd(i,s,o,c);return u.resolveInjectorInitializers(),u}function hd(i,s=null,o=null,c,u=new Set){const h=[o||Ge,OC(i)];return c=c||("object"==typeof i?void 0:ie(i)),new i8(h,s||Yc(),c||null,u)}let Xr=(()=>{var i;class s{static create(c,u){if(Array.isArray(c))return dd({name:""},u,c,"");{const h=c.name??"";return dd({name:h},c.parent,c.providers,h)}}}return(i=s).THROW_IF_NOT_FOUND=x1,i.NULL=new n8,i.\u0275prov=Dt({token:i,providedIn:"any",factory:()=>wt(W9)}),i.__NG_ELEMENT_ID__=-1,s})();let B5=(()=>{var i;class s{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new Y(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const c of this.callbacks)c.invoke()}finally{this.runningCallbacks=!1;for(const c of this.deferredCallbacks)this.callbacks.add(c);this.deferredCallbacks.clear()}}register(c){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(c)}unregister(c){this.callbacks.delete(c),this.deferredCallbacks.delete(c)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=s).\u0275prov=Dt({token:i,providedIn:"root",factory:()=>new i}),s})();function r6(i){for(;i;){i[Mt]|=64;const s=b4(i);if(hi(i)&&!s)return i;i=s}return null}function U5(i){return i.ngOriginalError}class S4{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&U5(s);for(;o&&U5(o);)o=U5(o);return o||null}}const j5=new s2("",{providedIn:"root",factory:()=>!1});class bd extends oc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){r6(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,o,c){const u=H2(this);this.trackingVersion++;try{s(o,c)}finally{H2(u)}}destroy(){this.trackingVersion++}}let h8=null;function $5(){return h8??=new bd,h8}function Hd(i,s){return i[s]??$5()}function G5(i,s){const o=$5();o.hasReadASignal&&(i[s]=h8,o.lView=i,h8=new bd)}const Nt={};function q5(i){Vd(qt(),fe(),k1()+i,!1)}function Vd(i,s,o,c){if(!c)if(3==(3&s[Mt])){const h=i.preOrderCheckHooks;null!==h&&jr(s,h,o)}else{const h=i.preOrderHooks;null!==h&&mr(s,h,0,o)}dr(o)}function so(i,s=mt.Default){const o=fe();return null===o?wt(i,s):Da(D2(),o,ve(i),s)}function i6(i,s,o,c,u,h,g,C,b,z,D){const k=s.blueprint.slice();return k[g2]=u,k[Mt]=140|c,(null!==z||i&&2048&i[Mt])&&(k[Mt]|=2048),t4(k),k[l2]=k[Kn]=i,k[u2]=o,k[fi]=g||i&&i[fi],k[Vt]=C||i&&i[Vt],k[Wn]=b||i&&i[Wn]||null,k[i1]=h,k[ar]=function i5(){return kc++}(),k[nn]=D,k[Zn]=z,k[f2]=2==s.type?i[f2]:k,k}function ao(i,s,o,c,u){let h=i.data[s];if(null===h)h=function W5(i,s,o,c,u){const h=Js(),g=K2(),b=i.data[s]=function DM(i,s,o,c,u,h){let g=s?s.injectorIndex:-1,C=0;return Qi()&&(C|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,o,s,c,u);return null===i.firstChild&&(i.firstChild=b),null!==h&&(g?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b,b.prev=h)),b}(i,s,o,c,u),function s4(){return It.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=c,h.attrs=u;const g=function M2(){const i=It.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return sn(h,!0),h}function s6(i,s,o,c){if(0===o)return-1;const u=s.length;for(let h=0;h<o;h++)s.push(c),i.blueprint.push(c),i.data.push(null);return u}function Id(i,s,o,c,u){const h=Hd(s,Ts),g=k1(),C=2&c;try{if(dr(-1),C&&s.length>Tt&&Vd(i,s,Tt,!1),Qn(C?2:0,u),C)h.runInContext(o,c,u);else{const z=H2(null);try{o(c,u)}finally{H2(z)}}}finally{C&&null===s[Ts]&&G5(s,Ts),dr(g),Qn(C?3:1,u)}}function p8(i,s,o){if(ks(s)){const c=H2(null);try{const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const C=i.data[g];C.contentQueries&&C.contentQueries(1,o[g],g)}}finally{H2(c)}}}function zd(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=m8(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function m8(i,s,o,c,u,h,g,C,b,z,D){const k=Tt+c,$=k+u,K=function IM(i,s){const o=[];for(let c=0;c<s;c++)o.push(c<i?null:Nt);return o}(k,$),pe="function"==typeof z?z():z;return K[Ze]={type:i,blueprint:K,template:o,queries:null,viewQuery:C,declTNode:s,data:K.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:pe,incompleteFirstPass:!1,ssrId:D}}let Sd=i=>null;function Ld(i,s,o,c){for(let u in i)if(i.hasOwnProperty(u)){o=null===o?{}:o;const h=i[u];null===c?Y5(o,s,u,h):c.hasOwnProperty(u)&&Y5(o,s,c[u],h)}return o}function Y5(i,s,o,c){i.hasOwnProperty(o)?i[o].push(s,c):i[o]=[s,c]}function Jn(i,s,o,c,u,h,g,C){const b=u1(s,o);let D,z=s.inputs;!C&&null!=z&&(D=z[c])?(tu(i,o,D,c,u),Tr(s)&&function xd(i,s){const o=L2(s,i);16&o[Mt]||(o[Mt]|=64)}(o,s.index)):3&s.type&&(c=function Dd(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),u=null!=g?g(u,s.value||"",c):u,h.setProperty(b,c,u))}function Ad(i,s,o,c,u,h){for(let z=0;z<c.length;z++)is(a3(o,s),i,c[z].type);!function RM(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,c.length);for(let z=0;z<c.length;z++){const D=c[z];D.providersResolver&&D.providersResolver(D)}let g=!1,C=!1,b=s6(i,s,c.length,null);for(let z=0;z<c.length;z++){const D=c[z];o.mergedAttrs=zr(o.mergedAttrs,D.hostAttrs),Rd(i,o,s,b,D),Pd(b,D,u),null!==D.contentQueries&&(o.flags|=4),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(o.flags|=64);const k=D.type.prototype;!g&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((i.preOrderHooks??=[]).push(o.index),g=!0),!C&&(k.ngOnChanges||k.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(o.index),C=!0),b++}!function xM(i,s,o){const u=s.directiveEnd,h=i.data,g=s.attrs,C=[];let b=null,z=null;for(let D=s.directiveStart;D<u;D++){const k=h[D],$=o?o.get(k):null,pe=$?$.outputs:null;b=Ld(k.inputs,D,b,$?$.inputs:null),z=Ld(k.outputs,D,z,pe);const ke=null===b||null===g||Bi(s)?null:BM(b,D,g);C.push(ke)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=8),b.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=C,s.inputs=b,s.outputs=z}(i,o,h)}function Nd(i,s,o){const c=o.directiveStart,u=o.directiveEnd,h=o.index,g=function g0(){return It.lFrame.currentDirectiveIndex}();try{dr(h);for(let C=c;C<u;C++){const b=i.data[C],z=s[C];mc(C),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&kd(b,z)}}finally{dr(-1),mc(g)}}function kd(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Q5(i,s,o){s.componentOffset=o,(i.components??=[]).push(s.index)}function Pd(i,s,o){if(o){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)o[s.exportAs[c]]=i;T1(s)&&(o[""]=i)}}function Rd(i,s,o,c,u){i.data[c]=u;const h=u.factory||(u.factory=Nr(u.type)),g=new f1(h,T1(u),so);i.blueprint[c]=g,o[c]=g,function TM(i,s,o,c,u){const h=u.hostBindings;if(h){let g=i.hostBindingOpCodes;null===g&&(g=i.hostBindingOpCodes=[]);const C=~s.index;(function Td(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(g)!=C&&g.push(C),g.push(o,c,h)}}(i,s,c,s6(i,o,u.hostVars,Nt),u)}function Jr(i,s,o,c,u,h){const g=u1(i,s);!function X5(i,s,o,c,u,h,g){if(null==h)i.removeAttribute(s,u,o);else{const C=null==g?Q(h):g(h,c||"",u);i.setAttribute(s,u,C,o)}}(s[Vt],g,h,i.value,o,c,u)}function FM(i,s,o,c,u,h){const g=h[s];if(null!==g)for(let C=0;C<g.length;)Od(c,o,g[C++],g[C++],g[C++])}function Od(i,s,o,c,u){const h=H2(null);try{const g=i.inputTransforms;null!==g&&g.hasOwnProperty(c)&&(u=g[c].call(s,u)),null!==i.setInput?i.setInput(s,u,o,c):s[c]=u}finally{H2(h)}}function BM(i,s,o){let c=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(i.hasOwnProperty(h)){null===c&&(c=[]);const g=i[h];for(let C=0;C<g.length;C+=2)if(g[C]===s){c.push(h,g[C+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return c}function J5(i,s){const o=i.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const h=o[c+1];if(-1!==h){const g=i.data[h];ga(o[c]),g.contentQueries(2,s[h],h)}}}function v8(i,s){return i[s1]?i[nc][M1]=s:i[s1]=s,i[nc]=s,s}function eu(i,s,o){ga(0);const c=H2(null);try{s(i,o)}finally{H2(c)}}function tu(i,s,o,c,u){for(let h=0;h<o.length;){const g=o[h++],C=o[h++];Od(i.data[g],s[g],c,C,u)}}function UM(i,s){const o=L2(s,i),c=o[Ze];!function Gd(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])}(c,o);const u=o[g2];null!==u&&null===o[nn]&&(o[nn]=A5(u,o[Wn])),nu(c,o,o[u2])}function nu(i,s,o){va(s);try{const c=i.viewQuery;null!==c&&eu(1,c,o);const u=i.template;null!==u&&Id(i,s,u,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&J5(i,s),i.staticViewQueries&&eu(2,i.viewQuery,o);const h=i.components;null!==h&&function jM(i,s){for(let o=0;o<s.length;o++)UM(i,s[o])}(s,h)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[Mt]&=-5,wi()}}let qd=(()=>{var i;class s{constructor(){this.all=new Set,this.queue=new Map}create(c,u,h){const g=typeof Zone>"u"?null:Zone.current,C=new la(c,D=>{this.all.has(D)&&this.queue.set(D,g)},h);let b;this.all.add(C),C.notify();const z=()=>{C.cleanup(),b?.(),this.all.delete(C),this.queue.delete(C)};return b=u?.onDestroy(z),{destroy:z}}flush(){if(0!==this.queue.size)for(const[c,u]of this.queue)this.queue.delete(c),u?u.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=s).\u0275prov=Dt({token:i,providedIn:"root",factory:()=>new i}),s})();function y8(i,s,o){let c=o?i.styles:null,u=o?i.classes:null,h=0;if(null!==s)for(let g=0;g<s.length;g++){const C=s[g];"number"==typeof C?h=C:1==h?u=qe(u,C):2==h&&(c=qe(c,C+": "+s[++g]+";"))}o?i.styles=c:i.stylesWithoutHost=c,o?i.classes=u:i.classesWithoutHost=u}function L4(i,s,o,c,u=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&c.push(e2(h)),_1(h)){for(let C=o1;C<h.length;C++){const b=h[C],z=b[Ze].firstChild;null!==z&&L4(b[Ze],b,z,c)}h[G2]!==h[g2]&&c.push(h[G2])}const g=o.type;if(8&g)L4(i,s,o.child,c);else if(32&g){const C=w4(o,s);let b;for(;b=C();)c.push(b)}else if(16&g){const C=E9(s,o);if(Array.isArray(C))c.push(...C);else{const b=b4(s[f2]);L4(b[Ze],b,C,c,!0)}}o=u?o.projectionNext:o.next}return c}function C8(i,s,o,c=!0){const u=s[fi],h=u.rendererFactory,g=u.afterRenderEventManager;h.begin?.(),g?.begin();try{Zd(i,s,i.template,o)}catch(b){throw c&&function $d(i,s){const o=i[Wn],c=o?o.get(S4,null):null;c&&c.handleError(s)}(s,b),b}finally{h.end?.(),u.effectManager?.flush(),g?.end()}}function Zd(i,s,o,c){const u=s[Mt];if(256!=(256&u)){s[fi].effectManager?.flush(),va(s);try{t4(s),function Mi(i){return It.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Id(i,s,o,2,c);const g=3==(3&u);if(g){const z=i.preOrderCheckHooks;null!==z&&jr(s,z,null)}else{const z=i.preOrderHooks;null!==z&&mr(s,z,0,null),ts(s,0)}if(function Qd(i){for(let s=q0(i);null!==s;s=W0(s)){if(!s[Ns])continue;const o=s[q2];for(let c=0;c<o.length;c++){dc(o[c])}}}(s),Yd(s,2),null!==i.contentQueries&&J5(i,s),g){const z=i.contentCheckHooks;null!==z&&jr(s,z)}else{const z=i.contentHooks;null!==z&&mr(s,z,1),ts(s,1)}!function VM(i,s){const o=i.hostBindingOpCodes;if(null===o)return;const c=Hd(s,xr);try{for(let u=0;u<o.length;u++){const h=o[u];if(h<0)dr(~h);else{const g=h,C=o[++u],b=o[++u];ma(C,g),c.runInContext(b,2,s[g])}}}finally{null===s[xr]&&G5(s,xr),dr(-1)}}(i,s);const C=i.components;null!==C&&Jd(s,C,0);const b=i.viewQuery;if(null!==b&&eu(2,b,c),g){const z=i.viewCheckHooks;null!==z&&jr(s,z)}else{const z=i.viewHooks;null!==z&&mr(s,z,2),ts(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Mt]&=-73,n4(s)}finally{wi()}}}function Yd(i,s){for(let o=q0(i);null!==o;o=W0(o))for(let c=o1;c<o.length;c++)Xd(o[c],s)}function $M(i,s,o){Xd(L2(s,i),o)}function Xd(i,s){if(!function fa(i){return 128==(128&i[Mt])}(i))return;const o=i[Ze];if(80&i[Mt]&&0===s||1024&i[Mt]||2===s)Zd(o,i,o.template,i[u2]);else if(i[Lr]>0){Yd(i,1);const u=i[Ze].components;null!==u&&Jd(i,u,1)}}function Jd(i,s,o){for(let c=0;c<s.length;c++)$M(i,s[c],o)}class a6{get rootNodes(){const s=this._lView,o=s[Ze];return L4(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[u2]}set context(s){this._lView[u2]=s}get destroyed(){return 256==(256&this._lView[Mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[l2];if(_1(s)){const o=s[8],c=o?o.indexOf(this):-1;c>-1&&(h2(s,c),A(o,c))}this._attachedToViewContainer=!1}cn(this._lView[Ze],this._lView)}onDestroy(s){!function Or(i,s){if(256==(256&i[Mt]))throw new Y(911,!1);null===i[or]&&(i[or]=[]),i[or].push(s)}(this._lView,s)}markForCheck(){r6(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mt]&=-129}reattach(){this._lView[Mt]|=128}detectChanges(){C8(this._lView[Ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Z(i,s){Gc(i,s,s[Vt],2,null,null)}(this._lView[Ze],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=s}}class GM extends a6{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;C8(s[Ze],s,s[u2],!1)}checkNoChanges(){}get context(){return null}}class eh extends n6{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=jt(s);return new o6(o,this.ngModule)}}function th(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class nh{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,c){c=C2(c);const u=this.injector.get(s,P5,c);return u!==P5||o===P5?u:this.parentInjector.get(s,o,c)}}class o6 extends sd{get inputs(){const s=this.componentDef,o=s.inputTransforms,c=th(s.inputs);if(null!==o)for(const u of c)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return c}get outputs(){return th(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function ea(i){return i.map(J4).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,c,u){let h=(u=u||this.ngModule)instanceof vs?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const g=h?new nh(s,h):s,C=g.get(od,null);if(null===C)throw new Y(407,!1);const k={rendererFactory:C,sanitizer:g.get(lM,null),effectManager:g.get(qd,null),afterRenderEventManager:g.get(B5,null)},$=C.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",pe=c?function Ed(i,s,o,c){const h=c.get(j5,!1)||o===ze.ShadowDom,g=i.selectRootElement(s,h);return function zM(i){Sd(i)}(g),g}($,c,this.componentDef.encapsulation,g):I($,K,function qM(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(K)),gt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ie=null;null!==pe&&(Ie=A5(pe,g,!0));const At=m8(0,null,null,1,0,null,null,null,null,null,null),$t=i6(null,At,null,gt,null,null,k,$,g,null,Ie);let o2,_n;va($t);try{const _s=this.componentDef;let Ho,O7=null;_s.findHostDirectiveDefs?(Ho=[],O7=new Map,_s.findHostDirectiveDefs(_s,Ho,O7),Ho.push(_s)):Ho=[_s];const Jg=function WM(i,s){const o=i[Ze],c=Tt;return i[c]=s,ao(o,c,2,"#host",null)}($t,pe),_V=function KM(i,s,o,c,u,h,g){const C=u[Ze];!function ih(i,s,o,c){for(const u of i)s.mergedAttrs=zr(s.mergedAttrs,u.hostAttrs);null!==s.mergedAttrs&&(y8(s,s.mergedAttrs,!0),null!==o&&A9(c,o,s))}(c,i,s,g);let b=null;null!==s&&(b=A5(s,u[Wn]));const z=h.rendererFactory.createRenderer(s,o);let D=16;o.signals?D=4096:o.onPush&&(D=64);const k=i6(u,zd(o),null,D,u[i.index],i,h,z,null,null,b);return C.firstCreatePass&&Q5(C,i,c.length-1),v8(u,k),u[i.index]=k}(Jg,pe,_s,Ho,$t,k,$);_n=J3(At,Tt),pe&&function YM(i,s,o,c){if(c)Fi(i,o,["ng-version",cd.full]);else{const{attrs:u,classes:h}=function en(i){const s=[],o=[];let c=1,u=2;for(;c<i.length;){let h=i[c];if("string"==typeof h)2===u?""!==h&&s.push(h,i[++c]):8===u&&o.push(h);else{if(!A1(u))break;u=h}c++}return{attrs:s,classes:o}}(s.selectors[0]);u&&Fi(i,o,u),h&&h.length>0&&x9(i,o,h.join(" "))}}($,_s,pe,c),void 0!==o&&function sh(i,s,o){const c=i.projection=[];for(let u=0;u<s.length;u++){const h=o[u];c.push(null!=h?Array.from(h):null)}}(_n,this.ngContentSelectors,o),o2=function ZM(i,s,o,c,u,h){const g=D2(),C=u[Ze],b=u1(g,u);Ad(C,u,g,o,null,c);for(let D=0;D<o.length;D++)V1(An(u,C,g.directiveStart+D,g),u);Nd(C,u,g),b&&V1(b,u);const z=An(u,C,g.directiveStart+g.componentOffset,g);if(i[u2]=u[u2]=z,null!==h)for(const D of h)D(z,s);return p8(C,g,i),z}(_V,_s,Ho,O7,$t,[QM]),nu(At,$t,null)}finally{wi()}return new rh(this.componentType,o2,no(_n,$t),$t,_n)}}class rh extends rM{constructor(s,o,c,u,h){super(),this.location=c,this._rootLView=u,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new GM(u),this.componentType=s}setInput(s,o){const c=this._tNode.inputs;let u;if(null!==c&&(u=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const h=this._rootLView;tu(h[Ze],h,u,s,o),this.previousInputValues.set(s,o),r6(L2(this._tNode.index,h))}}get injector(){return new Z2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function QM(){const i=D2();Hi(fe()[Ze],i)}function _8(i){return!!iu(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function iu(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function q1(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function su(i,s,o,c){const u=fe();return q1(u,H1(),s)&&(qt(),Jr(_2(),u,i,s,o,c)),su}function mu(i,s,o){const c=fe();return q1(c,H1(),s)&&Jn(qt(),_2(),c,i,s,c[Vt],o,!1),mu}function gu(i,s,o,c,u){const g=u?"class":"style";tu(i,o,s.inputs[g],g,c)}function z8(i,s,o,c){const u=fe(),h=qt(),g=Tt+i,C=u[Vt],b=h.firstCreatePass?function z_(i,s,o,c,u,h){const g=s.consts,b=ao(s,i,2,c,ur(g,u));return function g8(i,s,o,c){if(fr()){const u=null===c?null:{"":-1},h=function kM(i,s){const o=i.directiveRegistry;let c=null,u=null;if(o)for(let h=0;h<o.length;h++){const g=o[h];if(P3(s,g.selectors,!1))if(c||(c=[]),T1(g))if(null!==g.findHostDirectiveDefs){const C=[];u=u||new Map,g.findHostDirectiveDefs(g,C,u),c.unshift(...C,g),Q5(i,s,C.length)}else c.unshift(g),Q5(i,s,0);else u=u||new Map,g.findHostDirectiveDefs?.(g,c,u),c.push(g)}return null===c?null:[c,u]}(i,o);let g,C;null===h?g=C=null:[g,C]=h,null!==g&&Ad(i,s,o,g,u,C),u&&function PM(i,s,o){if(s){const c=i.localNames=[];for(let u=0;u<s.length;u+=2){const h=o[s[u+1]];if(null==h)throw new Y(-301,!1);c.push(s[u],h)}}}(o,c,u)}o.mergedAttrs=zr(o.mergedAttrs,o.attrs)}(s,o,b,ur(g,h)),null!==b.attrs&&y8(b,b.attrs,!1),null!==b.mergedAttrs&&y8(b,b.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,b),b}(g,h,u,s,o,c):h.data[g],z=zh(h,u,b,C,s,i);u[g]=z;const D=function U1(i){return 1==(1&i.flags)}(b);return sn(b,!0),A9(C,z,b),32!=(32&b.flags)&&hr()&&Q0(h,u,z,b),0===function Qs(){return It.lFrame.elementDepthCount}()&&V1(z,u),function Xs(){It.lFrame.elementDepthCount++}(),D&&(function K5(i,s,o){fr()&&(function NM(i,s,o,c){const u=o.directiveStart,h=o.directiveEnd;Tr(o)&&function OM(i,s,o){const c=u1(s,i),u=zd(o);let g=16;o.signals?g=4096:o.onPush&&(g=64);const C=v8(i,i6(i,u,null,g,c,s,null,i[fi].rendererFactory.createRenderer(c,o),null,null,null));i[s.index]=C}(s,o,i.data[u+o.componentOffset]),i.firstCreatePass||a3(o,s),V1(c,s);const g=o.initialInputs;for(let C=u;C<h;C++){const b=i.data[C],z=An(s,i,C,o);V1(z,s),null!==g&&FM(0,C-u,z,b,0,g),T1(b)&&(L2(o.index,s)[u2]=An(s,i,C,o))}}(i,s,o,u1(o,s)),64==(64&o.flags)&&Nd(i,s,o))}(h,u,b),p8(h,b,u)),null!==c&&function Z5(i,s,o=u1){const c=s.localNames;if(null!==c){let u=s.index+1;for(let h=0;h<c.length;h+=2){const g=c[h+1],C=-1===g?o(s,i):i[g];i[u++]=C}}}(u,b),z8}function E8(){let i=D2();K2()?Br():(i=i.parent,sn(i,!1));const s=i;(function Fr(i){return It.skipHydrationRootTNode===i})(s)&&function hc(){It.skipHydrationRootTNode=null}(),function p0(){It.lFrame.elementDepthCount--}();const o=qt();return o.firstCreatePass&&(Hi(o,i),ks(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function i3(i){return 0!=(8&i.flags)}(s)&&gu(o,s,fe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function xn(i){return 0!=(16&i.flags)}(s)&&gu(o,s,fe(),s.stylesWithoutHost,!1),E8}function S8(i,s,o,c){return z8(i,s,o,c),E8(),S8}let zh=(i,s,o,c,u,h)=>(pr(!0),I(c,u,function bi(){return It.lFrame.currentNamespace}()));function L8(i){return!!i&&"function"==typeof i.then}function Dh(i){return!!i&&"function"==typeof i.subscribe}function A_(i,s){let o=null;const c=function X4(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(!(1&o))return s[o+1]}return null}(i);for(let u=0;u<s.length;u++){const h=s[u];if("*"!==h){if(null===c?P3(i,h,!0):ec(c,h))return u}else o=u}return o}function Ph(i){const s=fe()[f2][i1];if(!s.projection){const c=s.projection=U(i?i.length:1,null),u=c.slice();let h=s.child;for(;null!==h;){const g=i?A_(h,i):0;null!==g&&(u[g]?u[g].projectionNext=h:c[g]=h,u[g]=h),h=h.next}}}function Rh(i,s=0,o){const c=fe(),u=qt(),h=ao(u,Tt+i,16,null,o||null);null===h.projection&&(h.projection=s),Br(),(!c[nn]||Qi())&&32!=(32&h.flags)&&function lC(i,s,o){L9(s[Vt],0,s,o,Ga(i,o,s),Z0(o.parent||s[i1],o,s))}(u,c,h)}function x8(i,s){return i<<17|s<<2}function _3(i){return i>>17&32767}function bu(i){return 2|i}function w3(i){return(131068&i)>>2}function Hu(i,s){return-131069&i|s<<2}function Vu(i){return 1|i}function Wh(i,s,o,c,u){const h=i[o+1],g=null===s;let C=c?_3(h):w3(h),b=!1;for(;0!==C&&(!1===b||g);){const D=i[C+1];k_(i[C],s)&&(b=!0,i[C+1]=c?Vu(D):bu(D)),C=c?_3(D):w3(D)}b&&(i[o+1]=c?bu(h):Vu(h))}function k_(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&bt(i,s)>=0}const c1={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kh(i){return i.substring(c1.key,c1.keyEnd)}function P_(i){return i.substring(c1.value,c1.valueEnd)}function Yh(i,s){const o=c1.textEnd;let c=c1.key=A4(i,s,o);return o===c?-1:(c=c1.keyEnd=function Xh(i,s,o){let c;for(;s<o&&(45===(c=i.charCodeAt(s))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)s++;return s}(i,c,o),c=Jh(i,c,o),c=c1.value=A4(i,c,o),c=c1.valueEnd=function B_(i,s,o){let c=-1,u=-1,h=-1,g=s,C=g;for(;g<o;){const b=i.charCodeAt(g++);if(59===b)return C;34===b||39===b?C=g=zu(i,b,g,o):s===g-4&&85===h&&82===u&&76===c&&40===b?C=g=zu(i,41,g,o):b>32&&(C=g),h=u,u=c,c=-33&b}return C}(i,c,o),Jh(i,c,o))}function A4(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function Jh(i,s,o,c){return(s=A4(i,s,o))<o&&s++,s}function zu(i,s,o,c){let u=-1,h=o;for(;h<c;){const g=i.charCodeAt(h++);if(g==s&&92!==u)return h;u=92==g&&92===u?0:g}throw new Error}function Eu(i,s){return function Mr(i,s,o,c){const u=fe(),h=qt(),g=vn(2);h.firstUpdatePass&&tp(h,i,g,c),s!==Nt&&q1(u,g,s)&&rp(h,h.data[k1()],u,u[Vt],i,u[g+1]=function ip(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ie(Li(i)))),i}(s,o),c,g)}(i,s,null,!0),Eu}function ei(i){!function ti(i,s,o,c){const u=qt(),h=vn(2);u.firstUpdatePass&&tp(u,null,h,c);const g=fe();if(o!==Nt&&q1(g,h,o)){const C=u.data[k1()];if(sp(C,c)&&!Lu(u,h)){let b=c?C.classesWithoutHost:C.stylesWithoutHost;null!==b&&(o=qe(b,o||"")),gu(u,C,g,o,c)}else!function K_(i,s,o,c,u,h,g,C){u===Nt&&(u=Ge);let b=0,z=0,D=0<u.length?u[0]:null,k=0<h.length?h[0]:null;for(;null!==D||null!==k;){const $=b<u.length?u[b+1]:void 0,K=z<h.length?h[z+1]:void 0;let ke,pe=null;D===k?(b+=2,z+=2,$!==K&&(pe=k,ke=K)):null===k||null!==D&&D<k?(b+=2,pe=D):(z+=2,pe=k,ke=K),null!==pe&&rp(i,s,o,c,pe,ke,g,C),D=b<u.length?u[b]:null,k=z<h.length?h[z]:null}}(u,C,g,g[Vt],g[h+1],g[h+1]=function q_(i,s,o){if(null==o||""===o)return Ge;const c=[],u=Li(o);if(Array.isArray(u))for(let h=0;h<u.length;h++)i(c,u[h],!0);else if("object"==typeof u)for(const h in u)u.hasOwnProperty(h)&&i(c,h,u[h]);else"string"==typeof u&&s(c,u);return c}(i,s,o),c,h)}}(T8,Su,i,!1)}function Su(i,s){for(let o=function O_(i){return function Qh(i){c1.key=0,c1.keyEnd=0,c1.value=0,c1.valueEnd=0,c1.textEnd=i.length}(i),Yh(i,A4(i,0,c1.textEnd))}(s);o>=0;o=Yh(s,o))T8(i,Kh(s),P_(s))}function Lu(i,s){return s>=i.expandoStartIndex}function tp(i,s,o,c){const u=i.data;if(null===u[o+1]){const h=u[k1()],g=Lu(i,o);sp(h,c)&&null===s&&!g&&(s=!1),s=function np(i,s,o,c){const u=function Ur(i){const s=It.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=c?s.residualClasses:s.residualStyles;if(null===u)0===(c?s.classBindings:s.styleBindings)&&(o=d6(o=A8(null,i,s,o,c),s.attrs,c),h=null);else{const g=s.directiveStylingLast;if(-1===g||i[g]!==u)if(o=A8(u,i,s,o,c),null===h){let b=function j_(i,s,o){const c=o?s.classBindings:s.styleBindings;if(0!==w3(c))return i[_3(c)]}(i,s,c);void 0!==b&&Array.isArray(b)&&(b=A8(null,i,s,b[1],c),b=d6(b,s.attrs,c),function $_(i,s,o,c){i[_3(o?s.classBindings:s.styleBindings)]=c}(i,s,c,b))}else h=function G_(i,s,o){let c;const u=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<u;h++)c=d6(c,i[h].hostAttrs,o);return d6(c,s.attrs,o)}(i,s,c)}return void 0!==h&&(c?s.residualClasses=h:s.residualStyles=h),o}(u,h,s,c),function N_(i,s,o,c,u,h){let g=h?s.classBindings:s.styleBindings,C=_3(g),b=w3(g);i[c]=o;let D,z=!1;if(Array.isArray(o)?(D=o[1],(null===D||bt(o,D)>0)&&(z=!0)):D=o,u)if(0!==b){const $=_3(i[C+1]);i[c+1]=x8($,C),0!==$&&(i[$+1]=Hu(i[$+1],c)),i[C+1]=function T_(i,s){return 131071&i|s<<17}(i[C+1],c)}else i[c+1]=x8(C,0),0!==C&&(i[C+1]=Hu(i[C+1],c)),C=c;else i[c+1]=x8(b,0),0===C?C=c:i[b+1]=Hu(i[b+1],c),b=c;z&&(i[c+1]=bu(i[c+1])),Wh(i,D,c,!0),Wh(i,D,c,!1),function Iu(i,s,o,c,u){const h=u?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&bt(h,s)>=0&&(o[c+1]=Vu(o[c+1]))}(s,D,i,c,h),g=x8(C,b),h?s.classBindings=g:s.styleBindings=g}(u,h,s,o,g,c)}}function A8(i,s,o,c,u){let h=null;const g=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<g&&(h=s[C],c=d6(c,h.hostAttrs,u),h!==i);)C++;return null!==i&&(o.directiveStylingLast=C),c}function d6(i,s,o){const c=o?1:2;let u=-1;if(null!==s)for(let h=0;h<s.length;h++){const g=s[h];"number"==typeof g?u=g:u===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Fe(i,g,!!o||s[++h]))}return void 0===i?null:i}function T8(i,s,o){Fe(i,s,Li(o))}function rp(i,s,o,c,u,h,g,C){if(!(3&s.type))return;const b=i.data,z=b[C+1],D=function qh(i){return 1==(1&i)}(z)?Du(b,s,o,u,w3(z),g):void 0;N8(D)||(N8(h)||function Gh(i){return 2==(2&i)}(z)&&(h=Du(b,null,o,u,C,g)),function fC(i,s,o,c,u){if(s)u?i.addClass(o,c):i.removeClass(o,c);else{let h=-1===c.indexOf("-")?void 0:Ba.DashCase;null==u?i.removeStyle(o,c,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=Ba.Important),i.setStyle(o,c,u,h))}}(c,g,function Zs(i,s){return e2(s[i])}(k1(),o),u,h))}function Du(i,s,o,c,u,h){const g=null===s;let C;for(;u>0;){const b=i[u],z=Array.isArray(b),D=z?b[1]:b,k=null===D;let $=o[u+1];$===Nt&&($=k?Ge:void 0);let K=k?zt($,c):D===c?$:void 0;if(z&&!N8(K)&&(K=zt(b,c)),N8(K)&&(C=K,g))return C;const pe=i[u+1];u=g?_3(pe):w3(pe)}if(null!==s){let b=h?s.residualClasses:s.residualStyles;null!=b&&(C=zt(b,c))}return C}function N8(i){return void 0!==i}function sp(i,s){return 0!=(i.flags&(s?8:16))}function ap(i,s=""){const o=fe(),c=qt(),u=i+Tt,h=c.firstCreatePass?ao(c,u,1,s,null):c.data[u],g=xu(c,o,h,s,i);o[u]=g,hr()&&Q0(c,o,g,h),sn(h,!1)}let xu=(i,s,o,c,u)=>(pr(!0),function d(i,s){return i.createText(s)}(s[Vt],c));function k8(i,s,o){const c=fe();return q1(c,H1(),s)&&Jn(qt(),_2(),c,i,s,c[Vt],o,!0),k8}const T4=void 0;var hw=["en",[["a","p"],["AM","PM"],T4],[["AM","PM"],T4,T4],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],T4,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],T4,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",T4,"{1} 'at' {0}",T4],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dw(i){const o=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let N4={};function P8(i){const s=function Pu(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Ip(s);if(o)return o;const c=s.split("-")[0];if(o=Ip(c),o)return o;if("en"===c)return hw;throw new Y(701,!1)}function Vp(i){return P8(i)[yo.PluralCase]}function Ip(i){return i in N4||(N4[i]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[i]),N4[i]}var yo=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(yo||{});const Co="en-US";let Ru=Co;class k4{}class tb{}function nb(i,s){return new Ku(i,s??null,[])}class Ku extends k4{constructor(s,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eh(this);const u=function C1(i,s){const o=i[E2]||null;if(!o&&!0===s)throw new Error(`Type ${ie(i)} does not have '\u0275mod' property.`);return o}(s);this._bootstrapComponents=function ys(i){return i instanceof Function?i():i}(u.bootstrap),this._r3Injector=hd(s,o,[{provide:k4,useValue:this},{provide:n6,useValue:this.componentFactoryResolver},...c],ie(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Zu extends tb{constructor(s){super(),this.moduleType=s}create(s){return new Ku(this.moduleType,s,[])}}function pm(i,s,o){const c=function N1(){const i=It.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}()+i,u=fe();return u[c]===Nt?function xi(i,s,o){return i[s]=o}(u,c,o?s.call(o):s()):function c6(i,s){return i[s]}(u,c)}function Ju(i){return s=>{setTimeout(i,void 0,s)}}const Cs=class Sb extends M.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,c){let u=s,h=o||(()=>null),g=c;if(s&&"object"==typeof s){const b=s;u=b.next?.bind(b),h=b.error?.bind(b),g=b.complete?.bind(b)}this.__isAsync&&(h=Ju(h),u&&(u=Ju(u)),g&&(g=Ju(g)));const C=super.subscribe({next:u,error:h,complete:g});return s instanceof J.w0&&s.add(C),C}};function Ab(i,s,o,c=!0){const u=s[Ze];if(function Ue(i,s,o,c){const u=o1+c,h=o.length;c>0&&(o[u-1][M1]=s),c<h-o1?(s[M1]=o[u],S(o,o1+c,s)):(o.push(s),s[M1]=null),s[l2]=o;const g=s[B3];null!==g&&o!==g&&function tt(i,s){const o=i[q2];s[f2]!==s[l2][l2][f2]&&(i[Ns]=!0),null===o?i[q2]=[s]:o.push(s)}(g,s);const C=s[a1];null!==C&&C.insertView(i),s[Mt]|=128}(u,s,i,o),c){const h=l5(o,i),g=s[Vt],C=Wa(g,i[G2]);null!==C&&function B(i,s,o,c,u,h){c[g2]=u,c[i1]=s,Gc(i,c,o,1,u,h)}(u,i[i1],g,s,C,h)}}let M6=(()=>{class s{}return s.__NG_ELEMENT_ID__=kb,s})();const wm=M6,Nb=class extends wm{constructor(s,o,c){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,c){const u=function Db(i,s,o,c){const u=s.tView,C=i6(i,u,o,4096&i[Mt]?4096:16,null,s,null,null,null,c?.injector??null,c?.hydrationInfo??null);C[B3]=i[s.index];const z=i[a1];return null!==z&&(C[a1]=z.createEmbeddedView(u)),nu(u,C,o),C}(this._declarationLView,this._declarationTContainer,s,{injector:o,hydrationInfo:c});return new a6(u)}};function kb(){return function _6(i,s){return 4&i.type?new Nb(s,i,no(i,s)):null}(D2(),fe())}let G8=(()=>{class s{}return s.__NG_ELEMENT_ID__=Bb,s})();function Bb(){return function Sm(i,s){let o;const c=s[i.index];return _1(c)?o=c:(o=function Fd(i,s,o,c){return[i,!0,!1,s,null,0,c,o,null,null,null]}(c,s,null,i),s[i.index]=o,v8(s,o)),Lm(o,s,i,c),new zm(o,i,s)}(D2(),fe())}const Im=G8,zm=class extends Im{constructor(s,o,c){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=c}get element(){return no(this._hostTNode,this._hostLView)}get injector(){return new Z2(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ii(this._hostTNode,this._hostLView);if(u4(s)){const o=qr(s,this._hostLView),c=Gr(s);return new Z2(o[Ze].data[c+8],o)}return new Z2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Em(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-o1}createEmbeddedView(s,o,c){let u,h;"number"==typeof c?u=c:null!=c&&(u=c.index,h=c.injector);const C=s.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(C,u,false),C}createComponent(s,o,c,u,h){const g=s&&!function ls(i){return"function"==typeof i}(s);let C;if(g)C=o;else{const ke=o||{};C=ke.index,c=ke.injector,u=ke.projectableNodes,h=ke.environmentInjector||ke.ngModuleRef}const b=g?s:new o6(jt(s)),z=c||this.parentInjector;if(!h&&null==b.ngModule){const Ye=(g?z:this.parentInjector).get(vs,null);Ye&&(h=Ye)}jt(b.componentType??{});const K=b.create(z,u,null,h);return this.insertImpl(K.hostView,C,false),K}insert(s,o){return this.insertImpl(s,o,!1)}insertImpl(s,o,c){const u=s._lView;if(function e4(i){return _1(i[l2])}(u)){const b=this.indexOf(s);if(-1!==b)this.detach(b);else{const z=u[l2],D=new zm(z,z[i1],z[l2]);D.detach(D.indexOf(s))}}const g=this._adjustIndex(o),C=this._lContainer;return Ab(C,u,g,!c),s.attachToViewContainerRef(),S(q8(C),g,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Em(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),c=h2(this._lContainer,o);c&&(A(q8(this._lContainer),o),cn(c[Ze],c))}detach(s){const o=this._adjustIndex(s,-1),c=h2(this._lContainer,o);return c&&null!=A(q8(this._lContainer),o)?new a6(c):null}_adjustIndex(s,o=0){return s??this.length+o}};function Em(i){return i[8]}function q8(i){return i[8]||(i[8]=[])}let Lm=function Dm(i,s,o,c){if(i[G2])return;let u;u=8&o.type?e2(c):function Ub(i,s){const o=i[Vt],c=o.createComment(""),u=u1(s,i);return Qr(o,Wa(o,u),c,function Ka(i,s){return i.nextSibling(s)}(o,u),!1),c}(s,o),i[G2]=u};const pH=new s2("Application Initializer");let p7=(()=>{var i;class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u}),this.appInits=Lt(pH,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const g=h();if(L8(g))c.push(g);else if(Dh(g)){const C=new Promise((b,z)=>{g.subscribe({complete:b,error:z})});c.push(C)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Dt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();const X8=new s2("LocaleId",{providedIn:"root",factory:()=>Lt(X8,mt.Optional|mt.SkipSelf)||function gH(){return typeof $localize<"u"&&$localize.locale||Co}()}),vH=new s2("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let CH=(()=>{var i;class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new N(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Dt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function pg(...i){}class ln{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cs(!1),this.onMicrotaskEmpty=new Cs(!1),this.onStable=new Cs(!1),this.onError=new Cs(!1),typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&o,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function xH(){const i="function"==typeof Yt.requestAnimationFrame;let s=Yt[i?"requestAnimationFrame":"setTimeout"],o=Yt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function TH(i){const s=()=>{!function gg(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Yt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,C7(i),i.isCheckStableRunning=!0,y7(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),C7(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,u,h,g,C)=>{try{return vg(i),o.invokeTask(u,h,g,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),yg(i)}},onInvoke:(o,c,u,h,g,C,b)=>{try{return vg(i),o.invoke(u,h,g,C,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),yg(i)}},onHasTask:(o,c,u,h)=>{o.hasTask(u,h),c===u&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,C7(i),y7(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,c,u,h)=>(o.handleError(u,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ln.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(ln.isInAngularZone())throw new Y(909,!1)}run(s,o,c){return this._inner.run(s,o,c)}runTask(s,o,c,u){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+u,s,AH,pg,pg);try{return h.runTask(g,o,c)}finally{h.cancelTask(g)}}runGuarded(s,o,c){return this._inner.runGuarded(s,o,c)}runOutsideAngular(s){return this._outer.run(s)}}const AH={};function y7(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function C7(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function vg(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function yg(i){i._nesting--,y7(i)}class NH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cs,this.onMicrotaskEmpty=new Cs,this.onStable=new Cs,this.onError=new Cs}run(s,o,c){return s.apply(o,c)}runGuarded(s,o,c){return s.apply(o,c)}runOutsideAngular(s){return s()}runTask(s,o,c,u){return s.apply(o,c)}}const M7=new s2("",{providedIn:"root",factory:Cg});function Cg(){const i=Lt(ln);let s=!0;const o=new se.y(u=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{u.next(s),u.complete()})}),c=new se.y(u=>{let h;i.runOutsideAngular(()=>{h=i.onStable.subscribe(()=>{ln.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,u.next(!0))})})});const g=i.onUnstable.subscribe(()=>{ln.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{u.next(!1)}))});return()=>{h.unsubscribe(),g.unsubscribe()}});return(0,ne.T)(o,c.pipe((0,ge.B)()))}const Mg=new s2(""),_g=new s2("");let _7,kH=(()=>{var i;class s{constructor(c,u,h){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_7||(function PH(i){_7=i}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ln.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}}return(i=s).\u0275fac=function(c){return new(c||i)(wt(ln),wt(wg),wt(_g))},i.\u0275prov=Dt({token:i,factory:i.\u0275fac}),s})(),wg=(()=>{var i;class s{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return _7?.findTestabilityInTree(this,c,u)??null}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Dt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})(),Ms=null;const bg=new s2("AllowMultipleToken"),w7=new s2("PlatformDestroyListeners"),b7=new s2("appBootstrapListener");function Ig(i,s,o=[]){const c=`Platform: ${s}`,u=new s2(c);return(h=[])=>{let g=el();if(!g||g.injector.get(bg,!1)){const C=[...o,...h,{provide:u,useValue:!0}];i?i(C):function UH(i){if(Ms&&!Ms.get(bg,!1))throw new Y(400,!1);(function Hg(){!function K3(i){$s=i}(()=>{throw new Y(600,!1)})})(),Ms=i;const s=i.get(Eg);(function Vg(i){i.get(z5,null)?.forEach(o=>o())})(i)}(function zg(i=[],s){return Xr.create({name:s,providers:[{provide:H5,useValue:"platform"},{provide:w7,useValue:new Set([()=>Ms=null])},...i]})}(C,c))}return function H7(i){const s=el();if(!s)throw new Y(401,!1);return s}()}}function el(){return Ms?.get(Eg)??null}let Eg=(()=>{var i;class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const h=function $H(i="zone.js",s){return"noop"===i?new NH:"zone.js"===i?new ln(s):i}(u?.ngZone,function Sg(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return h.run(()=>{const g=function rb(i,s,o){return new Ku(i,s,o)}(c.moduleType,this.injector,function Ag(i){return[{provide:ln,useFactory:i},{provide:Zc,multi:!0,useFactory:()=>{const s=Lt(qH,{optional:!0});return()=>s.initialize()}},{provide:xg,useFactory:GH},{provide:M7,useFactory:Cg}]}(()=>h)),C=g.injector.get(S4,null);return h.runOutsideAngular(()=>{const b=h.onError.subscribe({next:z=>{C.handleError(z)}});g.onDestroy(()=>{tl(this._modules,g),b.unsubscribe()})}),function Lg(i,s,o){try{const c=o();return L8(c)?c.catch(u=>{throw s.runOutsideAngular(()=>i.handleError(u)),u}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(C,h,()=>{const b=g.injector.get(p7);return b.runInitializers(),b.donePromise.then(()=>(function Ep(i){Je(i,"Expected localeId to be defined"),"string"==typeof i&&(Ru=i.toLowerCase().replace(/_/g,"-"))}(g.injector.get(X8,Co)||Co),this._moduleDoBootstrap(g),g))})})}bootstrapModule(c,u=[]){const h=V7({},u);return function RH(i,s,o){const c=new Zu(o);return Promise.resolve(c)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const u=c.injector.get(V6);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Y(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Y(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(w7,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=s).\u0275fac=function(c){return new(c||i)(wt(Xr))},i.\u0275prov=Dt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})();function V7(i,s){return Array.isArray(s)?s.reduce(V7,i):{...i,...s}}let V6=(()=>{var i;class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Lt(xg),this.zoneIsStable=Lt(M7),this.componentTypes=[],this.components=[],this.isStable=Lt(CH).hasPendingTasks.pipe((0,Te.w)(c=>c?(0,me.of)(!1):this.zoneIsStable),(0,we.x)(),(0,ge.B)()),this._injector=Lt(vs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,u){const h=c instanceof sd;if(!this._injector.get(p7).done)throw!h&&function Sr(i){const s=jt(i)||b2(i)||y1(i);return null!==s&&s.standalone}(c),new Y(405,!1);let C;C=h?c:this._injector.get(n6).resolveComponentFactory(c),this.componentTypes.push(C.componentType);const b=function FH(i){return i.isBoundToModule}(C)?void 0:this._injector.get(k4),D=C.create(Xr.NULL,[],u||C.selector,b),k=D.location.nativeElement,$=D.injector.get(Mg,null);return $?.registerApplication(k),D.onDestroy(()=>{this.detachView(D.hostView),tl(this.components,D),$?.unregisterApplication(k)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Y(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;tl(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(b7,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>tl(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Y(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Dt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function tl(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}const xg=new s2("",{providedIn:"root",factory:()=>Lt(S4).handleError.bind(void 0)});function GH(){const i=Lt(ln),s=Lt(S4);return o=>i.runOutsideAngular(()=>s.handleError(o))}let qH=(()=>{var i;class s{constructor(){this.zone=Lt(ln),this.applicationRef=Lt(V6)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=Dt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function WH(){return!1}let KH=(()=>{class s{}return s.__NG_ELEMENT_ID__=ZH,s})();function ZH(i){return function YH(i,s,o){if(Tr(i)&&!o){const c=L2(i.index,s);return new a6(c,c)}return 47&i.type?new a6(s[f2],s):null}(D2(),fe(),16==(16&i))}class Rg{constructor(){}supports(s){return _8(s)}create(s){return new nV(s)}}const Og=(i,s)=>s;class nV{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Og}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,c=this._removalsHead,u=0,h=null;for(;o||c;){const g=!c||o&&o.currentIndex<Bg(c,u,h)?o:c,C=Bg(g,u,h),b=g.currentIndex;if(g===c)u--,c=c._nextRemoved;else if(o=o._next,null==g.previousIndex)u++;else{h||(h=[]);const z=C-u,D=b-u;if(z!=D){for(let $=0;$<z;$++){const K=$<h.length?h[$]:h[$]=0,pe=K+$;D<=pe&&pe<z&&(h[$]=K+1)}h[g.previousIndex]=D-z}}C!==b&&s(g,C,b)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!_8(s))throw new Y(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,h,g,o=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)h=s[C],g=this._trackByFn(C,h),null!==o&&Object.is(o.trackById,g)?(c&&(o=this._verifyReinsertion(o,h,g,C)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,g,C),c=!0),o=o._next}else u=0,function ph(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Symbol.iterator]();let c;for(;!(c=o.next()).done;)s(c.value)}}(s,C=>{g=this._trackByFn(u,C),null!==o&&Object.is(o.trackById,g)?(c&&(o=this._verifyReinsertion(o,C,g,u)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,g,u),c=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,c,u){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,u)):s=this._addAfter(new Fg(o,c),h,u),s}_verifyReinsertion(s,o,c,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?s=this._reinsertAfter(h,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,h=s._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(s,o,c),this._addToMoves(s,c),s}_moveAfter(s,o,c){return this._unlink(s),this._insertAfter(s,o,c),this._addToMoves(s,c),s}_addAfter(s,o,c){return this._insertAfter(s,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,c){const u=null===o?this._itHead:o._next;return s._next=u,s._prev=o,null===u?this._itTail=s:u._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new L7),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,c=s._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new L7),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Fg{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rV{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const o=s._prevDup,c=s._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class L7{constructor(){this.map=new Map}put(s){const o=s.trackById;let c=this.map.get(o);c||(c=new rV,this.map.set(o,c)),c.add(s)}get(s,o){const u=this.map.get(s);return u?u.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bg(i,s,o){const c=i.previousIndex;if(null===c)return c;let u=0;return o&&c<o.length&&(u=o[c]),c+s+u}class Ug{constructor(){}supports(s){return s instanceof Map||iu(s)}create(){return new iV}}class iV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||iu(s)))throw new Y(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,c);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const c=s._prev;return o._next=s,o._prev=c,s._prev=o,c&&(c._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,o);const h=u._prev,g=u._next;return h&&(h._next=g),g&&(g._prev=h),u._next=null,u._prev=null,u}const c=new jg(s);return this._records.set(s,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(c=>o(s[c],c))}}class jg{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $g(){return new D7([new Rg])}let D7=(()=>{var i;class s{constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:u=>s.create(c,u||$g()),deps:[[s,new Ic,new m3]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new Y(901,!1)}}return(i=s).\u0275prov=Dt({token:i,providedIn:"root",factory:$g}),s})();function Gg(){return new x7([new Ug])}let x7=(()=>{var i;class s{constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:u=>s.create(c,u||Gg()),deps:[[s,new Ic,new m3]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new Y(901,!1)}}return(i=s).\u0275prov=Dt({token:i,providedIn:"root",factory:Gg}),s})();const cV=Ig(null,"core",[]);let lV=(()=>{var i;class s{constructor(c){}}return(i=s).\u0275fac=function(c){return new(c||i)(wt(V6))},i.\u0275mod=ji({type:i}),i.\u0275inj=p2({}),s})()},3106:(ht,Se,T)=>{T.d(Se,{Z:()=>dt});var M=T(9058),J=T(4537),N=T(534),se=T(7879);class ne{constructor(Be,Oe){this._delegate=Be,this.firebase=Oe,(0,N._addComponent)(Be,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Be,Oe=N._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(Be);return!rt.isInitialized()&&"EXPLICIT"===(null===(at=rt.getComponent())||void 0===at?void 0:at.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Oe})}_removeServiceInstance(Be,Oe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(Oe)}_addComponent(Be){(0,N._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,N._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new M.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),R=function we(){const ve=function Te(ve){const Be={},Oe={__esModule:!0,initializeApp:function Y(xe,We={}){const re=N.initializeApp(xe,We);if((0,M.r3)(Be,re.name))return Be[re.name];const ct=new ve(re,Oe);return Be[re.name]=ct,ct},app:rt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Q(xe){const We=xe.name,re=We.replace("-compat","");if(N._registerComponent(xe)&&"PUBLIC"===xe.type){const ct=(Pt=rt())=>{if("function"!=typeof Pt[re])throw ge.create("invalid-app-argument",{appName:We});return Pt[re]()};void 0!==xe.serviceProps&&(0,M.ZB)(ct,xe.serviceProps),Oe[re]=ct,ve.prototype[re]=function(...Pt){return this._getService.bind(this,We).apply(this,xe.multipleInstances?Pt:[])}}return"PUBLIC"===xe.type?Oe[re]:null},removeApp:function at(xe){delete Be[xe]},useAsService:function He(xe,We){return"serverAuth"===We?null:We},modularAPIs:N}};function rt(xe){if(!(0,M.r3)(Be,xe=xe||N._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:xe});return Be[xe]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function he(){return Object.keys(Be).map(xe=>Be[xe])}}),rt.App=ve,Oe}(ne);return ve.INTERNAL=Object.assign(Object.assign({},ve.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Be(Oe){(0,M.ZB)(ve,Oe)},createSubscribe:M.ne,ErrorFactory:M.LL,deepExtend:M.ZB}),ve}(),j=new se.Yd("@firebase/app-compat");if((0,M.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ve=self.firebase.SDK_VERSION;ve&&ve.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=R;!function De(ve){(0,N.registerVersion)("@firebase/app-compat","0.2.13",ve)}()},534:(ht,Se,T)=>{T.r(Se),T.d(Se,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Vr,_DEFAULT_ENTRY_NAME:()=>mt,_addComponent:()=>m2,_addOrOverwriteComponent:()=>L1,_apps:()=>St,_clearComponents:()=>Zt,_components:()=>r2,_getProvider:()=>n1,_registerComponent:()=>Yt,_removeServiceInstance:()=>Ri,deleteApp:()=>mn,getApp:()=>Y1,getApps:()=>sr,initializeApp:()=>Ir,onLog:()=>x1,registerVersion:()=>j2,setLogLevel:()=>I2});var M=T(5861),J=T(4537),N=T(7879),se=T(9058);const ne=(oe,X)=>X.some(ze=>oe instanceof ze);let me,ge;const R=new WeakMap,j=new WeakMap,ie=new WeakMap,qe=new WeakMap,De=new WeakMap;let Be={get(oe,X,ze){if(oe instanceof IDBTransaction){if("done"===X)return j.get(oe);if("objectStoreNames"===X)return oe.objectStoreNames||ie.get(oe);if("store"===X)return ze.objectStoreNames[1]?void 0:ze.objectStore(ze.objectStoreNames[0])}return Y(oe[X])},set:(oe,X,ze)=>(oe[X]=ze,!0),has:(oe,X)=>oe instanceof IDBTransaction&&("done"===X||"store"===X)||X in oe};function rt(oe){return"function"==typeof oe?function at(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...X){return oe.apply(he(this),X),Y(R.get(this))}:function(...X){return Y(oe.apply(he(this),X))}:function(X,...ze){const it=oe.call(he(this),X,...ze);return ie.set(it,X.sort?X.sort():[X]),Y(it)}}(oe):(oe instanceof IDBTransaction&&function ve(oe){if(j.has(oe))return;const X=new Promise((ze,it)=>{const Ge=()=>{oe.removeEventListener("complete",xt),oe.removeEventListener("error",Kt),oe.removeEventListener("abort",Kt)},xt=()=>{ze(),Ge()},Kt=()=>{it(oe.error||new DOMException("AbortError","AbortError")),Ge()};oe.addEventListener("complete",xt),oe.addEventListener("error",Kt),oe.addEventListener("abort",Kt)});j.set(oe,X)}(oe),ne(oe,function Te(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Be):oe)}function Y(oe){if(oe instanceof IDBRequest)return function dt(oe){const X=new Promise((ze,it)=>{const Ge=()=>{oe.removeEventListener("success",xt),oe.removeEventListener("error",Kt)},xt=()=>{ze(Y(oe.result)),Ge()},Kt=()=>{it(oe.error),Ge()};oe.addEventListener("success",xt),oe.addEventListener("error",Kt)});return X.then(ze=>{ze instanceof IDBCursor&&R.set(ze,oe)}).catch(()=>{}),De.set(X,oe),X}(oe);if(qe.has(oe))return qe.get(oe);const X=rt(oe);return X!==oe&&(qe.set(oe,X),De.set(X,oe)),X}const he=oe=>De.get(oe),xe=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],re=new Map;function ct(oe,X){if(!(oe instanceof IDBDatabase)||X in oe||"string"!=typeof X)return;if(re.get(X))return re.get(X);const ze=X.replace(/FromIndex$/,""),it=X!==ze,Ge=We.includes(ze);if(!(ze in(it?IDBIndex:IDBObjectStore).prototype)||!Ge&&!xe.includes(ze))return;const xt=function(){var Kt=(0,M.Z)(function*(z2,...E2){const r1=this.transaction(z2,Ge?"readwrite":"readonly");let Ln=r1.store;return it&&(Ln=Ln.index(E2.shift())),(yield Promise.all([Ln[ze](...E2),Ge&&r1.done]))[0]});return function(E2){return Kt.apply(this,arguments)}}();return re.set(X,xt),xt}!function Oe(oe){Be=oe(Be)}(oe=>({...oe,get:(X,ze,it)=>ct(X,ze)||oe.get(X,ze,it),has:(X,ze)=>!!ct(X,ze)||oe.has(X,ze)}));class Pt{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function e1(oe){const X=oe.getComponent();return"VERSION"===X?.type}(ze)){const it=ze.getImmediate();return`${it.library}/${it.version}`}return null}).filter(ze=>ze).join(" ")}}const S1="@firebase/app",V2=new N.Yd("@firebase/app"),mt="[DEFAULT]",Rt={[S1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},St=new Map,r2=new Map;function m2(oe,X){try{oe.container.addComponent(X)}catch(ze){V2.debug(`Component ${X.name} failed to register with FirebaseApp ${oe.name}`,ze)}}function L1(oe,X){oe.container.addOrOverwriteComponent(X)}function Yt(oe){const X=oe.name;if(r2.has(X))return V2.debug(`There were multiple attempts to register component ${X}.`),!1;r2.set(X,oe);for(const ze of St.values())m2(ze,oe);return!0}function n1(oe,X){const ze=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),oe.container.getProvider(X)}function Ri(oe,X,ze=mt){n1(oe,X).clearInstance(ze)}function Zt(){r2.clear()}const Ot=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gn{constructor(X,ze,it){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=it,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw Ot.create("app-deleted",{appName:this._name})}}const Vr="9.23.0";function Ir(oe,X={}){let ze=oe;"object"!=typeof X&&(X={name:X});const it=Object.assign({name:mt,automaticDataCollectionEnabled:!1},X),Ge=it.name;if("string"!=typeof Ge||!Ge)throw Ot.create("bad-app-name",{appName:String(Ge)});if(ze||(ze=(0,se.aH)()),!ze)throw Ot.create("no-options");const xt=St.get(Ge);if(xt){if((0,se.vZ)(ze,xt.options)&&(0,se.vZ)(it,xt.config))return xt;throw Ot.create("duplicate-app",{appName:Ge})}const Kt=new J.H0(Ge);for(const E2 of r2.values())Kt.addComponent(E2);const z2=new Gn(ze,it,Kt);return St.set(Ge,z2),z2}function Y1(oe=mt){const X=St.get(oe);if(!X&&oe===mt&&(0,se.aH)())return Ir();if(!X)throw Ot.create("no-app",{appName:oe});return X}function sr(){return Array.from(St.values())}function mn(oe){return U2.apply(this,arguments)}function U2(){return(U2=(0,M.Z)(function*(oe){const X=oe.name;St.has(X)&&(St.delete(X),yield Promise.all(oe.container.getProviders().map(ze=>ze.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function j2(oe,X,ze){var it;let Ge=null!==(it=Rt[oe])&&void 0!==it?it:oe;ze&&(Ge+=`-${ze}`);const xt=Ge.match(/\s|\//),Kt=X.match(/\s|\//);if(xt||Kt){const z2=[`Unable to register library "${Ge}" with version "${X}":`];return xt&&z2.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),xt&&Kt&&z2.push("and"),Kt&&z2.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void V2.warn(z2.join(" "))}Yt(new J.wA(`${Ge}-version`,()=>({library:Ge,version:X}),"VERSION"))}function x1(oe,X){if(null!==oe&&"function"!=typeof oe)throw Ot.create("invalid-log-argument");(0,N.Am)(oe,X)}function I2(oe){(0,N.Ub)(oe)}const Q1="firebase-heartbeat-database",X1=1,F="firebase-heartbeat-store";let P=null;function G(){return P||(P=function Q(oe,X,{blocked:ze,upgrade:it,blocking:Ge,terminated:xt}={}){const Kt=indexedDB.open(oe,X),z2=Y(Kt);return it&&Kt.addEventListener("upgradeneeded",E2=>{it(Y(Kt.result),E2.oldVersion,E2.newVersion,Y(Kt.transaction),E2)}),ze&&Kt.addEventListener("blocked",E2=>ze(E2.oldVersion,E2.newVersion,E2)),z2.then(E2=>{xt&&E2.addEventListener("close",()=>xt()),Ge&&E2.addEventListener("versionchange",r1=>Ge(r1.oldVersion,r1.newVersion,r1))}).catch(()=>{}),z2}(Q1,X1,{upgrade:(oe,X)=>{0===X&&oe.createObjectStore(F)}}).catch(oe=>{throw Ot.create("idb-open",{originalErrorMessage:oe.message})})),P}function ee(){return(ee=(0,M.Z)(function*(oe){try{return yield(yield G()).transaction(F).objectStore(F).get(wt(oe))}catch(X){if(X instanceof se.ZR)V2.warn(X.message);else{const ze=Ot.create("idb-get",{originalErrorMessage:X?.message});V2.warn(ze.message)}}})).apply(this,arguments)}function Ke(oe,X){return Et.apply(this,arguments)}function Et(){return(Et=(0,M.Z)(function*(oe,X){try{const it=(yield G()).transaction(F,"readwrite");yield it.objectStore(F).put(X,wt(oe)),yield it.done}catch(ze){if(ze instanceof se.ZR)V2.warn(ze.message);else{const it=Ot.create("idb-set",{originalErrorMessage:ze?.message});V2.warn(it.message)}}})).apply(this,arguments)}function wt(oe){return`${oe.name}!${oe.options.appId}`}class C2{constructor(X){this.container=X,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new Sn(ze),this._heartbeatsCachePromise=this._storage.read().then(it=>(this._heartbeatsCache=it,it))}triggerHeartbeat(){var X=this;return(0,M.Z)(function*(){const it=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=Ut();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==Ge&&!X._heartbeatsCache.heartbeats.some(xt=>xt.date===Ge))return X._heartbeatsCache.heartbeats.push({date:Ge,agent:it}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(xt=>{const Kt=new Date(xt.date).valueOf();return Date.now()-Kt<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,M.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const ze=Ut(),{heartbeatsToSend:it,unsentEntries:Ge}=function T2(oe,X=1024){const ze=[];let it=oe.slice();for(const Ge of oe){const xt=ze.find(Kt=>Kt.agent===Ge.agent);if(xt){if(xt.dates.push(Ge.date),qn(ze)>X){xt.dates.pop();break}}else if(ze.push({agent:Ge.agent,dates:[Ge.date]}),qn(ze)>X){ze.pop();break}it=it.slice(1)}return{heartbeatsToSend:ze,unsentEntries:it}}(X._heartbeatsCache.heartbeats),xt=(0,se.L)(JSON.stringify({version:2,heartbeats:it}));return X._heartbeatsCache.lastSentHeartbeatDate=ze,Ge.length>0?(X._heartbeatsCache.heartbeats=Ge,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),xt})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Sn{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,M.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,M.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function Me(oe){return ee.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var ze=this;return(0,M.Z)(function*(){var it;if(yield ze._canUseIndexedDBPromise){const xt=yield ze.read();return Ke(ze.app,{lastSentHeartbeatDate:null!==(it=X.lastSentHeartbeatDate)&&void 0!==it?it:xt.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var ze=this;return(0,M.Z)(function*(){var it;if(yield ze._canUseIndexedDBPromise){const xt=yield ze.read();return Ke(ze.app,{lastSentHeartbeatDate:null!==(it=X.lastSentHeartbeatDate)&&void 0!==it?it:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...X.heartbeats]})}})()}}function qn(oe){return(0,se.L)(JSON.stringify({version:2,heartbeats:oe})).length}!function Oi(oe){Yt(new J.wA("platform-logger",X=>new Pt(X),"PRIVATE")),Yt(new J.wA("heartbeat",X=>new C2(X),"PRIVATE")),j2(S1,"0.9.13",oe),j2(S1,"0.9.13","esm2017"),j2("fire-js","")}("")},4537:(ht,Se,T)=>{T.d(Se,{H0:()=>Te,wA:()=>N});var M=T(5861),J=T(9058);class N{constructor(R,j,ie){this.name=R,this.instanceFactory=j,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(R){return this.instantiationMode=R,this}setMultipleInstances(R){return this.multipleInstances=R,this}setServiceProps(R){return this.serviceProps=R,this}setInstanceCreatedCallback(R){return this.onInstanceCreated=R,this}}const se="[DEFAULT]";class ne{constructor(R,j){this.name=R,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(R){const j=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(j)){const ie=new J.BH;if(this.instancesDeferred.set(j,ie),this.isInitialized(j)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:j});qe&&ie.resolve(qe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(R){var j;const ie=this.normalizeInstanceIdentifier(R?.identifier),qe=null!==(j=R?.optional)&&void 0!==j&&j;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(De){if(qe)return null;throw De}}getComponent(){return this.component}setComponent(R){if(R.name!==this.name)throw Error(`Mismatching Component ${R.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=R,this.shouldAutoInitialize()){if(function ge(we){return"EAGER"===we.instantiationMode}(R))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[j,ie]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(j);try{const De=this.getOrInitializeService({instanceIdentifier:qe});ie.resolve(De)}catch{}}}}clearInstance(R=se){this.instancesDeferred.delete(R),this.instancesOptions.delete(R),this.instances.delete(R)}delete(){var R=this;return(0,M.Z)(function*(){const j=Array.from(R.instances.values());yield Promise.all([...j.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...j.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(R=se){return this.instances.has(R)}getOptions(R=se){return this.instancesOptions.get(R)||{}}initialize(R={}){const{options:j={}}=R,ie=this.normalizeInstanceIdentifier(R.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:ie,options:j});for(const[De,dt]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(De)&&dt.resolve(qe);return qe}onInit(R,j){var ie;const qe=this.normalizeInstanceIdentifier(j),De=null!==(ie=this.onInitCallbacks.get(qe))&&void 0!==ie?ie:new Set;De.add(R),this.onInitCallbacks.set(qe,De);const dt=this.instances.get(qe);return dt&&R(dt,qe),()=>{De.delete(R)}}invokeOnInitCallbacks(R,j){const ie=this.onInitCallbacks.get(j);if(ie)for(const qe of ie)try{qe(R,j)}catch{}}getOrInitializeService({instanceIdentifier:R,options:j={}}){let ie=this.instances.get(R);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(we=R,we===se?void 0:we),options:j}),this.instances.set(R,ie),this.instancesOptions.set(R,j),this.invokeOnInitCallbacks(ie,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,ie)}catch{}var we;return ie||null}normalizeInstanceIdentifier(R=se){return this.component?this.component.multipleInstances?R:se:R}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(R){this.name=R,this.providers=new Map}addComponent(R){const j=this.getProvider(R.name);if(j.isComponentSet())throw new Error(`Component ${R.name} has already been registered with ${this.name}`);j.setComponent(R)}addOrOverwriteComponent(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.addComponent(R)}getProvider(R){if(this.providers.has(R))return this.providers.get(R);const j=new ne(R,this);return this.providers.set(R,j),j}getProviders(){return Array.from(this.providers.values())}}},7879:(ht,Se,T)=>{T.d(Se,{Am:()=>we,Ub:()=>Te,Yd:()=>ge,in:()=>J});const M=[];var J=function(R){return R[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT",R}(J||{});const N={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},se=J.INFO,ne={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},me=(R,j,...ie)=>{if(j<R.logLevel)return;const qe=(new Date).toISOString(),De=ne[j];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[De](`[${qe}]  ${R.name}:`,...ie)};class ge{constructor(j){this.name=j,this._logLevel=se,this._logHandler=me,this._userLogHandler=null,M.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in J))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?N[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...j),this._logHandler(this,J.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...j),this._logHandler(this,J.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,J.INFO,...j),this._logHandler(this,J.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,J.WARN,...j),this._logHandler(this,J.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...j),this._logHandler(this,J.ERROR,...j)}}function Te(R){M.forEach(j=>{j.setLogLevel(R)})}function we(R,j){for(const ie of M){let qe=null;j&&j.level&&(qe=N[j.level]),ie.userLogHandler=null===R?null:(De,dt,...ve)=>{const Be=ve.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");dt>=(qe??De.logLevel)&&R({level:J[dt].toLowerCase(),message:Be,args:ve,type:De.name})}}}},3182:(ht,Se,T)=>{T.d(Se,{C6:()=>M.getApps,Mq:()=>M.getApp});var M=T(534);(0,M.registerVersion)("firebase","9.23.0","app")},7142:(ht,Se,T)=>{T.d(Se,{Z:()=>M.Z});var M=T(3106);M.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(ht,Se,T)=>{T.r(Se);var M=T(5861),J=T(3106),N=T(9058),se=T(534),ne=T(7582),me=T(7879),ge=T(4537);const we={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const dt=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ve=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new me.Yd("@firebase/auth");function Y(v,...d){at.logLevel<=me.in.ERROR&&at.error(`Auth (${se.SDK_VERSION}): ${v}`,...d)}function he(v,...d){throw We(v,...d)}function Q(v,...d){return We(v,...d)}function He(v,d,p){const y=Object.assign(Object.assign({},ve()),{[d]:p});return new N.LL("auth","Firebase",y).create(d,{appName:v.name})}function xe(v,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&he(v,"argument-error"),He(v,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(v,...d){if("string"!=typeof v){const p=d[0],y=[...d.slice(1)];return y[0]&&(y[0].appName=v.name),v._errorFactory.create(p,...y)}return Be.create(v,...d)}function re(v,d,...p){if(!v)throw We(d,...p)}function ct(v){const d="INTERNAL ASSERTION FAILED: "+v;throw Y(d),new Error(d)}function Pt(v,d){v||ct(d)}function e1(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function S1(){return"http:"===jn()||"https:"===jn()}function jn(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class $n{constructor(d,p){this.shortDelay=d,this.longDelay=p,Pt(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function V2(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(S1()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ae(v,d){Pt(v.emulator,"Emulator should always be set here");const{url:p}=v.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class ue{static initialize(d,p,y){this.fetchImpl=d,p&&(this.headersImpl=p),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ce=new $n(3e4,6e4);function be(v,d){return v.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:v.tenantId}):d}function Ve(v,d,p,y){return Je.apply(this,arguments)}function Je(){return(Je=(0,M.Z)(function*(v,d,p,y,I={}){return je(v,I,(0,M.Z)(function*(){let L={},B={};y&&("GET"===d?B=y:L={body:JSON.stringify(y)});const Z=(0,N.xO)(Object.assign({key:v.config.apiKey},B)).slice(1),Le=yield v._getAdditionalHeaders();return Le["Content-Type"]="application/json",v.languageCode&&(Le["X-Firebase-Locale"]=v.languageCode),ue.fetch()(Dt(v,v.config.apiHost,p,Z),Object.assign({method:d,headers:Le,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function je(v,d,p){return w2.apply(this,arguments)}function w2(){return(w2=(0,M.Z)(function*(v,d,p){v._canInitEmulator=!1;const y=Object.assign(Object.assign({},ye),d);try{const I=new c2(v),L=yield Promise.race([p(),I.promise]);I.clearNetworkTimeout();const B=yield L.json();if("needConfirmation"in B)throw p2(v,"account-exists-with-different-credential",B);if(L.ok&&!("errorMessage"in B))return B;{const Z=L.ok?B.errorMessage:B.error.message,[Le,Ue]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw p2(v,"credential-already-in-use",B);if("EMAIL_EXISTS"===Le)throw p2(v,"email-already-in-use",B);if("USER_DISABLED"===Le)throw p2(v,"user-disabled",B);const tt=y[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw He(v,tt,Ue);he(v,tt)}}catch(I){if(I instanceof N.ZR)throw I;he(v,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function pt(v,d,p,y){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,M.Z)(function*(v,d,p,y,I={}){const L=yield Ve(v,d,p,y,I);return"mfaPendingCredential"in L&&he(v,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Dt(v,d,p,y){const I=`${d}${p}?${y}`;return v.config.emulator?ae(v.config,I):`${v.config.apiScheme}://${I}`}class c2{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,y)=>{this.timer=setTimeout(()=>y(Q(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function p2(v,d,p){const y={appName:v.name};p.email&&(y.email=p.email),p.phoneNumber&&(y.phoneNumber=p.phoneNumber);const I=Q(v,d,y);return I.customData._tokenResponse=p,I}function Jt(){return(Jt=(0,M.Z)(function*(v,d){return Ve(v,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function O1(){return(O1=(0,M.Z)(function*(v,d){return Ve(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function F1(){return(F1=(0,M.Z)(function*(v,d){return Ve(v,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function B1(v){if(v)try{const d=new Date(Number(v));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function mt(){return(mt=(0,M.Z)(function*(v,d=!1){const p=(0,N.m9)(v),y=yield p.getIdToken(d),I=St(y);re(I&&I.exp&&I.auth_time&&I.iat,p.auth,"internal-error");const L="object"==typeof I.firebase?I.firebase:void 0,B=L?.sign_in_provider;return{claims:I,token:y,authTime:B1(Rt(I.auth_time)),issuedAtTime:B1(Rt(I.iat)),expirationTime:B1(Rt(I.exp)),signInProvider:B||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Rt(v){return 1e3*Number(v)}function St(v){const[d,p,y]=v.split(".");if(void 0===d||void 0===p||void 0===y)return Y("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,N.tV)(p);return I?JSON.parse(I):(Y("Failed to decode base64 JWT payload"),null)}catch(I){return Y("Caught error parsing JWT payload as JSON",I?.toString()),null}}function m2(v,d){return L1.apply(this,arguments)}function L1(){return(L1=(0,M.Z)(function*(v,d,p=!1){if(p)return d;try{return yield d}catch(y){throw y instanceof N.ZR&&function Yt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(y)&&v.auth.currentUser===v&&(yield v.auth.signOut()),y}})).apply(this,arguments)}class n1{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const I=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const y=this.getInterval(d);this.timerId=setTimeout((0,M.Z)(function*(){yield p.iteration()}),y)}iteration(){var d=this;return(0,M.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class Ri{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=B1(this.lastLoginAt),this.creationTime=B1(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zt(v){return D1.apply(this,arguments)}function D1(){return D1=(0,M.Z)(function*(v){var d;const p=v.auth,y=yield v.getIdToken(),I=yield m2(v,function Hr(v,d){return F1.apply(this,arguments)}(p,{idToken:y}));re(I?.users.length,p,"internal-error");const L=I.users[0];v._notifyReloadListener(L);const B=null!==(d=L.providerUserInfo)&&void 0!==d&&d.length?function Ir(v){return v.map(d=>{var{providerId:p}=d,y=(0,ne._T)(d,["providerId"]);return{providerId:p,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}(L.providerUserInfo):[],Z=function Vr(v,d){return[...v.filter(y=>!d.some(I=>I.providerId===y.providerId)),...d]}(v.providerData,B),tt=!!v.isAnonymous&&!(v.email&&L.passwordHash||Z?.length),nt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Z,metadata:new Ri(L.createdAt,L.lastLoginAt),isAnonymous:tt};Object.assign(v,nt)}),D1.apply(this,arguments)}function Gn(){return(Gn=(0,M.Z)(function*(v){const d=(0,N.m9)(v);yield Zt(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function sr(){return(sr=(0,M.Z)(function*(v,d){const p=yield je(v,{},(0,M.Z)(function*(){const y=(0,N.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:I,apiKey:L}=v.config,B=Dt(v,I,"/v1/token",`key=${L}`),Z=yield v._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(B,{method:"POST",headers:Z,body:y})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class mn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){re(d.idToken,"internal-error"),re(typeof d.idToken<"u","internal-error"),re(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function r2(v){const d=St(v);return re(d,"internal-error"),re(typeof d.exp<"u","internal-error"),re(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var y=this;return(0,M.Z)(function*(){return re(!y.accessToken||y.refreshToken,d,"user-token-expired"),p||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(d,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var y=this;return(0,M.Z)(function*(){const{accessToken:I,refreshToken:L,expiresIn:B}=yield function Y1(v,d){return sr.apply(this,arguments)}(d,p);y.updateTokensAndExpiration(I,L,Number(B))})()}updateTokensAndExpiration(d,p,y){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(d,p){const{refreshToken:y,accessToken:I,expirationTime:L}=p,B=new mn;return y&&(re("string"==typeof y,"internal-error",{appName:d}),B.refreshToken=y),I&&(re("string"==typeof I,"internal-error",{appName:d}),B.accessToken=I),L&&(re("number"==typeof L,"internal-error",{appName:d}),B.expirationTime=L),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new mn,this.toJSON())}_performRefresh(){return ct("not implemented")}}function U2(v,d){re("string"==typeof v||typeof v>"u","internal-error",{appName:d})}class j2{constructor(d){var{uid:p,auth:y,stsTokenManager:I}=d,L=(0,ne._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=y,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Ri(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,M.Z)(function*(){const y=yield m2(p,p.stsTokenManager.getToken(p.auth,d));return re(y,p.auth,"internal-error"),p.accessToken!==y&&(p.accessToken=y,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),y})()}getIdTokenResult(d){return function Pi(v){return mt.apply(this,arguments)}(this,d)}reload(){return function Ot(v){return Gn.apply(this,arguments)}(this)}_assign(d){this!==d&&(re(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new j2(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var y=this;return(0,M.Z)(function*(){let I=!1;d.idToken&&d.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(d),I=!0),p&&(yield Zt(y)),yield y.auth._persistUserIfCurrent(y),I&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var d=this;return(0,M.Z)(function*(){const p=yield d.getIdToken();return yield m2(d,function t1(v,d){return Jt.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var y,I,L,B,Z,Le,Ue,tt;const nt=null!==(y=p.displayName)&&void 0!==y?y:void 0,h2=null!==(I=p.email)&&void 0!==I?I:void 0,cn=null!==(L=p.phoneNumber)&&void 0!==L?L:void 0,C3=null!==(B=p.photoURL)&&void 0!==B?B:void 0,Oc=null!==(Z=p.tenantId)&&void 0!==Z?Z:void 0,Fc=null!==(Le=p._redirectEventId)&&void 0!==Le?Le:void 0,Ga=null!==(Ue=p.createdAt)&&void 0!==Ue?Ue:void 0,Bc=null!==(tt=p.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:Qr,emailVerified:Uc,isAnonymous:jc,providerData:qa,stsTokenManager:o5}=p;re(Qr&&o5,d,"internal-error");const Wa=mn.fromJSON(this.name,o5);re("string"==typeof Qr,d,"internal-error"),U2(nt,d.name),U2(h2,d.name),re("boolean"==typeof Uc,d,"internal-error"),re("boolean"==typeof jc,d,"internal-error"),U2(cn,d.name),U2(C3,d.name),U2(Oc,d.name),U2(Fc,d.name),U2(Ga,d.name),U2(Bc,d.name);const Ka=new j2({uid:Qr,auth:d,email:h2,emailVerified:Uc,displayName:nt,isAnonymous:jc,photoURL:C3,phoneNumber:cn,tenantId:Oc,stsTokenManager:Wa,createdAt:Ga,lastLoginAt:Bc});return qa&&Array.isArray(qa)&&(Ka.providerData=qa.map(Z0=>Object.assign({},Z0))),Fc&&(Ka._redirectEventId=Fc),Ka}static _fromIdTokenResponse(d,p,y=!1){return(0,M.Z)(function*(){const I=new mn;I.updateFromServerResponse(p);const L=new j2({uid:p.localId,auth:d,stsTokenManager:I,isAnonymous:y});return yield Zt(L),L})()}}const x1=new Map;function I2(v){Pt(v instanceof Function,"Expected a class definition");let d=x1.get(v);return d?(Pt(d instanceof v,"Instance stored in cache mismatched with class"),d):(d=new v,x1.set(v,d),d)}const X1=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,M.Z)(function*(){return!0})()}_set(p,y){var I=this;return(0,M.Z)(function*(){I.storage[p]=y})()}_get(p){var y=this;return(0,M.Z)(function*(){const I=y.storage[p];return void 0===I?null:I})()}_remove(p){var y=this;return(0,M.Z)(function*(){delete y.storage[p]})()}_addListener(p,y){}_removeListener(p,y){}}return v.type="NONE",v})();function F(v,d,p){return`firebase:${v}:${d}:${p}`}class P{constructor(d,p,y){this.persistence=d,this.auth=p,this.userKey=y;const{config:I,name:L}=this.auth;this.fullUserKey=F(this.userKey,I.apiKey,L),this.fullPersistenceKey=F("persistence",I.apiKey,L),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,M.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?j2._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,M.Z)(function*(){if(p.persistence===d)return;const y=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,y?p.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,y="authUser"){return(0,M.Z)(function*(){if(!p.length)return new P(I2(X1),d,y);const I=(yield Promise.all(p.map(function(){var Ue=(0,M.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let L=I[0]||I2(X1);const B=F(y,d.config.apiKey,d.name);let Z=null;for(const Ue of p)try{const tt=yield Ue._get(B);if(tt){const nt=j2._fromJSON(d,tt);Ue!==L&&(Z=nt),L=Ue;break}}catch{}const Le=I.filter(Ue=>Ue._shouldAllowMigration);return L._shouldAllowMigration&&Le.length?(L=Le[0],Z&&(yield L._set(B,Z.toJSON())),yield Promise.all(p.map(function(){var Ue=(0,M.Z)(function*(tt){if(tt!==L)try{yield tt._remove(B)}catch{}});return function(tt){return Ue.apply(this,arguments)}}())),new P(L,d,y)):new P(L,d,y)})()}}function G(v){const d=v.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Et(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Me(d))return"Firefox";if(d.includes("silk/"))return"Silk";if($2(d))return"Blackberry";if(Lt(d))return"Webos";if(ee(d))return"Safari";if((d.includes("chrome/")||Ke(d))&&!d.includes("edge/"))return"Chrome";if(wt(d))return"Android";{const y=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function Me(v=(0,N.z$)()){return/firefox\//i.test(v)}function ee(v=(0,N.z$)()){const d=v.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ke(v=(0,N.z$)()){return/crios\//i.test(v)}function Et(v=(0,N.z$)()){return/iemobile/i.test(v)}function wt(v=(0,N.z$)()){return/android/i.test(v)}function $2(v=(0,N.z$)()){return/blackberry/i.test(v)}function Lt(v=(0,N.z$)()){return/webos/i.test(v)}function C2(v=(0,N.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function qn(v=(0,N.z$)()){return C2(v)||wt(v)||Lt(v)||$2(v)||/windows phone/i.test(v)||Et(v)}function oe(v,d=[]){let p;switch(v){case"Browser":p=G((0,N.z$)());break;case"Worker":p=`${G((0,N.z$)())}-${v}`;break;default:p=v}const y=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${se.SDK_VERSION}/${y}`}function ze(){return(ze=(0,M.Z)(function*(v){return(yield Ve(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function it(v,d){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,M.Z)(function*(v,d){return Ve(v,"GET","/v2/recaptchaConfig",be(v,d))})).apply(this,arguments)}function xt(v){return void 0!==v&&void 0!==v.getResponse}function Kt(v){return void 0!==v&&void 0!==v.enterprise}class z2{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function r1(v){return new Promise((d,p)=>{const y=document.createElement("script");y.setAttribute("src",v),y.onload=d,y.onerror=I=>{const L=Q("internal-error");L.customData=I,p(L)},y.type="text/javascript",y.charset="UTF-8",function E2(){var v,d;return null!==(d=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==d?d:document}().appendChild(y)})}function Ln(v){return`__${v}${Math.floor(1e6*Math.random())}`}class N3{constructor(d){this.type="recaptcha-enterprise",this.auth=S2(d)}verify(d="verify",p=!1){var y=this;return(0,M.Z)(function*(){function L(){return L=(0,M.Z)(function*(Z){if(!p){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var Le=(0,M.Z)(function*(Ue,tt){it(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(nt=>{if(void 0!==nt.recaptchaKey){const h2=new z2(nt);return null==Z.tenantId?Z._agentRecaptchaConfig=h2:Z._tenantRecaptchaConfigs[Z.tenantId]=h2,Ue(h2.siteKey)}tt(new Error("recaptcha Enterprise site key undefined"))}).catch(nt=>{tt(nt)})});return function(Ue,tt){return Le.apply(this,arguments)}}())}),L.apply(this,arguments)}function B(Z,Le,Ue){const tt=window.grecaptcha;Kt(tt)?tt.enterprise.ready(()=>{tt.enterprise.execute(Z,{action:d}).then(nt=>{Le(nt)}).catch(()=>{Le("NO_RECAPTCHA")})}):Ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,Le)=>{(function I(Z){return L.apply(this,arguments)})(y.auth).then(Ue=>{if(!p&&Kt(window.grecaptcha))B(Ue,Z,Le);else{if(typeof window>"u")return void Le(new Error("RecaptchaVerifier is only supported in browser"));r1("https://www.google.com/recaptcha/enterprise.js?render="+Ue).then(()=>{B(Ue,Z,Le)}).catch(tt=>{Le(tt)})}}).catch(Ue=>{Le(Ue)})})})()}}function J1(v,d,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,M.Z)(function*(v,d,p,y=!1){const I=new N3(v);let L;try{L=yield I.verify(p)}catch{L=yield I.verify(p,!0)}const B=Object.assign({},d);return Object.assign(B,y?{captchaResp:L}:{captchaResponse:L}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class Ss{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const y=L=>new Promise((B,Z)=>{try{B(d(L))}catch(Le){Z(Le)}});y.onAbort=p,this.queue.push(y);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,M.Z)(function*(){if(p.auth.currentUser===d)return;const y=[];try{for(const I of p.queue)yield I(d),I.onAbort&&y.push(I.onAbort)}catch(I){y.reverse();for(const L of y)try{L()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}class k3{constructor(d,p,y,I){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=y,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bi(this),this.idTokenSubscription=new Bi(this),this.beforeStateQueue=new Ss(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(d,p){var y=this;return p&&(this._popupRedirectResolver=I2(p)),this._initializationPromise=this.queue((0,M.Z)(function*(){var I,L;if(!y._deleted&&(y.persistenceManager=yield P.create(y,d),!y._deleted)){if(null!==(I=y._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(p),y.lastNotifiedUid=(null===(L=y.currentUser)||void 0===L?void 0:L.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,M.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,M.Z)(function*(){var y;const I=yield p.assertedPersistence.getCurrentUser();let L=I,B=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Z=null===(y=p.redirectUser)||void 0===y?void 0:y._redirectEventId,Le=L?._redirectEventId,Ue=yield p.tryRedirectSignIn(d);(!Z||Z===Le)&&Ue?.user&&(L=Ue.user,B=!0)}if(!L)return p.directlySetCurrentUser(null);if(!L._redirectEventId){if(B)try{yield p.beforeStateQueue.runMiddleware(L)}catch(Z){L=I,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Z))}return L?p.reloadAndSetCurrentUserOrClear(L):p.directlySetCurrentUser(null)}return re(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===L._redirectEventId?p.directlySetCurrentUser(L):p.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(d){var p=this;return(0,M.Z)(function*(){let y=null;try{y=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,M.Z)(function*(){try{yield Zt(d)}catch(y){if("auth/network-request-failed"!==y?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function oi(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var d=this;return(0,M.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,M.Z)(function*(){const y=d?(0,N.m9)(d):null;return y&&re(y.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(y&&y._clone(p))})()}_updateCurrentUser(d,p=!1){var y=this;return(0,M.Z)(function*(){if(!y._deleted)return d&&re(y.tenantId===d.tenantId,y,"tenant-id-mismatch"),p||(yield y.beforeStateQueue.runMiddleware(d)),y.queue((0,M.Z)(function*(){yield y.directlySetCurrentUser(d),y.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,M.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,M.Z)(function*(){yield p.assertedPersistence.setPersistence(I2(d))}))}initializeRecaptchaConfig(){var d=this;return(0,M.Z)(function*(){const p=yield it(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),y=new z2(p);null==d.tenantId?d._agentRecaptchaConfig=y:d._tenantRecaptchaConfigs[d.tenantId]=y,y.emailPasswordEnabled&&new N3(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new N.LL("auth","Firebase",d())}onAuthStateChanged(d,p,y){return this.registerStateListener(this.authStateSubscription,d,p,y)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,y){return this.registerStateListener(this.idTokenSubscription,d,p,y)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var y=this;return(0,M.Z)(function*(){const I=yield y.getOrInitRedirectPersistenceManager(p);return null===d?I.removeCurrentUser():I.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,M.Z)(function*(){if(!p.redirectPersistenceManager){const y=d&&I2(d)||p._popupRedirectResolver;re(y,p,"argument-error"),p.redirectPersistenceManager=yield P.create(p,[I2(y._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,M.Z)(function*(){var y,I;return p._isInitialized&&(yield p.queue((0,M.Z)(function*(){}))),(null===(y=p._currentUser)||void 0===y?void 0:y._redirectEventId)===d?p._currentUser:(null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,M.Z)(function*(){if(d===p.currentUser)return p.queue((0,M.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,y,I){if(this._deleted)return()=>{};const L="function"==typeof p?p:p.next.bind(p),B=this._isInitialized?Promise.resolve():this._initializationPromise;return re(B,this,"internal-error"),B.then(()=>L(this.currentUser)),"function"==typeof p?d.addObserver(p,y,I):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,M.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=oe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,M.Z)(function*(){var p;const y={"X-Client-Version":d.clientVersion};d.app.options.appId&&(y["X-Firebase-gmpid"]=d.app.options.appId);const I=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();I&&(y["X-Firebase-Client"]=I);const L=yield d._getAppCheckToken();return L&&(y["X-Firebase-AppCheck"]=L),y})()}_getAppCheckToken(){var d=this;return(0,M.Z)(function*(){var p;const y=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return y?.error&&function rt(v,...d){at.logLevel<=me.in.WARN&&at.warn(`Auth (${se.SDK_VERSION}): ${v}`,...d)}(`Error while retrieving App Check token: ${y.error}`),y?.token})()}}function S2(v){return(0,N.m9)(v)}class Bi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,N.ne)(p=>this.observer=p)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function li(v){const d=v.indexOf(":");return d<0?"":v.substr(0,d+1)}function X4(v){if(!v)return null;const d=Number(v);return isNaN(d)?null:d}class Er{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return ct("not implemented")}_getIdTokenResponse(d){return ct("not implemented")}_linkToIdToken(d,p){return ct("not implemented")}_getReauthenticationResolver(d){return ct("not implemented")}}function ec(v,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,M.Z)(function*(v,d){return Ve(v,"POST","/v1/accounts:resetPassword",be(v,d))})).apply(this,arguments)}function J4(v,d){return ea.apply(this,arguments)}function ea(){return(ea=(0,M.Z)(function*(v,d){return Ve(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ls(){return(Ls=(0,M.Z)(function*(v,d){return Ve(v,"POST","/v1/accounts:update",be(v,d))})).apply(this,arguments)}function l1(v,d){return R3.apply(this,arguments)}function R3(){return(R3=(0,M.Z)(function*(v,d){return pt(v,"POST","/v1/accounts:signInWithPassword",be(v,d))})).apply(this,arguments)}function Ds(v,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,M.Z)(function*(v,d){return Ve(v,"POST","/v1/accounts:sendOobCode",be(v,d))})).apply(this,arguments)}function xs(){return(xs=(0,M.Z)(function*(v,d){return Ds(v,d)})).apply(this,arguments)}function ui(v,d){return O3.apply(this,arguments)}function O3(){return(O3=(0,M.Z)(function*(v,d){return Ds(v,d)})).apply(this,arguments)}function jt(v,d){return b2.apply(this,arguments)}function b2(){return(b2=(0,M.Z)(function*(v,d){return Ds(v,d)})).apply(this,arguments)}function Sr(){return(Sr=(0,M.Z)(function*(v,d){return Ds(v,d)})).apply(this,arguments)}function F3(){return(F3=(0,M.Z)(function*(v,d){return pt(v,"POST","/v1/accounts:signInWithEmailLink",be(v,d))})).apply(this,arguments)}function $i(){return($i=(0,M.Z)(function*(v,d){return pt(v,"POST","/v1/accounts:signInWithEmailLink",be(v,d))})).apply(this,arguments)}class As extends Er{constructor(d,p,y,I=null){super("password",y),this._email=d,this._password=p,this._tenantId=I}static _fromEmailAndPassword(d,p){return new As(d,p,"password")}static _fromEmailAndCode(d,p,y=null){return new As(d,p,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,M.Z)(function*(){var y;switch(p.signInMethod){case"password":const I={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=d._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const L=yield J1(d,I,"signInWithPassword");return l1(d,L)}return l1(d,I).catch(function(){var L=(0,M.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Z=yield J1(d,I,"signInWithPassword");return l1(d,Z)}return Promise.reject(B)});return function(B){return L.apply(this,arguments)}}());case"emailLink":return function C1(v,d){return F3.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:he(d,"internal-error")}})()}_linkToIdToken(d,p){var y=this;return(0,M.Z)(function*(){switch(y.signInMethod){case"password":return J4(d,{idToken:p,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function tc(v,d){return $i.apply(this,arguments)}(d,{idToken:p,email:y._email,oobCode:y._password});default:he(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function tn(v,d){return g2.apply(this,arguments)}function g2(){return(g2=(0,M.Z)(function*(v,d){return pt(v,"POST","/v1/accounts:signInWithIdp",be(v,d))})).apply(this,arguments)}class Mt extends Er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new Mt(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):he("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:I}=p,L=(0,ne._T)(p,["providerId","signInMethod"]);if(!y||!I)return null;const B=new Mt(y,I);return B.idToken=L.idToken||void 0,B.accessToken=L.accessToken||void 0,B.secret=L.secret,B.nonce=L.nonce,B.pendingToken=L.pendingToken||null,B}_getIdTokenResponse(d){return tn(d,this.buildRequest())}_linkToIdToken(d,p){const y=this.buildRequest();return y.idToken=p,tn(d,y)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,tn(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,N.xO)(p)}return d}}function M1(){return(M1=(0,M.Z)(function*(v,d){return Ve(v,"POST","/v1/accounts:sendVerificationCode",be(v,d))})).apply(this,arguments)}function i1(){return(i1=(0,M.Z)(function*(v,d){return pt(v,"POST","/v1/accounts:signInWithPhoneNumber",be(v,d))})).apply(this,arguments)}function u2(){return(u2=(0,M.Z)(function*(v,d){const p=yield pt(v,"POST","/v1/accounts:signInWithPhoneNumber",be(v,d));if(p.temporaryProof)throw p2(v,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Wn={USER_NOT_FOUND:"user-not-found"};function Vt(){return(Vt=(0,M.Z)(function*(v,d){return pt(v,"POST","/v1/accounts:signInWithPhoneNumber",be(v,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Wn)})).apply(this,arguments)}class s1 extends Er{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new s1({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new s1({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function Lr(v,d){return i1.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function Gi(v,d){return u2.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function fi(v,d){return Vt.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:y,verificationCode:I}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:y,code:I}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:y,phoneNumber:I,temporaryProof:L}=d;return y||p||I||L?new s1({verificationId:p,verificationCode:y,phoneNumber:I,temporaryProof:L}):null}}class f2{constructor(d){var p,y,I,L,B,Z;const Le=(0,N.zd)((0,N.pd)(d)),Ue=null!==(p=Le.apiKey)&&void 0!==p?p:null,tt=null!==(y=Le.oobCode)&&void 0!==y?y:null,nt=function nc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Le.mode)&&void 0!==I?I:null);re(Ue&&tt&&nt,"argument-error"),this.apiKey=Ue,this.operation=nt,this.code=tt,this.continueUrl=null!==(L=Le.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(B=Le.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(Z=Le.tenantId)&&void 0!==Z?Z:null}static parseLink(d){const p=function Kn(v){const d=(0,N.zd)((0,N.pd)(v)).link,p=d?(0,N.zd)((0,N.pd)(d)).deep_link_id:null,y=(0,N.zd)((0,N.pd)(v)).deep_link_id;return(y?(0,N.zd)((0,N.pd)(y)).link:null)||y||p||d||v}(d);try{return new f2(p)}catch{return null}}}let Dr=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(p,y){return As._fromEmailAndPassword(p,y)}static credentialWithLink(p,y){const I=f2.parseLink(y);return re(I,"argument-error"),As._fromEmailAndCode(p,I.code,I.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class a1{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class ar extends a1{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Zn extends ar{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return re("providerId"in p&&"signInMethod"in p,"argument-error"),Mt._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return re(d.idToken||d.accessToken,"argument-error"),Mt._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Zn.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Zn.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:y,oauthTokenSecret:I,pendingToken:L,nonce:B,providerId:Z}=d;if(!y&&!I&&!p&&!L||!Z)return null;try{return new Zn(Z)._credential({idToken:p,accessToken:y,nonce:B,pendingToken:L})}catch{return null}}}let or=(()=>{class v extends ar{constructor(){super("facebook.com")}static credential(p){return Mt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),nn=(()=>{class v extends ar{constructor(){super("google.com"),this.addScope("profile")}static credential(p,y){return Mt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:y})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:I}=p;if(!y&&!I)return null;try{return v.credential(y,I)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Ts=(()=>{class v extends ar{constructor(){super("github.com")}static credential(p){return Mt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return v.credential(p.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Tt extends Er{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return tn(d,this.buildRequest())}_linkToIdToken(d,p){const y=this.buildRequest();return y.idToken=p,tn(d,y)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,tn(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:y,signInMethod:I,pendingToken:L}=p;return y&&I&&L&&y===I?new Tt(y,L):null}static _create(d,p){return new Tt(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class di extends a1{constructor(d){re(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return di.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return di.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=Tt.fromJSON(d);return re(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:y}=d;if(!p||!y)return null;try{return Tt._create(y,p)}catch{return null}}}let Ns=(()=>{class v extends ar{constructor(){super("twitter.com")}static credential(p,y){return Mt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:y})}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:y,oauthTokenSecret:I}=p;if(!y||!I)return null;try{return v.credential(y,I)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function G2(v,d){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,M.Z)(function*(v,d){return pt(v,"POST","/v1/accounts:signUp",be(v,d))})).apply(this,arguments)}class q2{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,y,I=!1){return(0,M.Z)(function*(){const L=yield j2._fromIdTokenResponse(d,y,I),B=cr(y);return new q2({user:L,providerId:B,_tokenResponse:y,operationType:p})})()}static _forOperation(d,p,y){return(0,M.Z)(function*(){yield d._updateTokensIfNecessary(y,!0);const I=cr(y);return new q2({user:d,providerId:I,_tokenResponse:y,operationType:p})})()}}function cr(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function rc(){return(rc=(0,M.Z)(function*(v){var d;const p=S2(v);if(yield p._initializationPromise,null!==(d=p.currentUser)&&void 0!==d&&d.isAnonymous)return new q2({user:p.currentUser,providerId:null,operationType:"signIn"});const y=yield G2(p,{returnSecureToken:!0}),I=yield q2._fromIdTokenResponse(p,"signIn",y,!0);return yield p._updateCurrentUser(I.user),I})).apply(this,arguments)}class W2 extends N.ZR{constructor(d,p,y,I){var L;super(p.code,p.message),this.operationType=y,this.user=I,Object.setPrototypeOf(this,W2.prototype),this.customData={appName:d.name,tenantId:null!==(L=d.tenantId)&&void 0!==L?L:void 0,_serverResponse:p.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(d,p,y,I){return new W2(d,p,y,I)}}function _1(v,d,p,y){return("reauthenticate"===d?p._getReauthenticationResolver(v):p._getIdTokenResponse(v)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?W2._fromErrorAndOperation(v,L,d,y):L})}function ks(v){return new Set(v.map(({providerId:d})=>d).filter(d=>!!d))}function U1(){return U1=(0,M.Z)(function*(v,d){const p=(0,N.m9)(v);yield pi(!0,p,d);const{providerUserInfo:y}=yield function v1(v,d){return O1.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),I=ks(y||[]);return p.providerData=p.providerData.filter(L=>I.has(L.providerId)),I.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),U1.apply(this,arguments)}function T1(v,d){return hi.apply(this,arguments)}function hi(){return(hi=(0,M.Z)(function*(v,d,p=!1){const y=yield m2(v,d._linkToIdToken(v.auth,yield v.getIdToken()),p);return q2._forOperation(v,"link",y)})).apply(this,arguments)}function pi(v,d,p){return U3.apply(this,arguments)}function U3(){return(U3=(0,M.Z)(function*(v,d,p){yield Zt(d);const I=!1===v?"provider-already-linked":"no-such-provider";re(ks(d.providerData).has(p)===v,d.auth,I)})).apply(this,arguments)}function u0(v,d){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,M.Z)(function*(v,d,p=!1){const{auth:y}=v,I="reauthenticate";try{const L=yield m2(v,_1(y,I,d,v),p);re(L.idToken,y,"internal-error");const B=St(L.idToken);re(B,y,"internal-error");const{sub:Z}=B;return re(v.uid===Z,y,"user-mismatch"),q2._forOperation(v,I,L)}catch(L){throw"auth/user-not-found"===L?.code&&he(y,"user-mismatch"),L}})).apply(this,arguments)}function j3(v,d){return na.apply(this,arguments)}function na(){return(na=(0,M.Z)(function*(v,d,p=!1){const y="signIn",I=yield _1(v,y,d),L=yield q2._fromIdTokenResponse(v,y,I);return p||(yield v._updateCurrentUser(L.user)),L})).apply(this,arguments)}function $3(v,d){return ra.apply(this,arguments)}function ra(){return(ra=(0,M.Z)(function*(v,d){return j3(S2(v),d)})).apply(this,arguments)}function f0(v,d){return d2.apply(this,arguments)}function d2(){return(d2=(0,M.Z)(function*(v,d){const p=(0,N.m9)(v);return yield pi(!1,p,d.providerId),T1(p,d)})).apply(this,arguments)}function d0(v,d){return ic.apply(this,arguments)}function ic(){return(ic=(0,M.Z)(function*(v,d){return u0((0,N.m9)(v),d)})).apply(this,arguments)}function sc(){return(sc=(0,M.Z)(function*(v,d){return pt(v,"POST","/v1/accounts:signInWithCustomToken",be(v,d))})).apply(this,arguments)}function Yn(){return Yn=(0,M.Z)(function*(v,d){const p=S2(v),y=yield function Zl(v,d){return sc.apply(this,arguments)}(p,{token:d,returnSecureToken:!0}),I=yield q2._fromIdTokenResponse(p,"signIn",y);return yield p._updateCurrentUser(I.user),I}),Yn.apply(this,arguments)}class G3{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?mi._fromServerResponse(d,p):"totpInfo"in p?q3._fromServerResponse(d,p):he(d,"internal-error")}}class mi extends G3{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new mi(p)}}class q3 extends G3{constructor(d){super("totp",d)}static _fromServerResponse(d,p){return new q3(p)}}function qi(v,d,p){var y;re((null===(y=p.url)||void 0===y?void 0:y.length)>0,v,"invalid-continue-uri"),re(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(re(p.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(re(p.android.packageName.length>0,v,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function Wi(){return Wi=(0,M.Z)(function*(v,d,p){var y;const I=S2(v),L={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=I._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const B=yield J1(I,L,"getOobCode",!0);p&&qi(I,B,p),yield ui(I,B)}else p&&qi(I,L,p),yield ui(I,L).catch(function(){var B=(0,M.Z)(function*(Z){if("auth/missing-recaptcha-token"!==Z.code)return Promise.reject(Z);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Le=yield J1(I,L,"getOobCode",!0);p&&qi(I,Le,p),yield ui(I,Le)}});return function(Z){return B.apply(this,arguments)}}())}),Wi.apply(this,arguments)}function Rs(){return(Rs=(0,M.Z)(function*(v,d,p){yield ec((0,N.m9)(v),{oobCode:d,newPassword:p})})).apply(this,arguments)}function w1(){return w1=(0,M.Z)(function*(v,d){yield function en(v,d){return Ls.apply(this,arguments)}((0,N.m9)(v),{oobCode:d})}),w1.apply(this,arguments)}function Os(v,d){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,M.Z)(function*(v,d){const p=(0,N.m9)(v),y=yield ec(p,{oobCode:d}),I=y.requestType;switch(re(I,p,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(y.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(y.mfaInfo,p,"internal-error");default:re(y.email,p,"internal-error")}let L=null;return y.mfaInfo&&(L=G3._fromServerResponse(S2(p),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:L},operation:I}})).apply(this,arguments)}function gi(){return(gi=(0,M.Z)(function*(v,d){const{data:p}=yield Os((0,N.m9)(v),d);return p.email})).apply(this,arguments)}function Bs(){return Bs=(0,M.Z)(function*(v,d,p){var y;const I=S2(v),L={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(y=I._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const Ue=yield J1(I,L,"signUpPassword");B=G2(I,Ue)}else B=G2(I,L).catch(function(){var Ue=(0,M.Z)(function*(tt){if("auth/missing-recaptcha-token"===tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const nt=yield J1(I,L,"signUpPassword");return G2(I,nt)}return Promise.reject(tt)});return function(tt){return Ue.apply(this,arguments)}}());const Z=yield B.catch(Ue=>Promise.reject(Ue)),Le=yield q2._fromIdTokenResponse(I,"signIn",Z);return yield I._updateCurrentUser(Le.user),Le}),Bs.apply(this,arguments)}function H2(){return H2=(0,M.Z)(function*(v,d,p){var y;const I=S2(v),L={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function B(Z,Le){re(Le.handleCodeInApp,I,"argument-error"),Le&&qi(I,Z,Le)}if(null!==(y=I._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const Z=yield J1(I,L,"getOobCode",!0);B(Z,p),yield jt(I,Z)}else B(L,p),yield jt(I,L).catch(function(){var Z=(0,M.Z)(function*(Le){if("auth/missing-recaptcha-token"!==Le.code)return Promise.reject(Le);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ue=yield J1(I,L,"getOobCode",!0);B(Ue,p),yield jt(I,Ue)}});return function(Le){return Z.apply(this,arguments)}}())}),H2.apply(this,arguments)}function Us(){return(Us=(0,M.Z)(function*(v,d,p){const y=(0,N.m9)(v),I=Dr.credentialWithLink(d,p||e1());return re(I._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),$3(y,I)})).apply(this,arguments)}function Ki(){return(Ki=(0,M.Z)(function*(v,d){return Ve(v,"POST","/v1/accounts:createAuthUri",be(v,d))})).apply(this,arguments)}function oa(){return oa=(0,M.Z)(function*(v,d){const y={identifier:d,continueUri:S1()?e1():"http://localhost"},{signinMethods:I}=yield function js(v,d){return Ki.apply(this,arguments)}((0,N.m9)(v),y);return I||[]}),oa.apply(this,arguments)}function vi(){return vi=(0,M.Z)(function*(v,d){const p=(0,N.m9)(v),I={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};d&&qi(p.auth,I,d);const{email:L}=yield function ta(v,d){return xs.apply(this,arguments)}(p.auth,I);L!==v.email&&(yield v.reload())}),vi.apply(this,arguments)}function lr(){return lr=(0,M.Z)(function*(v,d,p){const y=(0,N.m9)(v),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:d};p&&qi(y.auth,L,p);const{email:B}=yield function y1(v,d){return Sr.apply(this,arguments)}(y.auth,L);B!==v.email&&(yield v.reload())}),lr.apply(this,arguments)}function lc(){return(lc=(0,M.Z)(function*(v,d){return Ve(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Gs(){return Gs=(0,M.Z)(function*(v,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const y=(0,N.m9)(v),L={idToken:yield y.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},B=yield m2(y,function cc(v,d){return lc.apply(this,arguments)}(y.auth,L));y.displayName=B.displayName||null,y.photoURL=B.photoUrl||null;const Z=y.providerData.find(({providerId:Le})=>"password"===Le);Z&&(Z.displayName=y.displayName,Z.photoURL=y.photoURL),yield y._updateTokensIfNecessary(B)}),Gs.apply(this,arguments)}function uc(v,d,p){return yi.apply(this,arguments)}function yi(){return(yi=(0,M.Z)(function*(v,d,p){const{auth:y}=v,L={idToken:yield v.getIdToken(),returnSecureToken:!0};d&&(L.email=d),p&&(L.password=p);const B=yield m2(v,J4(y,L));yield v._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class Pr{constructor(d,p,y={}){this.isNewUser=d,this.providerId=p,this.profile=y}}class Zi extends Pr{constructor(d,p,y,I){super(d,p,y),this.username=I}}class qs extends Pr{constructor(d,p){super(d,"facebook.com",p)}}class Ws extends Zi{constructor(d,p){super(d,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Ci extends Pr{constructor(d,p){super(d,"google.com",p)}}class Z3 extends Zi{constructor(d,p,y){super(d,"twitter.com",p,y)}}function Ks(v){const{user:d,_tokenResponse:p}=v;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ua(v){var d,p;if(!v)return null;const{providerId:y}=v,I=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},L=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!y&&v?.idToken){const B=null===(p=null===(d=St(v.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(B)return new Pr(L,"anonymous"!==B&&"custom"!==B?B:null)}if(!y)return null;switch(y){case"facebook.com":return new qs(L,I);case"github.com":return new Ws(L,I);case"google.com":return new Ci(L,I);case"twitter.com":return new Z3(L,I,v.screenName||null);case"custom":case"anonymous":return new Pr(L,null);default:return new Pr(L,y,I)}}(p)}class L2{constructor(d,p,y){this.type=d,this.credential=p,this.auth=y}static _fromIdtoken(d,p){return new L2("enroll",d,p)}static _fromMfaPendingCredential(d){return new L2("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,y;if(d?.multiFactorSession){if(null!==(p=d.multiFactorSession)&&void 0!==p&&p.pendingCredential)return L2._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(y=d.multiFactorSession)&&void 0!==y&&y.idToken)return L2._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Yi{constructor(d,p,y){this.session=d,this.hints=p,this.signInResolver=y}static _fromError(d,p){const y=S2(d),I=p.customData._serverResponse,L=(I.mfaInfo||[]).map(Z=>G3._fromServerResponse(y,Z));re(I.mfaPendingCredential,y,"internal-error");const B=L2._fromMfaPendingCredential(I.mfaPendingCredential);return new Yi(B,L,function(){var Z=(0,M.Z)(function*(Le){const Ue=yield Le._process(y,B);delete I.mfaInfo,delete I.mfaPendingCredential;const tt=Object.assign(Object.assign({},I),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(p.operationType){case"signIn":const nt=yield q2._fromIdTokenResponse(y,p.operationType,tt);return yield y._updateCurrentUser(nt.user),nt;case"reauthenticate":return re(p.user,y,"internal-error"),q2._forOperation(p.user,p.operationType,tt);default:he(y,"internal-error")}});return function(Le){return Z.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,M.Z)(function*(){return p.signInResolver(d)})()}}class Rr{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(y=>G3._fromServerResponse(d.auth,y)))})}static _fromUser(d){return new Rr(d)}getSession(){var d=this;return(0,M.Z)(function*(){return L2._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,p){var y=this;return(0,M.Z)(function*(){const I=d,L=yield y.getSession(),B=yield m2(y.user,I._process(y.user.auth,L,p));return yield y.user._updateTokensIfNecessary(B),y.user.reload()})()}unenroll(d){var p=this;return(0,M.Z)(function*(){const y="string"==typeof d?d:d.uid,I=yield p.user.getIdToken();try{const L=yield m2(p.user,function n4(v,d){return Ve(v,"POST","/v2/accounts/mfaEnrollment:withdraw",be(v,d))}(p.user.auth,{idToken:I,mfaEnrollmentId:y}));p.enrolledFactors=p.enrolledFactors.filter(({uid:B})=>B!==y),yield p.user._updateTokensIfNecessary(L),yield p.user.reload()}catch(L){throw L}})()}}const Or=new WeakMap,It="__sak";class Ys{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(It,"1"),this.storage.removeItem(It),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const fr=(()=>{class v extends Ys{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,y)=>this.onStorageEvent(p,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function h0(){const v=(0,N.z$)();return ee(v)||C2(v)}()&&function Oi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const y of Object.keys(this.listeners)){const I=this.storage.getItem(y),L=this.localCache[y];I!==L&&p(y,L,I)}}onStorageEvent(p,y=!1){if(!p.key)return void this.forAllChangedKeys((Z,Le,Ue)=>{this.notifyListeners(Z,Ue)});const I=p.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(I);if(p.newValue!==Z)null!==p.newValue?this.storage.setItem(I,p.newValue):this.storage.removeItem(I);else if(this.localCache[I]===p.newValue&&!y)return}const L=()=>{const Z=this.storage.getItem(I);!y&&this.localCache[I]===Z||this.notifyListeners(I,Z)},B=this.storage.getItem(I);!function Sn(){return(0,N.w1)()&&10===document.documentMode}()||B===p.newValue||p.newValue===p.oldValue?L():setTimeout(L,10)}notifyListeners(p,y){this.localCache[p]=y;const I=this.listeners[p];if(I)for(const L of Array.from(I))L(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,y,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:y,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,y){var I=()=>super._set,L=this;return(0,M.Z)(function*(){yield I().call(L,p,y),L.localCache[p]=JSON.stringify(y)})()}_get(p){var y=()=>super._get,I=this;return(0,M.Z)(function*(){const L=yield y().call(I,p);return I.localCache[p]=JSON.stringify(L),L})()}_remove(p){var y=()=>super._remove,I=this;return(0,M.Z)(function*(){yield y().call(I,p),delete I.localCache[p]})()}}return v.type="LOCAL",v})(),Fr=(()=>{class v extends Ys{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,y){}_removeListener(p,y){}}return v.type="SESSION",v})();let ha=(()=>{class v{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const y=this.receivers.find(L=>L.isListeningto(p));if(y)return y;const I=new v(p);return this.receivers.push(I),I}isListeningto(p){return this.eventTarget===p}handleEvent(p){var y=this;return(0,M.Z)(function*(){const I=p,{eventId:L,eventType:B,data:Z}=I.data,Le=y.handlersMap[B];if(!Le?.size)return;I.ports[0].postMessage({status:"ack",eventId:L,eventType:B});const Ue=Array.from(Le).map(function(){var nt=(0,M.Z)(function*(h2){return h2(I.origin,Z)});return function(h2){return nt.apply(this,arguments)}}()),tt=yield function m0(v){return Promise.all(v.map(function(){var d=(0,M.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(y){return{fulfilled:!1,reason:y}}});return function(p){return d.apply(this,arguments)}}()))}(Ue);I.ports[0].postMessage({status:"done",eventId:L,eventType:B,response:tt})})()}_subscribe(p,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(y)}_unsubscribe(p,y){this.handlersMap[p]&&y&&this.handlersMap[p].delete(y),(!y||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function r4(v="",d=10){let p="";for(let y=0;y<d;y++)p+=Math.floor(10*Math.random());return v+p}class hc{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,y=50){var I=this;return(0,M.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let B,Z;return new Promise((Le,Ue)=>{const tt=r4("",20);L.port1.start();const nt=setTimeout(()=>{Ue(new Error("unsupported_event"))},y);Z={messageChannel:L,onMessage(h2){const cn=h2;if(cn.data.eventId===tt)switch(cn.data.status){case"ack":clearTimeout(nt),B=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Le(cn.data.response);break;default:clearTimeout(nt),clearTimeout(B),Ue(new Error("invalid_response"))}}},I.handlers.add(Z),L.port1.addEventListener("message",Z.onMessage),I.target.postMessage({eventType:d,eventId:tt,data:p},[L.port2])}).finally(()=>{Z&&I.removeMessageHandler(Z)})})()}}function fe(){return window}function i4(){return typeof fe().WorkerGlobalScope<"u"&&"function"==typeof fe().importScripts}function D2(){return(D2=(0,M.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const sn="firebaseLocalStorageDb",Br="firebaseLocalStorage",pa="fbase_key";class e3{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function t3(v,d){return v.transaction([Br],d?"readwrite":"readonly").objectStore(Br)}function gn(){const v=indexedDB.open(sn,1);return new Promise((d,p)=>{v.addEventListener("error",()=>{p(v.error)}),v.addEventListener("upgradeneeded",()=>{const y=v.result;try{y.createObjectStore(Br,{keyPath:pa})}catch(I){p(I)}}),v.addEventListener("success",(0,M.Z)(function*(){const y=v.result;y.objectStoreNames.contains(Br)?d(y):(y.close(),yield function N1(){const v=indexedDB.deleteDatabase(sn);return new e3(v).toPromise()}(),d(yield gn()))}))})}function Mi(v,d,p){return H1.apply(this,arguments)}function H1(){return(H1=(0,M.Z)(function*(v,d,p){const y=t3(v,!0).put({[pa]:d,value:p});return new e3(y).toPromise()})).apply(this,arguments)}function s4(){return(s4=(0,M.Z)(function*(v,d){const p=t3(v,!1).get(d),y=yield new e3(p).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function Xi(v,d){const p=t3(v,!0).delete(d);return new e3(p).toPromise()}const Ur=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,M.Z)(function*(){return p.db||(p.db=yield gn()),p.db})()}_withRetries(p){var y=this;return(0,M.Z)(function*(){let I=0;for(;;)try{const L=yield y._openDb();return yield p(L)}catch(L){if(I++>3)throw L;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,M.Z)(function*(){return i4()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,M.Z)(function*(){p.receiver=ha._getInstance(function M2(){return i4()?self:null}()),p.receiver._subscribe("keyChanged",function(){var y=(0,M.Z)(function*(I,L){return{keyProcessed:(yield p._poll()).includes(L.key)}});return function(I,L){return y.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var y=(0,M.Z)(function*(I,L){return["keyChanged"]});return function(I,L){return y.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,M.Z)(function*(){var y,I;if(p.activeServiceWorker=yield function pc(){return D2.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new hc(p.activeServiceWorker);const L=yield p.sender._send("ping",{},800);L&&null!==(y=L[0])&&void 0!==y&&y.fulfilled&&null!==(I=L[0])&&void 0!==I&&I.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var y=this;return(0,M.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Js(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:p},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,M.Z)(function*(){try{if(!indexedDB)return!1;const p=yield gn();return yield Mi(p,It,"1"),yield Xi(p,It),!0}catch{}return!1})()}_withPendingWrite(p){var y=this;return(0,M.Z)(function*(){y.pendingWrites++;try{yield p()}finally{y.pendingWrites--}})()}_set(p,y){var I=this;return(0,M.Z)(function*(){return I._withPendingWrite((0,M.Z)(function*(){return yield I._withRetries(L=>Mi(L,p,y)),I.localCache[p]=y,I.notifyServiceWorker(p)}))})()}_get(p){var y=this;return(0,M.Z)(function*(){const I=yield y._withRetries(L=>function vn(v,d){return s4.apply(this,arguments)}(L,p));return y.localCache[p]=I,I})()}_remove(p){var y=this;return(0,M.Z)(function*(){return y._withPendingWrite((0,M.Z)(function*(){return yield y._withRetries(I=>Xi(I,p)),delete y.localCache[p],y.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,M.Z)(function*(){const y=yield p._withRetries(B=>{const Z=t3(B,!1).getAll();return new e3(Z).toPromise()});if(!y)return[];if(0!==p.pendingWrites)return[];const I=[],L=new Set;for(const{fbase_key:B,value:Z}of y)L.add(B),JSON.stringify(p.localCache[B])!==JSON.stringify(Z)&&(p.notifyListeners(B,Z),I.push(B));for(const B of Object.keys(p.localCache))p.localCache[B]&&!L.has(B)&&(p.notifyListeners(B,null),I.push(B));return I})()}notifyListeners(p,y){this.localCache[p]=y;const I=this.listeners[p];if(I)for(const L of Array.from(I))L(y)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,M.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),_i=1e12;class ya{constructor(d){this.auth=d,this.counter=_i,this._widgets=new Map}render(d,p){const y=this.counter;return this._widgets.set(y,new Ji(d,this.auth.name,p||{})),this.counter++,y}reset(d){var p;const y=d||_i;null===(p=this._widgets.get(y))||void 0===p||p.delete(),this._widgets.delete(y)}getResponse(d){var p;return(null===(p=this._widgets.get(d||_i))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,M.Z)(function*(){var y;return null===(y=p._widgets.get(d||_i))||void 0===y||y.execute(),""})()}}class Ji{constructor(d,p,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof d?document.getElementById(d):d;re(I,"argument-error",{appName:p}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ca(v){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<v;y++)d.push(p.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wi=Ln("rcb"),Ma=new $n(3e4,6e4);class k1{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=fe().grecaptcha)||void 0===d||!d.render)}load(d,p=""){return re(function dr(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(p),d,"argument-error"),this.shouldResolveImmediately(p)&&xt(fe().grecaptcha)?Promise.resolve(fe().grecaptcha):new Promise((y,I)=>{const L=fe().setTimeout(()=>{I(Q(d,"network-request-failed"))},Ma.get());fe()[wi]=()=>{fe().clearTimeout(L),delete fe()[wi];const Z=fe().grecaptcha;if(!Z||!xt(Z))return void I(Q(d,"internal-error"));const Le=Z.render;Z.render=(Ue,tt)=>{const nt=Le(Ue,tt);return this.counter++,nt},this.hostLanguage=p,y(Z)},r1(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:wi,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(L),I(Q(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var p;return!(null===(p=fe().grecaptcha)||void 0===p||!p.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _2{load(d){return(0,M.Z)(function*(){return new ya(d)})()}clearedOneInstance(){}}const c4="recaptcha",y0={theme:"light",type:"image"};class wa{constructor(d,p=Object.assign({},y0),y){this.parameters=p,this.type=c4,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=S2(y),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof d?document.getElementById(d):d;re(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _2:new k1,this.validateStartingState()}verify(){var d=this;return(0,M.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),y=d.getAssertedRecaptcha();return y.getResponse(p)||new Promise(L=>{const B=Z=>{Z&&(d.tokenChangeListeners.delete(B),L(Z))};d.tokenChangeListeners.add(B),d.isInvisible&&y.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(y=>y(p)),"function"==typeof d)d(p);else if("string"==typeof d){const y=fe()[d];"function"==typeof y&&y(p)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,M.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const y=document.createElement("div");p.appendChild(y),p=y}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,M.Z)(function*(){re(S1()&&!i4(),d.auth,"internal-error"),yield function C0(){let v=null;return new Promise(d=>{"complete"!==document.readyState?(v=()=>d(),window.addEventListener("load",v)):d()}).catch(d=>{throw v&&window.removeEventListener("load",v),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function X(v){return ze.apply(this,arguments)}(d.auth);re(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bi{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=s1._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function hr(){return(hr=(0,M.Z)(function*(v,d,p){const y=S2(v),I=yield mr(y,d,(0,N.m9)(p));return new bi(I,L=>$3(y,L))})).apply(this,arguments)}function es(){return(es=(0,M.Z)(function*(v,d,p){const y=(0,N.m9)(v);yield pi(!1,y,"phone");const I=yield mr(y.auth,d,(0,N.m9)(p));return new bi(I,L=>f0(y,L))})).apply(this,arguments)}function jr(){return(jr=(0,M.Z)(function*(v,d,p){const y=(0,N.m9)(v),I=yield mr(y.auth,d,(0,N.m9)(p));return new bi(I,L=>d0(y,L))})).apply(this,arguments)}function mr(v,d,p){return ts.apply(this,arguments)}function ts(){return ts=(0,M.Z)(function*(v,d,p){var y;const I=yield p.verify();try{let L;if(re("string"==typeof I,v,"argument-error"),re(p.type===c4,v,"argument-error"),L="string"==typeof d?{phoneNumber:d}:d,"session"in L){const B=L.session;if("phoneNumber"in L)return re("enroll"===B.type,v,"internal-error"),(yield function e4(v,d){return Ve(v,"POST","/v2/accounts/mfaEnrollment:start",be(v,d))}(v,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{re("signin"===B.type,v,"internal-error");const Z=(null===(y=L.multiFactorHint)||void 0===y?void 0:y.uid)||L.multiFactorUid;return re(Z,v,"missing-multi-factor-info"),(yield function a4(v,d){return Ve(v,"POST","/v2/accounts/mfaSignIn:start",be(v,d))}(v,{mfaPendingCredential:B.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function l2(v,d){return M1.apply(this,arguments)}(v,{phoneNumber:L.phoneNumber,recaptchaToken:I});return B}}finally{p._reset()}}),ts.apply(this,arguments)}function r3(){return(r3=(0,M.Z)(function*(v,d){yield T1((0,N.m9)(v),d)})).apply(this,arguments)}let $r=(()=>{class v{constructor(p){this.providerId=v.PROVIDER_ID,this.auth=S2(p)}verifyPhoneNumber(p,y){return mr(this.auth,p,(0,N.m9)(y))}static credential(p,y){return s1._fromVerification(p,y)}static credentialFromResult(p){return v.credentialFromTaggedObject(p)}static credentialFromError(p){return v.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:y,temporaryProof:I}=p;return y&&I?s1._fromTokenResponse(y,I):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function j1(v,d){return d?I2(d):(re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class f1 extends Er{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return tn(d,this._buildIdpRequest())}_linkToIdToken(d,p){return tn(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return tn(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function Ha(v){return j3(v.auth,new f1(v),v.bypassAuthState)}function Va(v){const{auth:d,user:p}=v;return re(p,d,"internal-error"),u0(p,new f1(v),v.bypassAuthState)}function Vi(v){return l4.apply(this,arguments)}function l4(){return(l4=(0,M.Z)(function*(v){const{auth:d,user:p}=v;return re(p,d,"internal-error"),T1(p,new f1(v),v.bypassAuthState)})).apply(this,arguments)}class i3{constructor(d,p,y,I,L=!1){this.auth=d,this.resolver=y,this.user=I,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,M.Z)(function*(y,I){d.pendingPromise={resolve:y,reject:I};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(L){d.reject(L)}});return function(y,I){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,M.Z)(function*(){const{urlResponse:y,sessionId:I,postBody:L,tenantId:B,error:Z,type:Le}=d;if(Z)return void p.reject(Z);const Ue={auth:p.auth,requestUri:y,sessionId:I,tenantId:B||void 0,postBody:L||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Le)(Ue))}catch(tt){p.reject(tt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Ha;case"linkViaPopup":case"linkViaRedirect":return Vi;case"reauthViaPopup":case"reauthViaRedirect":return Va;default:he(this.auth,"internal-error")}}resolve(d){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xn=new $n(2e3,1e4);function za(){return(za=(0,M.Z)(function*(v,d,p){const y=S2(v);xe(v,d,a1);const I=j1(y,p);return new ns(y,"signInViaPopup",d,I).executeNotNull()})).apply(this,arguments)}function Gr(){return(Gr=(0,M.Z)(function*(v,d,p){const y=(0,N.m9)(v);xe(y.auth,d,a1);const I=j1(y.auth,p);return new ns(y.auth,"reauthViaPopup",d,I,y).executeNotNull()})).apply(this,arguments)}function qr(){return(qr=(0,M.Z)(function*(v,d,p){const y=(0,N.m9)(v);xe(y.auth,d,a1);const I=j1(y.auth,p);return new ns(y.auth,"linkViaPopup",d,I,y).executeNotNull()})).apply(this,arguments)}let ns=(()=>{class v extends i3{constructor(p,y,I,L,B){super(p,y,L,B),this.provider=I,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var p=this;return(0,M.Z)(function*(){const y=yield p.execute();return re(y,p.auth,"internal-error"),y})()}onExecution(){var p=this;return(0,M.Z)(function*(){Pt(1===p.filter.length,"Popup operations only handle one event");const y=r4();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],y),p.authWindow.associatedEvent=y,p.resolver._originValidation(p.auth).catch(I=>{p.reject(I)}),p.resolver._isIframeWebStorageSupported(p.auth,I=>{I||p.reject(Q(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Q(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const p=()=>{var y,I;this.pollId=null!==(I=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Q(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,xn.get())};p()}}return v.currentPopupAction=null,v})();const gr="pendingRedirect",f4=new Map;class vc extends i3{constructor(d,p,y=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,y),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,M.Z)(function*(){let y=f4.get(p.auth._key());if(!y){try{const L=(yield function s3(v,d){return Ea.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;y=()=>Promise.resolve(L)}catch(I){y=()=>Promise.reject(I)}f4.set(p.auth._key(),y)}return p.bypassAuthState||f4.set(p.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,y=this;return(0,M.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(y,d);if("unknown"!==d.type){if(d.eventId){const I=yield y.auth._redirectUserForId(d.eventId);if(I)return y.user=I,p().call(y,d);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,M.Z)(function*(){})()}cleanUp(){}}function Ea(){return(Ea=(0,M.Z)(function*(v,d){const p=Ii(d),y=La(v);if(!(yield y._isAvailable()))return!1;const I="true"===(yield y._get(p));return yield y._remove(p),I})).apply(this,arguments)}function yn(v,d){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,M.Z)(function*(v,d){return La(v)._set(Ii(d),"true")})).apply(this,arguments)}function rs(v,d){f4.set(v._key(),d)}function La(v){return I2(v._redirectPersistence)}function Ii(v){return F(gr,v.config.apiKey,v.name)}function is(v,d,p){return function yc(v,d,p){return o3.apply(this,arguments)}(v,d,p)}function o3(){return(o3=(0,M.Z)(function*(v,d,p){const y=S2(v);xe(v,d,a1),yield y._initializationPromise;const I=j1(y,p);return yield yn(I,y),I._openRedirect(y,d,"signInViaRedirect")})).apply(this,arguments)}function d4(v,d,p){return function Da(v,d,p){return ss.apply(this,arguments)}(v,d,p)}function ss(){return(ss=(0,M.Z)(function*(v,d,p){const y=(0,N.m9)(v);xe(y.auth,d,a1),yield y.auth._initializationPromise;const I=j1(y.auth,p);yield yn(I,y.auth);const L=yield xa(y);return I._openRedirect(y.auth,d,"reauthViaRedirect",L)})).apply(this,arguments)}function Cc(v,d,p){return function h4(v,d,p){return An.apply(this,arguments)}(v,d,p)}function An(){return(An=(0,M.Z)(function*(v,d,p){const y=(0,N.m9)(v);xe(y.auth,d,a1),yield y.auth._initializationPromise;const I=j1(y.auth,p);yield pi(!1,y,d.providerId),yield yn(I,y.auth);const L=yield xa(y);return I._openRedirect(y.auth,d,"linkViaRedirect",L)})).apply(this,arguments)}function c3(){return(c3=(0,M.Z)(function*(v,d){return yield S2(v)._initializationPromise,as(v,d,!1)})).apply(this,arguments)}function as(v,d){return vr.apply(this,arguments)}function vr(){return(vr=(0,M.Z)(function*(v,d,p=!1){const y=S2(v),I=j1(y,d),B=yield new vc(y,I,p).execute();return B&&!p&&(delete B.user._redirectEventId,yield y._persistUserIfCurrent(B.user),yield y._setRedirectUser(null,d)),B})).apply(this,arguments)}function xa(v){return Z2.apply(this,arguments)}function Z2(){return(Z2=(0,M.Z)(function*(v){const d=r4(`${v.uid}:::`);return v._redirectEventId=d,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),d})).apply(this,arguments)}class Aa{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(d,y)&&(p=!0,this.sendToConsumer(d,y),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function u3(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l3(v);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var y;if(d.error&&!l3(d)){const I=(null===(y=d.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";p.onError(Q(this.auth,I))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const y=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&y}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zi(d))}saveEventToCache(d){this.cachedEventUids.add(zi(d)),this.lastProcessedEventTime=Date.now()}}function zi(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(d=>d).join("-")}function l3({type:v,error:d}){return"unknown"===v&&"auth/no-auth-event"===d?.code}function Wr(v){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,M.Z)(function*(v,d={}){return Ve(v,"GET","/v1/projects",d)})).apply(this,arguments)}const Xn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^https?/;function f3(){return(f3=(0,M.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:d}=yield Wr(v);for(const p of d)try{if(os(p))return}catch{}he(v,"unauthorized-domain")})).apply(this,arguments)}function os(v){const d=e1(),{protocol:p,hostname:y}=new URL(d);if(v.startsWith("chrome-extension://")){const B=new URL(v);return""===B.hostname&&""===y?"chrome-extension:"===p&&v.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&B.hostname===y}if(!yr.test(p))return!1;if(Xn.test(v))return y===v;const I=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(y)}const wc=new $n(3e4,6e4);function Na(){const v=fe().___jsl;if(v?.H)for(const d of Object.keys(v.H))if(v.H[d].r=v.H[d].r||[],v.H[d].L=v.H[d].L||[],v.H[d].r=[...v.H[d].L],v.CP)for(let p=0;p<v.CP.length;p++)v.CP[p]=null}let d3=null;const M0=new $n(5e3,15e3),Ei="__/auth/iframe",_0="emulator/auth/iframe",an={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w0(v){const d=v.config;re(d.authDomain,v,"auth-domain-config-required");const p=d.emulator?ae(d,_0):`https://${v.config.authDomain}/${Ei}`,y={apiKey:d.apiKey,appName:v.name,v:se.SDK_VERSION},I=Hc.get(v.config.apiHost);I&&(y.eid=I);const L=v._getFrameworks();return L.length&&(y.fw=L.join(",")),`${p}?${(0,N.xO)(y).slice(1)}`}function h3(){return h3=(0,M.Z)(function*(v){const d=yield function bc(v){return d3=d3||function cs(v){return new Promise((d,p)=>{var y,I,L;function B(){Na(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Na(),p(Q(v,"network-request-failed"))},timeout:wc.get()})}if(null!==(I=null===(y=fe().gapi)||void 0===y?void 0:y.iframes)&&void 0!==I&&I.Iframe)d(gapi.iframes.getContext());else{if(null===(L=fe().gapi)||void 0===L||!L.load){const Z=Ln("iframefcb");return fe()[Z]=()=>{gapi.load?B():p(Q(v,"network-request-failed"))},r1(`https://apis.google.com/js/api.js?onload=${Z}`).catch(Le=>p(Le))}B()}}).catch(d=>{throw d3=null,d})}(v),d3}(v),p=fe().gapi;return re(p,v,"internal-error"),d.open({where:document.body,url:w0(v),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:an,dontclear:!0},y=>new Promise(function(){var I=(0,M.Z)(function*(L,B){yield y.restyle({setHideOnLeave:!1});const Z=Q(v,"network-request-failed"),Le=fe().setTimeout(()=>{B(Z)},M0.get());function Ue(){fe().clearTimeout(Le),L(y)}y.ping(Ue).then(Ue,()=>{B(Z)})});return function(L,B){return I.apply(this,arguments)}}()))}),h3.apply(this,arguments)}const ls={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class A{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const le="__/auth/handler",$e="emulator/auth/handler",Ne=encodeURIComponent("fac");function Fe(v,d,p,y,I,L){return zt.apply(this,arguments)}function zt(){return(zt=(0,M.Z)(function*(v,d,p,y,I,L){re(v.config.authDomain,v,"auth-domain-config-required"),re(v.config.apiKey,v,"invalid-api-key");const B={apiKey:v.config.apiKey,appName:v.name,authType:p,redirectUrl:y,v:se.SDK_VERSION,eventId:I};if(d instanceof a1){d.setDefaultLanguage(v.languageCode),B.providerId=d.providerId||"",(0,N.xb)(d.getCustomParameters())||(B.customParameters=JSON.stringify(d.getCustomParameters()));for(const[tt,nt]of Object.entries(L||{}))B[tt]=nt}if(d instanceof ar){const tt=d.getScopes().filter(nt=>""!==nt);tt.length>0&&(B.scopes=tt.join(","))}v.tenantId&&(B.tid=v.tenantId);const Z=B;for(const tt of Object.keys(Z))void 0===Z[tt]&&delete Z[tt];const Le=yield v._getAppCheckToken(),Ue=Le?`#${Ne}=${encodeURIComponent(Le)}`:"";return`${function bt({config:v}){return v.emulator?ae(v,$e):`https://${v.authDomain}/${le}`}(v)}?${(0,N.xO)(Z).slice(1)}${Ue}`})).apply(this,arguments)}const $1="webStorageSupport",Si=class Y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fr,this._completeRedirectFn=as,this._overrideRedirectResult=rs}_openPopup(d,p,y,I){var L=this;return(0,M.Z)(function*(){var B;Pt(null===(B=L.eventManagers[d._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const Z=yield Fe(d,p,y,e1(),I);return function U(v,d,p,y=500,I=600){const L=Math.max((window.screen.availHeight-I)/2,0).toString(),B=Math.max((window.screen.availWidth-y)/2,0).toString();let Z="";const Le=Object.assign(Object.assign({},ls),{width:y.toString(),height:I.toString(),top:L,left:B}),Ue=(0,N.z$)().toLowerCase();p&&(Z=Ke(Ue)?"_blank":p),Me(Ue)&&(d=d||"http://localhost",Le.scrollbars="yes");const tt=Object.entries(Le).reduce((h2,[cn,C3])=>`${h2}${cn}=${C3},`,"");if(function T2(v=(0,N.z$)()){var d;return C2(v)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Ue)&&"_self"!==Z)return function W(v,d){const p=document.createElement("a");p.href=v,p.target=d;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(y)}(d||"",Z),new A(null);const nt=window.open(d||"",Z,tt);re(nt,v,"popup-blocked");try{nt.focus()}catch{}return new A(nt)}(d,Z,r4())})()}_openRedirect(d,p,y,I){var L=this;return(0,M.Z)(function*(){return yield L._originValidation(d),function qt(v){fe().location.href=v}(yield Fe(d,p,y,e1(),I)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:I,promise:L}=this.eventManagers[p];return I?Promise.resolve(I):(Pt(L,"If manager is not set, promise should be"),L)}const y=this.initAndGetManager(d);return this.eventManagers[p]={promise:y},y.catch(()=>{delete this.eventManagers[p]}),y}initAndGetManager(d){var p=this;return(0,M.Z)(function*(){const y=yield function x2(v){return h3.apply(this,arguments)}(d),I=new Aa(d);return y.register("authEvent",L=>(re(L?.authEvent,d,"invalid-auth-event"),{status:I.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:I},p.iframes[d._key()]=y,I})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send($1,{type:$1},I=>{var L;const B=null===(L=I?.[0])||void 0===L?void 0:L[$1];void 0!==B&&p(!!B),he(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ta(v){return f3.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return qn()||ee()||C2()}};class p4{constructor(d){this.factorId=d}_process(d,p,y){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,y);case"signin":return this._finalizeSignIn(d,p.credential);default:return ct("unexpected MultiFactorSessionType")}}}class Kr extends p4{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Kr(d)}_finalizeEnroll(d,p,y){return function ur(v,d){return Ve(v,"POST","/v2/accounts/mfaEnrollment:finalize",be(v,d))}(d,{idToken:p,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function ga(v,d){return Ve(v,"POST","/v2/accounts/mfaSignIn:finalize",be(v,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let on=(()=>{class v{constructor(){}static assertion(p){return Kr._fromCredential(p)}}return v.FACTOR_ID="phone",v})();var b0="@firebase/auth";class Xl{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,M.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(y=>{d(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fs(){return window}(0,N.Pz)("authIdTokenMaxAge"),function Jl(v){(0,se._registerComponent)(new ge.wA("auth",(d,{options:p})=>{const y=d.getProvider("app").getImmediate(),I=d.getProvider("heartbeat"),L=d.getProvider("app-check-internal"),{apiKey:B,authDomain:Z}=y.options;re(B&&!B.includes(":"),"invalid-api-key",{appName:y.name});const Le={apiKey:B,authDomain:Z,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oe(v)},Ue=new k3(y,I,L,Le);return function Jo(v,d){const p=d?.persistence||[],y=(Array.isArray(p)?p:[p]).map(I2);d?.errorMap&&v._updateErrorMap(d.errorMap),v._initializeWithPersistence(y,d?.popupRedirectResolver)}(Ue,p),Ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,y)=>{d.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ge.wA("auth-internal",d=>{const p=S2(d.getProvider("auth").getImmediate());return new Xl(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(b0,"0.23.2",function Ic(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,se.registerVersion)(b0,"0.23.2","esm2017")}("Browser");function zc(){return zc=(0,M.Z)(function*(v,d,p){var y;const{BuildInfo:I}=fs();Pt(d.sessionId,"AuthEvent did not contain a session ID");const L=yield function n5(v){return g3.apply(this,arguments)}(d.sessionId),B={};return C2()?B.ibi=I.packageName:wt()?B.apn=I.packageName:he(v,"operation-not-supported-in-this-environment"),I.displayName&&(B.appDisplayName=I.displayName),B.sessionId=L,Fe(v,p,d.type,void 0,null!==(y=d.eventId)&&void 0!==y?y:void 0,B)}),zc.apply(this,arguments)}function y4(){return(y4=(0,M.Z)(function*(v){const{BuildInfo:d}=fs(),p={};C2()?p.iosBundleId=d.packageName:wt()?p.androidPackageName=d.packageName:he(v,"operation-not-supported-in-this-environment"),yield Wr(v,p)})).apply(this,arguments)}function Ec(){return(Ec=(0,M.Z)(function*(v,d,p){const{cordova:y}=fs();let I=()=>{};try{yield new Promise((L,B)=>{let Z=null;function Le(){var nt;L();const h2=null===(nt=y.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof h2&&h2(),"function"==typeof p?.close&&p.close()}function Ue(){Z||(Z=window.setTimeout(()=>{B(Q(v,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===document?.visibilityState&&Ue()}d.addPassiveListener(Le),document.addEventListener("resume",Ue,!1),wt()&&document.addEventListener("visibilitychange",tt,!1),I=()=>{d.removePassiveListener(Le),document.removeEventListener("resume",Ue,!1),document.removeEventListener("visibilitychange",tt,!1),Z&&window.clearTimeout(Z)}})}finally{I()}})).apply(this,arguments)}function g3(){return(g3=(0,M.Z)(function*(v){const d=function I0(v){if(Pt(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const d=new ArrayBuffer(v.length),p=new Uint8Array(d);for(let y=0;y<v.length;y++)p[y]=v.charCodeAt(y);return p}(v),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class E0 extends Aa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,M.Z)(function*(){yield d.initPromise})()}}function r5(v){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,M.Z)(function*(v){const d=yield x0()._get(Pa(v));return d&&(yield x0()._remove(Pa(v))),d})).apply(this,arguments)}function Lc(){const v=[];for(let p=0;p<20;p++){const y=Math.floor(62*Math.random());v.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(y))}return v.join("")}function x0(){return I2(fr)}function Pa(v){return F("authEvent",v.config.apiKey,v.name)}function Ra(v){if(!v?.includes("?"))return{};const[d,...p]=v.split("?");return(0,N.zd)(p.join("?"))}const V9=class H9{constructor(){this._redirectPersistence=Fr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=as,this._overrideRedirectResult=rs}_initialize(d){var p=this;return(0,M.Z)(function*(){const y=d._key();let I=p.eventManagers.get(y);return I||(I=new E0(d),p.eventManagers.set(y,I),p.attachCallbackListeners(d,I)),I})()}_openPopup(d){he(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,y,I){var L=this;return(0,M.Z)(function*(){!function t5(v){var d,p,y,I,L,B,Z,Le,Ue,tt;const nt=fs();re("function"==typeof(null===(d=nt?.universalLinks)||void 0===d?void 0:d.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(typeof(null===(p=nt?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(L=null===(I=null===(y=nt?.cordova)||void 0===y?void 0:y.plugins)||void 0===I?void 0:I.browsertab)||void 0===L?void 0:L.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Le=null===(Z=null===(B=nt?.cordova)||void 0===B?void 0:B.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Le?void 0:Le.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(tt=null===(Ue=nt?.cordova)||void 0===Ue?void 0:Ue.InAppBrowser)||void 0===tt?void 0:tt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const B=yield L._initialize(d);yield B.initialized(),B.resetRedirect(),function a3(){f4.clear()}(),yield L._originValidation(d);const Z=function S0(v,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:Lc(),postBody:null,tenantId:v.tenantId,error:Q(v,"no-auth-event")}}(d,y,I);yield function L0(v,d){return x0()._set(Pa(v),d)}(d,Z);const Le=yield function v4(v,d,p){return zc.apply(this,arguments)}(d,Z,p),Ue=yield function e5(v){const{cordova:d}=fs();return new Promise(p=>{d.plugins.browsertab.isAvailable(y=>{let I=null;y?d.plugins.browsertab.openUrl(v):I=d.InAppBrowser.open(v,function Ut(v=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),p(I)})})}(Le);return function _9(v,d,p){return Ec.apply(this,arguments)}(d,B,Ue)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function M9(v){return y4.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:y,handleOpenURL:I,BuildInfo:L}=fs(),B=setTimeout((0,M.Z)(function*(){yield r5(d),p.onEvent(A0())}),500),Z=function(){var tt=(0,M.Z)(function*(nt){clearTimeout(B);const h2=yield r5(d);let cn=null;h2&&nt?.url&&(cn=function D0(v,d){var p,y;const I=function w9(v){const d=Ra(v),p=d.link?decodeURIComponent(d.link):void 0,y=Ra(p).link,I=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Ra(I).link||I||y||p||v}(d);if(I.includes("/__/auth/callback")){const L=Ra(I),B=L.firebaseError?function Dc(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,Z=null===(y=null===(p=B?.code)||void 0===p?void 0:p.split("auth/"))||void 0===y?void 0:y[1],Le=Z?Q(Z):null;return Le?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:I,postBody:null}}return null}(h2,nt.url)),p.onEvent(cn||A0())});return function(h2){return tt.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,Z);const Le=I,Ue=`${L.packageName.toLowerCase()}://`;fs().handleOpenURL=function(){var tt=(0,M.Z)(function*(nt){if(nt.toLowerCase().startsWith(Ue)&&Z({url:nt}),"function"==typeof Le)try{Le(nt)}catch(h2){console.error(h2)}});return function(nt){return tt.apply(this,arguments)}}()}};function A0(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Q("no-auth-event")}}function hs(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function xc(v=(0,N.z$)()){return!("file:"!==hs()&&"ionic:"!==hs()&&"capacitor:"!==hs()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function P0(){try{const v=self.localStorage,d=r4();if(v)return v.setItem(d,"1"),v.removeItem(d),!function Ba(v=(0,N.z$)()){return function Fa(){return(0,N.w1)()&&11===document?.documentMode}()||function M4(v=(0,N.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,N.hl)()}catch{return Ac()&&(0,N.hl)()}return!1}function Ac(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ua(){return(function v3(){return"http:"===hs()||"https:"===hs()}()||(0,N.ru)()||xc())&&!function k0(){return(0,N.b$)()||(0,N.UG)()}()&&P0()&&!Ac()}function Tc(){return xc()&&typeof document<"u"}function kc(){return(kc=(0,M.Z)(function*(){return!!Tc()&&new Promise(v=>{const d=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),v(!0)})})})).apply(this,arguments)}const Cn={LOCAL:"local",NONE:"none",SESSION:"session"},ps=re,R0="persistence";function P1(v){return y3.apply(this,arguments)}function y3(){return(y3=(0,M.Z)(function*(v){yield v._initializationPromise;const d=ja(),p=F(R0,v.config.apiKey,v.name);d&&d.setItem(p,v._getPersistence())})).apply(this,arguments)}function ja(){var v;try{return(null===(v=function i5(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const V1=re;class Nn{constructor(){this.browserResolver=I2(Si),this.cordovaResolver=I2(V9),this.underlyingResolver=null,this._redirectPersistence=Fr,this._completeRedirectFn=as,this._overrideRedirectResult=rs}_initialize(d){var p=this;return(0,M.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,y,I){var L=this;return(0,M.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(d,p,y,I)})()}_openRedirect(d,p,y,I){var L=this;return(0,M.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(d,p,y,I)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Tc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return V1(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,M.Z)(function*(){if(d.underlyingResolver)return;const p=yield function Nc(){return kc.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function $a(v){return v.unwrap()}function s5(v){return j0(v)}function j0(v){const{_tokenResponse:d}=v instanceof N.ZR?v.customData:v;if(!d)return null;if(!(v instanceof N.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return $r.credentialFromResult(v);const p=d.providerId;if(!p||p===we.PASSWORD)return null;let y;switch(p){case we.GOOGLE:y=nn;break;case we.FACEBOOK:y=or;break;case we.GITHUB:y=Ts;break;case we.TWITTER:y=Ns;break;default:const{oauthIdToken:I,oauthAccessToken:L,oauthTokenSecret:B,pendingToken:Z,nonce:Le}=d;return L||B||I||Z?Z?p.startsWith("saml.")?Tt._create(p,Z):Mt._fromParams({providerId:p,signInMethod:p,pendingToken:Z,idToken:I,accessToken:L}):new Zn(p).credential({idToken:I,accessToken:L,rawNonce:Le}):null}return v instanceof N.ZR?y.credentialFromError(v):y.credentialFromResult(v)}function G1(v,d){return d.catch(p=>{throw p instanceof N.ZR&&function U0(v,d){var p;const y=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===d?.code)d.resolver=new a5(v,function fa(v,d){var p;const y=(0,N.m9)(v),I=d;return re(d.customData.operationType,y,"argument-error"),re(null===(p=I.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,y,"argument-error"),Yi._fromError(y,I)}(v,d));else if(y){const I=j0(d),L=d;I&&(L.credential=I,L.tenantId=y.tenantId||void 0,L.email=y.email||void 0,L.phoneNumber=y.phoneNumber||void 0)}}(v,p),p}).then(p=>{const I=p.user;return{operationType:p.operationType,credential:s5(p),additionalUserInfo:Ks(p),user:Yr.getOrCreate(I)}})}function Pc(v,d){return _4.apply(this,arguments)}function _4(){return(_4=(0,M.Z)(function*(v,d){const p=yield d;return{verificationId:p.verificationId,confirm:y=>G1(v,p.confirm(y))}})).apply(this,arguments)}class a5{constructor(d,p){this.resolver=p,this.auth=function B0(v){return v.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return G1($a(this.auth),this.resolver.resolveSignIn(d))}}class Yr{constructor(d){this._delegate=d,this.multiFactor=function da(v){const d=(0,N.m9)(v);return Or.has(d)||Or.set(d,Rr._fromUser(d)),Or.get(d)}(d)}static getOrCreate(d){return Yr.USER_MAP.has(d)||Yr.USER_MAP.set(d,new Yr(d)),Yr.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,M.Z)(function*(){return G1(p.auth,f0(p._delegate,d))})()}linkWithPhoneNumber(d,p){var y=this;return(0,M.Z)(function*(){return Pc(y.auth,function pr(v,d,p){return es.apply(this,arguments)}(y._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,M.Z)(function*(){return G1(p.auth,function gc(v,d,p){return qr.apply(this,arguments)}(p._delegate,d,Nn))})()}linkWithRedirect(d){var p=this;return(0,M.Z)(function*(){return yield P1(S2(p.auth)),Cc(p._delegate,d,Nn)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,M.Z)(function*(){return G1(p.auth,d0(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return Pc(this.auth,function Hi(v,d,p){return jr.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return G1(this.auth,function u4(v,d,p){return Gr.apply(this,arguments)}(this._delegate,d,Nn))}reauthenticateWithRedirect(d){var p=this;return(0,M.Z)(function*(){return yield P1(S2(p.auth)),d4(p._delegate,d,Nn)})()}sendEmailVerification(d){return function $s(v,d){return vi.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,M.Z)(function*(){return yield function Tr(v,d){return U1.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function ca(v,d){return uc((0,N.m9)(v),d,null)}(this._delegate,d)}updatePassword(d){return function la(v,d){return uc((0,N.m9)(v),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function n3(v,d){return r3.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Ql(v,d){return Gs.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function K3(v,d,p){return lr.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Yr.USER_MAP=new WeakMap;const ms=re;let w4=(()=>{class v{constructor(p,y){if(this.app=p,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=p.options;ms(I,"invalid-api-key",{appName:p.name}),ms(I,"invalid-api-key",{appName:p.name});const L=typeof window<"u"?Nn:void 0;this._delegate=y.initialize({options:{persistence:b4(I,p.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(dt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,y){!function A1(v,d,p){const y=S2(v);re(y._canInitEmulator,y,"emulator-config-failed"),re(/^https?:\/\//.test(d),y,"invalid-emulator-scheme");const I=!!p?.disableWarnings,L=li(d),{host:B,port:Z}=function P3(v){const d=li(v),p=/(\/\/)?([^?#/]+)/.exec(v.substr(d.length));if(!p)return{host:"",port:null};const y=p[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(y);if(I){const L=I[1];return{host:L,port:X4(y.substr(L.length+1))}}{const[L,B]=y.split(":");return{host:L,port:X4(B)}}}(d);y.config.emulator={url:`${L}//${B}${null===Z?"":`:${Z}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:B,port:Z,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function c0(){function v(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,p,y)}applyActionCode(p){return function sa(v,d){return w1.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Os(this._delegate,p)}confirmPasswordReset(p,y){return function Nr(v,d,p){return Rs.apply(this,arguments)}(this._delegate,p,y)}createUserWithEmailAndPassword(p,y){var I=this;return(0,M.Z)(function*(){return G1(I._delegate,function ac(v,d,p){return Bs.apply(this,arguments)}(I._delegate,p,y))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function aa(v,d){return oa.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function oc(v,d){const p=f2.parseLink(d);return"EMAIL_SIGNIN"===p?.operation}(0,p)}getRedirectResult(){var p=this;return(0,M.Z)(function*(){ms(Ua(),p._delegate,"operation-not-supported-in-this-environment");const y=yield function Mc(v,d){return c3.apply(this,arguments)}(p._delegate,Nn);return y?G1(p._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function C4(v,d){S2(v)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,y,I){const{next:L,error:B,complete:Z}=$0(p,y,I);return this._delegate.onAuthStateChanged(L,B,Z)}onIdTokenChanged(p,y,I){const{next:L,error:B,complete:Z}=$0(p,y,I);return this._delegate.onIdTokenChanged(L,B,Z)}sendSignInLinkToEmail(p,y){return function kr(v,d,p){return H2.apply(this,arguments)}(this._delegate,p,y)}sendPasswordResetEmail(p,y){return function Yl(v,d,p){return Wi.apply(this,arguments)}(this._delegate,p,y||void 0)}setPersistence(p){var y=this;return(0,M.Z)(function*(){let I;switch(function O0(v,d){ps(Object.values(Cn).includes(d),v,"invalid-persistence-type"),(0,N.b$)()?ps(d!==Cn.SESSION,v,"unsupported-persistence-type"):(0,N.UG)()?ps(d===Cn.NONE,v,"unsupported-persistence-type"):Ac()?ps(d===Cn.NONE||d===Cn.LOCAL&&(0,N.hl)(),v,"unsupported-persistence-type"):ps(d===Cn.NONE||P0(),v,"unsupported-persistence-type")}(y._delegate,p),p){case Cn.SESSION:I=Fr;break;case Cn.LOCAL:I=(yield I2(Ur)._isAvailable())?Ur:fr;break;case Cn.NONE:I=X1;break;default:return he("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return G1(this._delegate,function o1(v){return rc.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return G1(this._delegate,$3(this._delegate,p))}signInWithCustomToken(p){return G1(this._delegate,function ia(v,d){return Yn.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,y){return G1(this._delegate,function Dn(v,d,p){return $3((0,N.m9)(v),Dr.credential(d,p))}(this._delegate,p,y))}signInWithEmailLink(p,y){return G1(this._delegate,function b1(v,d,p){return Us.apply(this,arguments)}(this._delegate,p,y))}signInWithPhoneNumber(p,y){return Pc(this._delegate,function ba(v,d,p){return hr.apply(this,arguments)}(this._delegate,p,y))}signInWithPopup(p){var y=this;return(0,M.Z)(function*(){return ms(Ua(),y._delegate,"operation-not-supported-in-this-environment"),G1(y._delegate,function Ia(v,d,p){return za.apply(this,arguments)}(y._delegate,p,Nn))})()}signInWithRedirect(p){var y=this;return(0,M.Z)(function*(){return ms(Ua(),y._delegate,"operation-not-supported-in-this-environment"),yield P1(y._delegate),is(y._delegate,p,Nn)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function W3(v,d){return gi.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Cn,v})();function $0(v,d,p){let y=v;"function"!=typeof v&&({next:y,error:d,complete:p}=v);const I=y;return{next:B=>I(B&&Yr.getOrCreate(B)),error:d,complete:p}}function b4(v,d){const p=function F0(v,d){const p=ja();if(!p)return[];const y=F(R0,v,d);switch(p.getItem(y)){case Cn.NONE:return[X1];case Cn.LOCAL:return[Ur,Fr];case Cn.SESSION:return[Fr];default:return[]}}(v,d);if(typeof self<"u"&&!p.includes(Ur)&&p.push(Ur),typeof window<"u")for(const y of[fr,Fr])p.includes(y)||p.push(y);return p.includes(X1)||p.push(X1),p}class Rc{constructor(){this.providerId="phone",this._delegate=new $r($a(J.Z.auth()))}static credential(d,p){return $r.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}Rc.PHONE_SIGN_IN_METHOD=$r.PHONE_SIGN_IN_METHOD,Rc.PROVIDER_ID=$r.PROVIDER_ID;const G0=re;class q0{constructor(d,p,y=J.Z.app()){var I;G0(null===(I=y.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new wa(d,p,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function K0(v){v.INTERNAL.registerComponent(new ge.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),y=d.getProvider("auth");return new w4(p,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Dr,FacebookAuthProvider:or,GithubAuthProvider:Ts,GoogleAuthProvider:nn,OAuthProvider:Zn,SAMLAuthProvider:di,PhoneAuthProvider:Rc,PhoneMultiFactorGenerator:on,RecaptchaVerifier:q0,TwitterAuthProvider:Ns,Auth:w4,AuthCredential:Er,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.4.2")}(J.Z)},5861:(ht,Se,T)=>{function M(N,se,ne,me,ge,Te,we){try{var R=N[Te](we),j=R.value}catch(ie){return void ne(ie)}R.done?se(j):Promise.resolve(j).then(me,ge)}function J(N){return function(){var se=this,ne=arguments;return new Promise(function(me,ge){var Te=N.apply(se,ne);function we(j){M(Te,me,ge,we,R,"next",j)}function R(j){M(Te,me,ge,we,R,"throw",j)}we(void 0)})}}T.d(Se,{Z:()=>J})},7582:(ht,Se,T)=>{function se(ae,ue){var ye={};for(var Ce in ae)Object.prototype.hasOwnProperty.call(ae,Ce)&&ue.indexOf(Ce)<0&&(ye[Ce]=ae[Ce]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var be=0;for(Ce=Object.getOwnPropertySymbols(ae);be<Ce.length;be++)ue.indexOf(Ce[be])<0&&Object.prototype.propertyIsEnumerable.call(ae,Ce[be])&&(ye[Ce[be]]=ae[Ce[be]])}return ye}function ie(ae,ue,ye,Ce){return new(ye||(ye=Promise))(function(Ve,Je){function je(Wt){try{pt(Ce.next(Wt))}catch(Dt){Je(Dt)}}function w2(Wt){try{pt(Ce.throw(Wt))}catch(Dt){Je(Dt)}}function pt(Wt){Wt.done?Ve(Wt.value):function be(Ve){return Ve instanceof ye?Ve:new ye(function(Je){Je(Ve)})}(Wt.value).then(je,w2)}pt((Ce=Ce.apply(ae,ue||[])).next())})}function Y(ae){return this instanceof Y?(this.v=ae,this):new Y(ae)}function he(ae,ue,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,Ce=ye.apply(ae,ue||[]),Ve=[];return be={},Je("next"),Je("throw"),Je("return"),be[Symbol.asyncIterator]=function(){return this},be;function Je(c2){Ce[c2]&&(be[c2]=function(p2){return new Promise(function(t1,Jt){Ve.push([c2,p2,t1,Jt])>1||je(c2,p2)})})}function je(c2,p2){try{!function w2(c2){c2.value instanceof Y?Promise.resolve(c2.value.v).then(pt,Wt):Dt(Ve[0][2],c2)}(Ce[c2](p2))}catch(t1){Dt(Ve[0][3],t1)}}function pt(c2){je("next",c2)}function Wt(c2){je("throw",c2)}function Dt(c2,p2){c2(p2),Ve.shift(),Ve.length&&je(Ve[0][0],Ve[0][1])}}function He(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ue=ae[Symbol.asyncIterator];return ue?ue.call(ae):(ae=function ve(ae){var ue="function"==typeof Symbol&&Symbol.iterator,ye=ue&&ae[ue],Ce=0;if(ye)return ye.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&Ce>=ae.length&&(ae=void 0),{value:ae&&ae[Ce++],done:!ae}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ye={},Ce("next"),Ce("throw"),Ce("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Ce(Ve){ye[Ve]=ae[Ve]&&function(Je){return new Promise(function(je,w2){!function be(Ve,Je,je,w2){Promise.resolve(w2).then(function(pt){Ve({value:pt,done:je})},Je)}(je,w2,(Je=ae[Ve](Je)).done,Je.value)})}}}T.d(Se,{FC:()=>he,KL:()=>He,_T:()=>se,mG:()=>ie,qq:()=>Y}),"function"==typeof SuppressedError&&SuppressedError}},ht=>{ht(ht.s=5453)}]);