"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{612:()=>{function ke(t){return"function"==typeof t}function Vu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const rh=Vu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Sa(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Jn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ke(r))try{r()}catch(s){e=s instanceof rh?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{EE(s)}catch(o){e=e??[],o instanceof rh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new rh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)EE(e);else{if(e instanceof Jn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Sa(n,e)}remove(e){const{_finalizers:n}=this;n&&Sa(n,e),e instanceof Jn&&e._removeParent(this)}}Jn.EMPTY=(()=>{const t=new Jn;return t.closed=!0,t})();const CE=Jn.EMPTY;function IE(t){return t instanceof Jn||t&&"closed"in t&&ke(t.remove)&&ke(t.add)&&ke(t.unsubscribe)}function EE(t){ke(t)?t():t.unsubscribe()}const ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ih={setTimeout(t,e,...n){const{delegate:r}=ih;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ih;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function SE(t){ih.setTimeout(()=>{const{onUnhandledError:e}=ao;if(!e)throw t;e(t)})}function DE(){}const _B=_2("C",void 0,void 0);function _2(t,e,n){return{kind:t,value:e,error:n}}let co=null;function sh(t){if(ao.useDeprecatedSynchronousErrorHandling){const e=!co;if(e&&(co={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=co;if(co=null,n)throw r}}else t()}class w2 extends Jn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,IE(e)&&e.add(this)):this.destination=DB}static create(e,n,r){return new Hu(e,n,r)}next(e){this.isStopped?C2(function bB(t){return _2("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?C2(function wB(t){return _2("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?C2(_B,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const IB=Function.prototype.bind;function b2(t,e){return IB.call(t,e)}class EB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){oh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){oh(r)}else oh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){oh(n)}}}class Hu extends w2{constructor(e,n,r){let i;if(super(),ke(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&ao.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&b2(e.next,s),error:e.error&&b2(e.error,s),complete:e.complete&&b2(e.complete,s)}):i=e}this.destination=new EB(i)}}function oh(t){ao.useDeprecatedSynchronousErrorHandling?function CB(t){ao.useDeprecatedSynchronousErrorHandling&&co&&(co.errorThrown=!0,co.error=t)}(t):SE(t)}function C2(t,e){const{onStoppedNotification:n}=ao;n&&ih.setTimeout(()=>n(t,e))}const DB={closed:!0,next:DE,error:function SB(t){throw t},complete:DE},I2="function"==typeof Symbol&&Symbol.observable||"@@observable";function hs(t){return t}function TE(t){return 0===t.length?hs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function MB(t){return t&&t instanceof w2||function AB(t){return t&&ke(t.next)&&ke(t.error)&&ke(t.complete)}(t)&&IE(t)}(n)?n:new Hu(n,r,i);return sh(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=AE(r))((i,s)=>{const o=new Hu({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[I2](){return this}pipe(...n){return TE(n)(this)}toPromise(n){return new(n=AE(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function AE(t){var e;return null!==(e=t??ao.Promise)&&void 0!==e?e:Promise}const xB=Vu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qr=(()=>{class t extends be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ME(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xB}next(n){sh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){sh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){sh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?CE:(this.currentObservers=null,s.push(n),new Jn(()=>{this.currentObservers=null,Sa(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new be;return n.source=this,n}}return t.create=(e,n)=>new ME(e,n),t})();class ME extends qr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:CE}}class pr extends qr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function xE(t){return ke(t?.lift)}function St(t){return e=>{if(xE(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,e,n,r,i){return new NE(t,e,n,r,i)}class NE extends w2{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(t,e){return St((n,r)=>{let i=0;n.subscribe(pt(r,s=>{r.next(t.call(e,s,i++))}))})}function ah(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function D2(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function T2(t,e){return function(n,r){e(n,r,t)}}function A2(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function ps(t){return this instanceof ps?(this.v=t,this):new ps(t)}function OE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function x2(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const RE=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function FE(t){return ke(t?.then)}function LE(t){return ke(t[I2])}function VE(t){return Symbol.asyncIterator&&ke(t?.[Symbol.asyncIterator])}function HE(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zE=function YB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function UE(t){return ke(t?.[zE])}function BE(t){return function PE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){s.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof ps?Promise.resolve(f.value.v).then(u,l):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ps(n.read());if(i)return yield ps(void 0);yield yield ps(r)}}finally{n.releaseLock()}})}function jE(t){return ke(t?.getReader)}function Zn(t){if(t instanceof be)return t;if(null!=t){if(LE(t))return function QB(t){return new be(e=>{const n=t[I2]();if(ke(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(RE(t))return function XB(t){return new be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(FE(t))return function JB(t){return new be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,SE)})}(t);if(VE(t))return $E(t);if(UE(t))return function ZB(t){return new be(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(jE(t))return function ej(t){return $E(BE(t))}(t)}throw HE(t)}function $E(t){return new be(e=>{(function tj(t,e){var n,r,i,s;return A2(this,void 0,void 0,function*(){try{for(n=OE(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ai(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Jt(t,e,n=1/0){return ke(e)?Jt((r,i)=>_e((s,o)=>e(r,s,i,o))(Zn(t(r,i))),n):("number"==typeof e&&(n=e),St((r,i)=>function nj(t,e,n,r,i,s,o,a){const c=[];let u=0,l=0,d=!1;const f=()=>{d&&!c.length&&!u&&e.complete()},h=m=>u<r?p(m):c.push(m),p=m=>{s&&e.next(m),u++;let y=!1;Zn(n(m,l++)).subscribe(pt(e,_=>{i?.(_),s?h(_):e.next(_)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){const _=c.shift();o?Ai(e,o,()=>p(_)):p(_)}f()}catch(_){e.error(_)}}))};return t.subscribe(pt(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function ch(t=1/0){return Jt(hs,t)}const Wr=new be(t=>t.complete());function N2(t){return t[t.length-1]}function GE(t){return ke(N2(t))?t.pop():void 0}function zu(t){return function ij(t){return t&&ke(t.schedule)}(N2(t))?t.pop():void 0}function uh(t,e=0){return St((n,r)=>{n.subscribe(pt(r,i=>Ai(r,t,()=>r.next(i),e),()=>Ai(r,t,()=>r.complete(),e),i=>Ai(r,t,()=>r.error(i),e)))})}function lh(t,e=0){return St((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function qE(t,e){if(!t)throw new Error("Iterable cannot be null");return new be(n=>{Ai(n,e,()=>{const r=t[Symbol.asyncIterator]();Ai(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dn(t,e){return e?function dj(t,e){if(null!=t){if(LE(t))return function oj(t,e){return Zn(t).pipe(lh(e),uh(e))}(t,e);if(RE(t))return function cj(t,e){return new be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(FE(t))return function aj(t,e){return Zn(t).pipe(lh(e),uh(e))}(t,e);if(VE(t))return qE(t,e);if(UE(t))return function uj(t,e){return new be(n=>{let r;return Ai(n,e,()=>{r=t[zE](),Ai(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ke(r?.return)&&r.return()})}(t,e);if(jE(t))return function lj(t,e){return qE(BE(t),e)}(t,e)}throw HE(t)}(t,e):Zn(t)}function ee(...t){return dn(t,zu(t))}function WE(t={}){const{connector:e=(()=>new qr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,l=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,l=d=!1},p=()=>{const m=o;h(),m?.unsubscribe()};return St((m,y)=>{u++,!d&&!l&&f();const _=c=c??e();y.add(()=>{u--,0===u&&!d&&!l&&(a=k2(p,i))}),_.subscribe(y),!o&&u>0&&(o=new Hu({next:v=>_.next(v),error:v=>{d=!0,f(),a=k2(h,n,v),_.error(v)},complete:()=>{l=!0,f(),a=k2(h,r),_.complete()}}),Zn(m).subscribe(o))})(s)}}function k2(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Hu({next:()=>{r.unsubscribe(),t()}});return Zn(e(...n)).subscribe(r)}function Sr(t,e){return St((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(pt(r,c=>{i?.unsubscribe();let u=0;const l=s++;Zn(t(c,l)).subscribe(i=pt(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function KE(t,e=hs){return t=t??hj,St((n,r)=>{let i,s=!0;n.subscribe(pt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function hj(t,e){return t===e}function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function dh(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(kt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function P2(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const pj=Te({__forward_ref__:Te});function Fe(t){return t.__forward_ref__=Fe,t.toString=function(){return kt(this())},t}function Z(t){return O2(t)?t():t}function O2(t){return"function"==typeof t&&t.hasOwnProperty(pj)&&t.__forward_ref__===Fe}function R2(t){return t&&!!t.\u0275providers}const YE="https://g.co/ng/security#xss";class T extends Error{constructor(e,n){super(function fh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function F2(t,e){throw new T(-201,!1)}function gr(t,e){null==t&&function X(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function et(t){return{providers:t.providers||[],imports:t.imports||[]}}function hh(t){return QE(t,gh)||QE(t,XE)}function QE(t,e){return t.hasOwnProperty(e)?t[e]:null}function ph(t){return t&&(t.hasOwnProperty(L2)||t.hasOwnProperty(Cj))?t[L2]:null}const gh=Te({\u0275prov:Te}),L2=Te({\u0275inj:Te}),XE=Te({ngInjectableDef:Te}),Cj=Te({ngInjectorDef:Te});var ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{});let V2;function Hn(t){const e=V2;return V2=t,e}function ZE(t,e,n){const r=hh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ue.Optional?null:void 0!==e?e:void F2(kt(t))}const Oe=globalThis,Uu={},j2="__NG_DI_FLAG__",mh="ngTempTokenPath",Sj=/\n/gm,t5="__source";let Da;function gs(t){const e=Da;return Da=t,e}function Aj(t,e=ue.Default){if(void 0===Da)throw new T(-203,!1);return null===Da?ZE(t,void 0,e):Da.get(t,e&ue.Optional?null:void 0,e)}function W(t,e=ue.Default){return(function JE(){return V2}()||Aj)(Z(t),e)}function S(t,e=ue.Default){return W(t,yh(e))}function yh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $2(t){const e=[];for(let n=0;n<t.length;n++){const r=Z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=ue.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Mj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(W(i,s))}else e.push(W(r))}return e}function Bu(t,e){return t[j2]=e,t.prototype[j2]=e,t}function Mj(t){return t[j2]}function Mi(t){return{toString:t}.toString()}var vh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vh||{}),Dr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dr||{});const Kr={},we=[],_h=Te({\u0275cmp:Te}),G2=Te({\u0275dir:Te}),q2=Te({\u0275pipe:Te}),r5=Te({\u0275mod:Te}),xi=Te({\u0275fac:Te}),ju=Te({__NG_ELEMENT_ID__:Te}),i5=Te({__NG_ENV_ID__:Te});function s5(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function W2(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];a5(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function o5(t){return 3===t||4===t||6===t}function a5(t){return 64===t.charCodeAt(0)}function $u(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||c5(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function c5(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const u5="ng-template";function kj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==s5(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function l5(t){return 4===t.type&&t.value!==u5}function Pj(t,e,n){return e===(4!==t.type||n?t.value:u5)}function Oj(t,e,n){let r=4;const i=t.attrs||[],s=function Lj(t){for(let e=0;e<t.length;e++)if(o5(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Pj(t,c,n)||""===c&&1===e.length){if(Tr(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!kj(t.attrs,u,n)){if(Tr(r))return!1;o=!0}continue}const d=Rj(8&r?"class":c,i,l5(t),n);if(-1===d){if(Tr(r))return!1;o=!0;continue}if(""!==u){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==s5(h,u,0)||2&r&&u!==f){if(Tr(r))return!1;o=!0}}}}else{if(!o&&!Tr(r)&&!Tr(c))return!1;if(o&&Tr(c))continue;o=!1,r=c|1&r}}return Tr(r)||o}function Tr(t){return 0==(1&t)}function Rj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Vj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function d5(t,e,n=!1){for(let r=0;r<e.length;r++)if(Oj(t,e[r],n))return!0;return!1}function Hj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function f5(t,e){return t?":not("+e.trim()+")":e}function zj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Tr(o)&&(e+=f5(s,i),i=""),r=o,s=s||!Tr(r);n++}return""!==i&&(e+=f5(s,i)),e}function zn(t){return Mi(()=>{const e=p5(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dr.Emulated,styles:t.styles||we,_:null,schemas:t.schemas||null,tView:null,id:""};g5(n);const r=t.dependencies;return n.directiveDefs=wh(r,!1),n.pipeDefs=wh(r,!0),n.id=function Kj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function $j(t){return pe(t)||Zt(t)}function Gj(t){return null!==t}function ot(t){return Mi(()=>({type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function h5(t,e){if(null==t)return Kr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Y(t){return Mi(()=>{const e=p5(t);return g5(e),e})}function zt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function pe(t){return t[_h]||null}function Zt(t){return t[G2]||null}function Dn(t){return t[q2]||null}function tr(t,e){const n=t[r5]||null;if(!n&&!0===e)throw new Error(`Type ${kt(t)} does not have '\u0275mod' property.`);return n}function p5(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Kr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:h5(t.inputs,e),outputs:h5(t.outputs)}}function g5(t){t.features?.forEach(e=>e(t))}function wh(t,e){if(!t)return null;const n=e?Dn:$j;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Gj)}const gt=0,V=1,se=2,Qe=3,Ar=4,Gu=5,fn=6,Aa=7,mt=8,ms=9,Ma=10,re=11,qu=12,m5=13,xa=14,yt=15,Wu=16,Na=17,Yr=18,Ku=19,y5=20,ys=21,Ni=22,bh=23,Ch=24,le=25,K2=1,v5=2,Qr=7,ka=9,en=11;function Un(t){return Array.isArray(t)&&"object"==typeof t[K2]}function Bn(t){return Array.isArray(t)&&!0===t[K2]}function Y2(t){return 0!=(4&t.flags)}function lo(t){return t.componentOffset>-1}function Eh(t){return 1==(1&t.flags)}function Mr(t){return!!t.template}function Q2(t){return 0!=(512&t[se])}function fo(t,e){return t.hasOwnProperty(xi)?t[xi]:null}let e$=Oe.WeakRef??class Zj{constructor(e){this.ref=e}deref(){return this.ref}},n$=0,Xr=null,Sh=!1;function Ut(t){const e=Xr;return Xr=t,e}class I5{constructor(){this.id=n$++,this.ref=function t$(t){return new e$(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Sh;Sh=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Sh=e}}producerAccessed(){if(Sh)throw new Error("");if(null===Xr)return;let e=Xr.producers.get(this.id);void 0===e?(e={consumerNode:Xr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Xr.trackingVersion},Xr.producers.set(this.id,e),this.consumers.set(Xr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Xr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Xr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let E5=null;function S5(t){const e=Ut(null);try{return t()}finally{Ut(e)}}const D5=()=>{};class o$ extends I5{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=D5,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Ut(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=D5,this.watch(this.registerOnCleanup)}finally{Ut(e)}}cleanup(){this.cleanupFn()}}class a${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Tn(){return T5}function T5(t){return t.type.prototype.ngOnChanges&&(t.setInput=u$),c$}function c$(){const t=M5(this),e=t?.current;if(e){const n=t.previous;if(n===Kr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function u$(t,e,n,r){const i=this.declaredInputs[n],s=M5(t)||function l$(t,e){return t[A5]=e}(t,{previous:Kr,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new a$(c&&c.currentValue,e,a===Kr),t[r]=e}Tn.ngInherit=!0;const A5="__ngSimpleChanges__";function M5(t){return t[A5]||null}const Jr=function(t,e,n){};function Le(t){for(;Array.isArray(t);)t=t[gt];return t}function Ah(t,e){return Le(e[t])}function jn(t,e){return Le(e[t.index])}function k5(t,e){return t.data[e]}function Pa(t,e){return t[e]}function nr(t,e){const n=e[t];return Un(n)?n:n[gt]}function vs(t,e){return null==e?null:t[e]}function P5(t){t[Na]=0}function y$(t){1024&t[se]||(t[se]|=1024,R5(t,1))}function O5(t){1024&t[se]&&(t[se]&=-1025,R5(t,-1))}function R5(t,e){let n=t[Qe];if(null===n)return;n[Gu]+=e;let r=n;for(n=n[Qe];null!==n&&(1===e&&1===r[Gu]||-1===e&&0===r[Gu]);)n[Gu]+=e,r=n,n=n[Qe]}const J={lFrame:q5(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function V5(){return J.bindingsEnabled}function Oa(){return null!==J.skipHydrationRootTNode}function I(){return J.lFrame.lView}function ge(){return J.lFrame.tView}function xr(t){return J.lFrame.contextLView=t,t[mt]}function Nr(t){return J.lFrame.contextLView=null,t}function tn(){let t=H5();for(;null!==t&&64===t.type;)t=t.parent;return t}function H5(){return J.lFrame.currentTNode}function Zr(t,e){const n=J.lFrame;n.currentTNode=t,n.isParent=e}function n0(){return J.lFrame.isParent}function r0(){J.lFrame.isParent=!1}function An(){const t=J.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ra(){return J.lFrame.bindingIndex++}function M$(t,e){const n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,s0(e)}function s0(t){J.lFrame.currentDirectiveIndex=t}function a0(t){J.lFrame.currentQueryIndex=t}function N$(t){const e=t[V];return 2===e.type?e.declTNode:1===e.type?t[fn]:null}function $5(t,e,n){if(n&ue.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&ue.Host||(i=N$(s),null===i||(s=s[xa],10&i.type))););if(null===i)return!1;e=i,t=s}const r=J.lFrame=G5();return r.currentTNode=e,r.lView=t,!0}function c0(t){const e=G5(),n=t[V];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function G5(){const t=J.lFrame,e=null===t?null:t.child;return null===e?q5(t):e}function q5(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function W5(){const t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const K5=W5;function u0(){const t=W5();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Mn(){return J.lFrame.selectedIndex}function ho(t){J.lFrame.selectedIndex=t}function tt(){const t=J.lFrame;return k5(t.tView,t.selectedIndex)}let Q5=!0;function Mh(){return Q5}function _s(t){Q5=t}function xh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Nh(t,e,n){X5(t,e,3,n)}function kh(t,e,n,r){(3&t[se])===n&&X5(t,e,n,r)}function l0(t,e){let n=t[se];(3&n)===e&&(n&=8191,n+=1,t[se]=n)}function X5(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Na]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Na]+=65536),(a<s||-1==s)&&(H$(t,n,e,c),t[Na]=(4294901760&t[Na])+c+2),c++}function J5(t,e){Jr(4,t,e);const n=Ut(null);try{e.call(t)}finally{Ut(n),Jr(5,t,e)}}function H$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[se]>>13<t[Na]>>16&&(3&t[se])===e&&(t[se]+=8192,J5(a,s)):J5(a,s)}const Fa=-1;class Xu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function f0(t){return t!==Fa}function Ju(t){return 32767&t}function Zu(t,e){let n=function j$(t){return t>>16}(t),r=e;for(;n>0;)r=r[xa],n--;return r}let h0=!0;function Ph(t){const e=h0;return h0=t,e}const Z5=255,eS=5;let $$=0;const ei={};function Oh(t,e){const n=tS(t,e);if(-1!==n)return n;const r=e[V];r.firstCreatePass&&(t.injectorIndex=e.length,p0(r.data,t),p0(e,null),p0(r.blueprint,null));const i=Rh(t,e),s=t.injectorIndex;if(f0(i)){const o=Ju(i),a=Zu(i,e),c=a[V].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function p0(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tS(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Rh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=cS(i),null===r)return Fa;if(n++,i=i[xa],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Fa}function g0(t,e,n){!function G$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ju)&&(r=n[ju]),null==r&&(r=n[ju]=$$++);const i=r&Z5;e.data[t+(i>>eS)]|=1<<i}(t,e,n)}function nS(t,e,n){if(n&ue.Optional||void 0!==t)return t;F2()}function rS(t,e,n,r){if(n&ue.Optional&&void 0===r&&(r=null),!(n&(ue.Self|ue.Host))){const i=t[ms],s=Hn(void 0);try{return i?i.get(e,r,n&ue.Optional):ZE(e,r,n&ue.Optional)}finally{Hn(s)}}return nS(r,0,n)}function iS(t,e,n,r=ue.Default,i){if(null!==t){if(2048&e[se]&&!(r&ue.Self)){const o=function X$(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[se]&&!(512&o[se]);){const a=sS(s,o,n,r|ue.Self,ei);if(a!==ei)return a;let c=s.parent;if(!c){const u=o[y5];if(u){const l=u.get(n,ei,r);if(l!==ei)return l}c=cS(o),o=o[xa]}s=c}return i}(t,e,n,r,ei);if(o!==ei)return o}const s=sS(t,e,n,r,ei);if(s!==ei)return s}return rS(e,n,r,i)}function sS(t,e,n,r,i){const s=function K$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ju)?t[ju]:void 0;return"number"==typeof e?e>=0?e&Z5:Q$:e}(n);if("function"==typeof s){if(!$5(e,t,r))return r&ue.Host?nS(i,0,r):rS(e,n,r,i);try{let o;if(o=s(r),null!=o||r&ue.Optional)return o;F2()}finally{K5()}}else if("number"==typeof s){let o=null,a=tS(t,e),c=Fa,u=r&ue.Host?e[yt][fn]:null;for((-1===a||r&ue.SkipSelf)&&(c=-1===a?Rh(t,e):e[a+8],c!==Fa&&aS(r,!1)?(o=e[V],a=Ju(c),e=Zu(c,e)):a=-1);-1!==a;){const l=e[V];if(oS(s,a,l.data)){const d=W$(a,e,n,o,r,u);if(d!==ei)return d}c=e[a+8],c!==Fa&&aS(r,e[V].data[a+8]===u)&&oS(s,a,e)?(o=l,a=Ju(c),e=Zu(c,e)):a=-1}}return i}function W$(t,e,n,r,i,s){const o=e[V],a=o.data[t+8],l=function Fh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,f=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Mr(h)&&h.type===n)return c}return null}(a,o,n,null==r?lo(a)&&h0:r!=o&&0!=(3&a.type),i&ue.Host&&s===a);return null!==l?po(e,o,l,a):ei}function po(t,e,n,r){let i=t[n];const s=e.data;if(function z$(t){return t instanceof Xu}(i)){const o=i;o.resolving&&function gj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}(s[n]));const a=Ph(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Hn(o.injectImpl):null;$5(t,r,ue.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function V$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=T5(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&Hn(u),Ph(a),o.resolving=!1,K5()}}return i}function oS(t,e,n){return!!(n[e+(t>>eS)]&1<<t)}function aS(t,e){return!(t&ue.Self||t&ue.Host&&e)}class xn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iS(this._tNode,this._lView,e,yh(r),n)}}function Q$(){return new xn(tn(),I())}function nn(t){return Mi(()=>{const e=t.prototype.constructor,n=e[xi]||m0(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[xi]||m0(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function m0(t){return O2(t)?()=>{const e=m0(Z(t));return e&&e()}:fo(t)}function cS(t){const e=t[V],n=e.type;return 2===n?e.declTNode:1===n?t[fn]:null}const Va="__parameters__";function za(t,e,n){return Mi(()=>{const r=function y0(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,l){const d=c.hasOwnProperty(Va)?c[Va]:Object.defineProperty(c,Va,{value:[]})[Va];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ba(t,e){t.forEach(n=>Array.isArray(n)?Ba(n,e):e(n))}function lS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nl(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function rr(t,e,n){let r=ja(t,e);return r>=0?t[1|r]=n:(r=~r,function iG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function v0(t,e){const n=ja(t,e);if(n>=0)return t[1|n]}function ja(t,e){return function dS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Bt=Bu(za("Optional"),8),w0=Bu(za("SkipSelf"),4);function $h(t){return 128==(128&t.flags)}var ws=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ws||{});const SG=/^>|^->|<!--|-->|--!>|<!-$/g,DG=/(<|>)/,TG="\u200b$1\u200b";const E0=new Map;let AG=0;const D0="__ngContext__";function hn(t,e){Un(e)?(t[D0]=e[Ku],function xG(t){E0.set(t[Ku],t)}(e)):t[D0]=e}let T0;function A0(t,e){return T0(t,e)}function sl(t){const e=t[Qe];return Bn(e)?e[Qe]:e}function NS(t){return PS(t[qu])}function kS(t){return PS(t[Ar])}function PS(t){for(;null!==t&&!Bn(t);)t=t[Ar];return t}function qa(t,e,n,r,i){if(null!=r){let s,o=!1;Bn(r)?s=r:Un(r)&&(o=!0,r=r[gt]);const a=Le(r);0===t&&null!==n?null==i?LS(e,n,a):go(e,n,a,i||null,!0):1===t&&null!==n?go(e,n,a,i||null,!0):2===t?function Xh(t,e,n){const r=Yh(t,e);r&&function YG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function JG(t,e,n,r,i){const s=n[Qr];s!==Le(n)&&qa(e,t,r,s,i);for(let a=en;a<n.length;a++){const c=n[a];al(c[V],c,t,e,r,s)}}(e,t,s,n,i)}}function M0(t,e){return t.createComment(function IS(t){return t.replace(SG,e=>e.replace(DG,TG))}(e))}function Wh(t,e,n){return t.createElement(e,n)}function RS(t,e){const n=t[ka],r=n.indexOf(e);O5(e),n.splice(r,1)}function Kh(t,e){if(t.length<=en)return;const n=en+e,r=t[n];if(r){const i=r[Wu];null!==i&&i!==t&&RS(i,r),e>0&&(t[n-1][Ar]=r[Ar]);const s=Vh(t,en+e);!function UG(t,e){al(t,e,e[re],2,null,null),e[gt]=null,e[fn]=null}(r[V],r);const o=s[Yr];null!==o&&o.detachView(s[V]),r[Qe]=null,r[Ar]=null,r[se]&=-129}return r}function x0(t,e){if(!(256&e[se])){const n=e[re];e[bh]?.destroy(),e[Ch]?.destroy(),n.destroyNode&&al(t,e,n,3,null,null),function $G(t){let e=t[qu];if(!e)return N0(t[V],t);for(;e;){let n=null;if(Un(e))n=e[qu];else{const r=e[en];r&&(n=r)}if(!n){for(;e&&!e[Ar]&&e!==t;)Un(e)&&N0(e[V],e),e=e[Qe];null===e&&(e=t),Un(e)&&N0(e[V],e),n=e&&e[Ar]}e=n}}(e)}}function N0(t,e){if(!(256&e[se])){e[se]&=-129,e[se]|=256,function KG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Xu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Jr(4,a,c);try{c.call(a)}finally{Jr(5,a,c)}}else{Jr(4,i,s);try{s.call(i)}finally{Jr(5,i,s)}}}}}(t,e),function WG(t,e){const n=t.cleanup,r=e[Aa];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Aa]=null);const i=e[ys];if(null!==i){e[ys]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[V].type&&e[re].destroy();const n=e[Wu];if(null!==n&&Bn(e[Qe])){n!==e[Qe]&&RS(n,e);const r=e[Yr];null!==r&&r.detachView(t)}!function NG(t){E0.delete(t[Ku])}(e)}}function k0(t,e,n){return function FS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[gt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Dr.None||s===Dr.Emulated)return null}return jn(r,n)}}(t,e.parent,n)}function go(t,e,n,r,i){t.insertBefore(e,n,r,i)}function LS(t,e,n){t.appendChild(e,n)}function VS(t,e,n,r,i){null!==r?go(t,e,n,r,i):LS(t,e,n)}function Yh(t,e){return t.parentNode(e)}function HS(t,e,n){return US(t,e,n)}let P0,Jh,L0,Zh,US=function zS(t,e,n){return 40&t.type?jn(t,n):null};function Qh(t,e,n,r){const i=k0(t,r,e),s=e[re],a=HS(r.parent||e[fn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)VS(s,i,n[c],a,!1);else VS(s,i,n,a,!1);void 0!==P0&&P0(s,r,e,n,i)}function ol(t,e){if(null!==e){const n=e.type;if(3&n)return jn(e,t);if(4&n)return O0(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ol(t,r);{const i=t[e.index];return Bn(i)?O0(-1,i):Le(i)}}if(32&n)return A0(e,t)()||Le(t[e.index]);{const r=jS(t,e);return null!==r?Array.isArray(r)?r[0]:ol(sl(t[yt]),r):ol(t,e.next)}}return null}function jS(t,e){return null!==e?t[yt][fn].projection[e.projection]:null}function O0(t,e){const n=en+t+1;if(n<e.length){const r=e[n],i=r[V].firstChild;if(null!==i)return ol(r,i)}return e[Qr]}function R0(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&hn(Le(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)R0(t,e,n.child,r,i,s,!1),qa(e,t,i,a,s);else if(32&c){const u=A0(n,r);let l;for(;l=u();)qa(e,t,i,l,s);qa(e,t,i,a,s)}else 16&c?GS(t,e,r,n,i,s):qa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function al(t,e,n,r,i,s){R0(n,r,t.firstChild,e,i,s,!1)}function GS(t,e,n,r,i,s){const o=n[yt],c=o[fn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)qa(e,t,i,c[u],s);else{let u=c;const l=o[Qe];$h(r)&&(u.flags|=128),R0(t,e,u,l,i,s,!0)}}function qS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function WS(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&W2(t,e,r),null!==i&&qS(t,e,i),null!==s&&function eq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Wa(t){return function F0(){if(void 0===Jh&&(Jh=null,Oe.trustedTypes))try{Jh=Oe.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jh}()?.createHTML(t)||t}function Ka(){if(void 0!==L0)return L0;if(typeof document<"u")return document;throw new T(210,!1)}function KS(t){return function V0(){if(void 0===Zh&&(Zh=null,Oe.trustedTypes))try{Zh=Oe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zh}()?.createHTML(t)||t}class mo{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${YE})`}}class sq extends mo{getTypeName(){return"HTML"}}class oq extends mo{getTypeName(){return"Style"}}class aq extends mo{getTypeName(){return"Script"}}class cq extends mo{getTypeName(){return"URL"}}class uq extends mo{getTypeName(){return"ResourceURL"}}function ir(t){return t instanceof mo?t.changingThisBreaksApplicationSecurity:t}function ti(t,e){const n=function lq(t){return t instanceof mo&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${YE})`)}return n===e}class mq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Wa(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class yq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Wa(e),n}}const _q=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ep(t){return(t=String(t)).match(_q)?t:"unsafe:"+t}function Oi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function cl(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const JS=Oi("area,br,col,hr,img,wbr"),ZS=Oi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eD=Oi("rp,rt"),H0=cl(JS,cl(ZS,Oi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cl(eD,Oi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cl(eD,ZS)),z0=Oi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tD=cl(z0,Oi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wq=Oi("script,style,template");class bq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!H0.hasOwnProperty(n))return this.sanitizedSomething=!0,!wq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!tD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;z0[a]&&(c=ep(c)),this.buf.push(" ",o,'="',nD(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();H0.hasOwnProperty(n)&&!JS.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(nD(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Cq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Iq=/([^\#-~ |!])/g;function nD(t){return t.replace(/&/g,"&amp;").replace(Cq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Iq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tp;function rD(t,e){let n=null;try{tp=tp||function XS(t){const e=new yq(t);return function vq(){try{return!!(new window.DOMParser).parseFromString(Wa(""),"text/html")}catch{return!1}}()?new mq(e):e}(t);let r=e?String(e):"";n=tp.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=tp.getInertBodyElement(r)}while(r!==s);return Wa((new bq).sanitizeChildren(U0(n)||n))}finally{if(n){const r=U0(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function U0(t){return"content"in t&&function Eq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yr||{});function iD(t){const e=ul();return e?KS(e.sanitize(yr.HTML,t)||""):ti(t,"HTML")?KS(ir(t)):rD(Ka(),ne(t))}function B0(t){const e=ul();return e?e.sanitize(yr.URL,t)||"":ti(t,"URL")?ir(t):ep(ne(t))}function ul(){const t=I();return t&&t[Ma].sanitizer}class B{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ll=new B("ENVIRONMENT_INITIALIZER"),aD=new B("INJECTOR",-1),cD=new B("INJECTOR_DEF_TYPES");class j0{get(e,n=Uu){if(n===Uu){const r=new Error(`NullInjectorError: No provider for ${kt(e)}!`);throw r.name="NullInjectorError",r}return n}}function xq(...t){return{\u0275providers:lD(0,t),\u0275fromNgModule:!0}}function lD(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Ba(e,o=>{const a=o;np(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&dD(i,s),n}function dD(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];$0(i,s=>{e(s,r)})}}function np(t,e,n,r){if(!(t=Z(t)))return!1;let i=null,s=ph(t);const o=!s&&pe(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=ph(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)np(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Ba(s.imports,l=>{np(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&dD(u,e)}if(!a){const u=fo(i)||(()=>new i);e({provide:i,useFactory:u,deps:we},i),e({provide:cD,useValue:i,multi:!0},i),e({provide:ll,useValue:()=>W(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const u=t;$0(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function $0(t,e){for(let n of t)R2(n)&&(n=n.\u0275providers),Array.isArray(n)?$0(n,e):e(n)}const Nq=Te({provide:String,useValue:Te});function G0(t){return null!==t&&"object"==typeof t&&Nq in t}function yo(t){return"function"==typeof t}const q0=new B("Set Injector scope."),rp={},Pq={};let W0;function ip(){return void 0===W0&&(W0=new j0),W0}class kr{}class sp extends kr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Y0(e,o=>this.processProvider(o)),this.records.set(aD,Ya(void 0,this)),i.has("environment")&&this.records.set(kr,Ya(void 0,this));const s=this.records.get(q0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(cD.multi,we,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=gs(this),r=Hn(void 0);try{return e()}finally{gs(n),Hn(r)}}get(e,n=Uu,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(i5))return e[i5](this);r=yh(r);const s=gs(this),o=Hn(void 0);try{if(!(r&ue.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function Vq(t){return"function"==typeof t||"object"==typeof t&&t instanceof B}(e)&&hh(e);c=u&&this.injectableDefInScope(u)?Ya(K0(e),rp):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ue.Self?ip():this.parent).get(e,n=r&ue.Optional&&n===Uu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[mh]=a[mh]||[]).unshift(kt(e)),s)throw a;return function xj(t,e,n,r){const i=t[mh];throw e[t5]&&i.unshift(e[t5]),t.message=function Nj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=kt(e);if(Array.isArray(e))i=e.map(kt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):kt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[mh]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Hn(o),gs(s)}}resolveInjectorInitializers(){const e=gs(this),n=Hn(void 0);try{const i=this.get(ll.multi,we,ue.Self);for(const s of i)s()}finally{gs(e),Hn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(kt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=yo(e=Z(e))?e:Z(e&&e.provide);const r=function Rq(t){return G0(t)?Ya(void 0,t.useValue):Ya(pD(t),rp)}(e);if(yo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ya(void 0,rp,!0),i.factory=()=>$2(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===rp&&(n.value=Pq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Lq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function K0(t){const e=hh(t),n=null!==e?e.factory:fo(t);if(null!==n)return n;if(t instanceof B)throw new T(204,!1);if(t instanceof Function)return function Oq(t){const e=t.length;if(e>0)throw nl(e,"?"),new T(204,!1);const n=function bj(t){return t&&(t[gh]||t[XE])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function pD(t,e,n){let r;if(yo(t)){const i=Z(t);return fo(i)||K0(i)}if(G0(t))r=()=>Z(t.useValue);else if(function hD(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...$2(t.deps||[]));else if(function fD(t){return!(!t||!t.useExisting)}(t))r=()=>W(Z(t.useExisting));else{const i=Z(t&&(t.useClass||t.provide));if(!function Fq(t){return!!t.deps}(t))return fo(i)||K0(i);r=()=>new i(...$2(t.deps))}return r}function Ya(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Y0(t,e){for(const n of t)Array.isArray(n)?Y0(n,e):n&&R2(n)?Y0(n.\u0275providers,e):e(n)}const op=new B("AppId",{providedIn:"root",factory:()=>Hq}),Hq="ng",gD=new B("Platform Initializer"),bs=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mD=new B("CSP nonce",{providedIn:"root",factory:()=>Ka().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vD=(t,e,n)=>null;function ny(t,e,n=!1){return vD(t,e,n)}class Yq{}class bD{}class Xq{resolveComponentFactory(e){throw function Qq(t){const e=Error(`No component factory found for ${kt(t)}.`);return e.ngComponent=t,e}(e)}}let pl=(()=>{class e{}return e.NULL=new Xq,e})();function Jq(){return Xa(tn(),I())}function Xa(t,e){return new pn(jn(t,e))}let pn=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=Jq,e})();class ID{}let ni=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function eW(){const t=I(),n=nr(tn().index,t);return(Un(n)?n:t)[re]}(),e})(),tW=(()=>{var t;class e{}return(t=e).\u0275prov=U({token:t,providedIn:"root",factory:()=>null}),e})();class Ja{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ED=new Ja("16.2.1"),sy={};function AD(t,e=null,n=null,r){const i=MD(t,e,n,r);return i.resolveInjectorInitializers(),i}function MD(t,e=null,n=null,r,i=new Set){const s=[n||we,xq(t)];return r=r||("object"==typeof t?void 0:kt(t)),new sp(s,e||ip(),r||null,i)}let jt=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return AD({name:""},i,r,"");{const s=r.name??"";return AD({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Uu,t.NULL=new j0,t.\u0275prov=U({token:t,providedIn:"any",factory:()=>W(aD)}),t.__NG_ELEMENT_ID__=-1,e})();function Ri(t){return t instanceof Function?t():t}let cy=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new T(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=U({token:t,providedIn:"root",factory:()=>new t}),e})();function gl(t){for(;t;){t[se]|=64;const e=sl(t);if(Q2(t)&&!e)return t;t=e}return null}function uy(t){return t.ngOriginalError}class vo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&uy(e);for(;n&&uy(n);)n=uy(n);return n||null}}const OD=new B("",{providedIn:"root",factory:()=>!1});class VD extends I5{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){gl(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Ut(this);this.trackingVersion++;try{e(n,r)}finally{Ut(i)}}destroy(){this.trackingVersion++}}let hp=null;function HD(){return hp??=new VD,hp}function zD(t,e){return t[e]??HD()}function UD(t,e){const n=HD();n.hasReadASignal&&(t[e]=hp,n.lView=t,hp=new VD)}const oe={};function R(t){BD(ge(),I(),Mn()+t,!1)}function BD(t,e,n,r){if(!r)if(3==(3&e[se])){const s=t.preOrderCheckHooks;null!==s&&Nh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&kh(e,s,0,n)}ho(n)}function E(t,e=ue.Default){const n=I();return null===n?W(t,e):iS(tn(),n,Z(t),e)}function pp(t,e,n,r,i,s,o,a,c,u,l){const d=e.blueprint.slice();return d[gt]=i,d[se]=140|r,(null!==u||t&&2048&t[se])&&(d[se]|=2048),P5(d),d[Qe]=d[xa]=t,d[mt]=n,d[Ma]=o||t&&t[Ma],d[re]=a||t&&t[re],d[ms]=c||t&&t[ms]||null,d[fn]=s,d[Ku]=function MG(){return AG++}(),d[Ni]=l,d[y5]=u,d[yt]=2==e.type?t[yt]:d,d}function tc(t,e,n,r,i){let s=t.data[e];if(null===s)s=function ly(t,e,n,r,i){const s=H5(),o=n0(),c=t.data[e]=function SW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Oa()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function A$(){return J.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Qu(){const t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Zr(s,!0),s}function ml(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function jD(t,e,n,r,i){const s=zD(e,bh),o=Mn(),a=2&r;try{if(ho(-1),a&&e.length>le&&BD(t,e,le,!1),Jr(a?2:0,i),a)s.runInContext(n,r,i);else{const u=Ut(null);try{n(r,i)}finally{Ut(u)}}}finally{a&&null===e[bh]&&UD(e,bh),ho(o),Jr(a?3:1,i)}}function dy(t,e,n){if(Y2(e)){const r=Ut(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Ut(r)}}}function fy(t,e,n){V5()&&(function kW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;lo(n)&&function HW(t,e,n){const r=jn(e,t),i=$D(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=gp(t,pp(t,i,null,o,r,e,null,t[Ma].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Oh(n,e),hn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],u=po(e,t,a,n);hn(u,e),null!==o&&zW(0,a-i,u,c,0,o),Mr(c)&&(nr(n.index,e)[mt]=po(e,t,a,n))}}(t,e,n,jn(n,e)),64==(64&n.flags)&&YD(t,e,n))}function hy(t,e,n=jn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function $D(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=py(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function py(t,e,n,r,i,s,o,a,c,u,l){const d=le+r,f=d+i,h=function _W(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oe);return n}(d,f),p="function"==typeof u?u():u;return h[V]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let GD=t=>null;function qD(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?WD(n,e,i,s):r.hasOwnProperty(i)&&WD(n,e,r[i],s)}return n}function WD(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function sr(t,e,n,r,i,s,o,a){const c=jn(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(_y(t,n,l,r,i),lo(e)&&function AW(t,e){const n=nr(e,t);16&n[se]||(n[se]|=64)}(n,e.index)):3&e.type&&(r=function TW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function gy(t,e,n,r){if(V5()){const i=null===r?null:{"":-1},s=function OW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(d5(e,o.selectors,!1))if(r||(r=[]),Mr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),my(t,e,a.length)}else r.unshift(o),my(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&KD(t,e,n,o,i,a),i&&function RW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=$u(n.mergedAttrs,n.attrs)}function KD(t,e,n,r,i,s){for(let u=0;u<r.length;u++)g0(Oh(n,e),t,r[u].type);!function LW(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=ml(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=$u(n.mergedAttrs,l.hostAttrs),VW(t,n,e,c,l),FW(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function DW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],f=n?n.get(d):null,p=f?f.outputs:null;c=qD(d.inputs,l,c,f?f.inputs:null),u=qD(d.outputs,l,u,p);const m=null===c||null===o||l5(e)?null:UW(c,l,o);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,s)}function YD(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function x$(){return J.lFrame.currentDirectiveIndex}();try{ho(s);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];s0(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&PW(c,u)}}finally{ho(-1),s0(o)}}function PW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function my(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function FW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mr(e)&&(n[""]=t)}}function VW(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=fo(i.type)),o=new Xu(s,Mr(i),E);t.blueprint[r]=o,n[r]=o,function xW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function NW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,ml(t,n,i.hostVars,oe),i)}function ri(t,e,n,r,i,s){const o=jn(t,e);!function yy(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?ne(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[re],o,s,t.value,n,r,i)}function zW(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)QD(r,n,o[a++],o[a++],o[a++])}function QD(t,e,n,r,i){const s=Ut(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Ut(s)}}function UW(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function XD(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function JD(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];a0(n[r]),o.contentQueries(2,e[s],s)}}}function gp(t,e){return t[qu]?t[m5][Ar]=e:t[qu]=e,t[m5]=e,e}function vy(t,e,n){a0(0);const r=Ut(null);try{e(t,n)}finally{Ut(r)}}function nT(t,e){const n=t[ms],r=n?n.get(vo,null):null;r&&r.handleError(e)}function _y(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];QD(t.data[o],e[o],r,a,i)}}function BW(t,e){const n=nr(e,t),r=n[V];!function jW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[gt];null!==i&&null===n[Ni]&&(n[Ni]=ny(i,n[ms])),wy(r,n,n[mt])}function wy(t,e,n){c0(e);try{const r=t.viewQuery;null!==r&&vy(1,r,n);const i=t.template;null!==i&&jD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&JD(t,e),t.staticViewQueries&&vy(2,t.viewQuery,n);const s=t.components;null!==s&&function $W(t,e){for(let n=0;n<e.length;n++)BW(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,u0()}}let rT=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=new o$(r,l=>{this.all.has(l)&&this.queue.set(l,o)},s);let c;this.all.add(a),a.notify();const u=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=U({token:t,providedIn:"root",factory:()=>new t}),e})();function mp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=P2(i,a):2==s&&(r=P2(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function yl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Le(s)),Bn(s)){for(let a=en;a<s.length;a++){const c=s[a],u=c[V].firstChild;null!==u&&yl(c[V],c,u,r)}s[Qr]!==s[gt]&&r.push(s[Qr])}const o=n.type;if(8&o)yl(t,e,n.child,r);else if(32&o){const a=A0(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=jS(e,n);if(Array.isArray(a))r.push(...a);else{const c=sl(e[yt]);yl(c[V],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function yp(t,e,n,r=!0){const i=e[Ma],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{iT(t,e,t.template,n)}catch(c){throw r&&nT(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function iT(t,e,n,r){const i=e[se];if(256!=(256&i)){e[Ma].effectManager?.flush(),c0(e);try{P5(e),function U5(t){return J.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&jD(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&Nh(e,u,null)}else{const u=t.preOrderHooks;null!==u&&kh(e,u,0,null),l0(e,0)}if(function WW(t){for(let e=NS(t);null!==e;e=kS(e)){if(!e[v5])continue;const n=e[ka];for(let r=0;r<n.length;r++){y$(n[r])}}}(e),sT(e,2),null!==t.contentQueries&&JD(t,e),o){const u=t.contentCheckHooks;null!==u&&Nh(e,u)}else{const u=t.contentHooks;null!==u&&kh(e,u,1),l0(e,1)}!function vW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=zD(e,Ch);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ho(~s);else{const o=s,a=n[++i],c=n[++i];M$(a,o),r.runInContext(c,2,e[o])}}}finally{null===e[Ch]&&UD(e,Ch),ho(-1)}}(t,e);const a=t.components;null!==a&&aT(e,a,0);const c=t.viewQuery;if(null!==c&&vy(2,c,r),o){const u=t.viewCheckHooks;null!==u&&Nh(e,u)}else{const u=t.viewHooks;null!==u&&kh(e,u,2),l0(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[se]&=-73,O5(e)}finally{u0()}}}function sT(t,e){for(let n=NS(t);null!==n;n=kS(n))for(let r=en;r<n.length;r++)oT(n[r],e)}function KW(t,e,n){oT(nr(e,t),n)}function oT(t,e){if(!function g$(t){return 128==(128&t[se])}(t))return;const n=t[V];if(80&t[se]&&0===e||1024&t[se]||2===e)iT(n,t,n.template,t[mt]);else if(t[Gu]>0){sT(t,1);const i=t[V].components;null!==i&&aT(t,i,1)}}function aT(t,e,n){for(let r=0;r<e.length;r++)KW(t,e[r],n)}class vl{get rootNodes(){const e=this._lView,n=e[V];return yl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mt]}set context(e){this._lView[mt]=e}get destroyed(){return 256==(256&this._lView[se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Qe];if(Bn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Kh(e,r),Vh(n,r))}this._attachedToViewContainer=!1}x0(this._lView[V],this._lView)}onDestroy(e){!function F5(t,e){if(256==(256&t[se]))throw new T(911,!1);null===t[ys]&&(t[ys]=[]),t[ys].push(e)}(this._lView,e)}markForCheck(){gl(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){this._lView[se]|=128}detectChanges(){yp(this._lView[V],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jG(t,e){al(t,e,e[re],2,null,null)}(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class YW extends vl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;yp(e[V],e,e[mt],!1)}checkNoChanges(){}get context(){return null}}class cT extends pl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=pe(e);return new _l(n,this.ngModule)}}function uT(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class XW{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yh(r);const i=this.injector.get(e,sy,r);return i!==sy||n===sy?i:this.parentInjector.get(e,n,r)}}class _l extends bD{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=uT(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return uT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Uj(t){return t.map(zj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof kr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new XW(e,s):e,a=o.get(ID,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:o.get(tW,null),effectManager:o.get(rT,null),afterRenderEventManager:o.get(cy,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function wW(t,e,n,r){const s=r.get(OD,!1)||n===Dr.ShadowDom,o=t.selectRootElement(e,s);return function bW(t){GD(t)}(o),o}(f,r,this.componentDef.encapsulation,o):Wh(f,h,function QW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=ny(p,o,!0));const C=py(0,null,null,1,0,null,null,null,null,null,null),N=pp(null,C,null,_,null,null,d,f,o,null,v);let L,K;c0(N);try{const he=this.componentDef;let Nt,Ht=null;he.findHostDirectiveDefs?(Nt=[],Ht=new Map,he.findHostDirectiveDefs(he,Nt,Ht),Nt.push(he)):Nt=[he];const nh=function ZW(t,e){const n=t[V],r=le;return t[r]=e,tc(n,r,2,"#host",null)}(N,p),a3e=function eK(t,e,n,r,i,s,o){const a=i[V];!function tK(t,e,n,r){for(const i of t)e.mergedAttrs=$u(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(mp(e,e.mergedAttrs,!0),null!==n&&WS(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=ny(e,i[ms]));const u=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=pp(i,$D(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&my(a,t,r.length-1),gp(i,d),i[t.index]=d}(nh,p,he,Nt,N,d,f);K=k5(C,le),p&&function rK(t,e,n,r){if(r)W2(t,n,["ng-version",ED.full]);else{const{attrs:i,classes:s}=function Bj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Tr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&W2(t,n,i),s&&s.length>0&&qS(t,n,s.join(" "))}}(f,he,p,r),void 0!==n&&function iK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(K,this.ngContentSelectors,n),L=function nK(t,e,n,r,i,s){const o=tn(),a=i[V],c=jn(o,i);KD(a,i,o,n,null,r);for(let l=0;l<n.length;l++)hn(po(i,a,o.directiveStart+l,o),i);YD(a,i,o),c&&hn(c,i);const u=po(i,a,o.directiveStart+o.componentOffset,o);if(t[mt]=i[mt]=u,null!==s)for(const l of s)l(u,e);return dy(a,o,t),u}(a3e,he,Nt,Ht,N,[sK]),wy(C,N,null)}finally{u0()}return new JW(this.componentType,L,Xa(K,N),N,K)}}class JW extends Yq{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new YW(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;_y(s[V],s,i,e,n),this.previousInputValues.set(e,n),gl(nr(this._tNode.index,s))}}get injector(){return new xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function sK(){const t=tn();xh(I()[V],t)}function Ae(t){let e=function lT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Mr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=vp(t.inputs),o.inputTransforms=vp(t.inputTransforms),o.declaredInputs=vp(t.declaredInputs),o.outputs=vp(t.outputs);const a=i.hostBindings;a&&uK(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&aK(t,c),u&&cK(t,u),dh(t.inputs,i.inputs),dh(t.declaredInputs,i.declaredInputs),dh(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),dh(o.inputTransforms,i.inputTransforms)),Mr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ae&&(n=!1)}}e=Object.getPrototypeOf(e)}!function oK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$u(i.hostAttrs,n=$u(n,i.hostAttrs))}}(r)}function vp(t){return t===Kr?{}:t===we?[]:t}function aK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function cK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function uK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function _p(t){return!!by(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function by(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ii(t,e,n){return t[e]=n}function gn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function _o(t,e,n,r){const i=gn(t,e,n);return gn(t,e+1,r)||i}function Pr(t,e,n,r){const i=I();return gn(i,Ra(),e)&&(ge(),ri(tt(),i,t,e,n,r)),Pr}function rc(t,e,n,r){return gn(t,Ra(),n)?e+ne(n)+r:oe}function vt(t,e,n,r,i,s,o,a){const c=I(),u=ge(),l=t+le,d=u.firstCreatePass?function OK(t,e,n,r,i,s,o,a,c){const u=e.consts,l=tc(e,t,4,o||null,vs(u,a));gy(e,n,l,vs(u,c)),xh(e,l);const d=l.tView=py(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];Zr(d,!1);const f=TT(u,c,d,t);Mh()&&Qh(u,c,f,d),hn(f,c),gp(c,c[l]=XD(f,c,f,d)),Eh(d)&&fy(u,c,d),null!=o&&hy(c,d,a)}let TT=function AT(t,e,n,r){return _s(!0),e[re].createComment("")};function Ty(t){return Pa(function T$(){return J.lFrame.contextLView}(),le+t)}function Q(t,e,n){const r=I();return gn(r,Ra(),e)&&sr(ge(),tt(),r,t,e,r[re],n,!1),Q}function Ay(t,e,n,r,i){const o=i?"class":"style";_y(t,n,e.inputs[o],o,r)}function M(t,e,n,r){const i=I(),s=ge(),o=le+t,a=i[re],c=s.firstCreatePass?function VK(t,e,n,r,i,s){const o=e.consts,c=tc(e,t,2,r,vs(o,i));return gy(e,n,c,vs(o,s)),null!==c.attrs&&mp(c,c.attrs,!1),null!==c.mergedAttrs&&mp(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],u=MT(s,i,c,a,e,t);i[o]=u;const l=Eh(c);return Zr(c,!0),WS(a,u,c),32!=(32&c.flags)&&Mh()&&Qh(s,i,u,c),0===function _$(){return J.lFrame.elementDepthCount}()&&hn(u,i),function w$(){J.lFrame.elementDepthCount++}(),l&&(fy(s,i,c),dy(s,c,i)),null!==r&&hy(i,c),M}function k(){let t=tn();n0()?r0():(t=t.parent,Zr(t,!1));const e=t;(function C$(t){return J.skipHydrationRootTNode===t})(e)&&function D$(){J.skipHydrationRootTNode=null}(),function b$(){J.lFrame.elementDepthCount--}();const n=ge();return n.firstCreatePass&&(xh(n,t),Y2(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function U$(t){return 0!=(8&t.flags)}(e)&&Ay(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function B$(t){return 0!=(16&t.flags)}(e)&&Ay(n,e,I(),e.stylesWithoutHost,!1),k}function Ce(t,e,n,r){return M(t,e,n,r),k(),Ce}let MT=(t,e,n,r,i,s)=>(_s(!0),Wh(r,i,function Y5(){return J.lFrame.currentNamespace}()));function Ep(t,e,n){const r=I(),i=ge(),s=t+le,o=i.firstCreatePass?function UK(t,e,n,r,i){const s=e.consts,o=vs(s,r),a=tc(e,t,8,"ng-container",o);return null!==o&&mp(a,o,!0),gy(e,n,a,vs(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Zr(o,!0);const a=NT(i,r,o,t);return r[s]=a,Mh()&&Qh(i,r,a,o),hn(a,r),Eh(o)&&(fy(i,r,o),dy(i,o,r)),null!=n&&hy(r,o),Ep}function Sp(){let t=tn();const e=ge();return n0()?r0():(t=t.parent,Zr(t,!1)),e.firstCreatePass&&(xh(e,t),Y2(t)&&e.queries.elementEnd(t)),Sp}let NT=(t,e,n,r)=>(_s(!0),M0(e[re],""));function wo(){return I()}function El(t){return!!t&&"function"==typeof t.then}function kT(t){return!!t&&"function"==typeof t.subscribe}function Xe(t,e,n,r){const i=I(),s=ge(),o=tn();return function OT(t,e,n,r,i,s,o){const a=Eh(r),u=t.firstCreatePass&&function eT(t){return t.cleanup||(t.cleanup=[])}(t),l=e[mt],d=function ZD(t){return t[Aa]||(t[Aa]=[])}(e);let f=!0;if(3&r.type||o){const m=jn(r,e),y=o?o(m):m,_=d.length,v=o?N=>o(Le(N[r.index])):r.index;let C=null;if(!o&&a&&(C=function $K(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Aa],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,f=!1;else{s=FT(r,e,l,s,!1);const N=n.listen(y,i,s);d.push(s,N),u&&u.push(i,v,_,_+1)}}else s=FT(r,e,l,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const L=e[p[y]][p[y+1]].subscribe(s),K=d.length;d.push(s,L),u&&u.push(i,r.index,K,-(K+1))}}}(s,i,i[re],o,t,e,r),Xe}function RT(t,e,n,r){try{return Jr(6,e,n),!1!==n(r)}catch(i){return nT(t,i),!1}finally{Jr(7,e,n)}}function FT(t,e,n,r,i){return function s(o){if(o===Function)return r;gl(t.componentOffset>-1?nr(t.index,e):e);let c=RT(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=RT(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function nt(t=1){return function k$(t){return(J.lFrame.contextLView=function P$(t,e){for(;t>0;)e=e[xa],t--;return e}(t,J.lFrame.contextLView))[mt]}(t)}function GK(t,e){let n=null;const r=function Fj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?d5(t,s,!0):Hj(r,s))return i}else n=i}return n}function Sl(t,e,n){return My(t,"",e,"",n),Sl}function My(t,e,n,r,i){const s=I(),o=rc(s,e,n,r);return o!==oe&&sr(ge(),tt(),s,t,o,s[re],i,!1),My}function Dp(t,e){return t<<17|e<<2}function Cs(t){return t>>17&32767}function xy(t){return 2|t}function bo(t){return(131068&t)>>2}function Ny(t,e){return-131069&t|e<<2}function ky(t){return 1|t}function WT(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Cs(s):bo(s),c=!1;for(;0!==a&&(!1===c||o);){const l=t[a+1];XK(t[a],e)&&(c=!0,t[a+1]=r?ky(l):xy(l)),a=r?Cs(l):bo(l)}c&&(t[n+1]=r?xy(s):ky(s))}function XK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ja(t,e)>=0}function Dl(t,e){return function Or(t,e,n,r){const i=I(),s=ge(),o=function Pi(t){const e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function n7(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Mn()],o=function t7(t,e){return e>=t.expandoStartIndex}(t,n);(function o7(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function oY(t,e,n,r){const i=function o0(t){const e=J.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Tl(n=Py(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Py(i,t,e,n,r),null===s){let c=function aY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==bo(r))return t[Cs(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Py(null,t,e,c[1],r),c=Tl(c,e.attrs,r),function cY(t,e,n,r){t[Cs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function uY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Tl(r,t[s].hostAttrs,n);return Tl(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function YK(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Cs(o),c=bo(o);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||ja(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const f=Cs(t[a+1]);t[r+1]=Dp(f,a),0!==f&&(t[f+1]=Ny(t[f+1],r)),t[a+1]=function WK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Dp(a,0),0!==a&&(t[a+1]=Ny(t[a+1],r)),a=r;else t[r+1]=Dp(c,0),0===a?a=r:t[c+1]=Ny(t[c+1],r),c=r;u&&(t[r+1]=xy(t[r+1])),WT(t,l,r,!0),WT(t,l,r,!1),function QK(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ja(s,e)>=0&&(n[r+1]=ky(n[r+1]))}(e,l,t,r,s),o=Dp(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==oe&&gn(i,o,e)&&function i7(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function KK(t){return 1==(1&t)}(u)?s7(c,e,n,i,bo(u),o):void 0;Tp(l)||(Tp(s)||function qK(t){return 2==(2&t)}(u)&&(s=s7(c,null,n,i,a,o)),function ZG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:ws.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ws.Important),t.setStyle(n,r,i,s))}}(r,o,Ah(Mn(),n),i,s))}(s,s.data[Mn()],i,i[re],t,i[o+1]=function hY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=kt(ir(t)))),t}(e,n),r,o)}(t,e,null,!0),Dl}function Py(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Tl(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Tl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),rr(t,o,!!n||e[++s]))}return void 0===t?null:t}function s7(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let f=n[i+1];f===oe&&(f=d?we:void 0);let h=d?v0(f,r):l===r?f:void 0;if(u&&!Tp(h)&&(h=v0(c,r)),Tp(h)&&(a=h,o))return a;const p=t[i+1];i=o?Cs(p):bo(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=v0(c,r))}return a}function Tp(t){return void 0!==t}function q(t,e=""){const n=I(),r=ge(),i=t+le,s=r.firstCreatePass?tc(r,i,1,e,null):r.data[i],o=a7(r,n,s,e,t);n[i]=o,Mh()&&Qh(r,n,o,s),Zr(s,!1)}let a7=(t,e,n,r,i)=>(_s(!0),function qh(t,e){return t.createText(e)}(e[re],r));function Ve(t){return fc("",t,""),Ve}function fc(t,e,n){const r=I(),i=rc(r,t,e,n);return i!==oe&&function Fi(t,e,n){const r=Ah(e,t);!function OS(t,e,n){t.setValue(e,n)}(t[re],r,n)}(r,Mn(),i),fc}function Oy(t,e,n){const r=I();return gn(r,Ra(),e)&&sr(ge(),tt(),r,t,e,r[re],n,!0),Oy}const Co=void 0;var RY=["en",[["a","p"],["AM","PM"],Co],[["AM","PM"],Co,Co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Co,"{1} 'at' {0}",Co],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OY(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let hc={};function Nn(t){const e=function FY(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=T7(e);if(n)return n;const r=e.split("-")[0];if(n=T7(r),n)return n;if("en"===r)return RY;throw new T(701,!1)}function T7(t){return t in hc||(hc[t]=Oe.ng&&Oe.ng.common&&Oe.ng.common.locales&&Oe.ng.common.locales[t]),hc[t]}var He=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(He||{});const pc="en-US";let A7=pc;function Ly(t,e,n,r,i){if(t=Z(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ly(t[s],e,n,r,i);else{const s=ge(),o=I(),a=tn();let c=yo(t)?t:Z(t.provide);const u=pD(t),l=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(yo(t)||!t.multi){const h=new Xu(u,i,E),p=Hy(c,e,i?l:l+f,d);-1===p?(g0(Oh(a,o),s,c),Vy(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=Hy(c,e,l+f,d),p=Hy(c,e,l,l+f),y=p>=0&&n[p];if(i&&!y||!i&&!(h>=0&&n[h])){g0(Oh(a,o),s,c);const _=function OQ(t,e,n,r,i){const s=new Xu(t,n,E);return s.multi=[],s.index=e,s.componentProviders=0,Z7(s,i,r&&!n),s}(i?PQ:kQ,n.length,i,r,u);!i&&y&&(n[p].providerFactory=_),Vy(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),o.push(_)}else Vy(s,t,h>-1?h:p,Z7(n[i?p:h],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Vy(t,e,n,r){const i=yo(e),s=function kq(t){return!!t.useClass}(e);if(i||s){const c=(s?Z(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function Z7(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Hy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function kQ(t,e,n,r){return zy(this.multi,[])}function PQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=po(n,n[V],this.providerFactory.index,r);s=a.slice(0,o),zy(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],zy(i,s);return s}function zy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Je(t,e=[]){return n=>{n.providersResolver=(r,i)=>function NQ(t,e,n){const r=ge();if(r.firstCreatePass){const i=Mr(t);Ly(n,r.data,r.blueprint,i,!0),Ly(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Io{}class eA{}class Uy extends Io{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cT(this);const i=tr(e);this._bootstrapComponents=Ri(i.bootstrap),this._r3Injector=MD(e,n,[{provide:Io,useValue:this},{provide:pl,useValue:this.componentFactoryResolver},...r],kt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class By extends eA{constructor(e){super(),this.moduleType=e}create(e){return new Uy(this.moduleType,e,[])}}class tA extends Io{constructor(e){super(),this.componentFactoryResolver=new cT(this),this.instance=null;const n=new sp([...e.providers,{provide:Io,useValue:this},{provide:pl,useValue:this.componentFactoryResolver}],e.parent||ip(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function nA(t,e,n=null){return new tA({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let LQ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=lD(0,r.type),s=i.length>0?nA([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(W(kr))}),e})();function rA(t){t.getStandaloneInjector=e=>e.get(LQ).getOrCreateStandaloneInjector(t)}function gc(t,e,n){const r=An()+t,i=I();return i[r]===oe?ii(i,r,n?e.call(n):e()):function wl(t,e){return t[e]}(i,r)}function qn(t,e,n,r){return dA(I(),An(),t,e,n,r)}function lA(t,e,n,r,i){return function fA(t,e,n,r,i,s,o){const a=e+n;return _o(t,a,i,s)?ii(t,a+2,o?r.call(o,i,s):r(i,s)):Pl(t,a+2)}(I(),An(),t,e,n,r,i)}function Pl(t,e){const n=t[e];return n===oe?void 0:n}function dA(t,e,n,r,i,s){const o=e+n;return gn(t,o,i)?ii(t,o+1,s?r.call(s,i):r(i)):Pl(t,o+1)}function hA(t,e,n,r,i,s,o,a){const c=e+n;return function wp(t,e,n,r,i){const s=_o(t,e,n,r);return gn(t,e+2,i)||s}(t,c,i,s,o)?ii(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):Pl(t,c+3)}function Pe(t,e){const n=ge();let r;const i=t+le;n.firstCreatePass?(r=function ZQ(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=fo(r.type)),a=Hn(E);try{const c=Ph(!1),u=s();return Ph(c),function LK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,I(),i,u),u}finally{Hn(a)}}function _t(t,e,n){const r=t+le,i=I(),s=Pa(i,r);return Ol(i,r)?dA(i,An(),e,s.transform,n,s):s.transform(n)}function Is(t,e,n,r,i){const s=t+le,o=I(),a=Pa(o,s);return Ol(o,s)?hA(o,An(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function Ol(t,e){return t[V].data[e].pure}function $y(t){return e=>{setTimeout(t,void 0,e)}}const rt=class rX extends qr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=$y(s),i&&(i=$y(i)),o&&(o=$y(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Jn&&e.add(a),a}};function oX(t,e,n,r=!0){const i=e[V];if(function GG(t,e,n,r){const i=en+r,s=n.length;r>0&&(n[i-1][Ar]=e),r<s-en?(e[Ar]=n[i],lS(n,en+r,e)):(n.push(e),e[Ar]=null),e[Qe]=n;const o=e[Wu];null!==o&&n!==o&&function qG(t,e){const n=t[ka];e[yt]!==e[Qe][Qe][yt]&&(t[v5]=!0),null===n?t[ka]=[e]:n.push(e)}(o,e);const a=e[Yr];null!==a&&a.insertView(t),e[se]|=128}(i,e,t,n),r){const s=O0(n,t),o=e[re],a=Yh(o,t[Qr]);null!==a&&function BG(t,e,n,r,i,s){r[gt]=i,r[fn]=e,al(t,r,n,1,i,s)}(i,t[fn],o,e,a,s)}}let Li=(()=>{class e{}return e.__NG_ELEMENT_ID__=uX,e})();const aX=Li,cX=class extends aX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function sX(t,e,n,r){const i=e.tView,a=pp(t,i,n,4096&t[se]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Wu]=t[e.index];const u=t[Yr];return null!==u&&(a[Yr]=u.createEmbeddedView(i)),wy(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new vl(i)}};function uX(){return function kp(t,e){return 4&t.type?new cX(e,t,Xa(t,e)):null}(tn(),I())}let Fr=(()=>{class e{}return e.__NG_ELEMENT_ID__=gX,e})();function gX(){return function CA(t,e){let n;const r=e[t.index];return Bn(r)?n=r:(n=XD(r,e,null,t),e[t.index]=n,gp(e,n)),IA(n,e,t,r),new wA(n,t,e)}(tn(),I())}const mX=Fr,wA=class extends mX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Xa(this._hostTNode,this._hostLView)}get injector(){return new xn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Rh(this._hostTNode,this._hostLView);if(f0(e)){const n=Zu(e,this._hostLView),r=Ju(e);return new xn(n[V].data[r+8],n)}return new xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=bA(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-en}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function tl(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const c=o?e:new _l(pe(e)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const y=(o?u:this.parentInjector).get(kr,null);y&&(s=y)}pe(c.componentType??{});const h=c.create(u,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function m$(t){return Bn(t[Qe])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[Qe],l=new wA(u,u[fn],u[Qe]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return oX(a,i,o,!r),e.attachToViewContainerRef(),lS(qy(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=bA(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Kh(this._lContainer,n);r&&(Vh(qy(this._lContainer),n),x0(r[V],r))}detach(e){const n=this._adjustIndex(e,-1),r=Kh(this._lContainer,n);return r&&null!=Vh(qy(this._lContainer),n)?new vl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function bA(t){return t[8]}function qy(t){return t[8]||(t[8]=[])}let IA=function EA(t,e,n,r){if(t[Qr])return;let i;i=8&n.type?Le(r):function yX(t,e){const n=t[re],r=n.createComment(""),i=jn(e,t);return go(n,Yh(n,i),r,function QG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Qr]=i};const YA=new B("Application Initializer");let rv=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=S(YA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(El(o))r.push(o);else if(kT(o)){const a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),QA=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Vi=new B("LocaleId",{providedIn:"root",factory:()=>S(Vi,ue.Optional|ue.SkipSelf)||function KX(){return typeof $localize<"u"&&$localize.locale||pc}()});let XA=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pr(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class XX{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let JX=(()=>{var t;class e{compileModuleSync(r){return new By(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Ri(tr(r).declarations).reduce((a,c)=>{const u=pe(c);return u&&a.push(new _l(u)),a},[]);return new XX(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function tM(...t){}class De{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function vJ(){const t="function"==typeof Oe.requestAnimationFrame;let e=Oe[t?"requestAnimationFrame":"setTimeout"],n=Oe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function bJ(t){const e=()=>{!function wJ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Oe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,av(t),t.isCheckStableRunning=!0,ov(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),av(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return nM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),rM(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return nM(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),rM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,av(t),ov(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!De.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(De.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_J,tM,tM);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const _J={};function ov(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function av(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function nM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rM(t){t._nesting--,ov(t)}class CJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const iM=new B("",{providedIn:"root",factory:sM});function sM(){const t=S(De);let e=!0;return function fj(...t){const e=zu(t),n=function sj(t,e){return"number"==typeof N2(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Zn(r[0]):ch(n)(dn(r,e)):Wr}(new be(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new be(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{De.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(WE()))}const oM=new B(""),Fp=new B("");let lv,cv=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lv||(function IJ(t){lv=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(W(De),W(uv),W(Fp))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})(),uv=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return lv?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Es=null;const aM=new B("AllowMultipleToken"),dv=new B("PlatformDestroyListeners"),cM=new B("appBootstrapListener");function dM(t,e,n=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=fv();if(!o||o.injector.get(aM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function DJ(t){if(Es&&!Es.get(aM,!1))throw new T(400,!1);(function uM(){!function i$(t){E5=t}(()=>{throw new T(600,!1)})})(),Es=t;const e=t.get(hM);(function lM(t){t.get(gD,null)?.forEach(n=>n())})(t)}(function fM(t=[],e){return jt.create({name:e,providers:[{provide:q0,useValue:"platform"},{provide:dv,useValue:new Set([()=>Es=null])},...t]})}(a,r))}return function AJ(t){const e=fv();if(!e)throw new T(401,!1);return e}()}}function fv(){return Es?.get(hM)??null}let hM=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function MJ(t="zone.js",e){return"noop"===t?new CJ:"zone.js"===t?new De(e):t}(i?.ngZone,function pM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function FQ(t,e,n){return new Uy(t,e,n)}(r.moduleType,this.injector,function _M(t){return[{provide:De,useFactory:t},{provide:ll,multi:!0,useFactory:()=>{const e=S(NJ,{optional:!0});return()=>e.initialize()}},{provide:vM,useFactory:xJ},{provide:iM,useFactory:sM}]}(()=>s)),a=o.injector.get(vo,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{Lp(this._modules,o),c.unsubscribe()})}),function gM(t,e,n){try{const r=n();return El(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(rv);return c.runInitializers(),c.donePromise.then(()=>(function M7(t){gr(t,"Expected localeId to be defined"),"string"==typeof t&&(A7=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Vi,pc)||pc),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=mM({},i);return function EJ(t,e,n){const r=new By(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(Ll);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new T(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(dv,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(W(jt))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function mM(t,e){return Array.isArray(e)?e.reduce(mM,t):{...t,...e}}let Ll=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(vM),this.zoneIsStable=S(iM),this.componentTypes=[],this.components=[],this.isStable=S(XA).hasPendingTasks.pipe(Sr(r=>r?ee(!1):this.zoneIsStable),KE(),WE()),this._injector=S(kr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof bD;if(!this._injector.get(rv).done)throw!s&&function Ta(t){const e=pe(t)||Zt(t)||Dn(t);return null!==e&&e.standalone}(r),new T(405,!1);let a;a=s?r:this._injector.get(pl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function SJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Io),l=a.create(jt.NULL,[],i||a.selector,c),d=l.location.nativeElement,f=l.injector.get(oM,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Lp(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Lp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(cM,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Lp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new T(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Lp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vM=new B("",{providedIn:"root",factory:()=>S(vo).handleError.bind(void 0)});function xJ(){const t=S(De),e=S(vo);return n=>t.runOutsideAngular(()=>e.handleError(n))}let NJ=(()=>{var t;class e{constructor(){this.zone=S(De),this.applicationRef=S(Ll)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Hi=(()=>{class e{}return e.__NG_ELEMENT_ID__=PJ,e})();function PJ(t){return function OJ(t,e,n){if(lo(t)&&!n){const r=nr(t.index,e);return new vl(r,r)}return 47&t.type?new vl(e[yt],e):null}(tn(),I(),16==(16&t))}class IM{constructor(){}supports(e){return _p(e)}create(e){return new zJ(e)}}const HJ=(t,e)=>e;class zJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||HJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<SM(r,i,s)?n:r,a=SM(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,l=c-i;if(u!=l){for(let f=0;f<u;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;l<=p&&p<u&&(s[f]=h+1)}s[o.previousIndex]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!_p(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function mK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new UJ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new EM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class UJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class EM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new BJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class DM{constructor(){}supports(e){return e instanceof Map||by(e)}create(){return new jJ}}class jJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||by(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new $J(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class $J{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TM(){return new zp([new IM])}let zp=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||TM()),deps:[[e,new w0,new Bt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new T(901,!1)}}return(t=e).\u0275prov=U({token:t,providedIn:"root",factory:TM}),e})();function AM(){return new Vl([new DM])}let Vl=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||AM()),deps:[[e,new w0,new Bt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new T(901,!1)}}return(t=e).\u0275prov=U({token:t,providedIn:"root",factory:AM}),e})();const WJ=dM(null,"core",[]);let KJ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Ll))},t.\u0275mod=ot({type:t}),t.\u0275inj=et({}),e})();let vv=null;function Ss(){return vv}class aZ{}const or=new B("DocumentToken");let FM=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return S(cZ)},providedIn:"platform"}),e})(),cZ=(()=>{var t;class e extends FM{constructor(){super(),this._doc=S(or),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ss().getBaseHref(this._doc)}onPopState(r){const i=Ss().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Ss().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function LM(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function VM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function So(t){return t&&"?"!==t[0]?"?"+t:t}let Bp=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return S(lZ)},providedIn:"root"}),e})();const uZ=new B("appBaseHref");let lZ=(()=>{var t;class e extends Bp{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??S(or).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return LM(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+So(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+So(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+So(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(FM),W(uZ,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),_v=(()=>{var t;class e{constructor(r){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function hZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(VM(HM(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+So(i))}normalize(r){return e.stripTrailingSlash(function fZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,HM(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+So(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+So(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=So,t.joinWithSlash=LM,t.stripTrailingSlash=VM,t.\u0275fac=function(r){return new(r||t)(W(Bp))},t.\u0275prov=U({token:t,factory:function(){return function dZ(){return new _v(W(Bp))}()},providedIn:"root"}),e})();function HM(t){return t.replace(/\/index.html$/,"")}var jp=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(jp||{}),wt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(wt||{});function _r(t,e){const n=Nn(t),r=n[He.NumberSymbols][e];if(typeof r>"u"){if(e===wt.CurrencyDecimal)return n[He.NumberSymbols][wt.Decimal];if(e===wt.CurrencyGroup)return n[He.NumberSymbols][wt.Group]}return r}const zZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Tv(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const Mv=/\s+/,KM=[];let xv=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=KM,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(Mv):KM}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Mv):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(Mv).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(zp),E(Vl),E(pn),E(ni))},t.\u0275dir=Y({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class ZZ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zp=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new ZZ(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),QM(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{QM(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Fr),E(Li),E(zp))},t.\u0275dir=Y({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function QM(t,e){t.context.$implicit=e.item}let Ds=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new eee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){XM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){XM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Fr),E(Li))},t.\u0275dir=Y({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class eee{constructor(){this.$implicit=null,this.ngIf=null}}function XM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${kt(e)}'.`)}function Vr(t,e){return new T(2100,!1)}class ree{createSubscription(e,n){return S5(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){S5(()=>e.unsubscribe())}}class iee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const see=new iee,oee=new ree;let wc=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(El(r))return see;if(kT(r))return oee;throw Vr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Hi,16))},t.\u0275pipe=zt({name:"async",type:t,pure:!1,standalone:!0}),e})(),ZM=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=ex}transform(r,i=ex){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function _ee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Vl,16))},t.\u0275pipe=zt({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function ex(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let bc=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function Pv(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function qZ(t,e,n){return function Sv(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let u=function KZ(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(u=function WZ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const v=s.match(zZ);if(null===v)throw new Error(`${s} is not a valid digit info`);const C=v[1],N=v[3],L=v[5];null!=C&&(l=Tv(C)),null!=N&&(d=Tv(N)),null!=L?f=Tv(L):null!=N&&d>f&&(f=d)}!function YZ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const u=e+t.integerLen,l=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=u?p.pop():c=!1),f>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(u,d,f);let h=u.digits,p=u.integerLen;const m=u.exponent;let y=[];for(c=h.every(v=>!v);p<l;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?y=h.splice(p,h.length):(y=h,h=[0]);const _=[];for(h.length>=e.lgSize&&_.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)_.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&_.unshift(h.join("")),a=_.join(_r(n,r)),y.length&&(a+=_r(n,i)+y.join("")),m&&(a+=_r(n,wt.Exponential)+"+"+m)}else a=_r(n,wt.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function Dv(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const d=c.charAt(l);"0"===d?n.minFrac=n.maxFrac=l+1:"#"===d?n.maxFrac=l+1:n.posSuf+=d}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function wv(t,e){return Nn(t)[He.NumberFormats][e]}(e,jp.Decimal),_r(e,wt.MinusSign)),e,wt.Group,wt.Decimal,n)}(function Ov(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw Vr()}}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Vi,16))},t.\u0275pipe=zt({name:"number",type:t,pure:!0,standalone:!0}),e})();let Cee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=et({}),e})();function nx(t){return"server"===t}class Qee extends aZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Lv extends Qee{static makeCurrent(){!function oZ(t){vv||(vv=t)}(new Lv)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Xee(){return Bl=Bl||document.querySelector("base"),Bl?Bl.getAttribute("href"):null}();return null==n?null:function Jee(t){ng=ng||document.createElement("a"),ng.setAttribute("href",t);const e=ng.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Bl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function XZ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ng,Bl=null,ete=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();const Vv=new B("EventManagerPlugins");let ax=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new T(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Vv),W(De))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();class cx{constructor(e){this._doc=e}}const Hv="ng-app-id";let ux=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nx(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Hv}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Hv),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Hv,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(or),W(op),W(mD,8),W(bs))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();const zv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uv=/%COMP%/g,ite=new B("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dx(t,e){return e.map(n=>n.replace(Uv,t))}let fx=(()=>{var t;class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=nx(c),this.defaultRenderer=new Bv(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dr.ShadowDom&&(i={...i,encapsulation:Dr.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof px?s.applyToHost(r):s instanceof jv&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Dr.Emulated:o=new px(u,l,i,this.appId,d,a,c,f);break;case Dr.ShadowDom:return new cte(u,l,r,i,a,c,this.nonce,f);default:o=new jv(u,l,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ax),W(ux),W(op),W(ite),W(or),W(bs),W(De),W(mD))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();class Bv{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(zv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(hx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(hx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=zv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=zv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ws.DashCase|ws.Important)?e.style.setProperty(n,r,i&ws.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ws.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Ss().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function hx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class cte extends Bv{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=dx(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jv extends Bv{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?dx(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class px extends jv{constructor(e,n,r,i,s,o,a,c){const u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=function ste(t){return"_ngcontent-%COMP%".replace(Uv,t)}(u),this.hostAttr=function ote(t){return"_nghost-%COMP%".replace(Uv,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let ute=(()=>{var t;class e extends cx{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(or))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();const gx=["alt","control","meta","shift"],lte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let fte=(()=>{var t;class e extends cx{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ss().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),gx.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=lte[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),gx.forEach(a=>{a!==s&&(0,dte[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(W(or))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),e})();const yx=[{provide:bs,useValue:"browser"},{provide:gD,useValue:function hte(){Lv.makeCurrent()},multi:!0},{provide:or,useFactory:function gte(){return function iq(t){L0=t}(document),document},deps:[]}],mte=dM(WJ,"browser",yx),yte=new B(""),vx=[{provide:Fp,useClass:class Zee{addToWindow(e){Oe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new T(5103,!1);return s},Oe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oe.getAllAngularRootElements=()=>e.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(r=>{const i=Oe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ss().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:oM,useClass:cv,deps:[De,uv,Fp]},{provide:cv,useClass:cv,deps:[De,uv,Fp]}],_x=[{provide:q0,useValue:"root"},{provide:vo,useFactory:function pte(){return new vo},deps:[]},{provide:Vv,useClass:ute,multi:!0,deps:[or,De,bs]},{provide:Vv,useClass:fte,multi:!0,deps:[or]},fx,ux,ax,{provide:ID,useExisting:fx},{provide:class Tee{},useClass:ete,deps:[]},[]];let ai=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:op,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(W(yte,12))},t.\u0275mod=ot({type:t}),t.\u0275inj=et({providers:[..._x,...vx],imports:[Cee,KJ]}),e})(),$v=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(W(or))},t.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new r:function _te(){return new $v(W(or))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let Cx=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new(r||t):W(Ix),i},providedIn:"root"}),e})(),Ix=(()=>{var t;class e extends Cx{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case yr.NONE:return i;case yr.HTML:return ti(i,"HTML")?ir(i):rD(this._doc,String(i)).toString();case yr.STYLE:return ti(i,"Style")?ir(i):i;case yr.SCRIPT:if(ti(i,"Script"))return ir(i);throw new T(5200,!1);case yr.URL:return ti(i,"URL")?ir(i):ep(String(i));case yr.RESOURCE_URL:if(ti(i,"ResourceURL"))return ir(i);throw new T(5201,!1);default:throw new T(5202,!1)}}bypassSecurityTrustHtml(r){return function dq(t){return new sq(t)}(r)}bypassSecurityTrustStyle(r){return function fq(t){return new oq(t)}(r)}bypassSecurityTrustScript(r){return function hq(t){return new aq(t)}(r)}bypassSecurityTrustUrl(r){return function pq(t){return new cq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function gq(t){return new uq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(or))},t.\u0275prov=U({token:t,factory:function(r){let i=null;return i=r?new r:function Ite(t){return new Ix(t.get(or))}(W(jt)),i},providedIn:"root"}),e})();function Sx(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){Sx(s,r,i,o,a,"next",c)}function a(c){Sx(s,r,i,o,a,"throw",c)}o(void 0)})}}const Dx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let f=(15&a)<<2|u>>6,h=63&u;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new Tte;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rg=function(t){return function(t){const e=Dx(t);return Wv.encodeByteArray(e,!0)}(t).replace(/\./g,"")},ig=function(t){try{return Wv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},sg=()=>{try{return function xte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ig(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Ax=t=>{var e,n;return null===(n=null===(e=sg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Mx=()=>{var t;return null===(t=sg())||void 0===t?void 0:t.config},xx=t=>{var e;return null===(e=sg())||void 0===e?void 0:e[`_${t}`]};class og{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function $t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Kv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Do(){try{return"object"==typeof indexedDB}catch{return!1}}function jl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Yv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ci.prototype.create)}}class ci{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Ute(t,e){return t.replace(Bte,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new br(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Bte=/\{\$([^}]+)}/g;function $l(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(kx(s)&&kx(o)){if(!$l(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kx(t){return null!==t&&"object"==typeof t}function Gl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Gte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function qte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Qv),void 0===i.error&&(i.error=Qv),void 0===i.complete&&(i.complete=Qv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qv(){}const Wte=1e3,Kte=2,Yte=144e5,Qte=.5;function Jv(t,e=Wte,n=Kte){const r=e*Math.pow(n,t),i=Math.round(Qte*r*(Math.random()-.5)*2);return Math.min(Yte,r+i)}function ct(t){return t&&t._delegate?t._delegate:t}class mn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const To="[DEFAULT]";class Jte{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new og;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ene(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===To?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jte(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Zv=[];var ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{});const Px={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},nne=ve.INFO,rne={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},ine=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=rne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Cc{constructor(e){this.name=e,this._logLevel=nne,this._logHandler=ine,this._userLogHandler=null,Zv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Px[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const sne=(t,e)=>e.some(n=>t instanceof n);let Ox,Rx;const Fx=new WeakMap,e_=new WeakMap,Lx=new WeakMap,t_=new WeakMap,n_=new WeakMap;let r_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return e_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Lx.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function fne(t){return"function"==typeof t?function dne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ane(){return Rx||(Rx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(i_(this),e),As(Fx.get(this))}:function(...e){return As(t.apply(i_(this),e))}:function(e,...n){const r=t.call(i_(this),e,...n);return Lx.set(r,e.sort?e.sort():[e]),As(r)}}(t):(t instanceof IDBTransaction&&function une(t){if(e_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});e_.set(t,e)}(t),sne(t,function one(){return Ox||(Ox=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,r_):t)}function As(t){if(t instanceof IDBRequest)return function cne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(As(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Fx.set(n,t)}).catch(()=>{}),n_.set(e,t),e}(t);if(t_.has(t))return t_.get(t);const e=fne(t);return e!==t&&(t_.set(t,e),n_.set(e,t)),e}const i_=t=>n_.get(t),pne=["get","getKey","getAll","getAllKeys","count"],gne=["put","add","delete","clear"],s_=new Map;function Vx(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(s_.get(e))return s_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!pne.includes(n))return;const s=function(){var o=g(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return s_.set(e,s),s}!function lne(t){r_=t(r_)}(t=>({...t,get:(e,n,r)=>Vx(e,n)||t.get(e,n,r),has:(e,n)=>!!Vx(e,n)||t.has(e,n)}));class mne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function yne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const o_="@firebase/app",Ao=new Cc("@firebase/app"),cg="[DEFAULT]",jne={[o_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mo=new Map,ug=new Map;function $ne(t,e){try{t.container.addComponent(e)}catch(n){Ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function On(t){const e=t.name;if(ug.has(e))return Ao.debug(`There were multiple attempts to register component ${e}.`),!1;ug.set(e,t);for(const n of Mo.values())$ne(n,t);return!0}function Ms(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Bi=new ci("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}const xo="9.23.0";function zx(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:cg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(n||(n=Mx()),!n)throw Bi.create("no-options");const s=Mo.get(i);if(s){if($l(n,s.options)&&$l(r,s.config))return s;throw Bi.create("duplicate-app",{appName:i})}const o=new tne(i);for(const c of ug.values())o.addComponent(c);const a=new qne(n,r,o);return Mo.set(i,a),a}function lg(t=cg){const e=Mo.get(t);if(!e&&t===cg&&Mx())return zx();if(!e)throw Bi.create("no-app",{appName:t});return e}function Ux(){return Array.from(Mo.values())}function je(t,e,n){var r;let i=null!==(r=jne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ao.warn(a.join(" "))}On(new mn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Wne="firebase-heartbeat-database",Kne=1,Kl="firebase-heartbeat-store";let c_=null;function Bx(){return c_||(c_=function hne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=As(o);return r&&o.addEventListener("upgradeneeded",c=>{r(As(o.result),c.oldVersion,c.newVersion,As(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(Wne,Kne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Kl)}}).catch(t=>{throw Bi.create("idb-open",{originalErrorMessage:t.message})})),c_}function u_(){return(u_=g(function*(t){try{return yield(yield Bx()).transaction(Kl).objectStore(Kl).get($x(t))}catch(e){if(e instanceof br)Ao.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e?.message});Ao.warn(n.message)}}})).apply(this,arguments)}function jx(t,e){return l_.apply(this,arguments)}function l_(){return(l_=g(function*(t,e){try{const r=(yield Bx()).transaction(Kl,"readwrite");yield r.objectStore(Kl).put(e,$x(t)),yield r.done}catch(n){if(n instanceof br)Ao.warn(n.message);else{const r=Bi.create("idb-set",{originalErrorMessage:n?.message});Ao.warn(r.message)}}})).apply(this,arguments)}function $x(t){return`${t.name}!${t.options.appId}`}class Jne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ere(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Gx();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Gx(),{heartbeatsToSend:r,unsentEntries:i}=function Zne(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=rg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Gx(){return(new Date).toISOString().substring(0,10)}class ere{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Do()&&jl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Yne(t){return u_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return jx(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return jx(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function qx(t){return rg(JSON.stringify({version:2,heartbeats:t})).length}!function tre(t){On(new mn("platform-logger",e=>new mne(e),"PRIVATE")),On(new mn("heartbeat",e=>new Jne(e),"PRIVATE")),je(o_,"0.9.13",t),je(o_,"0.9.13","esm2017"),je("fire-js","")}(""),je("firebase","9.23.0","app");const ire=(t,e)=>e.some(n=>t instanceof n);let Wx,Kx;const Yx=new WeakMap,d_=new WeakMap,Qx=new WeakMap,f_=new WeakMap,h_=new WeakMap;let p_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return d_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Qx.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function dre(t){return"function"==typeof t?function lre(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ore(){return Kx||(Kx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(g_(this),e),xs(Yx.get(this))}:function(...e){return xs(t.apply(g_(this),e))}:function(e,...n){const r=t.call(g_(this),e,...n);return Qx.set(r,e.sort?e.sort():[e]),xs(r)}}(t):(t instanceof IDBTransaction&&function cre(t){if(d_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});d_.set(t,e)}(t),ire(t,function sre(){return Wx||(Wx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,p_):t)}function xs(t){if(t instanceof IDBRequest)return function are(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Yx.set(n,t)}).catch(()=>{}),h_.set(e,t),e}(t);if(f_.has(t))return f_.get(t);const e=dre(t);return e!==t&&(f_.set(t,e),h_.set(e,t)),e}const g_=t=>h_.get(t),hre=["get","getKey","getAll","getAllKeys","count"],pre=["put","add","delete","clear"],m_=new Map;function Xx(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(m_.get(e))return m_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!hre.includes(n))return;const s=function(){var o=g(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return m_.set(e,s),s}!function ure(t){p_=t(p_)}(t=>({...t,get:(e,n,r)=>Xx(e,n)||t.get(e,n,r),has:(e,n)=>!!Xx(e,n)||t.has(e,n)}));const Jx="@firebase/installations",y_="0.6.4",Zx=1e4,e9=`w:${y_}`,t9="FIS_v2",gre="https://firebaseinstallations.googleapis.com/v1",mre=36e5,ji=new ci("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function n9(t){return t instanceof br&&t.code.includes("request-failed")}function v_({projectId:t}){return`${gre}/projects/${t}/installations`}function r9(t){return{token:t.token,requestStatus:2,expiresIn:wre(t.expiresIn),creationTime:Date.now()}}function __(t,e){return w_.apply(this,arguments)}function w_(){return(w_=g(function*(t,e){const r=(yield e.json()).error;return ji.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function i9({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function b_(t){return C_.apply(this,arguments)}function C_(){return(C_=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function wre(t){return Number(t.replace("s","000"))}function I_(){return(I_=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=v_(t),i=i9(t),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:t9,appId:t.appId,sdkVersion:e9})},c=yield b_(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:r9(u.authToken)}}throw yield __("Create Installation",c)})).apply(this,arguments)}function o9(t){return new Promise(e=>{setTimeout(e,t)})}const Ere=/^[cdef][\w-]{21}$/,E_="";function Sre(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Dre(t){return function Ire(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Ere.test(n)?n:E_}catch{return E_}}function Ic(t){return`${t.appName}!${t.appId}`}const Ec=new Map;function a9(t,e){const n=Ic(t);c9(n,e),function Mre(t,e){const n=function u9(){return!No&&"BroadcastChannel"in self&&(No=new BroadcastChannel("[Firebase] FID Change"),No.onmessage=t=>{c9(t.data.key,t.data.fid)}),No}();n&&n.postMessage({key:t,fid:e}),function l9(){0===Ec.size&&No&&(No.close(),No=null)}()}(n,e)}function c9(t,e){const n=Ec.get(t);if(n)for(const r of n)r(e)}let No=null;const xre="firebase-installations-database",Nre=1,ko="firebase-installations-store";let S_=null;function D_(){return S_||(S_=function fre(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=xs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(xs(o.result),c.oldVersion,c.newVersion,xs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(xre,Nre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ko)}})),S_}function dg(t,e){return T_.apply(this,arguments)}function T_(){return(T_=g(function*(t,e){const n=Ic(t),i=(yield D_()).transaction(ko,"readwrite"),s=i.objectStore(ko),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&a9(t,e.fid),e})).apply(this,arguments)}function A_(t){return M_.apply(this,arguments)}function M_(){return(M_=g(function*(t){const e=Ic(t),r=(yield D_()).transaction(ko,"readwrite");yield r.objectStore(ko).delete(e),yield r.done})).apply(this,arguments)}function Yl(t,e){return x_.apply(this,arguments)}function x_(){return(x_=g(function*(t,e){const n=Ic(t),i=(yield D_()).transaction(ko,"readwrite"),s=i.objectStore(ko),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&a9(t,a.fid),a})).apply(this,arguments)}function N_(t){return k_.apply(this,arguments)}function k_(){return k_=g(function*(t){let e;const n=yield Yl(t.appConfig,r=>{const i=function kre(t){return f9(t||{fid:Sre(),registrationStatus:0})}(r),s=function Pre(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ji.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Ore(t,e){return P_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Rre(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===E_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),k_.apply(this,arguments)}function P_(){return P_=g(function*(t,e){try{const n=yield function Cre(t,e){return I_.apply(this,arguments)}(t,e);return dg(t.appConfig,n)}catch(n){throw n9(n)&&409===n.customData.serverCode?yield A_(t.appConfig):yield dg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),P_.apply(this,arguments)}function Rre(t){return O_.apply(this,arguments)}function O_(){return(O_=g(function*(t){let e=yield d9(t.appConfig);for(;1===e.registrationStatus;)yield o9(100),e=yield d9(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield N_(t);return r||n}return e})).apply(this,arguments)}function d9(t){return Yl(t,e=>{if(!e)throw ji.create("installation-not-found");return f9(e)})}function f9(t){return function Fre(t){return 1===t.registrationStatus&&t.registrationTime+Zx<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function R_(){return(R_=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Vre(t,{fid:e}){return`${v_(t)}/${e}/authTokens:generate`}(t,n),i=function s9(t,{refreshToken:e}){const n=i9(t);return n.append("Authorization",function bre(t){return`${t9} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const u=yield s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:e9,appId:t.appId}})},c=yield b_(()=>fetch(r,a));if(c.ok)return r9(yield c.json());throw yield __("Generate Auth Token",c)})).apply(this,arguments)}function F_(t){return L_.apply(this,arguments)}function L_(){return L_=g(function*(t,e=!1){let n;const r=yield Yl(t.appConfig,s=>{if(!p9(s))throw ji.create("not-registered");const o=s.authToken;if(!e&&function Ure(t){return 2===t.requestStatus&&!function Bre(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mre}(t)}(o))return s;if(1===o.requestStatus)return n=function Hre(t,e){return V_.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw ji.create("app-offline");const a=function jre(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function zre(t,e){return H_.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),L_.apply(this,arguments)}function V_(){return(V_=g(function*(t,e){let n=yield h9(t.appConfig);for(;1===n.authToken.requestStatus;)yield o9(100),n=yield h9(t.appConfig);const r=n.authToken;return 0===r.requestStatus?F_(t,e):r})).apply(this,arguments)}function h9(t){return Yl(t,e=>{if(!p9(e))throw ji.create("not-registered");return function $re(t){return 1===t.requestStatus&&t.requestTime+Zx<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function H_(){return H_=g(function*(t,e){try{const n=yield function Lre(t,e){return R_.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield dg(t.appConfig,r),n}catch(n){if(!n9(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield dg(t.appConfig,r)}else yield A_(t.appConfig);throw n}}),H_.apply(this,arguments)}function p9(t){return void 0!==t&&2===t.registrationStatus}function z_(){return(z_=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield N_(e);return r?r.catch(console.error):F_(e).catch(console.error),n.fid})).apply(this,arguments)}function U_(){return U_=g(function*(t,e=!1){const n=t;return yield function Wre(t){return B_.apply(this,arguments)}(n),(yield F_(n,e)).token}),U_.apply(this,arguments)}function B_(){return(B_=g(function*(t){const{registrationPromise:e}=yield N_(t);e&&(yield e)})).apply(this,arguments)}function G_(t){return ji.create("missing-app-config-values",{valueName:t})}const g9="installations",Jre=t=>{const e=t.getProvider("app").getImmediate(),n=function Qre(t){if(!t||!t.options)throw G_("App Configuration");if(!t.name)throw G_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw G_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ms(e,"heartbeat"),_delete:()=>Promise.resolve()}},Zre=t=>{const n=Ms(t.getProvider("app").getImmediate(),g9).getImmediate();return{getId:()=>function Gre(t){return z_.apply(this,arguments)}(n),getToken:i=>function qre(t){return U_.apply(this,arguments)}(n,i)}};(function eie(){On(new mn(g9,Jre,"PUBLIC")),On(new mn("installations-internal",Zre,"PRIVATE"))})(),je(Jx,y_),je(Jx,y_,"esm2017");const q_="@firebase/remote-config",Kn=new ci("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class die{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function fie(t=navigator){return t.languages&&t.languages[0]||t.language}class hie{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:fie()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(o,u),d=new Promise((_,v)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",v(C)})});let f;try{yield Promise.race([l,d]),f=yield l}catch(_){let v="fetch-client-network";throw"AbortError"===_?.name&&(v="fetch-timeout"),Kn.create(v,{originalErrorMessage:_?.message})}let h=f.status;const p=f.headers.get("ETag")||void 0;let m,y;if(200===f.status){let _;try{_=yield f.json()}catch(v){throw Kn.create("fetch-client-parse",{originalErrorMessage:v?.message})}m=_.entries,y=_.state}if("INSTANCE_STATE_UNSPECIFIED"===y?h=500:"NO_CHANGE"===y?h=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==h&&200!==h)throw Kn.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:m}})()}}class mie{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function pie(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function gie(t){if(!(t instanceof br&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Jv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class _ie{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function hg(t,e){const n=t.target.error||void 0;return Kn.create(e,{originalErrorMessage:n&&n?.message})}const Po="app_namespace_store";class Iie{constructor(e,n,r,i=function Cie(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(hg(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Po,{keyPath:"compositeKey"})}}catch(n){e(Kn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Po],"readonly").objectStore(Po),c=n.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{s(hg(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){s(Kn.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([Po],"readwrite").objectStore(Po),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{o(hg(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Kn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Po],"readwrite").objectStore(Po),c=n.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{s(hg(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){s(Kn.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Eie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Die(){return X_.apply(this,arguments)}function X_(){return(X_=g(function*(){if(!Do())return!1;try{return yield jl()}catch{return!1}})).apply(this,arguments)}!function Sie(){On(new mn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Kn.create("registration-window");if(!Do())throw Kn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Kn.create("registration-project-id");if(!o)throw Kn.create("registration-api-key");if(!a)throw Kn.create("registration-app-id");const c=new Iie(a,r.name,n=n||"firebase"),u=new Eie(c),l=new Cc(q_);l.logLevel=ve.ERROR;const d=new hie(i,xo,n,s,o,a),f=new mie(d,c),h=new die(f,c,u,l),p=new _ie(r,h,u,c,l);return function cie(t){const e=ct(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),je(q_,"0.4.4"),je(q_,"0.4.4","esm2017")}();const Tie=(t,e)=>e.some(n=>t instanceof n);let _9,w9;const b9=new WeakMap,J_=new WeakMap,C9=new WeakMap,Z_=new WeakMap,e4=new WeakMap;let t4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return J_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||C9.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Oie(t){return"function"==typeof t?function Pie(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mie(){return w9||(w9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(n4(this),e),$i(b9.get(this))}:function(...e){return $i(t.apply(n4(this),e))}:function(e,...n){const r=t.call(n4(this),e,...n);return C9.set(r,e.sort?e.sort():[e]),$i(r)}}(t):(t instanceof IDBTransaction&&function Nie(t){if(J_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});J_.set(t,e)}(t),Tie(t,function Aie(){return _9||(_9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,t4):t)}function $i(t){if(t instanceof IDBRequest)return function xie(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&b9.set(n,t)}).catch(()=>{}),e4.set(e,t),e}(t);if(Z_.has(t))return Z_.get(t);const e=Oie(t);return e!==t&&(Z_.set(t,e),e4.set(e,t)),e}const n4=t=>e4.get(t);function I9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$i(o);return r&&o.addEventListener("upgradeneeded",c=>{r($i(o.result),c.oldVersion,c.newVersion,$i(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function r4(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),$i(n).then(()=>{})}const Rie=["get","getKey","getAll","getAllKeys","count"],Fie=["put","add","delete","clear"],i4=new Map;function E9(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(i4.get(e))return i4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Fie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Rie.includes(n))return;const s=function(){var o=g(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return i4.set(e,s),s}!function kie(t){t4=t(t4)}(t=>({...t,get:(e,n,r)=>E9(e,n)||t.get(e,n,r),has:(e,n)=>!!E9(e,n)||t.has(e,n)}));const Lie="/firebase-messaging-sw.js",Vie="/firebase-cloud-messaging-push-scope",S9="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Hie="https://fcmregistrations.googleapis.com/v1",D9="google.c.a.c_id",zie="google.c.a.c_l",Uie="google.c.a.ts";var pg=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(pg||{});function Gi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $ie(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const s4="fcm_token_details_db",Gie=5,T9="fcm_token_object_Store";function o4(){return o4=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(s4))return null;let e=null;return(yield I9(s4,Gie,{upgrade:(r=g(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(T9))return;const u=a.objectStore(T9),l=yield u.index("fcmSenderId").get(t);if(yield u.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Gi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Gi(d.auth),p256dh:Gi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Gi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Gi(d.auth),p256dh:Gi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Gi(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield r4(s4),yield r4("fcm_vapid_details_db"),yield r4("undefined"),function Wie(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),o4.apply(this,arguments)}const Kie="firebase-messaging-database",Yie=1,Oo="firebase-messaging-store";let a4=null;function c4(){return a4||(a4=I9(Kie,Yie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Oo)}})),a4}function A9(t){return u4.apply(this,arguments)}function u4(){return u4=g(function*(t){const e=h4(t),r=yield(yield c4()).transaction(Oo).objectStore(Oo).get(e);if(r)return r;{const i=yield function qie(t){return o4.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield l4(t,i),i}}),u4.apply(this,arguments)}function l4(t,e){return d4.apply(this,arguments)}function d4(){return(d4=g(function*(t,e){const n=h4(t),i=(yield c4()).transaction(Oo,"readwrite");return yield i.objectStore(Oo).put(e,n),yield i.done,e})).apply(this,arguments)}function f4(){return(f4=g(function*(t){const e=h4(t),r=(yield c4()).transaction(Oo,"readwrite");yield r.objectStore(Oo).delete(e),yield r.done})).apply(this,arguments)}function h4({appConfig:t}){return t.appId}const rn=new ci("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Jie(t,e){return p4.apply(this,arguments)}function p4(){return(p4=g(function*(t,e){const n=yield v4(t),r=x9(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(y4(t.appConfig),i)).json()}catch(o){throw rn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw rn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw rn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function g4(){return(g4=g(function*(t,e){const n=yield v4(t),r=x9(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${y4(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw rn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw rn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw rn.create("token-update-no-token");return s.token})).apply(this,arguments)}function M9(t,e){return m4.apply(this,arguments)}function m4(){return(m4=g(function*(t,e){const r={method:"DELETE",headers:yield v4(t)};try{const s=yield(yield fetch(`${y4(t.appConfig)}/${e}`,r)).json();if(s.error)throw rn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw rn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function y4({projectId:t}){return`${Hie}/projects/${t}/registrations`}function v4(t){return _4.apply(this,arguments)}function _4(){return(_4=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function x9({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==S9&&(i.web.applicationPubKey=r),i}const ese=6048e5;function w4(){return w4=g(function*(t){const e=yield function rse(t,e){return E4.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Gi(e.getKey("auth")),p256dh:Gi(e.getKey("p256dh"))},r=yield A9(t.firebaseDependencies);if(r){if(function ise(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+ese?function nse(t,e){return C4.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield M9(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return k9(t.firebaseDependencies,n)}return k9(t.firebaseDependencies,n)}),w4.apply(this,arguments)}function b4(){return b4=g(function*(t){const e=yield A9(t.firebaseDependencies);e&&(yield M9(t.firebaseDependencies,e.token),yield function Qie(t){return f4.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),b4.apply(this,arguments)}function C4(){return C4=g(function*(t,e){try{const n=yield function Zie(t,e){return g4.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield l4(t.firebaseDependencies,r),n}catch(n){throw yield function N9(t){return b4.apply(this,arguments)}(t),n}}),C4.apply(this,arguments)}function k9(t,e){return I4.apply(this,arguments)}function I4(){return(I4=g(function*(t,e){const r={token:yield Jie(t,e),createTime:Date.now(),subscriptionOptions:e};return yield l4(t,r),r.token})).apply(this,arguments)}function E4(){return(E4=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$ie(e)})})).apply(this,arguments)}function P9(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function sse(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function ose(t,e){e.data&&(t.data=e.data)}(e,t),function ase(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function O9(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function S4(t){return rn.create("missing-app-config-values",{valueName:t})}O9("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),O9("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class lse{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function use(t){if(!t||!t.options)throw S4("App Configuration Object");if(!t.name)throw S4("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw S4(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function D4(){return(D4=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Lie,{scope:Vie}),t.swRegistration.update().catch(()=>{})}catch(e){throw rn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function T4(){return(T4=g(function*(t,e){if(!e&&!t.swRegistration&&(yield function R9(t){return D4.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw rn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function A4(){return(A4=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=S9)})).apply(this,arguments)}function M4(){return M4=g(function*(t,e){if(!navigator)throw rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rn.create("permission-blocked");return yield function fse(t,e){return A4.apply(this,arguments)}(t,e?.vapidKey),yield function dse(t,e){return T4.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function tse(t){return w4.apply(this,arguments)}(t)}),M4.apply(this,arguments)}function x4(){return(x4=g(function*(t,e,n){const r=function pse(t){switch(t){case pg.NOTIFICATION_CLICKED:return"notification_open";case pg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[D9],message_name:n[zie],message_time:n[Uie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function N4(){return N4=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===pg.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(P9(n)):t.onMessageHandler.next(P9(n)));const r=n.data;(function cse(t){return"object"==typeof t&&!!t&&D9 in t})(r)&&"1"===r["google.c.a.e"]&&(yield function hse(t,e,n){return x4.apply(this,arguments)}(t,n.messageType,r))}),N4.apply(this,arguments)}const L9="@firebase/messaging",mse=t=>{const e=new lse(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function gse(t,e){return N4.apply(this,arguments)}(e,n)),e},yse=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function F9(t,e){return M4.apply(this,arguments)}(e,r)}};function H9(){return k4.apply(this,arguments)}function k4(){return(k4=g(function*(){try{yield jl()}catch{return!1}return typeof window<"u"&&Do()&&Yv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vse(){On(new mn("messaging",mse,"PUBLIC")),On(new mn("messaging-internal",yse,"PRIVATE")),je(L9,"0.12.4"),je(L9,"0.12.4","esm2017")}();const gg="analytics",bse="firebase_id",Cse="origin",Ise=6e4,Ese="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",R4="https://www.googletagmanager.com/gtag/js",Gt=new Cc("@firebase/analytics"),Rn=new ci("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Dse(t){if(!t.startsWith(R4)){const e=Rn.create("invalid-gtag-resource",{gtagURL:t});return Gt.warn(e.message),""}return t}function z9(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function F4(){return(F4=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield z9(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Gt.error(a)}t("config",i,s)})).apply(this,arguments)}function L4(){return(L4=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield z9(n);for(const c of o){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Gt.error(s)}})).apply(this,arguments)}const Rse=30,U9=new class Lse{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Vse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function V4(){return(V4=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Vse(r)},s=Ese.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function H4(){return(H4=g(function*(t,e=U9,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Rn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new jse;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:Ise),B9({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function B9(t,e,n){return z4.apply(this,arguments)}function z4(){return z4=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=U9){var s;const{appId:o,measurementId:a}=t;try{yield function Use(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function Hse(t){return V4.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!function Bse(t){if(!(t instanceof br&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(o),a)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw c}const l=503===Number(null===(s=u?.customData)||void 0===s?void 0:s.httpStatus)?Jv(n,i.intervalMillis,Rse):Jv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Gt.debug(`Calling attemptFetch again in ${l} millis`),B9(t,d,r,i)}}),z4.apply(this,arguments)}class jse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let U4,K4;function B4(){return(B4=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function $4(){return($4=g(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})})).apply(this,arguments)}function Y4(){return(Y4=g(function*(){if(!Do())return Gt.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield jl()}catch(t){return Gt.warn(Rn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Q4(){return Q4=g(function*(t,e,n,r,i,s,o){var a;const c=function zse(t){return H4.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Gt.error(h)),e.push(c);const u=function Qse(){return Y4.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Ose(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(R4)&&n.src.includes(t))return n;return null})(s)||function Ase(t,e){const n=function Tse(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Dse}),r=document.createElement("script"),i=`${R4}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),K4&&(i("consent","default",K4),function j9(t){K4=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[Cse]="firebase",f.update=!0,null!=d&&(f[bse]=d),i("config",l.measurementId,f),U4&&(i("set",U4),function $9(t){U4=t}(void 0)),l.measurementId}),Q4.apply(this,arguments)}class Jse{constructor(e){this.app=e}_delete(){return delete ui[this.app.options.appId],Promise.resolve()}}let ui={},G9=[];const q9={};let K9,li,mg="dataLayer",X4=!1;function eoe(t,e,n){!function Zse(){const t=[];if(Kv()&&t.push("This is a browser extension environment."),Yv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});Gt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Rn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Rn.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ui[r])throw Rn.create("already-exists",{id:r});if(!X4){!function Mse(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(mg);const{wrappedGtag:s,gtagCore:o}=function Pse(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function kse(t,e,n,r){function s(){return s=g(function*(o,...a){try{if("event"===o){const[c,u]=a;yield function Nse(t,e,n,r,i){return L4.apply(this,arguments)}(t,e,n,c,u)}else if("config"===o){const[c,u]=a;yield function xse(t,e,n,r,i,s){return F4.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,u,l]=a;t("get",c,u,l)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){Gt.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ui,G9,q9,mg,"gtag");li=s,K9=o,X4=!0}return ui[r]=function Xse(t,e,n,r,i,s,o){return Q4.apply(this,arguments)}(t,G9,q9,e,K9,mg,n),new Jse(t)}function toe(t=lg()){const e=Ms(t=ct(t),gg);return e.isInitialized()?e.getImmediate():function noe(t,e={}){const n=Ms(t,gg);if(n.isInitialized()){const i=n.getImmediate();if($l(e,n.getOptions()))return i;throw Rn.create("already-initialized")}return n.initialize({options:e})}(t)}function roe(){return J4.apply(this,arguments)}function J4(){return(J4=g(function*(){if(Kv()||!Yv()||!Do())return!1;try{return yield jl()}catch{return!1}})).apply(this,arguments)}function ioe(t,e,n){t=ct(t),function qse(t,e,n,r){return $4.apply(this,arguments)}(li,ui[t.app.options.appId],e,n).catch(r=>Gt.error(r))}function Y9(t,e,n,r){t=ct(t),function $se(t,e,n,r,i){return B4.apply(this,arguments)}(li,ui[t.app.options.appId],e,n,r).catch(i=>Gt.error(i))}const Q9="@firebase/analytics";!function soe(){On(new mn(gg,(e,{options:n})=>eoe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),On(new mn("analytics-internal",function t(e){try{const n=e.getProvider(gg).getImmediate();return{logEvent:(r,i,s)=>Y9(n,r,i,s)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),je(Q9,"0.10.0"),je(Q9,"0.10.0","esm2017")}();class ooe extends Jn{constructor(e,n){super()}schedule(e,n=0){return this}}const yg={setInterval(t,e,...n){const{delegate:r}=yg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=yg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class J9 extends ooe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return yg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&yg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Sa(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Z9={now:()=>(Z9.delegate||Date).now(),delegate:void 0};class Ql{constructor(e,n=Ql.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ql.now=Z9.now;class eN extends Ql{constructor(e,n=Ql.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const uoe=new class coe extends eN{}(class aoe extends J9{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),loe=new eN(J9);function yn(t,e,n){const r=ke(t)||e||n?{next:t,error:e,complete:n}:t;return r?St((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(pt(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):hs}const Ro=new Ja("7.6.1"),e6="__angularfire_symbol__analyticsIsSupportedValue",t6="__angularfire_symbol__analyticsIsSupported",n6="__angularfire_symbol__remoteConfigIsSupportedValue",r6="__angularfire_symbol__remoteConfigIsSupported",i6="__angularfire_symbol__messagingIsSupportedValue",s6="__angularfire_symbol__messagingIsSupported";globalThis[t6]||(globalThis[t6]=roe().then(t=>globalThis[e6]=t).catch(()=>globalThis[e6]=!1)),globalThis[s6]||(globalThis[s6]=H9().then(t=>globalThis[i6]=t).catch(()=>globalThis[i6]=!1)),globalThis[r6]||(globalThis[r6]=Die().then(t=>globalThis[n6]=t).catch(()=>globalThis[n6]=!1));const vg={async:()=>globalThis[t6],sync:()=>{const t=globalThis[e6];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}};function _g(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const wg=(t,e)=>{const n=e?[e]:Ux(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Sc(){}class tN{constructor(e,n=uoe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class doe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sc,{},Sc,Sc)),n.pipe(yn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bg=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new tN(Zone.current)),this.insideAngular=n.run(()=>new tN(Zone.current,loe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(W(De))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Fo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Lo(t){return Fo().ngZone.run(()=>t())}function hoe(t){return Fo(),function poe(t){return function(n){return(n=n.lift(new doe(t.ngZone))).pipe(lh(t.outsideAngular),uh(t.insideAngular))}}(Fo())(t)}const goe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Lo(()=>t.apply(void 0,r))},Tt=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sc,{},Sc,Sc)))),r[s]=goe(r[s],n));const i=function foe(t){return Fo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof be){const s=Fo();return i.pipe(lh(s.outsideAngular),uh(s.insideAngular))}return Lo(()=>i)}return i instanceof be?i.pipe(hoe):i instanceof Promise?Lo(()=>new Promise((s,o)=>i.then(a=>Lo(()=>s(a)),a=>Lo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Lo(()=>i)};class Vo{constructor(e){return e}}class Cg{constructor(){return Ux()}}const a6=new B("angularfire2._apps"),yoe={provide:Vo,useFactory:function moe(t){return t&&1===t.length?t[0]:new Vo(lg())},deps:[[new Bt,a6]]},voe={provide:Cg,deps:[[new Bt,a6]]};function _oe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Vo(r)}}let woe=(()=>{class t{constructor(n){je("angularfire",Ro.full,"core"),je("angularfire",Ro.full,"app"),je("angular",ED.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(W(bs))},t.\u0275mod=ot({type:t}),t.\u0275inj=et({providers:[yoe,voe]}),t})();function Ho(t,...e){return{ngModule:woe,providers:[{provide:a6,useFactory:_oe(t),multi:!0,deps:[De,jt,bg,...e]}]}}const zo=Tt(zx,!0),c6=new Map,nN={activated:!1,tokenObservers:[]},boe={initialized:!1,enabled:!1};function ut(t){return c6.get(t)||Object.assign({},nN)}function Ig(){return boe}const u6="https://content-firebaseappcheck.googleapis.com/v1",Soe="exchangeDebugToken",rN={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Toe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new og,yield function Aoe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new og,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const sn=new ci("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function l6(t){if(!ut(t).activated)throw sn.create("use-before-activation",{appName:t.name})}function Dg(t,e){return f6.apply(this,arguments)}function f6(){return(f6=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw sn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw sn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw sn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw sn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}})).apply(this,arguments)}function iN(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${u6}/projects/${n}/apps/${r}:${Soe}?key=${i}`,body:{debug_token:e}}}const koe="firebase-app-check-database",Poe=1,Xl="firebase-app-check-store";let Tg=null;function h6(){return(h6=g(function*(t,e){const r=(yield function oN(){return Tg||(Tg=new Promise((t,e)=>{try{const n=indexedDB.open(koe,Poe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(sn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xl,{keyPath:"compositeKey"})}}catch(n){e(sn.create("storage-open",{originalErrorMessage:n?.message}))}}),Tg)}()).transaction(Xl,"readwrite"),s=r.objectStore(Xl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(sn.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const Jl=new Cc("@firebase/app-check");function m6(t,e){return Do()?function Roe(t,e){return function aN(t,e){return h6.apply(this,arguments)}(function uN(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Jl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function v6(){return Ig().enabled}function _6(){return w6.apply(this,arguments)}function w6(){return(w6=g(function*(){const t=Ig();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Uoe={error:"UNKNOWN_ERROR"};function Boe(t){return Wv.encodeString(JSON.stringify(t),!1)}function Ag(t){return b6.apply(this,arguments)}function b6(){return(b6=g(function*(t,e=!1){const n=t.app;l6(n);const r=ut(n);let s,i=r.token;if(i&&!Dc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Dc(c)?i=c:yield m6(n,void 0))}if(!e&&i&&Dc(i))return{token:i.token};let a,o=!1;if(v6()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Dg(iN(n,yield _6()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield m6(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield ut(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Jl.warn(c.message):Jl.error(c),s=c}return i?s?a=Dc(i)?{token:i.token,internalError:s}:hN(s):(a={token:i.token},r.token=i,yield m6(n,i)):a=hN(s),o&&function fN(t,e){const n=ut(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function lN(t){return C6.apply(this,arguments)}function C6(){return(C6=g(function*(t){const e=t.app;l6(e);const{provider:n}=ut(e);if(v6()){const r=yield _6(),{token:i}=yield Dg(iN(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function E6(t,e){const n=ut(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function dN(t){const{app:e}=t,n=ut(e);let r=n.tokenRefresher;r||(r=function joe(t){const{app:e}=t;return new Toe(g(function*(){let r;if(r=ut(e).token?yield Ag(t,!0):yield Ag(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=ut(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},rN.RETRIAL_MIN_WAIT,rN.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Dc(t){return t.expireTimeMillis-Date.now()>0}function hN(t){return{token:Boe(Uoe),error:t}}class $oe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ut(this.app);for(const n of e)E6(this.app,n.next);return Promise.resolve()}}const bN="app-check-internal";!function iae(){On(new mn("app-check",t=>function Goe(t,e){return new $oe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(bN).initialize()})),On(new mn(bN,t=>function qoe(t){return{getToken:e=>Ag(t,e),getLimitedUseToken:()=>lN(t),addTokenListener:e=>function I6(t,e,n,r){const{app:i}=t,s=ut(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Dc(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),dN(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>dN(t))}(t,"INTERNAL",e),removeTokenListener:e=>E6(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),je("@firebase/app-check","0.8.0")}();class A6{constructor(){return wg("app-check")}}typeof window<"u"&&window;const uae=function IN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},EN=new ci("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xg=new Cc("@firebase/auth");function Ng(t,...e){xg.logLevel<=ve.ERROR&&xg.error(`Auth (${xo}): ${t}`,...e)}function Yn(t,...e){throw x6(t,...e)}function cr(t,...e){return x6(t,...e)}function SN(t,e,n){const r=Object.assign(Object.assign({},uae()),{[e]:n});return new ci("auth","Firebase",r).create(e,{appName:t.name})}function x6(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EN.create(t,...e)}function x(t,e,...n){if(!t)throw x6(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ng(e),new Error(e)}function qi(t,e){t||di(e)}function Zl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function DN(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=function Fte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}()||function Vte(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function dae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function N6(){return"http:"===DN()||"https:"===DN()}()||Kv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function k6(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class TN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pae=new ed(3e4,6e4);function it(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function lt(t,e,n,r){return P6.apply(this,arguments)}function P6(){return(P6=g(function*(t,e,n,r,i={}){return AN(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Gl(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),TN.fetch()(MN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function AN(t,e,n){return O6.apply(this,arguments)}function O6(){return(O6=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hae),e);try{const i=new gae(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw td(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw td(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw td(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw td(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw SN(t,l,u);Yn(t,l)}}catch(i){if(i instanceof br)throw i;Yn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Wi(t,e,n,r){return R6.apply(this,arguments)}function R6(){return(R6=g(function*(t,e,n,r,i={}){const s=yield lt(t,e,n,r,i);return"mfaPendingCredential"in s&&Yn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function MN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?k6(t.config,i):`${t.config.apiScheme}://${i}`}class gae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),pae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function td(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cr(t,e,r);return i.customData._tokenResponse=n,i}function F6(){return(F6=g(function*(t,e){return lt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function V6(){return(V6=g(function*(t,e){return lt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function nd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function H6(){return(H6=g(function*(t,e=!1){const n=ct(t),r=yield n.getIdToken(e),i=kg(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:nd(z6(i.auth_time)),issuedAtTime:nd(z6(i.iat)),expirationTime:nd(z6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function z6(t){return 1e3*Number(t)}function kg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Ng("JWT malformed, contained fewer than 3 sections"),null;try{const i=ig(n);return i?JSON.parse(i):(Ng("Failed to decode base64 JWT payload"),null)}catch(i){return Ng("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ki(t,e){return U6.apply(this,arguments)}function U6(){return(U6=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof br&&function bae({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Cae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class xN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nd(this.lastLoginAt),this.creationTime=nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rd(t){return B6.apply(this,arguments)}function B6(){return B6=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ki(t,function vae(t,e){return V6.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Sae(t){return t.map(e=>{var{providerId:n}=e,r=ah(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Eae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xN(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),B6.apply(this,arguments)}function j6(){return(j6=g(function*(t){const e=ct(t);yield rd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function $6(){return($6=g(function*(t,e){const n=yield AN(t,{},g(function*(){const r=Gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=MN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",TN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class id{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function wae(t){const e=kg(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Dae(t,e){return $6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new id;return r&&(x("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(x("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new id,this.toJSON())}_performRefresh(){return di("not implemented")}}function Ns(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Uo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ah(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Ki(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function _ae(t){return H6.apply(this,arguments)}(this,e)}reload(){return function Iae(t){return j6.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Uo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield rd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Ki(e,function mae(t,e){return F6.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,_=null!==(u=n.createdAt)&&void 0!==u?u:void 0,v=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:N,isAnonymous:L,providerData:K,stsTokenManager:he}=n;x(C&&he,e,"internal-error");const Nt=id.fromJSON(this.name,he);x("string"==typeof C,e,"internal-error"),Ns(d,e.name),Ns(f,e.name),x("boolean"==typeof N,e,"internal-error"),x("boolean"==typeof L,e,"internal-error"),Ns(h,e.name),Ns(p,e.name),Ns(m,e.name),Ns(y,e.name),Ns(_,e.name),Ns(v,e.name);const Ht=new Uo({uid:C,auth:e,email:f,emailVerified:N,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:Nt,createdAt:_,lastLoginAt:v});return K&&Array.isArray(K)&&(Ht.providerData=K.map(nh=>Object.assign({},nh))),y&&(Ht._redirectEventId=y),Ht}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new id;i.updateFromServerResponse(n);const s=new Uo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield rd(s),s})()}}const NN=new Map;function Yi(t){qi(t instanceof Function,"Expected a class definition");let e=NN.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NN.set(t,e),e)}const kN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Pg(t,e,n){return`firebase:${t}:${e}:${n}`}class Ac{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Pg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Pg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Uo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Ac(Yi(kN),e,r);const i=(yield Promise.all(n.map(function(){var u=g(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Yi(kN);const o=Pg(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(o);if(l){const d=Uo._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Ac(s,e,r)):new Ac(s,e,r)})()}}function PN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ON(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VN(e))return"Blackberry";if(HN(e))return"Webos";if(G6(e))return"Safari";if((e.includes("chrome/")||RN(e))&&!e.includes("edge/"))return"Chrome";if(LN(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function ON(t=$t()){return/firefox\//i.test(t)}function G6(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RN(t=$t()){return/crios\//i.test(t)}function FN(t=$t()){return/iemobile/i.test(t)}function LN(t=$t()){return/android/i.test(t)}function VN(t=$t()){return/blackberry/i.test(t)}function HN(t=$t()){return/webos/i.test(t)}function Og(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zN(t=$t()){return Og(t)||LN(t)||HN(t)||VN(t)||/windows phone/i.test(t)||FN(t)}function UN(t,e=[]){let n;switch(t){case"Browser":n=PN($t());break;case"Worker":n=`${PN($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${r}`}function BN(t,e){return W6.apply(this,arguments)}function W6(){return(W6=g(function*(t,e){return lt(t,"GET","/v2/recaptchaConfig",it(t,e))})).apply(this,arguments)}function $N(t){return void 0!==t&&void 0!==t.enterprise}class GN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function K6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Nae(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function qN(t){return`__${t}${Math.floor(1e6*Math.random())}`}class WN{constructor(e){this.type="recaptcha-enterprise",this.auth=qt(e)}verify(e="verify",n=!1){var r=this;return g(function*(){function s(){return s=g(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=g(function*(u,l){BN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new GN(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,u(f.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const l=window.grecaptcha;$N(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!n&&$N(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));K6("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{o(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}function ks(t,e,n){return Y6.apply(this,arguments)}function Y6(){return(Y6=g(function*(t,e,n,r=!1){const i=new WN(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class Rae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Fae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KN(this),this.idTokenSubscription=new KN(this),this.beforeStateQueue=new Rae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ac.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield rd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function fae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?ct(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Yi(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const n=yield BN(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new GN(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new WN(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ci("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Yi(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield Ac.create(n,[Yi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return x(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function lae(t,...e){xg.logLevel<=ve.WARN&&xg.warn(`Auth (${xo}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function qt(t){return ct(t)}class KN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function $te(t,e){const n=new Gte(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function YN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Q6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}function JN(t,e){return J6.apply(this,arguments)}function J6(){return(J6=g(function*(t,e){return lt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function e3(t,e){return t3.apply(this,arguments)}function t3(){return(t3=g(function*(t,e){return Wi(t,"POST","/v1/accounts:signInWithPassword",it(t,e))})).apply(this,arguments)}function u3(){return(u3=g(function*(t,e){return Wi(t,"POST","/v1/accounts:signInWithEmailLink",it(t,e))})).apply(this,arguments)}function l3(){return(l3=g(function*(t,e){return Wi(t,"POST","/v1/accounts:signInWithEmailLink",it(t,e))})).apply(this,arguments)}class sd extends Q6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield ks(e,i,"signInWithPassword");return e3(e,s)}return e3(e,i).catch(function(){var s=g(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield ks(e,i,"signInWithPassword");return e3(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Gae(t,e){return u3.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Yn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return JN(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function qae(t,e){return l3.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Yn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Qi(t,e){return d3.apply(this,arguments)}function d3(){return(d3=g(function*(t,e){return Wi(t,"POST","/v1/accounts:signInWithIdp",it(t,e))})).apply(this,arguments)}class Mc extends Q6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ah(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Mc(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Qi(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qi(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gl(n)}return e}}class ad{constructor(e){var n,r,i,s,o,a;const c=ql(Wl(e)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Zae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);x(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function ece(t){const e=ql(Wl(t)).link,n=e?ql(Wl(e)).deep_link_id:null,r=ql(Wl(t)).deep_link_id;return(r?ql(Wl(r)).link:null)||r||n||e||t}(e);try{return new ad(n)}catch{return null}}}let ZN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return sd._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=ad.parseLink(r);return x(i,"argument-error"),sd._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Ps{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ek extends Ps{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let tce=(()=>{class t extends ek{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Mc._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Cr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Uo._fromIdTokenResponse(e,r,i),o=tk(r);return new Cr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=tk(r);return new Cr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function tk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Vg extends br{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vg(e,n,r,i)}}function nk(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Vg._fromErrorAndOperation(t,s,e,r):s})}function b3(){return(b3=g(function*(t,e,n=!1){const r=yield Ki(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Cr._forOperation(t,"link",r)})).apply(this,arguments)}function I3(){return(I3=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Ki(t,nk(r,i,e,t),n);x(s.idToken,r,"internal-error");const o=kg(s.idToken);x(o,r,"internal-error");const{sub:a}=o;return x(t.uid===a,r,"user-mismatch"),Cr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Yn(r,"user-mismatch"),s}})).apply(this,arguments)}function sk(t,e){return E3.apply(this,arguments)}function E3(){return(E3=g(function*(t,e,n=!1){const r="signIn",i=yield nk(t,r,e),s=yield Cr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function D3(){return(D3=g(function*(t,e){return sk(qt(t),e)})).apply(this,arguments)}function cce(t,e,n){return function S3(t,e){return D3.apply(this,arguments)}(ct(t),ZN.credential(e,n))}const zg="__sak";class ak{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zg,"1"),this.storage.removeItem(zg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dce=(()=>{class t extends ak{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ice(){const t=$t();return G6(t)||Og(t)}()&&function Mae(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Aae(){return function Hte(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),ck=(()=>{class t extends ak{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Ace=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(c).map(function(){var d=g(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),l=yield function Tce(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Ug(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Mce{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const l=Ug("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function At(){return window}function ew(){return typeof At().WorkerGlobalScope<"u"&&"function"==typeof At().importScripts}function tw(){return(tw=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const uk="firebaseLocalStorageDb",Bg="firebaseLocalStorage",lk="fbase_key";class ud{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jg(t,e){return t.transaction([Bg],e?"readwrite":"readonly").objectStore(Bg)}function nw(){const t=indexedDB.open(uk,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bg,{keyPath:lk})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Bg)?e(r):(r.close(),yield function Rce(){const t=indexedDB.deleteDatabase(uk);return new ud(t).toPromise()}(),e(yield nw()))}))})}function dk(t,e,n){return rw.apply(this,arguments)}function rw(){return(rw=g(function*(t,e,n){const r=jg(t,!0).put({[lk]:e,value:n});return new ud(r).toPromise()})).apply(this,arguments)}function iw(){return(iw=g(function*(t,e){const n=jg(t,!1).get(e),r=yield new ud(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function fk(t,e){const n=jg(t,!0).delete(e);return new ud(n).toPromise()}const Hce=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield nw()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return ew()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Ace._getInstance(function Pce(){return ew()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Nce(){return tw.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Mce(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function kce(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield nw();return yield dk(n,zg,"1"),yield fk(n,zg),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>dk(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Fce(t,e){return iw.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>fk(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=jg(o,!1).getAll();return new ud(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function jo(t,e){return e?Yi(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}qN("rcb"),new ed(3e4,6e4);class hw extends Q6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tue(t){return sk(t.auth,new hw(t),t.bypassAuthState)}function nue(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function ik(t,e){return I3.apply(this,arguments)}(n,new hw(t),t.bypassAuthState)}function rue(t){return pw.apply(this,arguments)}function pw(){return(pw=g(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function w3(t,e){return b3.apply(this,arguments)}(n,new hw(t),t.bypassAuthState)})).apply(this,arguments)}class pk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tue;case"linkViaPopup":case"linkViaRedirect":return rue;case"reauthViaPopup":case"reauthViaRedirect":return nue;default:Yn(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iue=new ed(2e3,1e4);function sue(t,e,n){return gw.apply(this,arguments)}function gw(){return(gw=g(function*(t,e,n){const r=qt(t);!function Tc(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Yn(t,"argument-error"),SN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Ps);const i=jo(r,n);return new vw(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let vw=(()=>{class t extends pk{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return x(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){qi(1===n.filter.length,"Popup operations only handle one event");const r=Ug();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(cr(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,iue.get())};n()}}return t.currentPopupAction=null,t})();const oue="pendingRedirect",ld=new Map;class aue extends pk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=ld.get(n.auth._key());if(!r){try{const s=(yield function cue(t,e){return _w.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}ld.set(n.auth._key(),r)}return n.bypassAuthState||ld.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function _w(){return(_w=g(function*(t,e){const n=function mk(t){return Pg(oue,t.config.apiKey,t.name)}(e),r=function gk(t){return Yi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function uue(t,e){ld.set(t._key(),e)}function yk(t,e){return Dw.apply(this,arguments)}function Dw(){return(Dw=g(function*(t,e,n=!1){const r=qt(t),i=jo(r,e),o=yield new aue(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class pue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function gue(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wk(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_k(e))}saveEventToCache(e){this.cachedEventUids.add(_k(e)),this.lastProcessedEventTime=Date.now()}}function _k(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wk({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Aw(){return(Aw=g(function*(t,e={}){return lt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const yue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vue=/^https?/;function Mw(){return Mw=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function mue(t){return Aw.apply(this,arguments)}(t);for(const n of e)try{if(wue(n))return}catch{}Yn(t,"unauthorized-domain")}),Mw.apply(this,arguments)}function wue(t){const e=Zl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!vue.test(n))return!1;if(yue.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bue=new ed(3e4,6e4);function bk(){const t=At().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Gg=null;const Eue=new ed(5e3,15e3),Sue="__/auth/iframe",Due="emulator/auth/iframe",Tue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mue(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?k6(e,Due):`https://${t.config.authDomain}/${Sue}`,r={apiKey:e.apiKey,appName:t.name,v:xo},i=Aue.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gl(r).slice(1)}`}function xw(){return xw=g(function*(t){const e=yield function Iue(t){return Gg=Gg||function Cue(t){return new Promise((e,n)=>{var r,i,s;function o(){bk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bk(),n(cr(t,"network-request-failed"))},timeout:bue.get()})}if(null!==(i=null===(r=At().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=At().gapi)||void 0===s||!s.load){const a=qN("iframefcb");return At()[a]=()=>{gapi.load?o():n(cr(t,"network-request-failed"))},K6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw Gg=null,e})}(t),Gg}(t),n=At().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:Mue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tue,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=cr(t,"network-request-failed"),c=At().setTimeout(()=>{o(a)},Eue.get());function u(){At().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),xw.apply(this,arguments)}const Nue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ck{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Vue="__/auth/handler",Hue="emulator/auth/handler",zue=encodeURIComponent("fac");function Ik(t,e,n,r,i,s){return Nw.apply(this,arguments)}function Nw(){return(Nw=g(function*(t,e,n,r,i,s){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xo,eventId:i};if(e instanceof Ps){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function jte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof ek){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield t._getAppCheckToken(),u=c?`#${zue}=${encodeURIComponent(c)}`:"";return`${function Uue({config:t}){return t.emulator?k6(t,Hue):`https://${t.authDomain}/${Vue}`}(t)}?${Gl(a).slice(1)}${u}`})).apply(this,arguments)}const kw="webStorageSupport",jue=class Bue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ck,this._completeRedirectFn=yk,this._overrideRedirectResult=uue}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;qi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield Ik(e,n,r,Zl(),i);return function Fue(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Nue),{width:r.toString(),height:i.toString(),top:s,left:o}),u=$t().toLowerCase();n&&(a=RN(u)?"_blank":n),ON(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function Tae(t=$t()){var e;return Og(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function Lue(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new Ck(null);const d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch{}return new Ck(d)}(e,a,Ug())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function xce(t){At().location.href=t}(yield Ik(e,n,r,Zl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function xue(t){return xw.apply(this,arguments)}(e),i=new pue(e);return r.register("authEvent",s=>(x(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kw,{type:kw},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[kw];void 0!==o&&n(!!o),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function _ue(t){return Mw.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zN()||G6()||Og()}};var Dk="@firebase/auth";class $ue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Kue=xx("authIdTokenMaxAge")||300;let Ak=null;const Yue=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Kue)return;const s=r?.token;Ak!==s&&(Ak=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Que(t=lg()){const e=Ms(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Lae(t,e){const n=Ms(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if($l(n.getOptions(),e??{}))return i;Yn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:jue,persistence:[Hce,Dce,ck]}),r=xx("authTokenSyncURL");if(r){const s=Yue(r);(function yce(t,e,n){ct(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function mce(t,e,n,r){ct(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=Ax("auth");return i&&function Hae(t,e,n){const r=qt(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=YN(e),{host:o,port:a}=function zae(t){const e=YN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:QN(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:QN(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Uae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Xue(t){return new be(function(e){var n=function vce(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function que(t){On(new mn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UN(t)},u=new Fae(r,i,s,c);return function Vae(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),On(new mn("auth-internal",e=>{const n=qt(e.getProvider("auth").getImmediate());return new $ue(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(Dk,"0.23.2",function Gue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),je(Dk,"0.23.2","esm2017")}("Browser");class dd{constructor(e){return e}}class xk{constructor(){return wg("auth")}}const Ow=new B("angularfire2.auth-instances");function ele(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new dd(r)}}const tle={provide:xk,deps:[[new Bt,Ow]]},nle={provide:dd,useFactory:function Zue(t,e){const n=_g("auth",t,e);return n&&new dd(n)},deps:[[new Bt,Ow],Vo]};let rle=(()=>{class t{constructor(){je("angularfire",Ro.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=et({providers:[nle,tle]}),t})();function Nc(t,...e){return{ngModule:rle,providers:[{provide:Ow,useFactory:ele(t),multi:!0,deps:[De,jt,bg,Cg,[new Bt,A6],...e]}]}}const Nk=Tt(Xue,!0),kc=Tt(Que,!0),ile=Tt(cce,!0),sle=Tt(sue,!0);var F,ole=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hr={},Rw=Rw||{},ie=ole||self;function Wg(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function fd(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Fw="closure_uid_"+(1e9*Math.random()>>>0),cle=0;function ule(t,e,n){return t.call.apply(t.bind,arguments)}function lle(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vn(t,e,n){return(vn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ule:lle).apply(null,arguments)}function Kg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Wt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Os(){this.s=this.s,this.o=this.o}Os.prototype.s=!1,Os.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ale(t){Object.prototype.hasOwnProperty.call(t,Fw)&&t[Fw]||(t[Fw]=++cle)}(this)},Os.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Pk(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Wg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function _n(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_n.prototype.h=function(){this.defaultPrevented=!0};var fle=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return t}();function hd(t){return/^[\s\xa0]*$/.test(t)}function Yg(){var t=ie.navigator;return t&&(t=t.userAgent)?t:""}function fi(t){return-1!=Yg().indexOf(t)}function Vw(t){return Vw[" "](t),t}Vw[" "]=function(){};var zw,t,ple=fi("Opera"),Pc=fi("Trident")||fi("MSIE"),Ok=fi("Edge"),Hw=Ok||Pc,Rk=fi("Gecko")&&!(-1!=Yg().toLowerCase().indexOf("webkit")&&!fi("Edge"))&&!(fi("Trident")||fi("MSIE"))&&!fi("Edge"),gle=-1!=Yg().toLowerCase().indexOf("webkit")&&!fi("Edge");function Fk(){var t=ie.document;return t?t.documentMode:void 0}e:{var Uw="",Bw=(t=Yg(),Rk?/rv:([^\);]+)(\)|;)/.exec(t):Ok?/Edge\/([\d\.]+)/.exec(t):Pc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):gle?/WebKit\/(\S+)/.exec(t):ple?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Bw&&(Uw=Bw?Bw[1]:""),Pc){var jw=Fk();if(null!=jw&&jw>parseFloat(Uw)){zw=String(jw);break e}}zw=Uw}var mle=ie.document&&Pc&&(Fk()||parseInt(zw,10))||void 0;function pd(t,e){if(_n.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Rk){e:{try{Vw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:yle[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&pd.$.h.call(this)}}Wt(pd,_n);var yle={2:"touch",3:"pen",4:"mouse"};pd.prototype.h=function(){pd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gd="closure_listenable_"+(1e6*Math.random()|0),vle=0;function _le(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++vle,this.fa=this.ia=!1}function Qg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Gw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Vk(t){const e={};for(const n in t)e[n]=t[n];return e}const Hk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zk(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<Hk.length;s++)n=Hk[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xg(t){this.src=t,this.g={},this.h=0}function qw(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=kk(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Qg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Ww(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Xg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Ww(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new _le(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Kw="closure_lm_"+(1e6*Math.random()|0),Yw={};function Uk(t,e,n,r,i){if(r&&r.once)return jk(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Uk(t,e[s],n,r,i);return null}return n=Zw(n),t&&t[gd]?t.O(e,n,fd(r)?!!r.capture:!!r,i):Bk(t,e,n,!1,r,i)}function Bk(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=fd(i)?!!i.capture:!!i,a=Xw(t);if(a||(t[Kw]=a=new Xg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function ble(){const e=Cle;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fle||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Gk(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function jk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)jk(t,e[s],n,r,i);return null}return n=Zw(n),t&&t[gd]?t.P(e,n,fd(r)?!!r.capture:!!r,i):Bk(t,e,n,!0,r,i)}function $k(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)$k(t,e[s],n,r,i);else r=fd(r)?!!r.capture:!!r,n=Zw(n),t&&t[gd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Ww(s=t.g[e],n,r,i))&&(Qg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Xw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ww(e,n,r,i)),(n=-1<t?e[t]:null)&&Qw(n))}function Qw(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[gd])qw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Gk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xw(e))?(qw(n,t),0==n.h&&(n.src=null,e[Kw]=null)):Qg(t)}}}function Gk(t){return t in Yw?Yw[t]:Yw[t]="on"+t}function Cle(t,e){if(t.fa)t=!0;else{e=new pd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Qw(t),t=n.call(r,e)}return t}function Xw(t){return(t=t[Kw])instanceof Xg?t:null}var Jw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zw(t){return"function"==typeof t?t:(t[Jw]||(t[Jw]=function(e){return t.handleEvent(e)}),t[Jw])}function Kt(){Os.call(this),this.i=new Xg(this),this.S=this,this.J=null}function on(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new _n(e,t);else if(e instanceof _n)e.target=e.target||t;else{var i=e;zk(e=new _n(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Jg(o,r,!0,e)&&i}if(i=Jg(o=e.g=t,r,!0,e)&&i,i=Jg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Jg(o=e.g=n[s],r,!1,e)&&i}function Jg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&qw(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Wt(Kt,Os),Kt.prototype[gd]=!0,Kt.prototype.removeEventListener=function(t,e,n,r){$k(this,t,e,n,r)},Kt.prototype.N=function(){if(Kt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qg(n[r]);delete t.g[e],t.h--}}this.J=null},Kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var eb=ie.JSON.stringify;function Ele(){var t=tb;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var qk=new class Ile{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Dle,t=>t.reset());class Dle{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Tle(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Ale(t){ie.setTimeout(()=>{throw t},0)}let md,yd=!1,tb=new class Sle{constructor(){this.h=this.g=null}add(e,n){const r=qk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},Wk=()=>{const t=ie.Promise.resolve(void 0);md=()=>{t.then(Mle)}};var Mle=()=>{for(var t;t=Ele();){try{t.h.call(t.g)}catch(n){Ale(n)}var e=qk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yd=!1};function Zg(t,e){Kt.call(this),this.h=t||1,this.g=e||ie,this.j=vn(this.qb,this),this.l=Date.now()}function nb(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function rb(t,e,n){if("function"==typeof t)n&&(t=vn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=vn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function Kk(t){t.g=rb(()=>{t.g=null,t.i&&(t.i=!1,Kk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Wt(Zg,Kt),(F=Zg.prototype).ga=!1,F.T=null,F.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),on(this,"tick"),this.ga&&(nb(this),this.start()))}},F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.N=function(){Zg.$.N.call(this),nb(this),delete this.g};class xle extends Os{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kk(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vd(t){Os.call(this),this.h=t,this.g={}}Wt(vd,Os);var Yk=[];function Qk(t,e,n,r){Array.isArray(n)||(n&&(Yk[0]=n.toString()),n=Yk);for(var i=0;i<n.length;i++){var s=Uk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Xk(t){Gw(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qw(e)},t),t.g={}}function em(){this.g=!0}function Oc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ole(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return eb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}vd.prototype.N=function(){vd.$.N.call(this),Xk(this)},vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},em.prototype.Ea=function(){this.g=!1},em.prototype.info=function(){};var $o={},Jk=null;function tm(){return Jk=Jk||new Kt}function Zk(t){_n.call(this,$o.Ta,t)}function _d(t){const e=tm();on(e,new Zk(e))}function eP(t,e){_n.call(this,$o.STAT_EVENT,t),this.stat=e}function Fn(t){const e=tm();on(e,new eP(e,t))}function tP(t,e){_n.call(this,$o.Ua,t),this.size=e}function wd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){t()},e)}$o.Ta="serverreachability",Wt(Zk,_n),$o.STAT_EVENT="statevent",Wt(eP,_n),$o.Ua="timingevent",Wt(tP,_n);var nm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ib(){}function iP(){}ib.prototype.h=null;var ab,bd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sb(){_n.call(this,"d")}function ob(){_n.call(this,"c")}function rm(){}function Cd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new vd(this),this.P=Rle,this.V=new Zg(t=Hw?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sP}function sP(){this.i=null,this.g="",this.h=!1}Wt(sb,_n),Wt(ob,_n),Wt(rm,ib),rm.prototype.g=function(){return new XMLHttpRequest},rm.prototype.i=function(){return{}},ab=new rm;var Rle=45e3,cb={},im={};function ub(t,e,n){t.L=1,t.v=cm(Xi(e)),t.s=n,t.S=!0,oP(t,null)}function oP(t,e){t.G=Date.now(),Id(t),t.A=Xi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),mP(n.i,"t",r),t.C=0,n=t.l.J,t.h=new sP,t.g=zP(t.l,n?e:null,!t.s),0<t.O&&(t.M=new xle(vn(t.Pa,t,t.g),t.O)),Qk(t.U,t.g,"readystatechange",t.nb),e=t.I?Vk(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),_d(),function Nle(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function aP(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function cP(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Fle(t,n),i==im){4==e&&(t.o=4,Fn(14),r=!1),Oc(t.j,t.m,null,"[Incomplete Response]");break}if(i==cb){t.o=4,Fn(15),Oc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Oc(t.j,t.m,i,null),lb(t,i)}aP(t)&&i!=im&&i!=cb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Fn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yb(e),e.M=!0,Fn(11))):(Oc(t.j,t.m,n,"[Invalid Chunked Response]"),Go(t),Ed(t))}function Fle(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?im:(n=Number(e.substring(n,r)),isNaN(n)?cb:(r+=1)+n>e.length?im:(e=e.slice(r,r+n),t.C=r+n,e))}function Id(t){t.Y=Date.now()+t.P,uP(t,t.P)}function uP(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=wd(vn(t.lb,t),e)}function sm(t){t.B&&(ie.clearTimeout(t.B),t.B=null)}function Ed(t){0==t.l.H||t.J||FP(t.l,t)}function Go(t){sm(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,nb(t.V),Xk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function lb(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||db(n.i,t)))if(!t.K&&db(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;pm(n),fm(n)}mb(n),Fn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=wd(vn(n.ib,n),6e3));if(1>=_P(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wo(n,11)}else if((t.K||n.g==t)&&pm(n),!hd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(fb(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,$e(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=HP(r,r.J?r.pa:null,r.Y),o.K){wP(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(sm(a),Id(a)),r.g=o}else OP(r);0<n.j.length&&hm(n)}else"stop"!=u[0]&&"close"!=u[0]||Wo(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Wo(n,7):gb(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}_d()}catch{}}function lP(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Wg(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Vle(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wg(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Lle(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Wg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(F=Cd.prototype).setTimeout=function(t){this.P=t},F.nb=function(t){t=t.target;const e=this.M;e&&3==hi(t)?e.l():this.Pa(t)},F.Pa=function(t){try{if(t==this.g)e:{const l=hi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||Hw||this.g&&(this.h.h||this.g.ja()||AP(this.g)))){this.J||4!=l||7==e||_d(),sm(this);var n=this.g.da();this.ca=n;t:if(aP(this)){var r=AP(this.g);t="";var i=r.length,s=4==hi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Go(this),Ed(this);var o="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function kle(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hd(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Fn(12),Go(this),Ed(this);break e}Oc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lb(this,n)}this.S?(cP(this,l,o),Hw&&this.i&&3==l&&(Qk(this.U,this.V,"tick",this.mb),this.V.start())):(Oc(this.j,this.m,o,null),lb(this,o)),4==l&&Go(this),this.i&&!this.J&&(4==l?FP(this.l,this):(this.i=!1,Id(this)))}else(function nde(t){const e={};t=(t.g&&2<=hi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(hd(t[r]))continue;var n=Tle(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function wle(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Fn(12)):(this.o=0,Fn(13)),Go(this),Ed(this)}}}catch{}},F.mb=function(){if(this.g){var t=hi(this.g),e=this.g.ja();this.C<e.length&&(sm(this),cP(this,t,e),this.i&&4!=t&&Id(this))}},F.cancel=function(){this.J=!0,Go(this)},F.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Ple(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(_d(),Fn(17)),Go(this),this.o=2,Ed(this)):uP(this,this.Y-t)};var dP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof qo){this.h=t.h,om(this,t.j),this.s=t.s,this.g=t.g,am(this,t.m),this.l=t.l;var e=t.i,n=new Td;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),fP(this,n),this.o=t.o}else t&&(e=String(t).match(dP))?(this.h=!1,om(this,e[1]||"",!0),this.s=Sd(e[2]||""),this.g=Sd(e[3]||"",!0),am(this,e[4]),this.l=Sd(e[5]||"",!0),fP(this,e[6]||"",!0),this.o=Sd(e[7]||"")):(this.h=!1,this.i=new Td(null,this.h))}function Xi(t){return new qo(t)}function om(t,e,n){t.j=n?Sd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function am(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function fP(t,e,n){e instanceof Td?(t.i=e,function Gle(t,e){e&&!t.j&&(Rs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pP(this,r),mP(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Dd(e,jle)),t.i=new Td(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function cm(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Sd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,zle),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zle(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Dd(e,hP,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Dd(e,hP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Dd(n,"/"==n.charAt(0)?Ble:Ule,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Dd(n,$le)),t.join("")};var hP=/[#\/\?@]/g,Ule=/[#\?:]/g,Ble=/[#\?]/g,jle=/[#\?@]/g,$le=/#/g;function Td(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Rs(t){t.g||(t.g=new Map,t.h=0,t.i&&function Hle(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pP(t,e){Rs(t),e=Rc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function gP(t,e){return Rs(t),e=Rc(t,e),t.g.has(e)}function mP(t,e,n){pP(t,e),0<n.length&&(t.i=null,t.g.set(Rc(t,e),Lw(n)),t.h+=n.length)}function Rc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yP(t){this.l=t||Wle,t=ie.PerformanceNavigationTiming?0<(t=ie.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=Td.prototype).add=function(t,e){Rs(this),this.i=null,t=Rc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},F.forEach=function(t,e){Rs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},F.ta=function(){Rs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},F.Z=function(t){Rs(this);let e=[];if("string"==typeof t)gP(this,t)&&(e=e.concat(this.g.get(Rc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},F.set=function(t,e){return Rs(this),this.i=null,gP(this,t=Rc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},F.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Wle=10;function vP(t){return!!t.h||!!t.g&&t.g.size>=t.j}function _P(t){return t.h?1:t.g?t.g.size:0}function db(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function fb(t,e){t.g?t.g.add(e):t.h=e}function wP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function bP(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Lw(t.i)}yP.prototype.cancel=function(){if(this.i=bP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Kle=class{stringify(t){return ie.JSON.stringify(t,void 0)}parse(t){return ie.JSON.parse(t,void 0)}};function Yle(){this.g=new Kle}function Qle(t,e,n){const r=n||"";try{lP(t,function(i,s){let o=i;fd(i)&&(o=eb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function um(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ad(t){this.l=t.fc||null,this.j=t.ob||!1}function lm(t,e){Kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wt(Ad,ib),Ad.prototype.g=function(){return new lm(this.l,this.j)},Ad.prototype.i=function(t){return function(){return t}}({}),Wt(lm,Kt);var hb=0;function CP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Md(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xd(t)}function xd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(F=lm.prototype).open=function(t,e){if(this.readyState!=hb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xd(this)},F.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Md(this)),this.readyState=hb},F.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xd(this)),this.g&&(this.readyState=3,xd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;CP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},F.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Md(this):xd(this),3==this.readyState&&CP(this)}},F.Za=function(t){this.g&&(this.response=this.responseText=t,Md(this))},F.Ya=function(t){this.g&&(this.response=t,Md(this))},F.ka=function(){this.g&&Md(this)},F.setRequestHeader=function(t,e){this.v.append(t,e)},F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(lm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Jle=ie.JSON.parse;function dt(t){Kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=IP,this.L=this.M=!1}Wt(dt,Kt);var IP="",Zle=/^https?$/i,ede=["POST","PUT"];function EP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,SP(t),dm(t)}function SP(t){t.F||(t.F=!0,on(t,"complete"),on(t,"error"))}function DP(t){if(t.h&&typeof Rw<"u"&&(!t.C[1]||4!=hi(t)||2!=t.da()))if(t.v&&4==hi(t))rb(t.La,0,t);else if(on(t,"readystatechange"),4==hi(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(dP)[1]||null;!i&&ie.self&&ie.self.location&&(i=ie.self.location.protocol.slice(0,-1)),r=!Zle.test(i?i.toLowerCase():"")}n=r}if(n)on(t,"complete"),on(t,"success");else{t.m=6;try{var s=2<hi(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",SP(t)}}finally{dm(t)}}}function dm(t,e){if(t.g){TP(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||on(t,"ready");try{n.onreadystatechange=r}catch{}}}function TP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ie.clearTimeout(t.A),t.A=null)}function hi(t){return t.g?t.g.readyState:0}function AP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case IP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function MP(t){let e="";return Gw(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function pb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=MP(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function Nd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xP(t){this.Ga=0,this.j=[],this.l=new em,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Nd("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Nd("baseRetryDelayMs",5e3,t),this.hb=Nd("retryDelaySeedMs",1e4,t),this.eb=Nd("forwardChannelMaxRetries",2,t),this.xa=Nd("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yP(t&&t.concurrentRequestLimit),this.Ja=new Yle,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gb(t){if(NP(t),3==t.H){var e=t.W++,n=Xi(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),kd(t,n),(e=new Cd(t,t.l,e)).L=2,e.v=cm(Xi(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon)try{n=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ie.Image&&((new Image).src=e.v,n=!0),n||(e.g=zP(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Id(e)}VP(t)}function fm(t){t.g&&(yb(t),t.g.cancel(),t.g=null)}function NP(t){fm(t),t.u&&(ie.clearTimeout(t.u),t.u=null),pm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ie.clearTimeout(t.m),t.m=null)}function hm(t){if(!vP(t.i)&&!t.m){t.m=!0;var e=t.Na;md||Wk(),yd||(md(),yd=!0),tb.add(e,t),t.C=0}}function kP(t,e){var n;n=e?e.m:t.W++;const r=Xi(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),kd(t,r),t.o&&t.s&&pb(r,t.o,t.s),n=new Cd(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=PP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fb(t.i,n),ub(n,r,e)}function kd(t,e){t.na&&Gw(t.na,function(n,r){$e(e,r,n)}),t.h&&lP({},function(n,r){$e(e,r,n)})}function PP(t,e,n){n=Math.min(t.j.length,n);var r=t.h?vn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{Qle(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function OP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;md||Wk(),yd||(md(),yd=!0),tb.add(e,t),t.A=0}}function mb(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=wd(vn(t.Ma,t),LP(t,t.A)),t.A++,0))}function yb(t){null!=t.B&&(ie.clearTimeout(t.B),t.B=null)}function RP(t){t.g=new Cd(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Xi(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),kd(t,e),t.o&&t.s&&pb(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=cm(Xi(e)),n.s=null,n.S=!0,oP(n,t)}function pm(t){null!=t.v&&(ie.clearTimeout(t.v),t.v=null)}function FP(t,e){var n=null;if(t.g==e){pm(t),yb(t),t.g=null;var r=2}else{if(!db(t.i,e))return;n=e.F,wP(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;on(r=tm(),new tP(r,n)),hm(t)}else OP(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function rde(t,e){return!(_P(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=wd(vn(t.Na,t,e),LP(t,t.C)),t.C++,0)))}(t,e)||2==r&&mb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wo(t,5);break;case 4:Wo(t,10);break;case 3:Wo(t,6);break;default:Wo(t,2)}}function LP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wo(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=vn(t.pb,t);n||(n=new qo("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||om(n,"https"),cm(n)),function Xle(t,e){const n=new em;if(ie.Image){const r=new Image;r.onload=Kg(um,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Kg(um,n,r,"TestLoadImage: error",!1,e),r.onabort=Kg(um,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Kg(um,n,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Fn(2);t.H=0,t.h&&t.h.za(e),VP(t),NP(t)}function VP(t){if(t.H=0,t.ma=[],t.h){const e=bP(t.i);(0!=e.length||0!=t.j.length)&&(Pk(t.ma,e),Pk(t.ma,t.j),t.i.i.length=0,Lw(t.j),t.j.length=0),t.h.ya()}}function HP(t,e,n){var r=n instanceof qo?Xi(n):new qo(n);if(""!=r.g)e&&(r.g=e+"."+r.g),am(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new qo(null);r&&om(s,r),e&&(s.g=e),i&&am(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&$e(r,n,e),$e(r,"VER",t.ra),kd(t,r),r}function zP(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dt(n&&t.Ha&&!t.va?new Ad({ob:!0}):t.va)).Oa(t.J),e}function UP(){}function gm(){if(Pc&&!(10<=Number(mle)))throw Error("Environmental error: no available transport.")}function ur(t,e){Kt.call(this),this.g=new xP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!hd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hd(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Fc(this)}function BP(t){sb.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function jP(){ob.call(this),this.status=1}function Fc(t){this.g=t}function zr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vb(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(F=dt.prototype).Oa=function(t){this.M=t},F.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ab.g(),this.C=function rP(t){return t.h||(t.h=t.i())}(this.u?this.u:ab),this.g.onreadystatechange=vn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void EP(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ie.FormData&&t instanceof ie.FormData,!(0<=kk(ede,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TP(this),0<this.B&&((this.L=function tde(t){return Pc&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vn(this.ua,this)):this.A=rb(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){EP(this,s)}},F.ua=function(){typeof Rw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,on(this,"timeout"),this.abort(8))},F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,on(this,"complete"),on(this,"abort"),dm(this))},F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dm(this,!0)),dt.$.N.call(this)},F.La=function(){this.s||(this.G||this.v||this.l?DP(this):this.kb())},F.kb=function(){DP(this)},F.isActive=function(){return!!this.g},F.da=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},F.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Jle(e)}},F.Ia=function(){return this.m},F.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=xP.prototype).ra=8,F.H=1,F.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Cd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Vk(s),zk(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=PP(this,i,e),$e(n=Xi(this.I),"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),kd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(MP(s)))+"&"+e:this.o&&pb(n,this.o,s)),fb(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,ub(i,n,null)):ub(i,n,e),this.H=2}}else 3==this.H&&(t?kP(this,t):0==this.j.length||vP(this.i)||kP(this))},F.Ma=function(){if(this.u=null,RP(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=wd(vn(this.jb,this),t)}},F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fn(10),fm(this),RP(this))},F.ib=function(){null!=this.v&&(this.v=null,fm(this),mb(this),Fn(19))},F.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Fn(2)):(this.l.info("Failed to ping google.com"),Fn(1))},F.isActive=function(){return!!this.h&&this.h.isActive(this)},(F=UP.prototype).Ba=function(){},F.Aa=function(){},F.za=function(){},F.ya=function(){},F.isActive=function(){return!0},F.Va=function(){},gm.prototype.g=function(t,e){return new ur(t,e)},Wt(ur,Kt),ur.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Fn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=HP(t,null,t.Y),hm(t)},ur.prototype.close=function(){gb(this.g)},ur.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=eb(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&hm(e)},ur.prototype.N=function(){this.g.h=null,delete this.j,gb(this.g),delete this.g,ur.$.N.call(this)},Wt(BP,sb),Wt(jP,ob),Wt(Fc,UP),Fc.prototype.Ba=function(){on(this.g,"a")},Fc.prototype.Aa=function(t){on(this.g,new BP(t))},Fc.prototype.za=function(t){on(this.g,new jP)},Fc.prototype.ya=function(){on(this.g,"b")},Wt(zr,function ide(){this.blockSize=-1}),zr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)vb(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){vb(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){vb(this,r),i=0;break}}this.h=i,this.i+=e},zr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var sde={};function _b(t){return-128<=t&&128>t?function hle(t,e){var n=sde;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Me([0|e],0>e?-1:0)}):new Me([0|t],0>t?-1:0)}function pi(t){if(isNaN(t)||!isFinite(t))return Lc;if(0>t)return an(pi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=wb;return new Me(e,0)}var wb=4294967296,Lc=_b(0),bb=_b(1),GP=_b(16777216);function Ji(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ir(t){return-1==t.h}function an(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Me(n,~t.h).add(bb)}function mm(t,e){return t.add(an(e))}function ym(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Pd(t,e){this.g=t,this.h=e}function vm(t,e){if(Ji(e))throw Error("division by zero");if(Ji(t))return new Pd(Lc,Lc);if(Ir(t))return e=vm(an(t),e),new Pd(an(e.g),an(e.h));if(Ir(e))return e=vm(t,an(e)),new Pd(an(e.g),e.h);if(30<t.g.length){if(Ir(t)||Ir(e))throw Error("slowDivide_ only works with positive integers.");for(var n=bb,r=e;0>=r.X(t);)n=qP(n),r=qP(r);var i=Vc(n,1),s=Vc(r,1);for(r=Vc(r,2),n=Vc(n,2);!Ji(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Vc(r,1),n=Vc(n,1)}return e=mm(t,i.R(e)),new Pd(i,e)}for(i=Lc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=pi(n)).R(e);Ir(o)||0<o.X(t);)o=(s=pi(n-=r)).R(e);Ji(s)&&(s=bb),i=i.add(s),t=mm(t,o)}return new Pd(i,t)}function qP(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Me(n,t.h)}function Vc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Me(i,t.h)}(F=Me.prototype).ea=function(){if(Ir(this))return-an(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:wb+r)*e,e*=wb}return t},F.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ji(this))return"0";if(Ir(this))return"-"+an(this).toString(t);for(var e=pi(Math.pow(t,6)),n=this,r="";;){var i=vm(n,e).g,s=((0<(n=mm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ji(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},F.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},F.X=function(t){return Ir(t=mm(this,t))?-1:Ji(t)?0:1},F.abs=function(){return Ir(this)?an(this):this},F.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Me(n,-2147483648&n[n.length-1]?-1:0)},F.R=function(t){if(Ji(this)||Ji(t))return Lc;if(Ir(this))return Ir(t)?an(this).R(an(t)):an(an(this).R(t));if(Ir(t))return an(this.R(an(t)));if(0>this.X(GP)&&0>t.X(GP))return pi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,ym(n,2*r+2*i),n[2*r+2*i+1]+=s*c,ym(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ym(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ym(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Me(n,0)},F.gb=function(t){return vm(this,t).h},F.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Me(n,this.h&t.h)},F.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Me(n,this.h|t.h)},F.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Me(n,this.h^t.h)},gm.prototype.createWebChannel=gm.prototype.g,ur.prototype.send=ur.prototype.u,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,nm.NO_ERROR=0,nm.TIMEOUT=8,nm.HTTP_ERROR=6,nP.COMPLETE="complete",iP.EventType=bd,bd.OPEN="a",bd.CLOSE="b",bd.ERROR="c",bd.MESSAGE="d",Kt.prototype.listen=Kt.prototype.O,dt.prototype.listenOnce=dt.prototype.P,dt.prototype.getLastError=dt.prototype.Sa,dt.prototype.getLastErrorCode=dt.prototype.Ia,dt.prototype.getStatus=dt.prototype.da,dt.prototype.getResponseJson=dt.prototype.Wa,dt.prototype.getResponseText=dt.prototype.ja,dt.prototype.send=dt.prototype.ha,dt.prototype.setWithCredentials=dt.prototype.Oa,zr.prototype.digest=zr.prototype.l,zr.prototype.reset=zr.prototype.reset,zr.prototype.update=zr.prototype.j,Me.prototype.add=Me.prototype.add,Me.prototype.multiply=Me.prototype.R,Me.prototype.modulo=Me.prototype.gb,Me.prototype.compare=Me.prototype.X,Me.prototype.toNumber=Me.prototype.ea,Me.prototype.toString=Me.prototype.toString,Me.prototype.getBits=Me.prototype.D,Me.fromNumber=pi,Me.fromString=function $P(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return an($P(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=pi(Math.pow(e,8)),r=Lc,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=pi(Math.pow(e,s)),r=r.R(s).add(pi(o))):r=(r=r.R(n)).add(pi(o))}return r};var ode=Hr.createWebChannelTransport=function(){return new gm},ade=Hr.getStatEventTarget=function(){return tm()},Cb=Hr.ErrorCode=nm,cde=Hr.EventType=nP,ude=Hr.Event=$o,WP=Hr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lde=Hr.FetchXmlHttpFactory=Ad,_m=Hr.WebChannel=iP,dde=Hr.XhrIo=dt,fde=Hr.Md5=zr,Hc=Hr.Integer=Me;const KP="@firebase/firestore";class Yt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");let zc="9.23.0";const Fs=new Cc("@firebase/firestore");function Ib(){return Fs.logLevel}function A(t,...e){if(Fs.logLevel<=ve.DEBUG){const n=e.map(Eb);Fs.debug(`Firestore (${zc}): ${t}`,...n)}}function bt(t,...e){if(Fs.logLevel<=ve.ERROR){const n=e.map(Eb);Fs.error(`Firestore (${zc}): ${t}`,...n)}}function Ur(t,...e){if(Fs.logLevel<=ve.WARN){const n=e.map(Eb);Fs.warn(`Firestore (${zc}): ${t}`,...n)}}function Eb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function H(t="Unexpected state"){const e=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: `+t;throw bt(e),new Error(e)}function j(t,e){t||H()}function O(t,e){return t}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class YP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class pde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gde{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new Rt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(g(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new YP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Yt(e)}}class mde{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class yde{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new mde(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vde{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.T=n.token,new QP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _de(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class XP{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=_de(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function Uc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new st(0,0))}static max(){return new G(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Od{constructor(e,n,r){void 0===n?n=0:n>e.length&&H(),void 0===r?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Od.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Od?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class me extends Od{construct(e,n,r){return new me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const wde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Od{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return wde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new D(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}class P{constructor(e){this.path=e}static fromPath(e){return new P(me.fromString(e))}static fromName(e){return new P(me.fromString(e).popFirst(5))}static empty(){return new P(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new P(new me(e.slice()))}}function eO(t){return new lr(t.readTime,t.key,-1)}class lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(G.min(),P.empty(),-1)}static max(){return new lr(G.max(),P.empty(),-1)}}function Db(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=P.comparator(t.documentKey,e.documentKey),0!==n?n:te(t.largestBatchId,e.largestBatchId))}const tO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ide{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ls(t){return Tb.apply(this,arguments)}function Tb(){return Tb=g(function*(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==tO)throw t;A("LocalStore","Unexpectedly lost primary lease")}),Tb.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Vs(t){return"IndexedDbTransactionError"===t.name}let dr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Ld(t){return null==t}function Vd(t){return 0===t&&1/t==-1/0}function lO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ue{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Em(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Em(this.root,e,this.comparator,!1)}getReverseIterator(){return new Em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Em(this.root,e,this.comparator,!0)}}class Em{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cn.RED,this.left=i??cn.EMPTY,this.right=s??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new cn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1,cn.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(t,e,n,r,i){return this}insert(t,e,n){return new cn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fO(this.data.getIterator())}getIteratorFrom(e){return new fO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class fO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Ge(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class hO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hO("Invalid base64 string: "+i):i}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const qde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(j(!!t),"string"==typeof t){let e=0;const n=qde.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Zi(t){return"string"==typeof t?Ft.fromBase64String(t):Ft.fromUint8Array(t)}function Sm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dm(t){const e=t.mapValue.fields.__previous_value__;return Sm(e)?Dm(e):e}function Hd(t){const e=zs(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}class Wde{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Qo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qo&&e.projectId===this.projectId&&e.database===this.database}}const Us={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sm(t)?4:yO(t)?9007199254740991:10:H()}function mi(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hd(t).isEqual(Hd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=zs(r.timestampValue),o=zs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Zi(t.bytesValue).isEqual(Zi(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ft(r.geoPointValue.latitude)===ft(i.geoPointValue.latitude)&&ft(r.geoPointValue.longitude)===ft(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ft(r.integerValue)===ft(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ft(r.doubleValue),o=ft(i.doubleValue);return s===o?Vd(s)===Vd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Uc(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(lO(s)!==lO(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!mi(s[a],o[a])))return!1;return!0}(t,e);default:return H()}var i}function zd(t,e){return void 0!==(t.values||[]).find(n=>mi(n,e))}function js(t,e){if(t===e)return 0;const n=Bs(t),r=Bs(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ft(i.integerValue||i.doubleValue),a=ft(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return pO(t.timestampValue,e.timestampValue);case 4:return pO(Hd(t),Hd(e));case 5:return te(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Zi(i),a=Zi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=te(o[c],a[c]);if(0!==u)return u}return te(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=te(ft(i.latitude),ft(s.latitude));return 0!==o?o:te(ft(i.longitude),ft(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=js(o[c],a[c]);if(u)return u}return te(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Us.mapValue&&s===Us.mapValue)return 0;if(i===Us.mapValue)return 1;if(s===Us.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=te(a[l],u[l]);if(0!==d)return d;const f=js(o[a[l]],c[u[l]]);if(0!==f)return f}return te(a.length,u.length)}(t.mapValue,e.mapValue);default:throw H()}}function pO(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return te(t,e);const n=zs(t),r=zs(e),i=te(n.seconds,r.seconds);return 0!==i?i:te(n.nanos,r.nanos)}function jc(t){return xb(t)}function xb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=zs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zi(t.bytesValue).toBase64():"referenceValue"in t?P.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=xb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${xb(r.fields[a])}`;return s+"}"}(t.mapValue):H();var e}function Xo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nb(t){return!!t&&"integerValue"in t}function Ud(t){return!!t&&"arrayValue"in t}function gO(t){return!!t&&"nullValue"in t}function mO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mm(t){return!!t&&"mapValue"in t}function Bd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yO(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bd(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Bd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Mm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new un(Bd(this.value))}}function wO(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new Ct([n]);if(Mm(r)){const s=wO(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Qn(e)}class qe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qe(e,0,G.min(),G.min(),G.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new qe(e,1,n,G.min(),r,i,0)}static newNoDocument(e,n){return new qe(e,2,n,G.min(),G.min(),un.empty(),0)}static newUnknownDocument(e,n){return new qe(e,3,n,G.min(),G.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(G.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $s{constructor(e,n){this.position=e,this.inclusive=n}}function bO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?P.comparator(P.fromName(o.referenceValue),n.key):js(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function CO(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}class $c{constructor(e,n="asc"){this.field=e,this.dir=n}}function Qde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class IO{}class de extends IO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Xde(e,n,r):"array-contains"===n?new efe(e,r):"in"===n?new MO(e,r):"not-in"===n?new tfe(e,r):"array-contains-any"===n?new nfe(e,r):new de(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Jde(e,r):new Zde(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(js(n,this.value)):null!==n&&Bs(this.value)===Bs(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xe extends IO{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new xe(e,n)}matches(e){return Gc(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Gc(t){return"and"===t.op}function Pb(t){return function EO(t){for(const e of t.filters)if(e instanceof xe)return!1;return!0}(t)&&Gc(t)}function Ob(t){if(t instanceof de)return t.field.canonicalString()+t.op.toString()+jc(t.value);if(Pb(t))return t.filters.map(e=>Ob(e)).join(",");{const e=t.filters.map(n=>Ob(n)).join(",");return`${t.op}(${e})`}}function SO(t,e){return t instanceof de?(n=t,(r=e)instanceof de&&n.op===r.op&&n.field.isEqual(r.field)&&mi(n.value,r.value)):t instanceof xe?function(n,r){return r instanceof xe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&SO(s,r.filters[o]),!0)}(t,e):void H();var n,r}function TO(t){return t instanceof de?`${(e=t).field.canonicalString()} ${e.op} ${jc(e.value)}`:t instanceof xe?function(e){return e.op.toString()+" {"+e.getFilters().map(TO).join(" ,")+"}"}(t):"Filter";var e}class Xde extends de{constructor(e,n,r){super(e,n,r),this.key=P.fromName(r.referenceValue)}matches(e){const n=P.comparator(e.key,this.key);return this.matchesComparison(n)}}class Jde extends de{constructor(e,n){super(e,"in",n),this.keys=AO(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Zde extends de{constructor(e,n){super(e,"not-in",n),this.keys=AO(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AO(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>P.fromName(r.referenceValue))}class efe extends de{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ud(n)&&zd(n.arrayValue,this.value)}}class MO extends de{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&zd(this.value.arrayValue,n)}}class tfe extends de{constructor(e,n){super(e,"not-in",n)}matches(e){if(zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!zd(this.value.arrayValue,n)}}class nfe extends de{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ud(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zd(this.value.arrayValue,r))}}class rfe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Rb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new rfe(t,e,n,r,i,s,o)}function Jo(t){const e=O(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ob(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jc(r)).join(",")),e.dt=n}return e.dt}function jd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Qde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CO(t.startAt,e.startAt)&&CO(t.endAt,e.endAt)}function xm(t){return P.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class es{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function qc(t){return new es(t)}function PO(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Fb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function km(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Lb(t){return null!==t.collectionGroup}function Zo(t){const e=O(t);if(null===e.wt){e.wt=[];const n=km(e),r=Fb(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new $c(n)),e.wt.push(new $c(Ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new $c(Ct.keyField(),s))}}}return e.wt}function Ln(t){const e=O(t);if(!e._t)if("F"===e.limitType)e._t=Rb(e.path,e.collectionGroup,Zo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Zo(e))n.push(new $c(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new $s(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $s(e.startAt.position,e.startAt.inclusive):null;e._t=Rb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Vb(t,e){e.getFirstInequalityField(),km(t);const n=t.filters.concat([e]);return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pm(t,e,n){return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $d(t,e){return jd(Ln(t),Ln(e))&&t.limitType===e.limitType}function OO(t){return`${Jo(Ln(t))}|lt:${t.limitType}`}function Hb(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>TO(r)).join(", ")}]`),Ld(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jc(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jc(r)).join(",")),`Target(${n})`}(Ln(t))}; limitType=${t.limitType})`}function Gd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):P.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Zo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=bO(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Zo(n),r)||n.endAt&&!function(i,s,o){const a=bO(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Zo(n),r)));var n,r}function FO(t){return(e,n)=>{let r=!1;for(const i of Zo(t)){const s=ife(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function ife(t,e,n){const r=t.field.isKeyField()?P.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?js(a,c):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}class ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dO(this.inner)}size(){return this.innerSize}}const sfe=new Ue(P.comparator);function Xn(){return sfe}const LO=new Ue(P.comparator);function qd(...t){let e=LO;for(const n of t)e=e.insert(n.key,n);return e}function VO(t){let e=LO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yi(){return Wd()}function HO(){return Wd()}function Wd(){return new ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const ofe=new Ue(P.comparator),afe=new Ge(P.comparator);function ae(...t){let e=afe;for(const n of t)e=e.add(n);return e}const cfe=new Ge(te);function zO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function UO(t){return{integerValue:""+t}}function BO(t,e){return function rO(t){return"number"==typeof t&&Number.isInteger(t)&&!Vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?UO(e):zO(t,e)}class Om{constructor(){this._=void 0}}function ufe(t,e,n){return t instanceof Wc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Sm(i)&&(i=Dm(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ea?$O(t,e):t instanceof ta?GO(t,e):function(r,i){const s=jO(r,i),o=qO(s)+qO(r.gt);return Nb(s)&&Nb(r.gt)?UO(o):zO(r.serializer,o)}(t,e)}function lfe(t,e,n){return t instanceof ea?$O(t,e):t instanceof ta?GO(t,e):n}function jO(t,e){return t instanceof Kc?Nb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Wc extends Om{}class ea extends Om{constructor(e){super(),this.elements=e}}function $O(t,e){const n=WO(e);for(const r of t.elements)n.some(i=>mi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ta extends Om{constructor(e){super(),this.elements=e}}function GO(t,e){let n=WO(e);for(const r of t.elements)n=n.filter(i=>!mi(i,r));return{arrayValue:{values:n}}}class Kc extends Om{constructor(e,n){super(),this.serializer=e,this.gt=n}}function qO(t){return ft(t.integerValue||t.doubleValue)}function WO(t){return Ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ffe{constructor(e,n){this.version=e,this.transformResults=n}}class Ze{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ze}static exists(e){return new Ze(void 0,e)}static updateTime(e){return new Ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Fm{}function KO(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Qc(t.key,Ze.none()):new Yc(t.key,t.data,Ze.none());{const n=t.data,r=un.empty();let i=new Ge(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ns(t.key,r,new Qn(i.toArray()),Ze.none())}}function hfe(t,e,n){t instanceof Yc?function(r,i,s){const o=r.value.clone(),a=XO(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(r,i,s){if(!Rm(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=XO(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(QO(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Yd(t,e,n,r){return t instanceof Yc?function(i,s,o,a){if(!Rm(i.precondition,s))return o;const c=i.value.clone(),u=JO(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ns?function(i,s,o,a){if(!Rm(i.precondition,s))return o;const c=JO(i.fieldTransforms,a,s),u=s.data;return u.setAll(QO(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Rm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function pfe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=jO(r.transform,i||null);null!=s&&(null===n&&(n=un.empty()),n.set(r.field,s))}return n||null}function YO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Uc(n,r,(i,s)=>function dfe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof ea&&r instanceof ea||n instanceof ta&&r instanceof ta?Uc(n.elements,r.elements,mi):n instanceof Kc&&r instanceof Kc?mi(n.gt,r.gt):n instanceof Wc&&r instanceof Wc);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Yc extends Fm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ns extends Fm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XO(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lfe(o,a,n[i]))}return r}function JO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ufe(s,o,e))}return r}class Qc extends Fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub extends Fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&hfe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=KO(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Uc(this.mutations,e.mutations,(n,r)=>YO(n,r))&&Uc(this.baseMutations,e.baseMutations,(n,r)=>YO(n,r))}}class jb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=ofe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jb(e,n,r,i)}}class $b{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mfe{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mt,ye;function eR(t){if(void 0===t)return bt("GRPC error has no .code"),b.UNKNOWN;switch(t){case Mt.OK:return b.OK;case Mt.CANCELLED:return b.CANCELLED;case Mt.UNKNOWN:return b.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return b.INTERNAL;case Mt.UNAVAILABLE:return b.UNAVAILABLE;case Mt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Mt.NOT_FOUND:return b.NOT_FOUND;case Mt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Mt.ABORTED:return b.ABORTED;case Mt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Mt.DATA_LOSS:return b.DATA_LOSS;default:return H()}}(ye=Mt||(Mt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";class Gb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Lm}static getOrCreateInstance(){return null===Lm&&(Lm=new Gb),Lm}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Lm=null;const yfe=new Hc([4294967295,4294967295],0);function nR(t){const e=function tR(){return new TextEncoder}().encode(t),n=new fde;return n.update(e),new Uint8Array(n.digest())}function rR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hc([n,r],0),new Hc([i,s],0)]}class qb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qd(`Invalid padding: ${n}`);if(r<0)throw new Qd(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Qd(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Qd(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Hc.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Hc.fromNumber(r)));return 1===i.compare(yfe)&&(i=new Hc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=nR(e),[r,i]=rR(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qb(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=nR(e),[r,i]=rR(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xd(G.min(),i,new Ue(te),Xn(),ae())}}class Jd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jd(r,n,ae(),ae(),ae())}}class Vm{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class iR{constructor(e,n){this.targetId=e,this.Vt=n}}class sR{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oR{constructor(){this.St=0,this.Dt=cR(),this.Ct=Ft.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ae(),n=ae(),r=ae();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new Jd(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=cR()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vfe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Xn(),this.zt=aR(),this.Wt=new Ue(te)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:H()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(xm(o))if(0===i){const a=new P(o.path);this.Yt(r,a,qe.newNoDocument(a,G.min()))}else j(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Gb.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(u,l,d){var f,h,p,m,y,_;const v={localCacheCount:l,existenceFilterCount:d.count},C=d.unchangedNames;return C&&(v.bloomFilter={applied:0===u,hashCount:null!==(f=C?.hashCount)&&void 0!==f?f:0,bitmapLength:null!==(m=null===(p=null===(h=C?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(_=null===(y=C?.bits)||void 0===y?void 0:y.padding)&&void 0!==_?_:0}),v}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,u;try{c=Zi(s).toUint8Array()}catch(l){if(l instanceof hO)return Ur("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new qb(c,o,a)}catch(l){return Ur(l instanceof Qd?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===u.It?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&xm(a.target)){const c=new P(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,qe.newNoDocument(c,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=ae();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.se(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Xd(e,n,this.Wt,this.jt,r);return this.jt=Xn(),this.zt=aR(),this.Wt=new Ue(te),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new oR,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ge(te),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new oR),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function aR(){return new Ue(P.comparator)}function cR(){return new Ue(P.comparator)}const _fe={asc:"ASCENDING",desc:"DESCENDING"},wfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bfe={and:"AND",or:"OR"};class Cfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wb(t,e){return t.useProto3Json||Ld(e)?e:{value:e}}function Xc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ife(t,e){return Xc(t,e.toTimestamp())}function It(t){return j(!!t),G.fromTimestamp(function(e){const n=zs(e);return new st(n.seconds,n.nanos)}(t))}function Kb(t,e){return(n=t,new me(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function lR(t){const e=me.fromString(t);return j(_R(e)),e}function Zd(t,e){return Kb(t.databaseId,e.path)}function vi(t,e){const n=lR(e);if(n.get(1)!==t.databaseId.projectId)throw new D(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(fR(n))}function Yb(t,e){return Kb(t.databaseId,e)}function ef(t){return new me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fR(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function hR(t,e,n){return{name:Zd(t,e),fields:n.value.mapValue.fields}}function gR(t,e){return{documents:[Yb(t,e.path)]}}function Xb(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Yb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return vR(xe.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:Gs((l=u).field),direction:Afe(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Wb(t,e.limit);var a,c;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function mR(t){let e=function dR(t){const e=lR(t);return 4===e.length?me.emptyPath():fR(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=yR(l);return d instanceof xe&&Pb(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new $c(Jc((d=l).field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ld(d)?null:d}(n.limit));let c=null;var l;n.startAt&&(c=new $s((l=n.startAt).values||[],!!l.before));let u=null;return n.endAt&&(u=function(l){return new $s(l.values||[],!l.before)}(n.endAt)),function kO(t,e,n,r,i,s,o,a){return new es(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function yR(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Jc(e.unaryFilter.field);return de.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Jc(e.unaryFilter.field);return de.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Jc(e.unaryFilter.field);return de.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Jc(e.unaryFilter.field);return de.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):void 0!==t.fieldFilter?de.create(Jc((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return xe.create(e.compositeFilter.filters.map(n=>yR(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return H()}}(e.compositeFilter.op))}(t):H();var e}function Afe(t){return _fe[t]}function Mfe(t){return wfe[t]}function xfe(t){return bfe[t]}function Gs(t){return{fieldPath:t.canonicalString()}}function Jc(t){return Ct.fromServerFormat(t.fieldPath)}function vR(t){return t instanceof de?function(e){if("=="===e.op){if(mO(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NAN"}};if(gO(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mO(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NOT_NAN"}};if(gO(e.value))return{unaryFilter:{field:Gs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(e.field),op:Mfe(e.op),value:e.value}}}(t):t instanceof xe?function(e){const n=e.getFilters().map(r=>vR(r));return 1===n.length?n[0]:{compositeFilter:{op:xfe(e.op),filters:n}}}(t):H()}function Nfe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _R(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class rs{constructor(e,n,r,i,s=G.min(),o=G.min(),a=Ft.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wR{constructor(e){this.fe=e}}function Jb(t){const e=mR({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Pm(e,e.limit,"L"):e}class sa{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ft(e.integerValue));else if("doubleValue"in e){const r=ft(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Vd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Zi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?yO(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):H()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),P.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}sa.Ve=new sa;class zfe{constructor(){this.rn=new iC}addToCollectionParentIndex(e,n){return this.rn.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(lr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class iC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(me.comparator)).toArray()}}new Uint8Array(0);class bn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class aa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new aa(0)}static Mn(){return new aa(-1)}}class qfe{constructor(){this.changes=new ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yfe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class qR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Yd(r.mutation,i,Qn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=yi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qd();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xn();const o=Wd(),a=Wd();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof ns)?s=s.insert(u.key,u):void 0!==l?(o.set(u.key,l.mutation.getFieldMask()),Yd(l.mutation,u,l.mutation.getFieldMask(),st.now())):o.set(u.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Yfe(l,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wd();let i=new Ue((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||Qn.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||ae()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=HO();l.forEach(f=>{if(!s.has(f)){const h=KO(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return P.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Lb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(yi());let a=-1,c=s;return o.next(u=>w.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ae())).next(l=>({batchId:a,changes:VO(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new P(n)).next(r=>{let i=qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=qd();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const c=(u=n,l=a.child(i),new es(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt));var u,l;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,qe.newInvalidDocument(u)))});let o=qd();return s.forEach((a,c)=>{const u=i.get(a);void 0!==u&&Yd(u.mutation,c,Qn.empty(),st.now()),Gd(n,c)&&(o=o.insert(a,c))}),o})}}class Qfe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return w.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:It(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:Jb(r.bundledQuery),readTime:It(r.readTime)}),w.resolve();var r}}class Xfe{constructor(){this.overlays=new Ue(P.comparator),this.ls=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yi();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=yi(),s=n.length+1,o=new P(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);null===l&&(l=yi(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=yi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return w.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $b(n,r));let s=this.ls.get(n);void 0===s&&(s=ae(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class sC{constructor(){this.fs=new Ge(Xt.ds),this.ws=new Ge(Xt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Xt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new P(new me([])),r=new Xt(n,e),i=new Xt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new P(new me([])),r=new Xt(n,e),i=new Xt(n,e+1);let s=ae();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Xt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return P.comparator(e.key,n.key)||te(e.As,n.As)}static _s(e,n){return te(e.As,n.As)||P.comparator(e.key,n.key)}}class Jfe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ge(Xt.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new Bb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Xt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),i=new Xt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(te);return n.forEach(i=>{const s=new Xt(i,0),o=new Xt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;P.isDocumentKey(s)||(s=s.child(""));const o=new Xt(new P(s),0);let a=new Ge(te);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(n.mutations,i=>{const s=new Xt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Xt(n,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Zfe{constructor(e){this.Ds=e,this.docs=new Ue(P.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():qe.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qe.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xn();const o=n.path,a=new P(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Db(eO(l),r)<=0||(i.has(l.key)||Gd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){H()}Cs(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ehe(this)}getSize(e){return w.resolve(this.size)}}class ehe extends qfe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class the{constructor(e){this.persistence=e,this.xs=new ts(n=>Jo(n),jd),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Ns=0,this.ks=new sC,this.targetCount=0,this.Ms=aa.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),w.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new aa(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Fn(n),w.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.ks.containsKey(n))}}class oC{constructor(e,n){this.$s={},this.overlays={},this.Os=new dr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new the(this),this.indexManager=new zfe,this.remoteDocumentCache=new Zfe(r=>this.referenceDelegate.Ls(r)),this.serializer=new wR(n),this.qs=new Qfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xfe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Jfe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new nhe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class nhe extends Ide{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Qs=new sC,this.js=null}static zs(e){return new Wm(e)}get Ws(){if(this.js)return this.js;throw H()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),w.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=P.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,G.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return w.or([()=>w.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class lC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lC(e,n.fromCache,r,i)}}class KR{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(PO(n))return w.resolve(null);let r=Ln(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Pm(n,null,"F"),r=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,o,c.readTime)?this.Ki(e,Pm(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return PO(n)||i.isEqual(G.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Ib()<=ve.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hb(n)),this.Wi(e,o,n,function ZP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=G.fromTimestamp(1e9===r?new st(n+1,0):new st(n,r));return new lr(i,P.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ge(FO(e));return n.forEach((i,s)=>{Gd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Ib()<=ve.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",Hb(n)),this.Ui.getDocumentsMatchingQuery(e,n,lr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ihe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ue(te),this.Yi=new ts(s=>Jo(s),jd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function QR(t,e){return dC.apply(this,arguments)}function dC(){return dC=g(function*(t,e){const n=O(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ae();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}),dC.apply(this,arguments)}function XR(t){const e=O(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ahe(t,e){const n=O(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nu(t,e,n){return fC.apply(this,arguments)}function fC(){return fC=g(function*(t,e,n){const r=O(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Vs(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),fC.apply(this,arguments)}function Qm(t,e,n){const r=O(t);let i=G.min(),s=ae();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=O(a),d=l.Yi.get(u);return void 0!==d?w.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,o,Ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:G.min(),n?s:ae())).next(a=>(function tF(t,e,n){let r=t.Xi.get(e)||G.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function RO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class yC{constructor(){this.activeTargetIds=function zb(){return cfe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iF{constructor(){this.Hr=new yC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new yC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lhe{Yr(e){}shutdown(){}}class sF{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zm=null;function _C(){return null===Zm?Zm=268435456+Math.round(2147483648*Math.random()):Zm++,"0x"+Zm.toString(16)}const dhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fhe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Cn="WebChannelConnection";class hhe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=_C(),a=this.To(e,n);A("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(u=>(A("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Ur("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${dhe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=_C();return new Promise((o,a)=>{const c=new dde;c.setWithCredentials(!0),c.listenOnce(cde.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Cb.NO_ERROR:const l=c.getResponseJson();A(Cn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Cb.TIMEOUT:A(Cn,`RPC '${e}' ${s} timed out`),a(new D(b.DEADLINE_EXCEEDED,"Request time out"));break;case Cb.HTTP_ERROR:const d=c.getStatus();if(A(Cn,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(y)>=0?y:b.UNKNOWN}(h.status);a(new D(p,h.message))}else a(new D(b.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new D(b.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{A(Cn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);A(Cn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=_C(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ode(),a=ade(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new lde({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=s.join("");A(Cn,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=o.createWebChannel(l,c);let f=!1,h=!1;const p=new fhe({ro:y=>{h?A(Cn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(A(Cn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),A(Cn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,_,v)=>{y.listen(_,C=>{try{v(C)}catch(N){setTimeout(()=>{throw N},0)}})};return m(d,_m.EventType.OPEN,()=>{h||A(Cn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,_m.EventType.CLOSE,()=>{h||(h=!0,A(Cn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,_m.EventType.ERROR,y=>{h||(h=!0,Ur(Cn,`RPC '${e}' stream ${i} transport errored:`,y),p.wo(new D(b.UNAVAILABLE,"The operation could not be completed")))}),m(d,_m.EventType.MESSAGE,y=>{var _;if(!h){const v=y.data[0];j(!!v);const N=v.error||(null===(_=v[0])||void 0===_?void 0:_.error);if(N){A(Cn,`RPC '${e}' stream ${i} received error:`,N);const L=N.status;let K=function(Nt){const Ht=Mt[Nt];if(void 0!==Ht)return eR(Ht)}(L),he=N.message;void 0===K&&(K=b.INTERNAL,he="Unknown error status: "+L+" with message "+N.message),h=!0,p.wo(new D(K,he)),d.close()}else A(Cn,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),m(a,ude.STAT_EVENT,y=>{y.stat===WP.PROXY?A(Cn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===WP.NOPROXY&&A(Cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function e1(){return typeof document<"u"?document:null}function ff(t){return new Cfe(t,!0)}class wC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class aF{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wC(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(bt(n.toString()),bt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===b.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new D(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class phe extends aF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Sfe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:H(),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(j(void 0===u||"string"==typeof u),Ft.fromBase64String(u||"")):(j(void 0===u||u instanceof Uint8Array),Ft.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=void 0===c.code?b.UNKNOWN:eR(c.code);return new D(u,c.message||"")}(o);n=new sR(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=vi(t,r.document.name),s=It(r.document.updateTime),o=r.document.createTime?It(r.document.createTime):G.min(),a=new un({mapValue:{fields:r.document.fields}}),c=qe.newFoundDocument(i,s,o,a);n=new Vm(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=vi(t,r.document),s=r.readTime?It(r.readTime):G.min(),o=qe.newNoDocument(i,s);n=new Vm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=vi(t,r.document);n=new Vm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return H();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new mfe(i,s);n=new iR(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return G.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?It(s.readTime):G.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=ef(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=xm(a)?{documents:gR(i,a)}:{query:Xb(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=uR(i,s.resumeToken);const c=Wb(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(G.min())>0){o.readTime=Xc(i,s.snapshotVersion.toTimestamp());const c=Wb(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function Tfe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=ef(this.serializer),n.removeTarget=e,this.Wo(n)}}class ghe extends aF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Dfe(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=It(r.updateTime?r.updateTime:i);return s.isEqual(G.min())&&(s=It(i)),new ffe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=It(e.commitTime);return this.listener.cu(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ef(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function tf(t,e){let n;if(e instanceof Yc)n={update:hR(t,e.key,e.value)};else if(e instanceof Qc)n={delete:Zd(t,e.key)};else if(e instanceof ns)n={update:hR(t,e.key,e.data),updateMask:Nfe(e.fieldMask)};else{if(!(e instanceof Ub))return H();n={verify:Zd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Wc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ea)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ta)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Kc)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ife(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:H()),n;var i}(this.serializer,r))};this.Wo(n)}}class mhe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new D(b.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(b.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(b.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class vhe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(bt(n),this.mu=!1):A("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _he{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var c;Ys(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(c=g(function*(u){const l=O(u);l.vu.add(4),yield ru(l),l.bu.set("Unknown"),l.vu.delete(4),yield hf(l)}),function(u){return c.apply(this,arguments)})(o))}))}),this.bu=new vhe(r,i)}}function hf(t){return CC.apply(this,arguments)}function CC(){return CC=g(function*(t){if(Ys(t))for(const e of t.Ru)yield e(!0)}),CC.apply(this,arguments)}function ru(t){return IC.apply(this,arguments)}function IC(){return IC=g(function*(t){for(const e of t.Ru)yield e(!1)}),IC.apply(this,arguments)}function t1(t,e){const n=O(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),DC(n)?SC(n):su(n).Ko()&&EC(n,e))}function pf(t,e){const n=O(t),r=su(n);n.Au.delete(e),r.Ko()&&cF(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ys(n)&&n.bu.set("Unknown"))}function EC(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}su(t).su(e)}function cF(t,e){t.Vu.qt(e),su(t).iu(e)}function SC(t){t.Vu=new vfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),su(t).start(),t.bu.gu()}function DC(t){return Ys(t)&&!su(t).Uo()&&t.Au.size>0}function Ys(t){return 0===O(t).vu.size}function uF(t){t.Vu=void 0}function whe(t){return TC.apply(this,arguments)}function TC(){return TC=g(function*(t){t.Au.forEach((e,n)=>{EC(t,e)})}),TC.apply(this,arguments)}function bhe(t,e){return AC.apply(this,arguments)}function AC(){return AC=g(function*(t,e){uF(t),DC(t)?(t.bu.Iu(e),SC(t)):t.bu.set("Unknown")}),AC.apply(this,arguments)}function Che(t,e,n){return MC.apply(this,arguments)}function MC(){return MC=g(function*(t,e,n){if(t.bu.set("Online"),e instanceof sR&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield n1(t,r)}else if(e instanceof Vm?t.Vu.Ht(e):e instanceof iR?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(G.min()))try{const r=yield XR(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(Ft.EMPTY_BYTE_STRING,u.snapshotVersion)),cF(i,a);const l=new rs(u.target,a,c,u.sequenceNumber);EC(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield n1(t,r)}var r}),MC.apply(this,arguments)}function n1(t,e,n){return xC.apply(this,arguments)}function xC(){return xC=g(function*(t,e,n){if(!Vs(e))throw e;t.vu.add(1),yield ru(t),t.bu.set("Offline"),n||(n=()=>XR(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield hf(t)}))}),xC.apply(this,arguments)}function lF(t,e){return e().catch(n=>n1(t,n,e))}function iu(t){return NC.apply(this,arguments)}function NC(){return NC=g(function*(t){const e=O(t),n=Qs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ihe(e);)try{const i=yield ahe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,Ehe(e,i)}catch(i){yield n1(e,i)}dF(e)&&fF(e)}),NC.apply(this,arguments)}function Ihe(t){return Ys(t)&&t.Eu.length<10}function Ehe(t,e){t.Eu.push(e);const n=Qs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function dF(t){return Ys(t)&&!Qs(t).Uo()&&t.Eu.length>0}function fF(t){Qs(t).start()}function She(t){return kC.apply(this,arguments)}function kC(){return kC=g(function*(t){Qs(t).hu()}),kC.apply(this,arguments)}function Dhe(t){return PC.apply(this,arguments)}function PC(){return PC=g(function*(t){const e=Qs(t);for(const n of t.Eu)e.uu(n.mutations)}),PC.apply(this,arguments)}function The(t,e,n){return OC.apply(this,arguments)}function OC(){return OC=g(function*(t,e,n){const r=t.Eu.shift(),i=jb.from(r,e,n);yield lF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield iu(t)}),OC.apply(this,arguments)}function Ahe(t,e){return RC.apply(this,arguments)}function RC(){return RC=g(function*(t,e){var n;e&&Qs(t).ou&&(yield(n=g(function*(r,i){if(function ZO(t){switch(t){default:return H();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}(s=i.code)&&s!==b.ABORTED){const o=r.Eu.shift();Qs(r).Qo(),yield lF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield iu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),dF(t)&&fF(t)}),RC.apply(this,arguments)}function hF(t,e){return FC.apply(this,arguments)}function FC(){return FC=g(function*(t,e){const n=O(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Ys(n);n.vu.add(3),yield ru(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield hf(n)}),FC.apply(this,arguments)}function VC(){return VC=g(function*(t,e){const n=O(t);e?(n.vu.delete(2),yield hf(n)):e||(n.vu.add(2),yield ru(n),n.bu.set("Unknown"))}),VC.apply(this,arguments)}function su(t){return t.Su||(t.Su=function(e,n,r){const i=O(e);return i.fu(),new phe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:whe.bind(null,t),ao:bhe.bind(null,t),nu:Che.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Su.Qo(),DC(t)?SC(t):t.bu.set("Unknown")):(yield t.Su.stop(),uF(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Qs(t){return t.Du||(t.Du=function(e,n,r){const i=O(e);return i.fu(),new ghe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:She.bind(null,t),ao:Ahe.bind(null,t),au:Dhe.bind(null,t),cu:The.bind(null,t)}),t.Ru.push(function(){var e=g(function*(n){n?(t.Du.Qo(),yield iu(t)):(yield t.Du.stop(),t.Eu.length>0&&(A("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class HC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new HC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ou(t,e){if(bt("AsyncQueue",`${e}: ${t}`),Vs(t))return new D(b.UNAVAILABLE,`${e}: ${t}`);throw t}class au{constructor(e){this.comparator=e?(n,r)=>e(n,r)||P.comparator(n.key,r.key):(n,r)=>P.comparator(n.key,r.key),this.keyedMap=qd(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new au(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof au)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new au;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class pF{constructor(){this.Cu=new Ue(P.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):H():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class cu{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new cu(e,n,au.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Mhe{constructor(){this.Nu=void 0,this.listeners=[]}}class xhe{constructor(){this.queries=new ts(e=>OO(e),$d),this.onlineState="Unknown",this.ku=new Set}}function UC(){return UC=g(function*(t,e){const n=O(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Mhe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=ou(o,`Initialization of query '${Hb(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&$C(n)}),UC.apply(this,arguments)}function jC(){return jC=g(function*(t,e){const n=O(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),jC.apply(this,arguments)}function Nhe(t,e){const n=O(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&$C(n)}function khe(t,e,n){const r=O(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function $C(t){t.ku.forEach(e=>{e.next()})}class GC{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class yF{constructor(e){this.key=e}}class vF{constructor(e){this.key=e}}class _F{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ae(),this.mutatedKeys=ae(),this.tc=FO(e),this.ec=new au(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new pF,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const f=i.get(l),h=Gd(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),y=!0):this.rc(f,h)||(r.track({type:2,doc:h}),y=!0,(c&&this.tc(h,c)>0||u&&this.tc(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),y=!0):f&&!h&&(r.track({type:1,doc:f}),y=!0,(c||u)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,l)=>function(d,f){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return h(d)-h(f)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new cu(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new pF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ae(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new vF(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new yF(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ae();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return cu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Rhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Fhe{constructor(e){this.key=e,this.fc=!1}}class Lhe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ts(a=>OO(a),$d),this._c=new Map,this.mc=new Set,this.gc=new Ue(P.comparator),this.yc=new Map,this.Ic=new sC,this.Tc={},this.Ec=new Map,this.Ac=aa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Vhe(t,e){return qC.apply(this,arguments)}function qC(){return qC=g(function*(t,e){const n=function g8(t){const e=O(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Whe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uhe.bind(null,e),e.dc.nu=Nhe.bind(null,e.eventManager),e.dc.Pc=khe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function tu(t,e){const n=O(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new rs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Ln(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function WC(t,e,n,r,i){return KC.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&t1(n.remoteStore,o)}return i}),qC.apply(this,arguments)}function KC(){return KC=g(function*(t,e,n,r,i){t.Rc=(d,f,h)=>{return(p=g(function*(m,y,_,v){let C=y.view.sc(_);C.zi&&(C=yield Qm(m.localStore,y.query,!1).then(({documents:K})=>y.view.sc(K,C)));const N=v&&v.targetChanges.get(y.targetId),L=y.view.applyChanges(C,m.isPrimaryClient,N);return i8(m,y.targetId,L.cc),L.snapshot}),function(m,y,_,v){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield Qm(t.localStore,e,!0),o=new _F(e,s.ir),a=o.sc(s.documents),c=Jd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=o.applyChanges(a,t.isPrimaryClient,c);i8(t,n,u.cc);const l=new Rhe(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}),KC.apply(this,arguments)}function Hhe(t,e){return YC.apply(this,arguments)}function YC(){return YC=g(function*(t,e){const n=O(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!$d(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield nu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),pf(n.remoteStore,r.targetId),uu(n,r.targetId)}).catch(Ls))):(uu(n,r.targetId),yield nu(n.localStore,r.targetId,!0))}),YC.apply(this,arguments)}function QC(){return QC=g(function*(t,e,n){const r=function m8(t){const e=O(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jhe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=O(s),c=st.now(),u=o.reduce((f,h)=>f.add(h.key),ae());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let h=Xn(),p=ae();return a.Zi.getEntries(f,u).next(m=>{h=m,h.forEach((y,_)=>{_.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,h)).next(m=>{l=m;const y=[];for(const _ of o){const v=pfe(_,l.get(_.key).overlayedDocument);null!=v&&y.push(new ns(_.key,v,wO(v.value.mapValue),Ze.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(f,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:VO(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new Ue(te)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield is(r,i.changes),yield iu(r.remoteStore)}catch(i){const s=ou(i,"Failed to persist write");n.reject(s)}}),QC.apply(this,arguments)}function wF(t,e){return XC.apply(this,arguments)}function XC(){return XC=g(function*(t,e){const n=O(t);try{const r=yield function ohe(t,e){const n=O(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var p,m,y;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Ft.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(d,h),m=h,y=l,(0===(p=f).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,h))});let c=Xn(),u=ae();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function JR(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xn();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(G.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(G.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?j(o.fc):i.removedDocuments.size>0&&(j(o.fc),o.fc=!1))}),yield is(n,r,e)}catch(r){yield Ls(r)}}),XC.apply(this,arguments)}function bF(t,e,n){const r=O(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=O(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(o)&&(c=!0)}),c&&$C(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Uhe(t,e,n){return JC.apply(this,arguments)}function JC(){return JC=g(function*(t,e,n){const r=O(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ue(P.comparator);o=o.insert(s,qe.newNoDocument(s,G.min()));const a=ae().add(s),c=new Xd(G.min(),new Map,new Ue(te),o,a);yield wF(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),s8(r)}else yield nu(r.localStore,e,!1).then(()=>uu(r,e,n)).catch(Ls)}),JC.apply(this,arguments)}function Bhe(t,e){return ZC.apply(this,arguments)}function ZC(){return ZC=g(function*(t,e){const n=O(t),r=e.batch.batchId;try{const i=yield function she(t,e){const n=O(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,d=l.keys();let f=w.resolve();return d.forEach(h=>{f=f.next(()=>u.getEntry(a,h)).next(p=>{const m=c.docVersions.get(h);j(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),u.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ae();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);r8(n,r,null),n8(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield is(n,i)}catch(i){yield Ls(i)}}),ZC.apply(this,arguments)}function jhe(t,e,n){return e8.apply(this,arguments)}function e8(){return e8=g(function*(t,e,n){const r=O(t);try{const i=yield function(s,o){const a=O(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(j(null!==l),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);r8(r,e,n),n8(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield is(r,i)}catch(i){yield Ls(i)}}),e8.apply(this,arguments)}function n8(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function r8(t,e,n){const r=O(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function uu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||CF(t,r)})}function CF(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(pf(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),s8(t))}function i8(t,e,n){for(const r of n)r instanceof yF?(t.Ic.addReference(r.key,e),Ghe(t,r)):r instanceof vF?(A("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||CF(t,r.key)):H()}function Ghe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(A("SyncEngine","New document in limbo: "+n),t.mc.add(r),s8(t))}function s8(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new P(me.fromString(e)),r=t.Ac.next();t.yc.set(r,new Fhe(n)),t.gc=t.gc.insert(n,r),t1(t.remoteStore,new rs(Ln(qc(n.path)),r,"TargetPurposeLimboResolution",dr.ct))}}function is(t,e,n){return o8.apply(this,arguments)}function o8(){return o8=g(function*(t,e,n){const r=O(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=lC.Li(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(c,u){const l=O(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(u,f=>w.forEach(f.Fi,h=>l.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>w.forEach(f.Bi,h=>l.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!Vs(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=l.Ji.get(f),m=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);l.Ji=l.Ji.insert(f,m)}}}),function(c,u){return a.apply(this,arguments)})(r.localStore,s))}),o8.apply(this,arguments)}function qhe(t,e){return a8.apply(this,arguments)}function a8(){return a8=g(function*(t,e){const n=O(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield QR(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new D(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield is(n,r.er)}var i}),a8.apply(this,arguments)}function Whe(t,e){const n=O(t),r=n.yc.get(e);if(r&&r.fc)return ae().add(r.key);{let i=ae();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class r1{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=ff(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function YR(t,e,n,r){return new ihe(t,e,n,r)}(this.persistence,new KR,e.initialUser,this.serializer)}createPersistence(e){return new oC(Wm.zs,this.serializer)}createSharedClientState(e){return new iF}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>bF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=qhe.bind(null,r.syncEngine),yield function LC(t,e){return VC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xhe}createDatastore(e){const n=ff(e.databaseInfo.databaseId),r=new hhe(e.databaseInfo);return new mhe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>bF(this.syncEngine,a,0),o=sF.D()?new sF:new lhe,new _he(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,u){const l=new Lhe(r,i,s,o,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=O(n);A("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ru(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class i1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):bt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class ope{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=XP.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Rt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ou(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function s1(t,e){return y8.apply(this,arguments)}function y8(){return y8=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield QR(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),y8.apply(this,arguments)}function v8(t,e){return _8.apply(this,arguments)}function _8(){return _8=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function w8(t){return b8.apply(this,arguments)}(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>hF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>hF(e.remoteStore,s)),t._onlineComponents=e}),_8.apply(this,arguments)}function b8(){return b8=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield s1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function AF(t){return"FirebaseError"===t.name?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Ur("Error using user provided cache. Falling back to memory cache: "+n),yield s1(t,new r1)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield s1(t,new r1);return t._offlineComponents}),b8.apply(this,arguments)}function o1(t){return C8.apply(this,arguments)}function C8(){return C8=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield v8(t,t._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield v8(t,new lu))),t._onlineComponents}),C8.apply(this,arguments)}function du(t){return E8.apply(this,arguments)}function E8(){return E8=g(function*(t){const e=yield o1(t),n=e.eventManager;return n.onListen=Vhe.bind(null,e.syncEngine),n.onUnlisten=Hhe.bind(null,e.syncEngine),n}),E8.apply(this,arguments)}function OF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const RF=new Map;function S8(t,e,n){if(!n)throw new D(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FF(t){if(!P.isDocumentKey(t))throw new D(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LF(t){if(P.isDocumentKey(t))throw new D(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function c1(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":H()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=c1(t);throw new D(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class HF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function gpe(t,e,n,r){if(!0===e&&!0===r)throw new D(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=OF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new D(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new D(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new D(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HF(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new hde;switch(n.type){case"firstParty":return new yde(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new D(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=RF.get(e);n&&(A("ComponentProvider","Removing Datastore"),RF.delete(e),n.terminate())}(this),Promise.resolve()}}class Et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}}class ln{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ln(this.firestore,e,this._query)}}class _i extends ln{constructor(e,n,r){super(e,n,qc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new P(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function ype(t,e,...n){if(t=ct(t),S8("collection","path",e),t instanceof gf){const r=me.fromString(e,...n);return LF(r),new _i(t,null,r)}{if(!(t instanceof Et||t instanceof _i))throw new D(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return LF(r),new _i(t.firestore,null,r)}}function zF(t,e,...n){if(t=ct(t),1===arguments.length&&(e=XP.A()),S8("doc","path",e),t instanceof gf){const r=me.fromString(e,...n);return FF(r),new Et(t,null,new P(r))}{if(!(t instanceof Et||t instanceof _i))throw new D(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(me.fromString(e,...n));return FF(r),new Et(t.firestore,t instanceof _i?t.converter:null,new P(r))}}class vpe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wC(this,"async_queue_retry"),this.Xc=()=>{const n=e1();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=e1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=e1();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Rt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Vs(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,bt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=HC.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&H()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function D8(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class We extends gf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vpe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BF(this),this._firestoreClient.terminate()}}function wpe(t,e){const r="string"==typeof t?t:e||"(default)",i=Ms("object"==typeof t?t:lg(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=Ax("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function mpe(t,e,n,r={}){var i;const s=(t=fe(t,gf))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Yt.MOCK_USER;else{a=function Rte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rg(JSON.stringify({alg:"none",type:"JWT"})),rg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new D(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Yt(u)}t._authCredentials=new pde(new YP(a,c))}}(i,...s)}return i}function xt(t){return t._firestoreClient||BF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BF(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Wde(t._databaseId,a,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,OF(u.experimentalLongPollingOptions),u.useFetchStreams));var a,u;t._firestoreClient=new ope(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(Ft.fromBase64String(e))}catch(n){throw new D(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class T8{constructor(e){this._methodName=e}}class A8{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const Cpe=/^__.*__$/;class Ipe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yc(e,this.data,n,this.fieldTransforms)}}class GF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class u1{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new u1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return d1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qF(this.ca)&&Cpe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Epe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}ya(e,n,r,i=!1){return new u1({ca:e,methodName:n,ga:r,path:Ct.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hu(t){const e=t._freezeSettings(),n=ff(t._databaseId);return new Epe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M8(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);N8("Data must be an object, but it was:",o,r);const a=XF(r,o);let c,u;if(s.merge)c=new Qn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const f=vf(e,d,n);if(!o.contains(f))throw new D(b.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ZF(l,f)||l.push(f)}c=new Qn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Ipe(new un(a),c,u)}class yf extends T8{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}function la(t,e){if(JF(t=ct(t)))return N8("Unsupported field value:",e,t),XF(t,e);if(t instanceof T8)return function(n,r){if(!qF(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=la(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=ct(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return BO(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=st.fromDate(n);return{timestampValue:Xc(r.serializer,i)}}if(n instanceof st){const i=new st(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Xc(r.serializer,i)}}if(n instanceof A8)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ua)return{bytesValue:uR(r.serializer,n._byteString)};if(n instanceof Et){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Kb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${c1(n)}`)}(t,e)}function XF(t,e){const n={};return dO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const s=la(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function JF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof st||t instanceof A8||t instanceof ua||t instanceof Et||t instanceof T8)}function N8(t,e,n){if(!JF(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=c1(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function vf(t,e,n){if((e=ct(e))instanceof fu)return e._internalPath;if("string"==typeof e)return l1(t,e);throw d1("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ape=new RegExp("[~\\*/\\[\\]]");function l1(t,e,n){if(e.search(Ape)>=0)throw d1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fu(...e.split("."))._internalPath}catch{throw d1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function d1(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new D(b.INVALID_ARGUMENT,a+t+c)}function ZF(t,e){return t.some(n=>n.isEqual(e))}class k8{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f1("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Mpe extends k8{data(){return super.data()}}function f1(t,e){return"string"==typeof e?l1(t,e):e instanceof fu?e._internalPath:e._delegate._internalPath}class P8{}class O8 extends P8{}function xpe(t,e,...n){let r=[];e instanceof P8&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof pu).length,o=i.filter(a=>a instanceof _f).length;if(s>1||s>0&&o>0)throw new D(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _f extends O8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _f(e,n,r)}_apply(e){const n=this._parse(e);return iL(e._query,n),new ln(e.firestore,e.converter,Vb(e._query,n))}_parse(e){const n=hu(e.firestore);return function(i,s,o,a,c,u,l){let d;if(c.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new D(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){rL(l,u);const f=[];for(const h of l)f.push(nL(a,i,h));d={arrayValue:{values:f}}}else d=nL(a,i,l)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||rL(l,u),d=function QF(t,e,n,r=!1){return la(n,t.ya(r?4:3,e))}(o,"where",l,"in"===u||"not-in"===u);return de.create(c,u,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Npe(t,e,n){const r=e,i=f1("where",t);return _f._create(i,r,n)}class pu extends P8{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:xe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)iL(s,a),s=Vb(s,a)}(e._query,n),new ln(e.firestore,e.converter,Vb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class R8 extends O8{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new R8(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new D(b.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new D(b.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new $c(i,s);return function(a,c){if(null===Fb(a)){const u=km(a);null!==u&&sL(0,u,c.field)}}(r,o),o}(e._query,this._field,this._direction);return new ln(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new es(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function kpe(t,e="asc"){const n=e,r=f1("orderBy",t);return R8._create(r,n)}class h1 extends O8{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new h1(e,n,r)}_apply(e){return new ln(e.firestore,e.converter,Pm(e._query,this._limit,this._limitType))}}function Ppe(t){return function VF(t,e){if(e<=0)throw new D(b.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),h1._create("limit",t,"F")}function nL(t,e,n){if("string"==typeof(n=ct(n))){if(""===n)throw new D(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lb(e)&&-1!==n.indexOf("/"))throw new D(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(me.fromString(n));if(!P.isDocumentKey(r))throw new D(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xo(t,new P(r))}if(n instanceof Et)return Xo(t,n._key);throw new D(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${c1(n)}.`)}function rL(t,e){if(!Array.isArray(t)||0===t.length)throw new D(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iL(t,e){if(e.isInequality()){const r=km(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new D(b.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Fb(t);null!==s&&sL(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new D(b.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function sL(t,e,n){if(!n.isEqual(e))throw new D(b.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Ope{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw H()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new A8(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dm(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hd(e));default:return null}}convertTimestamp(e){const n=zs(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=me.fromString(e);j(_R(r));const i=new Qo(r.get(1),r.get(3)),s=new P(r.popFirst(5));return i.isEqual(n)||bt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class da{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gu extends k8{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new m1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(f1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class m1 extends gu{data(e={}){return super.data(e)}}class mu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new da(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new m1(this._firestore,this._userDataWriter,r.key,r,new da(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new m1(r._firestore,r._userDataWriter,o.doc.key,o.doc,new da(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new m1(r._firestore,r._userDataWriter,o.doc.key,o.doc,new da(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Fpe(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Fpe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}class Xs extends Ope{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function Lpe(t,e,n,...r){t=fe(t,Et);const i=fe(t.firestore,We),s=hu(i);let o;return o="string"==typeof(e=ct(e))||e instanceof fu?function YF(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[vf(e,r,n)],c=[i];if(s.length%2!=0)throw new D(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(vf(e,s[f])),c.push(s[f+1]);const u=[],l=un.empty();for(let f=a.length-1;f>=0;--f)if(!ZF(u,a[f])){const h=a[f];let p=c[f];p=ct(p);const m=o.da(h);if(p instanceof yf)u.push(h);else{const y=la(p,m);null!=y&&(u.push(h),l.set(h,y))}}const d=new Qn(u);return new GF(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function KF(t,e,n,r){const i=t.ya(1,e,n);N8("Data must be an object, but it was:",i,r);const s=[],o=un.empty();Hs(r,(c,u)=>{const l=l1(e,c,n);u=ct(u);const d=i.da(l);if(u instanceof yf)s.push(l);else{const f=la(u,d);null!=f&&(s.push(l),o.set(l,f))}});const a=new Qn(s);return new GF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),wf(i,[o.toMutation(t._key,Ze.exists(!0))])}function Vpe(t){return wf(fe(t.firestore,We),[new Qc(t._key,Ze.none())])}function Hpe(t,e){const n=fe(t.firestore,We),r=zF(t),i=function F8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return wf(n,[M8(hu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ze.exists(!1))]).then(()=>r)}function wf(t,e){return function(n,r){const i=new Rt;return n.asyncQueue.enqueueAndForget(g(function*(){return function zhe(t,e,n){return QC.apply(this,arguments)}(yield function I8(t){return o1(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(xt(t),e)}!function(t,e=!0){zc=xo,On(new mn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new We(new gde(n.getProvider("auth-internal")),new vde(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qo(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),je(KP,"3.13.0",t),je(KP,"3.13.0","esm2017")}();var Jpe={includeMetadataChanges:!1};function V8(t,e){return void 0===e&&(e=Jpe),new be(function(n){var r=function zpe(t,...e){var n,r,i;t=ct(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||D8(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(D8(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,u,l;if(t instanceof Et)u=fe(t.firestore,We),l=qc(t._key.path),c={next:d=>{e[o]&&e[o](function L8(t,e,n){const r=n.docs.get(e._key),i=new Xs(t);return new gu(t,i,e._key,r,new da(n.hasPendingWrites,n.fromCache),e.converter)}(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=fe(t,ln);u=fe(d.firestore,We),l=d._query;const f=new Xs(u);c={next:h=>{e[o]&&e[o](new mu(u,f,d,h))},error:e[o+1],complete:e[o+2]},function eL(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,f,h,p){const m=new i1(p),y=new GC(f,m,h);return d.asyncQueue.enqueueAndForget(g(function*(){return function zC(t,e){return UC.apply(this,arguments)}(yield du(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function BC(t,e){return jC.apply(this,arguments)}(yield du(d),y)}))}}(xt(u),l,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function ege(t,e){return void 0===e&&(e={}),function Zpe(t){return V8(t,{includeMetadataChanges:!0})}(t).pipe(_e(function(n){return cL(n,e)}))}function cL(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}function oge(t,e){return void 0===e&&(e={}),function sge(t){return V8(t,{includeMetadataChanges:!0}).pipe(_e(function(e){return e.docs}))}(t).pipe(_e(function(n){return n.map(function(r){return cL(r,e)})}))}class wi{constructor(e){return e}}const fL="firestore",U8=new B("angularfire2.firestore-instances");function uge(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new wi(r)}}const lge={provide:class age{constructor(){return wg(fL)}},deps:[[new Bt,U8]]},dge={provide:wi,useFactory:function cge(t,e){const n=_g(fL,t,e);return n&&new wi(n)},deps:[[new Bt,U8],Vo]};let fge=(()=>{class t{constructor(){je("angularfire",Ro.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=et({providers:[dge,lge]}),t})();function fa(t,...e){return{ngModule:fge,providers:[{provide:U8,useFactory:uge(t),multi:!0,deps:[De,jt,bg,Cg,[new Bt,xk],[new Bt,A6],...e]}]}}const yu=Tt(oge,!0),hge=Tt(ege,!0),hL=Tt(Hpe,!0),bi=Tt(ype,!0),pge=Tt(Vpe,!0),v1=Tt(zF,!0),ha=Tt(wpe,!0),pL=Tt(Ppe,!0),_1=Tt(kpe,!0),vu=Tt(xpe,!0),gL=Tt(Lpe,!0),Js=Tt(Npe,!0);class mL{constructor(e,n,r){this._user=e,this._value=JSON.stringify(n),this._ttl=r,this._expiry=Date.now()+r}get user(){return this._user}set user(e){this._user=e}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{user:this.user,ttl:this.ttl,expiry:this.expiry,value:this.value}}}var _u,In=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.ACTIVE_ORDERS="active-orders",t.VERSION="version",t.UPDATE_AVAILABLE="update-available",t}(In||{});class Ci{constructor(){this.cachedUsername=null}cache(e,n,r=0){const i=new mL(this.username(),n,r);localStorage.setItem(e,JSON.stringify(i))}getVersion(){return localStorage.getItem(In.VERSION)}get(e){const n=localStorage.getItem(e);if(!n)return null;const r=Object.assign(mL,JSON.parse(n));return this.username()!==r.user||r.ttl>0&&Date.now()>r.expiry?(localStorage.removeItem(e),null):JSON.parse(r.value)}remove(e){localStorage.removeItem(e)}username(){if(null==this.cachedUsername){let e=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();0==e.indexOf("[")&&4==e.indexOf("]")&&(e=e.substring(5,e.length)),this.cachedUsername=e.toLowerCase()}return this.cachedUsername}}(_u=Ci).\u0275fac=function(e){return new(e||_u)},_u.\u0275prov=U({token:_u,factory:_u.\u0275fac,providedIn:"platform"}),D2([T2(2,Bt())],Ci.prototype,"cache",null);let yL=(()=>{var t;class e{constructor(){this.firestore=S(wi),this.localStorageService=S(Ci)}subscribeToFleetOrders(r,i,s){let o=bi(this.firestore,"orders");yu(vu(o,Js("user","==",r),Js("executed","==",!1)),{idField:"id"}).forEach(a=>{i.next(a.length),a.length>0?this.localStorageService.cache(In.ACTIVE_ORDERS,a.length):this.localStorageService.remove(In.ACTIVE_ORDERS),s.detectChanges(),document.querySelector(".local-orders-badge")&&(document.querySelector(".local-orders-badge").style.display="none")}).catch(a=>{console.log(a)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class B8{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class vL{constructor(){this._orbit=0,this._ground=0,this._workers=new B8,this._soldiers=new B8,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class j8{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let gge=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new vL,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(u=>{let l=u.textContent.split(/\s+/),d=new j8;d.name=u.parentElement.className.split(/\s+/)[2],d.stored=parseInt(l[0].replace(/,/g,"")),d.production=parseInt(l[1].substring(1,l[1].length-1).replace(/,/g,"")),d.abundance=parseInt(l[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class _L{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new B8,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var En=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(En||{});class mge{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class yge{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Be=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Be||{});class wL{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let vge=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new _L,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:s=En.SURFACE;break;case 2:s=En.RESOURCE;break;case 0:s=En.FLEET;break;default:s=En.UNKNOWN}let o=new mge(r,s);if(s!==En.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new wL(c.split("Owner:")[1].trim(),""):new wL("Uninhabited Planet",a.substring(1,a.length-1))}if((s===En.RESOURCE||s===En.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===En.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new j8;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===En.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let u=new j8;u.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(u)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,u)=>{o.planetScan.resources[u].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,u)=>{o.planetScan.resources[u].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.workers.available=parseInt(a.substring(1,a.length).replace(/,/g,"")),o.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new yge(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Be.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Be.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Be.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Be.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Be.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Be.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Be.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Be.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Be.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Be.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Be.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Be.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Be.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),_ge=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new vL;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class wge{get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,note:this.note,dgId:this.dgId,kickEta:this.kickEta}}}let bge=(()=>{var t;class e{constructor(){this.localStorageService=S(Ci)}extract(){let r=this.localStorageService.get(In.ALLIANCE_MEMBERS)||[];return 0==r.length&&!document.querySelector('[action="/alliances/join/"]')&&(document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(s=>{let o=new wge;if(null!=s.querySelector("div.note")?o.note=s.querySelector("div.note").childNodes[0].textContent.trim():null!=s.querySelector('input[name="note"]')&&(o.note=s.querySelector('input[name="note"]').value.trim()),null!=s.querySelector('[action^="/alliances/note/"]')){let a=s.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);o.dgId=a[a.length-2]}null==s.querySelector('[action="/alliances/kick/"] input')&&null!=s.querySelector(".right>b")&&(o.kickEta=s.querySelector(".right>b").textContent.trim().toLowerCase()),null!=s.querySelector("div.name")&&(o.name=s.querySelector("div.name").childNodes[0].textContent.trim(),r.push(o))})}),this.localStorageService.cache(In.ALLIANCE_MEMBERS,r,432e5)),r}cleanAfterExtract(){document.querySelector(".dgt-orders-manager-panel.user")&&document.querySelector(".dgt-orders-manager-panel.user").remove(),document.querySelectorAll(".allianceBox").forEach(r=>{r.querySelector(".plainHeader")&&"member list"===r.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(r.querySelector(".plainHeader").remove(),r.querySelector(".playerList").remove())})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var wu;class ss{constructor(){this.planetListExtractor=S(gge),this.planetScanExtractor=S(vge),this.navigationSystemPlanetsExtractor=S(_ge),this.allianceMembersExtractor=S(bge),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(e){let n=this.allianceMembersExtractor.extract();return e&&this.allianceMembersExtractor.cleanAfterExtract(),n}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}(wu=ss).\u0275fac=function(e){return new(e||wu)},wu.\u0275prov=U({token:wu,factory:wu.\u0275fac,providedIn:"platform"}),D2([T2(0,Bt())],ss.prototype,"username",null);class $8{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var bf=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(bf||{});let bu=(()=>{var t;class e{constructor(){this.localStorageService=S(Ci),this._authState=new rt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}setUpFirebaseAuthSubscription(r,i){null!=this.authSubscription&&this.authSubscription.unsubscribe(),this.authSubscription=Nk(r).subscribe(s=>{null!=s?yu(vu(bi(i,"valid-users"),Js("email","==",s.email),pL(1))).subscribe(o=>{if(o.length>0){let a=Object.assign({email:"",enabled:!1,role:bf.USER},o[0]);a.enabled?(this.localStorageService.cache(In.USER,{user:s.email}),this._authState.emit(new $8(!0,a.role))):this.signOut(r,!1)}else this.signOut(r,!1)}):(this.localStorageService.remove(In.USER),this._authState.emit(new $8(!1,null)))})}signInWithEmailAndPassword(r,i,s,o){ile(r,i,s).then(()=>{o&&location.reload()}).catch(a=>{window.alert(a.message)})}signInWithGoogle(r,i){sle(r,new tce).then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}signOut(r,i){this.localStorageService.remove(In.USER),this._refreshInProgress=i,this._authState.emit(new $8(!0,null)),r.signOut().then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function os(t,e){return St((n,r)=>{let i=0;n.subscribe(pt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function G8(...t){return function Ige(){return ch(1)}()(dn(t,zu(t)))}function bL(...t){const e=zu(t);return St((n,r)=>{(e?G8(t,n,e):G8(t,n)).subscribe(r)})}const w1=Vu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Dge}=Array,{getPrototypeOf:Tge,prototype:Age,keys:Mge}=Object;function CL(t){if(1===t.length){const e=t[0];if(Dge(e))return{args:e,keys:null};if(function xge(t){return t&&"object"==typeof t&&Tge(t)===Age}(e)){const n=Mge(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Nge}=Array;function IL(t){return _e(e=>function kge(t,e){return Nge(e)?t(...e):t(e)}(t,e))}function EL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function SL(...t){const e=zu(t),n=GE(t),{args:r,keys:i}=CL(t);if(0===r.length)return dn([],e);const s=new be(function Pge(t,e,n=hs){return r=>{DL(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)DL(e,()=>{const u=dn(t[c],e);let l=!1;u.subscribe(pt(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>EL(i,o):hs));return n?s.pipe(IL(n)):s}function DL(t,e,n){t?Ai(n,t,e):e()}function TL(t){return new be(e=>{Zn(t()).subscribe(e)})}function Cf(t,e){const n=ke(t)?t:()=>t,r=i=>i.error(n());return new be(e?i=>e.schedule(r,0,i):r)}function q8(){return St((t,e)=>{let n=null;t._refCount++;const r=pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class AL extends be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Jn;const n=this.getSubject();e.add(this.source.subscribe(pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Jn.EMPTY)}return e}refCount(){return q8()(this)}}function Cu(t){return t<=0?()=>Wr:St((e,n)=>{let r=0;e.subscribe(pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function b1(t){return St((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ML(t=Oge){return St((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Oge(){return new w1}function pa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?os((i,s)=>t(i,s,r)):hs,Cu(1),n?b1(e):ML(()=>new w1))}function C1(t,e){return ke(e)?Jt(t,e,1):Jt(t,1)}function ga(t){return St((e,n)=>{let s,r=null,i=!1;r=e.subscribe(pt(n,void 0,void 0,o=>{s=Zn(t(o,ga(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function W8(t){return t<=0?()=>Wr:St((e,n)=>{let r=[];e.subscribe(pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function K8(t){return St((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ce="primary",If=Symbol("RouteTitle");class Hge{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Iu(t){return new Hge(t)}function zge(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ii(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xL(t[i],e[i]))return!1;return!0}function xL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function NL(t){return t.length>0?t[t.length-1]:null}function Zs(t){return function Sge(t){return!!t&&(t instanceof be||ke(t.lift)&&ke(t.subscribe))}(t)?t:El(t)?dn(Promise.resolve(t)):ee(t)}const Bge={exact:function OL(t,e,n){if(!ma(t.segments,e.segments)||!I1(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!OL(t.children[r],e.children[r],n))return!1;return!0},subset:RL},kL={exact:function jge(t,e){return Ii(t,e)},subset:function $ge(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xL(t[n],e[n]))},ignored:()=>!0};function PL(t,e,n){return Bge[n.paths](t.root,e.root,n.matrixParams)&&kL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function RL(t,e,n){return FL(t,e,e.segments,n)}function FL(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ma(i,n)||e.hasChildren()||!I1(i,n,r))}if(t.segments.length===n.length){if(!ma(t.segments,n)||!I1(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!RL(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(ma(t.segments,i)&&I1(t.segments,i,r)&&t.children[ce])&&FL(t.children[ce],e,s,r)}}function I1(t,e,n){return e.every((r,i)=>kL[n](t[i].parameters,r.parameters))}class Eu{constructor(e=new Ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iu(this.queryParams)),this._queryParamMap}toString(){return Wge.serialize(this)}}class Ne{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return E1(this)}}class Ef{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Iu(this.parameters)),this._parameterMap}toString(){return HL(this)}}function ma(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Sf=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return new Y8},providedIn:"root"}),e})();class Y8{parse(e){const n=new ime(e);return new Eu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Df(e.root,!0)}`,r=function Qge(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${S1(n)}=${S1(i)}`).join("&"):`${S1(n)}=${S1(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Kge(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const Wge=new Y8;function E1(t){return t.segments.map(e=>HL(e)).join("/")}function Df(t,e){if(!t.hasChildren())return E1(t);if(e){const n=t.children[ce]?Df(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${Df(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function qge(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ce?[Df(t.children[ce],!1)]:[`${i}:${Df(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ce]?`${E1(t)}/${n[0]}`:`${E1(t)}/(${n.join("//")})`}}function LL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function S1(t){return LL(t).replace(/%3B/gi,";")}function Q8(t){return LL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function D1(t){return decodeURIComponent(t)}function VL(t){return D1(t.replace(/\+/g,"%20"))}function HL(t){return`${Q8(t.path)}${function Yge(t){return Object.keys(t).map(e=>`;${Q8(e)}=${Q8(t[e])}`).join("")}(t.parameters)}`}const Xge=/^[^\/()?;#]+/;function X8(t){const e=t.match(Xge);return e?e[0]:""}const Jge=/^[^\/()?;=#]+/,eme=/^[^=?&#]+/,nme=/^[^&#]+/;class ime{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Ne(e,n)),r}parseSegment(){const e=X8(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Ef(D1(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Zge(t){const e=t.match(Jge);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=X8(this.remaining);i&&(r=i,this.capture(r))}e[D1(n)]=D1(r)}parseQueryParam(e){const n=function tme(t){const e=t.match(eme);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function rme(t){const e=t.match(nme);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=VL(n),s=VL(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=X8(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ce]:new Ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function zL(t){return t.segments.length>0?new Ne([],{[ce]:t}):t}function UL(t){const e={};for(const r of Object.keys(t.children)){const s=UL(t.children[r]);if(r===ce&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function sme(t){if(1===t.numberOfChildren&&t.children[ce]){const e=t.children[ce];return new Ne(t.segments.concat(e.segments),e.children)}return t}(new Ne(t.segments,e))}function ya(t){return t instanceof Eu}function BL(t){let e;const i=zL(function n(s){const o={};for(const c of s.children){const u=n(c);o[c.outlet]=u}const a=new Ne(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function jL(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return J8(i,i,i,n,r);const s=function ame(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new GL(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new GL(n,e,r)}(e);if(s.toRoot())return J8(i,i,new Ne([],{}),n,r);const o=function cme(t,e,n){if(t.isAbsolute)return new A1(e,!0,0);if(!n)return new A1(e,!1,NaN);if(null===n.parent)return new A1(n,!0,0);const r=T1(t.commands[0])?0:1;return function ume(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new A1(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Af(o.segmentGroup,o.index,s.commands):qL(o.segmentGroup,o.index,s.commands);return J8(i,o.segmentGroup,a,n,r)}function T1(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Tf(t){return"object"==typeof t&&null!=t&&t.outlets}function J8(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:$L(t,e,n);const a=zL(UL(o));return new Eu(a,s,i)}function $L(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:$L(s,e,n)}),new Ne(t.segments,r)}class GL{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&T1(r[0]))throw new T(4003,!1);const i=r.find(Tf);if(i&&i!==NL(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class A1{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function qL(t,e,n){if(t||(t=new Ne([],{})),0===t.segments.length&&t.hasChildren())return Af(t,e,n);const r=function dme(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Tf(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!KL(c,u,o))return s;r+=2}else{if(!KL(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ne(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new Ne(t.segments.slice(r.pathIndex),t.children),Af(s,0,i)}return r.match&&0===i.length?new Ne(t.segments,{}):r.match&&!t.hasChildren()?Z8(t,e,n):r.match?Af(t,0,i):Z8(t,e,n)}function Af(t,e,n){if(0===n.length)return new Ne(t.segments,{});{const r=function lme(t){return Tf(t[0])?t[0].outlets:{[ce]:t}}(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&1===t.numberOfChildren&&0===t.children[ce].segments.length){const s=Af(t.children[ce],e,n);return new Ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=qL(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ne(t.segments,i)}}function Z8(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Tf(s)){const c=fme(s.outlets);return new Ne(r,c)}if(0===i&&T1(n[0])){r.push(new Ef(t.segments[e].path,WL(n[0]))),i++;continue}const o=Tf(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&T1(a)?(r.push(new Ef(o,WL(a))),i+=2):(r.push(new Ef(o,{})),i++)}return new Ne(r,{})}function fme(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Z8(new Ne([],{}),0,r))}),e}function WL(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function KL(t,e,n){return t==n.path&&Ii(e,n.parameters)}const Mf="imperative";class Ei{constructor(e,n){this.id=e,this.url=n}}class YL extends Ei{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xf extends Ei{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class M1 extends Ei{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class x1 extends Ei{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class eI extends Ei{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hme extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pme extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gme extends Ei{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mme extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yme extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vme{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _me{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wme{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bme{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cme{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ime{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Nf,this.attachRef=null}}let Nf=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ime,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class XL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=tI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=tI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=nI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nI(e,this._root).map(n=>n.value)}}function tI(t,e){if(t===e.value)return e;for(const n of e.children){const r=tI(t,n);if(r)return r}return null}function nI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=nI(t,n);if(r.length)return r.unshift(e),r}return[]}class as{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Su(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class JL extends XL{constructor(e,n){super(e),this.snapshot=n,rI(this,e)}toString(){return this.snapshot.toString()}}function ZL(t,e){const n=function Eme(t,e){const o=new N1([],{},{},"",{},ce,e,null,{});return new tV("",new as(o,[]))}(0,e),r=new pr([new Ef("",{})]),i=new pr({}),s=new pr({}),o=new pr({}),a=new pr(""),c=new Du(r,i,o,a,s,ce,e,n.root);return c.snapshot=n.root,new JL(new as(c,[]),n)}class Du{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_e(u=>u[If]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>Iu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>Iu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Sme(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class N1{get title(){return this.data?.[If]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Iu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tV extends XL{constructor(e,n){super(n),this.url=e,rI(this,n)}toString(){return nV(this._root)}}function rI(t,e){e.value._routerState=t,e.children.forEach(n=>rI(t,n))}function nV(t){const e=t.children.length>0?` { ${t.children.map(nV).join(", ")} } `:"";return`${t.value}${e}`}function iI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ii(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ii(e.params,n.params)||t.paramsSubject.next(n.params),function Uge(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ii(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ii(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function sI(t,e){const n=Ii(t.params,e.params)&&function Gge(t,e){return ma(t,e)&&t.every((n,r)=>Ii(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||sI(t.parent,e.parent))}let rV=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=S(Nf),this.location=S(Fr),this.changeDetector=S(Hi),this.environmentInjector=S(kr),this.inputBinder=S(k1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Dme(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Tn]}),e})();class Dme{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Du?this.route:e===Nf?this.childContexts:this.parent.get(e,n)}}const k1=new B("");function kf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Ame(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return kf(t,r,i);return kf(t,r)})}(t,e,n);return new as(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>kf(t,a)),o}}const r=function Mme(t){return new Du(new pr(t.url),new pr(t.params),new pr(t.queryParams),new pr(t.fragment),new pr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>kf(t,s));return new as(r,i)}}const oI="ngNavigationCancelingError";function sV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ya(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=oV(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function oV(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[oI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function aV(t){return cV(t)&&ya(t.url)}function cV(t){return t&&t[oI]}let aI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=zn({type:t,selectors:[["ng-component"]],standalone:!0,features:[rA],decls:1,vars:0,template:function(r,i){1&r&&Ce(0,"router-outlet")},dependencies:[rV],encapsulation:2}),e})();function cI(t){const e=t.children&&t.children.map(cI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=aI),n}function jr(t){return t.outlet||ce}function Pf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Fme{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),iI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Su(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Su(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Su(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Su(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new QL(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bme(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(iI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),iI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Pf(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class uV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class P1{constructor(e,n){this.component=e,this.route=n}}function Lme(t,e,n){const r=t._root;return Of(r,e?e._root:null,n,[r.value])}function Tu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function wj(t){return null!==hh(t)}(t)?e.get(t):t:r}function Of(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Su(e);return t.children.forEach(o=>{(function Hme(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function zme(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ma(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ma(t.url,e.url)||!Ii(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sI(t,e)||!Ii(t.queryParams,e.queryParams);default:return!sI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new uV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Of(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new P1(a.outlet.component,o))}else o&&Rf(e,a,i),i.canActivateChecks.push(new uV(r)),Of(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Rf(a,n.getContext(o),i)),i}function Rf(t,e,n){const r=Su(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Rf(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new P1(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ff(t){return"function"==typeof t}function lV(t){return t instanceof w1||"EmptyError"===t?.name}const O1=Symbol("INITIAL_VALUE");function Au(){return Sr(t=>SL(t.map(e=>e.pipe(Cu(1),bL(O1)))).pipe(_e(e=>{for(const n of e)if(!0!==n){if(n===O1)return O1;if(!1===n||n instanceof Eu)return n}return!0}),os(e=>e!==O1),Cu(1)))}function dV(t){return function TB(...t){return TE(t)}(yn(e=>{if(ya(e))throw sV(0,e)}),_e(e=>!0===e))}class R1{constructor(e){this.segmentGroup=e||null}}class fV{constructor(e){this.urlTree=e}}function Mu(t){return Cf(new R1(t))}function hV(t){return Cf(new fV(t))}class o1e{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[ce])return Cf(new T(4e3,!1));i=i.children[ce]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Eu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const uI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a1e(t,e,n,r,i){const s=lI(t,e,n);return s.matched?(r=function xme(t,e){return t.providers&&!t._injector&&(t._injector=nA(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function r1e(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(o=>{const a=Tu(o,t);return Zs(function qme(t){return t&&Ff(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Au(),dV()):ee(!0)}(r,e,n).pipe(_e(o=>!0===o?s:{...uI}))):ee(s)}function lI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...uI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||zge)(n,t,e);if(!i)return{...uI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function pV(t,e,n,r){return n.length>0&&function l1e(t,e,n){return n.some(r=>F1(t,e,r)&&jr(r)!==ce)}(t,n,r)?{segmentGroup:new Ne(e,u1e(r,new Ne(n,t.children))),slicedSegments:[]}:0===n.length&&function d1e(t,e,n){return n.some(r=>F1(t,e,r))}(t,n,r)?{segmentGroup:new Ne(t.segments,c1e(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ne(t.segments,t.children),slicedSegments:n}}function c1e(t,e,n,r,i){const s={};for(const o of r)if(F1(t,n,o)&&!i[jr(o)]){const a=new Ne([],{});s[jr(o)]=a}return{...i,...s}}function u1e(t,e){const n={};n[ce]=e;for(const r of t)if(""===r.path&&jr(r)!==ce){const i=new Ne([],{});n[jr(r)]=i}return n}function F1(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class g1e{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new o1e(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=pV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(ga(n=>{if(n instanceof fV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof R1?this.noMatchError(n):n}),_e(n=>{const r=new N1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),i=new as(r,n),s=new tV("",i),o=function ome(t,e,n=null,r=null){return jL(BL(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ce).pipe(ga(r=>{throw r instanceof R1?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=eV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return dn(i).pipe(C1(s=>{const o=r.children[s],a=function Ome(t,e){const n=t.filter(r=>jr(r)===e);return n.push(...t.filter(r=>jr(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Fge(t,e){return St(function Rge(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(pt(o,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),b1(null),function Lge(t,e){const n=arguments.length>=2;return r=>r.pipe(t?os((i,s)=>t(i,s,r)):hs,W8(1),n?b1(e):ML(()=>new w1))}(),Jt(s=>{if(null===s)return Mu(r);const o=gV(s);return function m1e(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}(o),ee(o)}))}processSegment(e,n,r,i,s,o){return dn(n).pipe(C1(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ga(c=>{if(c instanceof R1)return ee(null);throw c}))),pa(a=>!!a),ga(a=>{if(lV(a))return function h1e(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?ee([]):Mu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function f1e(t,e,n,r){return!!(jr(t)===r||r!==ce&&F1(e,n,t))&&("**"===t.path||lI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Mu(i):Mu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?hV(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Jt(o=>{const a=new Ne(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=lI(n,i,s);if(!a)return Mu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?hV(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Jt(f=>this.processSegment(e,r,n,f.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?NL(i).parameters:{};a=ee({snapshot:new N1(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mV(r),jr(r),r.component??r._loadedComponent??null,r,yV(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=a1e(n,r,i,e).pipe(_e(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new N1(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,mV(r),jr(r),r.component??r._loadedComponent??null,r,yV(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(Sr(c=>null===c?Mu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Sr(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:m}=pV(n,f,h,u);if(0===m.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(_e(_=>null===_?null:[new as(d,_)]));if(0===u.length&&0===m.length)return ee([new as(d,[])]);const y=jr(r)===s;return this.processSegment(l,u,p,m,y?ce:s,!0).pipe(_e(_=>[new as(d,_)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function n1e(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(o=>{const a=Tu(o,t);return Zs(function Bme(t){return t&&Ff(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Au(),dV())}(e,n,r).pipe(Jt(i=>i?this.configLoader.loadChildren(e,n).pipe(yn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function s1e(t){return Cf(oV(!1,3))}())):ee({routes:[],injector:e})}}function y1e(t){const e=t.value.routeConfig;return e&&""===e.path}function gV(t){const e=[],n=new Set;for(const r of t){if(!y1e(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=gV(r.children);e.push(new as(r.value,i))}return e.filter(r=>!n.has(r))}function mV(t){return t.data||{}}function yV(t){return t.resolve||{}}function vV(t){return"string"==typeof t.title||null===t.title}function dI(t){return Sr(e=>{const n=t(e);return n?dn(n).pipe(_e(()=>e)):ee(e)})}const L1=new B("ROUTES");let _V=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(JX)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ee(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Zs(r.loadComponent()).pipe(_e(wV),yn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),K8(()=>{this.componentLoaders.delete(r)})),s=new AL(i,()=>new qr).pipe(q8());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(_e(c=>{this.onLoadEndListener&&this.onLoadEndListener(i);let u,l;return Array.isArray(c)?l=c:(u=c.create(r).injector,l=u.get(L1,[],ue.Self|ue.Optional).flat()),{routes:l.map(cI),injector:u}}),K8(()=>{this.childrenLoaders.delete(i)})),a=new AL(o,()=>new qr).pipe(q8());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(r){return Zs(r()).pipe(_e(wV),Jt(i=>i instanceof eA||Array.isArray(i)?ee(i):dn(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function wV(t){return function E1e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let V1=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new qr,this.configLoader=S(_V),this.environmentInjector=S(kr),this.urlSerializer=S(Sf),this.rootContexts=S(Nf),this.inputBindingEnabled=null!==S(k1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new _me(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new vme(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r){return this.transitions=new pr({id:0,currentUrlTree:r.currentUrlTree,currentRawUrl:r.currentUrlTree,extractedUrl:r.urlHandlingStrategy.extract(r.currentUrlTree),urlAfterRedirects:r.urlHandlingStrategy.extract(r.currentUrlTree),rawUrl:r.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mf,restoredState:null,currentSnapshot:r.routerState.snapshot,targetSnapshot:null,currentRouterState:r.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(os(i=>0!==i.id),_e(i=>({...i,extractedUrl:r.urlHandlingStrategy.extract(i.rawUrl)})),Sr(i=>{let s=!1,o=!1;return ee(i).pipe(yn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Sr(a=>{const c=r.browserUrlTree.toString(),u=!r.navigated||a.extractedUrl.toString()!==c||c!==r.currentUrlTree.toString();if(!u&&"reload"!==(a.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const d="";return this.events.next(new x1(a.id,r.serializeUrl(i.rawUrl),d,0)),r.rawUrlTree=a.rawUrl,a.resolve(null),Wr}if(r.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return bV(a.source)&&(r.browserUrlTree=a.extractedUrl),ee(a).pipe(Sr(d=>{const f=this.transitions?.getValue();return this.events.next(new YL(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Wr:Promise.resolve(d)}),function v1e(t,e,n,r,i,s){return Jt(o=>function p1e(t,e,n,r,i,s,o="emptyOnly"){return new g1e(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(_e(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),yn(d=>{if(i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},"eager"===r.urlUpdateStrategy){if(!d.extras.skipLocationChange){const h=r.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);r.setBrowserUrl(h,d)}r.browserUrlTree=d.urlAfterRedirects}const f=new hme(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(u&&r.urlHandlingStrategy.shouldProcessUrl(r.rawUrlTree)){const{id:d,extractedUrl:f,source:h,restoredState:p,extras:m}=a,y=new YL(d,this.urlSerializer.serialize(f),h,p);this.events.next(y);const _=ZL(0,this.rootComponentType).snapshot;return ee(i={...a,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}{const d="";return this.events.next(new x1(a.id,r.serializeUrl(i.extractedUrl),d,1)),r.rawUrlTree=a.rawUrl,a.resolve(null),Wr}}),yn(a=>{const c=new pme(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),_e(a=>i={...a,guards:Lme(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Kme(t,e){return Jt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee({...n,guardsResult:!0}):function Yme(t,e,n,r){return dn(t).pipe(Jt(i=>function t1e(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const c=Pf(e)??i,u=Tu(a,c);return Zs(function Gme(t){return t&&Ff(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(pa())})).pipe(Au()):ee(!0)}(i.component,i.route,n,e,r)),pa(i=>!0!==i,!0))}(o,r,i,t).pipe(Jt(a=>a&&function Ume(t){return"boolean"==typeof t}(a)?function Qme(t,e,n,r){return dn(e).pipe(C1(i=>G8(function Jme(t,e){return null!==t&&e&&e(new wme(t)),ee(!0)}(i.route.parent,r),function Xme(t,e){return null!==t&&e&&e(new Cme(t)),ee(!0)}(i.route,r),function e1e(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Vme(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>TL(()=>ee(o.guards.map(c=>{const u=Pf(o.node)??n,l=Tu(c,u);return Zs(function $me(t){return t&&Ff(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(pa())})).pipe(Au())));return ee(s).pipe(Au())}(t,i.path,n),function Zme(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>TL(()=>{const o=Pf(e)??n,a=Tu(s,o);return Zs(function jme(t){return t&&Ff(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(pa())}));return ee(i).pipe(Au())}(t,i.route,n))),pa(i=>!0!==i,!0))}(r,s,t,e):ee(a)),_e(a=>({...n,guardsResult:a})))})}(this.environmentInjector,a=>this.events.next(a)),yn(a=>{if(i.guardsResult=a.guardsResult,ya(a.guardsResult))throw sV(0,a.guardsResult);const c=new gme(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(c)}),os(a=>!!a.guardsResult||(r.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),dI(a=>{if(a.guards.canActivateChecks.length)return ee(a).pipe(yn(c=>{const u=new mme(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Sr(c=>{let u=!1;return ee(c).pipe(function _1e(t,e){return Jt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return dn(i).pipe(C1(o=>function w1e(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!vV(i)&&(s[If]=i.title),function b1e(t,e,n,r){const i=function C1e(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const s={};return dn(i).pipe(Jt(o=>function I1e(t,e,n,r){const i=Pf(e)??r,s=Tu(t,i);return Zs(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(pa(),yn(a=>{s[o]=a}))),W8(1),function Vge(t){return _e(()=>t)}(s),ga(o=>lV(o)?Wr:Cf(o)))}(s,t,e,r).pipe(_e(o=>(t._resolvedData=o,t.data=eV(t,n).resolve,i&&vV(i)&&(t.data[If]=i.title),null)))}(o.route,r,t,e)),yn(()=>s++),W8(1),Jt(o=>s===i.length?ee(n):Wr))})}(r.paramsInheritanceStrategy,this.environmentInjector),yn({next:()=>u=!0,complete:()=>{u||(r.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),yn(c=>{const u=new yme(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),dI(a=>{const c=u=>{const l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(yn(d=>{u.component=d}),_e(()=>{})));for(const d of u.children)l.push(...c(d));return l};return SL(c(a.targetSnapshot.root)).pipe(b1(),Cu(1))}),dI(()=>this.afterPreactivation()),_e(a=>{const c=function Tme(t,e,n){const r=kf(t,e._root,n?n._root:void 0);return new JL(r,e)}(r.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:c}}),yn(a=>{r.currentUrlTree=a.urlAfterRedirects,r.rawUrlTree=r.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),r.routerState=a.targetRouterState,"deferred"===r.urlUpdateStrategy&&(a.extras.skipLocationChange||r.setBrowserUrl(r.rawUrlTree,a),r.browserUrlTree=a.urlAfterRedirects)}),((t,e,n,r)=>_e(i=>(new Fme(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Cu(1),yn({next:a=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,r.navigated=!0,this.events.next(new xf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(r.currentUrlTree))),r.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{s=!0}}),K8(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ga(a=>{if(o=!0,cV(a)){aV(a)||(r.navigated=!0,r.restoreHistory(i,!0));const c=new M1(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(c),aV(a)){const u=r.urlHandlingStrategy.merge(a.url,r.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===r.urlUpdateStrategy||bV(i.source)};r.scheduleNavigation(u,Mf,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{r.restoreHistory(i,!0);const c=new eI(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(c);try{i.resolve(r.errorHandler(a))}catch(u){i.reject(u)}}return Wr}))}))}cancelNavigationTransition(r,i,s){const o=new M1(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bV(t){return t!==Mf}let CV=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[If]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return S(S1e)},providedIn:"root"}),e})(),S1e=(()=>{var t;class e extends CV{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(W($v))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),D1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return S(A1e)},providedIn:"root"}),e})();class T1e{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let A1e=(()=>{var t;class e extends T1e{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=nn(t)))(i||t)}}(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const fI=new B("",{providedIn:"root",factory:()=>({})});let M1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(){return S(x1e)},providedIn:"root"}),e})(),x1e=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Lf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Lf||{});function N1e(t){throw t}function k1e(t,e,n){return e.parse("/")}const P1e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O1e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $r=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=S(QA),this.isNgZoneEnabled=!1,this.options=S(fI,{optional:!0})||{},this.pendingTasks=S(XA),this.errorHandler=this.options.errorHandler||N1e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||k1e,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=S(M1e),this.routeReuseStrategy=S(D1e),this.titleStrategy=S(CV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=S(L1,{optional:!0})?.flat()??[],this.navigationTransitions=S(V1),this.urlSerializer=S(Sf),this.location=S(_v),this.componentInputBindingEnabled=!!S(k1,{optional:!0}),this.isNgZoneEnabled=S(De)instanceof De&&De.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Eu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ZL(0,null),this.navigationTransitions.setupNavigations(this).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId??0},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Mf,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const u={...s};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(cI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=BL(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return jL(f,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=ya(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Mf,null,i)}navigate(r,i={skipLocationChange:!1}){return function R1e(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...P1e}:!1===i?{...O1e}:i,ya(r))return PL(this.currentUrlTree,r,s);const o=this.parseUrl(r);return PL(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((f,h)=>{c=f,u=h});const d=this.pendingTasks.add();return function IV(t,e){t.events.pipe(os(n=>n instanceof xf||n instanceof M1||n instanceof eI||n instanceof x1),_e(n=>n instanceof xf||n instanceof x1?Lf.COMPLETE:n instanceof M1&&(0===n.code||1===n.code)?Lf.REDIRECTING:Lf.FAILED),os(n=>n!==Lf.REDIRECTING),Cu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class xu{constructor(e){return e}}const xV="analytics",NV=vg.async,$1e=Tt(toe,!0),Vf=Tt(Y9,!0),G1e=Tt(ioe,!0);let kV=(()=>{class t{constructor(n,r,i){let s;this.disposables=[],je("angularfire",Ro.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),NV().then(()=>{const o=i.get(xu);o?this.disposables=[Nk(n).subscribe(a=>{G1e(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(W(dd),W(De),W(jt))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})();const PV="firebase_screen_id",mI="outlet",Hf="screen_class",OV="screen_name";let r2e=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const yI={},i2e=t=>{const e=[t[Hf],t[mI]].join("#");if(yI.hasOwnProperty(e))return yI[e];{const n=r2e++;return yI[e]=n,n}},s2e=(t,e,n)=>t.events.pipe(os(i=>i instanceof QL)).pipe(Sr(i=>{var s;const a=(null===(s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,h=>h.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",c=t.routerState.root.children.map(h=>h).find(h=>h.outlet===i.snapshot.outlet);if(!c)return ee(null);let u=c;for(;u.firstChild;)u=u.firstChild;const l=u.pathFromRoot.map(h=>{var p;return null===(p=h.routeConfig)||void 0===p?void 0:p.path}).filter(h=>h).join("/")||"/",d={[OV]:l,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:l,[mI]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let f=c.component;if(f){if(f===aI){let h=i.snapshot;for(;h.firstChild;)h=h.firstChild;f=h.component}}else f=i.snapshot.component;if("string"==typeof f)return ee(Object.assign(Object.assign({},d),{[Hf]:f}));if(f){const h=n.resolveComponentFactory(f);return ee(Object.assign(Object.assign({},d),{[Hf]:h.selector}))}return ee(null)}),os(i=>!!i),_e(i=>Object.assign({firebase_screen_class:i[Hf],[PV]:i2e(i)},i)),function Cge(t,e,n,r){return St((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},u=p=>c(m=>m.error(p));let l=0,d=!1;const f=new NE(s,p=>{try{const m=t(p);let y=a.get(m);if(!y){a.set(m,y=r?r():new qr);const _=function h(p,m){const y=new be(_=>{l++;const v=m.subscribe(_);return()=>{v.unsubscribe(),0==--l&&d&&f.unsubscribe()}});return y.key=p,y}(m,y);if(s.next(_),n){const v=pt(y,()=>{y.complete(),v?.unsubscribe()},void 0,void 0,()=>a.delete(m));f.add(Zn(n(_)).subscribe(v))}}y.next(o?o(p):p)}catch(m){u(m)}},()=>c(p=>p.complete()),u,()=>a.clear(),()=>(d=!0,0===l));i.subscribe(f)})}(i=>i[mI]),Jt(i=>i.pipe(KE((s,o)=>JSON.stringify(s)===JSON.stringify(o)),bL(void 0),function Ege(){return St((t,e)=>{let n,r=!1;t.subscribe(pt(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),_e(([s,o])=>s?Object.assign({firebase_previous_class:s[Hf],firebase_previous_screen:s[OV],firebase_previous_id:s[PV]},o):o))));let o2e=(()=>{class t{constructor(n,r,i,s,o,a){je("angularfire",Ro.full,"screen-tracking"),NV().then(()=>{const c=a.get(xu);!n||!c||s.runOutsideAngular(()=>{this.disposable=s2e(n,r,i).pipe(Sr(u=>A2(this,void 0,void 0,function*(){return o&&(yield o.initialized),Vf(c,"screen_view",u)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(W($r,8),W($v,8),W(pl),W(De),W(kV,8),W(jt))},t.\u0275prov=U({token:t,factory:t.\u0275fac}),t})();const vI=new B("angularfire2.analytics-instances");function c2e(t){return(e,n)=>{if(!vg.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new xu(r)}}const u2e={provide:class j1e{constructor(){return wg(xV)}},deps:[[new Bt,vI]]},l2e={provide:xu,useFactory:function a2e(t,e){if(!vg.sync())return null;const n=_g(xV,t,e);return n&&new xu(n)},deps:[[new Bt,vI],Vo]};let d2e=(()=>{class t{constructor(n,r){je("angularfire",Ro.full,"analytics")}}return t.\u0275fac=function(n){return new(n||t)(W(o2e,8),W(kV,8))},t.\u0275mod=ot({type:t}),t.\u0275inj=et({providers:[l2e,u2e,{provide:YA,useValue:vg.async,multi:!0}]}),t})();function f2e(t,...e){return{ngModule:d2e,providers:[{provide:vI,useFactory:c2e(t),multi:!0,deps:[De,jt,bg,Cg,...e]}]}}let h2e=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Dl("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function p2e(t,e){1&t&&(M(0,"span",26),q(1,"1"),k())}function g2e(t,e){if(1&t&&(M(0,"span",27),q(1),k()),2&t){const n=nt();R(1),Ve(n.localOrdersBadge)}}function m2e(t,e){if(1&t&&(M(0,"span",26),q(1),Pe(2,"async"),k()),2&t){const n=nt();R(1),Ve(_t(2,1,n.fleetOrdersNotification))}}let y2e=(()=>{var t;class e{constructor(){this.badgeService=S(yL),this.dgAPI=S(ss),this.changeDetection=S(Hi),this.authService=S(bu),this.localStorageService=S(Ci),this.analytics=S(xu),this.localOrdersBadge=0,this.updateAvailable=!1;let r=window.location.pathname.split("/");Vf(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),Vf(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailable=this.localStorageService.get(In.UPDATE_AVAILABLE),this.localOrdersBadge=this.localStorageService.get(In.ACTIVE_ORDERS),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.fleetOrdersNotification=new be(s=>{this.badgeService.subscribeToFleetOrders(this.dgAPI.username(),s,this.changeDetection)})),this.changeDetection.detectChanges()})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=zn({type:t,selectors:[["dgt-navbar"]],decls:41,vars:12,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["style","z-index: 0","class","local-orders-badge notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],[1,"local-orders-badge","notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"ul",1)(2,"li",2),vt(3,p2e,2,0,"span",3),M(4,"a",4),Ce(5,"img",5),M(6,"span",6),q(7,"home"),k()()(),M(8,"li",7)(9,"a",8),Ce(10,"img",9),M(11,"span",6),q(12,"planets"),k()()(),M(13,"li",10)(14,"a",11),Ce(15,"img",12),M(16,"span",6),q(17,"radar"),k()()(),M(18,"li",13),vt(19,g2e,2,1,"span",14),vt(20,m2e,3,3,"span",3),Pe(21,"async"),M(22,"a",15),Ce(23,"img",16),M(24,"span",6),q(25,"fleets"),k()()(),M(26,"li",17)(27,"a",18),Ce(28,"img",19),M(29,"span",6),q(30,"navigation"),k()()(),M(31,"li",20)(32,"a",21),Ce(33,"img",22),M(34,"span",6),q(35,"research"),k()()(),M(36,"li",23)(37,"a",24),Ce(38,"img",25),M(39,"span",6),q(40,"alliances"),k()()()()()),2&r&&(R(2),Q("tabName","home"),R(1),Q("ngIf",i.updateAvailable),R(5),Q("tabName","planets"),R(5),Q("tabName","radar"),R(5),Q("tabName","fleets"),R(1),Q("ngIf",i.localOrdersBadge>0),R(1),Q("ngIf",i.active&&_t(21,10,i.fleetOrdersNotification)),R(6),Q("tabName","navigation"),R(5),Q("tabName","research"),R(5),Q("tabName","alliances"))},dependencies:[Ds,h2e,wc],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const va_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}};let v2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t,bootstrap:[y2e]}),t.\u0275inj=et({providers:[yL],imports:[ai,Ho(()=>zo(va_firebase)),Nc(()=>kc()),fa(()=>ha()),f2e(()=>$1e())]}),e})();class _2e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class w2e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class RV{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class FV{constructor(){this._resources=new w2e,this._workers=new RV,this._soldiers=new RV}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var Lt=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(Lt||{});let LV=(()=>{var t;class e{constructor(){this.dgAPI=S(ss)}extractStats(){let r=new _2e;return r.stats.set(Lt.ALL,new FV),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new FV),r.stats.get(Lt.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(Lt.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(Lt.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(Lt.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(Lt.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case Lt.METAL:r.stats.get(Lt.ALL).resources.metalStored+=s.stored,r.stats.get(Lt.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case Lt.MINERAL:r.stats.get(Lt.ALL).resources.mineralStored+=s.stored,r.stats.get(Lt.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case Lt.FOOD:r.stats.get(Lt.ALL).resources.foodStored+=s.stored,r.stats.get(Lt.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case Lt.ENERGY:r.stats.get(Lt.ALL).resources.energyStored+=s.stored,r.stats.get(Lt.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),b2e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=zt({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),_I=(()=>{var t;class e{constructor(){this.decimalPipe=S(bc)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=zt({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const C2e=function(t){return{"dgt-stats-totals-last-row":t}},Er=function(t){return{"dgt-padding-bottom-xs":t}};function I2e(t,e){if(1&t&&(M(0,"tr",4)(1,"th",5),q(2),Pe(3,"galaxyNameFormatter"),k(),M(4,"td",6)(5,"div",7),Ce(6,"img",8),M(7,"span",9),q(8),Pe(9,"number"),k()()(),M(10,"td",10)(11,"div",7)(12,"span",9),q(13),Pe(14,"resourceProductionFormatter"),k()()(),M(15,"td",11)(16,"div",12),Ce(17,"img",13),M(18,"span",9),q(19),Pe(20,"number"),k()()(),M(21,"td",10)(22,"div",12)(23,"span",9),q(24),Pe(25,"resourceProductionFormatter"),k()()(),M(26,"td",11)(27,"div",14),Ce(28,"img",15),M(29,"span",9),q(30),Pe(31,"number"),k()()(),M(32,"td",10)(33,"div",14)(34,"span",9),q(35),Pe(36,"resourceProductionFormatter"),k()()(),M(37,"td",11)(38,"div",16),Ce(39,"img",17),M(40,"span",9),q(41),Pe(42,"number"),k()()(),M(43,"td",18)(44,"div",16)(45,"span",9),q(46),Pe(47,"resourceProductionFormatter"),k()()(),M(48,"td",19)(49,"div",20),Ce(50,"img",21),M(51,"span",9),q(52),Pe(53,"number"),k()()(),M(54,"td",22)(55,"div",23),Ce(56,"img",24),M(57,"span",9),q(58),Pe(59,"number"),k()()(),M(60,"td",25)(61,"div",26),Ce(62,"img",27),M(63,"span",9),q(64),Pe(65,"number"),k()()()()),2&t){const n=e.$implicit,r=e.index,i=nt();Q("ngClass",qn(63,C2e,r==i.panel.stats.size-1)),R(1),Q("ngClass",qn(65,Er,r==i.panel.stats.size-2)),R(1),Ve(_t(3,25,n.key)),R(2),Q("ngClass",qn(67,Er,r==i.panel.stats.size-2)),R(4),Ve(Is(9,27,n.value.resources.metalStored,"1.0","en-US")),R(2),Q("ngClass",qn(69,Er,r==i.panel.stats.size-2)),R(3),Ve(_t(14,31,n.value.resources.metalProduction)),R(2),Q("ngClass",qn(71,Er,r==i.panel.stats.size-2)),R(4),Ve(Is(20,33,n.value.resources.mineralStored,"1.0","en-US")),R(2),Q("ngClass",qn(73,Er,r==i.panel.stats.size-2)),R(3),Ve(_t(25,37,n.value.resources.mineralProduction)),R(2),Q("ngClass",qn(75,Er,r==i.panel.stats.size-2)),R(4),Ve(Is(31,39,n.value.resources.foodStored,"1.0","en-US")),R(2),Q("ngClass",qn(77,Er,r==i.panel.stats.size-2)),R(3),Ve(_t(36,43,n.value.resources.foodProduction)),R(2),Q("ngClass",qn(79,Er,r==i.panel.stats.size-2)),R(4),Ve(Is(42,45,n.value.resources.energyStored,"1.0","en-US")),R(2),Q("ngClass",qn(81,Er,r==i.panel.stats.size-2)),R(3),Ve(_t(47,49,n.value.resources.energyProduction)),R(2),Q("ngClass",qn(83,Er,r==i.panel.stats.size-2)),R(4),Ve(Is(53,51,n.value.resources.ground,"1.0","en-US")),R(2),Q("ngClass",qn(85,Er,r==i.panel.stats.size-2)),R(4),Ve(Is(59,55,n.value.resources.orbit,"1.0","en-US")),R(2),Q("ngClass",qn(87,Er,r==i.panel.stats.size-2)),R(4),Ve(Is(65,59,n.value.soldiers.total,"1.0","en-US"))}}let E2e=(()=>{var t;class e{constructor(){this.statsPanelService=S(LV)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=zn({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/FPuGoOV.png","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OTTk4eY.png","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/7gmDfoF.png","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/DEv8NW9.png","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/HesibsH.png","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/KKdM7BA.png","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/FHlHgxL.png","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"table",2),vt(3,I2e,66,89,"tr",3),Pe(4,"keyvalue"),k()()()),2&r&&(R(3),Q("ngForOf",_t(4,1,i.panel.stats)))},dependencies:[xv,Zp,bc,ZM,b2e,_I],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function VV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VV(Object(n),!0).forEach(function(r){Vt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H1(t){return(H1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function HV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wI(t,e){return function M2e(t){if(Array.isArray(t))return t}(t)||function N2e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||zV(t,e)||function P2e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uf(t){return function A2e(t){if(Array.isArray(t))return bI(t)}(t)||function x2e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||zV(t)||function k2e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zV(t,e){if(t){if("string"==typeof t)return bI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bI(t,e)}}function bI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var UV=function(){},CI={},BV={},jV=null,$V={mark:UV,measure:UV};try{typeof window<"u"&&(CI=window),typeof document<"u"&&(BV=document),typeof MutationObserver<"u"&&(jV=MutationObserver),typeof performance<"u"&&($V=performance)}catch{}var B1,j1,$1,G1,q1,GV=(CI.navigator||{}).userAgent,qV=void 0===GV?"":GV,eo=CI,Ke=BV,WV=jV,U1=$V,us=!!Ke.documentElement&&!!Ke.head&&"function"==typeof Ke.addEventListener&&"function"==typeof Ke.createElement,KV=~qV.indexOf("MSIE")||~qV.indexOf("Trident/"),ls="___FONT_AWESOME___",YV="fa",QV="svg-inline--fa",_a="data-fa-i2svg",EI="data-fa-pseudo-element",R2e="data-fa-pseudo-element-pending",SI="data-prefix",DI="data-icon",XV="fontawesome-i2svg",F2e="async",L2e=["HTML","HEAD","STYLE","SCRIPT"],JV=function(){try{return!0}catch{return!1}}(),Ye="classic",ht="sharp",TI=[Ye,ht];function Bf(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ye]}})}var jf=Bf((Vt(B1={},Ye,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Vt(B1,ht,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),B1)),$f=Bf((Vt(j1={},Ye,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Vt(j1,ht,{solid:"fass",regular:"fasr",light:"fasl"}),j1)),Gf=Bf((Vt($1={},Ye,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Vt($1,ht,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),$1)),V2e=Bf((Vt(G1={},Ye,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Vt(G1,ht,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),G1)),H2e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,ZV="fa-layers-text",z2e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,U2e=Bf((Vt(q1={},Ye,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Vt(q1,ht,{900:"fass",400:"fasr",300:"fasl"}),q1)),eH=[1,2,3,4,5,6,7,8,9,10],B2e=eH.concat([11,12,13,14,15,16,17,18,19,20]),j2e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],wa={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},qf=new Set;Object.keys($f[Ye]).map(qf.add.bind(qf)),Object.keys($f[ht]).map(qf.add.bind(qf));var $2e=[].concat(TI,Uf(qf),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",wa.GROUP,wa.SWAP_OPACITY,wa.PRIMARY,wa.SECONDARY]).concat(eH.map(function(t){return"".concat(t,"x")})).concat(B2e.map(function(t){return"w-".concat(t)})),Wf=eo.FontAwesomeConfig||{};Ke&&"function"==typeof Ke.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=wI(t,2),r=e[1],i=function q2e(t){return""===t||"false"!==t&&("true"===t||t)}(function G2e(t){var e=Ke.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(Wf[r]=i)});var tH={styleDefault:"solid",familyDefault:"classic",cssPrefix:YV,replacementClass:QV,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Wf.familyPrefix&&(Wf.cssPrefix=Wf.familyPrefix);var Nu=z(z({},tH),Wf);Nu.autoReplaceSvg||(Nu.observeMutations=!1);var $={};Object.keys(tH).forEach(function(t){Object.defineProperty($,t,{enumerable:!0,set:function(n){Nu[t]=n,Kf.forEach(function(r){return r($)})},get:function(){return Nu[t]}})}),Object.defineProperty($,"familyPrefix",{enumerable:!0,set:function(e){Nu.cssPrefix=e,Kf.forEach(function(n){return n($)})},get:function(){return Nu.cssPrefix}}),eo.FontAwesomeConfig=$;var Kf=[],Si={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Q2e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Yf(){for(var t=12,e="";t-- >0;)e+=Q2e[62*Math.random()|0];return e}function ku(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function AI(t){return t.classList?ku(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function nH(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function W1(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function MI(t){return t.size!==Si.size||t.x!==Si.x||t.y!==Si.y||t.rotate!==Si.rotate||t.flipX||t.flipY}var e0e=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function rH(){var t=YV,e=QV,n=$.cssPrefix,r=$.replacementClass,i=e0e;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var iH=!1;function xI(){$.autoAddCss&&!iH&&(function Y2e(t){if(t&&us){var e=Ke.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ke.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Ke.head.insertBefore(e,r)}}(rH()),iH=!0)}var t0e={mixout:function(){return{dom:{css:rH,insertCss:xI}}},hooks:function(){return{beforeDOMElementCreation:function(){xI()},beforeI2svg:function(){xI()}}}},ds=eo||{};ds[ls]||(ds[ls]={}),ds[ls].styles||(ds[ls].styles={}),ds[ls].hooks||(ds[ls].hooks={}),ds[ls].shims||(ds[ls].shims=[]);var Gr=ds[ls],sH=[],K1=!1;function Qf(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?nH(t):"<".concat(e," ").concat(function X2e(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(nH(t[n]),'" ')},"").trim()}(r),">").concat(s.map(Qf).join(""),"</").concat(e,">")}function oH(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}us&&((K1=(Ke.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ke.readyState))||Ke.addEventListener("DOMContentLoaded",function t(){Ke.removeEventListener("DOMContentLoaded",t),K1=1,sH.map(function(e){return e()})}));var NI=function(e,n,r,i){var c,u,l,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,l=e[s[0]]):(c=0,l=r);c<o;c++)l=a(l,e[u=s[c]],u,e);return l};function kI(t){var e=function s0e(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function aH(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function PI(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=aH(e);"function"!=typeof Gr.hooks.addPack||i?Gr.styles[t]=z(z({},Gr.styles[t]||{}),s):Gr.hooks.addPack(t,aH(e)),"fas"===t&&PI("fa",e)}var Y1,Q1,X1,Pu=Gr.styles,a0e=Gr.shims,c0e=(Vt(Y1={},Ye,Object.values(Gf[Ye])),Vt(Y1,ht,Object.values(Gf[ht])),Y1),OI=null,cH={},uH={},lH={},dH={},fH={},u0e=(Vt(Q1={},Ye,Object.keys(jf[Ye])),Vt(Q1,ht,Object.keys(jf[ht])),Q1);var hH=function(){var e=function(s){return NI(Pu,function(o,a,c){return o[c]=NI(a,s,{}),o},{})};cH=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),uH=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),fH=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Pu||$.autoFetchSvg,r=NI(a0e,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});lH=r.names,dH=r.unicodes,OI=J1($.styleDefault,{family:$.familyDefault})};function RI(t,e){return(cH[t]||{})[e]}function ba(t,e){return(fH[t]||{})[e]}function pH(t){return lH[t]||{prefix:null,iconName:null}}function no(){return OI}(function K2e(t){Kf.push(t)})(function(t){OI=J1(t.styleDefault,{family:$.familyDefault})}),hH();var FI=function(){return{prefix:null,iconName:null,rest:[]}};function J1(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Ye:n;return $f[r][t]||$f[r][jf[r][t]]||(t in Gr.styles?t:null)||null}var gH=(Vt(X1={},Ye,Object.keys(Gf[Ye])),Vt(X1,ht,Object.keys(Gf[ht])),X1);function Z1(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Vt(e={},Ye,"".concat($.cssPrefix,"-").concat(Ye)),Vt(e,ht,"".concat($.cssPrefix,"-").concat(ht)),e),o=null,a=Ye;(t.includes(s[Ye])||t.some(function(u){return gH[Ye].includes(u)}))&&(a=Ye),(t.includes(s[ht])||t.some(function(u){return gH[ht].includes(u)}))&&(a=ht);var c=t.reduce(function(u,l){var d=function d0e(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function l0e(t){return~$2e.indexOf(t)}(i)?null:i}($.cssPrefix,l);if(Pu[l]?(l=c0e[a].includes(l)?V2e[a][l]:l,o=l,u.prefix=l):u0e[a].indexOf(l)>-1?(o=l,u.prefix=J1(l,{family:a})):d?u.iconName=d:l!==$.replacementClass&&l!==s[Ye]&&l!==s[ht]&&u.rest.push(l),!i&&u.prefix&&u.iconName){var f="fa"===o?pH(u.iconName):{},h=ba(u.prefix,u.iconName);f.prefix&&(o=null),u.iconName=f.iconName||h||u.iconName,u.prefix=f.prefix||u.prefix,"far"===u.prefix&&!Pu.far&&Pu.fas&&!$.autoFetchSvg&&(u.prefix="fas")}return u},FI());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===ht&&(Pu.fass||$.autoFetchSvg)&&(c.prefix="fass",c.iconName=ba(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=no()||"fas"),c}var p0e=function(){function t(){(function S2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function D2e(t,e,n){e&&HV(t.prototype,e),n&&HV(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=z(z({},n.definitions[a]||{}),o[a]),PI(a,o[a]);var c=Gf[Ye][a];c&&PI(c,o[a]),hH()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,u=o.icon,l=u[2];n[a]||(n[a]={}),l.length>0&&l.forEach(function(d){"string"==typeof d&&(n[a][d]=u)}),n[a][c]=u}),n}}]),t}(),mH=[],Ou={},Ru={},g0e=Object.keys(Ru);function LI(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Ou[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Ca(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Ou[t]||[]).forEach(function(s){s.apply(null,n)})}function fs(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ru[t]?Ru[t].apply(null,e):void 0}function VI(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||no();if(e)return e=ba(n,e)||e,oH(yH.definitions,n,e)||oH(Gr.styles,n,e)}var yH=new p0e,v0e={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return us?(Ca("beforeI2svg",e),fs("pseudoElements2svg",e),fs("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===$.autoReplaceSvg&&($.autoReplaceSvg=!0),$.observeMutations=!0,function r0e(t){us&&(K1?setTimeout(t,0):sH.push(t))}(function(){w0e({autoReplaceSvgRoot:n}),Ca("watch",e)})}},fr={noAuto:function(){$.autoReplaceSvg=!1,$.observeMutations=!1,Ca("noAuto")},config:$,dom:v0e,parse:{icon:function(e){if(null===e)return null;if("object"===H1(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ba(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=J1(e[0]);return{prefix:r,iconName:ba(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat($.cssPrefix,"-"))>-1||e.match(H2e))){var i=Z1(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||no(),iconName:ba(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=no();return{prefix:s,iconName:ba(s,e)||e}}}},library:yH,findIconDefinition:VI,toHtml:Qf},w0e=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Ke:n;(Object.keys(Gr.styles).length>0||$.autoFetchSvg)&&us&&$.autoReplaceSvg&&fr.dom.i2svg({node:r})};function e2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Qf(r)})}}),Object.defineProperty(t,"node",{get:function(){if(us){var r=Ke.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function HI(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,u=t.maskId,l=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,m=p.width,y=p.height,_="fak"===i,v=[$.replacementClass,s?"".concat($.cssPrefix,"-").concat(s):""].filter(function(Ht){return-1===d.classes.indexOf(Ht)}).filter(function(Ht){return""!==Ht||!!Ht}).concat(d.classes).join(" "),C={children:[],attributes:z(z({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:v,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(y)})},N=_&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/y*16*.0625,"em")}:{};h&&(C.attributes[_a]=""),c&&(C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(l||Yf())},children:[c]}),delete C.attributes.title);var L=z(z({},C),{},{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:o,symbol:a,styles:z(z({},N),d.styles)}),K=r.found&&n.found?fs("generateAbstractMask",L)||{children:[],attributes:{}}:fs("generateAbstractIcon",L)||{children:[],attributes:{}},Nt=K.attributes;return L.children=K.children,L.attributes=Nt,a?function C0e(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat($.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:z(z({},i),{},{id:o}),children:r}]}]}(L):function b0e(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(MI(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=W1(z(z({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(L)}function vH(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,u=z(z(z({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(u[_a]="");var l=z({},o.styles);MI(i)&&(l.transform=function Z2e(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&KV?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var d=W1(l);d.length>0&&(u.style=d);var f=[];return f.push({tag:"span",attributes:u,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var zI=Gr.styles;function UI(t){var e=t[0],n=t[1],s=wI(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat($.cssPrefix,"-").concat(wa.GROUP)},children:[{tag:"path",attributes:{class:"".concat($.cssPrefix,"-").concat(wa.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat($.cssPrefix,"-").concat(wa.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var E0e={found:!1,width:512,height:512};function BI(t,e){var n=e;return"fa"===e&&null!==$.styleDefault&&(e=no()),new Promise(function(r,i){if(fs("missingIconAbstract"),"fa"===n){var o=pH(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&zI[e]&&zI[e][t])return r(UI(zI[e][t]));(function S0e(t,e){!JV&&!$.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(z(z({},E0e),{},{icon:$.showMissingIcons&&t&&fs("missingIconAbstract")||{}}))})}var _H=function(){},jI=$.measurePerformance&&U1&&U1.mark&&U1.measure?U1:{mark:_H,measure:_H},Xf='FA "6.4.2"',wH=function(e){jI.mark("".concat(Xf," ").concat(e," ends")),jI.measure("".concat(Xf," ").concat(e),"".concat(Xf," ").concat(e," begins"),"".concat(Xf," ").concat(e," ends"))},$I={begin:function(e){return jI.mark("".concat(Xf," ").concat(e," begins")),function(){return wH(e)}},end:wH},t2=function(){};function bH(t){return"string"==typeof(t.getAttribute?t.getAttribute(_a):null)}function x0e(t){return Ke.createElementNS("http://www.w3.org/2000/svg",t)}function N0e(t){return Ke.createElement(t)}function CH(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?x0e:N0e:n;if("string"==typeof t)return Ke.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(CH(o,{ceFn:r}))}),i}var n2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(CH(i),n)}),null===n.getAttribute(_a)&&$.keepOriginalSource){var r=Ke.createComment(function k0e(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~AI(n).indexOf($.replacementClass))return n2.replace(e);var i=new RegExp("".concat($.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===$.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Qf(a)}).join("\n");n.setAttribute(_a,""),n.innerHTML=o}};function IH(t){t()}function EH(t,e){var n="function"==typeof e?e:t2;if(0===t.length)n();else{var r=IH;$.mutateApproach===F2e&&(r=eo.requestAnimationFrame||IH),r(function(){var i=function M0e(){return!0===$.autoReplaceSvg?n2.replace:n2[$.autoReplaceSvg]||n2.replace}(),s=$I.begin("mutate");t.map(i),s(),n()})}}var GI=!1;function SH(){GI=!0}function qI(){GI=!1}var r2=null;function DH(t){if(WV&&$.observeMutations){var e=t.treeCallback,n=void 0===e?t2:e,r=t.nodeCallback,i=void 0===r?t2:r,s=t.pseudoElementsCallback,o=void 0===s?t2:s,a=t.observeMutationsRoot,c=void 0===a?Ke:a;r2=new WV(function(u){if(!GI){var l=no();ku(u).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!bH(d.addedNodes[0])&&($.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&$.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&bH(d.target)&&~j2e.indexOf(d.attributeName))if("class"===d.attributeName&&function T0e(t){var e=t.getAttribute?t.getAttribute(SI):null,n=t.getAttribute?t.getAttribute(DI):null;return e&&n}(d.target)){var f=Z1(AI(d.target)),p=f.iconName;d.target.setAttribute(SI,f.prefix||l),p&&d.target.setAttribute(DI,p)}else(function A0e(t){return t&&t.classList&&t.classList.contains&&t.classList.contains($.replacementClass)})(d.target)&&i(d.target)})}}),us&&r2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function TH(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function R0e(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=Z1(AI(t));return i.prefix||(i.prefix=no()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function f0e(t,e){return(uH[t]||{})[e]}(i.prefix,t.innerText)||RI(i.prefix,kI(t.innerText))),!i.iconName&&$.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function F0e(t){var e=ku(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return $.autoA11y&&(n?e["aria-labelledby"]="".concat($.replacementClass,"-title-").concat(r||Yf()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=LI("parseNodeAttributes",{},t),c=e.styleParser?function O0e(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return z({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Si,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var V0e=Gr.styles;function AH(t){var e="nest"===$.autoReplaceSvg?TH(t,{styleParser:!1}):TH(t);return~e.extra.classes.indexOf(ZV)?fs("generateLayersText",t,e):fs("generateSvgReplacementMutation",t,e)}var ro=new Set;function MH(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!us)return Promise.resolve();var n=Ke.documentElement.classList,r=function(d){return n.add("".concat(XV,"-").concat(d))},i=function(d){return n.remove("".concat(XV,"-").concat(d))},s=$.autoFetchSvg?ro:TI.map(function(l){return"fa-".concat(l)}).concat(Object.keys(V0e));s.includes("fa")||s.push("fa");var o=[".".concat(ZV,":not([").concat(_a,"])")].concat(s.map(function(l){return".".concat(l,":not([").concat(_a,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=ku(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=$I.begin("onTree"),u=a.reduce(function(l,d){try{var f=AH(d);f&&l.push(f)}catch(h){JV||"MissingIcon"===h.name&&console.error(h)}return l},[]);return new Promise(function(l,d){Promise.all(u).then(function(f){EH(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),l()})}).catch(function(f){c(),d(f)})})}function H0e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;AH(t).then(function(n){n&&EH([n],e)})}function z0e(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:VI(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:VI(i||{})),t(r,z(z({},n),{},{mask:i}))}}TI.map(function(t){ro.add("fa-".concat(t))}),Object.keys(jf[Ye]).map(ro.add.bind(ro)),Object.keys(jf[ht]).map(ro.add.bind(ro)),ro=Uf(ro);var U0e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Si:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,u=n.maskId,l=void 0===u?null:u,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,m=n.classes,y=void 0===m?[]:m,_=n.attributes,v=void 0===_?{}:_,C=n.styles,N=void 0===C?{}:C;if(e){var L=e.prefix,K=e.iconName,he=e.icon;return e2(z({type:"icon"},e),function(){return Ca("beforeDOMElementCreation",{iconDefinition:e,params:n}),$.autoA11y&&(f?v["aria-labelledby"]="".concat($.replacementClass,"-title-").concat(p||Yf()):(v["aria-hidden"]="true",v.focusable="false")),HI({icons:{main:UI(he),mask:c?UI(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:L,iconName:K,transform:z(z({},Si),i),symbol:o,title:f,maskId:l,titleId:p,extra:{attributes:v,styles:N,classes:y}})})}},B0e={mixout:function(){return{icon:z0e(U0e)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=MH,n.nodeCallback=H0e,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return MH(void 0===r?Ke:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,u=r.symbol,l=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([BI(i,a),l.iconName?BI(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(m){var y=wI(m,2);h([n,HI({icons:{main:y[0],mask:y[1]},prefix:a,iconName:i,transform:c,symbol:u,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var u,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=W1(n.styles);return c.length>0&&(i.style=c),MI(o)&&(u=fs("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(u||s.icon),{children:r,attributes:i}}}},j0e={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return e2({type:"layer"},function(){Ca("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat($.cssPrefix,"-layers")].concat(Uf(s)).join(" ")},children:o}]})}}}},$0e={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,u=void 0===c?{}:c,l=r.styles,d=void 0===l?{}:l;return e2({type:"counter",content:n},function(){return Ca("beforeDOMElementCreation",{content:n,params:r}),function I0e(t){var e=t.content,n=t.title,r=t.extra,i=z(z(z({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=W1(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:u,styles:d,classes:["".concat($.cssPrefix,"-layers-counter")].concat(Uf(a))}})})}}}},G0e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Si:i,o=r.title,a=void 0===o?null:o,c=r.classes,u=void 0===c?[]:c,l=r.attributes,d=void 0===l?{}:l,f=r.styles,h=void 0===f?{}:f;return e2({type:"text",content:n},function(){return Ca("beforeDOMElementCreation",{content:n,params:r}),vH({content:n,transform:z(z({},Si),s),title:a,extra:{attributes:d,styles:h,classes:["".concat($.cssPrefix,"-layers-text")].concat(Uf(u))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(KV){var u=parseInt(getComputedStyle(n).fontSize,10),l=n.getBoundingClientRect();a=l.width/u,c=l.height/u}return $.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,vH({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},q0e=new RegExp('"',"ug"),xH=[1105920,1112319];function NH(t,e){var n="".concat(R2e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=ku(t.children).filter(function(he){return he.getAttribute(EI)===e})[0],a=eo.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(z2e),u=a.getPropertyValue("font-weight"),l=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==l&&""!==l){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?ht:Ye,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?$f[f][c[2].toLowerCase()]:U2e[f][u],p=function W0e(t){var e=t.replace(q0e,""),n=function o0e(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=xH[0]&&n<=xH[1],i=2===e.length&&e[0]===e[1];return{value:kI(i?e[0]:e),isSecondary:r||i}}(d),m=p.value,y=p.isSecondary,_=c[0].startsWith("FontAwesome"),v=RI(h,m),C=v;if(_){var N=function h0e(t){var e=dH[t],n=RI("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(m);N.iconName&&N.prefix&&(v=N.iconName,h=N.prefix)}if(!v||y||o&&o.getAttribute(SI)===h&&o.getAttribute(DI)===C)r();else{t.setAttribute(n,C),o&&t.removeChild(o);var L=function L0e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Si,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),K=L.extra;K.attributes[EI]=e,BI(v,h).then(function(he){var Nt=HI(z(z({},L),{},{icons:{main:he,mask:FI()},prefix:h,iconName:C,extra:K,watchable:!0})),Ht=Ke.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Ht,t.firstChild):t.appendChild(Ht),Ht.outerHTML=Nt.map(function(nh){return Qf(nh)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function K0e(t){return Promise.all([NH(t,"::before"),NH(t,"::after")])}function Y0e(t){return!(t.parentNode===document.head||~L2e.indexOf(t.tagName.toUpperCase())||t.getAttribute(EI)||t.parentNode&&"svg"===t.parentNode.tagName)}function kH(t){if(us)return new Promise(function(e,n){var r=ku(t.querySelectorAll("*")).filter(Y0e).map(K0e),i=$I.begin("searchPseudoElements");SH(),Promise.all(r).then(function(){i(),qI(),e()}).catch(function(){i(),qI(),n()})})}var PH=!1,OH=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},WI={x:0,y:0,width:"100%",height:"100%"};function RH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function Z0e(t){return"g"===t.tag?t.children:[t]}var eye={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?Z1(i.split(" ").map(function(o){return o.trim()})):FI();return s.prefix||(s.prefix=no()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=s.icon,f=o.icon,h=function J2e(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:z(z({},WI),{},{fill:"white"})},m=l.children?{children:l.children.map(RH)}:{},y={tag:"g",attributes:z({},h.inner),children:[RH(z({tag:l.tag,attributes:z(z({},l.attributes),h.path)},m))]},_={tag:"g",attributes:z({},h.outer),children:[y]},v="mask-".concat(a||Yf()),C="clip-".concat(a||Yf()),N={tag:"mask",attributes:z(z({},WI),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},L={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:Z0e(f)},N]};return r.push(L,{tag:"rect",attributes:z({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(v,")")},WI)}),{children:r,attributes:i}}}};!function m0e(t,e){var n=e.mixoutsTo;mH=t,Ou={},Object.keys(Ru).forEach(function(r){-1===g0e.indexOf(r)&&delete Ru[r]}),mH.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===H1(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Ou[o]||(Ou[o]=[]),Ou[o].push(s[o])})}r.provides&&r.provides(Ru)})}([t0e,B0e,j0e,$0e,G0e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=kH,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;$.searchPseudoElements&&kH(void 0===r?Ke:r)}}},{mixout:function(){return{dom:{unwatch:function(){SH(),PH=!0}}}},hooks:function(){return{bootstrap:function(){DH(LI("mutationObserverCallbacks",{}))},noAuto:function(){!function P0e(){r2&&r2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;PH?qI():DH(LI("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return OH(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=OH(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),l="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(u," ").concat(l)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:z({},h.outer),children:[{tag:"g",attributes:z({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:z(z({},r.icon.attributes),h.path)}]}]}}}},eye,{provides:function(e){var n=!1;eo.matchMedia&&(n=eo.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:z(z({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=z(z({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:z(z({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:z(z({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:z(z({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:z(z({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:z(z({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:z(z({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:z(z({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:fr});var iye=fr.parse,sye=fr.icon;const oye=["*"],uye=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let fye=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),KI=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),hye=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Tn]}),e})(),pye=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ni),E(pn))},t.\u0275cmp=zn({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Tn],ngContentSelectors:oye,decls:1,vars:0,template:function(r,i){1&r&&(function LT(t){const e=I()[yt][fn];if(!e.projection){const r=e.projection=nl(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?GK(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function VT(t,e=0,n){const r=I(),i=ge(),s=tc(i,le+t,16,null,n||null);null===s.projection&&(s.projection=e),r0(),(!r[Ni]||Oa())&&32!=(32&s.flags)&&function XG(t,e,n){GS(e[re],0,e,n,k0(t,n,e),HS(n.parent||e[fn],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),FH=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?iye.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...uye(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=sye(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Cx),E(fye),E(KI),E(hye,8),E(pye,8))},t.\u0275cmp=zn({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(Oy("innerHTML",i.renderedIconHTML,iD),Pr("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Tn],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),YI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=et({}),e})(),gye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t,bootstrap:[E2e]}),t.\u0275inj=et({providers:[bc,LV],imports:[ai,YI]}),e})(),LH=(()=>{var t;class e{constructor(){this.firestore=S(wi),this.dgAPI=S(ss)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){let i=bi(this.firestore,"scans");null!=this.planetScanSubscription&&this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=yu(vu(i,Js("location","==",r.planetScan.location),pL(1)),{idField:"id"}).subscribe(s=>{let o=Object.assign(new _L,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==En.RESOURCE||r.type==En.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==En.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==En.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==En.FLEET&&(o.fleets=r.planetScan.fleets),0==s.length?hL(i,JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):gL(v1(i,o.id),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe()})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function mye(t,e){1&t&&(M(0,"p",1),q(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),k())}let yye=(()=>{var t;class e{constructor(){this.scanService=S(LH),this.authService=S(bu),this.changeDetection=S(Hi),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.changeDetection.detectChanges()}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=zn({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&vt(0,mye,2,0,"p",0),2&r&&Q("ngIf",i.active)},dependencies:[Ds]}),e})(),vye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t,bootstrap:[yye]}),t.\u0275inj=et({providers:[LH],imports:[ai,Ho(()=>zo(va_firebase)),Nc(()=>kc()),fa(()=>ha())]}),e})(),VH=(()=>{var t;class e{constructor(){this.firestore=S(wi),this.dgAPI=S(ss),this.resourceProductionFormatterPipe=S(_I),this.decimalPipe=S(bc)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let i=r.map(s=>s.location.join("."));yu(vu(bi(this.firestore,"scans"),Js("location","in",i))).forEach(s=>{let a=Object.assign([],s).reduce((c,u)=>c.set(u.location,u),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let u=c.querySelector("div.coords > span").textContent.trim(),l=a.get(u);if(c.querySelector(".dgt-navigation-scan-turn").style.display="contents",c.querySelector("img:first-child").style.filter="grayscale(100%)",l){c.querySelector(".dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(l.turn,"1.0","en_US"),l.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=l.structures.map(h=>h.name);d.includes(Be.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Be.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Be.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Be.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Be.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Be.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Be.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),d.includes(Be.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Be.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Be.MEDICAL_CENTRE)&&(f+=.3),d.includes(Be.LEISURE_CENTRE)&&(f+=.4),d.includes(Be.HOSPITAL)&&(f+=.3),l.workers.currentNumber>0||l.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(l.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(l.soldiers,"1.0","en_US");let h=l.workers.currentNumber/15+l.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}}else c.querySelector(".dgt-navigation-scan-turn-value").textContent="N/A",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="-"})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function _ye(t,e){1&t&&(M(0,"p",1),q(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),k())}let wye=(()=>{var t;class e{constructor(){this.scanService=S(VH),this.authService=S(bu),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractSummaries();i.length>0&&this.scanService.fillScans(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=zn({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&vt(0,_ye,2,0,"p",0),2&r&&Q("ngIf",i.active)},dependencies:[Ds]}),e})(),bye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t,bootstrap:[wye]}),t.\u0275inj=et({providers:[bc,_I,VH],imports:[ai,Ho(()=>zo(va_firebase)),Nc(()=>kc()),fa(()=>ha())]}),e})();function Cye(t,e){if(1&t){const n=wo();M(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),q(6,"DGT Login"),k()()(),M(7,"tr",3)(8,"td"),Ce(9,"input",4,5),k(),M(11,"td"),Ce(12,"input",6,7),k()(),M(14,"tr",8)(15,"td",2)(16,"button",9),Xe("click",function(){xr(n);const i=Ty(10),s=Ty(13);return Nr(nt().signInWithEmailAndPassword(i.value,s.value,!0))}),q(17,"Login"),k(),M(18,"button",10),Xe("click",function(){return xr(n),Nr(nt().signInWithGoogle(!0))}),Ce(19,"img",11),k()()()()()()}}let Iye=(()=>{var t;class e{constructor(){this.authService=S(bu),this.auth=S(dd),this.firestore=S(wi),this.localStorageService=S(Ci),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new be(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(In.USER)&&!this.authService.refreshInProgress)})})}signInWithEmailAndPassword(r,i,s){this.authService.signInWithEmailAndPassword(this.auth,r,i,s)}signInWithGoogle(r){this.authService.signInWithGoogle(this.auth,r)}signOut(r){this.authService.signOut(this.auth,r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=zn({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(vt(0,Cye,20,0,"div",0),Pe(1,"async")),2&r&&Q("ngIf",_t(1,1,i.displayLogin))},dependencies:[Ds,wc],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),Eye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t,bootstrap:[Iye]}),t.\u0275inj=et({imports:[ai,Ho(()=>zo(va_firebase)),Nc(()=>kc()),fa(()=>ha())]}),e})(),HH=(()=>{var t;class e{constructor(){this.firestore=S(wi),this.dgApi=S(ss)}updateOrder(r){r.from=this.dgApi.username(!1);let i=bi(this.firestore,"orders");hL(i,JSON.parse(JSON.stringify(r))).catch(s=>{console.log(s)})}deleteOrder(r){pge(v1(bi(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,s,o){document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(c=>{c.classList.add("show"),c.classList.remove("hide")});let a=bi(this.firestore,"orders");yu(vu(a,Js("user","==",r),_1("executed","asc"),_1("wait","asc")),{idField:"id"}).forEach(c=>{let u=Object.assign([],c);u.forEach(l=>{l.wait-=i-l.turn}),o.next(u),s.detectChanges(),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(l=>{l.classList.add("hide"),l.classList.remove("show")})}).catch(c=>{console.log(c)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Sye{get from(){return this._from}set from(e){this._from=e}get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target,from:this.from}}}var JI={prefix:"far",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"]},tE={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 135.1c-4.2-4.5-10.1-7.1-16.3-7.1C266 128 256 138 256 150.3V208H160c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h96v57.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.3-7.1l99.9-107.1c3.5-3.8 5.5-8.7 5.5-13.8s-2-10.1-5.5-13.8L294.6 135.1z"]},o2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let uU=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ni),E(pn))},t.\u0275dir=Y({type:t}),e})(),Ia=(()=>{var t;class e extends uU{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=nn(t)))(i||t)}}(),t.\u0275dir=Y({type:t,features:[Ae]}),e})();const Di=new B("NgValueAccessor"),L4e={provide:Di,useExisting:Fe(()=>a2),multi:!0},H4e=new B("CompositionEventMode");let a2=(()=>{var t;class e extends uU{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function V4e(){const t=Ss()?Ss().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ni),E(pn),E(H4e,8))},t.\u0275dir=Y({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Xe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Je([L4e]),Ae]}),e})();const Sn=new B("NgValidators"),so=new B("NgAsyncValidators");function wU(t){return null!=t}function bU(t){return El(t)?dn(t):t}function CU(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function IU(t,e){return e.map(n=>n(t))}function EU(t){return t.map(e=>function U4e(t){return!t.validate}(e)?e:n=>e.validate(n))}function rE(t){return null!=t?function SU(t){if(!t)return null;const e=t.filter(wU);return 0==e.length?null:function(n){return CU(IU(n,e))}}(EU(t)):null}function iE(t){return null!=t?function DU(t){if(!t)return null;const e=t.filter(wU);return 0==e.length?null:function(n){return function R4e(...t){const e=GE(t),{args:n,keys:r}=CL(t),i=new be(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let l=0;l<o;l++){let d=!1;Zn(n[l]).subscribe(pt(s,f=>{d||(d=!0,u--),a[l]=f},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?EL(r,a):a),s.complete())}))}});return e?i.pipe(IL(e)):i}(IU(n,e).map(bU)).pipe(_e(CU))}}(EU(t)):null}function TU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function sE(t){return t?Array.isArray(t)?t:[t]:[]}function u2(t,e){return Array.isArray(t)?t.includes(e):t===e}function xU(t,e){const n=sE(e);return sE(t).forEach(i=>{u2(n,i)||n.push(i)}),n}function NU(t,e){return sE(e).filter(n=>!u2(t,n))}class kU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Vn extends kU{get formDirective(){return null}get path(){return null}}class oo extends kU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let OU=(()=>{var t;class e extends PU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(oo,2))},t.\u0275dir=Y({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Dl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ae]}),e})(),RU=(()=>{var t;class e extends PU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Vn,10))},t.\u0275dir=Y({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Dl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ae]}),e})();const Jf="VALID",d2="INVALID",Fu="PENDING",Zf="DISABLED";function cE(t){return(f2(t)?t.validators:t)||null}function uE(t,e){return(f2(e)?e.asyncValidators:t)||null}function f2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class HU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jf}get invalid(){return this.status===d2}get pending(){return this.status==Fu}get disabled(){return this.status===Zf}get enabled(){return this.status!==Zf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NU(e,this._rawAsyncValidators))}hasValidator(e){return u2(this._rawValidators,e)}hasAsyncValidator(e){return u2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Zf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Jf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jf||this.status===Fu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zf:Jf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fu,this._hasOwnPendingAsyncValidator=!0;const n=bU(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?Zf:this.errors?d2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fu)?Fu:this._anyControlsHaveStatus(d2)?d2:Jf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){f2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function G4e(t){return Array.isArray(t)?rE(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function q4e(t){return Array.isArray(t)?iE(t):t||null}(this._rawAsyncValidators)}}class lE extends HU{constructor(e,n,r){super(cE(n),uE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function VU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function LU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Lu=new B("CallSetDisabledState",{providedIn:"root",factory:()=>h2}),h2="always";function eh(t,e,n=h2){dE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Y4e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&zU(t,e)})}(t,e),function X4e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Q4e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&zU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function K4e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function m2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function dE(t,e){const n=function AU(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(TU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function MU(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(TU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();m2(e._rawValidators,i),m2(e._rawAsyncValidators,i)}function zU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const n6e={provide:Vn,useExisting:Fe(()=>v2)},th=(()=>Promise.resolve())();let v2=(()=>{var t;class e extends Vn{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new rt,this.form=new lE({},rE(r),iE(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){th.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),eh(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){th.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){th.then(()=>{const i=this._findContainer(r.path),s=new lE({});(function UU(t,e){dE(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){th.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){th.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function BU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Sn,10),E(so,10),E(Lu,8))},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Xe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Je([n6e]),Ae]}),e})();function jU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function $U(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const GU=class extends HU{constructor(e=null,n,r){super(cE(n),uE(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),f2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=$U(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){$U(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},s6e={provide:oo,useExisting:Fe(()=>gE)},KU=(()=>Promise.resolve())();let gE=(()=>{var t;class e extends oo{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new GU,this._registered=!1,this.name="",this.update=new rt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function pE(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===a2?n=s:function e6e(t){return Object.getPrototypeOf(t.constructor)===Ia}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function hE(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){KU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function vc(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);KU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function p2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Vn,9),E(Sn,10),E(so,10),E(Di,10),E(Hi,8),E(Lu,8))},t.\u0275dir=Y({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Je([s6e]),Ae,Tn]}),e})(),YU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Y({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),XU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=et({}),e})(),M6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=et({imports:[XU]}),e})(),N6e=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Lu,useValue:r.callSetDisabledState??h2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t}),t.\u0275inj=et({imports:[M6e]}),e})(),k6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(pn))},t.\u0275dir=Y({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&Xe("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})(),P6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(pn))},t.\u0275dir=Y({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&Xe("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})(),O6e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=zt({name:"kickMemberFormatter",type:t,pure:!0}),e})(),R6e=(()=>{var t;class e{transform(r){return"/alliances/note/"+r+"/"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=zt({name:"updateNoteFormatter",type:t,pure:!0}),e})();function F6e(t,e){if(1&t&&(M(0,"span",9),q(1),k()),2&t){const n=nt().$implicit;R(1),fc("Note: ",n.note,"")}}function L6e(t,e){if(1&t&&(M(0,"div",5)(1,"div",6)(2,"span",7),q(3),k(),vt(4,F6e,2,1,"span",8),k()()),2&t){const n=e.$implicit;R(3),Ve(n.name),R(1),Q("ngIf",null!=n.note)}}const gB=function(){return["far","circle-xmark"]};function V6e(t,e){if(1&t){const n=wo();M(0,"div",27)(1,"form",28,29),Xe("ngSubmit",function(i){return xr(n),Nr(nt(3).onSubmitKickMember(i))}),Ce(3,"input",30),Pe(4,"kickMemberFormatter"),M(5,"button",31),Ce(6,"fa-icon",23),k()()()}if(2&t){const n=nt().$implicit;R(3),Sl("name",_t(4,2,n.dgId)),R(3),Q("icon",gc(4,gB))}}function H6e(t,e){if(1&t&&(M(0,"span",32),q(1),k()),2&t){const n=nt().$implicit;R(1),fc("[",n.kickEta,"]")}}function z6e(t,e){if(1&t&&(M(0,"span",9),q(1),k()),2&t){const n=nt().$implicit;R(1),fc("Note: ",n.note,"")}}const mB=function(){return["far","circle-right"]};function U6e(t,e){if(1&t){const n=wo();M(0,"div",33)(1,"span",34),q(2,"Note:"),k(),M(3,"form",35,29),Xe("ngSubmit",function(i){return xr(n),Nr(nt(3).onSubmitUpdateNote(i))}),Pe(5,"updateNoteFormatter"),Ce(6,"input",36),M(7,"button",31),Ce(8,"fa-icon",23),k()()()}if(2&t){const n=nt().$implicit;R(3),Sl("action",_t(5,3,n.dgId),B0),R(3),Sl("value",n.note),R(2),Q("icon",gc(5,mB))}}const B6e=function(t,e){return{executed:t,"in-progress":e}};function j6e(t,e){if(1&t){const n=wo();M(0,"div",37)(1,"div",15)(2,"span",34),q(3,"Target:"),k(),M(4,"span",38),q(5),k()(),M(6,"div",17)(7,"span",34),q(8,"Wait:"),k(),M(9,"span",38),q(10),k()(),M(11,"div",19)(12,"span",34),q(13,"Instructions:"),k(),M(14,"span",38),q(15),k()(),M(16,"div",39)(17,"button",22),Xe("click",function(){const s=xr(n).$implicit;return Nr(nt(3).deleteOrder(s.id))}),Ce(18,"fa-icon",23),k()()()}if(2&t){const n=e.$implicit;Q("ngClass",lA(5,B6e,n.executed,!n.executed)),R(5),Ve(n.target),R(5),Ve(n.wait),R(5),Ve(n.instructions),R(3),Q("icon",gc(8,gB))}}function $6e(t,e){if(1&t){const n=wo();M(0,"div",5)(1,"div",6)(2,"span",7),q(3),k(),vt(4,V6e,7,5,"div",11),Pe(5,"async"),vt(6,H6e,2,1,"span",12),vt(7,z6e,2,1,"span",8),Pe(8,"async"),vt(9,U6e,9,6,"div",13),Pe(10,"async"),k(),M(11,"div",14)(12,"div",15)(13,"span",15),q(14,"Target:"),k(),M(15,"input",16),Xe("ngModelChange",function(i){const o=xr(n).index;return Nr(nt(2).controls.target[o]=i)}),k()(),M(16,"div",17)(17,"span",17),q(18,"Wait:"),k(),M(19,"input",18),Xe("ngModelChange",function(i){const o=xr(n).index;return Nr(nt(2).controls.wait[o]=i)}),k()(),M(20,"div",19)(21,"span",19),q(22,"Instructions:"),k(),M(23,"textarea",20),Xe("ngModelChange",function(i){const o=xr(n).index;return Nr(nt(2).controls.instructions[o]=i)}),k()(),M(24,"div",21)(25,"button",22),Xe("click",function(){const s=xr(n).index;return Nr(nt(2).createOrder(s))}),Ce(26,"fa-icon",23),k()()(),M(27,"div",24)(28,"div",25),Ce(29,"span",1),k(),vt(30,j6e,19,9,"div",26),Pe(31,"async"),k()()}if(2&t){const n=e.$implicit,r=e.index,i=nt(2);R(3),Ve(n.name),R(1),Q("ngIf",null==n.kickEta&&_t(5,10,i.role)===i.UserRole.ADMIN),R(2),Q("ngIf",null!=n.kickEta),R(1),Q("ngIf",null!=n.note&&n.note.length>0&&_t(8,12,i.role)===i.UserRole.TEAM_LEADER),R(2),Q("ngIf",_t(10,14,i.role)===i.UserRole.ADMIN),R(6),Q("ngModel",i.controls.target[r]),R(4),Q("ngModel",i.controls.wait[r]),R(4),Q("ngModel",i.controls.instructions[r]),R(3),Q("icon",gc(18,mB)),R(4),Q("ngForOf",_t(31,16,i.orders.get(n.name.toLowerCase())))}}function G6e(t,e){if(1&t&&(M(0,"div",10),vt(1,$6e,32,19,"div",3),k()),2&t){const n=nt();R(1),Q("ngForOf",n.allianceMembers)}}let q6e=(()=>{var t;class e{constructor(r){this.UserRole=bf,this.orderService=S(HH),this.dgAPI=S(ss),this.authService=S(bu),this.changeDetection=S(Hi),this.localStorageService=S(Ci),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},r.addIcons(o2,tE),this.allianceMembers=this.dgAPI.allianceMembers(!0),this.authService.authState.subscribe(i=>{document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("show"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("hide")),i.status&&(this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.role=new be(s=>{s.next(i.role),s.complete()}),(i.role===bf.ADMIN||i.role===bf.TEAM_LEADER)&&(this.allianceMembers=this.dgAPI.allianceMembers(!0),this.allianceMembers.forEach(s=>{this.orders.set(s.name.toLowerCase(),new be(o=>{this.orderService.getAllOrders(s.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,o)}))})),this.changeDetection.detectChanges()),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("hide"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("show"))})}createOrder(r){let i=new Sye;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(In.ALLIANCE_MEMBERS),r.target.submit()}onSubmitUpdateNote(r){this.localStorageService.remove(In.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(KI))},t.\u0275cmp=zn({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:7,vars:6,consts:[[1,"dgt-spinner-container","main"],[1,"dgt-spinner"],[1,"dgt-orders-manager-panel","user"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],["class","dgt-orders-manager-panel admin",4,"ngIf"],[1,"dgt-orders-manager-member"],[1,"player"],[1,"name"],["class","note",4,"ngIf"],[1,"note"],[1,"dgt-orders-manager-panel","admin"],["class","dgt-orders-manager-kick",4,"ngIf"],["class","kick-eta",4,"ngIf"],["class","note-update",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[3,"icon"],[1,"dgt-orders-history"],[1,"dgt-spinner-container","member"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[1,"kick-eta"],[1,"note-update"],[1,"label"],["method","post",3,"action","ngSubmit"],["type","text","name","note","placeholder","Player Note",3,"value"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"value"],[1,"delete"]],template:function(r,i){1&r&&(M(0,"div",0),Ce(1,"span",1),k(),M(2,"div",2),vt(3,L6e,5,2,"div",3),k(),vt(4,G6e,2,1,"div",4),Pe(5,"async"),Pe(6,"async")),2&r&&(R(3),Q("ngForOf",i.allianceMembers),R(1),Q("ngIf",_t(5,2,i.role)===i.UserRole.TEAM_LEADER||_t(6,4,i.role)===i.UserRole.ADMIN))},dependencies:[xv,Zp,Ds,YU,a2,OU,RU,gE,v2,FH,k6e,P6e,wc,O6e,R6e],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:28px;font-size:12px;background:rgba(0,0,0,.4);color:#fff;border:none!important;text-align:left;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:5px;width:370px}span.target[_ngcontent-%COMP%], span.wait[_ngcontent-%COMP%], span.instructions[_ngcontent-%COMP%]{float:left;line-height:26px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-left:5px;margin-right:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:#ffd46f;float:left}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400!important;float:right}.dgt-orders-manager-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid transparent;width:calc(100% - 12px);border-radius:5px;padding:3px 5px;margin-top:5px}.dgt-orders-history-details[_ngcontent-%COMP%]:nth-child(2){margin-top:10px!important}.dgt-orders-history-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:22px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#ffffffad;margin-right:20px}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{background:#7BBD1A3D}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{background:#FF3B303B}.dgt-orders-history[_ngcontent-%COMP%]{width:calc(100% - 10px)!important;margin-left:5px;margin-right:5px;position:relative}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px;margin-left:2px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px}.create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:20px!important;line-height:22px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.note-update[_ngcontent-%COMP%]{float:right!important}.note-update[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{float:left;font-weight:400;line-height:22px;margin-right:5px}.note-update[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{float:left}.note-update[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:22px;margin-right:5px;border-radius:4px}span.note[_ngcontent-%COMP%]{line-height:20px}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.name[_ngcontent-%COMP%]{color:#ffffffad!important;font-weight:400!important;width:35%!important;font-size:1em!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.note[_ngcontent-%COMP%]{line-height:16px!important;width:65%;text-align:left;font-size:1em!important}.dgt-spinner-container.member[_ngcontent-%COMP%]{position:relative;margin-top:5px}.dgt-spinner-container.member[_ngcontent-%COMP%]   .dgt-spinner[_ngcontent-%COMP%]{top:10px!important}"]}),e})(),W6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t,bootstrap:[q6e]}),t.\u0275inj=et({providers:[HH],imports:[ai,N6e,YI,Ho(()=>zo(va_firebase)),Nc(()=>kc()),fa(()=>ha())]}),e})(),yB=(()=>{var t;class e{constructor(){this.firestore=S(wi)}getActiveOrders(r,i,s,o){let a=bi(this.firestore,"orders");yu(vu(a,Js("user","==",r),Js("executed","==",!1),_1("executed","asc"),_1("wait","asc")),{idField:"id"}).forEach(c=>{let u=Object.assign([],c);u.forEach(l=>{l.wait-=i-l.turn}),o.next(u),s.detectChanges()}).catch(c=>{console.log(c)})}completeOrder(r){let i=bi(this.firestore,"orders");gL(v1(i,r),{executed:!0}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const K6e=function(){return["far","circle-check"]};function Y6e(t,e){if(1&t){const n=wo();M(0,"div",6)(1,"div",7)(2,"span",8),q(3,"From:"),k(),M(4,"span",9),q(5),k()(),M(6,"div",10)(7,"span",8),q(8,"Target:"),k(),M(9,"span",9),q(10),k()(),M(11,"div",11)(12,"span",8),q(13,"Wait:"),k(),M(14,"span",9),q(15),k()(),M(16,"div",12)(17,"span",8),q(18,"Instructions:"),k(),M(19,"span",9),q(20),k()(),M(21,"div",13)(22,"button",14),Xe("click",function(){const s=xr(n).$implicit;return Nr(nt(3).onCompleteClick(s.id))}),Ce(23,"fa-icon",15),k()()()}if(2&t){const n=e.$implicit;R(5),Ve(n.from),R(5),Ve(n.target),R(5),Ve(n.wait),R(5),Ve(n.instructions),R(3),Q("icon",gc(5,K6e))}}function Q6e(t,e){if(1&t&&(M(0,"div",4),vt(1,Y6e,24,6,"div",5),Pe(2,"async"),k()),2&t){const n=nt(2);R(1),Q("ngForOf",_t(2,1,n.orders))}}function X6e(t,e){if(1&t&&(Ep(0),vt(1,Q6e,3,3,"div",3),Pe(2,"async"),Sp()),2&t){const n=nt();let r;R(1),Q("ngIf",(null==(r=_t(2,1,n.orders))?null:r.length)>0)}}let J6e=(()=>{var t;class e{constructor(r){this.orderService=S(yB),this.dgAPI=S(ss),this.changeDetection=S(Hi),this.authService=S(bu),this.active=!1,r.addIcons(JI),this.authService.authState.subscribe(i=>{document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("show"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("hide")),this.active=i.status,i.status&&(this.orders=new be(s=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,s)})),this.changeDetection.detectChanges(),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("show"))})}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(KI))},t.\u0275cmp=zn({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-fleet-order-container",4,"ngIf"],[1,"dgt-fleet-order-container"],["class","dgt-fleet-order",4,"ngFor","ngForOf"],[1,"dgt-fleet-order"],[1,"from"],[1,"label"],[1,"value"],[1,"target"],[1,"wait"],[1,"instructions"],[1,"complete"],[3,"click"],[3,"icon"]],template:function(r,i){1&r&&(M(0,"div",0),Ce(1,"span",1),k(),vt(2,X6e,3,3,"ng-container",2)),2&r&&(R(2),Q("ngIf",i.active))},dependencies:[Zp,Ds,FH,wc],styles:[".dgt-fleet-order-container[_ngcontent-%COMP%]{margin:5px 5px 0!important;background:rgb(75,75,75);padding:7px;border-radius:5px;border:1px solid #5e5e5e}.dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#784946;border:none;width:calc(100% - 10px);border-radius:5px;height:22px;line-height:22px;padding:5px;margin-bottom:5px}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;color:#dcdcdc;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#dcdcdc}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:145px}.dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:85px}.dgt-fleet-order[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{float:right;margin-right:2px}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{margin-left:2px;min-width:150px}.dgt-spinner-container[_ngcontent-%COMP%]{border:1px solid #5e5e5e;margin:5px 5px 0!important;width:calc(100% - 12px)!important;height:calc(100% - 12px)!important;position:relative}"]}),e})(),Z6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t,bootstrap:[J6e]}),t.\u0275inj=et({providers:[yB],imports:[ai,YI,Ho(()=>zo(va_firebase)),Nc(()=>kc()),fa(()=>ha())]}),e})(),e3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=zn({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),t3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t,bootstrap:[e3e]}),t.\u0275inj=et({imports:[ai]}),e})(),n3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=zn({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),r3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t,bootstrap:[n3e]}),t.\u0275inj=et({imports:[ai]}),e})(),vB=(()=>{var t;class e{constructor(){this.firestore=S(wi),this.localStorageService=S(Ci)}checkVersion(r,i){let s=bi(this.firestore,"config");hge(v1(s,"version")).forEach(o=>{let a=Object.assign({value:""},o).value;this.localStorageService.getVersion()!==a?(this.localStorageService.cache(In.UPDATE_AVAILABLE,!0),i.next(!0)):(this.localStorageService.cache(In.UPDATE_AVAILABLE,!1),i.next(!1)),i.complete(),r.detectChanges(),document.querySelector("dgt-changelog .dgt-spinner-container")&&(document.querySelector("dgt-changelog .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-changelog .dgt-spinner-container").classList.remove("show"))}).catch(o=>{console.log(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function i3e(t,e){1&t&&(M(0,"div",5)(1,"span"),q(2,"There is a new update for DarkGalaxy Toolbox. "),M(3,"a",6),q(4,"Click here"),k(),q(5," to install it."),k()())}let s3e=(()=>{var t;class e{constructor(){this.changeLogService=S(vB),this.changeDetection=S(Hi),this.localStorageService=S(Ci),this.changed=new be(r=>{this.changeLogService.checkVersion(this.changeDetection,r)}),this.version=this.localStorageService.getVersion()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=zn({type:t,selectors:[["dgt-changelog"]],decls:18,vars:4,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container"],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-update"],["target","_blank","href","https://github.com/vberezan/dg-toolbox/raw/main/tampermonkey/dg-toolbox.user.js"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"h2"),q(2,"DarkGalaxy Tools "),M(3,"span"),q(4),k()(),M(5,"div",1),Ce(6,"span",2),k(),vt(7,i3e,6,0,"div",3),Pe(8,"async"),M(9,"div",4)(10,"div")(11,"span"),q(12,"Changelog:"),k()(),M(13,"ul")(14,"li"),q(15,"fix - connection stability with Google Firebase"),k(),M(16,"li"),q(17,"fix - shared scan fix to fit new source code in Andromeda 2"),k()()()()),2&r&&(R(4),Ve(i.version),R(3),Q("ngIf",_t(8,2,i.changed)))},dependencies:[Ds,wc],styles:["#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border:1px solid #5e5e5e;border-radius:5px;background:rgb(75,75,75)}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin-top:0;font-size:18px;font-weight:700;border-bottom:1px solid #5e5e5e;margin-bottom:6px;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-update-changelog[_ngcontent-%COMP%]{background:#576740;margin:5px;border-radius:3px;padding:5px 10px!important;color:#ffffffad}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#784946;border-radius:3px;display:block;margin:0 5px;color:#ffffffad}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}"]}),e})(),o3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ot({type:t,bootstrap:[s3e]}),t.\u0275inj=et({providers:[vB],imports:[ai,Ho(()=>zo(va_firebase)),fa(()=>ha())]}),e})();const Ti=mte();let hr=window.location.pathname.split(/\//g);Ti.bootstrapModule(r3e).catch(t=>console.error(t)),Ti.bootstrapModule(t3e).catch(t=>console.error(t)),Ti.bootstrapModule(Eye).catch(t=>console.error(t)),Ti.bootstrapModule(v2e).catch(t=>console.error(t)),2===hr.length&&0===hr[1].trim().length&&Ti.bootstrapModule(o3e).catch(t=>console.error(t)),"planets"===hr[1]&&Ti.bootstrapModule(gye).catch(t=>console.error(t)),"planet"===hr[1]&&"comms"===(5===hr.length&&hr[3])&&Ti.bootstrapModule(vye).catch(t=>console.error(t)),"navigation"===hr[1]&&6===hr.length&&!isNaN(+hr[2])&&!isNaN(+hr[3])&&!isNaN(+hr[4])&&Ti.bootstrapModule(bye).catch(t=>console.error(t)),"alliances"===hr[1]&&Ti.bootstrapModule(W6e).catch(t=>console.error(t)),"fleets"===hr[1]&&Ti.bootstrapModule(Z6e).catch(t=>console.error(t))}},ke=>{ke(ke.s=612)}]);