"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{576:()=>{function je(t){return"function"==typeof t}function uo(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const fo=uo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Qi(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class h1{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(je(r))try{r()}catch(s){e=s instanceof fo?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{YC(s)}catch(a){e=e??[],a instanceof fo?e=[...e,...a.errors]:e.push(a)}}if(e)throw new fo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)YC(e);else{if(e instanceof h1){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Qi(n,e)}remove(e){const{_finalizers:n}=this;n&&Qi(n,e),e instanceof h1&&e._removeParent(this)}}h1.EMPTY=(()=>{const t=new h1;return t.closed=!0,t})();const KC=h1.EMPTY;function QC(t){return t instanceof h1||t&&"closed"in t&&je(t.remove)&&je(t.add)&&je(t.unsubscribe)}function YC(t){je(t)?t():t.unsubscribe()}const Ur={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ho={setTimeout(t,e,...n){const{delegate:r}=ho;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ho;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function XC(t){ho.setTimeout(()=>{const{onUnhandledError:e}=Ur;if(!e)throw t;e(t)})}function JC(){}const OW=V5("C",void 0,void 0);function V5(t,e,n){return{kind:t,value:e,error:n}}let jr=null;function po(t){if(Ur.useDeprecatedSynchronousErrorHandling){const e=!jr;if(e&&(jr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=jr;if(jr=null,n)throw r}}else t()}class b5 extends h1{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,QC(e)&&e.add(this)):this.destination=GW}static create(e,n,r){return new r3(e,n,r)}next(e){this.isStopped?z5(function BW(t){return V5("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?z5(function FW(t){return V5("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?z5(OW,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const jW=Function.prototype.bind;function H5(t,e){return jW.call(t,e)}class $W{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){mo(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){mo(r)}else mo(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){mo(n)}}}class r3 extends b5{constructor(e,n,r){let i;if(super(),je(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ur.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&H5(e.next,s),error:e.error&&H5(e.error,s),complete:e.complete&&H5(e.complete,s)}):i=e}this.destination=new $W(i)}}function mo(t){Ur.useDeprecatedSynchronousErrorHandling?function UW(t){Ur.useDeprecatedSynchronousErrorHandling&&jr&&(jr.errorThrown=!0,jr.error=t)}(t):XC(t)}function z5(t,e){const{onStoppedNotification:n}=Ur;n&&ho.setTimeout(()=>n(t,e))}const GW={closed:!0,next:JC,error:function qW(t){throw t},complete:JC},S5="function"==typeof Symbol&&Symbol.observable||"@@observable";function go(t){return t}let $e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function KW(t){return t&&t instanceof b5||function WW(t){return t&&je(t.next)&&je(t.error)&&je(t.complete)}(t)&&QC(t)}(n)?n:new r3(n,r,i);return po(()=>{const{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=eM(r))((i,s)=>{const a=new r3({next:c=>{try{n(c)}catch(o){s(o),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[S5](){return this}pipe(...n){return function ZC(t){return 0===t.length?go:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=eM(n))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return t.create=e=>new t(e),t})();function eM(t){var e;return null!==(e=t??Ur.Promise)&&void 0!==e?e:Promise}const QW=uo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let vo=(()=>{class t extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new tM(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new QW}next(n){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){po(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?KC:(this.currentObservers=null,s.push(n),new h1(()=>{this.currentObservers=null,Qi(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new $e;return n.source=this,n}}return t.create=(e,n)=>new tM(e,n),t})();class tM extends vo{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:KC}}class YW extends vo{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Qn(t){return e=>{if(function XW(t){return je(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function an(t,e,n,r,i){return new JW(t,e,n,r,i)}class JW extends b5{constructor(e,n,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=n?function(c){try{n(c)}catch(o){e.error(o)}}:super._next,this._error=i?function(c){try{i(c)}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function i3(t,e){return Qn((n,r)=>{let i=0;n.subscribe(an(r,s=>{r.next(t.call(e,s,i++))}))})}function _o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function I5(t,e,n,r){var a,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function L5(t,e){return function(n,r){e(n,r,t)}}function Yn(t){return this instanceof Yn?(this.v=t,this):new Yn(t)}function sM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function A5(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(c,o){!function i(s,a,c,o){Promise.resolve(o).then(function(l){s({value:l,done:c})},a)}(c,o,(a=t[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const aM=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function cM(t){return je(t?.then)}function oM(t){return je(t[S5])}function lM(t){return Symbol.asyncIterator&&je(t?.[Symbol.asyncIterator])}function uM(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fM=function vK(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function dM(t){return je(t?.[fM])}function hM(t){return function iM(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||c(d,h)})})}function c(d,h){try{!function o(d){d.value instanceof Yn?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](h))}catch(p){f(s[0][3],p)}}function l(d){c("next",d)}function u(d){c("throw",d)}function f(d,h){d(h),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Yn(n.read());if(i)return yield Yn(void 0);yield yield Yn(r)}}finally{n.releaseLock()}})}function pM(t){return je(t?.getReader)}function I1(t){if(t instanceof $e)return t;if(null!=t){if(oM(t))return function _K(t){return new $e(e=>{const n=t[S5]();if(je(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(aM(t))return function yK(t){return new $e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(cM(t))return function CK(t){return new $e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,XC)})}(t);if(lM(t))return mM(t);if(dM(t))return function MK(t){return new $e(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(pM(t))return function wK(t){return mM(hM(t))}(t)}throw uM(t)}function mM(t){return new $e(e=>{(function VK(t,e){var n,r,i,s;return function nM(t,e,n,r){return new(n||(n=Promise))(function(s,a){function c(u){try{l(r.next(u))}catch(f){a(f)}}function o(u){try{l(r.throw(u))}catch(f){a(f)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(a){a(s)})}(u.value).then(c,o)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=sM(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Xn(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function gM(t,e,n=1/0){return je(e)?gM((r,i)=>i3((s,a)=>e(r,s,i,a))(I1(t(r,i))),n):("number"==typeof e&&(n=e),Qn((r,i)=>function bK(t,e,n,r,i,s,a,c){const o=[];let l=0,u=0,f=!1;const d=()=>{f&&!o.length&&!l&&e.complete()},h=g=>l<r?p(g):o.push(g),p=g=>{s&&e.next(g),l++;let v=!1;I1(n(g,u++)).subscribe(an(e,C=>{i?.(C),s?h(C):e.next(C)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;o.length&&l<r;){const C=o.shift();a?Xn(e,a,()=>p(C)):p(C)}d()}catch(C){e.error(C)}}))};return t.subscribe(an(e,h,()=>{f=!0,d()})),()=>{c?.()}}(r,i,t,n)))}const vM=new $e(t=>t.complete());function T5(t){return t[t.length-1]}function _M(t){return function SK(t){return t&&je(t.schedule)}(T5(t))?t.pop():void 0}function yo(t,e=0){return Qn((n,r)=>{n.subscribe(an(r,i=>Xn(r,t,()=>r.next(i),e),()=>Xn(r,t,()=>r.complete(),e),i=>Xn(r,t,()=>r.error(i),e)))})}function Co(t,e=0){return Qn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function yM(t,e){if(!t)throw new Error("Iterable cannot be null");return new $e(n=>{Xn(n,e,()=>{const r=t[Symbol.asyncIterator]();Xn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function N5(t,e){return e?function NK(t,e){if(null!=t){if(oM(t))return function IK(t,e){return I1(t).pipe(Co(e),yo(e))}(t,e);if(aM(t))return function DK(t,e){return new $e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(cM(t))return function LK(t,e){return I1(t).pipe(Co(e),yo(e))}(t,e);if(lM(t))return yM(t,e);if(dM(t))return function AK(t,e){return new $e(n=>{let r;return Xn(n,e,()=>{r=t[fM](),Xn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void n.error(a)}s?n.complete():n.next(i)},0,!0)}),()=>je(r?.return)&&r.return()})}(t,e);if(pM(t))return function TK(t,e){return yM(hM(t),e)}(t,e)}throw uM(t)}(t,e):I1(t)}function kK(...t){const e=_M(t),n=function EK(t,e){return"number"==typeof T5(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?I1(r[0]):function HK(t=1/0){return gM(go,t)}(n)(N5(r,e)):vM}function CM(t={}){const{connector:e=(()=>new vo),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let a,c,o,l=0,u=!1,f=!1;const d=()=>{c?.unsubscribe(),c=void 0},h=()=>{d(),a=o=void 0,u=f=!1},p=()=>{const g=a;h(),g?.unsubscribe()};return Qn((g,v)=>{l++,!f&&!u&&d();const C=o=o??e();v.add(()=>{l--,0===l&&!f&&!u&&(c=k5(p,i))}),C.subscribe(v),!a&&l>0&&(a=new r3({next:_=>C.next(_),error:_=>{f=!0,d(),c=k5(h,n,_),C.error(_)},complete:()=>{u=!0,d(),c=k5(h,r),C.complete()}}),I1(g).subscribe(a))})(s)}}function k5(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new r3({next:()=>{r.unsubscribe(),t()}});return I1(e(...n)).subscribe(r)}function FK(t,e){return t===e}function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function Mo(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function P5(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const BK=Me({__forward_ref__:Me});function xe(t){return t.__forward_ref__=xe,t.toString=function(){return Vt(this())},t}function X(t){return R5(t)?t():t}function R5(t){return"function"==typeof t&&t.hasOwnProperty(BK)&&t.__forward_ref__===xe}function O5(t){return t&&!!t.\u0275providers}const MM="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function wo(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function F5(t,e){throw new S(-201,!1)}function e1(t,e){null==t&&function K(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ze(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vo(t){return wM(t,Ho)||wM(t,VM)}function wM(t,e){return t.hasOwnProperty(e)?t[e]:null}function bo(t){return t&&(t.hasOwnProperty(B5)||t.hasOwnProperty(KK))?t[B5]:null}const Ho=Me({\u0275prov:Me}),B5=Me({\u0275inj:Me}),VM=Me({ngInjectableDef:Me}),KK=Me({ngInjectorDef:Me});var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{});let U5;function E2(t){const e=U5;return U5=t,e}function HM(t,e,n){const r=Vo(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&le.Optional?null:void 0!==e?e:void F5(Vt(t))}const ze=globalThis,s3={},W5="__NG_DI_FLAG__",zo="ngTempTokenPath",XK=/\n/gm,SM="__source";let Yi;function Jn(t){const e=Yi;return Yi=t,e}function eQ(t,e=le.Default){if(void 0===Yi)throw new S(-203,!1);return null===Yi?HM(t,void 0,e):Yi.get(t,e&le.Optional?null:void 0,e)}function ae(t,e=le.Default){return(function bM(){return U5}()||eQ)(X(t),e)}function R(t,e=le.Default){return ae(t,So(e))}function So(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function K5(t){const e=[];for(let n=0;n<t.length;n++){const r=X(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=le.Default;for(let a=0;a<r.length;a++){const c=r[a],o=tQ(c);"number"==typeof o?-1===o?i=c.token:s|=o:i=c}e.push(ae(i,s))}else e.push(ae(r))}return e}function a3(t,e){return t[W5]=e,t.prototype[W5]=e,t}function tQ(t){return t[W5]}function cn(t){return{toString:t}.toString()}var xo=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(xo||{}),p1=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(p1||{});const L1={},ve=[],Eo=Me({\u0275cmp:Me}),Q5=Me({\u0275dir:Me}),Y5=Me({\u0275pipe:Me}),EM=Me({\u0275mod:Me}),on=Me({\u0275fac:Me}),c3=Me({__NG_ELEMENT_ID__:Me}),IM=Me({__NG_ENV_ID__:Me});function LM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function X5(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],a=n[r++],c=n[r++];t.setAttribute(e,a,c,s)}else{const s=i,a=n[++r];AM(s)?t.setProperty(e,s,a):t.setAttribute(e,s,a),r++}}return r}function DM(t){return 3===t||4===t||6===t}function AM(t){return 64===t.charCodeAt(0)}function o3(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||TM(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function TM(t,e,n,r,i){let s=0,a=t.length;if(-1===e)a=-1;else for(;s<t.length;){const c=t[s++];if("number"==typeof c){if(c===e){a=-1;break}if(c>e){a=s-1;break}}}for(;s<t.length;){const c=t[s];if("number"==typeof c)break;if(c===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(t.splice(a,0,e),s=a+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const NM="ng-template";function iQ(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const a=t[r++];if(n&&"class"===s&&-1!==LM(a.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function kM(t){return 4===t.type&&t.value!==NM}function sQ(t,e,n){return e===(4!==t.type||n?t.value:NM)}function aQ(t,e,n){let r=4;const i=t.attrs||[],s=function lQ(t){for(let e=0;e<t.length;e++)if(DM(t[e]))return e;return t.length}(i);let a=!1;for(let c=0;c<e.length;c++){const o=e[c];if("number"!=typeof o){if(!a)if(4&r){if(r=2|1&r,""!==o&&!sQ(t,o,n)||""===o&&1===e.length){if(m1(r))return!1;a=!0}}else{const l=8&r?o:e[++c];if(8&r&&null!==t.attrs){if(!iQ(t.attrs,l,n)){if(m1(r))return!1;a=!0}continue}const f=cQ(8&r?"class":o,i,kM(t),n);if(-1===f){if(m1(r))return!1;a=!0;continue}if(""!==l){let d;d=f>s?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==LM(h,l,0)||2&r&&l!==d){if(m1(r))return!1;a=!0}}}}else{if(!a&&!m1(r)&&!m1(o))return!1;if(a&&m1(o))continue;a=!1,r=o|1&r}}return m1(r)||a}function m1(t){return 0==(1&t)}function cQ(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const a=e[i];if(a===t)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function uQ(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function PM(t,e,n=!1){for(let r=0;r<e.length;r++)if(aQ(t,e[r],n))return!0;return!1}function fQ(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function RM(t,e){return t?":not("+e.trim()+")":e}function dQ(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let a=t[n];if("string"==typeof a)if(2&r){const c=t[++n];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!m1(a)&&(e+=RM(s,i),i=""),r=a,s=s||!m1(r);n++}return""!==i&&(e+=RM(s,i)),e}function t1(t){return cn(()=>{const e=FM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||p1.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};BM(n);const r=t.dependencies;return n.directiveDefs=Io(r,!1),n.pipeDefs=Io(r,!0),n.id=function CQ(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function gQ(t){return de(t)||$t(t)}function vQ(t){return null!==t}function ct(t){return cn(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function OM(t,e){if(null==t)return L1;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Q(t){return cn(()=>{const e=FM(t);return BM(e),e})}function Dt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function de(t){return t[Eo]||null}function $t(t){return t[Q5]||null}function v2(t){return t[Y5]||null}function FM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||L1,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OM(t.inputs,e),outputs:OM(t.outputs)}}function BM(t){t.features?.forEach(e=>e(t))}function Io(t,e){if(!t)return null;const n=e?v2:gQ;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(vQ)}const ot=0,k=1,re=2,qe=3,g1=4,u3=5,n2=6,Xi=7,lt=8,Zn=9,Ji=10,te=11,f3=12,UM=13,Zi=14,ut=15,d3=16,e4=17,D1=18,h3=19,jM=20,er=21,ln=22,Lo=23,Do=24,ce=25,J5=1,$M=2,A1=7,t4=9,qt=11;function I2(t){return Array.isArray(t)&&"object"==typeof t[J5]}function L2(t){return Array.isArray(t)&&!0===t[J5]}function Z5(t){return 0!=(4&t.flags)}function qr(t){return t.componentOffset>-1}function To(t){return 1==(1&t.flags)}function v1(t){return!!t.template}function e7(t){return 0!=(512&t[re])}function Gr(t,e){return t.hasOwnProperty(on)?t[on]:null}let zQ=ze.WeakRef??class HQ{constructor(e){this.ref=e}deref(){return this.ref}},xQ=0,T1=null,No=!1;function At(t){const e=T1;return T1=t,e}class QM{constructor(){this.id=xQ++,this.ref=function SQ(t){return new zQ(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=No;No=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{No=e}}producerAccessed(){if(No)throw new Error("");if(null===T1)return;let e=T1.producers.get(this.id);void 0===e?(e={consumerNode:T1.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:T1.trackingVersion},T1.producers.set(this.id,e),this.consumers.set(T1.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=T1.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==T1?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let YM=null;function XM(t){const e=At(null);try{return t()}finally{At(e)}}const JM=()=>{};class DQ extends QM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=JM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=At(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=JM,this.watch(this.registerOnCleanup)}finally{At(e)}}cleanup(){this.cleanupFn()}}class AQ{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function n1(){return ZM}function ZM(t){return t.type.prototype.ngOnChanges&&(t.setInput=NQ),TQ}function TQ(){const t=tw(this),e=t?.current;if(e){const n=t.previous;if(n===L1)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function NQ(t,e,n,r){const i=this.declaredInputs[n],s=tw(t)||function kQ(t,e){return t[ew]=e}(t,{previous:L1,current:null}),a=s.current||(s.current={}),c=s.previous,o=c[i];a[i]=new AQ(o&&o.currentValue,e,c===L1),t[r]=e}n1.ngInherit=!0;const ew="__ngSimpleChanges__";function tw(t){return t[ew]||null}const N1=function(t,e,n){};function Ee(t){for(;Array.isArray(t);)t=t[ot];return t}function Ro(t,e){return Ee(e[t])}function D2(t,e){return Ee(e[t.index])}function iw(t,e){return t.data[e]}function n4(t,e){return t[e]}function $2(t,e){const n=e[t];return I2(n)?n:n[ot]}function tr(t,e){return null==e?null:t[e]}function sw(t){t[e4]=0}function jQ(t){1024&t[re]||(t[re]|=1024,cw(t,1))}function aw(t){1024&t[re]&&(t[re]&=-1025,cw(t,-1))}function cw(t,e){let n=t[qe];if(null===n)return;n[u3]+=e;let r=n;for(n=n[qe];null!==n&&(1===e&&1===r[u3]||-1===e&&0===r[u3]);)n[u3]+=e,r=n,n=n[qe]}const Y={lFrame:_w(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function uw(){return Y.bindingsEnabled}function r4(){return null!==Y.skipHydrationRootTNode}function V(){return Y.lFrame.lView}function he(){return Y.lFrame.tView}function _1(t){return Y.lFrame.contextLView=t,t[lt]}function y1(t){return Y.lFrame.contextLView=null,t}function Gt(){let t=fw();for(;null!==t&&64===t.type;)t=t.parent;return t}function fw(){return Y.lFrame.currentTNode}function k1(t,e){const n=Y.lFrame;n.currentTNode=t,n.isParent=e}function a7(){return Y.lFrame.isParent}function c7(){Y.lFrame.isParent=!1}function _2(){const t=Y.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function i4(){return Y.lFrame.bindingIndex++}function fn(t){const e=Y.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tY(t,e){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=t,o7(e)}function o7(t){Y.lFrame.currentDirectiveIndex=t}function u7(t){Y.lFrame.currentQueryIndex=t}function rY(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[n2]:null}function gw(t,e,n){if(n&le.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&le.Host||(i=rY(s),null===i||(s=s[Zi],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Y.lFrame=vw();return r.currentTNode=e,r.lView=t,!0}function f7(t){const e=vw(),n=t[k];Y.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function vw(){const t=Y.lFrame,e=null===t?null:t.child;return null===e?_w(t):e}function _w(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function yw(){const t=Y.lFrame;return Y.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Cw=yw;function d7(){const t=yw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function y2(){return Y.lFrame.selectedIndex}function Wr(t){Y.lFrame.selectedIndex=t}function Ke(){const t=Y.lFrame;return iw(t.tView,t.selectedIndex)}let ww=!0;function Oo(){return ww}function nr(t){ww=t}function Fo(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:o,ngAfterViewChecked:l,ngOnDestroy:u}=s;a&&(t.contentHooks??=[]).push(-n,a),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),o&&(t.viewHooks??=[]).push(-n,o),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Bo(t,e,n){Vw(t,e,3,n)}function Uo(t,e,n,r){(3&t[re])===n&&Vw(t,e,n,r)}function h7(t,e){let n=t[re];(3&n)===e&&(n&=8191,n+=1,t[re]=n)}function Vw(t,e,n,r){const s=r??-1,a=e.length-1;let c=0;for(let o=void 0!==r?65535&t[e4]:0;o<a;o++)if("number"==typeof e[o+1]){if(c=e[o],null!=r&&c>=r)break}else e[o]<0&&(t[e4]+=65536),(c<s||-1==s)&&(fY(t,n,e,o),t[e4]=(4294901760&t[e4])+o+2),o++}function bw(t,e){N1(4,t,e);const n=At(null);try{e.call(t)}finally{At(n),N1(5,t,e)}}function fY(t,e,n,r){const i=n[r]<0,s=n[r+1],c=t[i?-n[r]:n[r]];i?t[re]>>13<t[e4]>>16&&(3&t[re])===e&&(t[re]+=8192,bw(c,s)):bw(c,s)}const s4=-1;class g3{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function m7(t){return t!==s4}function v3(t){return 32767&t}function _3(t,e){let n=function mY(t){return t>>16}(t),r=e;for(;n>0;)r=r[Zi],n--;return r}let g7=!0;function jo(t){const e=g7;return g7=t,e}const Hw=255,zw=5;let gY=0;const P1={};function $o(t,e){const n=Sw(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,v7(r.data,t),v7(e,null),v7(r.blueprint,null));const i=qo(t,e),s=t.injectorIndex;if(m7(i)){const a=v3(i),c=_3(i,e),o=c[k].data;for(let l=0;l<8;l++)e[s+l]=c[a+l]|o[a+l]}return e[s+8]=i,s}function v7(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Sw(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qo(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Tw(i),null===r)return s4;if(n++,i=i[Zi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return s4}function _7(t,e,n){!function vY(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(c3)&&(r=n[c3]),null==r&&(r=n[c3]=gY++);const i=r&Hw;e.data[t+(i>>zw)]|=1<<i}(t,e,n)}function xw(t,e,n){if(n&le.Optional||void 0!==t)return t;F5()}function Ew(t,e,n,r){if(n&le.Optional&&void 0===r&&(r=null),!(n&(le.Self|le.Host))){const i=t[Zn],s=E2(void 0);try{return i?i.get(e,r,n&le.Optional):HM(e,r,n&le.Optional)}finally{E2(s)}}return xw(r,0,n)}function Iw(t,e,n,r=le.Default,i){if(null!==t){if(2048&e[re]&&!(r&le.Self)){const a=function VY(t,e,n,r,i){let s=t,a=e;for(;null!==s&&null!==a&&2048&a[re]&&!(512&a[re]);){const c=Lw(s,a,n,r|le.Self,P1);if(c!==P1)return c;let o=s.parent;if(!o){const l=a[jM];if(l){const u=l.get(n,P1,r);if(u!==P1)return u}o=Tw(a),a=a[Zi]}s=o}return i}(t,e,n,r,P1);if(a!==P1)return a}const s=Lw(t,e,n,r,P1);if(s!==P1)return s}return Ew(e,n,r,i)}function Lw(t,e,n,r,i){const s=function CY(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(c3)?t[c3]:void 0;return"number"==typeof e?e>=0?e&Hw:wY:e}(n);if("function"==typeof s){if(!gw(e,t,r))return r&le.Host?xw(i,0,r):Ew(e,n,r,i);try{let a;if(a=s(r),null!=a||r&le.Optional)return a;F5()}finally{Cw()}}else if("number"==typeof s){let a=null,c=Sw(t,e),o=s4,l=r&le.Host?e[ut][n2]:null;for((-1===c||r&le.SkipSelf)&&(o=-1===c?qo(t,e):e[c+8],o!==s4&&Aw(r,!1)?(a=e[k],c=v3(o),e=_3(o,e)):c=-1);-1!==c;){const u=e[k];if(Dw(s,c,u.data)){const f=yY(c,e,n,a,r,l);if(f!==P1)return f}o=e[c+8],o!==s4&&Aw(r,e[k].data[c+8]===l)&&Dw(s,c,e)?(a=u,c=v3(o),e=_3(o,e)):c=-1}}return i}function yY(t,e,n,r,i,s){const a=e[k],c=a.data[t+8],u=function Go(t,e,n,r,i){const s=t.providerIndexes,a=e.data,c=1048575&s,o=t.directiveStart,u=s>>20,d=i?c+u:t.directiveEnd;for(let h=r?c:c+u;h<d;h++){const p=a[h];if(h<o&&n===p||h>=o&&p.type===n)return h}if(i){const h=a[o];if(h&&v1(h)&&h.type===n)return o}return null}(c,a,n,null==r?qr(c)&&g7:r!=a&&0!=(3&c.type),i&le.Host&&s===c);return null!==u?Kr(e,a,u,c):P1}function Kr(t,e,n,r){let i=t[n];const s=e.data;if(function dY(t){return t instanceof g3}(i)){const a=i;a.resolving&&function UK(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ce(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(s[n]));const c=jo(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?E2(a.injectImpl):null;gw(t,r,le.Default);try{i=t[n]=a.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function uY(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const a=ZM(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&E2(l),jo(c),a.resolving=!1,Cw()}}return i}function Dw(t,e,n){return!!(n[e+(t>>zw)]&1<<t)}function Aw(t,e){return!(t&le.Self||t&le.Host&&e)}class C2{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Iw(this._tNode,this._lView,e,So(r),n)}}function wY(){return new C2(Gt(),V())}function y7(t){return R5(t)?()=>{const e=y7(X(t));return e&&e()}:Gr(t)}function Tw(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[n2]:null}const c4="__parameters__";function l4(t,e,n){return cn(()=>{const r=function M7(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return c.annotation=a,c;function c(o,l,u){const f=o.hasOwnProperty(c4)?o[c4]:Object.defineProperty(o,c4,{value:[]})[c4];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(a),o}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function f4(t,e){t.forEach(n=>Array.isArray(n)?f4(n,e):e(n))}function kw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Wo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function M3(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function q2(t,e,n){let r=d4(t,e);return r>=0?t[1|r]=n:(r=~r,function IY(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function w7(t,e){const n=d4(t,e);if(n>=0)return t[1|n]}function d4(t,e){return function Pw(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),a=t[s<<n];if(e===a)return s<<n;a>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const s2=a3(l4("Optional"),8),b7=a3(l4("SkipSelf"),4);function Zo(t){return 128==(128&t.flags)}var rr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(rr||{});const XY=/^>|^->|<!--|-->|--!>|<!-$/g,JY=/(<|>)/,ZY="\u200b$1\u200b";const x7=new Map;let eX=0;const I7="__ngContext__";function a2(t,e){I2(e)?(t[I7]=e[h3],function nX(t){x7.set(t[h3],t)}(e)):t[I7]=e}let L7;function D7(t,e){return L7(t,e)}function b3(t){const e=t[qe];return L2(e)?e[qe]:e}function rV(t){return sV(t[f3])}function iV(t){return sV(t[g1])}function sV(t){for(;null!==t&&!L2(t);)t=t[g1];return t}function m4(t,e,n,r,i){if(null!=r){let s,a=!1;L2(r)?s=r:I2(r)&&(a=!0,r=r[ot]);const c=Ee(r);0===t&&null!==n?null==i?lV(e,n,c):Qr(e,n,c,i||null,!0):1===t&&null!==n?Qr(e,n,c,i||null,!0):2===t?function a6(t,e,n){const r=i6(t,e);r&&function MX(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,c,a):3===t&&e.destroyNode(c),null!=s&&function bX(t,e,n,r,i){const s=n[A1];s!==Ee(n)&&m4(e,t,r,s,i);for(let c=qt;c<n.length;c++){const o=n[c];z3(o[k],o,t,e,r,s)}}(e,t,s,n,i)}}function A7(t,e){return t.createComment(function Qw(t){return t.replace(XY,e=>e.replace(JY,ZY))}(e))}function n6(t,e,n){return t.createElement(e,n)}function cV(t,e){const n=t[t4],r=n.indexOf(e);aw(e),n.splice(r,1)}function r6(t,e){if(t.length<=qt)return;const n=qt+e,r=t[n];if(r){const i=r[d3];null!==i&&i!==t&&cV(i,r),e>0&&(t[n-1][g1]=r[g1]);const s=Wo(t,qt+e);!function hX(t,e){z3(t,e,e[te],2,null,null),e[ot]=null,e[n2]=null}(r[k],r);const a=s[D1];null!==a&&a.detachView(s[k]),r[qe]=null,r[g1]=null,r[re]&=-129}return r}function T7(t,e){if(!(256&e[re])){const n=e[te];e[Lo]?.destroy(),e[Do]?.destroy(),n.destroyNode&&z3(t,e,n,3,null,null),function gX(t){let e=t[f3];if(!e)return N7(t[k],t);for(;e;){let n=null;if(I2(e))n=e[f3];else{const r=e[qt];r&&(n=r)}if(!n){for(;e&&!e[g1]&&e!==t;)I2(e)&&N7(e[k],e),e=e[qe];null===e&&(e=t),I2(e)&&N7(e[k],e),n=e&&e[g1]}e=n}}(e)}}function N7(t,e){if(!(256&e[re])){e[re]&=-129,e[re]|=256,function CX(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof g3)){const s=n[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const c=i[s[a]],o=s[a+1];N1(4,c,o);try{o.call(c)}finally{N1(5,c,o)}}else{N1(4,i,s);try{s.call(i)}finally{N1(5,i,s)}}}}}(t,e),function yX(t,e){const n=t.cleanup,r=e[Xi];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Xi]=null);const i=e[er];if(null!==i){e[er]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[te].destroy();const n=e[d3];if(null!==n&&L2(e[qe])){n!==e[qe]&&cV(n,e);const r=e[D1];null!==r&&r.detachView(t)}!function rX(t){x7.delete(t[h3])}(e)}}function k7(t,e,n){return function oV(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ot];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===p1.None||s===p1.Emulated)return null}return D2(r,n)}}(t,e.parent,n)}function Qr(t,e,n,r,i){t.insertBefore(e,n,r,i)}function lV(t,e,n){t.appendChild(e,n)}function uV(t,e,n,r,i){null!==r?Qr(t,e,n,r,i):lV(t,e,n)}function i6(t,e){return t.parentNode(e)}function fV(t,e,n){return hV(t,e,n)}let P7,c6,B7,o6,hV=function dV(t,e,n){return 40&t.type?D2(t,n):null};function s6(t,e,n,r){const i=k7(t,r,e),s=e[te],c=fV(r.parent||e[n2],r,e);if(null!=i)if(Array.isArray(n))for(let o=0;o<n.length;o++)uV(s,i,n[o],c,!1);else uV(s,i,n,c,!1);void 0!==P7&&P7(s,r,e,n,i)}function H3(t,e){if(null!==e){const n=e.type;if(3&n)return D2(e,t);if(4&n)return R7(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return H3(t,r);{const i=t[e.index];return L2(i)?R7(-1,i):Ee(i)}}if(32&n)return D7(e,t)()||Ee(t[e.index]);{const r=mV(t,e);return null!==r?Array.isArray(r)?r[0]:H3(b3(t[ut]),r):H3(t,e.next)}}return null}function mV(t,e){return null!==e?t[ut][n2].projection[e.projection]:null}function R7(t,e){const n=qt+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return H3(r,i)}return e[A1]}function O7(t,e,n,r,i,s,a){for(;null!=n;){const c=r[n.index],o=n.type;if(a&&0===e&&(c&&a2(Ee(c),r),n.flags|=2),32!=(32&n.flags))if(8&o)O7(t,e,n.child,r,i,s,!1),m4(e,t,i,c,s);else if(32&o){const l=D7(n,r);let u;for(;u=l();)m4(e,t,i,u,s);m4(e,t,i,c,s)}else 16&o?vV(t,e,r,n,i,s):m4(e,t,i,c,s);n=a?n.projectionNext:n.next}}function z3(t,e,n,r,i,s){O7(n,r,t.firstChild,e,i,s,!1)}function vV(t,e,n,r,i,s){const a=n[ut],o=a[n2].projection[r.projection];if(Array.isArray(o))for(let l=0;l<o.length;l++)m4(e,t,i,o[l],s);else{let l=o;const u=a[qe];Zo(r)&&(l.flags|=128),O7(t,e,l,u,i,s,!0)}}function _V(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function yV(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&X5(t,e,r),null!==i&&_V(t,e,i),null!==s&&function zX(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function g4(t){return function F7(){if(void 0===c6&&(c6=null,ze.trustedTypes))try{c6=ze.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return c6}()?.createHTML(t)||t}function v4(){if(void 0!==B7)return B7;if(typeof document<"u")return document;throw new S(210,!1)}function CV(t){return function U7(){if(void 0===o6&&(o6=null,ze.trustedTypes))try{o6=ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return o6}()?.createHTML(t)||t}class Yr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${MM})`}}class LX extends Yr{getTypeName(){return"HTML"}}class DX extends Yr{getTypeName(){return"Style"}}class AX extends Yr{getTypeName(){return"Script"}}class TX extends Yr{getTypeName(){return"URL"}}class NX extends Yr{getTypeName(){return"ResourceURL"}}function G2(t){return t instanceof Yr?t.changingThisBreaksApplicationSecurity:t}function R1(t,e){const n=function kX(t){return t instanceof Yr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${MM})`)}return n===e}class UX{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(g4(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class jX{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=g4(e),n}}const qX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function l6(t){return(t=String(t)).match(qX)?t:"unsafe:"+t}function dn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function S3(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const bV=dn("area,br,col,hr,img,wbr"),HV=dn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zV=dn("rp,rt"),j7=S3(bV,S3(HV,dn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),S3(zV,dn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),S3(zV,HV)),$7=dn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SV=S3($7,dn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),GX=dn("script,style,template");class WX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!j7.hasOwnProperty(n))return this.sanitizedSomething=!0,!GX.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),a=s.name,c=a.toLowerCase();if(!SV.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let o=s.value;$7[c]&&(o=l6(o)),this.buf.push(" ",a,'="',xV(o),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();j7.hasOwnProperty(n)&&!bV.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(xV(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const KX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QX=/([^\#-~ |!])/g;function xV(t){return t.replace(/&/g,"&amp;").replace(KX,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(QX,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let u6;function EV(t,e){let n=null;try{u6=u6||function VV(t){const e=new jX(t);return function $X(){try{return!!(new window.DOMParser).parseFromString(g4(""),"text/html")}catch{return!1}}()?new UX(e):e}(t);let r=e?String(e):"";n=u6.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=u6.getInertBodyElement(r)}while(r!==s);return g4((new WX).sanitizeChildren(q7(n)||n))}finally{if(n){const r=q7(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function q7(t){return"content"in t&&function YX(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var i1=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(i1||{});function IV(t){const e=x3();return e?CV(e.sanitize(i1.HTML,t)||""):R1(t,"HTML")?CV(G2(t)):EV(v4(),ee(t))}function G7(t){const e=x3();return e?e.sanitize(i1.URL,t)||"":R1(t,"URL")?G2(t):l6(ee(t))}function x3(){const t=V();return t&&t[Ji].sanitizer}class q{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const f6=new q("ENVIRONMENT_INITIALIZER"),DV=new q("INJECTOR",-1),AV=new q("INJECTOR_DEF_TYPES");class W7{get(e,n=s3){if(n===s3){const r=new Error(`NullInjectorError: No provider for ${Vt(e)}!`);throw r.name="NullInjectorError",r}return n}}function rJ(...t){return{\u0275providers:NV(0,t),\u0275fromNgModule:!0}}function NV(t,...e){const n=[],r=new Set;let i;const s=a=>{n.push(a)};return f4(e,a=>{const c=a;d6(c,s,[],r)&&(i||=[],i.push(c))}),void 0!==i&&kV(i,s),n}function kV(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];K7(i,s=>{e(s,r)})}}function d6(t,e,n,r){if(!(t=X(t)))return!1;let i=null,s=bo(t);const a=!s&&de(t);if(s||a){if(a&&!a.standalone)return!1;i=t}else{const o=t.ngModule;if(s=bo(o),!s)return!1;i=o}const c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){const o="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of o)d6(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let l;r.add(i);try{f4(s.imports,u=>{d6(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&kV(l,e)}if(!c){const l=Gr(i)||(()=>new i);e({provide:i,useFactory:l,deps:ve},i),e({provide:AV,useValue:i,multi:!0},i),e({provide:f6,useValue:()=>ae(i),multi:!0},i)}const o=s.providers;if(null!=o&&!c){const l=t;K7(o,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function K7(t,e){for(let n of t)O5(n)&&(n=n.\u0275providers),Array.isArray(n)?K7(n,e):e(n)}const iJ=Me({provide:String,useValue:Me});function Q7(t){return null!==t&&"object"==typeof t&&iJ in t}function Xr(t){return"function"==typeof t}const Y7=new q("Set Injector scope."),h6={},aJ={};let X7;function p6(){return void 0===X7&&(X7=new W7),X7}class hn{}class m6 extends hn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Z7(e,a=>this.processProvider(a)),this.records.set(DV,_4(void 0,this)),i.has("environment")&&this.records.set(hn,_4(void 0,this));const s=this.records.get(Y7);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(AV.multi,ve,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Jn(this),r=E2(void 0);try{return e()}finally{Jn(n),E2(r)}}get(e,n=s3,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(IM))return e[IM](this);r=So(r);const s=Jn(this),a=E2(void 0);try{if(!(r&le.SkipSelf)){let o=this.records.get(e);if(void 0===o){const l=function fJ(t){return"function"==typeof t||"object"==typeof t&&t instanceof q}(e)&&Vo(e);o=l&&this.injectableDefInScope(l)?_4(J7(e),h6):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(r&le.Self?p6():this.parent).get(e,n=r&le.Optional&&n===s3?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[zo]=c[zo]||[]).unshift(Vt(e)),s)throw c;return function nQ(t,e,n,r){const i=t[zo];throw e[SM]&&i.unshift(e[SM]),t.message=function rQ(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Vt(e);if(Array.isArray(e))i=e.map(Vt).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];s.push(a+":"+("string"==typeof c?JSON.stringify(c):Vt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(XK,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[zo]=null,t}(c,e,"R3InjectorError",this.source)}throw c}finally{E2(a),Jn(s)}}resolveInjectorInitializers(){const e=Jn(this),n=E2(void 0);try{const i=this.get(f6.multi,ve,le.Self);for(const s of i)s()}finally{Jn(e),E2(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=Xr(e=X(e))?e:X(e&&e.provide);const r=function oJ(t){return Q7(t)?_4(void 0,t.useValue):_4(OV(t),h6)}(e);if(Xr(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=_4(void 0,h6,!0),i.factory=()=>K5(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===h6&&(n.value=aJ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function uJ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=X(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function J7(t){const e=Vo(t),n=null!==e?e.factory:Gr(t);if(null!==n)return n;if(t instanceof q)throw new S(204,!1);if(t instanceof Function)return function cJ(t){const e=t.length;if(e>0)throw M3(e,"?"),new S(204,!1);const n=function WK(t){return t&&(t[Ho]||t[VM])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function OV(t,e,n){let r;if(Xr(t)){const i=X(t);return Gr(i)||J7(i)}if(Q7(t))r=()=>X(t.useValue);else if(function RV(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...K5(t.deps||[]));else if(function PV(t){return!(!t||!t.useExisting)}(t))r=()=>ae(X(t.useExisting));else{const i=X(t&&(t.useClass||t.provide));if(!function lJ(t){return!!t.deps}(t))return Gr(i)||J7(i);r=()=>new i(...K5(t.deps))}return r}function _4(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Z7(t,e){for(const n of t)Array.isArray(n)?Z7(n,e):n&&O5(n)?Z7(n.\u0275providers,e):e(n)}const g6=new q("AppId",{providedIn:"root",factory:()=>dJ}),dJ="ng",FV=new q("Platform Initializer"),pn=new q("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),BV=new q("CSP nonce",{providedIn:"root",factory:()=>v4().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let jV=(t,e,n)=>null;function au(t,e,n=!1){return jV(t,e,n)}class wJ{}class GV{}class bJ{resolveComponentFactory(e){throw function VJ(t){const e=Error(`No component factory found for ${Vt(t)}.`);return e.ngComponent=t,e}(e)}}let w6=(()=>{class e{}return e.NULL=new bJ,e})();function HJ(){return C4(Gt(),V())}function C4(t,e){return new T2(D2(t,e))}let T2=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=HJ,e})();class KV{}let mn=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function SJ(){const t=V(),n=$2(Gt().index,t);return(I2(n)?n:t)[te]}(),e})(),xJ=(()=>{var t;class e{}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:()=>null}),e})();class D3{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const QV=new D3("16.2.1"),lu={};function ZV(t,e=null,n=null,r){const i=eb(t,e,n,r);return i.resolveInjectorInitializers(),i}function eb(t,e=null,n=null,r,i=new Set){const s=[n||ve,rJ(t)];return r=r||("object"==typeof t?void 0:Vt(t)),new m6(s,e||p6(),r||null,i)}let c2=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return ZV({name:""},i,r,"");{const s=r.name??"";return ZV({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=s3,t.NULL=new W7,t.\u0275prov=J({token:t,providedIn:"any",factory:()=>ae(DV)}),t.__NG_ELEMENT_ID__=-1,e})();let du=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new S(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:()=>new t}),e})();function A3(t){for(;t;){t[re]|=64;const e=b3(t);if(e7(t)&&!e)return t;t=e}return null}function hu(t){return t.ngOriginalError}class Jr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&hu(e);for(;n&&hu(n);)n=hu(n);return n||null}}const sb=new q("",{providedIn:"root",factory:()=>!1});class lb extends QM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){A3(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=At(this);this.trackingVersion++;try{e(n,r)}finally{At(i)}}destroy(){this.trackingVersion++}}let b6=null;function ub(){return b6??=new lb,b6}function fb(t,e){return t[e]??ub()}function db(t,e){const n=ub();n.hasReadASignal&&(t[e]=b6,n.lView=t,b6=new lb)}const ie={};function L(t){hb(he(),V(),y2()+t,!1)}function hb(t,e,n,r){if(!r)if(3==(3&e[re])){const s=t.preOrderCheckHooks;null!==s&&Bo(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Uo(e,s,0,n)}Wr(n)}function z(t,e=le.Default){const n=V();return null===n?ae(t,e):Iw(Gt(),n,X(t),e)}function H6(t,e,n,r,i,s,a,c,o,l,u){const f=e.blueprint.slice();return f[ot]=i,f[re]=140|r,(null!==l||t&&2048&t[re])&&(f[re]|=2048),sw(f),f[qe]=f[Zi]=t,f[lt]=n,f[Ji]=a||t&&t[Ji],f[te]=c||t&&t[te],f[Zn]=o||t&&t[Zn]||null,f[n2]=s,f[h3]=function tX(){return eX++}(),f[ln]=u,f[jM]=l,f[ut]=2==e.type?t[ut]:f,f}function V4(t,e,n,r,i){let s=t.data[e];if(null===s)s=function pu(t,e,n,r,i){const s=fw(),a=a7(),o=t.data[e]=function JJ(t,e,n,r,i,s){let a=e?e.injectorIndex:-1,c=0;return r4()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=o),null!==s&&(a?null==s.child&&null!==o.parent&&(s.child=o):null===s.next&&(s.next=o,o.prev=s)),o}(t,e,n,r,i),function eY(){return Y.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const a=function m3(){const t=Y.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return k1(s,!0),s}function T3(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function pb(t,e,n,r,i){const s=fb(e,Lo),a=y2(),c=2&r;try{if(Wr(-1),c&&e.length>ce&&hb(t,e,ce,!1),N1(c?2:0,i),c)s.runInContext(n,r,i);else{const l=At(null);try{n(r,i)}finally{At(l)}}}finally{c&&null===e[Lo]&&db(e,Lo),Wr(a),N1(c?3:1,i)}}function mu(t,e,n){if(Z5(e)){const r=At(null);try{const s=e.directiveEnd;for(let a=e.directiveStart;a<s;a++){const c=t.data[a];c.contentQueries&&c.contentQueries(1,n[a],a)}}finally{At(r)}}}function gu(t,e,n){uw()&&(function sZ(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;qr(n)&&function dZ(t,e,n){const r=D2(e,t),i=mb(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const c=z6(t,H6(t,i,null,a,r,e,null,t[Ji].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=c}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$o(n,e),a2(r,e);const a=n.initialInputs;for(let c=i;c<s;c++){const o=t.data[c],l=Kr(e,t,c,n);a2(l,e),null!==a&&hZ(0,c-i,l,o,0,a),v1(o)&&($2(n.index,e)[lt]=Kr(e,t,c,n))}}(t,e,n,D2(n,e)),64==(64&n.flags)&&Cb(t,e,n))}function vu(t,e,n=D2){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],c=-1===a?n(e,t):t[a];t[i++]=c}}}function mb(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=_u(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _u(t,e,n,r,i,s,a,c,o,l,u){const f=ce+r,d=f+i,h=function GJ(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ie);return n}(f,d),p="function"==typeof l?l():l;return h[k]={type:t,blueprint:h,template:n,queries:null,viewQuery:c,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:o,consts:p,incompleteFirstPass:!1,ssrId:u}}let gb=t=>null;function vb(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?_b(n,e,i,s):r.hasOwnProperty(i)&&_b(n,e,r[i],s)}return n}function _b(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function W2(t,e,n,r,i,s,a,c){const o=D2(e,n);let u,l=e.inputs;!c&&null!=l&&(u=l[r])?(Vu(t,n,u,r,i),qr(e)&&function tZ(t,e){const n=$2(e,t);16&n[re]||(n[re]|=64)}(n,e.index)):3&e.type&&(r=function eZ(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=a?a(i,e.value||"",r):i,s.setProperty(o,r,i))}function yu(t,e,n,r){if(uw()){const i=null===r?null:{"":-1},s=function cZ(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(PM(e,a.selectors,!1))if(r||(r=[]),v1(a))if(null!==a.findHostDirectiveDefs){const c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a),Cu(t,e,c.length)}else r.unshift(a),Cu(t,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(t,n);let a,c;null===s?a=c=null:[a,c]=s,null!==a&&yb(t,e,n,a,i,c),i&&function oZ(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=o3(n.mergedAttrs,n.attrs)}function yb(t,e,n,r,i,s){for(let l=0;l<r.length;l++)_7($o(n,e),t,r[l].type);!function uZ(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let a=!1,c=!1,o=T3(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=o3(n.mergedAttrs,u.hostAttrs),fZ(t,n,e,o,u),lZ(o,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),a=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),o++}!function ZJ(t,e,n){const i=e.directiveEnd,s=t.data,a=e.attrs,c=[];let o=null,l=null;for(let u=e.directiveStart;u<i;u++){const f=s[u],d=n?n.get(f):null,p=d?d.outputs:null;o=vb(f.inputs,u,o,d?d.inputs:null),l=vb(f.outputs,u,l,p);const g=null===o||null===a||kM(e)?null:pZ(o,u,a);c.push(g)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=8),o.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=o,e.outputs=l}(t,n,s)}function Cb(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=function nY(){return Y.lFrame.currentDirectiveIndex}();try{Wr(s);for(let c=r;c<i;c++){const o=t.data[c],l=e[c];o7(c),(null!==o.hostBindings||0!==o.hostVars||null!==o.hostAttrs)&&aZ(o,l)}}finally{Wr(-1),o7(a)}}function aZ(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Cu(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function lZ(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;v1(e)&&(n[""]=t)}}function fZ(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Gr(i.type)),a=new g3(s,v1(i),z);t.blueprint[r]=a,n[r]=a,function rZ(t,e,n,r,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~e.index;(function iZ(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=c&&a.push(c),a.push(n,r,s)}}(t,e,r,T3(t,n,i.hostVars,ie),i)}function O1(t,e,n,r,i,s){const a=D2(t,e);!function Mu(t,e,n,r,i,s,a){if(null==s)t.removeAttribute(e,i,n);else{const c=null==a?ee(s):a(s,r||"",i);t.setAttribute(e,i,c,n)}}(e[te],a,s,t.value,n,r,i)}function hZ(t,e,n,r,i,s){const a=s[e];if(null!==a)for(let c=0;c<a.length;)Mb(r,n,a[c++],a[c++],a[c++])}function Mb(t,e,n,r,i){const s=At(null);try{const a=t.inputTransforms;null!==a&&a.hasOwnProperty(r)&&(i=a[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{At(s)}}function pZ(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const a=t[s];for(let c=0;c<a.length;c+=2)if(a[c]===e){r.push(s,a[c+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function wb(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function Vb(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const a=t.data[s];u7(n[r]),a.contentQueries(2,e[s],s)}}}function z6(t,e){return t[f3]?t[UM][g1]=e:t[f3]=e,t[UM]=e,e}function wu(t,e,n){u7(0);const r=At(null);try{e(t,n)}finally{At(r)}}function Sb(t,e){const n=t[Zn],r=n?n.get(Jr,null):null;r&&r.handleError(e)}function Vu(t,e,n,r,i){for(let s=0;s<n.length;){const a=n[s++],c=n[s++];Mb(t.data[a],e[a],r,c,i)}}function mZ(t,e){const n=$2(e,t),r=n[k];!function gZ(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ot];null!==i&&null===n[ln]&&(n[ln]=au(i,n[Zn])),bu(r,n,n[lt])}function bu(t,e,n){f7(e);try{const r=t.viewQuery;null!==r&&wu(1,r,n);const i=t.template;null!==i&&pb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Vb(t,e),t.staticViewQueries&&wu(2,t.viewQuery,n);const s=t.components;null!==s&&function vZ(t,e){for(let n=0;n<e.length;n++)mZ(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,d7()}}let xb=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const a=typeof Zone>"u"?null:Zone.current,c=new DQ(r,u=>{this.all.has(u)&&this.queue.set(u,a)},s);let o;this.all.add(c),c.notify();const l=()=>{c.cleanup(),o?.(),this.all.delete(c),this.queue.delete(c)};return o=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:()=>new t}),e})();function S6(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const c=e[a];"number"==typeof c?s=c:1==s?i=P5(i,c):2==s&&(r=P5(r,c+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function N3(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ee(s)),L2(s)){for(let c=qt;c<s.length;c++){const o=s[c],l=o[k].firstChild;null!==l&&N3(o[k],o,l,r)}s[A1]!==s[ot]&&r.push(s[A1])}const a=n.type;if(8&a)N3(t,e,n.child,r);else if(32&a){const c=D7(n,e);let o;for(;o=c();)r.push(o)}else if(16&a){const c=mV(e,n);if(Array.isArray(c))r.push(...c);else{const o=b3(e[ut]);N3(o[k],o,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function x6(t,e,n,r=!0){const i=e[Ji],s=i.rendererFactory,a=i.afterRenderEventManager;s.begin?.(),a?.begin();try{Eb(t,e,t.template,n)}catch(o){throw r&&Sb(e,o),o}finally{s.end?.(),i.effectManager?.flush(),a?.end()}}function Eb(t,e,n,r){const i=e[re];if(256!=(256&i)){e[Ji].effectManager?.flush(),f7(e);try{sw(e),function hw(t){return Y.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&pb(t,e,n,2,r);const a=3==(3&i);if(a){const l=t.preOrderCheckHooks;null!==l&&Bo(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Uo(e,l,0,null),h7(e,0)}if(function CZ(t){for(let e=rV(t);null!==e;e=iV(e)){if(!e[$M])continue;const n=e[t4];for(let r=0;r<n.length;r++){jQ(n[r])}}}(e),Ib(e,2),null!==t.contentQueries&&Vb(t,e),a){const l=t.contentCheckHooks;null!==l&&Bo(e,l)}else{const l=t.contentHooks;null!==l&&Uo(e,l,1),h7(e,1)}!function qJ(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=fb(e,Do);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Wr(~s);else{const a=s,c=n[++i],o=n[++i];tY(c,a),r.runInContext(o,2,e[a])}}}finally{null===e[Do]&&db(e,Do),Wr(-1)}}(t,e);const c=t.components;null!==c&&Db(e,c,0);const o=t.viewQuery;if(null!==o&&wu(2,o,r),a){const l=t.viewCheckHooks;null!==l&&Bo(e,l)}else{const l=t.viewHooks;null!==l&&Uo(e,l,2),h7(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[re]&=-73,aw(e)}finally{d7()}}}function Ib(t,e){for(let n=rV(t);null!==n;n=iV(n))for(let r=qt;r<n.length;r++)Lb(n[r],e)}function MZ(t,e,n){Lb($2(e,t),n)}function Lb(t,e){if(!function BQ(t){return 128==(128&t[re])}(t))return;const n=t[k];if(80&t[re]&&0===e||1024&t[re]||2===e)Eb(n,t,n.template,t[lt]);else if(t[u3]>0){Ib(t,1);const i=t[k].components;null!==i&&Db(t,i,1)}}function Db(t,e,n){for(let r=0;r<e.length;r++)MZ(t,e[r],n)}class k3{get rootNodes(){const e=this._lView,n=e[k];return N3(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lt]}set context(e){this._lView[lt]=e}get destroyed(){return 256==(256&this._lView[re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qe];if(L2(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(r6(e,r),Wo(n,r))}this._attachedToViewContainer=!1}T7(this._lView[k],this._lView)}onDestroy(e){!function ow(t,e){if(256==(256&t[re]))throw new S(911,!1);null===t[er]&&(t[er]=[]),t[er].push(e)}(this._lView,e)}markForCheck(){A3(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){this._lView[re]|=128}detectChanges(){x6(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mX(t,e){z3(t,e,e[te],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class wZ extends k3{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;x6(e[k],e,e[lt],!1)}checkNoChanges(){}get context(){return null}}class Ab extends w6{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=de(e);return new P3(n,this.ngModule)}}function Tb(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class bZ{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=So(r);const i=this.injector.get(e,lu,r);return i!==lu||n===lu?i:this.parentInjector.get(e,n,r)}}class P3 extends GV{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=Tb(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Tb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function hQ(t){return t.map(dQ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof hn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new bZ(e,s):e,c=a.get(KV,null);if(null===c)throw new S(407,!1);const f={rendererFactory:c,sanitizer:a.get(xJ,null),effectManager:a.get(xb,null),afterRenderEventManager:a.get(du,null)},d=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function WJ(t,e,n,r){const s=r.get(sb,!1)||n===p1.ShadowDom,a=t.selectRootElement(e,s);return function KJ(t){gb(t)}(a),a}(d,r,this.componentDef.encapsulation,a):n6(d,h,function VZ(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=au(p,a,!0));const w=_u(0,null,null,1,0,null,null,null,null,null,null),I=H6(null,w,null,C,null,null,f,d,a,null,_);let N,G;f7(I);try{const fe=this.componentDef;let wt,Lt=null;fe.findHostDirectiveDefs?(wt=[],Lt=new Map,fe.findHostDirectiveDefs(fe,wt,Lt),wt.push(fe)):wt=[fe];const lo=function zZ(t,e){const n=t[k],r=ce;return t[r]=e,V4(n,r,2,"#host",null)}(I,p),Dqe=function SZ(t,e,n,r,i,s,a){const c=i[k];!function xZ(t,e,n,r){for(const i of t)e.mergedAttrs=o3(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(S6(e,e.mergedAttrs,!0),null!==n&&yV(r,n,e))}(r,t,e,a);let o=null;null!==e&&(o=au(e,i[Zn]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=H6(i,mb(n),null,u,i[t.index],t,s,l,null,null,o);return c.firstCreatePass&&Cu(c,t,r.length-1),z6(i,f),i[t.index]=f}(lo,p,fe,wt,I,f,d);G=iw(w,ce),p&&function IZ(t,e,n,r){if(r)X5(t,n,["ng-version",QV.full]);else{const{attrs:i,classes:s}=function pQ(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!m1(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&X5(t,n,i),s&&s.length>0&&_V(t,n,s.join(" "))}}(d,fe,p,r),void 0!==n&&function LZ(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(G,this.ngContentSelectors,n),N=function EZ(t,e,n,r,i,s){const a=Gt(),c=i[k],o=D2(a,i);yb(c,i,a,n,null,r);for(let u=0;u<n.length;u++)a2(Kr(i,c,a.directiveStart+u,a),i);Cb(c,i,a),o&&a2(o,i);const l=Kr(i,c,a.directiveStart+a.componentOffset,a);if(t[lt]=i[lt]=l,null!==s)for(const u of s)u(l,e);return mu(c,a,t),l}(Dqe,fe,wt,Lt,I,[DZ]),bu(w,I,null)}finally{d7()}return new HZ(this.componentType,N,C4(G,I),I,G)}}class HZ extends wJ{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wZ(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Vu(s[k],s,i,e,n),this.previousInputValues.set(e,n),A3($2(this._tNode.index,s))}}get injector(){return new C2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function DZ(){const t=Gt();Fo(V()[k],t)}function we(t){let e=function Nb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(v1(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const a=t;a.inputs=E6(t.inputs),a.inputTransforms=E6(t.inputTransforms),a.declaredInputs=E6(t.declaredInputs),a.outputs=E6(t.outputs);const c=i.hostBindings;c&&kZ(t,c);const o=i.viewQuery,l=i.contentQueries;if(o&&TZ(t,o),l&&NZ(t,l),Mo(t.inputs,i.inputs),Mo(t.declaredInputs,i.declaredInputs),Mo(t.outputs,i.outputs),null!==i.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),Mo(a.inputTransforms,i.inputTransforms)),v1(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let a=0;a<s.length;a++){const c=s[a];c&&c.ngInherit&&c(t),c===we&&(n=!1)}}e=Object.getPrototypeOf(e)}!function AZ(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=o3(i.hostAttrs,n=o3(n,i.hostAttrs))}}(r)}function E6(t){return t===L1?{}:t===ve?[]:t}function TZ(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function NZ(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function kZ(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function I6(t){return!!Hu(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Hu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function F1(t,e,n){return t[e]=n}function o2(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Zr(t,e,n,r){const i=o2(t,e,n);return o2(t,e+1,r)||i}function B1(t,e,n,r){const i=V();return o2(i,i4(),e)&&(he(),O1(Ke(),i,t,e,n,r)),B1}function H4(t,e,n,r){return o2(t,i4(),n)?e+ee(n)+r:ie}function Tt(t,e,n,r,i,s,a,c){const o=V(),l=he(),u=t+ce,f=l.firstCreatePass?function oee(t,e,n,r,i,s,a,c,o){const l=e.consts,u=V4(e,t,4,a||null,tr(l,c));yu(e,n,u,tr(l,o)),Fo(e,u);const f=u.tView=_u(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,o,e,n,r,i,s,a):l.data[u];k1(f,!1);const d=Xb(l,o,f,t);Oo()&&s6(l,o,d,f),a2(d,o),z6(o,o[u]=wb(d,o,d,f)),To(f)&&gu(l,o,f),null!=a&&vu(o,f,c)}let Xb=function Jb(t,e,n,r){return nr(!0),e[te].createComment("")};function Lu(t){return n4(function ZQ(){return Y.lFrame.contextLView}(),ce+t)}function $(t,e,n){const r=V();return o2(r,i4(),e)&&W2(he(),Ke(),r,t,e,r[te],n,!1),$}function Du(t,e,n,r,i){const a=i?"class":"style";Vu(t,n,e.inputs[a],a,r)}function x(t,e,n,r){const i=V(),s=he(),a=ce+t,c=i[te],o=s.firstCreatePass?function dee(t,e,n,r,i,s){const a=e.consts,o=V4(e,t,2,r,tr(a,i));return yu(e,n,o,tr(a,s)),null!==o.attrs&&S6(o,o.attrs,!1),null!==o.mergedAttrs&&S6(o,o.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,o),o}(a,s,i,e,n,r):s.data[a],l=Zb(s,i,o,c,e,t);i[a]=l;const u=To(o);return k1(o,!0),yV(c,l,o),32!=(32&o.flags)&&Oo()&&s6(s,i,l,o),0===function qQ(){return Y.lFrame.elementDepthCount}()&&a2(l,i),function GQ(){Y.lFrame.elementDepthCount++}(),u&&(gu(s,i,o),mu(s,o,i)),null!==r&&vu(i,o),x}function P(){let t=Gt();a7()?c7():(t=t.parent,k1(t,!1));const e=t;(function KQ(t){return Y.skipHydrationRootTNode===t})(e)&&function JQ(){Y.skipHydrationRootTNode=null}(),function WQ(){Y.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(Fo(n,t),Z5(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function hY(t){return 0!=(8&t.flags)}(e)&&Du(n,e,V(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function pY(t){return 0!=(16&t.flags)}(e)&&Du(n,e,V(),e.stylesWithoutHost,!1),P}function Ve(t,e,n,r){return x(t,e,n,r),P(),Ve}let Zb=(t,e,n,r,i,s)=>(nr(!0),n6(r,i,function Mw(){return Y.lFrame.currentNamespace}()));function N6(t,e,n){const r=V(),i=he(),s=t+ce,a=i.firstCreatePass?function mee(t,e,n,r,i){const s=e.consts,a=tr(s,r),c=V4(e,t,8,"ng-container",a);return null!==a&&S6(c,a,!0),yu(e,n,c,tr(s,i)),null!==e.queries&&e.queries.elementStart(e,c),c}(s,i,r,e,n):i.data[s];k1(a,!0);const c=tH(i,r,a,t);return r[s]=c,Oo()&&s6(i,r,c,a),a2(c,r),To(a)&&(gu(i,r,a),mu(i,a,r)),null!=n&&vu(r,a),N6}function k6(){let t=Gt();const e=he();return a7()?c7():(t=t.parent,k1(t,!1)),e.firstCreatePass&&(Fo(e,t),Z5(t)&&e.queries.elementEnd(t)),k6}let tH=(t,e,n,r)=>(nr(!0),A7(e[te],""));function ei(){return V()}function P6(t){return!!t&&"function"==typeof t.then}function nH(t){return!!t&&"function"==typeof t.subscribe}function Qe(t,e,n,r){const i=V(),s=he(),a=Gt();return function iH(t,e,n,r,i,s,a){const c=To(r),l=t.firstCreatePass&&function Hb(t){return t.cleanup||(t.cleanup=[])}(t),u=e[lt],f=function bb(t){return t[Xi]||(t[Xi]=[])}(e);let d=!0;if(3&r.type||a){const g=D2(r,e),v=a?a(g):g,C=f.length,_=a?I=>a(Ee(I[r.index])):r.index;let w=null;if(!a&&c&&(w=function _ee(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===n&&i[s+1]===r){const c=e[Xi],o=i[s+2];return c.length>o?c[o]:null}"string"==typeof a&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,d=!1;else{s=aH(r,e,u,s,!1);const I=n.listen(v,i,s);f.push(s,I),l&&l.push(i,_,C,C+1)}}else s=aH(r,e,u,s,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const N=e[p[v]][p[v+1]].subscribe(s),G=f.length;f.push(s,N),l&&l.push(i,r.index,G,-(G+1))}}}(s,i,i[te],a,t,e,r),Qe}function sH(t,e,n,r){try{return N1(6,e,n),!1!==n(r)}catch(i){return Sb(t,i),!1}finally{N1(7,e,n)}}function aH(t,e,n,r,i){return function s(a){if(a===Function)return r;A3(t.componentOffset>-1?$2(t.index,e):e);let o=sH(e,n,r,a),l=s.__ngNextListenerFn__;for(;l;)o=sH(e,n,l,a)&&o,l=l.__ngNextListenerFn__;return i&&!1===o&&a.preventDefault(),o}}function et(t=1){return function iY(t){return(Y.lFrame.contextLView=function sY(t,e){for(;t>0;)e=e[Zi],t--;return e}(t,Y.lFrame.contextLView))[lt]}(t)}function yee(t,e){let n=null;const r=function oQ(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?PM(t,s,!0):fQ(r,s))return i}else n=i}return n}function U3(t,e,n){return Au(t,"",e,"",n),U3}function Au(t,e,n,r,i){const s=V(),a=H4(s,e,n,r);return a!==ie&&W2(he(),Ke(),s,t,a,s[te],i,!1),Au}function R6(t,e){return t<<17|e<<2}function ir(t){return t>>17&32767}function Tu(t){return 2|t}function ti(t){return(131068&t)>>2}function Nu(t,e){return-131069&t|e<<2}function ku(t){return 1|t}function vH(t,e,n,r,i){const s=t[n+1],a=null===e;let c=r?ir(s):ti(s),o=!1;for(;0!==c&&(!1===o||a);){const u=t[c+1];Hee(t[c],e)&&(o=!0,t[c+1]=r?ku(u):Tu(u)),c=r?ir(u):ti(u)}o&&(t[n+1]=r?Tu(s):ku(s))}function Hee(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&d4(t,e)>=0}const Ht={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _H(t){return t.substring(Ht.key,Ht.keyEnd)}function zee(t){return t.substring(Ht.value,Ht.valueEnd)}function CH(t,e){const n=Ht.textEnd;let r=Ht.key=A4(t,e,n);return n===r?-1:(r=Ht.keyEnd=function Iee(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=wH(t,r,n),r=Ht.value=A4(t,r,n),r=Ht.valueEnd=function Lee(t,e,n){let r=-1,i=-1,s=-1,a=e,c=a;for(;a<n;){const o=t.charCodeAt(a++);if(59===o)return c;34===o||39===o?c=a=VH(t,o,a,n):e===a-4&&85===s&&82===i&&76===r&&40===o?c=a=VH(t,41,a,n):o>32&&(c=a),s=i,i=r,r=-33&o}return c}(t,r,n),wH(t,r,n))}function A4(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function wH(t,e,n,r){return(e=A4(t,e,n))<n&&e++,e}function VH(t,e,n,r){let i=-1,s=n;for(;s<r;){const a=t.charCodeAt(s++);if(a==e&&92!==i)return s;i=92==a&&92===i?0:a}throw new Error}function j3(t,e){return function C1(t,e,n,r){const i=V(),s=he(),a=fn(2);s.firstUpdatePass&&zH(s,t,a,r),e!==ie&&o2(i,a,e)&&xH(s,s.data[y2()],i,i[te],t,i[a+1]=function Bee(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Vt(G2(t)))),t}(e,n),r,a)}(t,e,null,!0),j3}function Wt(t){!function M1(t,e,n,r){const i=he(),s=fn(2);i.firstUpdatePass&&zH(i,null,s,r);const a=V();if(n!==ie&&o2(a,s,n)){const c=i.data[y2()];if(IH(c,r)&&!HH(i,s)){let o=r?c.classesWithoutHost:c.stylesWithoutHost;null!==o&&(n=P5(o,n||"")),Du(i,c,a,n,r)}else!function Fee(t,e,n,r,i,s,a,c){i===ie&&(i=ve);let o=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==u||null!==f;){const d=o<i.length?i[o+1]:void 0,h=l<s.length?s[l+1]:void 0;let g,p=null;u===f?(o+=2,l+=2,d!==h&&(p=f,g=h)):null===f||null!==u&&u<f?(o+=2,p=u):(l+=2,p=f,g=h),null!==p&&xH(t,e,n,r,p,g,a,c),u=o<i.length?i[o]:null,f=l<s.length?s[l]:null}}(i,c,a,a[te],a[s+1],a[s+1]=function Ree(t,e,n){if(null==n||""===n)return ve;const r=[],i=G2(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(SH,Dee,t,!1)}function Dee(t,e){for(let n=function xee(t){return function MH(t){Ht.key=0,Ht.keyEnd=0,Ht.value=0,Ht.valueEnd=0,Ht.textEnd=t.length}(t),CH(t,A4(t,0,Ht.textEnd))}(e);n>=0;n=CH(e,n))SH(t,_H(e),zee(e))}function HH(t,e){return e>=t.expandoStartIndex}function zH(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[y2()],a=HH(t,n);IH(s,r)&&null===e&&!a&&(e=!1),e=function Tee(t,e,n,r){const i=function l7(t){const e=Y.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=$3(n=Pu(null,t,e,n,r),e.attrs,r),s=null);else{const a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Pu(i,t,e,n,r),null===s){let o=function Nee(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ti(r))return t[ir(r)]}(t,e,r);void 0!==o&&Array.isArray(o)&&(o=Pu(null,t,e,o[1],r),o=$3(o,e.attrs,r),function kee(t,e,n,r){t[ir(n?e.classBindings:e.styleBindings)]=r}(t,e,r,o))}else s=function Pee(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=$3(r,t[s].hostAttrs,n);return $3(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Vee(t,e,n,r,i,s){let a=s?e.classBindings:e.styleBindings,c=ir(a),o=ti(a);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||d4(n,u)>0)&&(l=!0)):u=n,i)if(0!==o){const d=ir(t[c+1]);t[r+1]=R6(d,c),0!==d&&(t[d+1]=Nu(t[d+1],r)),t[c+1]=function Mee(t,e){return 131071&t|e<<17}(t[c+1],r)}else t[r+1]=R6(c,0),0!==c&&(t[c+1]=Nu(t[c+1],r)),c=r;else t[r+1]=R6(o,0),0===c?c=r:t[o+1]=Nu(t[o+1],r),o=r;l&&(t[r+1]=Tu(t[r+1])),vH(t,u,r,!0),vH(t,u,r,!1),function bee(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&d4(s,e)>=0&&(n[r+1]=ku(n[r+1]))}(e,u,t,r,s),a=R6(c,o),s?e.classBindings=a:e.styleBindings=a}(i,s,e,n,a,r)}}function Pu(t,e,n,r,i){let s=null;const a=n.directiveEnd;let c=n.directiveStylingLast;for(-1===c?c=n.directiveStart:c++;c<a&&(s=e[c],r=$3(r,s.hostAttrs,i),s!==t);)c++;return null!==t&&(n.directiveStylingLast=c),r}function $3(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),q2(t,a,!!n||e[++s]))}return void 0===t?null:t}function SH(t,e,n){q2(t,e,G2(n))}function xH(t,e,n,r,i,s,a,c){if(!(3&e.type))return;const o=t.data,l=o[c+1],u=function wee(t){return 1==(1&t)}(l)?EH(o,e,n,i,ti(l),a):void 0;O6(u)||(O6(s)||function Cee(t){return 2==(2&t)}(l)&&(s=EH(o,null,n,i,c,a)),function HX(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:rr.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=rr.Important),t.setStyle(n,r,i,s))}}(r,a,Ro(y2(),n),i,s))}function EH(t,e,n,r,i,s){const a=null===e;let c;for(;i>0;){const o=t[i],l=Array.isArray(o),u=l?o[1]:o,f=null===u;let d=n[i+1];d===ie&&(d=f?ve:void 0);let h=f?w7(d,r):u===r?d:void 0;if(l&&!O6(h)&&(h=w7(o,r)),O6(h)&&(c=h,a))return c;const p=t[i+1];i=a?ir(p):ti(p)}if(null!==e){let o=s?e.residualClasses:e.residualStyles;null!=o&&(c=w7(o,r))}return c}function O6(t){return void 0!==t}function IH(t,e){return 0!=(t.flags&(e?8:16))}function W(t,e=""){const n=V(),r=he(),i=t+ce,s=r.firstCreatePass?V4(r,i,1,e,null):r.data[i],a=LH(r,n,s,e,t);n[i]=a,Oo()&&s6(r,n,a,s),k1(s,!1)}let LH=(t,e,n,r,i)=>(nr(!0),function t6(t,e){return t.createText(e)}(e[te],r));function Ne(t){return T4("",t,""),Ne}function T4(t,e,n){const r=V(),i=H4(r,t,e,n);return i!==ie&&function vn(t,e,n){const r=Ro(e,t);!function aV(t,e,n){t.setValue(e,n)}(t[te],r,n)}(r,y2(),i),T4}function Ru(t,e,n){const r=V();return o2(r,i4(),e)&&W2(he(),Ke(),r,t,e,r[te],n,!0),Ru}const ni=void 0;var lte=["en",[["a","p"],["AM","PM"],ni],[["AM","PM"],ni,ni],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ni,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ni,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ni,"{1} 'at' {0}",ni],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ote(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let N4={};function M2(t){const e=function ute(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=XH(e);if(n)return n;const r=e.split("-")[0];if(n=XH(r),n)return n;if("en"===r)return lte;throw new S(701,!1)}function XH(t){return t in N4||(N4[t]=ze.ng&&ze.ng.common&&ze.ng.common.locales&&ze.ng.common.locales[t]),N4[t]}var Ie=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ie||{});const k4="en-US";let JH=k4;function Bu(t,e,n,r,i){if(t=X(t),Array.isArray(t))for(let s=0;s<t.length;s++)Bu(t[s],e,n,r,i);else{const s=he(),a=V(),c=Gt();let o=Xr(t)?t:X(t.provide);const l=OV(t),u=1048575&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>20;if(Xr(t)||!t.multi){const h=new g3(l,i,z),p=ju(o,e,i?u:u+d,f);-1===p?(_7($o(c,a),s,o),Uu(s,t,e.length),e.push(o),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(h),a.push(h)):(n[p]=h,a[p]=h)}else{const h=ju(o,e,u+d,f),p=ju(o,e,u,u+d),v=p>=0&&n[p];if(i&&!v||!i&&!(h>=0&&n[h])){_7($o(c,a),s,o);const C=function o2e(t,e,n,r,i){const s=new g3(t,n,z);return s.multi=[],s.index=e,s.componentProviders=0,Vz(s,i,r&&!n),s}(i?c2e:a2e,n.length,i,r,l);!i&&v&&(n[p].providerFactory=C),Uu(s,t,e.length,0),e.push(o),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(C),a.push(C)}else Uu(s,t,h>-1?h:p,Vz(n[i?p:h],l,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function Uu(t,e,n,r){const i=Xr(e),s=function sJ(t){return!!t.useClass}(e);if(i||s){const o=(s?X(e.useClass):e).prototype.ngOnDestroy;if(o){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,o]):l[u+1].push(r,o)}else l.push(n,o)}}}function Vz(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ju(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function a2e(t,e,n,r){return $u(this.multi,[])}function c2e(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=Kr(n,n[k],this.providerFactory.index,r);s=c.slice(0,a),$u(i,s);for(let o=a;o<c.length;o++)s.push(c[o])}else s=[],$u(i,s);return s}function $u(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ge(t,e=[]){return n=>{n.providersResolver=(r,i)=>function s2e(t,e,n){const r=he();if(r.firstCreatePass){const i=v1(t);Bu(n,r.data,r.blueprint,i,!0),Bu(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ri{}class l2e{}class qu extends ri{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ab(this);const i=function j2(t,e){const n=t[EM]||null;if(!n&&!0===e)throw new Error(`Type ${Vt(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function gn(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=eb(e,n,[{provide:ri,useValue:this},{provide:w6,useValue:this.componentFactoryResolver},...r],Vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Gu extends l2e{constructor(e){super(),this.moduleType=e}create(e){return new qu(this.moduleType,e,[])}}function vt(t,e,n){const r=_2()+t,i=V();return i[r]===ie?F1(i,r,n?e.call(n):e()):function R3(t,e){return t[e]}(i,r)}function k2(t,e,n,r){return Dz(V(),_2(),t,e,n,r)}function Lz(t,e,n,r,i){return function Az(t,e,n,r,i,s,a){const c=e+n;return Zr(t,c,i,s)?F1(t,c+2,a?r.call(a,i,s):r(i,s)):Y3(t,c+2)}(V(),_2(),t,e,n,r,i)}function Y3(t,e){const n=t[e];return n===ie?void 0:n}function Dz(t,e,n,r,i,s){const a=e+n;return o2(t,a,i)?F1(t,a+1,s?r.call(s,i):r(i)):Y3(t,a+1)}function Tz(t,e,n,r,i,s,a,c){const o=e+n;return function L6(t,e,n,r,i){const s=Zr(t,e,n,r);return o2(t,e+2,i)||s}(t,o,i,s,a)?F1(t,o+3,c?r.call(c,i,s,a):r(i,s,a)):Y3(t,o+3)}function Le(t,e){const n=he();let r;const i=t+ce;n.firstCreatePass?(r=function I2e(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Gr(r.type)),c=E2(z);try{const o=jo(!1),l=s();return jo(o),function fee(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,V(),i,l),l}finally{E2(c)}}function zt(t,e,n){const r=t+ce,i=V(),s=n4(i,r);return X3(i,r)?Dz(i,_2(),e,s.transform,n,s):s.transform(n)}function sr(t,e,n,r,i){const s=t+ce,a=V(),c=n4(a,s);return X3(a,s)?Tz(a,_2(),e,c.transform,n,r,i,c):c.transform(n,r,i)}function X3(t,e){return t[k].data[e].pure}function Ku(t){return e=>{setTimeout(t,void 0,e)}}const Kt=class T2e extends vo{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),a=r;if(e&&"object"==typeof e){const o=e;i=o.next?.bind(o),s=o.error?.bind(o),a=o.complete?.bind(o)}this.__isAsync&&(s=Ku(s),i&&(i=Ku(i)),a&&(a=Ku(a)));const c=super.subscribe({next:i,error:s,complete:a});return e instanceof h1&&e.add(c),c}};function P2e(t,e,n,r=!0){const i=e[k];if(function vX(t,e,n,r){const i=qt+r,s=n.length;r>0&&(n[i-1][g1]=e),r<s-qt?(e[g1]=n[i],kw(n,qt+r,e)):(n.push(e),e[g1]=null),e[qe]=n;const a=e[d3];null!==a&&n!==a&&function _X(t,e){const n=t[t4];e[ut]!==e[qe][qe][ut]&&(t[$M]=!0),null===n?t[t4]=[e]:n.push(e)}(a,e);const c=e[D1];null!==c&&c.insertView(t),e[re]|=128}(i,e,t,n),r){const s=R7(n,t),a=e[te],c=i6(a,t[A1]);null!==c&&function pX(t,e,n,r,i,s){r[ot]=i,r[n2]=e,z3(t,r,n,1,i,s)}(i,t[n2],a,e,c,s)}}let _n=(()=>{class e{}return e.__NG_ELEMENT_ID__=F2e,e})();const R2e=_n,O2e=class extends R2e{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function k2e(t,e,n,r){const i=e.tView,c=H6(t,i,n,4096&t[re]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);c[d3]=t[e.index];const l=t[D1];return null!==l&&(c[D1]=l.createEmbeddedView(i)),bu(i,c,n),c}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new k3(i)}};function F2e(){return function $6(t,e){return 4&t.type?new O2e(e,t,C4(t,e)):null}(Gt(),V())}let j1=(()=>{class e{}return e.__NG_ELEMENT_ID__=G2e,e})();function G2e(){return function jz(t,e){let n;const r=e[t.index];return L2(r)?n=r:(n=wb(r,e,null,t),e[t.index]=n,z6(e,n)),$z(n,e,t,r),new Bz(n,t,e)}(Gt(),V())}const W2e=j1,Bz=class extends W2e{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return C4(this._hostTNode,this._hostLView)}get injector(){return new C2(this._hostTNode,this._hostLView)}get parentInjector(){const e=qo(this._hostTNode,this._hostLView);if(m7(e)){const n=_3(e,this._hostLView),r=v3(e);return new C2(n[k].data[r+8],n)}return new C2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Uz(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const c=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(c,i,false),c}createComponent(e,n,r,i,s){const a=e&&!function C3(t){return"function"==typeof t}(e);let c;if(a)c=n;else{const g=n||{};c=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const o=a?e:new P3(de(e)),l=r||this.parentInjector;if(!s&&null==o.ngModule){const v=(a?l:this.parentInjector).get(hn,null);v&&(s=v)}de(o.componentType??{});const h=o.create(l,i,null,s);return this.insertImpl(h.hostView,c,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function UQ(t){return L2(t[qe])}(i)){const o=this.indexOf(e);if(-1!==o)this.detach(o);else{const l=i[qe],u=new Bz(l,l[n2],l[qe]);u.detach(u.indexOf(e))}}const a=this._adjustIndex(n),c=this._lContainer;return P2e(c,i,a,!r),e.attachToViewContainerRef(),kw(Yu(c),a,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Uz(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=r6(this._lContainer,n);r&&(Wo(Yu(this._lContainer),n),T7(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=r6(this._lContainer,n);return r&&null!=Wo(Yu(this._lContainer),n)?new k3(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Uz(t){return t[8]}function Yu(t){return t[8]||(t[8]=[])}let $z=function qz(t,e,n,r){if(t[A1])return;let i;i=8&n.type?Ee(r):function K2e(t,e){const n=t[te],r=n.createComment(""),i=D2(e,t);return Qr(n,i6(n,i),r,function wX(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[A1]=i};const x1e=new q("Application Initializer");let cf=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=R(x1e,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const a=s();if(P6(a))r.push(a);else if(nH(a)){const c=new Promise((o,l)=>{a.subscribe({complete:o,error:l})});r.push(c)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const yn=new q("LocaleId",{providedIn:"root",factory:()=>R(yn,le.Optional|le.SkipSelf)||function I1e(){return typeof $localize<"u"&&$localize.locale||k4}()});let A1e=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new YW(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function vS(...t){}class ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function ene(){const t="function"==typeof ze.requestAnimationFrame;let e=ze[t?"requestAnimationFrame":"setTimeout"],n=ze[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function rne(t){const e=()=>{!function nne(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ze,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,df(t),t.isCheckStableRunning=!0,ff(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),df(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,a,c)=>{try{return _S(t),n.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),yS(t)}},onInvoke:(n,r,i,s,a,c,o)=>{try{return _S(t),n.invoke(i,s,a,c,o)}finally{t.shouldCoalesceRunChangeDetection&&e(),yS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,df(t),ff(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ke.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(ke.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,tne,vS,vS);try{return s.runTask(a,n,r)}finally{s.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const tne={};function ff(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function df(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _S(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yS(t){t._nesting--,ff(t)}class ine{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const CS=new q("",{providedIn:"root",factory:MS});function MS(){const t=R(ke);let e=!0;return kK(new $e(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new $e(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const a=t.onUnstable.subscribe(()=>{ke.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),a.unsubscribe()}}).pipe(CM()))}const wS=new q(""),K6=new q("");let mf,hf=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mf||(function sne(t){mf=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let a=-1;i&&i>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==a),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:a,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(ke),ae(pf),ae(K6))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})(),pf=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return mf?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),ar=null;const VS=new q("AllowMultipleToken"),gf=new q("PlatformDestroyListeners"),bS=new q("appBootstrapListener");function SS(t,e,n=[]){const r=`Platform: ${e}`,i=new q(r);return(s=[])=>{let a=vf();if(!a||a.injector.get(VS,!1)){const c=[...n,...s,{provide:i,useValue:!0}];t?t(c):function one(t){if(ar&&!ar.get(VS,!1))throw new S(400,!1);(function HS(){!function IQ(t){YM=t}(()=>{throw new S(600,!1)})})(),ar=t;const e=t.get(ES);(function zS(t){t.get(FV,null)?.forEach(n=>n())})(t)}(function xS(t=[],e){return c2.create({name:e,providers:[{provide:Y7,useValue:"platform"},{provide:gf,useValue:new Set([()=>ar=null])},...t]})}(c,r))}return function une(t){const e=vf();if(!e)throw new S(401,!1);return e}()}}function vf(){return ar?.get(ES)??null}let ES=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function fne(t="zone.js",e){return"noop"===t?new ine:"zone.js"===t?new ke(e):t}(i?.ngZone,function IS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const a=function f2e(t,e,n){return new qu(t,e,n)}(r.moduleType,this.injector,function NS(t){return[{provide:ke,useFactory:t},{provide:f6,multi:!0,useFactory:()=>{const e=R(hne,{optional:!0});return()=>e.initialize()}},{provide:TS,useFactory:dne},{provide:CS,useFactory:MS}]}(()=>s)),c=a.injector.get(Jr,null);return s.runOutsideAngular(()=>{const o=s.onError.subscribe({next:l=>{c.handleError(l)}});a.onDestroy(()=>{Q6(this._modules,a),o.unsubscribe()})}),function LS(t,e,n){try{const r=n();return P6(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(c,s,()=>{const o=a.injector.get(cf);return o.runInitializers(),o.donePromise.then(()=>(function ZH(t){e1(t,"Expected localeId to be defined"),"string"==typeof t&&(JH=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(yn,k4)||k4),this._moduleDoBootstrap(a),a))})})}bootstrapModule(r,i=[]){const s=DS({},i);return function ane(t,e,n){const r=new Gu(n);return Promise.resolve(r)}(0,0,r).then(a=>this.bootstrapModuleFactory(a,s))}_moduleDoBootstrap(r){const i=r.injector.get(ea);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new S(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(gf,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(c2))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function DS(t,e){return Array.isArray(e)?e.reduce(DS,t):{...t,...e}}let ea=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(TS),this.zoneIsStable=R(CS),this.componentTypes=[],this.components=[],this.isStable=R(A1e).hasPendingTasks.pipe(function RK(t,e){return Qn((n,r)=>{let i=null,s=0,a=!1;const c=()=>a&&!i&&r.complete();n.subscribe(an(r,o=>{i?.unsubscribe();let l=0;const u=s++;I1(t(o,u)).subscribe(i=an(r,f=>r.next(e?e(o,f,u,l++):f),()=>{i=null,c()}))},()=>{a=!0,c()}))})}(r=>r?function PK(...t){return N5(t,_M(t))}(!1):this.zoneIsStable),function OK(t,e=go){return t=t??FK,Qn((n,r)=>{let i,s=!0;n.subscribe(an(r,a=>{const c=e(a);(s||!t(i,c))&&(s=!1,i=c,r.next(a))}))})}(),CM()),this._injector=R(hn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof GV;if(!this._injector.get(cf).done)throw!s&&function l3(t){const e=de(t)||$t(t)||v2(t);return null!==e&&e.standalone}(r),new S(405,!1);let c;c=s?r:this._injector.get(w6).resolveComponentFactory(r),this.componentTypes.push(c.componentType);const o=function cne(t){return t.isBoundToModule}(c)?void 0:this._injector.get(ri),u=c.create(c2.NULL,[],i||c.selector,o),f=u.location.nativeElement,d=u.injector.get(wS,null);return d?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),Q6(this.components,u),d?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Q6(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(bS,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Q6(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Q6(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const TS=new q("",{providedIn:"root",factory:()=>R(Jr).handleError.bind(void 0)});function dne(){const t=R(ke),e=R(Jr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let hne=(()=>{var t;class e{constructor(){this.zone=R(ke),this.applicationRef=R(ea)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let ta=(()=>{class e{}return e.__NG_ELEMENT_ID__=gne,e})();function gne(t){return function vne(t,e,n){if(qr(t)&&!n){const r=$2(t.index,e);return new k3(r,r)}return 47&t.type?new k3(e[ut],e):null}(Gt(),V(),16==(16&t))}class OS{constructor(){}supports(e){return I6(e)}create(e){return new Vne(e)}}const wne=(t,e)=>e;class Vne{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||wne}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const a=!r||n&&n.currentIndex<BS(r,i,s)?n:r,c=BS(a,i,s),o=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(n=n._next,null==a.previousIndex)i++;else{s||(s=[]);const l=c-i,u=o-i;if(l!=u){for(let d=0;d<l;d++){const h=d<s.length?s[d]:s[d]=0,p=h+d;u<=p&&p<l&&(s[d]=h+1)}s[a.previousIndex]=u-l}}c!==o&&e(a,c,o)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!I6(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,a,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],a=this._trackByFn(c,s),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,s,a,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,a,c),r=!0),n=n._next}else i=0,function $Z(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,c=>{a=this._trackByFn(i,c),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,c,a,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,a,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new bne(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new FS),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class bne{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hne{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class FS{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Hne,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BS(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class US{constructor(){}supports(e){return e instanceof Map||Hu(e)}create(){return new zne}}class zne{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Hu(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new Sne(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class Sne{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jS(){return new J6([new OS])}let J6=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||jS()),deps:[[e,new b7,new s2]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:jS}),e})();function $S(){return new na([new US])}let na=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||$S()),deps:[[e,new b7,new s2]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:$S}),e})();const Ine=SS(null,"core",[]);let Lne=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(ea))},t.\u0275mod=ct({type:t}),t.\u0275inj=Ze({}),e})();let bf=null;function ra(){return bf}class $ne{}const Cn=new q("DocumentToken");var e0=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(e0||{}),ft=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(ft||{});function a1(t,e){const n=M2(t),r=n[Ie.NumberSymbols][e];if(typeof r>"u"){if(e===ft.CurrencyDecimal)return n[Ie.NumberSymbols][ft.Decimal];if(e===ft.CurrencyGroup)return n[Ie.NumberSymbols][ft.Group]}return r}const yre=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Df(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const Tf=/\s+/,ax=[];let Nf=(()=>{var t;class e{constructor(r,i,s,a){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=a,this.initialClasses=ax,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(Tf):ax}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Tf):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(Tf).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(z(J6),z(na),z(T2),z(mn))},t.\u0275dir=Q({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Dre{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let f0=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,a,c)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Dre(s.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===a?void 0:a);else if(null!==a){const o=i.get(a);i.move(o,c),ox(o,s)}});for(let s=0,a=i.length;s<a;s++){const o=i.get(s).context;o.index=s,o.count=a,o.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{ox(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(z(j1),z(_n),z(J6))},t.\u0275dir=Q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function ox(t,e){t.context.$implicit=e.item}let si=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new Are,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){lx("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){lx("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(z(j1),z(_n))},t.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Are{constructor(){this.$implicit=null,this.ngIf=null}}function lx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Vt(e)}'.`)}function V1(t,e){return new S(2100,!1)}class kre{createSubscription(e,n){return XM(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){XM(()=>e.unsubscribe())}}class Pre{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const Rre=new Pre,Ore=new kre;let aa=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(P6(r))return Rre;if(nH(r))return Ore;throw V1()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(z(ta,16))},t.\u0275pipe=Dt({name:"async",type:t,pure:!1,standalone:!0}),e})(),fx=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=dx}transform(r,i=dx){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),a=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(c=>{this.keyValues.push(function Jre(t,e){return{key:t,value:e}}(c.key,c.currentValue))})),(s||a)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(z(na,16))},t.\u0275pipe=Dt({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function dx(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let F4=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function Rf(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function Hre(t,e,n){return function If(t,e,n,r,i,s,a=!1){let c="",o=!1;if(isFinite(t)){let l=function Sre(t){let r,i,s,a,c,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(c=e.length))r=[0],i=1;else{for(c--;"0"===e.charAt(c);)c--;for(i-=s,r=[],a=0;s<=c;s++,a++)r[a]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);a&&(l=function zre(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(s){const _=s.match(yre);if(null===_)throw new Error(`${s} is not a valid digit info`);const w=_[1],I=_[3],N=_[5];null!=w&&(u=Df(w)),null!=I&&(f=Df(I)),null!=N?d=Df(N):null!=I&&f>d&&(d=f)}!function xre(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let a=s+t.integerLen,c=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(let f=a;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=s+1),r[0]=0;for(let f=1;f<a;f++)r[f]=0}if(c>=5)if(a-1<0){for(let f=0;f>a;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,s);i++)r.push(0);let o=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(f,d,h,p){return p[h]=(d+=f)<10?d:d-10,o&&(0===p[h]&&h>=l?p.pop():o=!1),d>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,f,d);let h=l.digits,p=l.integerLen;const g=l.exponent;let v=[];for(o=h.every(_=>!_);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?v=h.splice(p,h.length):(v=h,h=[0]);const C=[];for(h.length>=e.lgSize&&C.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)C.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&C.unshift(h.join("")),c=C.join(a1(n,r)),v.length&&(c+=a1(n,i)+v.join("")),g&&(c+=a1(n,ft.Exponential)+"+"+g)}else c=a1(n,ft.Infinity);return c=t<0&&!o?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf,c}(t,function Lf(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],c=a[0],o=a[1]||"";n.posPre=c.substring(0,c.indexOf("#"));for(let u=0;u<o.length;u++){const f=o.charAt(u);"0"===f?n.minFrac=n.maxFrac=u+1:"#"===f?n.maxFrac=u+1:n.posSuf+=f}const l=c.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf("#");n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Hf(t,e){return M2(t)[Ie.NumberFormats][e]}(e,e0.Decimal),a1(e,ft.MinusSign)),e,ft.Group,ft.Decimal,n)}(function Of(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(a){throw V1()}}}return(t=e).\u0275fac=function(r){return new(r||t)(z(yn,16))},t.\u0275pipe=Dt({name:"number",type:t,pure:!0,standalone:!0}),e})();let tie=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t}),t.\u0275inj=Ze({}),e})();const nie="server";function Ff(t){return t===nie}class Eie extends $ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jf extends Eie{static makeCurrent(){!function jne(t){bf||(bf=t)}(new jf)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Iie(){return oa=oa||document.querySelector("base"),oa?oa.getAttribute("href"):null}();return null==n?null:function Lie(t){p0=p0||document.createElement("a"),p0.setAttribute("href",t);const e=p0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){oa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ire(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let p0,oa=null,Aie=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const $f=new q("EventManagerPlugins");let _x=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(a=>a.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(ae($f),ae(ke))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();class yx{constructor(e){this._doc=e}}const qf="ng-app-id";let Cx=(()=>{var t;class e{constructor(r,i,s,a={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ff(a),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${qf}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const a=s.get(r);return a.usage+=i,a.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===r)return s.delete(i),a.removeAttribute(qf),a;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(qf,this.appId),c}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const a=this.styleRef,c=a.get(i)?.elements;c?c.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn),ae(g6),ae(BV,8),ae(pn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const Gf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wf=/%COMP%/g,Pie=new q("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function wx(t,e){return e.map(n=>n.replace(Wf,t))}let Vx=(()=>{var t;class e{constructor(r,i,s,a,c,o,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=c,this.platformId=o,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ff(o),this.defaultRenderer=new Kf(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===p1.ShadowDom&&(i={...i,encapsulation:p1.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof Hx?s.applyToHost(r):s instanceof Qf&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let a=s.get(i.id);if(!a){const c=this.doc,o=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case p1.Emulated:a=new Hx(l,u,i,this.appId,f,c,o,d);break;case p1.ShadowDom:return new Bie(l,u,r,i,c,o,this.nonce,d);default:a=new Qf(l,u,i,f,c,o,d)}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(_x),ae(Cx),ae(g6),ae(Pie),ae(Cn),ae(pn),ae(ke),ae(BV))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();class Kf{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Gf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(bx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(bx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Gf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Gf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(rr.DashCase|rr.Important)?e.style.setProperty(n,r,i&rr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&rr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ra().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function bx(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Bie extends Kf{constructor(e,n,r,i,s,a,c,o){super(e,s,a,o),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=wx(i.id,i.styles);for(const u of l){const f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qf extends Kf{constructor(e,n,r,i,s,a,c,o){super(e,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=o?wx(o,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Hx extends Qf{constructor(e,n,r,i,s,a,c,o){const l=i+"-"+r.id;super(e,n,r,s,a,c,o,l),this.contentAttr=function Rie(t){return"_ngcontent-%COMP%".replace(Wf,t)}(l),this.hostAttr=function Oie(t){return"_nghost-%COMP%".replace(Wf,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Uie=(()=>{var t;class e extends yx{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const zx=["alt","control","meta","shift"],jie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$ie={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let qie=(()=>{var t;class e extends yx{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const a=e.parseEventName(i),c=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ra().onAndCancel(r,a.domEventName,c))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const a=e._normalizeKey(i.pop());let c="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),c="code."),zx.forEach(u=>{const f=i.indexOf(u);f>-1&&(i.splice(f,1),c+=u+".")}),c+=a,0!=i.length||0===a.length)return null;const l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=jie[r.key]||r.key,a="";return i.indexOf("code.")>-1&&(s=r.code,a="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),zx.forEach(c=>{c!==s&&(0,$ie[c])(r)&&(a+=c+".")}),a+=s,a===i)}static eventCallback(r,i,s){return a=>{e.matchEventFullKeyCode(a,r)&&s.runGuarded(()=>i(a))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const xx=[{provide:pn,useValue:"browser"},{provide:FV,useValue:function Gie(){jf.makeCurrent()},multi:!0},{provide:Cn,useFactory:function Kie(){return function IX(t){B7=t}(document),document},deps:[]}],Qie=SS(Ine,"browser",xx),Yie=new q(""),Ex=[{provide:K6,useClass:class Die{addToWindow(e){ze.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),ze.getAllAngularRootElements=()=>e.getAllRootElements(),ze.frameworkStabilizers||(ze.frameworkStabilizers=[]),ze.frameworkStabilizers.push(r=>{const i=ze.getAllAngularTestabilities();let s=i.length,a=!1;const c=function(o){a=a||o,s--,0==s&&r(a)};i.forEach(o=>{o.whenStable(c)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ra().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:wS,useClass:hf,deps:[ke,pf,K6]},{provide:hf,useClass:hf,deps:[ke,pf,K6]}],Ix=[{provide:Y7,useValue:"root"},{provide:Jr,useFactory:function Wie(){return new Jr},deps:[]},{provide:$f,useClass:Uie,multi:!0,deps:[Cn,ke,pn]},{provide:$f,useClass:qie,multi:!0,deps:[Cn]},Vx,Cx,_x,{provide:KV,useExisting:Vx},{provide:class aie{},useClass:Aie,deps:[]},[]];let Vn=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:g6,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Yie,12))},t.\u0275mod=ct({type:t}),t.\u0275inj=Ze({providers:[...Ix,...Ex],imports:[tie,Lne]}),e})();typeof window<"u"&&window;let Ax=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:function(r){let i=null;return i=r?new(r||t):ae(Tx),i},providedIn:"root"}),e})(),Tx=(()=>{var t;class e extends Ax{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case i1.NONE:return i;case i1.HTML:return R1(i,"HTML")?G2(i):EV(this._doc,String(i)).toString();case i1.STYLE:return R1(i,"Style")?G2(i):i;case i1.SCRIPT:if(R1(i,"Script"))return G2(i);throw new S(5200,!1);case i1.URL:return R1(i,"URL")?G2(i):l6(String(i));case i1.RESOURCE_URL:if(R1(i,"ResourceURL"))return G2(i);throw new S(5201,!1);default:throw new S(5202,!1)}}bypassSecurityTrustHtml(r){return function PX(t){return new LX(t)}(r)}bypassSecurityTrustStyle(r){return function RX(t){return new DX(t)}(r)}bypassSecurityTrustScript(r){return function OX(t){return new AX(t)}(r)}bypassSecurityTrustUrl(r){return function FX(t){return new TX(t)}(r)}bypassSecurityTrustResourceUrl(r){return function BX(t){return new NX(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ae(Cn))},t.\u0275prov=J({token:t,factory:function(r){let i=null;return i=r?new r:function n4e(t){return new Tx(t.get(Cn))}(ae(c2)),i},providedIn:"root"}),e})();var eI={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},XI={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},vD={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},m9={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},fa={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},TT={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},P9={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function uk(t,e,n,r,i,s,a){try{var c=t[s](a),o=c.value}catch(l){return void n(l)}c.done?e(o):Promise.resolve(o).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function a(o){uk(s,r,i,a,c,"next",o)}function c(o){uk(s,r,i,a,c,"throw",o)}a(void 0)})}}const fk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},G9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,c=a?t[i+1]:0,o=i+2<t.length,l=o?t[i+2]:0;let d=(15&c)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[s>>2],n[(3&s)<<4|c>>4],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==c||null==l||null==f)throw new Sbe;r.push(s<<2|c>>4),64!==l&&(r.push(c<<4&240|l>>2),64!==f&&r.push(l<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Sbe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I0=function(t){return function(t){const e=fk(t);return G9.encodeByteArray(e,!0)}(t).replace(/\./g,"")},L0=function(t){try{return G9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const D0=()=>{try{return hk().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&L0(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},pk=t=>{var e,n;return null===(n=null===(e=D0())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},mk=()=>{var t;return null===(t=D0())||void 0===t?void 0:t.config},gk=t=>{var e;return null===(e=D0())||void 0===e?void 0:e[`_${t}`]};class B4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W9(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function or(){try{return"object"==typeof indexedDB}catch{return!1}}function ma(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function K9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class o1 extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,o1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$1.prototype.create)}}class $1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?function Fbe(t,e){return t.replace(Bbe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new o1(i,`${this.serviceName}: ${a} (${i}).`,r)}}const Bbe=/\{\$([^}]+)}/g;function T0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(_k(s)&&_k(a)){if(!T0(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _k(t){return null!==t&&"object"==typeof t}function ga(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function va(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function _a(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class $be{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function qbe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Q9),void 0===i.error&&(i.error=Q9),void 0===i.complete&&(i.complete=Q9);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q9(){}const Gbe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},Wbe=1e3,Kbe=2,Qbe=144e5,Ybe=.5;function N0(t,e=Wbe,n=Kbe){const r=e*Math.pow(n,t),i=Math.round(Ybe*r*(Math.random()-.5)*2);return Math.min(Qbe,r+i)}function dt(t){return t&&t._delegate?t._delegate:t}class l2{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ai="[DEFAULT]";class Jbe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new B4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function eHe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ai){return this.instances.has(e)}getOptions(e=ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&a.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ai?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ai){return this.component?this.component.multipleInstances?e:ai:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tHe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jbe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const X9=[];var ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{});const yk={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},nHe=ge.INFO,rHe={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},iHe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=rHe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class U4{constructor(e){this.name=e,this._logLevel=nHe,this._logHandler=iHe,this._userLogHandler=null,X9.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const sHe=(t,e)=>e.some(n=>t instanceof n);let Ck,Mk;const wk=new WeakMap,J9=new WeakMap,Vk=new WeakMap,Z9=new WeakMap,ed=new WeakMap;let td={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return J9.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Vk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function dHe(t){return"function"==typeof t?function fHe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cHe(){return Mk||(Mk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(nd(this),e),lr(wk.get(this))}:function(...e){return lr(t.apply(nd(this),e))}:function(e,...n){const r=t.call(nd(this),e,...n);return Vk.set(r,e.sort?e.sort():[e]),lr(r)}}(t):(t instanceof IDBTransaction&&function lHe(t){if(J9.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});J9.set(t,e)}(t),sHe(t,function aHe(){return Ck||(Ck=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,td):t)}function lr(t){if(t instanceof IDBRequest)return function oHe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(lr(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&wk.set(n,t)}).catch(()=>{}),ed.set(e,t),e}(t);if(Z9.has(t))return Z9.get(t);const e=dHe(t);return e!==t&&(Z9.set(t,e),ed.set(e,t)),e}const nd=t=>ed.get(t),pHe=["get","getKey","getAll","getAllKeys","count"],mHe=["put","add","delete","clear"],rd=new Map;function bk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(rd.get(e))return rd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mHe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!pHe.includes(n))return;const s=function(){var a=m(function*(c,...o){const l=this.transaction(c,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(yield Promise.all([u[n](...o),i&&l.done]))[0]});return function(o){return a.apply(this,arguments)}}();return rd.set(e,s),s}!function uHe(t){td=t(td)}(t=>({...t,get:(e,n,r)=>bk(e,n)||t.get(e,n,r),has:(e,n)=>!!bk(e,n)||t.has(e,n)}));class gHe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function vHe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const id="@firebase/app",ci=new U4("@firebase/app"),k0="[DEFAULT]",jHe={[id]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oi=new Map,P0=new Map;function $He(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function b2(t){const e=t.name;if(P0.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;P0.set(e,t);for(const n of oi.values())$He(n,t);return!0}function ur(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const bn=new $1("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class GHe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new l2("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}const li="9.23.0";function zk(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:k0,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw bn.create("bad-app-name",{appName:String(i)});if(n||(n=mk()),!n)throw bn.create("no-options");const s=oi.get(i);if(s){if(T0(n,s.options)&&T0(r,s.config))return s;throw bn.create("duplicate-app",{appName:i})}const a=new tHe(i);for(const o of P0.values())a.addComponent(o);const c=new GHe(n,r,a);return oi.set(i,c),c}function ya(t=k0){const e=oi.get(t);if(!e&&t===k0&&mk())return zk();if(!e)throw bn.create("no-app",{appName:t});return e}function Sk(){return Array.from(oi.values())}function Ye(t,e,n){var r;let i=null!==(r=jHe[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];return s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ci.warn(c.join(" "))}b2(new l2(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const WHe="firebase-heartbeat-database",KHe=1,Ca="firebase-heartbeat-store";let ad=null;function xk(){return ad||(ad=function hHe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=lr(a);return r&&a.addEventListener("upgradeneeded",o=>{r(lr(a.result),o.oldVersion,o.newVersion,lr(a.transaction),o)}),n&&a.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),c.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}(WHe,KHe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ca)}}).catch(t=>{throw bn.create("idb-open",{originalErrorMessage:t.message})})),ad}function cd(){return(cd=m(function*(t){try{return yield(yield xk()).transaction(Ca).objectStore(Ca).get(Ik(t))}catch(e){if(e instanceof o1)ci.warn(e.message);else{const n=bn.create("idb-get",{originalErrorMessage:e?.message});ci.warn(n.message)}}})).apply(this,arguments)}function Ek(t,e){return od.apply(this,arguments)}function od(){return(od=m(function*(t,e){try{const r=(yield xk()).transaction(Ca,"readwrite");yield r.objectStore(Ca).put(e,Ik(t)),yield r.done}catch(n){if(n instanceof o1)ci.warn(n.message);else{const r=bn.create("idb-set",{originalErrorMessage:n?.message});ci.warn(r.message)}}})).apply(this,arguments)}function Ik(t){return`${t.name}!${t.options.appId}`}class JHe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eze(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Lk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Lk(),{heartbeatsToSend:r,unsentEntries:i}=function ZHe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Dk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Dk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=I0(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Lk(){return(new Date).toISOString().substring(0,10)}class eze{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!or()&&ma().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function QHe(t){return cd.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Ek(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Ek(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Dk(t){return I0(JSON.stringify({version:2,heartbeats:t})).length}!function tze(t){b2(new l2("platform-logger",e=>new gHe(e),"PRIVATE")),b2(new l2("heartbeat",e=>new JHe(e),"PRIVATE")),Ye(id,"0.9.13",t),Ye(id,"0.9.13","esm2017"),Ye("fire-js","")}(""),Ye("firebase","9.23.0","app");const ize=(t,e)=>e.some(n=>t instanceof n);let Ak,Tk;const Nk=new WeakMap,ld=new WeakMap,kk=new WeakMap,ud=new WeakMap,fd=new WeakMap;let dd={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ld.get(t);if("objectStoreNames"===e)return t.objectStoreNames||kk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function fze(t){return"function"==typeof t?function uze(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function aze(){return Tk||(Tk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(hd(this),e),fr(Nk.get(this))}:function(...e){return fr(t.apply(hd(this),e))}:function(e,...n){const r=t.call(hd(this),e,...n);return kk.set(r,e.sort?e.sort():[e]),fr(r)}}(t):(t instanceof IDBTransaction&&function oze(t){if(ld.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ld.set(t,e)}(t),ize(t,function sze(){return Ak||(Ak=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,dd):t)}function fr(t){if(t instanceof IDBRequest)return function cze(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(fr(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Nk.set(n,t)}).catch(()=>{}),fd.set(e,t),e}(t);if(ud.has(t))return ud.get(t);const e=fze(t);return e!==t&&(ud.set(t,e),fd.set(e,t)),e}const hd=t=>fd.get(t),hze=["get","getKey","getAll","getAllKeys","count"],pze=["put","add","delete","clear"],pd=new Map;function Pk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(pd.get(e))return pd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pze.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!hze.includes(n))return;const s=function(){var a=m(function*(c,...o){const l=this.transaction(c,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(yield Promise.all([u[n](...o),i&&l.done]))[0]});return function(o){return a.apply(this,arguments)}}();return pd.set(e,s),s}!function lze(t){dd=t(dd)}(t=>({...t,get:(e,n,r)=>Pk(e,n)||t.get(e,n,r),has:(e,n)=>!!Pk(e,n)||t.has(e,n)}));const Rk="@firebase/installations",md="0.6.4",Ok=1e4,Fk=`w:${md}`,Bk="FIS_v2",mze="https://firebaseinstallations.googleapis.com/v1",gze=36e5,Hn=new $1("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Uk(t){return t instanceof o1&&t.code.includes("request-failed")}function gd({projectId:t}){return`${mze}/projects/${t}/installations`}function jk(t){return{token:t.token,requestStatus:2,expiresIn:Cze(t.expiresIn),creationTime:Date.now()}}function vd(t,e){return _d.apply(this,arguments)}function _d(){return(_d=m(function*(t,e){const r=(yield e.json()).error;return Hn.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function $k({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yd(t){return Cd.apply(this,arguments)}function Cd(){return(Cd=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Cze(t){return Number(t.replace("s","000"))}function Md(){return(Md=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=gd(t),i=$k(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const c={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Bk,appId:t.appId,sdkVersion:Fk})},o=yield yd(()=>fetch(r,c));if(o.ok){const l=yield o.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:jk(l.authToken)}}throw yield vd("Create Installation",o)})).apply(this,arguments)}function Gk(t){return new Promise(e=>{setTimeout(e,t)})}const bze=/^[cdef][\w-]{21}$/,wd="";function Hze(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function zze(t){return function Vze(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return bze.test(n)?n:wd}catch{return wd}}function j4(t){return`${t.appName}!${t.appId}`}const $4=new Map;function Wk(t,e){const n=j4(t);Kk(n,e),function Eze(t,e){const n=function Qk(){return!ui&&"BroadcastChannel"in self&&(ui=new BroadcastChannel("[Firebase] FID Change"),ui.onmessage=t=>{Kk(t.data.key,t.data.fid)}),ui}();n&&n.postMessage({key:t,fid:e}),function Yk(){0===$4.size&&ui&&(ui.close(),ui=null)}()}(n,e)}function Kk(t,e){const n=$4.get(t);if(n)for(const r of n)r(e)}let ui=null;const Ize="firebase-installations-database",Lze=1,fi="firebase-installations-store";let Vd=null;function bd(){return Vd||(Vd=function dze(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=fr(a);return r&&a.addEventListener("upgradeneeded",o=>{r(fr(a.result),o.oldVersion,o.newVersion,fr(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),c.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",()=>i())}).catch(()=>{}),c}(Ize,Lze,{upgrade:(t,e)=>{0===e&&t.createObjectStore(fi)}})),Vd}function R0(t,e){return Hd.apply(this,arguments)}function Hd(){return(Hd=m(function*(t,e){const n=j4(t),i=(yield bd()).transaction(fi,"readwrite"),s=i.objectStore(fi),a=yield s.get(n);return yield s.put(e,n),yield i.done,(!a||a.fid!==e.fid)&&Wk(t,e.fid),e})).apply(this,arguments)}function zd(t){return Sd.apply(this,arguments)}function Sd(){return(Sd=m(function*(t){const e=j4(t),r=(yield bd()).transaction(fi,"readwrite");yield r.objectStore(fi).delete(e),yield r.done})).apply(this,arguments)}function Ma(t,e){return xd.apply(this,arguments)}function xd(){return(xd=m(function*(t,e){const n=j4(t),i=(yield bd()).transaction(fi,"readwrite"),s=i.objectStore(fi),a=yield s.get(n),c=e(a);return void 0===c?yield s.delete(n):yield s.put(c,n),yield i.done,c&&(!a||a.fid!==c.fid)&&Wk(t,c.fid),c})).apply(this,arguments)}function Ed(t){return Id.apply(this,arguments)}function Id(){return Id=m(function*(t){let e;const n=yield Ma(t.appConfig,r=>{const i=function Dze(t){return Jk(t||{fid:Hze(),registrationStatus:0})}(r),s=function Aze(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Hn.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Tze(t,e){return Ld.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Nze(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===wd?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Id.apply(this,arguments)}function Ld(){return Ld=m(function*(t,e){try{const n=yield function wze(t,e){return Md.apply(this,arguments)}(t,e);return R0(t.appConfig,n)}catch(n){throw Uk(n)&&409===n.customData.serverCode?yield zd(t.appConfig):yield R0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Ld.apply(this,arguments)}function Nze(t){return Dd.apply(this,arguments)}function Dd(){return(Dd=m(function*(t){let e=yield Xk(t.appConfig);for(;1===e.registrationStatus;)yield Gk(100),e=yield Xk(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Ed(t);return r||n}return e})).apply(this,arguments)}function Xk(t){return Ma(t,e=>{if(!e)throw Hn.create("installation-not-found");return Jk(e)})}function Jk(t){return function kze(t){return 1===t.registrationStatus&&t.registrationTime+Ok<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Ad(){return(Ad=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Rze(t,{fid:e}){return`${gd(t)}/${e}/authTokens:generate`}(t,n),i=function qk(t,{refreshToken:e}){const n=$k(t);return n.append("Authorization",function Mze(t){return`${Bk} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const c={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Fk,appId:t.appId}})},o=yield yd(()=>fetch(r,c));if(o.ok)return jk(yield o.json());throw yield vd("Generate Auth Token",o)})).apply(this,arguments)}function Td(t){return Nd.apply(this,arguments)}function Nd(){return Nd=m(function*(t,e=!1){let n;const r=yield Ma(t.appConfig,s=>{if(!eP(s))throw Hn.create("not-registered");const a=s.authToken;if(!e&&function Bze(t){return 2===t.requestStatus&&!function Uze(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+gze}(t)}(a))return s;if(1===a.requestStatus)return n=function Oze(t,e){return kd.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Hn.create("app-offline");const c=function jze(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Fze(t,e){return Pd.apply(this,arguments)}(t,c),c}});return n?yield n:r.authToken}),Nd.apply(this,arguments)}function kd(){return(kd=m(function*(t,e){let n=yield Zk(t.appConfig);for(;1===n.authToken.requestStatus;)yield Gk(100),n=yield Zk(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Td(t,e):r})).apply(this,arguments)}function Zk(t){return Ma(t,e=>{if(!eP(e))throw Hn.create("not-registered");return function $ze(t){return 1===t.requestStatus&&t.requestTime+Ok<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Pd(){return Pd=m(function*(t,e){try{const n=yield function Pze(t,e){return Ad.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield R0(t.appConfig,r),n}catch(n){if(!Uk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield R0(t.appConfig,r)}else yield zd(t.appConfig);throw n}}),Pd.apply(this,arguments)}function eP(t){return void 0!==t&&2===t.registrationStatus}function Rd(){return(Rd=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Ed(e);return r?r.catch(console.error):Td(e).catch(console.error),n.fid})).apply(this,arguments)}function Od(){return Od=m(function*(t,e=!1){const n=t;return yield function Wze(t){return Fd.apply(this,arguments)}(n),(yield Td(n,e)).token}),Od.apply(this,arguments)}function Fd(){return(Fd=m(function*(t){const{registrationPromise:e}=yield Ed(t);e&&(yield e)})).apply(this,arguments)}function jd(t){return Hn.create("missing-app-config-values",{valueName:t})}const tP="installations",Jze=t=>{const e=t.getProvider("app").getImmediate(),n=function Yze(t){if(!t||!t.options)throw jd("App Configuration");if(!t.name)throw jd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ur(e,"heartbeat"),_delete:()=>Promise.resolve()}},Zze=t=>{const n=ur(t.getProvider("app").getImmediate(),tP).getImmediate();return{getId:()=>function qze(t){return Rd.apply(this,arguments)}(n),getToken:i=>function Gze(t){return Od.apply(this,arguments)}(n,i)}};(function eSe(){b2(new l2(tP,Jze,"PUBLIC")),b2(new l2("installations-internal",Zze,"PRIVATE"))})(),Ye(Rk,md),Ye(Rk,md,"esm2017");const $d="@firebase/remote-config",R2=new $1("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fSe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),a=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&a.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(a),s})()}}function dSe(t=navigator){return t.languages&&t.languages[0]||t.language}class hSe{constructor(e,n,r,i,s,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),a=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:dSe()},l={method:"POST",headers:c,body:JSON.stringify(o)},u=fetch(a,l),f=new Promise((C,_)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",_(w)})});let d;try{yield Promise.race([u,f]),d=yield u}catch(C){let _="fetch-client-network";throw"AbortError"===C?.name&&(_="fetch-timeout"),R2.create(_,{originalErrorMessage:C?.message})}let h=d.status;const p=d.headers.get("ETag")||void 0;let g,v;if(200===d.status){let C;try{C=yield d.json()}catch(_){throw R2.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=C.entries,v=C.state}if("INSTANCE_STATE_UNSPECIFIED"===v?h=500:"NO_CHANGE"===v?h=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(g={}),304!==h&&200!==h)throw R2.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:g}})()}}class gSe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function pSe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(R2.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function mSe(t){if(!(t instanceof o1&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const a={throttleEndTimeMillis:Date.now()+N0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(a),i.attemptFetch(e,a)}})()}}class ySe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function F0(t,e){const n=t.target.error||void 0;return R2.create(e,{originalErrorMessage:n&&n?.message})}const di="app_namespace_store";class VSe{constructor(e,n,r,i=function wSe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(F0(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(di,{keyPath:"compositeKey"})}}catch(n){e(R2.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const c=r.transaction([di],"readonly").objectStore(di),o=n.createCompositeKey(e);try{const l=c.get(o);l.onerror=u=>{s(F0(u,"storage-get"))},l.onsuccess=u=>{const f=u.target.result;i(f?f.value:void 0)}}catch(l){s(R2.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,a)=>{const o=i.transaction([di],"readwrite").objectStore(di),l=r.createCompositeKey(e);try{const u=o.put({compositeKey:l,value:n});u.onerror=f=>{a(F0(f,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){a(R2.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const c=r.transaction([di],"readwrite").objectStore(di),o=n.createCompositeKey(e);try{const l=c.delete(o);l.onerror=u=>{s(F0(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(R2.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class bSe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const a=yield r;a&&(e.lastSuccessfulFetchTimestampMillis=a);const c=yield i;c&&(e.activeConfig=c)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function zSe(){return Qd.apply(this,arguments)}function Qd(){return(Qd=m(function*(){if(!or())return!1;try{return yield ma()}catch{return!1}})).apply(this,arguments)}!function HSe(){b2(new l2("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw R2.create("registration-window");if(!or())throw R2.create("indexed-db-unavailable");const{projectId:s,apiKey:a,appId:c}=r.options;if(!s)throw R2.create("registration-project-id");if(!a)throw R2.create("registration-api-key");if(!c)throw R2.create("registration-app-id");const o=new VSe(c,r.name,n=n||"firebase"),l=new bSe(o),u=new U4($d);u.logLevel=ge.ERROR;const f=new hSe(i,li,n,s,a,c),d=new gSe(f,o),h=new fSe(d,o,l,u),p=new ySe(r,h,l,o,u);return function oSe(t){const e=dt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ye($d,"0.4.4"),Ye($d,"0.4.4","esm2017")}();const SSe=(t,e)=>e.some(n=>t instanceof n);let sP,aP;const cP=new WeakMap,Yd=new WeakMap,oP=new WeakMap,Xd=new WeakMap,Jd=new WeakMap;let Zd={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Yd.get(t);if("objectStoreNames"===e)return t.objectStoreNames||oP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function TSe(t){return"function"==typeof t?function ASe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ESe(){return aP||(aP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(eh(this),e),zn(cP.get(this))}:function(...e){return zn(t.apply(eh(this),e))}:function(e,...n){const r=t.call(eh(this),e,...n);return oP.set(r,e.sort?e.sort():[e]),zn(r)}}(t):(t instanceof IDBTransaction&&function LSe(t){if(Yd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Yd.set(t,e)}(t),SSe(t,function xSe(){return sP||(sP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Zd):t)}function zn(t){if(t instanceof IDBRequest)return function ISe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(zn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&cP.set(n,t)}).catch(()=>{}),Jd.set(e,t),e}(t);if(Xd.has(t))return Xd.get(t);const e=TSe(t);return e!==t&&(Xd.set(t,e),Jd.set(e,t)),e}const eh=t=>Jd.get(t);function lP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),c=zn(a);return r&&a.addEventListener("upgradeneeded",o=>{r(zn(a.result),o.oldVersion,o.newVersion,zn(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),c.then(o=>{s&&o.addEventListener("close",()=>s()),i&&o.addEventListener("versionchange",()=>i())}).catch(()=>{}),c}function th(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),zn(n).then(()=>{})}const NSe=["get","getKey","getAll","getAllKeys","count"],kSe=["put","add","delete","clear"],nh=new Map;function uP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(nh.get(e))return nh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kSe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!NSe.includes(n))return;const s=function(){var a=m(function*(c,...o){const l=this.transaction(c,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(yield Promise.all([u[n](...o),i&&l.done]))[0]});return function(o){return a.apply(this,arguments)}}();return nh.set(e,s),s}!function DSe(t){Zd=t(Zd)}(t=>({...t,get:(e,n,r)=>uP(e,n)||t.get(e,n,r),has:(e,n)=>!!uP(e,n)||t.has(e,n)}));const PSe="/firebase-messaging-sw.js",RSe="/firebase-cloud-messaging-push-scope",fP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",OSe="https://fcmregistrations.googleapis.com/v1",dP="google.c.a.c_id",FSe="google.c.a.c_l",BSe="google.c.a.ts";var B0=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(B0||{});function Sn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $Se(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const rh="fcm_token_details_db",qSe=5,hP="fcm_token_object_Store";function ih(){return ih=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(rh))return null;let e=null;return(yield lP(rh,qSe,{upgrade:(r=m(function*(i,s,a,c){var o;if(s<2||!i.objectStoreNames.contains(hP))return;const l=c.objectStore(hP),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),u)if(2===s){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:null!==(o=f.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"==typeof f.vapidKey?f.vapidKey:Sn(f.vapidKey)}}}else if(3===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Sn(f.auth),p256dh:Sn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Sn(f.vapidKey)}}}else if(4===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Sn(f.auth),p256dh:Sn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Sn(f.vapidKey)}}}}),function(s,a,c,o){return r.apply(this,arguments)})})).close(),yield th(rh),yield th("fcm_vapid_details_db"),yield th("undefined"),function WSe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),ih.apply(this,arguments)}const KSe="firebase-messaging-database",QSe=1,hi="firebase-messaging-store";let sh=null;function ah(){return sh||(sh=lP(KSe,QSe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(hi)}})),sh}function pP(t){return ch.apply(this,arguments)}function ch(){return ch=m(function*(t){const e=fh(t),r=yield(yield ah()).transaction(hi).objectStore(hi).get(e);if(r)return r;{const i=yield function GSe(t){return ih.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield oh(t,i),i}}),ch.apply(this,arguments)}function oh(t,e){return lh.apply(this,arguments)}function lh(){return(lh=m(function*(t,e){const n=fh(t),i=(yield ah()).transaction(hi,"readwrite");return yield i.objectStore(hi).put(e,n),yield i.done,e})).apply(this,arguments)}function uh(){return(uh=m(function*(t){const e=fh(t),r=(yield ah()).transaction(hi,"readwrite");yield r.objectStore(hi).delete(e),yield r.done})).apply(this,arguments)}function fh({appConfig:t}){return t.appId}const Qt=new $1("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function JSe(t,e){return dh.apply(this,arguments)}function dh(){return(dh=m(function*(t,e){const n=yield gh(t),r=gP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(mh(t.appConfig),i)).json()}catch(a){throw Qt.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(s.error)throw Qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Qt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function hh(){return(hh=m(function*(t,e){const n=yield gh(t),r=gP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${mh(t.appConfig)}/${e.token}`,i)).json()}catch(a){throw Qt.create("token-update-failed",{errorInfo:a?.toString()})}if(s.error)throw Qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Qt.create("token-update-no-token");return s.token})).apply(this,arguments)}function mP(t,e){return ph.apply(this,arguments)}function ph(){return(ph=m(function*(t,e){const r={method:"DELETE",headers:yield gh(t)};try{const s=yield(yield fetch(`${mh(t.appConfig)}/${e}`,r)).json();if(s.error)throw Qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Qt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function mh({projectId:t}){return`${OSe}/projects/${t}/registrations`}function gh(t){return vh.apply(this,arguments)}function vh(){return(vh=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function gP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==fP&&(i.web.applicationPubKey=r),i}const exe=6048e5;function _h(){return _h=m(function*(t){const e=yield function rxe(t,e){return wh.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Sn(e.getKey("auth")),p256dh:Sn(e.getKey("p256dh"))},r=yield pP(t.firebaseDependencies);if(r){if(function ixe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+exe?function nxe(t,e){return Ch.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield mP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return _P(t.firebaseDependencies,n)}return _P(t.firebaseDependencies,n)}),_h.apply(this,arguments)}function yh(){return yh=m(function*(t){const e=yield pP(t.firebaseDependencies);e&&(yield mP(t.firebaseDependencies,e.token),yield function YSe(t){return uh.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),yh.apply(this,arguments)}function Ch(){return Ch=m(function*(t,e){try{const n=yield function ZSe(t,e){return hh.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield oh(t.firebaseDependencies,r),n}catch(n){throw yield function vP(t){return yh.apply(this,arguments)}(t),n}}),Ch.apply(this,arguments)}function _P(t,e){return Mh.apply(this,arguments)}function Mh(){return(Mh=m(function*(t,e){const r={token:yield JSe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield oh(t,r),r.token})).apply(this,arguments)}function wh(){return(wh=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$Se(e)})})).apply(this,arguments)}function yP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function sxe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function axe(t,e){e.data&&(t.data=e.data)}(e,t),function cxe(t,e){var n,r,i,s,a;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const c=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;c&&(t.fcmOptions.link=c);const o=null===(a=e.fcmOptions)||void 0===a?void 0:a.analytics_label;o&&(t.fcmOptions.analyticsLabel=o)}(e,t),e}function CP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Vh(t){return Qt.create("missing-app-config-values",{valueName:t})}CP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),CP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class uxe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function lxe(t){if(!t||!t.options)throw Vh("App Configuration Object");if(!t.name)throw Vh("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Vh(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function bh(){return(bh=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(PSe,{scope:RSe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Qt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Hh(){return(Hh=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function MP(t){return bh.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Qt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function zh(){return(zh=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=fP)})).apply(this,arguments)}function Sh(){return Sh=m(function*(t,e){if(!navigator)throw Qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qt.create("permission-blocked");return yield function dxe(t,e){return zh.apply(this,arguments)}(t,e?.vapidKey),yield function fxe(t,e){return Hh.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function txe(t){return _h.apply(this,arguments)}(t)}),Sh.apply(this,arguments)}function xh(){return(xh=m(function*(t,e,n){const r=function pxe(t){switch(t){case B0.NOTIFICATION_CLICKED:return"notification_open";case B0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[dP],message_name:n[FSe],message_time:n[BSe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Eh(){return Eh=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===B0.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(yP(n)):t.onMessageHandler.next(yP(n)));const r=n.data;(function oxe(t){return"object"==typeof t&&!!t&&dP in t})(r)&&"1"===r["google.c.a.e"]&&(yield function hxe(t,e,n){return xh.apply(this,arguments)}(t,n.messageType,r))}),Eh.apply(this,arguments)}const VP="@firebase/messaging",gxe=t=>{const e=new uxe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function mxe(t,e){return Eh.apply(this,arguments)}(e,n)),e},vxe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function wP(t,e){return Sh.apply(this,arguments)}(e,r)}};function HP(){return Ih.apply(this,arguments)}function Ih(){return(Ih=m(function*(){try{yield ma()}catch{return!1}return typeof window<"u"&&or()&&K9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _xe(){b2(new l2("messaging",gxe,"PUBLIC")),b2(new l2("messaging-internal",vxe,"PRIVATE")),Ye(VP,"0.12.4"),Ye(VP,"0.12.4","esm2017")}();const U0="analytics",Mxe="firebase_id",wxe="origin",Vxe=6e4,bxe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ah="https://www.googletagmanager.com/gtag/js",kt=new U4("@firebase/analytics"),H2=new $1("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zxe(t){if(!t.startsWith(Ah)){const e=H2.create("invalid-gtag-resource",{gtagURL:t});return kt.warn(e.message),""}return t}function zP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Th(){return(Th=m(function*(t,e,n,r,i,s){const a=r[i];try{if(a)yield e[a];else{const o=(yield zP(n)).find(l=>l.measurementId===i);o&&(yield e[o.appId])}}catch(c){kt.error(c)}t("config",i,s)})).apply(this,arguments)}function Nh(){return(Nh=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const c=yield zP(n);for(const o of a){const l=c.find(f=>f.measurementId===o),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){kt.error(s)}})).apply(this,arguments)}const Nxe=30,SP=new class Pxe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Rxe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function kh(){return(kh=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Rxe(r)},s=bxe.replace("{app-id}",n),a=yield fetch(s,i);if(200!==a.status&&304!==a.status){let c="";try{const o=yield a.json();null!==(e=o.error)&&void 0!==e&&e.message&&(c=o.error.message)}catch{}throw H2.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()})).apply(this,arguments)}function Ph(){return(Ph=m(function*(t,e=SP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw H2.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw H2.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new jxe;return setTimeout(m(function*(){c.abort()}),void 0!==n?n:Vxe),xP({appId:r,apiKey:i,measurementId:s},a,c,e)})).apply(this,arguments)}function xP(t,e,n){return Rh.apply(this,arguments)}function Rh(){return Rh=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=SP){var s;const{appId:a,measurementId:c}=t;try{yield function Bxe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(H2.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(o){if(c)return kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${o?.message}]`),{appId:a,measurementId:c};throw o}try{const o=yield function Oxe(t){return kh.apply(this,arguments)}(t);return i.deleteThrottleMetadata(a),o}catch(o){const l=o;if(!function Uxe(t){if(!(t instanceof o1&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(a),c)return kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:a,measurementId:c};throw o}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?N0(n,i.intervalMillis,Nxe):N0(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(a,f),kt.debug(`Calling attemptFetch again in ${u} millis`),xP(t,f,r,i)}}),Rh.apply(this,arguments)}class jxe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Oh,Gh;function Fh(){return(Fh=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Wh(){return(Wh=m(function*(){if(!or())return kt.warn(H2.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ma()}catch(t){return kt.warn(H2.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Kh(){return Kh=m(function*(t,e,n,r,i,s,a){var c;const o=function Fxe(t){return Ph.apply(this,arguments)}(t);o.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&kt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>kt.error(h)),e.push(o);const l=function Yxe(){return Wh.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,f]=yield Promise.all([o,l]);(function Txe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ah)&&n.src.includes(t))return n;return null})(s)||function xxe(t,e){const n=function Sxe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:zxe}),r=document.createElement("script"),i=`${Ah}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),Gh&&(i("consent","default",Gh),function EP(t){Gh=t}(void 0)),i("js",new Date);const d=null!==(c=a?.config)&&void 0!==c?c:{};return d[wxe]="firebase",d.update=!0,null!=f&&(d[Mxe]=f),i("config",u.measurementId,d),Oh&&(i("set",Oh),function IP(t){Oh=t}(void 0)),u.measurementId}),Kh.apply(this,arguments)}class Jxe{constructor(e){this.app=e}_delete(){return delete q1[this.app.options.appId],Promise.resolve()}}let q1={},LP=[];const DP={};let TP,G1,j0="dataLayer",Qh=!1;function eEe(t,e,n){!function Zxe(){const t=[];if(W9()&&t.push("This is a browser extension environment."),K9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=H2.create("invalid-analytics-context",{errorInfo:e});kt.warn(n.message)}}();const r=t.options.appId;if(!r)throw H2.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw H2.create("no-api-key");kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=q1[r])throw H2.create("already-exists",{id:r});if(!Qh){!function Exe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(j0);const{wrappedGtag:s,gtagCore:a}=function Axe(t,e,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Dxe(t,e,n,r){function s(){return s=m(function*(a,...c){try{if("event"===a){const[o,l]=c;yield function Lxe(t,e,n,r,i){return Nh.apply(this,arguments)}(t,e,n,o,l)}else if("config"===a){const[o,l]=c;yield function Ixe(t,e,n,r,i,s){return Th.apply(this,arguments)}(t,e,n,r,o,l)}else if("consent"===a){const[o]=c;t("consent","update",o)}else if("get"===a){const[o,l,u]=c;t("get",o,l,u)}else if("set"===a){const[o]=c;t("set",o)}else t(a,...c)}catch(o){kt.error(o)}}),s.apply(this,arguments)}return function i(a){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(q1,LP,DP,j0,"gtag");G1=s,TP=a,Qh=!0}return q1[r]=function Xxe(t,e,n,r,i,s,a){return Kh.apply(this,arguments)}(t,LP,DP,e,TP,j0,n),new Jxe(t)}function nEe(){return Yh.apply(this,arguments)}function Yh(){return(Yh=m(function*(){if(W9()||!K9()||!or())return!1;try{return yield ma()}catch{return!1}})).apply(this,arguments)}const NP="@firebase/analytics";!function iEe(){b2(new l2(U0,(e,{options:n})=>eEe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),b2(new l2("analytics-internal",function t(e){try{const n=e.getProvider(U0).getImmediate();return{logEvent:(r,i,s)=>function rEe(t,e,n,r){t=dt(t),function $xe(t,e,n,r,i){return Fh.apply(this,arguments)}(G1,q1[t.app.options.appId],e,n,r).catch(i=>kt.error(i))}(n,r,i,s)}}catch(n){throw H2.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ye(NP,"0.10.0"),Ye(NP,"0.10.0","esm2017")}();class sEe extends h1{constructor(e,n){super()}schedule(e,n=0){return this}}const $0={setInterval(t,e,...n){const{delegate:r}=$0;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=$0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class PP extends sEe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return $0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&$0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Qi(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const RP={now:()=>(RP.delegate||Date).now(),delegate:void 0};class wa{constructor(e,n=wa.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}wa.now=RP.now;class OP extends wa{constructor(e,n=wa.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const oEe=new class cEe extends OP{}(class aEe extends PP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),lEe=new OP(PP),Va=new D3("7.6.1"),Jh="__angularfire_symbol__analyticsIsSupportedValue",Zh="__angularfire_symbol__analyticsIsSupported",ep="__angularfire_symbol__remoteConfigIsSupportedValue",tp="__angularfire_symbol__remoteConfigIsSupported",np="__angularfire_symbol__messagingIsSupportedValue",rp="__angularfire_symbol__messagingIsSupported";function sp(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(a=>a.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Zh]||(globalThis[Zh]=nEe().then(t=>globalThis[Jh]=t).catch(()=>globalThis[Jh]=!1)),globalThis[rp]||(globalThis[rp]=HP().then(t=>globalThis[np]=t).catch(()=>globalThis[np]=!1)),globalThis[tp]||(globalThis[tp]=zSe().then(t=>globalThis[ep]=t).catch(()=>globalThis[ep]=!1));const ap=(t,e)=>{const n=e?[e]:Sk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r};function q4(){}class FP{constructor(e,n=oEe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(a){i.runGuarded(()=>{e.apply(this,[a])})},n,r)}}class fEe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",q4,{},q4,q4)),n.pipe(function uEe(t,e,n){const r=je(t)||e||n?{next:t,error:e,complete:n}:t;return r?Qn((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let c=!0;i.subscribe(an(s,o=>{var l;null===(l=r.next)||void 0===l||l.call(r,o),s.next(o)},()=>{var o;c=!1,null===(o=r.complete)||void 0===o||o.call(r),s.complete()},o=>{var l;c=!1,null===(l=r.error)||void 0===l||l.call(r,o),s.error(o)},()=>{var o,l;c&&(null===(o=r.unsubscribe)||void 0===o||o.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):go}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let q0=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new FP(Zone.current)),this.insideAngular=n.run(()=>new FP(Zone.current,lEe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(ae(ke))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function pi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function mi(t){return pi().ngZone.run(()=>t())}function hEe(t){return pi(),function pEe(t){return function(n){return(n=n.lift(new fEe(t.ngZone))).pipe(Co(t.outsideAngular),yo(t.insideAngular))}}(pi())(t)}const mEe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),mi(()=>t.apply(void 0,r))},Pt=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=mi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",q4,{},q4,q4)))),r[s]=mEe(r[s],n));const i=function dEe(t){return pi().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof $e){const s=pi();return i.pipe(Co(s.outsideAngular),yo(s.insideAngular))}return mi(()=>i)}return i instanceof $e?i.pipe(hEe):i instanceof Promise?mi(()=>new Promise((s,a)=>i.then(c=>mi(()=>s(c)),c=>mi(()=>a(c))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:mi(()=>i)};class G4{constructor(e){return e}}class G0{constructor(){return Sk()}}const cp=new q("angularfire2._apps"),vEe={provide:G4,useFactory:function gEe(t){return t&&1===t.length?t[0]:new G4(ya())},deps:[[new s2,cp]]},_Ee={provide:G0,deps:[[new s2,cp]]};function yEe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new G4(r)}}let CEe=(()=>{class t{constructor(n){Ye("angularfire",Va.full,"core"),Ye("angularfire",Va.full,"app"),Ye("angular",QV.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(ae(pn))},t.\u0275mod=ct({type:t}),t.\u0275inj=Ze({providers:[vEe,_Ee]}),t})();function W4(t,...e){return{ngModule:CEe,providers:[{provide:cp,useFactory:yEe(t),multi:!0,deps:[ke,c2,q0,...e]}]}}const K4=Pt(ya,!0),Q4=Pt(zk,!0),op=new Map,BP={activated:!1,tokenObservers:[]},MEe={initialized:!1,enabled:!1};function nt(t){return op.get(t)||Object.assign({},BP)}function W0(){return MEe}const lp="https://content-firebaseappcheck.googleapis.com/v1",HEe="exchangeDebugToken",UP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class SEe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new B4,yield function xEe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new B4,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Yt=new $1("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function K0(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function up(t){if(!nt(t).activated)throw Yt.create("use-before-activation",{appName:t.name})}function fp(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let a="";return n&&(a+=Q0(n)+"d:"),r&&(a+=Q0(r)+"h:"),a+=Q0(i)+"m:"+Q0(s)+"s",a}function Q0(t){return 0===t?"00":t>=10?t.toString():"0"+t}function Y0(t,e){return dp.apply(this,arguments)}function dp(){return(dp=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=yield i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(e),headers:r};let a,c;try{a=yield fetch(t,s)}catch(f){throw Yt.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==a.status)throw Yt.create("fetch-status-error",{httpStatus:a.status});try{c=yield a.json()}catch(f){throw Yt.create("fetch-parse-error",{originalErrorMessage:f?.message})}const o=c.ttl.match(/^([\d.]+)(s)$/);if(!o||!o[2]||isNaN(Number(o[1])))throw Yt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const l=1e3*Number(o[1]),u=Date.now();return{token:c.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function jP(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${lp}/projects/${n}/apps/${r}:${HEe}?key=${i}`,body:{debug_token:e}}}const DEe="firebase-app-check-database",AEe=1,ba="firebase-app-check-store",$P="debug-token";let X0=null;function qP(){return X0||(X0=new Promise((t,e)=>{try{const n=indexedDB.open(DEe,AEe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Yt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ba,{keyPath:"compositeKey"})}}catch(n){e(Yt.create("storage-open",{originalErrorMessage:n?.message}))}}),X0)}function GP(t,e){return hp.apply(this,arguments)}function hp(){return(hp=m(function*(t,e){const r=(yield qP()).transaction(ba,"readwrite"),s=r.objectStore(ba).put({compositeKey:t,value:e});return new Promise((a,c)=>{s.onsuccess=o=>{a()},r.onerror=o=>{var l;c(Yt.create("storage-set",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}function WP(t){return pp.apply(this,arguments)}function pp(){return(pp=m(function*(t){const n=(yield qP()).transaction(ba,"readonly"),i=n.objectStore(ba).get(t);return new Promise((s,a)=>{i.onsuccess=c=>{const o=c.target.result;s(o?o.value:void 0)},n.onerror=c=>{var o;a(Yt.create("storage-get",{originalErrorMessage:null===(o=c.target.error)||void 0===o?void 0:o.message}))}})})).apply(this,arguments)}function KP(t){return`${t.options.appId}-${t.name}`}const Ha=new U4("@firebase/app-check");function mp(){return(mp=m(function*(t){if(or()){let e;try{e=yield function TEe(t){return WP(KP(t))}(t)}catch(n){Ha.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})).apply(this,arguments)}function gp(t,e){return or()?function NEe(t,e){return GP(KP(t),e)}(t,e).catch(n=>{Ha.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function vp(){return(vp=m(function*(){let t;try{t=yield function PEe(){return WP($P)}()}catch{}if(t)return t;{const e=Gbe();return function kEe(t){return GP($P,t)}(e).catch(n=>Ha.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})).apply(this,arguments)}function _p(){return W0().enabled}function yp(){return Cp.apply(this,arguments)}function Cp(){return(Cp=m(function*(){const t=W0();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const BEe={error:"UNKNOWN_ERROR"};function UEe(t){return G9.encodeString(JSON.stringify(t),!1)}function J0(t){return Mp.apply(this,arguments)}function Mp(){return(Mp=m(function*(t,e=!1){const n=t.app;up(n);const r=nt(n);let s,i=r.token;if(i&&!Y4(i)&&(r.token=void 0,i=void 0),!i){const o=yield r.cachedTokenPromise;o&&(Y4(o)?i=o:yield gp(n,void 0))}if(!e&&i&&Y4(i))return{token:i.token};let c,a=!1;if(_p()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Y0(jP(n,yield yp()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);const o=yield r.exchangeTokenPromise;return yield gp(n,o),r.token=o,{token:o.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),i=yield nt(n).exchangeTokenPromise}catch(o){"appCheck/throttled"===o.code?Ha.warn(o.message):Ha.error(o),s=o}return i?s?c=Y4(i)?{token:i.token,internalError:s}:JP(s):(c={token:i.token},r.token=i,yield gp(n,i)):c=JP(s),a&&XP(n,c),c})).apply(this,arguments)}function QP(t){return wp.apply(this,arguments)}function wp(){return(wp=m(function*(t){const e=t.app;up(e);const{provider:n}=nt(e);if(_p()){const r=yield yp(),{token:i}=yield Y0(jP(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function Vp(t,e,n,r){const{app:i}=t,s=nt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Y4(s.token)){const c=s.token;Promise.resolve().then(()=>{n({token:c.token}),YP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>YP(t))}function bp(t,e){const n=nt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function YP(t){const{app:e}=t,n=nt(e);let r=n.tokenRefresher;r||(r=function jEe(t){const{app:e}=t;return new SEe(m(function*(){let r;if(r=nt(e).token?yield J0(t,!0):yield J0(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=nt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},UP.RETRIAL_MIN_WAIT,UP.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function XP(t,e){const n=nt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Y4(t){return t.expireTimeMillis-Date.now()>0}function JP(t){return{token:UEe(BEe),error:t}}class $Ee{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=nt(this.app);for(const n of e)bp(this.app,n.next);return Promise.resolve()}}function XEe(t,e){const n=new B4;nt(t).reCAPTCHAState={initialized:n};const i=function ZP(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=K0(!1);return s?Z0(t,e,s,i,n):function eIe(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const a=K0(!1);if(!a)throw new Error("no recaptcha");Z0(t,e,a,i,n)}),n.promise}function Z0(t,e,n,r,i){n.ready(()=>{(function ZEe(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{nt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{nt(t).reCAPTCHAState.succeeded=!1}}),s=nt(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function eR(t){return Hp.apply(this,arguments)}function Hp(){return(Hp=m(function*(t){up(t);const n=yield nt(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=nt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class dr{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return m(function*(){var n,r,i;!function iR(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Yt.create("throttled",{time:fp(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield eR(e._app).catch(c=>{throw Yt.create("recaptcha-error")});if(null===(n=nt(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw Yt.create("recaptcha-error");let a;try{a=yield Y0(function IEe(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${lp}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(c){throw null!==(r=c.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function rR(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=N0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=c.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),Yt.create("throttled",{time:fp(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):c}return e._throttleData=null,a})()}initialize(e){this._app=e,this._heartbeatServiceProvider=ur(e,"heartbeat"),XEe(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof dr&&this._siteKey===e._siteKey}}function nIe(t=ya(),e){const n=ur(t=dt(t),"app-check");if(W0().initialized||function FEe(){const t=hk(),e=W0();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new B4;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function OEe(){return vp.apply(this,arguments)}())}(),_p()&&yp().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Yt.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function rIe(t,e,n){const r=function wEe(t,e){return op.set(t,e),op.get(t)}(t,Object.assign({},BP));r.activated=!0,r.provider=e,r.cachedTokenPromise=function REe(t){return mp.apply(this,arguments)}(t).then(i=>(i&&Y4(i)&&(r.token=i,XP(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),nt(t).isTokenAutoRefreshEnabled&&Vp(r,"INTERNAL",()=>{}),r}const sR="app-check-internal";!function sIe(){b2(new l2("app-check",t=>function qEe(t,e){return new $Ee(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(sR).initialize()})),b2(new l2(sR,t=>function GEe(t){return{getToken:e=>J0(t,e),getLimitedUseToken:()=>QP(t),addTokenListener:e=>Vp(t,"INTERNAL",e),removeTokenListener:e=>bp(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ye("@firebase/app-check","0.8.0")}();const aR="app-check";class Sp{constructor(e){return e}}class xp{constructor(){return ap(aR)}}const Ep=new q("angularfire2.app-check-instances"),cIe=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function oIe(t){return(e,n,r)=>{var i;!Ff(r)&&cIe&&(null!==(i=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==i||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const s=e.runOutsideAngular(()=>t(n));return new Sp(s)}}const lIe={provide:xp,deps:[[new s2,Ep]]},uIe={provide:Sp,useFactory:function aIe(t,e){const n=sp(aR,t,e);return n&&new Sp(n)},deps:[[new s2,Ep],G4,pn]};let fIe=(()=>{class t{constructor(){Ye("angularfire",Va.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ct({type:t}),t.\u0275inj=Ze({providers:[uIe,lIe]}),t})();function X4(t,...e){return{ngModule:fIe,providers:[{provide:Ep,useFactory:oIe(t),multi:!0,deps:[ke,c2,pn,q0,G0,...e]}]}}const J4=Pt(nIe,!0);const dIe=function cR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},oR=new $1("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),e8=new U4("@firebase/auth");function t8(t,...e){e8.logLevel<=ge.ERROR&&e8.error(`Auth (${li}): ${t}`,...e)}function O2(t,...e){throw Ip(t,...e)}function Q2(t,...e){return Ip(t,...e)}function lR(t,e,n){const r=Object.assign(Object.assign({},dIe()),{[e]:n});return new $1("auth","Firebase",r).create(e,{appName:t.name})}function Ip(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oR.create(t,...e)}function E(t,e,...n){if(!t)throw Ip(e,...n)}function W1(t){const e="INTERNAL ASSERTION FAILED: "+t;throw t8(e),new Error(e)}function xn(t,e){t||W1(e)}function za(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function uR(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Sa{constructor(e,n){this.shortDelay=e,this.longDelay=n,xn(n>e,"Short delay should be less than long delay!"),this.isMobile=function Nbe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}()||function Pbe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function pIe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Lp(){return"http:"===uR()||"https:"===uR()}()||W9()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dp(t,e){xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void W1("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void W1("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void W1("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gIe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},vIe=new Sa(3e4,6e4);function Xe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function rt(t,e,n,r){return Ap.apply(this,arguments)}function Ap(){return(Ap=m(function*(t,e,n,r,i={}){return dR(t,i,m(function*(){let s={},a={};r&&("GET"===e?a=r:s={body:JSON.stringify(r)});const c=ga(Object.assign({key:t.config.apiKey},a)).slice(1),o=yield t._getAdditionalHeaders();return o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode),fR.fetch()(hR(t,t.config.apiHost,n,c),Object.assign({method:e,headers:o,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function dR(t,e,n){return Tp.apply(this,arguments)}function Tp(){return(Tp=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gIe),e);try{const i=new _Ie(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=yield s.json();if("needConfirmation"in a)throw xa(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[o,l]=c.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===o)throw xa(t,"credential-already-in-use",a);if("EMAIL_EXISTS"===o)throw xa(t,"email-already-in-use",a);if("USER_DISABLED"===o)throw xa(t,"user-disabled",a);const u=r[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw lR(t,u,l);O2(t,u)}}catch(i){if(i instanceof o1)throw i;O2(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function En(t,e,n,r){return Np.apply(this,arguments)}function Np(){return(Np=m(function*(t,e,n,r,i={}){const s=yield rt(t,e,n,r,i);return"mfaPendingCredential"in s&&O2(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function hR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Dp(t.config,i):`${t.config.apiScheme}://${i}`}class _Ie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Q2(this.auth,"network-request-failed")),vIe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Q2(t,e,r);return i.customData._tokenResponse=n,i}function kp(){return(kp=m(function*(t,e){return rt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Rp(){return(Rp=m(function*(t,e){return rt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ea(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Op(){return(Op=m(function*(t,e=!1){const n=dt(t),r=yield n.getIdToken(e),i=n8(r);E(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Ea(Fp(i.auth_time)),issuedAtTime:Ea(Fp(i.iat)),expirationTime:Ea(Fp(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Fp(t){return 1e3*Number(t)}function n8(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return t8("JWT malformed, contained fewer than 3 sections"),null;try{const i=L0(n);return i?JSON.parse(i):(t8("Failed to decode base64 JWT payload"),null)}catch(i){return t8("Caught error parsing JWT payload as JSON",i?.toString()),null}}function In(t,e){return Bp.apply(this,arguments)}function Bp(){return(Bp=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof o1&&function bIe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class HIe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class pR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ia(t){return Up.apply(this,arguments)}function Up(){return Up=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield In(t,function MIe(t,e){return Rp.apply(this,arguments)}(n,{idToken:r}));E(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function xIe(t){return t.map(e=>{var{providerId:n}=e,r=_o(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],c=function SIe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,a),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||c?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new pR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}),Up.apply(this,arguments)}function jp(){return(jp=m(function*(t){const e=dt(t);yield Ia(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function $p(){return($p=m(function*(t,e){const n=yield dR(t,{},m(function*(){const r=ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=hR(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",fR.fetch()(a,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){E(e.idToken,"internal-error"),E(typeof e.idToken<"u","internal-error"),E(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function VIe(t){const e=n8(t);return E(e,"internal-error"),E(typeof e.exp<"u","internal-error"),E(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return E(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:a}=yield function EIe(t,e){return $p.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(a))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new La;return r&&(E("string"==typeof r,"internal-error",{appName:e}),a.refreshToken=r),i&&(E("string"==typeof i,"internal-error",{appName:e}),a.accessToken=i),s&&(E("number"==typeof s,"internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return W1("not implemented")}}function hr(t,e){E("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class gi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_o(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HIe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield In(n,n.stsTokenManager.getToken(n.auth,e));return E(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function wIe(t){return Op.apply(this,arguments)}(this,e)}reload(){return function zIe(t){return jp.apply(this,arguments)}(this)}_assign(e){this!==e&&(E(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){E(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ia(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield In(e,function yIe(t,e){return kp.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,c,o,l,u;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,g=null!==(c=n.tenantId)&&void 0!==c?c:void 0,v=null!==(o=n._redirectEventId)&&void 0!==o?o:void 0,C=null!==(l=n.createdAt)&&void 0!==l?l:void 0,_=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:I,isAnonymous:N,providerData:G,stsTokenManager:fe}=n;E(w&&fe,e,"internal-error");const wt=La.fromJSON(this.name,fe);E("string"==typeof w,e,"internal-error"),hr(f,e.name),hr(d,e.name),E("boolean"==typeof I,e,"internal-error"),E("boolean"==typeof N,e,"internal-error"),hr(h,e.name),hr(p,e.name),hr(g,e.name),hr(v,e.name),hr(C,e.name),hr(_,e.name);const Lt=new gi({uid:w,auth:e,email:d,emailVerified:I,displayName:f,isAnonymous:N,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:wt,createdAt:C,lastLoginAt:_});return G&&Array.isArray(G)&&(Lt.providerData=G.map(lo=>Object.assign({},lo))),v&&(Lt._redirectEventId=v),Lt}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new La;i.updateFromServerResponse(n);const s=new gi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ia(s),s})()}}const mR=new Map;function Ln(t){xn(t instanceof Function,"Expected a class definition");let e=mR.get(t);return e?(xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mR.set(t,e),e)}const gR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function r8(t,e,n){return`firebase:${t}:${e}:${n}`}class es{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=r8(this.userKey,i.apiKey,s),this.fullPersistenceKey=r8("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?gi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new es(Ln(gR),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Ln(gR);const a=r8(r,e.config.apiKey,e.name);let c=null;for(const l of n)try{const u=yield l._get(a);if(u){const f=gi._fromJSON(e,u);l!==s&&(c=f),s=l;break}}catch{}const o=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],c&&(yield s._set(a,c.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(u){if(u!==s)try{yield u._remove(a)}catch{}});return function(u){return l.apply(this,arguments)}}())),new es(s,e,r)):new es(s,e,r)})()}}function vR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_R(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wR(e))return"Blackberry";if(VR(e))return"Webos";if(qp(e))return"Safari";if((e.includes("chrome/")||yR(e))&&!e.includes("edge/"))return"Chrome";if(MR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function _R(t=Nt()){return/firefox\//i.test(t)}function qp(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yR(t=Nt()){return/crios\//i.test(t)}function CR(t=Nt()){return/iemobile/i.test(t)}function MR(t=Nt()){return/android/i.test(t)}function wR(t=Nt()){return/blackberry/i.test(t)}function VR(t=Nt()){return/webos/i.test(t)}function i8(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bR(t=Nt()){return i8(t)||MR(t)||VR(t)||wR(t)||/windows phone/i.test(t)||CR(t)}function HR(t,e=[]){let n;switch(t){case"Browser":n=vR(Nt());break;case"Worker":n=`${vR(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${li}/${r}`}function zR(t,e){return Wp.apply(this,arguments)}function Wp(){return(Wp=m(function*(t,e){return rt(t,"GET","/v2/recaptchaConfig",Xe(t,e))})).apply(this,arguments)}function xR(t){return void 0!==t&&void 0!==t.enterprise}class ER{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function Kp(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Q2("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function TIe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function IR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class LR{constructor(e){this.type="recaptcha-enterprise",this.auth=Rt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(c){if(!n){if(null==c.tenantId&&null!=c._agentRecaptchaConfig)return c._agentRecaptchaConfig.siteKey;if(null!=c.tenantId&&void 0!==c._tenantRecaptchaConfigs[c.tenantId])return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(function(){var o=m(function*(l,u){zR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(void 0!==f.recaptchaKey){const d=new ER(f);return null==c.tenantId?c._agentRecaptchaConfig=d:c._tenantRecaptchaConfigs[c.tenantId]=d,l(d.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(f=>{u(f)})});return function(l,u){return o.apply(this,arguments)}}())}),s.apply(this,arguments)}function a(c,o,l){const u=window.grecaptcha;xR(u)?u.enterprise.ready(()=>{u.enterprise.execute(c,{action:e}).then(f=>{o(f)}).catch(()=>{o("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,o)=>{(function i(c){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&xR(window.grecaptcha))a(l,c,o);else{if(typeof window>"u")return void o(new Error("RecaptchaVerifier is only supported in browser"));Kp("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{a(l,c,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})})()}}function pr(t,e,n){return Qp.apply(this,arguments)}function Qp(){return(Qp=m(function*(t,e,n,r=!1){const i=new LR(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const a=Object.assign({},e);return Object.assign(a,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})).apply(this,arguments)}class RIe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,c)=>{try{a(e(s))}catch(o){c(o)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class OIe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DR(this),this.idTokenSubscription=new DR(this),this.beforeStateQueue=new RIe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ln(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield es.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const c=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!c||c===o)&&l?.user&&(s=l.user,a=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{yield n.beforeStateQueue.runMiddleware(s)}catch(c){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(c))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return E(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Ia(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function mIe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?dt(e):null;return r&&E(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&E(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(Ln(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield zR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ER(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new LR(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $1("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&Ln(e)||n._popupRedirectResolver;E(r,n,"argument-error"),n.redirectPersistenceManager=yield es.create(n,[Ln(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return E(a,this,"internal-error"),a.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return E(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function hIe(t,...e){e8.logLevel<=ge.WARN&&e8.warn(`Auth (${li}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Rt(t){return dt(t)}class DR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function jbe(t,e){const n=new $be(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return E(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function AR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function TR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Yp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return W1("not implemented")}_getIdTokenResponse(e){return W1("not implemented")}_linkToIdToken(e,n){return W1("not implemented")}_getReauthenticationResolver(e){return W1("not implemented")}}function kR(t,e){return Jp.apply(this,arguments)}function Jp(){return(Jp=m(function*(t,e){return rt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function em(t,e){return tm.apply(this,arguments)}function tm(){return(tm=m(function*(t,e){return En(t,"POST","/v1/accounts:signInWithPassword",Xe(t,e))})).apply(this,arguments)}function lm(){return(lm=m(function*(t,e){return En(t,"POST","/v1/accounts:signInWithEmailLink",Xe(t,e))})).apply(this,arguments)}function um(){return(um=m(function*(t,e){return En(t,"POST","/v1/accounts:signInWithEmailLink",Xe(t,e))})).apply(this,arguments)}class Da extends Yp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Da(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Da(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield pr(e,i,"signInWithPassword");return em(e,s)}return em(e,i).catch(function(){var s=m(function*(a){if("auth/missing-recaptcha-token"===a.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const c=yield pr(e,i,"signInWithPassword");return em(e,c)}return Promise.reject(a)});return function(a){return s.apply(this,arguments)}}());case"emailLink":return function KIe(t,e){return lm.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:O2(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return kR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function QIe(t,e){return um.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:O2(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Dn(t,e){return fm.apply(this,arguments)}function fm(){return(fm=m(function*(t,e){return En(t,"POST","/v1/accounts:signInWithIdp",Xe(t,e))})).apply(this,arguments)}class ts extends Yp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):O2("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=_o(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ts(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){return Dn(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Dn(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dn(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ga(n)}return e}}class Ta{constructor(e){var n,r,i,s,a,c;const o=va(_a(e)),l=null!==(n=o.apiKey)&&void 0!==n?n:null,u=null!==(r=o.oobCode)&&void 0!==r?r:null,f=function nLe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=o.mode)&&void 0!==i?i:null);E(l&&u&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=u,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(c=o.tenantId)&&void 0!==c?c:null}static parseLink(e){const n=function rLe(t){const e=va(_a(t)).link,n=e?va(_a(e)).deep_link_id:null,r=va(_a(t)).deep_link_id;return(r?va(_a(r)).link:null)||r||n||e||t}(e);try{return new Ta(n)}catch{return null}}}let PR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Da._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Ta.parseLink(r);return E(i,"argument-error"),Da._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class mr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class RR extends mr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let iLe=(()=>{class t extends RR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return ts._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class l1{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield gi._fromIdTokenResponse(e,r,i),a=OR(r);return new l1({user:s,providerId:a,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=OR(r);return new l1({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function OR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class o8 extends o1{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,o8.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new o8(e,n,r,i)}}function FR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?o8._fromErrorAndOperation(t,s,e,r):s})}function Mm(){return(Mm=m(function*(t,e,n=!1){const r=yield In(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return l1._forOperation(t,"link",r)})).apply(this,arguments)}function Vm(){return(Vm=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield In(t,FR(r,i,e,t),n);E(s.idToken,r,"internal-error");const a=n8(s.idToken);E(a,r,"internal-error");const{sub:c}=a;return E(t.uid===c,r,"user-mismatch"),l1._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&O2(r,"user-mismatch"),s}})).apply(this,arguments)}function jR(t,e){return bm.apply(this,arguments)}function bm(){return(bm=m(function*(t,e,n=!1){const r="signIn",i=yield FR(t,r,e),s=yield l1._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function zm(){return(zm=m(function*(t,e){return jR(Rt(t),e)})).apply(this,arguments)}function fLe(t,e,n){return function Hm(t,e){return zm.apply(this,arguments)}(dt(t),PR.credential(e,n))}const u8="__sak";class qR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(u8,"1"),this.storage.removeItem(u8),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ELe=(()=>{class t extends qR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zLe(){const t=Nt();return qp(t)||i8(t)}()&&function DIe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((c,o,l)=>{this.notifyListeners(c,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(i);if(n.newValue!==c)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);!function LIe(){return function Rbe(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||a===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),GR=(()=>{class t extends qR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let LLe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:a,data:c}=i.data,o=r.handlersMap[a];if(!o?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const l=Array.from(o).map(function(){var f=m(function*(d){return d(i.origin,c)});return function(d){return f.apply(this,arguments)}}()),u=yield function ILe(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function f8(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class DLe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,c;return new Promise((o,l)=>{const u=f8("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(h.data.response);break;default:clearTimeout(f),clearTimeout(a),l(new Error("invalid_response"))}}},i.handlers.add(c),s.port1.addEventListener("message",c.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{c&&i.removeMessageHandler(c)})})()}}function yt(){return window}function eg(){return typeof yt().WorkerGlobalScope<"u"&&"function"==typeof yt().importScripts}function tg(){return(tg=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const WR="firebaseLocalStorageDb",d8="firebaseLocalStorage",KR="fbase_key";class ka{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function h8(t,e){return t.transaction([d8],e?"readwrite":"readonly").objectStore(d8)}function ng(){const t=indexedDB.open(WR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(d8,{keyPath:KR})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(d8)?e(r):(r.close(),yield function RLe(){const t=indexedDB.deleteDatabase(WR);return new ka(t).toPromise()}(),e(yield ng()))}))})}function QR(t,e,n){return rg.apply(this,arguments)}function rg(){return(rg=m(function*(t,e,n){const r=h8(t,!0).put({[KR]:e,value:n});return new ka(r).toPromise()})).apply(this,arguments)}function ig(){return(ig=m(function*(t,e){const n=h8(t,!1).get(e),r=yield new ka(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function YR(t,e){const n=h8(t,!0).delete(e);return new ka(n).toPromise()}const ULe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield ng()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return eg()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=LLe._getInstance(function kLe(){return eg()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function TLe(){return tg.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new DLe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function NLe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield ng();return yield QR(n,u8,"1"),yield YR(n,u8),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>QR(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function OLe(t,e){return ig.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>YR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(a=>{const c=h8(a,!1).getAll();return new ka(c).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:a,value:c}of r)s.add(a),JSON.stringify(n.localCache[a])!==JSON.stringify(c)&&(n.notifyListeners(a,c),i.push(a));for(const a of Object.keys(n.localCache))n.localCache[a]&&!s.has(a)&&(n.notifyListeners(a,null),i.push(a));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function _i(t,e){return e?Ln(e):(E(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}IR("rcb"),new Sa(3e4,6e4);class hg extends Yp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dn(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dn(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dn(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iDe(t){return jR(t.auth,new hg(t),t.bypassAuthState)}function sDe(t){const{auth:e,user:n}=t;return E(n,e,"internal-error"),function UR(t,e){return Vm.apply(this,arguments)}(n,new hg(t),t.bypassAuthState)}function aDe(t){return pg.apply(this,arguments)}function pg(){return(pg=m(function*(t){const{auth:e,user:n}=t;return E(n,e,"internal-error"),function Cm(t,e){return Mm.apply(this,arguments)}(n,new hg(t),t.bypassAuthState)})).apply(this,arguments)}class JR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:a,error:c,type:o}=e;if(c)return void n.reject(c);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(o)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iDe;case"linkViaPopup":case"linkViaRedirect":return aDe;case"reauthViaPopup":case"reauthViaRedirect":return sDe;default:O2(this.auth,"internal-error")}}resolve(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cDe=new Sa(2e3,1e4);function oDe(t,e,n){return mg.apply(this,arguments)}function mg(){return(mg=m(function*(t,e,n){const r=Rt(t);!function Z4(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&O2(t,"argument-error"),lR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,mr);const i=_i(r,n);return new _g(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let _g=(()=>{class t extends JR{constructor(n,r,i,s,a){super(n,r,s,a),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return E(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){xn(1===n.filter.length,"Popup operations only handle one event");const r=f8();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Q2(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Q2(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Q2(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,cDe.get())};n()}}return t.currentPopupAction=null,t})();const lDe="pendingRedirect",Pa=new Map;class uDe extends JR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=Pa.get(n.auth._key());if(!r){try{const s=(yield function fDe(t,e){return yg.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Pa.set(n.auth._key(),r)}return n.bypassAuthState||Pa.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function yg(){return(yg=m(function*(t,e){const n=function eO(t){return r8(lDe,t.config.apiKey,t.name)}(e),r=function ZR(t){return Ln(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function dDe(t,e){Pa.set(t._key(),e)}function tO(t,e){return zg.apply(this,arguments)}function zg(){return(zg=m(function*(t,e,n=!1){const r=Rt(t),i=_i(r,e),a=yield new uDe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})).apply(this,arguments)}class vDe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function _De(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iO(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Q2(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rO(e))}saveEventToCache(e){this.cachedEventUids.add(rO(e)),this.lastProcessedEventTime=Date.now()}}function rO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iO({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function xg(){return(xg=m(function*(t,e={}){return rt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const CDe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MDe=/^https?/;function Eg(){return Eg=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function yDe(t){return xg.apply(this,arguments)}(t);for(const n of e)try{if(VDe(n))return}catch{}O2(t,"unauthorized-domain")}),Eg.apply(this,arguments)}function VDe(t){const e=za(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return""===a.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&a.hostname===r}if(!MDe.test(n))return!1;if(CDe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const bDe=new Sa(3e4,6e4);function sO(){const t=yt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let m8=null;const SDe=new Sa(5e3,15e3),xDe="__/auth/iframe",EDe="emulator/auth/iframe",IDe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LDe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DDe(t){const e=t.config;E(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dp(e,EDe):`https://${t.config.authDomain}/${xDe}`,r={apiKey:e.apiKey,appName:t.name,v:li},i=LDe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ga(r).slice(1)}`}function Ig(){return Ig=m(function*(t){const e=yield function zDe(t){return m8=m8||function HDe(t){return new Promise((e,n)=>{var r,i,s;function a(){sO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sO(),n(Q2(t,"network-request-failed"))},timeout:bDe.get()})}if(null!==(i=null===(r=yt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=yt().gapi)||void 0===s||!s.load){const c=IR("iframefcb");return yt()[c]=()=>{gapi.load?a():n(Q2(t,"network-request-failed"))},Kp(`https://apis.google.com/js/api.js?onload=${c}`).catch(o=>n(o))}a()}}).catch(e=>{throw m8=null,e})}(t),m8}(t),n=yt().gapi;return E(n,t,"internal-error"),e.open({where:document.body,url:DDe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IDe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,a){yield r.restyle({setHideOnLeave:!1});const c=Q2(t,"network-request-failed"),o=yt().setTimeout(()=>{a(c)},SDe.get());function l(){yt().clearTimeout(o),s(r)}r.ping(l).then(l,()=>{a(c)})});return function(s,a){return i.apply(this,arguments)}}()))}),Ig.apply(this,arguments)}const TDe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class aO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const BDe="__/auth/handler",UDe="emulator/auth/handler",jDe=encodeURIComponent("fac");function cO(t,e,n,r,i,s){return Lg.apply(this,arguments)}function Lg(){return(Lg=m(function*(t,e,n,r,i,s){E(t.config.authDomain,t,"auth-domain-config-required"),E(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:li,eventId:i};if(e instanceof mr){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",function Ube(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof RR){const u=e.getScopes().filter(f=>""!==f);u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const u of Object.keys(c))void 0===c[u]&&delete c[u];const o=yield t._getAppCheckToken(),l=o?`#${jDe}=${encodeURIComponent(o)}`:"";return`${function $De({config:t}){return t.emulator?Dp(t,UDe):`https://${t.authDomain}/${BDe}`}(t)}?${ga(c).slice(1)}${l}`})).apply(this,arguments)}const Dg="webStorageSupport",GDe=class qDe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GR,this._completeRedirectFn=tO,this._overrideRedirectResult=dDe}_openPopup(e,n,r,i){var s=this;return m(function*(){var a;xn(null===(a=s.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const c=yield cO(e,n,r,za(),i);return function ODe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const o=Object.assign(Object.assign({},TDe),{width:r.toString(),height:i.toString(),top:s,left:a}),l=Nt().toLowerCase();n&&(c=yR(l)?"_blank":n),_R(l)&&(e=e||"http://localhost",o.scrollbars="yes");const u=Object.entries(o).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(function IIe(t=Nt()){var e;return i8(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==c)return function FDe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",c),new aO(null);const f=window.open(e||"",c,u);E(f,t,"popup-blocked");try{f.focus()}catch{}return new aO(f)}(e,c,f8())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function ALe(t){yt().location.href=t}(yield cO(e,n,r,za(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function ADe(t){return Ig.apply(this,arguments)}(e),i=new vDe(e);return r.register("authEvent",s=>(E(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dg,{type:Dg},i=>{var s;const a=null===(s=i?.[0])||void 0===s?void 0:s[Dg];void 0!==a&&n(!!a),O2(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function wDe(t){return Eg.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bR()||qp()||i8()}};var uO="@firebase/auth";class WDe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){E(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const XDe=gk("authIdTokenMaxAge")||300;let dO=null;const JDe=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>XDe)return;const s=r?.token;dO!==s&&(dO=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function ZDe(t=ya()){const e=ur(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function FIe(t,e){const n=ur(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(T0(n.getOptions(),e??{}))return i;O2(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:GDe,persistence:[ULe,ELe,GR]}),r=gk("authTokenSyncURL");if(r){const s=JDe(r);(function CLe(t,e,n){dt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function yLe(t,e,n,r){dt(t).onIdTokenChanged(e,n,r)}(n,a=>s(a))}const i=pk("auth");return i&&function UIe(t,e,n){const r=Rt(t);E(r._canInitEmulator,r,"emulator-config-failed"),E(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=AR(e),{host:a,port:c}=function jIe(t){const e=AR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:TR(r.substr(s.length+1))}}{const[s,a]=r.split(":");return{host:s,port:TR(a)}}}(e);r.config.emulator={url:`${s}//${a}${null===c?"":`:${c}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function $Ie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function eAe(t){return new $e(function(e){var n=function MLe(t,e,n,r){return dt(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function QDe(t){b2(new l2("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;E(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HR(t)},l=new OIe(r,i,s,o);return function BIe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ln);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),b2(new l2("auth-internal",e=>{const n=Rt(e.getProvider("auth").getImmediate());return new WDe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(uO,"0.23.2",function KDe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ye(uO,"0.23.2","esm2017")}("Browser");class v8{constructor(e){return e}}class pO{constructor(){return ap("auth")}}const Tg=new q("angularfire2.auth-instances");function rAe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new v8(r)}}const iAe={provide:pO,deps:[[new s2,Tg]]},sAe={provide:v8,useFactory:function nAe(t,e){const n=sp("auth",t,e);return n&&new v8(n)},deps:[[new s2,Tg],G4]};let aAe=(()=>{class t{constructor(){Ye("angularfire",Va.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ct({type:t}),t.\u0275inj=Ze({providers:[sAe,iAe]}),t})();function rs(t,...e){return{ngModule:aAe,providers:[{provide:Tg,useFactory:rAe(t),multi:!0,deps:[ke,c2,q0,G0,[new s2,xp],...e]}]}}const cAe=Pt(eAe,!0),is=Pt(ZDe,!0),oAe=Pt(fLe,!0),lAe=Pt(oDe,!0);var T,uAe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},b1={},Ng=Ng||{},ne=uAe||self;function _8(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ra(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var kg="closure_uid_"+(1e9*Math.random()>>>0),dAe=0;function hAe(t,e,n){return t.call.apply(t.bind,arguments)}function pAe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function u2(t,e,n){return(u2=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hAe:pAe).apply(null,arguments)}function y8(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function gr(){this.s=this.s,this.o=this.o}gr.prototype.s=!1,gr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function fAe(t){Object.prototype.hasOwnProperty.call(t,kg)&&t[kg]||(t[kg]=++dAe)}(this)},gr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Pg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function gO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(_8(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let a=0;a<s;a++)t[i+a]=r[a]}else t.push(r)}}function f2(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}f2.prototype.h=function(){this.defaultPrevented=!0};var gAe=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return t}();function Oa(t){return/^[\s\xa0]*$/.test(t)}function C8(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function K1(t){return-1!=C8().indexOf(t)}function Rg(t){return Rg[" "](t),t}Rg[" "]=function(){};var Fg,t,_Ae=K1("Opera"),ss=K1("Trident")||K1("MSIE"),vO=K1("Edge"),Og=vO||ss,_O=K1("Gecko")&&!(-1!=C8().toLowerCase().indexOf("webkit")&&!K1("Edge"))&&!(K1("Trident")||K1("MSIE"))&&!K1("Edge"),yAe=-1!=C8().toLowerCase().indexOf("webkit")&&!K1("Edge");function yO(){var t=ne.document;return t?t.documentMode:void 0}e:{var Bg="",Ug=(t=C8(),_O?/rv:([^\);]+)(\)|;)/.exec(t):vO?/Edge\/([\d\.]+)/.exec(t):ss?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):yAe?/WebKit\/(\S+)/.exec(t):_Ae?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Ug&&(Bg=Ug?Ug[1]:""),ss){var jg=yO();if(null!=jg&&jg>parseFloat(Bg)){Fg=String(jg);break e}}Fg=Bg}var CAe=ne.document&&ss&&(yO()||parseInt(Fg,10))||void 0;function Fa(t,e){if(f2.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_O){e:{try{Rg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:MAe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Fa.$.h.call(this)}}Ot(Fa,f2);var MAe={2:"touch",3:"pen",4:"mouse"};Fa.prototype.h=function(){Fa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ba="closure_listenable_"+(1e6*Math.random()|0),wAe=0;function VAe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++wAe,this.fa=this.ia=!1}function M8(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function qg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function MO(t){const e={};for(const n in t)e[n]=t[n];return e}const wO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<wO.length;s++)n=wO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function w8(t){this.src=t,this.g={},this.h=0}function Gg(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=mO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(M8(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Wg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}w8.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var a=Wg(t,e,r,i);return-1<a?(e=t[a],n||(e.ia=!1)):((e=new VAe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Kg="closure_lm_"+(1e6*Math.random()|0),Qg={};function bO(t,e,n,r,i){if(r&&r.once)return zO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)bO(t,e[s],n,r,i);return null}return n=Zg(n),t&&t[Ba]?t.O(e,n,Ra(r)?!!r.capture:!!r,i):HO(t,e,n,!1,r,i)}function HO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=Ra(i)?!!i.capture:!!i,c=Xg(t);if(c||(t[Kg]=c=new w8(t)),(n=c.add(e,n,r,a,s)).proxy)return n;if(r=function HAe(){const e=zAe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gAe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function zO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)zO(t,e[s],n,r,i);return null}return n=Zg(n),t&&t[Ba]?t.P(e,n,Ra(r)?!!r.capture:!!r,i):HO(t,e,n,!0,r,i)}function SO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)SO(t,e[s],n,r,i);else r=Ra(r)?!!r.capture:!!r,n=Zg(n),t&&t[Ba]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Wg(s=t.g[e],n,r,i))&&(M8(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Xg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wg(e,n,r,i)),(n=-1<t?e[t]:null)&&Yg(n))}function Yg(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Ba])Gg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xg(e))?(Gg(n,t),0==n.h&&(n.src=null,e[Kg]=null)):M8(t)}}}function xO(t){return t in Qg?Qg[t]:Qg[t]="on"+t}function zAe(t,e){if(t.fa)t=!0;else{e=new Fa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Yg(t),t=n.call(r,e)}return t}function Xg(t){return(t=t[Kg])instanceof w8?t:null}var Jg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zg(t){return"function"==typeof t?t:(t[Jg]||(t[Jg]=function(e){return t.handleEvent(e)}),t[Jg])}function Ft(){gr.call(this),this.i=new w8(this),this.S=this,this.J=null}function Xt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new f2(e,t);else if(e instanceof f2)e.target=e.target||t;else{var i=e;VO(e=new f2(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=V8(a,r,!0,e)&&i}if(i=V8(a=e.g=t,r,!0,e)&&i,i=V8(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=V8(a=e.g=n[s],r,!1,e)&&i}function V8(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.fa&&a.capture==n){var c=a.listener,o=a.la||a.src;a.ia&&Gg(t.i,a),i=!1!==c.call(o,r)&&i}}return i&&!r.defaultPrevented}Ot(Ft,gr),Ft.prototype[Ba]=!0,Ft.prototype.removeEventListener=function(t,e,n,r){SO(this,t,e,n,r)},Ft.prototype.N=function(){if(Ft.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)M8(n[r]);delete t.g[e],t.h--}}this.J=null},Ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ft.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var ev=ne.JSON.stringify;function xAe(){var t=tv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var EO=new class SAe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new IAe,t=>t.reset());class IAe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LAe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function DAe(t){ne.setTimeout(()=>{throw t},0)}let Ua,ja=!1,tv=new class EAe{constructor(){this.h=this.g=null}add(e,n){const r=EO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},IO=()=>{const t=ne.Promise.resolve(void 0);Ua=()=>{t.then(AAe)}};var AAe=()=>{for(var t;t=xAe();){try{t.h.call(t.g)}catch(n){DAe(n)}var e=EO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ja=!1};function b8(t,e){Ft.call(this),this.h=t||1,this.g=e||ne,this.j=u2(this.qb,this),this.l=Date.now()}function nv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function rv(t,e,n){if("function"==typeof t)n&&(t=u2(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=u2(t.handleEvent,t)}return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function LO(t){t.g=rv(()=>{t.g=null,t.i&&(t.i=!1,LO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ot(b8,Ft),(T=b8.prototype).ga=!1,T.T=null,T.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xt(this,"tick"),this.ga&&(nv(this),this.start()))}},T.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},T.N=function(){b8.$.N.call(this),nv(this),delete this.g};class TAe extends gr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:LO(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $a(t){gr.call(this),this.h=t,this.g={}}Ot($a,gr);var DO=[];function AO(t,e,n,r){Array.isArray(n)||(n&&(DO[0]=n.toString()),n=DO);for(var i=0;i<n.length;i++){var s=bO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function TO(t){qg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Yg(e)},t),t.g={}}function H8(){this.g=!0}function as(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function RAe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return ev(n)}catch{return e}}(t,n)+(r?" "+r:"")})}$a.prototype.N=function(){$a.$.N.call(this),TO(this)},$a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},H8.prototype.Ea=function(){this.g=!1},H8.prototype.info=function(){};var yi={},NO=null;function z8(){return NO=NO||new Ft}function kO(t){f2.call(this,yi.Ta,t)}function qa(t){const e=z8();Xt(e,new kO(e))}function PO(t,e){f2.call(this,yi.STAT_EVENT,t),this.stat=e}function z2(t){const e=z8();Xt(e,new PO(e,t))}function RO(t,e){f2.call(this,yi.Ua,t),this.size=e}function Ga(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}yi.Ta="serverreachability",Ot(kO,f2),yi.STAT_EVENT="statevent",Ot(PO,f2),yi.Ua="timingevent",Ot(RO,f2);var S8={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},OO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iv(){}function BO(){}iv.prototype.h=null;var cv,Wa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sv(){f2.call(this,"d")}function av(){f2.call(this,"c")}function x8(){}function Ka(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new $a(this),this.P=OAe,this.V=new b8(t=Og?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UO}function UO(){this.i=null,this.g="",this.h=!1}Ot(sv,f2),Ot(av,f2),Ot(x8,iv),x8.prototype.g=function(){return new XMLHttpRequest},x8.prototype.i=function(){return{}},cv=new x8;var OAe=45e3,ov={},E8={};function lv(t,e,n){t.L=1,t.v=A8(An(e)),t.s=n,t.S=!0,jO(t,null)}function jO(t,e){t.G=Date.now(),Qa(t),t.A=An(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),ZO(n.i,"t",r),t.C=0,n=t.l.J,t.h=new UO,t.g=VF(t.l,n?e:null,!t.s),0<t.O&&(t.M=new TAe(u2(t.Pa,t,t.g),t.O)),AO(t.U,t.g,"readystatechange",t.nb),e=t.I?MO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),qa(),function NAe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",c=s.split("&"),o=0;o<c.length;o++){var l=c[o].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");a=2<=f.length&&"type"==f[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.j,t.u,t.A,t.m,t.W,t.s)}function $O(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function qO(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=FAe(t,n),i==E8){4==e&&(t.o=4,z2(14),r=!1),as(t.j,t.m,null,"[Incomplete Response]");break}if(i==ov){t.o=4,z2(15),as(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}as(t.j,t.m,i,null),uv(t,i)}$O(t)&&i!=E8&&i!=ov&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,z2(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vv(e),e.M=!0,z2(11))):(as(t.j,t.m,n,"[Invalid Chunked Response]"),Ci(t),Ya(t))}function FAe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?E8:(n=Number(e.substring(n,r)),isNaN(n)?ov:(r+=1)+n>e.length?E8:(e=e.slice(r,r+n),t.C=r+n,e))}function Qa(t){t.Y=Date.now()+t.P,GO(t,t.P)}function GO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ga(u2(t.lb,t),e)}function I8(t){t.B&&(ne.clearTimeout(t.B),t.B=null)}function Ya(t){0==t.l.H||t.J||yF(t.l,t)}function Ci(t){I8(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,nv(t.V),TO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function uv(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||fv(n.i,t)))if(!t.K&&fv(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;O8(n),P8(n)}gv(n),z2(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ga(u2(n.ib,n),6e3));if(1>=nF(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wi(n,11)}else if((t.K||n.g==t)&&O8(n),!Oa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];null!=d&&"number"==typeof d&&0<d&&(n.L=r=1.5*d,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(dv(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Pe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=t;if((r=n).wa=wF(r,r.J?r.pa:null,r.Y),a.K){rF(r.i,a);var c=a,o=r.L;o&&c.setTimeout(o),c.B&&(I8(c),Qa(c)),r.g=a}else vF(r);0<n.j.length&&R8(n)}else"stop"!=l[0]&&"close"!=l[0]||wi(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?wi(n,7):mv(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}qa()}catch{}}function WO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(_8(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function UAe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_8(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function BAe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(_8(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(T=Ka.prototype).setTimeout=function(t){this.P=t},T.nb=function(t){t=t.target;const e=this.M;e&&3==Q1(t)?e.l():this.Pa(t)},T.Pa=function(t){try{if(t==this.g)e:{const u=Q1(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Og||this.g&&(this.h.h||this.g.ja()||fF(this.g)))){this.J||4!=u||7==e||qa(),I8(this);var n=this.g.da();this.ca=n;t:if($O(this)){var r=fF(this.g);t="";var i=r.length,s=4==Q1(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),Ya(this);var a="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function kAe(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,o=this.g;if((c=o.g?o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oa(c)){var l=c;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,z2(12),Ci(this),Ya(this);break e}as(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uv(this,n)}this.S?(qO(this,u,a),Og&&this.i&&3==u&&(AO(this.U,this.V,"tick",this.mb),this.V.start())):(as(this.j,this.m,a,null),uv(this,a)),4==u&&Ci(this),this.i&&!this.J&&(4==u?yF(this.l,this):(this.i=!1,Qa(this)))}else(function aTe(t){const e={};t=(t.g&&2<=Q1(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Oa(t[r]))continue;var n=LAe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function bAe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,z2(12)):(this.o=0,z2(13)),Ci(this),Ya(this)}}}catch{}},T.mb=function(){if(this.g){var t=Q1(this.g),e=this.g.ja();this.C<e.length&&(I8(this),qO(this,t,e),this.i&&4!=t&&Qa(this))}},T.cancel=function(){this.J=!0,Ci(this)},T.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function PAe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(qa(),z2(17)),Ci(this),this.o=2,Ya(this)):GO(this,this.Y-t)};var KO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mi){this.h=t.h,L8(this,t.j),this.s=t.s,this.g=t.g,D8(this,t.m),this.l=t.l;var e=t.i,n=new Za;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),QO(this,n),this.o=t.o}else t&&(e=String(t).match(KO))?(this.h=!1,L8(this,e[1]||"",!0),this.s=Xa(e[2]||""),this.g=Xa(e[3]||"",!0),D8(this,e[4]),this.l=Xa(e[5]||"",!0),QO(this,e[6]||"",!0),this.o=Xa(e[7]||"")):(this.h=!1,this.i=new Za(null,this.h))}function An(t){return new Mi(t)}function L8(t,e,n){t.j=n?Xa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function D8(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function QO(t,e,n){e instanceof Za?(t.i=e,function QAe(t,e){e&&!t.j&&(vr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(XO(this,r),ZO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Ja(e,WAe)),t.i=new Za(e,t.h))}function Pe(t,e,n){t.i.set(e,n)}function A8(t){return Pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ja(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,$Ae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $Ae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Mi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ja(e,YO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ja(e,YO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ja(n,"/"==n.charAt(0)?GAe:qAe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ja(n,KAe)),t.join("")};var YO=/[#\/\?@]/g,qAe=/[#\?:]/g,GAe=/[#\?]/g,WAe=/[#\?@]/g,KAe=/#/g;function Za(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function vr(t){t.g||(t.g=new Map,t.h=0,t.i&&function jAe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function XO(t,e){vr(t),e=cs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function JO(t,e){return vr(t),e=cs(t,e),t.g.has(e)}function ZO(t,e,n){XO(t,e),0<n.length&&(t.i=null,t.g.set(cs(t,e),Pg(n)),t.h+=n.length)}function cs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function eF(t){this.l=t||XAe,t=ne.PerformanceNavigationTiming?0<(t=ne.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(T=Za.prototype).add=function(t,e){vr(this),this.i=null,t=cs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},T.forEach=function(t,e){vr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},T.ta=function(){vr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},T.Z=function(t){vr(this);let e=[];if("string"==typeof t)JO(this,t)&&(e=e.concat(this.g.get(cs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},T.set=function(t,e){return vr(this),this.i=null,JO(this,t=cs(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},T.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},T.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};var XAe=10;function tF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function nF(t){return t.h?1:t.g?t.g.size:0}function fv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function dv(t,e){t.g?t.g.add(e):t.h=e}function rF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function iF(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Pg(t.i)}eF.prototype.cancel=function(){if(this.i=iF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var JAe=class{stringify(t){return ne.JSON.stringify(t,void 0)}parse(t){return ne.JSON.parse(t,void 0)}};function ZAe(){this.g=new JAe}function eTe(t,e,n){const r=n||"";try{WO(t,function(i,s){let a=i;Ra(i)&&(a=ev(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function T8(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ec(t){this.l=t.fc||null,this.j=t.ob||!1}function N8(t,e){Ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=hv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ot(ec,iv),ec.prototype.g=function(){return new N8(this.l,this.j)},ec.prototype.i=function(t){return function(){return t}}({}),Ot(N8,Ft);var hv=0;function sF(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function tc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nc(t)}function nc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(T=N8.prototype).open=function(t,e){if(this.readyState!=hv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nc(this)},T.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},T.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tc(this)),this.readyState=hv},T.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nc(this)),this.g&&(this.readyState=3,nc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sF(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},T.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tc(this):nc(this),3==this.readyState&&sF(this)}},T.Za=function(t){this.g&&(this.response=this.responseText=t,tc(this))},T.Ya=function(t){this.g&&(this.response=t,tc(this))},T.ka=function(){this.g&&tc(this)},T.setRequestHeader=function(t,e){this.v.append(t,e)},T.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},T.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(N8.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var nTe=ne.JSON.parse;function it(t){Ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=aF,this.L=this.M=!1}Ot(it,Ft);var aF="",rTe=/^https?$/i,iTe=["POST","PUT"];function cF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,oF(t),k8(t)}function oF(t){t.F||(t.F=!0,Xt(t,"complete"),Xt(t,"error"))}function lF(t){if(t.h&&typeof Ng<"u"&&(!t.C[1]||4!=Q1(t)||2!=t.da()))if(t.v&&4==Q1(t))rv(t.La,0,t);else if(Xt(t,"readystatechange"),4==Q1(t)){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.I).match(KO)[1]||null;!i&&ne.self&&ne.self.location&&(i=ne.self.location.protocol.slice(0,-1)),r=!rTe.test(i?i.toLowerCase():"")}n=r}if(n)Xt(t,"complete"),Xt(t,"success");else{t.m=6;try{var s=2<Q1(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",oF(t)}}finally{k8(t)}}}function k8(t,e){if(t.g){uF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Xt(t,"ready");try{n.onreadystatechange=r}catch{}}}function uF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}function Q1(t){return t.g?t.g.readyState:0}function fF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case aF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function dF(t){let e="";return qg(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function pv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=dF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Pe(t,e,n))}function rc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hF(t){this.Ga=0,this.j=[],this.l=new H8,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rc("baseRetryDelayMs",5e3,t),this.hb=rc("retryDelaySeedMs",1e4,t),this.eb=rc("forwardChannelMaxRetries",2,t),this.xa=rc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new eF(t&&t.concurrentRequestLimit),this.Ja=new ZAe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function mv(t){if(pF(t),3==t.H){var e=t.W++,n=An(t.I);if(Pe(n,"SID",t.K),Pe(n,"RID",e),Pe(n,"TYPE","terminate"),ic(t,n),(e=new Ka(t,t.l,e)).L=2,e.v=A8(An(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon)try{n=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ne.Image&&((new Image).src=e.v,n=!0),n||(e.g=VF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qa(e)}MF(t)}function P8(t){t.g&&(vv(t),t.g.cancel(),t.g=null)}function pF(t){P8(t),t.u&&(ne.clearTimeout(t.u),t.u=null),O8(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ne.clearTimeout(t.m),t.m=null)}function R8(t){if(!tF(t.i)&&!t.m){t.m=!0;var e=t.Na;Ua||IO(),ja||(Ua(),ja=!0),tv.add(e,t),t.C=0}}function mF(t,e){var n;n=e?e.m:t.W++;const r=An(t.I);Pe(r,"SID",t.K),Pe(r,"RID",n),Pe(r,"AID",t.V),ic(t,r),t.o&&t.s&&pv(r,t.o,t.s),n=new Ka(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=gF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),dv(t.i,n),lv(n,r,e)}function ic(t,e){t.na&&qg(t.na,function(n,r){Pe(e,r,n)}),t.h&&WO({},function(n,r){Pe(e,r,n)})}function gF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?u2(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const a=["count="+n];-1==s?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let o=0;o<n;o++){let l=i[o].g;const u=i[o].map;if(l-=s,0>l)s=Math.max(0,i[o].g-100),c=!1;else try{eTe(u,a,"req"+l+"_")}catch{r&&r(u)}}if(c){r=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function vF(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ua||IO(),ja||(Ua(),ja=!0),tv.add(e,t),t.A=0}}function gv(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Ga(u2(t.Ma,t),CF(t,t.A)),t.A++,0))}function vv(t){null!=t.B&&(ne.clearTimeout(t.B),t.B=null)}function _F(t){t.g=new Ka(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=An(t.wa);Pe(e,"RID","rpc"),Pe(e,"SID",t.K),Pe(e,"AID",t.V),Pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pe(e,"TO",t.qa),Pe(e,"TYPE","xmlhttp"),ic(t,e),t.o&&t.s&&pv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=A8(An(e)),n.s=null,n.S=!0,jO(n,t)}function O8(t){null!=t.v&&(ne.clearTimeout(t.v),t.v=null)}function yF(t,e){var n=null;if(t.g==e){O8(t),vv(t),t.g=null;var r=2}else{if(!fv(t.i,e))return;n=e.F,rF(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Xt(r=z8(),new RO(r,n)),R8(t)}else vF(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function cTe(t,e){return!(nF(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Ga(u2(t.Na,t,e),CF(t,t.C)),t.C++,0)))}(t,e)||2==r&&gv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:wi(t,5);break;case 4:wi(t,10);break;case 3:wi(t,6);break;default:wi(t,2)}}function CF(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function wi(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=u2(t.pb,t);n||(n=new Mi("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||L8(n,"https"),A8(n)),function tTe(t,e){const n=new H8;if(ne.Image){const r=new Image;r.onload=y8(T8,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y8(T8,n,r,"TestLoadImage: error",!1,e),r.onabort=y8(T8,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y8(T8,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else z2(2);t.H=0,t.h&&t.h.za(e),MF(t),pF(t)}function MF(t){if(t.H=0,t.ma=[],t.h){const e=iF(t.i);(0!=e.length||0!=t.j.length)&&(gO(t.ma,e),gO(t.ma,t.j),t.i.i.length=0,Pg(t.j),t.j.length=0),t.h.ya()}}function wF(t,e,n){var r=n instanceof Mi?An(n):new Mi(n);if(""!=r.g)e&&(r.g=e+"."+r.g),D8(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Mi(null);r&&L8(s,r),e&&(s.g=e),i&&D8(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Pe(r,n,e),Pe(r,"VER",t.ra),ic(t,r),r}function VF(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new it(n&&t.Ha&&!t.va?new ec({ob:!0}):t.va)).Oa(t.J),e}function bF(){}function F8(){if(ss&&!(10<=Number(CAe)))throw Error("Environmental error: no available transport.")}function Y2(t,e){Ft.call(this),this.g=new hF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Oa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oa(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new os(this)}function HF(t){sv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function zF(){av.call(this),this.status=1}function os(t){this.g=t}function H1(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _v(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],a=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(a<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(e=n+((a=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function be(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(T=it.prototype).Oa=function(t){this.M=t},T.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cv.g(),this.C=function FO(t){return t.h||(t.h=t.i())}(this.u?this.u:cv),this.g.onreadystatechange=u2(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void cF(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ne.FormData&&t instanceof ne.FormData,!(0<=mO(iTe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uF(this),0<this.B&&((this.L=function sTe(t){return ss&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=u2(this.ua,this)):this.A=rv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){cF(this,s)}},T.ua=function(){typeof Ng<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))},T.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xt(this,"complete"),Xt(this,"abort"),k8(this))},T.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),k8(this,!0)),it.$.N.call(this)},T.La=function(){this.s||(this.G||this.v||this.l?lF(this):this.kb())},T.kb=function(){lF(this)},T.isActive=function(){return!!this.g},T.da=function(){try{return 2<Q1(this)?this.g.status:-1}catch{return-1}},T.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},T.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),nTe(e)}},T.Ia=function(){return this.m},T.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(T=hF.prototype).ra=8,T.H=1,T.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ka(this,this.l,t);let s=this.s;if(this.U&&(s?(s=MO(s),VO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gF(this,i,e),Pe(n=An(this.I),"RID",t),Pe(n,"CVER",22),this.F&&Pe(n,"X-HTTP-Session-Id",this.F),ic(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(dF(s)))+"&"+e:this.o&&pv(n,this.o,s)),dv(this.i,i),this.bb&&Pe(n,"TYPE","init"),this.P?(Pe(n,"$req",e),Pe(n,"SID","null"),i.aa=!0,lv(i,n,null)):lv(i,n,e),this.H=2}}else 3==this.H&&(t?mF(this,t):0==this.j.length||tF(this.i)||mF(this))},T.Ma=function(){if(this.u=null,_F(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ga(u2(this.jb,this),t)}},T.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,z2(10),P8(this),_F(this))},T.ib=function(){null!=this.v&&(this.v=null,P8(this),gv(this),z2(19))},T.pb=function(t){t?(this.l.info("Successfully pinged google.com"),z2(2)):(this.l.info("Failed to ping google.com"),z2(1))},T.isActive=function(){return!!this.h&&this.h.isActive(this)},(T=bF.prototype).Ba=function(){},T.Aa=function(){},T.za=function(){},T.ya=function(){},T.isActive=function(){return!0},T.Va=function(){},F8.prototype.g=function(t,e){return new Y2(t,e)},Ot(Y2,Ft),Y2.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;z2(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=wF(t,null,t.Y),R8(t)},Y2.prototype.close=function(){mv(this.g)},Y2.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=ev(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&R8(e)},Y2.prototype.N=function(){this.g.h=null,delete this.j,mv(this.g),delete this.g,Y2.$.N.call(this)},Ot(HF,sv),Ot(zF,av),Ot(os,bF),os.prototype.Ba=function(){Xt(this.g,"a")},os.prototype.Aa=function(t){Xt(this.g,new HF(t))},os.prototype.za=function(t){Xt(this.g,new zF)},os.prototype.ya=function(){Xt(this.g,"b")},Ot(H1,function oTe(){this.blockSize=-1}),H1.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},H1.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)_v(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){_v(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){_v(this,r),i=0;break}}this.h=i,this.i+=e},H1.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var lTe={};function yv(t){return-128<=t&&128>t?function vAe(t,e){var n=lTe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new be([0|e],0>e?-1:0)}):new be([0|t],0>t?-1:0)}function Y1(t){if(isNaN(t)||!isFinite(t))return ls;if(0>t)return Jt(Y1(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Cv;return new be(e,0)}var Cv=4294967296,ls=yv(0),Mv=yv(1),xF=yv(16777216);function Tn(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function u1(t){return-1==t.h}function Jt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new be(n,~t.h).add(Mv)}function B8(t,e){return t.add(Jt(e))}function U8(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function sc(t,e){this.g=t,this.h=e}function j8(t,e){if(Tn(e))throw Error("division by zero");if(Tn(t))return new sc(ls,ls);if(u1(t))return e=j8(Jt(t),e),new sc(Jt(e.g),Jt(e.h));if(u1(e))return e=j8(t,Jt(e)),new sc(Jt(e.g),e.h);if(30<t.g.length){if(u1(t)||u1(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Mv,r=e;0>=r.X(t);)n=EF(n),r=EF(r);var i=us(n,1),s=us(r,1);for(r=us(r,2),n=us(n,2);!Tn(r);){var a=s.add(r);0>=a.X(t)&&(i=i.add(n),s=a),r=us(r,1),n=us(n,1)}return e=B8(t,i.R(e)),new sc(i,e)}for(i=ls;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Y1(n)).R(e);u1(a)||0<a.X(t);)a=(s=Y1(n-=r)).R(e);Tn(s)&&(s=Mv),i=i.add(s),t=B8(t,a)}return new sc(i,t)}function EF(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new be(n,t.h)}function us(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new be(i,t.h)}(T=be.prototype).ea=function(){if(u1(this))return-Jt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Cv+r)*e,e*=Cv}return t},T.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Tn(this))return"0";if(u1(this))return"-"+Jt(this).toString(t);for(var e=Y1(Math.pow(t,6)),n=this,r="";;){var i=j8(n,e).g,s=((0<(n=B8(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Tn(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},T.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},T.X=function(t){return u1(t=B8(this,t))?-1:Tn(t)?0:1},T.abs=function(){return u1(this)?Jt(this):this},T.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=a>>>16,n[i]=(a&=65535)<<16|(s&=65535)}return new be(n,-2147483648&n[n.length-1]?-1:0)},T.R=function(t){if(Tn(this)||Tn(t))return ls;if(u1(this))return u1(t)?Jt(this).R(Jt(t)):Jt(Jt(this).R(t));if(u1(t))return Jt(this.R(Jt(t)));if(0>this.X(xF)&&0>t.X(xF))return Y1(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),c=t.D(i)>>>16,o=65535&t.D(i);n[2*r+2*i]+=a*o,U8(n,2*r+2*i),n[2*r+2*i+1]+=s*o,U8(n,2*r+2*i+1),n[2*r+2*i+1]+=a*c,U8(n,2*r+2*i+1),n[2*r+2*i+2]+=s*c,U8(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new be(n,0)},T.gb=function(t){return j8(this,t).h},T.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new be(n,this.h&t.h)},T.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new be(n,this.h|t.h)},T.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new be(n,this.h^t.h)},F8.prototype.createWebChannel=F8.prototype.g,Y2.prototype.send=Y2.prototype.u,Y2.prototype.open=Y2.prototype.m,Y2.prototype.close=Y2.prototype.close,S8.NO_ERROR=0,S8.TIMEOUT=8,S8.HTTP_ERROR=6,OO.COMPLETE="complete",BO.EventType=Wa,Wa.OPEN="a",Wa.CLOSE="b",Wa.ERROR="c",Wa.MESSAGE="d",Ft.prototype.listen=Ft.prototype.O,it.prototype.listenOnce=it.prototype.P,it.prototype.getLastError=it.prototype.Sa,it.prototype.getLastErrorCode=it.prototype.Ia,it.prototype.getStatus=it.prototype.da,it.prototype.getResponseJson=it.prototype.Wa,it.prototype.getResponseText=it.prototype.ja,it.prototype.send=it.prototype.ha,it.prototype.setWithCredentials=it.prototype.Oa,H1.prototype.digest=H1.prototype.l,H1.prototype.reset=H1.prototype.reset,H1.prototype.update=H1.prototype.j,be.prototype.add=be.prototype.add,be.prototype.multiply=be.prototype.R,be.prototype.modulo=be.prototype.gb,be.prototype.compare=be.prototype.X,be.prototype.toNumber=be.prototype.ea,be.prototype.toString=be.prototype.toString,be.prototype.getBits=be.prototype.D,be.fromNumber=Y1,be.fromString=function SF(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Jt(SF(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Y1(Math.pow(e,8)),r=ls,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),a=parseInt(t.substring(i,i+s),e);8>s?(s=Y1(Math.pow(e,s)),r=r.R(s).add(Y1(a))):r=(r=r.R(n)).add(Y1(a))}return r};var uTe=b1.createWebChannelTransport=function(){return new F8},fTe=b1.getStatEventTarget=function(){return z8()},wv=b1.ErrorCode=S8,dTe=b1.EventType=OO,hTe=b1.Event=yi,IF=b1.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pTe=b1.FetchXmlHttpFactory=ec,$8=b1.WebChannel=BO,mTe=b1.XhrIo=it,gTe=b1.Md5=H1,fs=b1.Integer=be;const LF="@firebase/firestore";class Bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");let ds="9.23.0";const _r=new U4("@firebase/firestore");function Vv(){return _r.logLevel}function H(t,...e){if(_r.logLevel<=ge.DEBUG){const n=e.map(bv);_r.debug(`Firestore (${ds}): ${t}`,...n)}}function ht(t,...e){if(_r.logLevel<=ge.ERROR){const n=e.map(bv);_r.error(`Firestore (${ds}): ${t}`,...n)}}function z1(t,...e){if(_r.logLevel<=ge.WARN){const n=e.map(bv);_r.warn(`Firestore (${ds}): ${t}`,...n)}}function bv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+t;throw ht(e),new Error(e)}function B(t,e){t||O()}function A(t,e){return t}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends o1{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class St{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class DF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vTe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class _Te{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yTe{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let a=new St;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new St,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const l=a;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},o=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new St)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B("string"==typeof r.accessToken),new DF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new Bt(e)}}class CTe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class MTe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new CTe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wTe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.T=n.token,new AF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function VTe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class TF{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=VTe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function hs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new Je(0,0))}static max(){return new j(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ac{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ac.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ac?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends ac{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const bTe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends ac{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return bTe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const c=e[i];if("\\"===c){if(i+1===e.length)throw new b(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[i+1];if("\\"!==o&&"."!==o&&"`"!==o)throw new b(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=o,i+=2}else"`"===c?(a=!a,i++):"."!==c||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new b(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}class D{constructor(e){this.path=e}static fromPath(e){return new D(pe.fromString(e))}static fromName(e){return new D(pe.fromString(e).popFirst(5))}static empty(){return new D(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new D(new pe(e.slice()))}}function PF(t){return new X2(t.readTime,t.key,-1)}class X2{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new X2(j.min(),D.empty(),-1)}static max(){return new X2(j.max(),D.empty(),-1)}}function zv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=D.comparator(t.documentKey,e.documentKey),0!==n?n:Z(t.largestBatchId,e.largestBatchId))}const RF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class STe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function yr(t){return Sv.apply(this,arguments)}function Sv(){return Sv=m(function*(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==RF)throw t;H("LocalStore","Unexpectedly lost primary lease")}),Sv.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof y?n:y.resolve(n)}catch(n){return y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):y.reject(n)}static resolve(e){return new y((n,r)=>{n(e)})}static reject(e){return new y((n,r)=>{r(e)})}static waitFor(e){return new y((n,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&n()},o=>r(o))}),a=!0,s===i&&n()})}static or(e){let n=y.resolve(!1);for(const r of e)n=n.next(i=>i?y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new y((r,i)=>{const s=e.length,a=new Array(s);let c=0;for(let o=0;o<s;o++){const l=o;n(e[l]).next(u=>{a[l]=u,++c,c===s&&r(a)},u=>i(u))}})}static doWhile(e,n){return new y((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Cr(t){return"IndexedDbTransactionError"===t.name}let J2=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function lc(t){return null==t}function uc(t){return 0===t&&1/t==-1/0}function WF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ae{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Q8(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Q8(this.root,e,this.comparator,!1)}getReverseIterator(){return new Q8(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Q8(this.root,e,this.comparator,!0)}}class Q8{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Re{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QF(this.data.getIterator())}getIteratorFrom(e){return new QF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Re(this.comparator);return n.data=e,n}}class QF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class F2{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new F2([])}unionWith(e){let n=new Re(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new F2(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class YF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new YF("Invalid base64 string: "+i):i}}(e);return new xt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const YTe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(t){if(B(!!t),"string"==typeof t){let e=0;const n=YTe.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Nn(t){return"string"==typeof t?xt.fromBase64String(t):xt.fromUint8Array(t)}function Y8(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function X8(t){const e=t.mapValue.fields.__previous_value__;return Y8(e)?X8(e):e}function fc(t){const e=wr(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}class XTe{constructor(e,n,r,i,s,a,c,o,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=o,this.useFetchStreams=l}}class Hi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Hi&&e.projectId===this.projectId&&e.database===this.database}}const Vr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Y8(t)?4:eB(t)?9007199254740991:10:O()}function J1(t,e){if(t===e)return!0;const n=br(t);if(n!==br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fc(t).isEqual(fc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=wr(r.timestampValue),a=wr(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Nn(t.bytesValue).isEqual(Nn(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return st(r.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return st(r.integerValue)===st(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=st(r.doubleValue),a=st(i.doubleValue);return s===a?uc(s)===uc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return hs(t.arrayValue.values||[],e.arrayValue.values||[],J1);case 10:return function(r,i){const s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(WF(s)!==WF(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!J1(s[c],a[c])))return!1;return!0}(t,e);default:return O()}var i}function dc(t,e){return void 0!==(t.values||[]).find(n=>J1(n,e))}function Hr(t,e){if(t===e)return 0;const n=br(t),r=br(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=st(i.integerValue||i.doubleValue),c=st(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return XF(t.timestampValue,e.timestampValue);case 4:return XF(fc(t),fc(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(i,s){const a=Nn(i),c=Nn(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),c=s.split("/");for(let o=0;o<a.length&&o<c.length;o++){const l=Z(a[o],c[o]);if(0!==l)return l}return Z(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=Z(st(i.latitude),st(s.latitude));return 0!==a?a:Z(st(i.longitude),st(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],c=s.values||[];for(let o=0;o<a.length&&o<c.length;++o){const l=Hr(a[o],c[o]);if(l)return l}return Z(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Vr.mapValue&&s===Vr.mapValue)return 0;if(i===Vr.mapValue)return 1;if(s===Vr.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),o=s.fields||{},l=Object.keys(o);c.sort(),l.sort();for(let u=0;u<c.length&&u<l.length;++u){const f=Z(c[u],l[u]);if(0!==f)return f;const d=Hr(a[c[u]],o[l[u]]);if(0!==d)return d}return Z(c.length,l.length)}(t.mapValue,e.mapValue);default:throw O()}}function XF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Z(t,e);const n=wr(t),r=wr(e),i=Z(n.seconds,r.seconds);return 0!==i?i:Z(n.nanos,r.nanos)}function ms(t){return Iv(t)}function Iv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=wr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Nn(t.bytesValue).toBase64():"referenceValue"in t?D.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const a of r.values||[])s?s=!1:i+=",",i+=Iv(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const c of i)a?a=!1:s+=",",s+=`${c}:${Iv(r.fields[c])}`;return s+"}"}(t.mapValue):O();var e}function zi(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lv(t){return!!t&&"integerValue"in t}function hc(t){return!!t&&"arrayValue"in t}function JF(t){return!!t&&"nullValue"in t}function ZF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function el(t){return!!t&&"mapValue"in t}function pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class e2{constructor(e){this.value=e}static empty(){return new e2({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!el(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const o=this.getFieldsMap(n);this.applyChanges(o,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=pc(a):i.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());el(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return J1(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];el(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new e2(pc(this.value))}}function rB(t){const e=[];return Mr(t.fields,(n,r)=>{const i=new pt([n]);if(el(r)){const s=rB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new F2(e)}class Oe{constructor(e,n,r,i,s,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Oe(e,0,j.min(),j.min(),j.min(),e2.empty(),0)}static newFoundDocument(e,n,r,i){return new Oe(e,1,n,j.min(),r,i,0)}static newNoDocument(e,n){return new Oe(e,2,n,j.min(),j.min(),e2.empty(),0)}static newUnknownDocument(e,n){return new Oe(e,3,n,j.min(),j.min(),e2.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(j.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=e2.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=e2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=j.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zr{constructor(e,n){this.position=e,this.inclusive=n}}function iB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(r=s.field.isKeyField()?D.comparator(D.fromName(a.referenceValue),n.key):Hr(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!J1(t.position[n],e.position[n]))return!1;return!0}class gs{constructor(e,n="asc"){this.field=e,this.dir=n}}function eNe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class aB{}class oe extends aB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new tNe(e,n,r):"array-contains"===n?new iNe(e,r):"in"===n?new dB(e,r):"not-in"===n?new sNe(e,r):"array-contains-any"===n?new aNe(e,r):new oe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new nNe(e,r):new rNe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Hr(n,this.value)):null!==n&&br(this.value)===br(n)&&this.matchesComparison(Hr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class He extends aB{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new He(e,n)}matches(e){return vs(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function vs(t){return"and"===t.op}function Av(t){return function cB(t){for(const e of t.filters)if(e instanceof He)return!1;return!0}(t)&&vs(t)}function Tv(t){if(t instanceof oe)return t.field.canonicalString()+t.op.toString()+ms(t.value);if(Av(t))return t.filters.map(e=>Tv(e)).join(",");{const e=t.filters.map(n=>Tv(n)).join(",");return`${t.op}(${e})`}}function oB(t,e){return t instanceof oe?(n=t,(r=e)instanceof oe&&n.op===r.op&&n.field.isEqual(r.field)&&J1(n.value,r.value)):t instanceof He?function(n,r){return r instanceof He&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,a)=>i&&oB(s,r.filters[a]),!0)}(t,e):void O();var n,r}function uB(t){return t instanceof oe?`${(e=t).field.canonicalString()} ${e.op} ${ms(e.value)}`:t instanceof He?function(e){return e.op.toString()+" {"+e.getFilters().map(uB).join(" ,")+"}"}(t):"Filter";var e}class tNe extends oe{constructor(e,n,r){super(e,n,r),this.key=D.fromName(r.referenceValue)}matches(e){const n=D.comparator(e.key,this.key);return this.matchesComparison(n)}}class nNe extends oe{constructor(e,n){super(e,"in",n),this.keys=fB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rNe extends oe{constructor(e,n){super(e,"not-in",n),this.keys=fB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>D.fromName(r.referenceValue))}class iNe extends oe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hc(n)&&dc(n.arrayValue,this.value)}}class dB extends oe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&dc(this.value.arrayValue,n)}}class sNe extends oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!dc(this.value.arrayValue,n)}}class aNe extends oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}class cNe{constructor(e,n=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.dt=null}}function Nv(t,e=null,n=[],r=[],i=null,s=null,a=null){return new cNe(t,e,n,r,i,s,a)}function Si(t){const e=A(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),lc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ms(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ms(r)).join(",")),e.dt=n}return e.dt}function mc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eNe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sB(t.startAt,e.startAt)&&sB(t.endAt,e.endAt)}function tl(t){return D.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class kn{constructor(e,n=null,r=[],i=[],s=null,a="F",c=null,o=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=o,this.wt=null,this._t=null}}function _s(t){return new kn(t)}function gB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function kv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function rl(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Pv(t){return null!==t.collectionGroup}function xi(t){const e=A(t);if(null===e.wt){e.wt=[];const n=rl(e),r=kv(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new gs(n)),e.wt.push(new gs(pt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new gs(pt.keyField(),s))}}}return e.wt}function S2(t){const e=A(t);if(!e._t)if("F"===e.limitType)e._t=Nv(e.path,e.collectionGroup,xi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of xi(e))n.push(new gs(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new zr(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zr(e.startAt.position,e.startAt.inclusive):null;e._t=Nv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Rv(t,e){e.getFirstInequalityField(),rl(t);const n=t.filters.concat([e]);return new kn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function il(t,e,n){return new kn(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gc(t,e){return mc(S2(t),S2(e))&&t.limitType===e.limitType}function vB(t){return`${Si(S2(t))}|lt:${t.limitType}`}function Ov(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>uB(r)).join(", ")}]`),lc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ms(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ms(r)).join(",")),`Target(${n})`}(S2(t))}; limitType=${t.limitType})`}function vc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):D.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of xi(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,a){const c=iB(i,s,a);return i.inclusive?c<=0:c<0}(n.startAt,xi(n),r)||n.endAt&&!function(i,s,a){const c=iB(i,s,a);return i.inclusive?c>=0:c>0}(n.endAt,xi(n),r)));var n,r}function yB(t){return(e,n)=>{let r=!1;for(const i of xi(t)){const s=oNe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function oNe(t,e,n){const r=t.field.isKeyField()?D.comparator(e.key,n.key):function(i,s,a){const c=s.data.field(i),o=a.data.field(i);return null!==c&&null!==o?Hr(c,o):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class Pn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return KF(this.inner)}size(){return this.innerSize}}const lNe=new Ae(D.comparator);function B2(){return lNe}const CB=new Ae(D.comparator);function _c(...t){let e=CB;for(const n of t)e=e.insert(n.key,n);return e}function MB(t){let e=CB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Z1(){return yc()}function wB(){return yc()}function yc(){return new Pn(t=>t.toString(),(t,e)=>t.isEqual(e))}const uNe=new Ae(D.comparator),fNe=new Re(D.comparator);function se(...t){let e=fNe;for(const n of t)e=e.add(n);return e}const dNe=new Re(Z);function VB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function bB(t){return{integerValue:""+t}}function HB(t,e){return function FF(t){return"number"==typeof t&&Number.isInteger(t)&&!uc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?bB(e):VB(t,e)}class sl{constructor(){this._=void 0}}function hNe(t,e,n){return t instanceof ys?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Y8(i)&&(i=X8(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ei?SB(t,e):t instanceof Ii?xB(t,e):function(r,i){const s=zB(r,i),a=EB(s)+EB(r.gt);return Lv(s)&&Lv(r.gt)?bB(a):VB(r.serializer,a)}(t,e)}function pNe(t,e,n){return t instanceof Ei?SB(t,e):t instanceof Ii?xB(t,e):n}function zB(t,e){return t instanceof Cs?Lv(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ys extends sl{}class Ei extends sl{constructor(e){super(),this.elements=e}}function SB(t,e){const n=IB(e);for(const r of t.elements)n.some(i=>J1(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ii extends sl{constructor(e){super(),this.elements=e}}function xB(t,e){let n=IB(e);for(const r of t.elements)n=n.filter(i=>!J1(i,r));return{arrayValue:{values:n}}}class Cs extends sl{constructor(e,n){super(),this.serializer=e,this.gt=n}}function EB(t){return st(t.integerValue||t.doubleValue)}function IB(t){return hc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class gNe{constructor(e,n){this.version=e,this.transformResults=n}}class We{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new We}static exists(e){return new We(void 0,e)}static updateTime(e){return new We(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function al(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class cl{}function LB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ws(t.key,We.none()):new Ms(t.key,t.data,We.none());{const n=t.data,r=e2.empty();let i=new Re(pt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);null===a&&s.length>1&&(s=s.popLast(),a=n.field(s)),null===a?r.delete(s):r.set(s,a),i=i.add(s)}return new Rn(t.key,r,new F2(i.toArray()),We.none())}}function vNe(t,e,n){t instanceof Ms?function(r,i,s){const a=r.value.clone(),c=TB(r.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Rn?function(r,i,s){if(!al(r.precondition,i))return void i.convertToUnknownDocument(s.version);const a=TB(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(AB(r)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Mc(t,e,n,r){return t instanceof Ms?function(i,s,a,c){if(!al(i.precondition,s))return a;const o=i.value.clone(),l=NB(i.fieldTransforms,c,s);return o.setAll(l),s.convertToFoundDocument(s.version,o).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rn?function(i,s,a,c){if(!al(i.precondition,s))return a;const o=NB(i.fieldTransforms,c,s),l=s.data;return l.setAll(AB(i)),l.setAll(o),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):(a=n,al(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function _Ne(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zB(r.transform,i||null);null!=s&&(null===n&&(n=e2.empty()),n.set(r.field,s))}return n||null}function DB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&hs(n,r,(i,s)=>function mNe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ei&&r instanceof Ei||n instanceof Ii&&r instanceof Ii?hs(n.elements,r.elements,J1):n instanceof Cs&&r instanceof Cs?J1(n.gt,r.gt):n instanceof ys&&r instanceof ys);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ms extends cl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Rn extends cl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function TB(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,pNe(a,c,n[i]))}return r}function NB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,hNe(s,a,e))}return r}class ws extends cl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bv extends cl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Uv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vNe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wB();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=n.has(i.key)?null:c;const o=LB(a,c);null!==o&&r.set(i.key,o),a.isValidDocument()||a.convertToNoDocument(j.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&hs(this.mutations,e.mutations,(n,r)=>DB(n,r))&&hs(this.baseMutations,e.baseMutations,(n,r)=>DB(n,r))}}class jv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=uNe;const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new jv(e,n,r,i)}}class $v{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class CNe{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,me;function PB(t){if(void 0===t)return ht("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ct.OK:return M.OK;case Ct.CANCELLED:return M.CANCELLED;case Ct.UNKNOWN:return M.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return M.INTERNAL;case Ct.UNAVAILABLE:return M.UNAVAILABLE;case Ct.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ct.NOT_FOUND:return M.NOT_FOUND;case Ct.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ct.ABORTED:return M.ABORTED;case Ct.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ct.DATA_LOSS:return M.DATA_LOSS;default:return O()}}(me=Ct||(Ct={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class qv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ol}static getOrCreateInstance(){return null===ol&&(ol=new qv),ol}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ol=null;const MNe=new fs([4294967295,4294967295],0);function OB(t){const e=function RB(){return new TextEncoder}().encode(t),n=new gTe;return n.update(e),new Uint8Array(n.digest())}function FB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fs([n,r],0),new fs([i,s],0)]}class Gv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wc(`Invalid padding: ${n}`);if(r<0)throw new wc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new wc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new wc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=fs.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(fs.fromNumber(r)));return 1===i.compare(MNe)&&(i=new fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=OB(e),[r,i]=FB(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);if(!this.At(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Gv(s,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(0===this.It)return;const n=OB(e),[r,i]=FB(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);this.Rt(a)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class wc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vc(j.min(),i,new Ae(Z),B2(),se())}}class bc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bc(r,n,se(),se(),se())}}class ll{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class BB{constructor(e,n){this.targetId=e,this.Vt=n}}class UB{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jB{constructor(){this.St=0,this.Dt=qB(),this.Ct=xt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=se(),n=se(),r=se();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new bc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=qB()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class wNe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=B2(),this.zt=$B(),this.Wt=new Ae(Z)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const a=s.target;if(tl(a))if(0===i){const c=new D(a.path);this.Yt(r,c,Oe.newNoDocument(c,j.min()))}else B(1===i);else{const c=this.ie(r);if(c!==i){const o=this.re(e,c);0!==o&&(this.ee(r),this.Wt=this.Wt.insert(r,2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=qv.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(l,u,f){var d,h,p,g,v,C;const _={localCacheCount:u,existenceFilterCount:f.count},w=f.unchangedNames;return w&&(_.bloomFilter={applied:0===l,hashCount:null!==(d=w?.hashCount)&&void 0!==d?d:0,bitmapLength:null!==(g=null===(p=null===(h=w?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(C=null===(v=w?.bits)||void 0===v?void 0:v.padding)&&void 0!==C?C:0}),_}(o,c,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=r;let o,l;try{o=Nn(s).toUint8Array()}catch(u){if(u instanceof YF)return z1("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new Gv(o,a,c)}catch(u){return z1(u instanceof wc?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const a=this.Gt.ue(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;n.vt(c)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,a)=>{const c=this.se(a);if(c){if(s.current&&tl(c.target)){const o=new D(c.target.path);null!==this.jt.get(o)||this.ae(a,o)||this.Yt(a,o,Oe.newNoDocument(o,e))}s.Mt&&(n.set(a,s.Ot()),s.Ft())}});let r=se();this.zt.forEach((s,a)=>{let c=!0;a.forEachWhile(o=>{const l=this.se(o);return!l||"TargetPurposeLimboResolution"===l.purpose||(c=!1,!1)}),c&&(r=r.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(e));const i=new Vc(e,n,this.Wt,this.jt,r);return this.jt=B2(),this.zt=$B(),this.Wt=new Ae(Z),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new jB,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Re(Z),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||H("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new jB),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function $B(){return new Ae(D.comparator)}function qB(){return new Ae(D.comparator)}const VNe={asc:"ASCENDING",desc:"DESCENDING"},bNe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HNe={and:"AND",or:"OR"};class zNe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wv(t,e){return t.useProto3Json||lc(e)?e:{value:e}}function Vs(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SNe(t,e){return Vs(t,e.toTimestamp())}function mt(t){return B(!!t),j.fromTimestamp(function(e){const n=wr(e);return new Je(n.seconds,n.nanos)}(t))}function Kv(t,e){return(n=t,new pe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function WB(t){const e=pe.fromString(t);return B(nU(e)),e}function Hc(t,e){return Kv(t.databaseId,e.path)}function en(t,e){const n=WB(e);if(n.get(1)!==t.databaseId.projectId)throw new b(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new D(QB(n))}function Qv(t,e){return Kv(t.databaseId,e)}function zc(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QB(t){return B(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function YB(t,e,n){return{name:Hc(t,e),fields:n.value.mapValue.fields}}function JB(t,e){return{documents:[Qv(t,e.path)]}}function Xv(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Qv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(o){if(0!==o.length)return tU(He.create(o,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(o){if(0!==o.length)return o.map(l=>{return{field:Sr((u=l).field),direction:DNe(u.dir)};var u})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Wv(t,e.limit);var c,o;return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt={before:!(o=e.endAt).inclusive,values:o.position}),n}function ZB(t){let e=function KB(t){const e=WB(t);return 4===e.length?pe.emptyPath():QB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const f=eU(u);return f instanceof He&&Av(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(u=>{return new gs(bs((f=u).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction));var f}));let c=null;n.limit&&(c=function(u){let f;return f="object"==typeof u?u.value:u,lc(f)?null:f}(n.limit));let o=null;var u;n.startAt&&(o=new zr((u=n.startAt).values||[],!!u.before));let l=null;return n.endAt&&(l=function(u){return new zr(u.values||[],!u.before)}(n.endAt)),function mB(t,e,n,r,i,s,a,c){return new kn(t,e,n,r,i,s,a,c)}(e,i,a,s,c,"F",o,l)}function eU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=bs(e.unaryFilter.field);return oe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=bs(e.unaryFilter.field);return oe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=bs(e.unaryFilter.field);return oe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=bs(e.unaryFilter.field);return oe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?oe.create(bs((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return He.create(e.compositeFilter.filters.map(n=>eU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O();var e}function DNe(t){return VNe[t]}function ANe(t){return bNe[t]}function TNe(t){return HNe[t]}function Sr(t){return{fieldPath:t.canonicalString()}}function bs(t){return pt.fromServerFormat(t.fieldPath)}function tU(t){return t instanceof oe?function(e){if("=="===e.op){if(ZF(e.value))return{unaryFilter:{field:Sr(e.field),op:"IS_NAN"}};if(JF(e.value))return{unaryFilter:{field:Sr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ZF(e.value))return{unaryFilter:{field:Sr(e.field),op:"IS_NOT_NAN"}};if(JF(e.value))return{unaryFilter:{field:Sr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sr(e.field),op:ANe(e.op),value:e.value}}}(t):t instanceof He?function(e){const n=e.getFilters().map(r=>tU(r));return 1===n.length?n[0]:{compositeFilter:{op:TNe(e.op),filters:n}}}(t):O()}function NNe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class On{constructor(e,n,r,i,s=j.min(),a=j.min(),c=xt.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=o}withSequenceNumber(e){return new On(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new On(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new On(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new On(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rU{constructor(e){this.fe=e}}function Jv(t){const e=ZB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?il(e,e.limit,"L"):e}class Ti{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),uc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Nn(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?eB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),D.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Ti.Ve=new Ti;class $Ne{constructor(){this.rn=new i_}addToCollectionParentIndex(e,n){return this.rn.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(X2.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(X2.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}}class i_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Re(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Re(pe.comparator)).toArray()}}new Uint8Array(0);class h2{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new h2(e,h2.DEFAULT_COLLECTION_PERCENTILE,h2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}h2.DEFAULT_COLLECTION_PERCENTILE=10,h2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,h2.DEFAULT=new h2(41943040,h2.DEFAULT_COLLECTION_PERCENTILE,h2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),h2.DISABLED=new h2(-1,0,0);class ki{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ki(0)}static Mn(){return new ki(-1)}}class YNe{constructor(){this.changes=new Pn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZNe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class EU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Mc(r.mutation,i,F2.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=Z1();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=_c();return s.forEach((c,o)=>{a=a.insert(c,o.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Z1();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let s=B2();const a=yc(),c=yc();return n.forEach((o,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof Rn)?s=s.insert(l.key,l):void 0!==u?(a.set(l.key,u.mutation.getFieldMask()),Mc(u.mutation,l,u.mutation.getFieldMask(),Je.now())):a.set(l.key,F2.empty())}),this.recalculateAndSaveOverlays(e,s).next(o=>(o.forEach((l,u)=>a.set(l,u)),n.forEach((l,u)=>{var f;return c.set(l,new ZNe(u,null!==(f=a.get(l))&&void 0!==f?f:null))}),c))}recalculateAndSaveOverlays(e,n){const r=yc();let i=new Ae((a,c)=>a-c),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(o=>{const l=n.get(o);if(null===l)return;let u=r.get(o)||F2.empty();u=c.applyToLocalView(l,u),r.set(o,u);const f=(i.get(c.batchId)||se()).add(o);i=i.insert(c.batchId,f)})}).next(()=>{const a=[],c=i.getReverseIterator();for(;c.hasNext();){const o=c.getNext(),l=o.key,u=o.value,f=wB();u.forEach(d=>{if(!s.has(d)){const h=LB(n.get(d),r.get(d));null!==h&&f.set(d,h),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,f))}return y.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return D.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Pv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Z1());let c=-1,o=s;return a.next(l=>y.forEach(l,(u,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),s.get(u)?y.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{o=o.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,o,l,se())).next(u=>({batchId:c,changes:MB(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new D(n)).next(r=>{let i=_c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=_c();return this.indexManager.getCollectionParents(e,i).next(a=>y.forEach(a,c=>{const o=(l=n,u=c.child(i),new kn(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,o,r).next(l=>{l.forEach((u,f)=>{s=s.insert(u,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((c,o)=>{const l=o.getKey();null===s.get(l)&&(s=s.insert(l,Oe.newInvalidDocument(l)))});let a=_c();return s.forEach((c,o)=>{const l=i.get(c);void 0!==l&&Mc(l.mutation,o,F2.empty(),Je.now()),vc(n,o)&&(a=a.insert(c,o))}),a})}}class eke{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return y.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:mt(r.createTime)}),y.resolve()}getNamedQuery(e,n){return y.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:Jv(r.bundledQuery),readTime:mt(r.readTime)}),y.resolve();var r}}class tke{constructor(){this.overlays=new Ae(D.comparator),this.ls=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Z1();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){const i=Z1(),s=n.length+1,a=new D(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const o=c.getNext().value,l=o.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&o.largestBatchId>r&&i.set(o.getKey(),o)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ae((l,u)=>l-u);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Z1(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const c=Z1(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((l,u)=>c.set(l,u)),!(c.size()>=i)););return y.resolve(c)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const a=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new $v(n,r));let s=this.ls.get(n);void 0===s&&(s=se(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class s_{constructor(){this.fs=new Re(jt.ds),this.ws=new Re(jt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new jt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new jt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new D(new pe([])),r=new jt(n,e),i=new jt(n,e+1),s=[];return this.ws.forEachInRange([r,i],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new D(new pe([])),r=new jt(n,e),i=new jt(n,e+1);let s=se();return this.ws.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new jt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return D.comparator(e.key,n.key)||Z(e.As,n.As)}static _s(e,n){return Z(e.As,n.As)||D.comparator(e.key,n.key)}}class nke{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Re(jt.ds)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const a=new Uv(s,n,r,i);this.mutationQueue.push(a);for(const c of i)this.Rs=this.Rs.add(new jt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return y.resolve(a)}lookupMutationBatch(e,n){return y.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],a=>{const c=this.Ps(a.As);s.push(c)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Re(Z);return n.forEach(i=>{const s=new jt(i,0),a=new jt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],c=>{r=r.add(c.As)})}),y.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;D.isDocumentKey(s)||(s=s.child(""));const a=new jt(new D(s),0);let c=new Re(Z);return this.Rs.forEachWhile(o=>{const l=o.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(o.As)),!0)},a),y.resolve(this.Vs(c))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){B(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return y.forEach(n.mutations,i=>{const s=new jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new jt(n,0),i=this.Rs.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return y.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rke{constructor(e){this.Ds=e,this.docs=new Ae(D.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():Oe.newInvalidDocument(n))}getEntries(e,n){let r=B2();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Oe.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=B2();const a=n.path,c=new D(a.child("")),o=this.docs.getIteratorFrom(c);for(;o.hasNext();){const{key:l,value:{document:u}}=o.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||zv(PF(u),r)<=0||(i.has(u.key)||vc(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}Cs(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ike(this)}getSize(e){return y.resolve(this.size)}}class ike extends YNe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class ske{constructor(e){this.persistence=e,this.xs=new Pn(n=>Si(n),mc),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.Ns=0,this.ks=new s_,this.targetCount=0,this.Ms=ki.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),y.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ki(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.Fn(n),y.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((a,c)=>{c.sequenceNumber<=n&&null===r.get(c.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.ks.containsKey(n))}}class a_{constructor(e,n){this.$s={},this.overlays={},this.Os=new J2(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ske(this),this.indexManager=new $Ne,this.remoteDocumentCache=new rke(r=>this.referenceDelegate.Ls(r)),this.serializer=new rU(n),this.qs=new eke(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tke,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new nke(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new ake(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return y.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class ake extends STe{constructor(e){super(),this.currentSequenceNumber=e}}class _l{constructor(e){this.persistence=e,this.Qs=new s_,this.js=null}static zs(e){return new _l(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),y.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Ws,r=>{const i=D.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return y.or([()=>y.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class u_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new u_(e,n.fromCache,r,i)}}class LU{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(gB(n))return y.resolve(null);let r=S2(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=il(n,null,"F"),r=S2(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=se(...s);return this.Ui.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(o=>{const l=this.ji(n,c);return this.zi(n,l,a,o.readTime)?this.Ki(e,il(n,null,"F")):this.Wi(e,l,n,o)}))})))}Gi(e,n,r,i){return gB(n)||i.isEqual(j.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const a=this.ji(n,s);return this.zi(n,a,r,i)?this.Qi(e,n):(Vv()<=ge.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ov(n)),this.Wi(e,a,n,function kF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=j.fromTimestamp(1e9===r?new Je(n+1,0):new Je(n,r));return new X2(i,D.empty(),e)}(i,-1)))})}ji(e,n){let r=new Re(yB(e));return n.forEach((i,s)=>{vc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Vv()<=ge.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ov(n)),this.Ui.getDocumentsMatchingQuery(e,n,X2.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}class oke{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ae(Z),this.Yi=new Pn(s=>Si(s),mc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function AU(t,e){return f_.apply(this,arguments)}function f_(){return f_=m(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],c=[];let o=se();for(const l of i){a.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}for(const l of s){c.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}return n.localDocuments.getDocuments(r,o).next(l=>({er:l,removedBatchIds:a,addedBatchIds:c}))})})}),f_.apply(this,arguments)}function TU(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function fke(t,e){const n=A(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xs(t,e,n){return d_.apply(this,arguments)}function d_(){return d_=m(function*(t,e,n){const r=A(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Cr(a))throw a;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),d_.apply(this,arguments)}function Ml(t,e,n){const r=A(t);let i=j.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",a=>function(c,o,l){const u=A(c),f=u.Yi.get(l);return void 0!==f?y.resolve(u.Ji.get(f)):u.Bs.getTargetData(o,l)}(r,a,S2(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(a,c.targetId).next(o=>{s=o})}).next(()=>r.Hi.getDocumentsMatchingQuery(a,e,n?i:j.min(),n?s:se())).next(c=>(function RU(t,e,n){let r=t.Xi.get(e)||j.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function _B(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),c),{documents:c,ir:s})))}class v_{constructor(){this.activeTargetIds=function Fv(){return dNe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BU{constructor(){this.Hr=new v_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new v_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pke{Yr(e){}shutdown(){}}class UU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bl=null;function y_(){return null===bl?bl=268435456+Math.round(2147483648*Math.random()):bl++,"0x"+bl.toString(16)}const mke={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gke{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const p2="WebChannelConnection";class vke extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const a=y_(),c=this.To(e,n);H("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);const o={};return this.Eo(o,i,s),this.Ao(e,c,o,r).then(l=>(H("RestConnection",`Received RPC '${e}' ${a}: `,l),l),l=>{throw z1("RestConnection",`RPC '${e}' ${a} failed with error: `,l,"url: ",c,"request:",r),l})}vo(e,n,r,i,s,a){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ds,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${mke[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=y_();return new Promise((a,c)=>{const o=new mTe;o.setWithCredentials(!0),o.listenOnce(dTe.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case wv.NO_ERROR:const u=o.getResponseJson();H(p2,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case wv.TIMEOUT:H(p2,`RPC '${e}' ${s} timed out`),c(new b(M.DEADLINE_EXCEEDED,"Request time out"));break;case wv.HTTP_ERROR:const f=o.getStatus();if(H(p2,`RPC '${e}' ${s} failed with status:`,f,"response text:",o.getResponseText()),f>0){let d=o.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(v)>=0?v:M.UNKNOWN}(h.status);c(new b(p,h.message))}else c(new b(M.UNKNOWN,"Server responded with status "+o.getStatus()))}else c(new b(M.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{H(p2,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);H(p2,`RPC '${e}' ${s} sending request:`,i),o.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=y_(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=uTe(),c=fTe(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new pTe({})),this.Eo(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=s.join("");H(p2,`Creating RPC '${e}' stream ${i}: ${u}`,o);const f=a.createWebChannel(u,o);let d=!1,h=!1;const p=new gke({ro:v=>{h?H(p2,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(H(p2,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),H(p2,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},oo:()=>f.close()}),g=(v,C,_)=>{v.listen(C,w=>{try{_(w)}catch(I){setTimeout(()=>{throw I},0)}})};return g(f,$8.EventType.OPEN,()=>{h||H(p2,`RPC '${e}' stream ${i} transport opened.`)}),g(f,$8.EventType.CLOSE,()=>{h||(h=!0,H(p2,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(f,$8.EventType.ERROR,v=>{h||(h=!0,z1(p2,`RPC '${e}' stream ${i} transport errored:`,v),p.wo(new b(M.UNAVAILABLE,"The operation could not be completed")))}),g(f,$8.EventType.MESSAGE,v=>{var C;if(!h){const _=v.data[0];B(!!_);const I=_.error||(null===(C=_[0])||void 0===C?void 0:C.error);if(I){H(p2,`RPC '${e}' stream ${i} received error:`,I);const N=I.status;let G=function(wt){const Lt=Ct[wt];if(void 0!==Lt)return PB(Lt)}(N),fe=I.message;void 0===G&&(G=M.INTERNAL,fe="Unknown error status: "+N+" with message "+I.message),h=!0,p.wo(new b(G,fe)),f.close()}else H(p2,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(c,hTe.STAT_EVENT,v=>{v.stat===IF.PROXY?H(p2,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===IF.NOPROXY&&H(p2,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Hl(){return typeof document<"u"?document:null}function kc(t){return new zNe(t,!0)}class C_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class $U{constructor(e,n,r,i,s,a,c,o){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new C_(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ht(n.toString()),ht("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new b(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _ke extends $U{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function ENe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:O(),i=e.targetChange.targetIds||[],s=function(o,l){return o.useProto3Json?(B(void 0===l||"string"==typeof l),xt.fromBase64String(l||"")):(B(void 0===l||l instanceof Uint8Array),xt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(o){const l=void 0===o.code?M.UNKNOWN:PB(o.code);return new b(l,o.message||"")}(a);n=new UB(r,i,s,c||null)}else if("documentChange"in e){const r=e.documentChange,i=en(t,r.document.name),s=mt(r.document.updateTime),a=r.document.createTime?mt(r.document.createTime):j.min(),c=new e2({mapValue:{fields:r.document.fields}}),o=Oe.newFoundDocument(i,s,a,c);n=new ll(r.targetIds||[],r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e){const r=e.documentDelete,i=en(t,r.document),s=r.readTime?mt(r.readTime):j.min(),a=Oe.newNoDocument(i,s);n=new ll([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const r=e.documentRemove,i=en(t,r.document);n=new ll([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:s}=r,a=new CNe(i,s);n=new BB(r.targetId,a)}}var o;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return j.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?mt(s.readTime):j.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=zc(this.serializer),n.addTarget=function(i,s){let a;const c=s.target;if(a=tl(c)?{documents:JB(i,c)}:{query:Xv(i,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=GB(i,s.resumeToken);const o=Wv(i,s.expectedCount);null!==o&&(a.expectedCount=o)}else if(s.snapshotVersion.compareTo(j.min())>0){a.readTime=Vs(i,s.snapshotVersion.toTimestamp());const o=Wv(i,s.expectedCount);null!==o&&(a.expectedCount=o)}return a}(this.serializer,e);const r=function LNe(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=zc(this.serializer),n.removeTarget=e,this.Wo(n)}}class yke extends $U{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function INe(t,e){return t&&t.length>0?(B(void 0!==e),t.map(n=>function(r,i){let s=mt(r.updateTime?r.updateTime:i);return s.isEqual(j.min())&&(s=mt(i)),new gNe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=mt(e.commitTime);return this.listener.cu(r,n)}return B(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=zc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Sc(t,e){let n;if(e instanceof Ms)n={update:YB(t,e.key,e.value)};else if(e instanceof ws)n={delete:Hc(t,e.key)};else if(e instanceof Rn)n={update:YB(t,e.key,e.data),updateMask:NNe(e.fieldMask)};else{if(!(e instanceof Bv))return O();n={verify:Hc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof ys)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ei)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ii)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cs)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:SNe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.serializer,r))};this.Wo(n)}}class Cke extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new b(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(M.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,n,r,s,a,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(M.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class wke{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ht(n),this.mu=!1):H("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Vke{constructor(e,n,r,i,s){var a=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(c=>{r.enqueueAndForget(m(function*(){var o;Lr(a)&&(H("RemoteStore","Restarting streams for network reachability change."),yield(o=m(function*(l){const u=A(l);u.vu.add(4),yield Es(u),u.bu.set("Unknown"),u.vu.delete(4),yield Pc(u)}),function(l){return o.apply(this,arguments)})(a))}))}),this.bu=new wke(r,i)}}function Pc(t){return w_.apply(this,arguments)}function w_(){return w_=m(function*(t){if(Lr(t))for(const e of t.Ru)yield e(!0)}),w_.apply(this,arguments)}function Es(t){return V_.apply(this,arguments)}function V_(){return V_=m(function*(t){for(const e of t.Ru)yield e(!1)}),V_.apply(this,arguments)}function zl(t,e){const n=A(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),z_(n)?H_(n):Ls(n).Ko()&&b_(n,e))}function Rc(t,e){const n=A(t),r=Ls(n);n.Au.delete(e),r.Ko()&&qU(n,e),0===n.Au.size&&(r.Ko()?r.jo():Lr(n)&&n.bu.set("Unknown"))}function b_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(j.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ls(t).su(e)}function qU(t,e){t.Vu.qt(e),Ls(t).iu(e)}function H_(t){t.Vu=new wNe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ls(t).start(),t.bu.gu()}function z_(t){return Lr(t)&&!Ls(t).Uo()&&t.Au.size>0}function Lr(t){return 0===A(t).vu.size}function GU(t){t.Vu=void 0}function bke(t){return S_.apply(this,arguments)}function S_(){return S_=m(function*(t){t.Au.forEach((e,n)=>{b_(t,e)})}),S_.apply(this,arguments)}function Hke(t,e){return x_.apply(this,arguments)}function x_(){return x_=m(function*(t,e){GU(t),z_(t)?(t.bu.Iu(e),H_(t)):t.bu.set("Unknown")}),x_.apply(this,arguments)}function zke(t,e,n){return E_.apply(this,arguments)}function E_(){return E_=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof UB&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const a=s.cause;for(const c of s.targetIds)i.Au.has(c)&&(yield i.remoteSyncer.rejectListen(c,a),i.Au.delete(c),i.Vu.removeTarget(c))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sl(t,r)}else if(e instanceof ll?t.Vu.Ht(e):e instanceof BB?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(j.min()))try{const r=yield TU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const a=i.Vu.ce(s);return a.targetChanges.forEach((c,o)=>{if(c.resumeToken.approximateByteSize()>0){const l=i.Au.get(o);l&&i.Au.set(o,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,o)=>{const l=i.Au.get(c);if(!l)return;i.Au.set(c,l.withResumeToken(xt.EMPTY_BYTE_STRING,l.snapshotVersion)),qU(i,c);const u=new On(l.target,c,o,l.sequenceNumber);b_(i,u)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){H("RemoteStore","Failed to raise snapshot:",r),yield Sl(t,r)}var r}),E_.apply(this,arguments)}function Sl(t,e,n){return I_.apply(this,arguments)}function I_(){return I_=m(function*(t,e,n){if(!Cr(e))throw e;t.vu.add(1),yield Es(t),t.bu.set("Offline"),n||(n=()=>TU(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){H("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Pc(t)}))}),I_.apply(this,arguments)}function WU(t,e){return e().catch(n=>Sl(t,n,e))}function Is(t){return L_.apply(this,arguments)}function L_(){return L_=m(function*(t){const e=A(t),n=Dr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ske(e);)try{const i=yield fke(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,xke(e,i)}catch(i){yield Sl(e,i)}KU(e)&&QU(e)}),L_.apply(this,arguments)}function Ske(t){return Lr(t)&&t.Eu.length<10}function xke(t,e){t.Eu.push(e);const n=Dr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function KU(t){return Lr(t)&&!Dr(t).Uo()&&t.Eu.length>0}function QU(t){Dr(t).start()}function Eke(t){return D_.apply(this,arguments)}function D_(){return D_=m(function*(t){Dr(t).hu()}),D_.apply(this,arguments)}function Ike(t){return A_.apply(this,arguments)}function A_(){return A_=m(function*(t){const e=Dr(t);for(const n of t.Eu)e.uu(n.mutations)}),A_.apply(this,arguments)}function Lke(t,e,n){return T_.apply(this,arguments)}function T_(){return T_=m(function*(t,e,n){const r=t.Eu.shift(),i=jv.from(r,e,n);yield WU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Is(t)}),T_.apply(this,arguments)}function Dke(t,e){return N_.apply(this,arguments)}function N_(){return N_=m(function*(t,e){var n;e&&Dr(t).ou&&(yield(n=m(function*(r,i){if(function kB(t){switch(t){default:return O();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}(s=i.code)&&s!==M.ABORTED){const a=r.Eu.shift();Dr(r).Qo(),yield WU(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),yield Is(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),KU(t)&&QU(t)}),N_.apply(this,arguments)}function YU(t,e){return k_.apply(this,arguments)}function k_(){return k_=m(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Lr(n);n.vu.add(3),yield Es(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Pc(n)}),k_.apply(this,arguments)}function R_(){return R_=m(function*(t,e){const n=A(t);e?(n.vu.delete(2),yield Pc(n)):e||(n.vu.add(2),yield Es(n),n.bu.set("Unknown"))}),R_.apply(this,arguments)}function Ls(t){return t.Su||(t.Su=function(e,n,r){const i=A(e);return i.fu(),new _ke(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:bke.bind(null,t),ao:Hke.bind(null,t),nu:zke.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),z_(t)?H_(t):t.bu.set("Unknown")):(yield t.Su.stop(),GU(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Dr(t){return t.Du||(t.Du=function(e,n,r){const i=A(e);return i.fu(),new yke(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Eke.bind(null,t),ao:Dke.bind(null,t),au:Ike.bind(null,t),cu:Lke.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield Is(t)):(yield t.Du.stop(),t.Eu.length>0&&(H("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class O_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new St,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,c=new O_(e,n,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ds(t,e){if(ht("AsyncQueue",`${e}: ${t}`),Cr(t))return new b(M.UNAVAILABLE,`${e}: ${t}`);throw t}class As{constructor(e){this.comparator=e?(n,r)=>e(n,r)||D.comparator(n.key,r.key):(n,r)=>D.comparator(n.key,r.key),this.keyedMap=_c(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new As(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new As;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class XU{constructor(){this.Cu=new Ae(D.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ts{constructor(e,n,r,i,s,a,c,o,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new Ts(e,n,As.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ake{constructor(){this.Nu=void 0,this.listeners=[]}}class Tke{constructor(){this.queries=new Pn(e=>vB(e),gc),this.onlineState="Unknown",this.ku=new Set}}function B_(){return B_=m(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ake),i)try{s.Nu=yield n.onListen(r)}catch(a){const c=Ds(a,`Initialization of query '${Ov(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&$_(n)}),B_.apply(this,arguments)}function j_(){return j_=m(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),j_.apply(this,arguments)}function Nke(t,e){const n=A(t);let r=!1;for(const i of e){const a=n.queries.get(i.query);if(a){for(const c of a.listeners)c.$u(i)&&(r=!0);a.Nu=i}}r&&$_(n)}function kke(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function $_(t){t.ku.forEach(e=>{e.next()})}class q_{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ts(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ej{constructor(e){this.key=e}}class tj{constructor(e){this.key=e}}class nj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=se(),this.mutatedKeys=se(),this.tc=yB(e),this.ec=new As(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new XU,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1;const o="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const d=i.get(u),h=vc(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),v=!0):this.rc(d,h)||(r.track({type:2,doc:h}),v=!0,(o&&this.tc(h,o)>0||l&&this.tc(h,l)<0)&&(c=!0)):!d&&h?(r.track({type:0,doc:h}),v=!0):d&&!h&&(r.track({type:1,doc:d}),v=!0,(o||l)&&(c=!0)),v&&(h?(a=a.add(h),s=g?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const u="F"===this.query.limitType?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:a,ic:r,zi:c,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,u)=>function(f,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return h(f)-h(d)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const a=n?this.uc():[],c=0===this.Zu.size&&this.current?1:0,o=c!==this.Xu;return this.Xu=c,0!==s.length||o?{snapshot:new Ts(this.query,e.ec,i,s,e.mutatedKeys,0===c,o,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new XU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=se(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new tj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new ej(r))}),n}hc(e){this.Yu=e.ir,this.Zu=se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ts.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Oke{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Fke{constructor(e){this.key=e,this.fc=!1}}class Bke{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Pn(c=>vB(c),gc),this._c=new Map,this.mc=new Set,this.gc=new Ae(D.comparator),this.yc=new Map,this.Ic=new s_,this.Tc={},this.Ec=new Map,this.Ac=ki.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Uke(t,e){return G_.apply(this,arguments)}function G_(){return G_=m(function*(t,e){const n=function my(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xke.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qke.bind(null,e),e.dc.nu=Nke.bind(null,e.eventManager),e.dc.Pc=kke.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const a=yield function Ss(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,y.resolve(i)):n.Bs.allocateTargetId(r).next(a=>(i=new On(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,S2(e)),c=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=yield function W_(t,e,n,r,i){return K_.apply(this,arguments)}(n,e,r,"current"===c,a.resumeToken),n.isPrimaryClient&&zl(n.remoteStore,a)}return i}),G_.apply(this,arguments)}function K_(){return K_=m(function*(t,e,n,r,i){t.Rc=(f,d,h)=>{return(p=m(function*(g,v,C,_){let w=v.view.sc(C);w.zi&&(w=yield Ml(g.localStore,v.query,!1).then(({documents:G})=>v.view.sc(G,w)));const I=_&&_.targetChanges.get(v.targetId),N=v.view.applyChanges(w,g.isPrimaryClient,I);return iy(g,v.targetId,N.cc),N.snapshot}),function(g,v,C,_){return p.apply(this,arguments)})(t,f,d,h);var p};const s=yield Ml(t.localStore,e,!0),a=new nj(e,s.ir),c=a.sc(s.documents),o=bc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=a.applyChanges(c,t.isPrimaryClient,o);iy(t,n,l.cc);const u=new Oke(e,n,a);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}),K_.apply(this,arguments)}function jke(t,e){return Q_.apply(this,arguments)}function Q_(){return Q_=m(function*(t,e){const n=A(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!gc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xs(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Rc(n.remoteStore,r.targetId),Ns(n,r.targetId)}).catch(yr))):(Ns(n,r.targetId),yield xs(n.localStore,r.targetId,!0))}),Q_.apply(this,arguments)}function Y_(){return Y_=m(function*(t,e,n){const r=function gy(t){const e=A(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gke.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wke.bind(null,e),e}(t);try{const i=yield function(s,a){const c=A(s),o=Je.now(),l=a.reduce((d,h)=>d.add(h.key),se());let u,f;return c.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=B2(),p=se();return c.Zi.getEntries(d,l).next(g=>{h=g,h.forEach((v,C)=>{C.isValidDocument()||(p=p.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(d,h)).next(g=>{u=g;const v=[];for(const C of a){const _=_Ne(C,u.get(C.key).overlayedDocument);null!=_&&v.push(new Rn(C.key,_,rB(_.value.mapValue),We.exists(!0)))}return c.mutationQueue.addMutationBatch(d,o,v,a)}).next(g=>{f=g;const v=g.applyToLocalDocumentSet(u,p);return c.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:f.batchId,changes:MB(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let o=s.Tc[s.currentUser.toKey()];o||(o=new Ae(Z)),o=o.insert(a,c),s.Tc[s.currentUser.toKey()]=o}(r,i.batchId,n),yield Fn(r,i.changes),yield Is(r.remoteStore)}catch(i){const s=Ds(i,"Failed to persist write");n.reject(s)}}),Y_.apply(this,arguments)}function rj(t,e){return X_.apply(this,arguments)}function X_(){return X_=m(function*(t,e){const n=A(t);try{const r=yield function uke(t,e){const n=A(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const c=[];e.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;c.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);var p,g,v;null!==e.targetMismatches.get(f)?h=h.withResumeToken(xt.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),g=h,v=u,(0===(p=d).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&c.push(n.Bs.updateTargetData(s,h))});let o=B2(),l=se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),c.push(function NU(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=B2();return n.forEach((c,o)=>{const l=s.get(c);o.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),o.isNoDocument()&&o.version.isEqual(j.min())?(e.removeEntry(c,o.readTime),a=a.insert(c,o)):!l.isValidDocument()||o.version.compareTo(l.version)>0||0===o.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(o),a=a.insert(c,o)):H("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",o.version)}),{nr:a,sr:i}})}(s,a,e.documentUpdates).next(u=>{o=u.nr,l=u.sr})),!r.isEqual(j.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(u)}return y.waitFor(c).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,o,l)).next(()=>o)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.yc.get(s);a&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.fc=!0:i.modifiedDocuments.size>0?B(a.fc):i.removedDocuments.size>0&&(B(a.fc),a.fc=!1))}),yield Fn(n,r,e)}catch(r){yield yr(r)}}),X_.apply(this,arguments)}function ij(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,a)=>{const c=a.view.Mu(e);c.snapshot&&i.push(c.snapshot)}),function(s,a){const c=A(s);c.onlineState=a;let o=!1;c.queries.forEach((l,u)=>{for(const f of u.listeners)f.Mu(a)&&(o=!0)}),o&&$_(c)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qke(t,e,n){return J_.apply(this,arguments)}function J_(){return J_=m(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let a=new Ae(D.comparator);a=a.insert(s,Oe.newNoDocument(s,j.min()));const c=se().add(s),o=new Vc(j.min(),new Map,new Ae(Z),a,c);yield rj(r,o),r.gc=r.gc.remove(s),r.yc.delete(e),sy(r)}else yield xs(r.localStore,e,!1).then(()=>Ns(r,e,n)).catch(yr)}),J_.apply(this,arguments)}function Gke(t,e){return Z_.apply(this,arguments)}function Z_(){return Z_=m(function*(t,e){const n=A(t),r=e.batch.batchId;try{const i=yield function lke(t,e){const n=A(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(a,c,o,l){const u=o.batch,f=u.keys();let d=y.resolve();return f.forEach(h=>{d=d.next(()=>l.getEntry(c,h)).next(p=>{const g=o.docVersions.get(h);B(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,o),p.isValidDocument()&&(p.setReadTime(o.commitVersion),l.addEntry(p)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(c,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=se();for(let o=0;o<a.mutationResults.length;++o)a.mutationResults[o].transformResults.length>0&&(c=c.add(a.batch.mutations[o].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);ry(n,r,null),ny(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Fn(n,i)}catch(i){yield yr(i)}}),Z_.apply(this,arguments)}function Wke(t,e,n){return ey.apply(this,arguments)}function ey(){return ey=m(function*(t,e,n){const r=A(t);try{const i=yield function(s,a){const c=A(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",o=>{let l;return c.mutationQueue.lookupMutationBatch(o,a).next(u=>(B(null!==u),l=u.keys(),c.mutationQueue.removeMutationBatch(o,u))).next(()=>c.mutationQueue.performConsistencyCheck(o)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(o,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,l)).next(()=>c.localDocuments.getDocuments(o,l))})}(r.localStore,e);ry(r,e,n),ny(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Fn(r,i)}catch(i){yield yr(i)}}),ey.apply(this,arguments)}function ny(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function ry(t,e,n){const r=A(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Ns(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||sj(t,r)})}function sj(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Rc(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),sy(t))}function iy(t,e,n){for(const r of n)r instanceof ej?(t.Ic.addReference(r.key,e),Qke(t,r)):r instanceof tj?(H("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||sj(t,r.key)):O()}function Qke(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(H("SyncEngine","New document in limbo: "+n),t.mc.add(r),sy(t))}function sy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new D(pe.fromString(e)),r=t.Ac.next();t.yc.set(r,new Fke(n)),t.gc=t.gc.insert(n,r),zl(t.remoteStore,new On(S2(_s(n.path)),r,"TargetPurposeLimboResolution",J2.ct))}}function Fn(t,e,n){return ay.apply(this,arguments)}function ay(){return ay=m(function*(t,e,n){const r=A(t),i=[],s=[],a=[];var c;r.wc.isEmpty()||(r.wc.forEach((c,o)=>{a.push(r.Rc(o,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=u_.Li(o.targetId,l);s.push(u)}}))}),yield Promise.all(a),r.dc.nu(i),yield(c=m(function*(o,l){const u=A(o);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>y.forEach(l,d=>y.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>y.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Cr(f))throw f;H("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=u.Ji.get(d),g=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);u.Ji=u.Ji.insert(d,g)}}}),function(o,l){return c.apply(this,arguments)})(r.localStore,s))}),ay.apply(this,arguments)}function Yke(t,e){return cy.apply(this,arguments)}function cy(){return cy=m(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=yield AU(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(a=>{a.forEach(c=>{c.reject(new b(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fn(n,r.er)}var i}),cy.apply(this,arguments)}function Xke(t,e){const n=A(t),r=n.yc.get(e);if(r&&r.fc)return se().add(r.key);{let i=se();const s=n._c.get(e);if(!s)return i;for(const a of s){const c=n.wc.get(a);i=i.unionWith(c.view.nc)}return i}}class xl{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=kc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function DU(t,e,n,r){return new oke(t,e,n,r)}(this.persistence,new LU,e.initialUser,this.serializer)}createPersistence(e){return new a_(_l.zs,this.serializer)}createSharedClientState(e){return new BU}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ks{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>ij(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Yke.bind(null,r.syncEngine),yield function P_(t,e){return R_.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Tke}createDatastore(e){const n=kc(e.databaseInfo.databaseId),r=new vke(e.databaseInfo);return new Cke(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=c=>ij(this.syncEngine,c,0),a=UU.D()?new UU:new pke,new Vke(n,r,i,s,a);var n,r,i,s,a}createSyncEngine(e,n){return function(r,i,s,a,c,o,l){const u=new Bke(r,i,s,a,c,o);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=A(n);H("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Es(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class El{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ht("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class uPe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=TF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var a=m(function*(c){H("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(H("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new St;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ds(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Il(t,e){return vy.apply(this,arguments)}function vy(){return vy=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield AU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),vy.apply(this,arguments)}function _y(t,e){return yy.apply(this,arguments)}function yy(){return yy=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Cy(t){return My.apply(this,arguments)}(t);H("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>YU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>YU(e.remoteStore,s)),t._onlineComponents=e}),yy.apply(this,arguments)}function My(){return My=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Il(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function fj(t){return"FirebaseError"===t.name?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;z1("Error using user provided cache. Falling back to memory cache: "+n),yield Il(t,new xl)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield Il(t,new xl);return t._offlineComponents}),My.apply(this,arguments)}function Ll(t){return wy.apply(this,arguments)}function wy(){return wy=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield _y(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield _y(t,new ks))),t._onlineComponents}),wy.apply(this,arguments)}function Ps(t){return by.apply(this,arguments)}function by(){return by=m(function*(t){const e=yield Ll(t),n=e.eventManager;return n.onListen=Uke.bind(null,e.syncEngine),n.onUnlisten=jke.bind(null,e.syncEngine),n}),by.apply(this,arguments)}function vj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const _j=new Map;function Hy(t,e,n){if(!n)throw new b(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yj(t){if(!D.isDocumentKey(t))throw new b(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cj(t){if(D.isDocumentKey(t))throw new b(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Al(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Al(t);throw new b(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class wj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yPe(t,e,n,r){if(!0===e&&!0===r)throw new b(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=vj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new vTe;switch(n.type){case"firstParty":return new MTe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=_j.get(e);n&&(H("ComponentProvider","Removing Datastore"),_j.delete(e),n.terminate())}(this),Promise.resolve()}}class gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}}class t2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t2(this.firestore,e,this._query)}}class tn extends t2{constructor(e,n,r){super(e,n,_s(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new D(e))}withConverter(e){return new tn(this.firestore,e,this._path)}}function MPe(t,e,...n){if(t=dt(t),Hy("collection","path",e),t instanceof Oc){const r=pe.fromString(e,...n);return Cj(r),new tn(t,null,r)}{if(!(t instanceof gt||t instanceof tn))throw new b(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return Cj(r),new tn(t.firestore,null,r)}}function Vj(t,e,...n){if(t=dt(t),1===arguments.length&&(e=TF.A()),Hy("doc","path",e),t instanceof Oc){const r=pe.fromString(e,...n);return yj(r),new gt(t,null,new D(r))}{if(!(t instanceof gt||t instanceof tn))throw new b(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return yj(r),new gt(t.firestore,t instanceof tn?t.converter:null,new D(r))}}class wPe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new C_(this,"async_queue_retry"),this.Xc=()=>{const n=Hl();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Hl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Hl();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new St;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Cr(n))throw n;H("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ht("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=O_.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function zy(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Fe extends Oc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new wPe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Hj(this),this._firestoreClient.terminate()}}function bPe(t,e){const r="string"==typeof t?t:e||"(default)",i=ur("object"==typeof t?t:ya(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=pk("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function CPe(t,e,n,r={}){var i;const s=(t=ue(t,Oc))._getSettings(),a=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&z1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,o;if("string"==typeof r.mockUserToken)c=r.mockUserToken,o=Bt.MOCK_USER;else{c=function Tbe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[I0(JSON.stringify({alg:"none",type:"JWT"})),I0(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new b(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new Bt(l)}t._authCredentials=new _Te(new DF(c,o))}}(i,...s)}return i}function Mt(t){return t._firestoreClient||Hj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hj(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new XTe(t._databaseId,c,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,vj(l.experimentalLongPollingOptions),l.useFetchStreams));var c,l;t._firestoreClient=new uPe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(xt.fromBase64String(e))}catch(n){throw new b(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rs{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sy{constructor(e){this._methodName=e}}class xy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}const zPe=/^__.*__$/;class SPe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Rn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ms(e,this.data,n,this.fieldTransforms)}}class xj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rn(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ej(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class Tl{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Tl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return kl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ej(this.ca)&&zPe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class xPe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kc(e)}ya(e,n,r,i=!1){return new Tl({ca:e,methodName:n,ga:r,path:pt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Os(t){const e=t._freezeSettings(),n=kc(t._databaseId);return new xPe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ey(t,e,n,r,i,s={}){const a=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Ly("Data must be an object, but it was:",a,r);const c=Tj(r,a);let o,l;if(s.merge)o=new F2(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=Uc(e,f,n);if(!a.contains(d))throw new b(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);kj(u,d)||u.push(d)}o=new F2(u),l=a.fieldTransforms.filter(f=>o.covers(f.field))}else o=null,l=a.fieldTransforms;return new SPe(new e2(c),o,l)}class Bc extends Sy{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bc}}function Oi(t,e){if(Nj(t=dt(t)))return Ly("Unsupported field value:",e,t),Tj(t,e);if(t instanceof Sy)return function(n,r){if(!Ej(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const a of n){let c=Oi(a,r.wa(s));null==c&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=dt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return HB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Je.fromDate(n);return{timestampValue:Vs(r.serializer,i)}}if(n instanceof Je){const i=new Je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vs(r.serializer,i)}}if(n instanceof xy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ri)return{bytesValue:GB(r.serializer,n._byteString)};if(n instanceof gt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Kv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Al(n)}`)}(t,e)}function Tj(t,e){const n={};return KF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(t,(r,i)=>{const s=Oi(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Nj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof xy||t instanceof Ri||t instanceof gt||t instanceof Sy)}function Ly(t,e,n){if(!Nj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Al(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Uc(t,e,n){if((e=dt(e))instanceof Rs)return e._internalPath;if("string"==typeof e)return Nl(t,e);throw kl("Field path arguments must be of type string or ",t,!1,void 0,n)}const DPe=new RegExp("[~\\*/\\[\\]]");function Nl(t,e,n){if(e.search(DPe)>=0)throw kl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rs(...e.split("."))._internalPath}catch{throw kl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kl(t,e,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let o="";return(s||a)&&(o+=" (found",s&&(o+=` in field ${r}`),a&&(o+=` in document ${i}`),o+=")"),new b(M.INVALID_ARGUMENT,c+t+o)}function kj(t,e){return t.some(n=>n.isEqual(e))}class Dy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new APe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class APe extends Dy{data(){return super.data()}}function Pl(t,e){return"string"==typeof e?Nl(t,e):e instanceof Rs?e._internalPath:e._delegate._internalPath}class Ay{}class Ty extends Ay{}function TPe(t,e,...n){let r=[];e instanceof Ay&&r.push(e),r=r.concat(n),function(i){const s=i.filter(c=>c instanceof Fs).length,a=i.filter(c=>c instanceof jc).length;if(s>1||s>0&&a>0)throw new b(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class jc extends Ty{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jc(e,n,r)}_apply(e){const n=this._parse(e);return Bj(e._query,n),new t2(e.firestore,e.converter,Rv(e._query,n))}_parse(e){const n=Os(e.firestore);return function(i,s,a,c,o,l,u){let f;if(o.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new b(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){Fj(u,l);const d=[];for(const h of u)d.push(Oj(c,i,h));f={arrayValue:{values:d}}}else f=Oj(c,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||Fj(u,l),f=function Aj(t,e,n,r=!1){return Oi(n,t.ya(r?4:3,e))}(a,"where",u,"in"===l||"not-in"===l);return oe.create(o,l,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function NPe(t,e,n){const r=e,i=Pl("where",t);return jc._create(i,r,n)}class Fs extends Ay{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fs(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:He.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const a=i.getFlattenedFilters();for(const c of a)Bj(s,c),s=Rv(s,c)}(e._query,n),new t2(e.firestore,e.converter,Rv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ny extends Ty{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ny(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new b(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new b(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new gs(i,s);return function(c,o){if(null===kv(c)){const l=rl(c);null!==l&&Uj(0,l,o.field)}}(r,a),a}(e._query,this._field,this._direction);return new t2(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new kn(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function kPe(t,e="asc"){const n=e,r=Pl("orderBy",t);return Ny._create(r,n)}class Rl extends Ty{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Rl(e,n,r)}_apply(e){return new t2(e.firestore,e.converter,il(e._query,this._limit,this._limitType))}}function PPe(t){return function Mj(t,e){if(e<=0)throw new b(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Rl._create("limit",t,"F")}function Oj(t,e,n){if("string"==typeof(n=dt(n))){if(""===n)throw new b(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pv(e)&&-1!==n.indexOf("/"))throw new b(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pe.fromString(n));if(!D.isDocumentKey(r))throw new b(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zi(t,new D(r))}if(n instanceof gt)return zi(t,n._key);throw new b(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Al(n)}.`)}function Fj(t,e){if(!Array.isArray(t)||0===t.length)throw new b(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bj(t,e){if(e.isInequality()){const r=rl(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new b(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=kv(t);null!==s&&Uj(0,i,s)}const n=function(r,i){for(const s of r)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new b(M.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Uj(t,e,n){if(!n.isEqual(e))throw new b(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class RPe{convertValue(e,n="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xy(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=X8(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=wr(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);B(nU(r));const i=new Hi(r.get(1),r.get(3)),s=new D(r.popFirst(5));return i.isEqual(n)||ht(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Fi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bs extends Dy{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pl("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bl extends Bs{data(e={}){return super.data(e)}}class Us{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bl(this._firestore,this._userDataWriter,r.key,r,new Fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Bl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Fi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||3!==a.type).map(a=>{const c=new Bl(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Fi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let o=-1,l=-1;return 0!==a.type&&(o=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:FPe(a.type),doc:c,oldIndex:o,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FPe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class Ar extends RPe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function BPe(t,e,n,...r){t=ue(t,gt);const i=ue(t.firestore,Fe),s=Os(i);let a;return a="string"==typeof(e=dt(e))||e instanceof Rs?function Dj(t,e,n,r,i,s){const a=t.ya(1,e,n),c=[Uc(e,r,n)],o=[i];if(s.length%2!=0)throw new b(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)c.push(Uc(e,s[d])),o.push(s[d+1]);const l=[],u=e2.empty();for(let d=c.length-1;d>=0;--d)if(!kj(l,c[d])){const h=c[d];let p=o[d];p=dt(p);const g=a.da(h);if(p instanceof Bc)l.push(h);else{const v=Oi(p,g);null!=v&&(l.push(h),u.set(h,v))}}const f=new F2(l);return new xj(u,f,a.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function Lj(t,e,n,r){const i=t.ya(1,e,n);Ly("Data must be an object, but it was:",i,r);const s=[],a=e2.empty();Mr(r,(o,l)=>{const u=Nl(e,o,n);l=dt(l);const f=i.da(u);if(l instanceof Bc)s.push(u);else{const d=Oi(l,f);null!=d&&(s.push(u),a.set(u,d))}});const c=new F2(s);return new xj(a,c,i.fieldTransforms)}(s,"updateDoc",t._key,e),$c(i,[a.toMutation(t._key,We.exists(!0))])}function UPe(t){return $c(ue(t.firestore,Fe),[new ws(t._key,We.none())])}function jPe(t,e){const n=ue(t.firestore,Fe),r=Vj(t),i=function ky(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return $c(n,[Ey(Os(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,We.exists(!1))]).then(()=>r)}function $c(t,e){return function(n,r){const i=new St;return n.asyncQueue.enqueueAndForget(m(function*(){return function $ke(t,e,n){return Y_.apply(this,arguments)}(yield function Vy(t){return Ll(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Mt(t),e)}!function(t,e=!0){ds=li,b2(new l2("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),a=new Fe(new yTe(n.getProvider("auth-internal")),new wTe(n.getProvider("app-check-internal")),function(c,o){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new b(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hi(c.options.projectId,o)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ye(LF,"3.13.0",t),Ye(LF,"3.13.0","esm2017")}();var nRe={includeMetadataChanges:!1};function Ry(t,e){return void 0===e&&(e=nRe),new $e(function(n){var r=function $Pe(t,...e){var n,r,i;t=dt(t);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||zy(e[a])||(s=e[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges};if(zy(e[a])){const f=e[a];e[a]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[a+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[a+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let o,l,u;if(t instanceof gt)l=ue(t.firestore,Fe),u=_s(t._key.path),o={next:f=>{e[a]&&e[a](function Py(t,e,n){const r=n.docs.get(e._key),i=new Ar(t);return new Bs(t,i,e._key,r,new Fi(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,f))},error:e[a+1],complete:e[a+2]};else{const f=ue(t,t2);l=ue(f.firestore,Fe),u=f._query;const d=new Ar(l);o={next:h=>{e[a]&&e[a](new Us(l,d,f,h))},error:e[a+1],complete:e[a+2]},function Pj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,d,h,p){const g=new El(p),v=new q_(d,g,h);return f.asyncQueue.enqueueAndForget(m(function*(){return function F_(t,e){return B_.apply(this,arguments)}(yield Ps(f),v)})),()=>{g.Dc(),f.asyncQueue.enqueueAndForget(m(function*(){return function U_(t,e){return j_.apply(this,arguments)}(yield Ps(f),v)}))}}(Mt(l),u,c,o)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function lRe(t,e){return void 0===e&&(e={}),function oRe(t){return Ry(t,{includeMetadataChanges:!0}).pipe(i3(function(e){return e.docs}))}(t).pipe(i3(function(n){return n.map(function(r){return function qj(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Bn{constructor(e){return e}}const Qj="firestore",By=new q("angularfire2.firestore-instances");function dRe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Bn(r)}}const hRe={provide:class uRe{constructor(){return ap(Qj)}},deps:[[new s2,By]]},pRe={provide:Bn,useFactory:function fRe(t,e){const n=sp(Qj,t,e);return n&&new Bn(n)},deps:[[new s2,By],G4]};let mRe=(()=>{class t{constructor(){Ye("angularfire",Va.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ct({type:t}),t.\u0275inj=Ze({providers:[pRe,hRe]}),t})();function js(t,...e){return{ngModule:mRe,providers:[{provide:By,useFactory:dRe(t),multi:!0,deps:[ke,c2,q0,G0,[new s2,pO],[new s2,xp],...e]}]}}const $s=Pt(lRe,!0),Yj=Pt(jPe,!0),Un=Pt(MPe,!0),gRe=Pt(UPe,!0),Uy=Pt(Vj,!0),qs=Pt(bPe,!0),Xj=Pt(PPe,!0),vRe=Pt(kPe,!0),Gs=Pt(TPe,!0),Jj=Pt(BPe,!0),Tr=Pt(NPe,!0);class Zj{constructor(e,n,r){this._user=e,this._value=JSON.stringify(n),this._ttl=r,this._expiry=Date.now()+r}get user(){return this._user}set user(e){this._user=e}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{user:this.user,ttl:this.ttl,expiry:this.expiry,value:this.value}}}var Ws;class Bi{constructor(){this.cachedUsername=null}cache(e,n,r=0){const i=new Zj(this.username(),n,r);localStorage.setItem(e,JSON.stringify(i))}get(e){const n=localStorage.getItem(e);if(!n)return null;const r=Object.assign(Zj,JSON.parse(n));return this.username()!==r.user||r.ttl>0&&Date.now()>r.expiry?(localStorage.removeItem(e),null):JSON.parse(r.value)}remove(e){localStorage.removeItem(e)}username(){if(null==this.cachedUsername){let e=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();0==e.indexOf("[")&&4==e.indexOf("]")&&(e=e.substring(5,e.length)),this.cachedUsername=e.toLowerCase()}return this.cachedUsername}}(Ws=Bi).\u0275fac=function(e){return new(e||Ws)},Ws.\u0275prov=J({token:Ws,factory:Ws.\u0275fac,providedIn:"platform"}),I5([L5(2,s2())],Bi.prototype,"cache",null);var nn=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.ACTIVE_ORDERS="active-orders",t}(nn||{});let e$=(()=>{var t;class e{constructor(){this.firestore=R(Bn),this.localStorageService=R(Bi)}subscribeToFleetOrders(r,i,s){let a=Un(this.firestore,"orders");$s(Gs(a,Tr("user","==",r),Tr("executed","==",!1)),{idField:"id"}).forEach(c=>{i.next(c.length),c.length>0?this.localStorageService.cache(nn.ACTIVE_ORDERS,c.length):this.localStorageService.remove(nn.ACTIVE_ORDERS),s.detectChanges(),document.querySelector(".local-orders-badge")&&(document.querySelector(".local-orders-badge").style.display="none")}).catch(c=>{console.log(c)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class jy{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class t${constructor(){this._orbit=0,this._ground=0,this._workers=new jy,this._soldiers=new jy,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class $y{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let _Re=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new t$,a=i.querySelectorAll(".resourceLine .left > span"),c=[];a.forEach(l=>{let u=l.textContent.split(/\s+/),f=new $y;f.name=l.parentElement.className.split(/\s+/)[2],f.stored=parseInt(u[0].replace(/,/g,"")),f.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),f.abundance=parseInt(u[2].replace(/,/g,"")),c.push(f)}),s.resources=c;let o=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(o.substring(1,o.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class n${constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new jy,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var m2=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(m2||{});class yRe{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class CRe{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Te=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Te||{});class MRe{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let wRe=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new n$,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:s=m2.SURFACE;break;case 2:s=m2.RESOURCE;break;case 0:s=m2.FLEET;break;default:s=m2.UNKNOWN}let a=new yRe(r,s);if(s!==m2.UNKNOWN){a.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";a.planetScan.owner=new MRe(i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),c.substring(1,c.length-1))}if((s===m2.RESOURCE||s===m2.SURFACE)&&(a.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),a.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),a.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===m2.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let o=new $y;o.name=c.textContent.trim().toLowerCase(),a.planetScan.resources.push(o)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,o)=>{a.planetScan.resources[o].abundance=parseInt(c.textContent.trim())})),s===m2.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(o=>{let l=new $y;l.name=o.textContent.trim().toLowerCase(),a.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((o,l)=>{a.planetScan.resources[l].stored=parseInt(o.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((o,l)=>{a.planetScan.resources[l].abundance=parseInt(o.textContent.trim())});let c=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];a.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),a.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),a.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),a.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(o=>{a.planetScan.structures.push(new CRe(o.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(o.textContent.split(/x\s+/)[0].trim())))}),a.planetScan.structures.forEach(o=>{switch(o.name){case Te.OUTPOST:a.planetScan.resources[0].production+=300,a.planetScan.resources[1].production+=200,a.planetScan.resources[2].production+=100;break;case Te.METAL_MINE:a.planetScan.resources[0].production+=300*o.quantity;break;case Te.MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=200*o.quantity;break;case Te.FARM:a.planetScan.resources[2].production+=300*o.quantity;break;case Te.SOLAR_GENERATOR:a.planetScan.resources[3].production+=100*o.quantity;break;case Te.CORE_METAL_MINE:a.planetScan.resources[0].production+=900*o.quantity;break;case Te.CORE_MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=600*o.quantity;break;case Te.HYDROPONICS_LAB:a.planetScan.resources[2].production+=900*o.quantity;break;case Te.SOLAR_ARRAY:a.planetScan.resources[3].production+=300*o.quantity;break;case Te.STRIP_METAL_MINE:a.planetScan.resources[0].production+=9e3*o.quantity;break;case Te.STRIP_MINERAL_EXTRACTOR:a.planetScan.resources[1].production+=6e3*o.quantity;break;case Te.HYDROPONICS_DOME:a.planetScan.resources[2].production+=9e3*o.quantity;break;case Te.SOLAR_STATION:a.planetScan.resources[3].production+=3e3*o.quantity}})}return a.planetScan.resources.forEach(c=>{c.production=Math.ceil(c.production*c.abundance/100)}),a}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),VRe=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new t$;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class bRe{get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,note:this.note,dgId:this.dgId,kickEta:this.kickEta}}}let HRe=(()=>{var t;class e{constructor(){this.localStorageService=R(Bi)}extract(){let r=this.localStorageService.get(nn.ALLIANCE_MEMBERS)||[];return 0==r.length&&!document.querySelector('[action="/alliances/join/"]')&&(document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(s=>{let a=new bRe;if(null!=s.querySelector("div.note")?a.note=s.querySelector("div.note").childNodes[0].textContent.trim():null!=s.querySelector('input[name="note"]')&&(a.note=s.querySelector('input[name="note"]').value.trim()),null!=s.querySelector('[action^="/alliances/note/"]')){let c=s.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);a.dgId=c[c.length-2]}null==s.querySelector('[action="/alliances/kick/"] input')&&null!=s.querySelector(".right>b")&&(a.kickEta=s.querySelector(".right>b").textContent.trim().toLowerCase()),null!=s.querySelector("div.name")&&(a.name=s.querySelector("div.name").childNodes[0].textContent.trim(),r.push(a))})}),this.localStorageService.cache(nn.ALLIANCE_MEMBERS,r,432e5)),r}cleanAfterExtract(){document.querySelector(".dgt-orders-manager-panel.user")&&document.querySelector(".dgt-orders-manager-panel.user").remove(),document.querySelectorAll(".allianceBox").forEach(r=>{r.querySelector(".plainHeader")&&"member list"===r.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(r.querySelector(".plainHeader").remove(),r.querySelector(".playerList").remove())})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Ks;class jn{constructor(){this.planetListExtractor=R(_Re),this.planetScanExtractor=R(wRe),this.navigationSystemPlanetsExtractor=R(VRe),this.allianceMembersExtractor=R(HRe),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(e){let n=this.allianceMembersExtractor.extract();return e&&this.allianceMembersExtractor.cleanAfterExtract(),n}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}(Ks=jn).\u0275fac=function(e){return new(e||Ks)},Ks.\u0275prov=J({token:Ks,factory:Ks.\u0275fac,providedIn:"platform"}),I5([L5(0,s2())],jn.prototype,"username",null);class qy{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var qc=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(qc||{});let Qs=(()=>{var t;class e{constructor(){this.localStorageService=R(Bi),this._authState=new Kt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}setUpFirebaseAuthSubscription(r,i){null!=this.authSubscription&&this.authSubscription.unsubscribe(),this.authSubscription=cAe(r).subscribe(s=>{null!=s?$s(Gs(Un(i,"valid-users"),Tr("email","==",s.email),Xj(1))).subscribe(a=>{if(a.length>0){let c=Object.assign({email:"",enabled:!1,role:qc.USER},a[0]);c.enabled?(this.localStorageService.cache(nn.USER,{user:s.email}),this._authState.emit(new qy(!0,c.role))):this.signOut(r,!1)}else this.signOut(r,!1)}):(this.localStorageService.remove(nn.USER),this._authState.emit(new qy(!1,null)))})}signInWithEmailAndPassword(r,i,s,a){oAe(r,i,s).then(()=>{a&&location.reload()}).catch(c=>{window.alert(c.message)})}signInWithGoogle(r,i){lAe(r,new iLe).then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}signOut(r,i){this.localStorageService.remove(nn.USER),this._refreshInProgress=i,this._authState.emit(new qy(!0,null)),r.signOut().then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function r$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r$(Object(n),!0).forEach(function(r){Et(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jl(t){return(jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function i$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gy(t,e){return function IRe(t){if(Array.isArray(t))return t}(t)||function DRe(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,c,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(o){s=!0,c=o}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw c}}return r}}(t,e)||s$(t,e)||function TRe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wc(t){return function ERe(t){if(Array.isArray(t))return Wy(t)}(t)||function LRe(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s$(t)||function ARe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s$(t,e){if(t){if("string"==typeof t)return Wy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wy(t,e)}}function Wy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a$=function(){},Ky={},c$={},o$=null,l$={mark:a$,measure:a$};try{typeof window<"u"&&(Ky=window),typeof document<"u"&&(c$=document),typeof MutationObserver<"u"&&(o$=MutationObserver),typeof performance<"u"&&(l$=performance)}catch{}var Gl,Wl,Kl,Ql,Yl,u$=(Ky.navigator||{}).userAgent,f$=void 0===u$?"":u$,Nr=Ky,Be=c$,d$=o$,ql=l$,$n=!!Be.documentElement&&!!Be.head&&"function"==typeof Be.addEventListener&&"function"==typeof Be.createElement,h$=~f$.indexOf("MSIE")||~f$.indexOf("Trident/"),qn="___FONT_AWESOME___",p$="fa",m$="svg-inline--fa",Ui="data-fa-i2svg",Yy="data-fa-pseudo-element",kRe="data-fa-pseudo-element-pending",Xy="data-prefix",Jy="data-icon",g$="fontawesome-i2svg",PRe="async",RRe=["HTML","HEAD","STYLE","SCRIPT"],v$=function(){try{return!0}catch{return!1}}(),Ue="classic",at="sharp",Zy=[Ue,at];function Kc(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ue]}})}var Qc=Kc((Et(Gl={},Ue,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Et(Gl,at,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Gl)),Yc=Kc((Et(Wl={},Ue,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Et(Wl,at,{solid:"fass",regular:"fasr",light:"fasl"}),Wl)),Xc=Kc((Et(Kl={},Ue,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Et(Kl,at,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Kl)),ORe=Kc((Et(Ql={},Ue,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Et(Ql,at,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Ql)),FRe=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,_$="fa-layers-text",BRe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,URe=Kc((Et(Yl={},Ue,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Et(Yl,at,{900:"fass",400:"fasr",300:"fasl"}),Yl)),y$=[1,2,3,4,5,6,7,8,9,10],jRe=y$.concat([11,12,13,14,15,16,17,18,19,20]),$Re=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ji={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Jc=new Set;Object.keys(Yc[Ue]).map(Jc.add.bind(Jc)),Object.keys(Yc[at]).map(Jc.add.bind(Jc));var qRe=[].concat(Zy,Wc(Jc),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ji.GROUP,ji.SWAP_OPACITY,ji.PRIMARY,ji.SECONDARY]).concat(y$.map(function(t){return"".concat(t,"x")})).concat(jRe.map(function(t){return"w-".concat(t)})),Zc=Nr.FontAwesomeConfig||{};Be&&"function"==typeof Be.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=Gy(t,2),r=e[1],i=function WRe(t){return""===t||"false"!==t&&("true"===t||t)}(function GRe(t){var e=Be.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(Zc[r]=i)});var C$={styleDefault:"solid",familyDefault:"classic",cssPrefix:p$,replacementClass:m$,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Zc.familyPrefix&&(Zc.cssPrefix=Zc.familyPrefix);var Ys=F(F({},C$),Zc);Ys.autoReplaceSvg||(Ys.observeMutations=!1);var U={};Object.keys(C$).forEach(function(t){Object.defineProperty(U,t,{enumerable:!0,set:function(n){Ys[t]=n,eo.forEach(function(r){return r(U)})},get:function(){return Ys[t]}})}),Object.defineProperty(U,"familyPrefix",{enumerable:!0,set:function(e){Ys.cssPrefix=e,eo.forEach(function(n){return n(U)})},get:function(){return Ys.cssPrefix}}),Nr.FontAwesomeConfig=U;var eo=[],rn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},XRe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function to(){for(var t=12,e="";t-- >0;)e+=XRe[62*Math.random()|0];return e}function Xs(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function eC(t){return t.classList?Xs(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function M$(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Xl(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function tC(t){return t.size!==rn.size||t.x!==rn.x||t.y!==rn.y||t.rotate!==rn.rotate||t.flipX||t.flipY}var tOe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function w$(){var t=p$,e=m$,n=U.cssPrefix,r=U.replacementClass,i=tOe;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(c,".".concat(r))}return i}var V$=!1;function nC(){U.autoAddCss&&!V$&&(function YRe(t){if(t&&$n){var e=Be.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Be.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}Be.head.insertBefore(e,r)}}(w$()),V$=!0)}var nOe={mixout:function(){return{dom:{css:w$,insertCss:nC}}},hooks:function(){return{beforeDOMElementCreation:function(){nC()},beforeI2svg:function(){nC()}}}},Gn=Nr||{};Gn[qn]||(Gn[qn]={}),Gn[qn].styles||(Gn[qn].styles={}),Gn[qn].hooks||(Gn[qn].hooks={}),Gn[qn].shims||(Gn[qn].shims=[]);var x1=Gn[qn],b$=[],Jl=!1;function no(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?M$(t):"<".concat(e," ").concat(function JRe(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(M$(t[n]),'" ')},"").trim()}(r),">").concat(s.map(no).join(""),"</").concat(e,">")}function H$(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}$n&&((Jl=(Be.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Be.readyState))||Be.addEventListener("DOMContentLoaded",function t(){Be.removeEventListener("DOMContentLoaded",t),Jl=1,b$.map(function(e){return e()})}));var rC=function(e,n,r,i){var o,l,u,s=Object.keys(e),a=s.length,c=void 0!==i?function(e,n){return function(r,i,s,a){return e.call(n,r,i,s,a)}}(n,i):n;for(void 0===r?(o=1,u=e[s[0]]):(o=0,u=r);o<a;o++)u=c(u,e[l=s[o]],l,e);return u};function iC(t){var e=function aOe(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function z$(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function sC(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=z$(e);"function"!=typeof x1.hooks.addPack||i?x1.styles[t]=F(F({},x1.styles[t]||{}),s):x1.hooks.addPack(t,z$(e)),"fas"===t&&sC("fa",e)}var Zl,e5,t5,Js=x1.styles,oOe=x1.shims,lOe=(Et(Zl={},Ue,Object.values(Xc[Ue])),Et(Zl,at,Object.values(Xc[at])),Zl),aC=null,S$={},x$={},E$={},I$={},L$={},uOe=(Et(e5={},Ue,Object.keys(Qc[Ue])),Et(e5,at,Object.keys(Qc[at])),e5);var D$=function(){var e=function(s){return rC(Js,function(a,c,o){return a[o]=rC(c,s,{}),a},{})};S$=e(function(i,s,a){return s[3]&&(i[s[3]]=a),s[2]&&s[2].filter(function(o){return"number"==typeof o}).forEach(function(o){i[o.toString(16)]=a}),i}),x$=e(function(i,s,a){return i[a]=a,s[2]&&s[2].filter(function(o){return"string"==typeof o}).forEach(function(o){i[o]=a}),i}),L$=e(function(i,s,a){var c=s[2];return i[a]=a,c.forEach(function(o){i[o]=a}),i});var n="far"in Js||U.autoFetchSvg,r=rC(oOe,function(i,s){var a=s[0],c=s[1],o=s[2];return"far"===c&&!n&&(c="fas"),"string"==typeof a&&(i.names[a]={prefix:c,iconName:o}),"number"==typeof a&&(i.unicodes[a.toString(16)]={prefix:c,iconName:o}),i},{names:{},unicodes:{}});E$=r.names,I$=r.unicodes,aC=n5(U.styleDefault,{family:U.familyDefault})};function cC(t,e){return(S$[t]||{})[e]}function $i(t,e){return(L$[t]||{})[e]}function A$(t){return E$[t]||{prefix:null,iconName:null}}function Pr(){return aC}(function QRe(t){eo.push(t)})(function(t){aC=n5(t.styleDefault,{family:U.familyDefault})}),D$();var oC=function(){return{prefix:null,iconName:null,rest:[]}};function n5(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Ue:n;return Yc[r][t]||Yc[r][Qc[r][t]]||(t in x1.styles?t:null)||null}var T$=(Et(t5={},Ue,Object.keys(Xc[Ue])),Et(t5,at,Object.keys(Xc[at])),t5);function r5(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Et(e={},Ue,"".concat(U.cssPrefix,"-").concat(Ue)),Et(e,at,"".concat(U.cssPrefix,"-").concat(at)),e),a=null,c=Ue;(t.includes(s[Ue])||t.some(function(l){return T$[Ue].includes(l)}))&&(c=Ue),(t.includes(s[at])||t.some(function(l){return T$[at].includes(l)}))&&(c=at);var o=t.reduce(function(l,u){var f=function dOe(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function fOe(t){return~qRe.indexOf(t)}(i)?null:i}(U.cssPrefix,u);if(Js[u]?(u=lOe[c].includes(u)?ORe[c][u]:u,a=u,l.prefix=u):uOe[c].indexOf(u)>-1?(a=u,l.prefix=n5(u,{family:c})):f?l.iconName=f:u!==U.replacementClass&&u!==s[Ue]&&u!==s[at]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var d="fa"===a?A$(l.iconName):{},h=$i(l.prefix,l.iconName);d.prefix&&(a=null),l.iconName=d.iconName||h||l.iconName,l.prefix=d.prefix||l.prefix,"far"===l.prefix&&!Js.far&&Js.fas&&!U.autoFetchSvg&&(l.prefix="fas")}return l},oC());return(t.includes("fa-brands")||t.includes("fab"))&&(o.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(o.prefix="fad"),!o.prefix&&c===at&&(Js.fass||U.autoFetchSvg)&&(o.prefix="fass",o.iconName=$i(o.prefix,o.iconName)||o.iconName),("fa"===o.prefix||"fa"===a)&&(o.prefix=Pr()||"fas"),o}var mOe=function(){function t(){(function zRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function SRe(t,e,n){e&&i$(t.prototype,e),n&&i$(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(c){n.definitions[c]=F(F({},n.definitions[c]||{}),a[c]),sC(c,a[c]);var o=Xc[Ue][c];o&&sC(o,a[c]),D$()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var a=i[s],c=a.prefix,o=a.iconName,l=a.icon,u=l[2];n[c]||(n[c]={}),u.length>0&&u.forEach(function(f){"string"==typeof f&&(n[c][f]=l)}),n[c][o]=l}),n}}]),t}(),N$=[],Zs={},e3={},gOe=Object.keys(e3);function lC(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Zs[t]||[]).forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function qi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Zs[t]||[]).forEach(function(s){s.apply(null,n)})}function Wn(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return e3[t]?e3[t].apply(null,e):void 0}function uC(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Pr();if(e)return e=$i(n,e)||e,H$(k$.definitions,n,e)||H$(x1.styles,n,e)}var k$=new mOe,yOe={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $n?(qi("beforeI2svg",e),Wn("pseudoElements2svg",e),Wn("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===U.autoReplaceSvg&&(U.autoReplaceSvg=!0),U.observeMutations=!0,function iOe(t){$n&&(Jl?setTimeout(t,0):b$.push(t))}(function(){MOe({autoReplaceSvgRoot:n}),qi("watch",e)})}},Z2={noAuto:function(){U.autoReplaceSvg=!1,U.observeMutations=!1,qi("noAuto")},config:U,dom:yOe,parse:{icon:function(e){if(null===e)return null;if("object"===jl(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:$i(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=n5(e[0]);return{prefix:r,iconName:$i(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(U.cssPrefix,"-"))>-1||e.match(FRe))){var i=r5(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Pr(),iconName:$i(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=Pr();return{prefix:s,iconName:$i(s,e)||e}}}},library:k$,findIconDefinition:uC,toHtml:no},MOe=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Be:n;(Object.keys(x1.styles).length>0||U.autoFetchSvg)&&$n&&U.autoReplaceSvg&&Z2.dom.i2svg({node:r})};function i5(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return no(r)})}}),Object.defineProperty(t,"node",{get:function(){if($n){var r=Be.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function fC(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,a=t.transform,c=t.symbol,o=t.title,l=t.maskId,u=t.titleId,f=t.extra,d=t.watchable,h=void 0!==d&&d,p=r.found?r:n,g=p.width,v=p.height,C="fak"===i,_=[U.replacementClass,s?"".concat(U.cssPrefix,"-").concat(s):""].filter(function(Lt){return-1===f.classes.indexOf(Lt)}).filter(function(Lt){return""!==Lt||!!Lt}).concat(f.classes).join(" "),w={children:[],attributes:F(F({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:_,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},I=C&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};h&&(w.attributes[Ui]=""),o&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||to())},children:[o]}),delete w.attributes.title);var N=F(F({},w),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:a,symbol:c,styles:F(F({},I),f.styles)}),G=r.found&&n.found?Wn("generateAbstractMask",N)||{children:[],attributes:{}}:Wn("generateAbstractIcon",N)||{children:[],attributes:{}},wt=G.attributes;return N.children=G.children,N.attributes=wt,c?function VOe(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,a=!0===s?"".concat(t.prefix,"-").concat(U.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:F(F({},i),{},{id:a}),children:r}]}]}(N):function wOe(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,a=t.transform;if(tC(a)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=Xl(F(F({},s),{},{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(N)}function P$(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,a=t.extra,c=t.watchable,o=void 0!==c&&c,l=F(F(F({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});o&&(l[Ui]="");var u=F({},a.styles);tC(i)&&(u.transform=function eOe(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,a=t.startCentered,c=void 0!==a&&a,o="";return o+=c&&h$?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):c?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(o+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var f=Xl(u);f.length>0&&(l.style=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}var dC=x1.styles;function hC(t){var e=t[0],n=t[1],s=Gy(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(U.cssPrefix,"-").concat(ji.GROUP)},children:[{tag:"path",attributes:{class:"".concat(U.cssPrefix,"-").concat(ji.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(U.cssPrefix,"-").concat(ji.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var HOe={found:!1,width:512,height:512};function pC(t,e){var n=e;return"fa"===e&&null!==U.styleDefault&&(e=Pr()),new Promise(function(r,i){if(Wn("missingIconAbstract"),"fa"===n){var a=A$(t)||{};t=a.iconName||t,e=a.prefix||e}if(t&&e&&dC[e]&&dC[e][t])return r(hC(dC[e][t]));(function zOe(t,e){!v$&&!U.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(F(F({},HOe),{},{icon:U.showMissingIcons&&t&&Wn("missingIconAbstract")||{}}))})}var R$=function(){},mC=U.measurePerformance&&ql&&ql.mark&&ql.measure?ql:{mark:R$,measure:R$},ro='FA "6.4.2"',O$=function(e){mC.mark("".concat(ro," ").concat(e," ends")),mC.measure("".concat(ro," ").concat(e),"".concat(ro," ").concat(e," begins"),"".concat(ro," ").concat(e," ends"))},gC={begin:function(e){return mC.mark("".concat(ro," ").concat(e," begins")),function(){return O$(e)}},end:O$},s5=function(){};function F$(t){return"string"==typeof(t.getAttribute?t.getAttribute(Ui):null)}function LOe(t){return Be.createElementNS("http://www.w3.org/2000/svg",t)}function DOe(t){return Be.createElement(t)}function B$(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?LOe:DOe:n;if("string"==typeof t)return Be.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(a){i.setAttribute(a,t.attributes[a])}),(t.children||[]).forEach(function(a){i.appendChild(B$(a,{ceFn:r}))}),i}var a5={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(B$(i),n)}),null===n.getAttribute(Ui)&&U.keepOriginalSource){var r=Be.createComment(function AOe(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~eC(n).indexOf(U.replacementClass))return a5.replace(e);var i=new RegExp("".concat(U.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(c,o){return o===U.replacementClass||o.match(i)?c.toSvg.push(o):c.toNode.push(o),c},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var a=r.map(function(c){return no(c)}).join("\n");n.setAttribute(Ui,""),n.innerHTML=a}};function U$(t){t()}function j$(t,e){var n="function"==typeof e?e:s5;if(0===t.length)n();else{var r=U$;U.mutateApproach===PRe&&(r=Nr.requestAnimationFrame||U$),r(function(){var i=function IOe(){return!0===U.autoReplaceSvg?a5.replace:a5[U.autoReplaceSvg]||a5.replace}(),s=gC.begin("mutate");t.map(i),s(),n()})}}var vC=!1;function $$(){vC=!0}function _C(){vC=!1}var c5=null;function q$(t){if(d$&&U.observeMutations){var e=t.treeCallback,n=void 0===e?s5:e,r=t.nodeCallback,i=void 0===r?s5:r,s=t.pseudoElementsCallback,a=void 0===s?s5:s,c=t.observeMutationsRoot,o=void 0===c?Be:c;c5=new d$(function(l){if(!vC){var u=Pr();Xs(l).forEach(function(f){if("childList"===f.type&&f.addedNodes.length>0&&!F$(f.addedNodes[0])&&(U.searchPseudoElements&&a(f.target),n(f.target)),"attributes"===f.type&&f.target.parentNode&&U.searchPseudoElements&&a(f.target.parentNode),"attributes"===f.type&&F$(f.target)&&~$Re.indexOf(f.attributeName))if("class"===f.attributeName&&function xOe(t){var e=t.getAttribute?t.getAttribute(Xy):null,n=t.getAttribute?t.getAttribute(Jy):null;return e&&n}(f.target)){var d=r5(eC(f.target)),p=d.iconName;f.target.setAttribute(Xy,d.prefix||u),p&&f.target.setAttribute(Jy,p)}else(function EOe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(U.replacementClass)})(f.target)&&i(f.target)})}}),$n&&c5.observe(o,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function G$(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function kOe(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=r5(eC(t));return i.prefix||(i.prefix=Pr()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function hOe(t,e){return(x$[t]||{})[e]}(i.prefix,t.innerText)||cC(i.prefix,iC(t.innerText))),!i.iconName&&U.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,a=function POe(t){var e=Xs(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return U.autoA11y&&(n?e["aria-labelledby"]="".concat(U.replacementClass,"-title-").concat(r||to()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),c=lC("parseNodeAttributes",{},t),o=e.styleParser?function NOe(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),a=s[0],c=s.slice(1);return a&&c.length>0&&(r[a]=c.join(":").trim()),r},{})),n}(t):[];return F({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:rn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:o,attributes:a}},c)}var OOe=x1.styles;function W$(t){var e="nest"===U.autoReplaceSvg?G$(t,{styleParser:!1}):G$(t);return~e.extra.classes.indexOf(_$)?Wn("generateLayersText",t,e):Wn("generateSvgReplacementMutation",t,e)}var Rr=new Set;function K$(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!$n)return Promise.resolve();var n=Be.documentElement.classList,r=function(f){return n.add("".concat(g$,"-").concat(f))},i=function(f){return n.remove("".concat(g$,"-").concat(f))},s=U.autoFetchSvg?Rr:Zy.map(function(u){return"fa-".concat(u)}).concat(Object.keys(OOe));s.includes("fa")||s.push("fa");var a=[".".concat(_$,":not([").concat(Ui,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Ui,"])")})).join(", ");if(0===a.length)return Promise.resolve();var c=[];try{c=Xs(t.querySelectorAll(a))}catch{}if(!(c.length>0))return Promise.resolve();r("pending"),i("complete");var o=gC.begin("onTree"),l=c.reduce(function(u,f){try{var d=W$(f);d&&u.push(d)}catch(h){v$||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(d){j$(d,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),o(),u()})}).catch(function(d){o(),f(d)})})}function FOe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;W$(t).then(function(n){n&&j$([n],e)})}function BOe(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:uC(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:uC(i||{})),t(r,F(F({},n),{},{mask:i}))}}Zy.map(function(t){Rr.add("fa-".concat(t))}),Object.keys(Qc[Ue]).map(Rr.add.bind(Rr)),Object.keys(Qc[at]).map(Rr.add.bind(Rr)),Rr=Wc(Rr);var UOe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?rn:r,s=n.symbol,a=void 0!==s&&s,c=n.mask,o=void 0===c?null:c,l=n.maskId,u=void 0===l?null:l,f=n.title,d=void 0===f?null:f,h=n.titleId,p=void 0===h?null:h,g=n.classes,v=void 0===g?[]:g,C=n.attributes,_=void 0===C?{}:C,w=n.styles,I=void 0===w?{}:w;if(e){var N=e.prefix,G=e.iconName,fe=e.icon;return i5(F({type:"icon"},e),function(){return qi("beforeDOMElementCreation",{iconDefinition:e,params:n}),U.autoA11y&&(d?_["aria-labelledby"]="".concat(U.replacementClass,"-title-").concat(p||to()):(_["aria-hidden"]="true",_.focusable="false")),fC({icons:{main:hC(fe),mask:o?hC(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:N,iconName:G,transform:F(F({},rn),i),symbol:a,title:d,maskId:u,titleId:p,extra:{attributes:_,styles:I,classes:v}})})}},jOe={mixout:function(){return{icon:BOe(UOe)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=K$,n.nodeCallback=FOe,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return K$(void 0===r?Be:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,a=r.titleId,c=r.prefix,o=r.transform,l=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([pC(i,c),u.iconName?pC(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=Gy(g,2);h([n,fC({icons:{main:v[0],mask:v[1]},prefix:c,iconName:i,transform:o,symbol:l,maskId:f,title:s,titleId:a,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,a=n.transform,o=Xl(n.styles);return o.length>0&&(i.style=o),tC(a)&&(l=Wn("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},$Oe={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return i5({type:"layer"},function(){qi("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(c){Array.isArray(c)?c.map(function(o){a=a.concat(o.abstract)}):a=a.concat(c.abstract)}),[{tag:"span",attributes:{class:["".concat(U.cssPrefix,"-layers")].concat(Wc(s)).join(" ")},children:a}]})}}}},qOe={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,a=r.classes,c=void 0===a?[]:a,o=r.attributes,l=void 0===o?{}:o,u=r.styles,f=void 0===u?{}:u;return i5({type:"counter",content:n},function(){return qi("beforeDOMElementCreation",{content:n,params:r}),function bOe(t){var e=t.content,n=t.title,r=t.extra,i=F(F(F({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=Xl(r.styles);s.length>0&&(i.style=s);var a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}({content:n.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat(U.cssPrefix,"-layers-counter")].concat(Wc(c))}})})}}}},GOe={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?rn:i,a=r.title,c=void 0===a?null:a,o=r.classes,l=void 0===o?[]:o,u=r.attributes,f=void 0===u?{}:u,d=r.styles,h=void 0===d?{}:d;return i5({type:"text",content:n},function(){return qi("beforeDOMElementCreation",{content:n,params:r}),P$({content:n,transform:F(F({},rn),s),title:c,extra:{attributes:f,styles:h,classes:["".concat(U.cssPrefix,"-layers-text")].concat(Wc(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,a=r.extra,c=null,o=null;if(h$){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();c=u.width/l,o=u.height/l}return U.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,P$({content:n.innerHTML,width:c,height:o,transform:s,title:i,extra:a,watchable:!0})])}}},WOe=new RegExp('"',"ug"),Q$=[1105920,1112319];function Y$(t,e){var n="".concat(kRe).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var a=Xs(t.children).filter(function(fe){return fe.getAttribute(Yy)===e})[0],c=Nr.getComputedStyle(t,e),o=c.getPropertyValue("font-family").match(BRe),l=c.getPropertyValue("font-weight"),u=c.getPropertyValue("content");if(a&&!o)return t.removeChild(a),r();if(o&&"none"!==u&&""!==u){var f=c.getPropertyValue("content"),d=~["Sharp"].indexOf(o[2])?at:Ue,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(o[2])?Yc[d][o[2].toLowerCase()]:URe[d][l],p=function KOe(t){var e=t.replace(WOe,""),n=function cOe(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=Q$[0]&&n<=Q$[1],i=2===e.length&&e[0]===e[1];return{value:iC(i?e[0]:e),isSecondary:r||i}}(f),g=p.value,v=p.isSecondary,C=o[0].startsWith("FontAwesome"),_=cC(h,g),w=_;if(C){var I=function pOe(t){var e=I$[t],n=cC("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);I.iconName&&I.prefix&&(_=I.iconName,h=I.prefix)}if(!_||v||a&&a.getAttribute(Xy)===h&&a.getAttribute(Jy)===w)r();else{t.setAttribute(n,w),a&&t.removeChild(a);var N=function ROe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:rn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),G=N.extra;G.attributes[Yy]=e,pC(_,h).then(function(fe){var wt=fC(F(F({},N),{},{icons:{main:fe,mask:oC()},prefix:h,iconName:w,extra:G,watchable:!0})),Lt=Be.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Lt,t.firstChild):t.appendChild(Lt),Lt.outerHTML=wt.map(function(lo){return no(lo)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function QOe(t){return Promise.all([Y$(t,"::before"),Y$(t,"::after")])}function YOe(t){return!(t.parentNode===document.head||~RRe.indexOf(t.tagName.toUpperCase())||t.getAttribute(Yy)||t.parentNode&&"svg"===t.parentNode.tagName)}function X$(t){if($n)return new Promise(function(e,n){var r=Xs(t.querySelectorAll("*")).filter(YOe).map(QOe),i=gC.begin("searchPseudoElements");$$(),Promise.all(r).then(function(){i(),_C(),e()}).catch(function(){i(),_C(),n()})})}var J$=!1,Z$=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),a=s[0],c=s.slice(1).join("-");if(a&&"h"===c)return r.flipX=!0,r;if(a&&"v"===c)return r.flipY=!0,r;if(c=parseFloat(c),isNaN(c))return r;switch(a){case"grow":r.size=r.size+c;break;case"shrink":r.size=r.size-c;break;case"left":r.x=r.x-c;break;case"right":r.x=r.x+c;break;case"up":r.y=r.y-c;break;case"down":r.y=r.y+c;break;case"rotate":r.rotate=r.rotate+c}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},yC={x:0,y:0,width:"100%",height:"100%"};function eq(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function eFe(t){return"g"===t.tag?t.children:[t]}var tFe={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?r5(i.split(" ").map(function(a){return a.trim()})):oC();return s.prefix||(s.prefix=Pr()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,a=n.mask,c=n.maskId,u=s.icon,d=a.icon,h=function ZRe(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(a," ").concat(c)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:a.width,iconWidth:s.width}),p={tag:"rect",attributes:F(F({},yC),{},{fill:"white"})},g=u.children?{children:u.children.map(eq)}:{},v={tag:"g",attributes:F({},h.inner),children:[eq(F({tag:u.tag,attributes:F(F({},u.attributes),h.path)},g))]},C={tag:"g",attributes:F({},h.outer),children:[v]},_="mask-".concat(c||to()),w="clip-".concat(c||to()),I={tag:"mask",attributes:F(F({},yC),{},{id:_,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,C]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:eFe(d)},I]};return r.push(N,{tag:"rect",attributes:F({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(_,")")},yC)}),{children:r,attributes:i}}}};!function vOe(t,e){var n=e.mixoutsTo;N$=t,Zs={},Object.keys(e3).forEach(function(r){-1===gOe.indexOf(r)&&delete e3[r]}),N$.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){"function"==typeof i[a]&&(n[a]=i[a]),"object"===jl(i[a])&&Object.keys(i[a]).forEach(function(c){n[a]||(n[a]={}),n[a][c]=i[a][c]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(a){Zs[a]||(Zs[a]=[]),Zs[a].push(s[a])})}r.provides&&r.provides(e3)})}([nOe,jOe,$Oe,qOe,GOe,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=X$,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;U.searchPseudoElements&&X$(void 0===r?Be:r)}}},{mixout:function(){return{dom:{unwatch:function(){$$(),J$=!0}}}},hooks:function(){return{bootstrap:function(){q$(lC("mutationObserverCallbacks",{}))},noAuto:function(){!function TOe(){c5&&c5.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;J$?_C():q$(lC("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return Z$(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=Z$(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,a=n.iconWidth,c={transform:"translate(".concat(n.containerWidth/2," 256)")},o="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:c,inner:{transform:"".concat(o," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:F({},h.outer),children:[{tag:"g",attributes:F({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:F(F({},r.icon.attributes),h.path)}]}]}}}},tFe,{provides:function(e){var n=!1;Nr.matchMedia&&(n=Nr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:F(F({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=F(F({},s),{},{attributeName:"opacity"}),c={tag:"circle",attributes:F(F({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||c.children.push({tag:"animate",attributes:F(F({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:F(F({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(c),r.push({tag:"path",attributes:F(F({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:F(F({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:F(F({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:F(F({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:Z2});var sFe=Z2.parse,aFe=Z2.icon;const cFe=["*"],uFe=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let hFe=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),o5=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(a=>i[a]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),pFe=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Q({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[n1]}),e})(),mFe=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(z(mn),z(T2))},t.\u0275cmp=t1({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[n1],ngContentSelectors:cFe,decls:1,vars:0,template:function(r,i){1&r&&(function cH(t){const e=V()[ut][n2];if(!e.projection){const r=e.projection=M3(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const a=t?yee(s,t):0;null!==a&&(i[a]?i[a].projectionNext=s:r[a]=s,i[a]=s),s=s.next}}}(),function oH(t,e=0,n){const r=V(),i=he(),s=V4(i,ce+t,16,null,n||null);null===s.projection&&(s.projection=e),c7(),(!r[ln]||r4())&&32!=(32&s.flags)&&function VX(t,e,n){vV(e[te],0,e,n,k7(t,n,e),fV(n.parent||e[n2],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),CC=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,a,c){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=a,this.classes=[],null!=c&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const a=this.buildParams();this.renderIcon(s,a)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?sFe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...uFe(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=aFe(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Ax),z(hFe),z(o5),z(pFe,8),z(mFe,8))},t.\u0275cmp=t1({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(Ru("innerHTML",i.renderedIconHTML,IV),B1("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[n1],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),io=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t}),t.\u0275inj=Ze({}),e})(),gFe=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Q({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&j3("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function vFe(t,e){if(1&t&&(x(0,"span",14),W(1),P()),2&t){const n=et();L(1),Ne(n.localOrdersBadge)}}function _Fe(t,e){if(1&t&&(x(0,"span",15),W(1),Le(2,"async"),P()),2&t){const n=et();L(1),Ne(zt(2,1,n.fleetOrdersNotification))}}const Gi=function(){return{color:"#eee"}},yFe=function(){return["fas","house-chimney"]},CFe=function(){return["fas","earth-americas"]},MFe=function(){return["fas","satellite-dish"]},wFe=function(){return["fas","jet-fighter-up"]},VFe=function(){return["fas","chess-board"]},bFe=function(){return["fas","flask-vial"]},HFe=function(){return["fas","hand-fist"]};let zFe=(()=>{var t;class e{constructor(r){this.renderer=R(mn),this.badgeService=R(e$),this.dgAPI=R(jn),this.changeDetection=R(ta),this.authService=R(Qs),this.localStorageService=R(Bi),this.localOrdersBadge=0,r.addIcons(m9,fa,vD,TT,XI,eI,P9),this.localOrdersBadge=this.localStorageService.get(nn.ACTIVE_ORDERS),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.fleetOrdersNotification=new $e(s=>{this.badgeService.subscribeToFleetOrders(this.dgAPI.username(),s,this.changeDetection)})),this.changeDetection.detectChanges()})}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(o5))},t.\u0275cmp=t1({type:t,selectors:[["dgt-navbar"]],decls:40,vars:46,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["style","z-index: 0","class","local-orders-badge notification-badge",4,"ngIf"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"],[1,"local-orders-badge","notification-badge",2,"z-index","0"],[1,"notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(x(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),Ve(4,"fa-icon",4),x(5,"span",5),W(6,"home"),P()()(),x(7,"li",2)(8,"a",6),Ve(9,"fa-icon",4),x(10,"span",5),W(11,"planets"),P()()(),x(12,"li",2)(13,"a",7),Ve(14,"fa-icon",4),x(15,"span",5),W(16,"radar"),P()()(),x(17,"li",2),Tt(18,vFe,2,1,"span",8),Tt(19,_Fe,3,3,"span",9),Le(20,"async"),x(21,"a",10),Ve(22,"fa-icon",4),x(23,"span",5),W(24,"fleets"),P()()(),x(25,"li",2)(26,"a",11),Ve(27,"fa-icon",4),x(28,"span",5),W(29,"navigation"),P()()(),x(30,"li",2)(31,"a",12),Ve(32,"fa-icon",4),x(33,"span",5),W(34,"research"),P()()(),x(35,"li",2)(36,"a",13),Ve(37,"fa-icon",4),x(38,"span",5),W(39,"alliances"),P()()()()()),2&r&&(L(2),$("tabName","home"),L(2),Wt(vt(32,Gi)),$("icon",vt(33,yFe)),L(3),$("tabName","planets"),L(2),Wt(vt(34,Gi)),$("icon",vt(35,CFe)),L(3),$("tabName","radar"),L(2),Wt(vt(36,Gi)),$("icon",vt(37,MFe)),L(3),$("tabName","fleets"),L(1),$("ngIf",i.localOrdersBadge>0),L(1),$("ngIf",i.active&&zt(20,30,i.fleetOrdersNotification)),L(3),Wt(vt(38,Gi)),$("icon",vt(39,wFe)),L(3),$("tabName","navigation"),L(2),Wt(vt(40,Gi)),$("icon",vt(41,VFe)),L(3),$("tabName","research"),L(2),Wt(vt(42,Gi)),$("icon",vt(43,bFe)),L(3),$("tabName","alliances"),L(2),Wt(vt(44,Gi)),$("icon",vt(45,HFe)))},dependencies:[si,CC,gFe,aa],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const f1_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}};let SFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t,bootstrap:[zFe]}),t.\u0275inj=Ze({providers:[e$],imports:[Vn,io,W4(()=>Q4(f1_firebase)),rs(()=>is()),js(()=>qs()),X4(()=>J4(K4(),{provider:new dr(f1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class xFe{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class EFe{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class tq{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class nq{constructor(){this._resources=new EFe,this._workers=new tq,this._soldiers=new tq}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var It=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(It||{});let rq=(()=>{var t;class e{constructor(){this.dgAPI=R(jn)}extractStats(){let r=new xFe;return r.stats.set(It.ALL,new nq),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new nq),r.stats.get(It.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(It.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(It.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(It.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(It.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case It.METAL:r.stats.get(It.ALL).resources.metalStored+=s.stored,r.stats.get(It.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case It.MINERAL:r.stats.get(It.ALL).resources.mineralStored+=s.stored,r.stats.get(It.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case It.FOOD:r.stats.get(It.ALL).resources.foodStored+=s.stored,r.stats.get(It.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case It.ENERGY:r.stats.get(It.ALL).resources.energyStored+=s.stored,r.stats.get(It.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),IFe=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Dt({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),MC=(()=>{var t;class e{constructor(){this.decimalPipe=R(F4)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Dt({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const LFe=function(t){return{"dgt-stats-totals-last-row":t}},d1=function(t){return{"dgt-padding-bottom-xs":t}};function DFe(t,e){if(1&t&&(x(0,"tr",4)(1,"th",5),W(2),Le(3,"galaxyNameFormatter"),P(),x(4,"td",6)(5,"div",7),Ve(6,"img",8),x(7,"span",9),W(8),Le(9,"number"),P()()(),x(10,"td",10)(11,"div",7)(12,"span",9),W(13),Le(14,"resourceProductionFormatter"),P()()(),x(15,"td",11)(16,"div",12),Ve(17,"img",13),x(18,"span",9),W(19),Le(20,"number"),P()()(),x(21,"td",10)(22,"div",12)(23,"span",9),W(24),Le(25,"resourceProductionFormatter"),P()()(),x(26,"td",11)(27,"div",14),Ve(28,"img",15),x(29,"span",9),W(30),Le(31,"number"),P()()(),x(32,"td",10)(33,"div",14)(34,"span",9),W(35),Le(36,"resourceProductionFormatter"),P()()(),x(37,"td",11)(38,"div",16),Ve(39,"img",17),x(40,"span",9),W(41),Le(42,"number"),P()()(),x(43,"td",18)(44,"div",16)(45,"span",9),W(46),Le(47,"resourceProductionFormatter"),P()()(),x(48,"td",19)(49,"div",20),Ve(50,"img",21),x(51,"span",9),W(52),Le(53,"number"),P()()(),x(54,"td",22)(55,"div",23),Ve(56,"img",24),x(57,"span",9),W(58),Le(59,"number"),P()()(),x(60,"td",25)(61,"div",26),Ve(62,"img",27),x(63,"span",9),W(64),Le(65,"number"),P()()()()),2&t){const n=e.$implicit,r=e.index,i=et();$("ngClass",k2(63,LFe,r==i.panel.stats.size-1)),L(1),$("ngClass",k2(65,d1,r==i.panel.stats.size-2)),L(1),Ne(zt(3,25,n.key)),L(2),$("ngClass",k2(67,d1,r==i.panel.stats.size-2)),L(4),Ne(sr(9,27,n.value.resources.metalStored,"1.0","en-US")),L(2),$("ngClass",k2(69,d1,r==i.panel.stats.size-2)),L(3),Ne(zt(14,31,n.value.resources.metalProduction)),L(2),$("ngClass",k2(71,d1,r==i.panel.stats.size-2)),L(4),Ne(sr(20,33,n.value.resources.mineralStored,"1.0","en-US")),L(2),$("ngClass",k2(73,d1,r==i.panel.stats.size-2)),L(3),Ne(zt(25,37,n.value.resources.mineralProduction)),L(2),$("ngClass",k2(75,d1,r==i.panel.stats.size-2)),L(4),Ne(sr(31,39,n.value.resources.foodStored,"1.0","en-US")),L(2),$("ngClass",k2(77,d1,r==i.panel.stats.size-2)),L(3),Ne(zt(36,43,n.value.resources.foodProduction)),L(2),$("ngClass",k2(79,d1,r==i.panel.stats.size-2)),L(4),Ne(sr(42,45,n.value.resources.energyStored,"1.0","en-US")),L(2),$("ngClass",k2(81,d1,r==i.panel.stats.size-2)),L(3),Ne(zt(47,49,n.value.resources.energyProduction)),L(2),$("ngClass",k2(83,d1,r==i.panel.stats.size-2)),L(4),Ne(sr(53,51,n.value.resources.ground,"1.0","en-US")),L(2),$("ngClass",k2(85,d1,r==i.panel.stats.size-2)),L(4),Ne(sr(59,55,n.value.resources.orbit,"1.0","en-US")),L(2),$("ngClass",k2(87,d1,r==i.panel.stats.size-2)),L(4),Ne(sr(65,59,n.value.soldiers.total,"1.0","en-US"))}}let AFe=(()=>{var t;class e{constructor(){this.statsPanelService=R(rq)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/FPuGoOV.png","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OTTk4eY.png","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/7gmDfoF.png","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/DEv8NW9.png","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/HesibsH.png","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/KKdM7BA.png","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/FHlHgxL.png","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(x(0,"div",0)(1,"div",1)(2,"table",2),Tt(3,DFe,66,89,"tr",3),Le(4,"keyvalue"),P()()()),2&r&&(L(3),$("ngForOf",zt(4,1,i.panel.stats)))},dependencies:[Nf,f0,F4,fx,IFe,MC],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #626262;height:15px;width:15px;vertical-align:middle}"]}),e})(),TFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t,bootstrap:[AFe]}),t.\u0275inj=Ze({providers:[F4,rq],imports:[Vn,io]}),e})(),iq=(()=>{var t;class e{constructor(){this.firestore=R(Bn),this.dgAPI=R(jn)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){let i=Un(this.firestore,"scans");$s(Gs(i,Tr("location","==",r.planetScan.location),Xj(1)),{idField:"id"}).forEach(s=>{let a=Object.assign(new n$,s[0]);a.location=r.planetScan.location,a.turn=r.planetScan.turn,a.owner=r.planetScan.owner,(r.type==m2.RESOURCE||r.type==m2.SURFACE)&&(a.orbit=r.planetScan.orbit,a.ground=r.planetScan.ground),r.type==m2.RESOURCE&&(a.resources.length>0?a.resources.forEach((c,o)=>{c.abundance=r.planetScan.resources[o].abundance,c.name=r.planetScan.resources[o].name}):a.resources=r.planetScan.resources),r.type==m2.SURFACE&&(a.resources=r.planetScan.resources,a.workers=r.planetScan.workers,a.soldiers=r.planetScan.soldiers,a.structures=r.planetScan.structures),r.type==m2.FLEET&&(a.fleets=r.planetScan.fleets),0==s.length?Yj(i,JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)}):Jj(Uy(i,a.id),JSON.parse(JSON.stringify(a))).catch(c=>{console.log(c)})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function NFe(t,e){1&t&&(x(0,"p",1),W(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),P())}let kFe=(()=>{var t;class e{constructor(){this.scanService=R(iq),this.authService=R(Qs),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&Tt(0,NFe,2,0,"p",0),2&r&&$("ngIf",i.active)},dependencies:[si]}),e})(),PFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t,bootstrap:[kFe]}),t.\u0275inj=Ze({providers:[iq],imports:[Vn,W4(()=>Q4(f1_firebase)),rs(()=>is()),js(()=>qs()),X4(()=>J4(K4(),{provider:new dr(f1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),sq=(()=>{var t;class e{constructor(){this.firestore=R(Bn),this.dgAPI=R(jn),this.resourceProductionFormatterPipe=R(MC),this.decimalPipe=R(F4)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let i=r.map(s=>s.location.join("."));$s(Gs(Un(this.firestore,"scans"),Tr("location","in",i))).forEach(s=>{let c=Object.assign([],s).reduce((o,l)=>o.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(o=>{let l=o.querySelector("div.coords > span").textContent.trim(),u=c.get(l);if(o.querySelector(".dgt-navigation-scan-turn").style.display="contents",o.querySelector("img:first-child").style.filter="grayscale(100%)",u){o.querySelector(".dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(u.turn,"1.0","en_US"),u.resources.forEach(h=>{o.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",o.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let f=u.structures.map(h=>h.name);f.includes(Te.JUMP_GATE)&&(o.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),f.includes(Te.HYPERSPACE_BEACON)&&(o.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),f.includes(Te.LIGHT_WEAPONS_FACTORY)&&(o.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),f.includes(Te.HEAVY_WEAPONS_FACTORY)&&(o.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),f.includes(Te.SHIP_YARD)&&(o.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),f.includes(Te.SPACE_DOCK)&&(o.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),f.includes(Te.HOLO_GENERATOR)&&(o.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),f.includes(Te.ARMY_BARRACKS)&&(o.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),f.includes(Te.COMMS_SATELLITE)&&(o.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let d=1;if(f.includes(Te.MEDICAL_CENTRE)&&(d+=.3),f.includes(Te.LEISURE_CENTRE)&&(d+=.4),f.includes(Te.HOSPITAL)&&(d+=.3),u.workers.currentNumber>0||u.soldiers>0){o.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),o.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(d,"1.0","en_US"),o.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;o.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),o.querySelector(".dgt-navigation-scan-population").style.display="",o.querySelector(".dgt-navigation-scan-structures").style.display=""}}else o.querySelector(".dgt-navigation-scan-turn-value").textContent="N/A",o.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="-",o.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="-",o.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="-",o.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="-"})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function RFe(t,e){1&t&&(x(0,"p",1),W(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),P())}let OFe=(()=>{var t;class e{constructor(){this.scanService=R(sq),this.authService=R(Qs),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractSummaries();i.length>0&&this.scanService.fillScans(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&Tt(0,RFe,2,0,"p",0),2&r&&$("ngIf",i.active)},dependencies:[si]}),e})(),FFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t,bootstrap:[OFe]}),t.\u0275inj=Ze({providers:[F4,MC,sq],imports:[Vn,W4(()=>Q4(f1_firebase)),rs(()=>is()),js(()=>qs()),X4(()=>J4(K4(),{provider:new dr(f1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function BFe(t,e){if(1&t){const n=ei();x(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),W(6,"DGT Login"),P()()(),x(7,"tr",3)(8,"td"),Ve(9,"input",4,5),P(),x(11,"td"),Ve(12,"input",6,7),P()(),x(14,"tr",8)(15,"td",2)(16,"button",9),Qe("click",function(){_1(n);const i=Lu(10),s=Lu(13);return y1(et().signInWithEmailAndPassword(i.value,s.value,!0))}),W(17,"Login"),P(),x(18,"button",10),Qe("click",function(){return _1(n),y1(et().signInWithGoogle(!0))}),Ve(19,"img",11),P()()()()()()}}let UFe=(()=>{var t;class e{constructor(){this.authService=R(Qs),this.auth=R(v8),this.firestore=R(Bn),this.localStorageService=R(Bi),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new $e(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(nn.USER)&&!this.authService.refreshInProgress)})})}signInWithEmailAndPassword(r,i,s){this.authService.signInWithEmailAndPassword(this.auth,r,i,s)}signInWithGoogle(r){this.authService.signInWithGoogle(this.auth,r)}signOut(r){this.authService.signOut(this.auth,r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(Tt(0,BFe,20,0,"div",0),Le(1,"async")),2&r&&$("ngIf",zt(1,1,i.displayLogin))},dependencies:[si,aa],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),jFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t,bootstrap:[UFe]}),t.\u0275inj=Ze({imports:[Vn,W4(()=>Q4(f1_firebase)),rs(()=>is()),js(()=>qs()),X4(()=>J4(K4(),{provider:new dr(f1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),aq=(()=>{var t;class e{constructor(){this.firestore=R(Bn),this.dgApi=R(jn)}updateOrder(r){r.from=this.dgApi.username(!1);let i=Un(this.firestore,"orders");Yj(i,JSON.parse(JSON.stringify(r))).catch(s=>{console.log(s)})}deleteOrder(r){gRe(Uy(Un(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,s,a){document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(o=>{o.classList.add("show"),o.classList.remove("hide")});let c=Un(this.firestore,"orders");$s(Gs(c,Tr("user","==",r),vRe("executed","asc")),{idField:"id"}).forEach(o=>{let l=Object.assign([],o);l.forEach(u=>{u.wait-=i-u.turn}),a.next(l),s.detectChanges(),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(u=>{u.classList.add("hide"),u.classList.remove("show")})}).catch(o=>{console.log(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class $Fe{get from(){return this._from}set from(e){this._from=e}get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target,from:this.from}}}var bC={prefix:"far",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"]},SC={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 135.1c-4.2-4.5-10.1-7.1-16.3-7.1C266 128 256 138 256 150.3V208H160c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h96v57.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.3-7.1l99.9-107.1c3.5-3.8 5.5-8.7 5.5-13.8s-2-10.1-5.5-13.8L294.6 135.1z"]},u5={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};const{isArray:e$e}=Array,{getPrototypeOf:t$e,prototype:n$e,keys:r$e}=Object;const{isArray:a$e}=Array;function l$e(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function u$e(...t){const e=function xK(t){return je(T5(t))?t.pop():void 0}(t),{args:n,keys:r}=function i$e(t){if(1===t.length){const e=t[0];if(e$e(e))return{args:e,keys:null};if(function s$e(t){return t&&"object"==typeof t&&t$e(t)===n$e}(e)){const n=r$e(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new $e(s=>{const{length:a}=n;if(!a)return void s.complete();const c=new Array(a);let o=a,l=a;for(let u=0;u<a;u++){let f=!1;I1(n[u]).subscribe(an(s,d=>{f||(f=!0,l--),c[u]=d},()=>o--,void 0,()=>{(!o||!f)&&(l||s.next(r?l$e(r,c):c),s.complete())}))}});return e?i.pipe(function o$e(t){return i3(e=>function c$e(t,e){return a$e(e)?t(...e):t(e)}(t,e))}(e)):i}let IG=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(mn),z(T2))},t.\u0275dir=Q({type:t}),e})(),Wi=(()=>{var t;class e extends IG{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function r2(t){return cn(()=>{const e=t.prototype.constructor,n=e[on]||y7(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[on]||y7(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275dir=Q({type:t,features:[we]}),e})();const sn=new q("NgValueAccessor"),d$e={provide:sn,useExisting:xe(()=>f5),multi:!0},p$e=new q("CompositionEventMode");let f5=(()=>{var t;class e extends IG{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function h$e(){const t=ra()?ra().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(mn),z(T2),z(p$e,8))},t.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Qe("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[Ge([d$e]),we]}),e})();const g2=new q("NgValidators"),Fr=new q("NgAsyncValidators");function BG(t){return null!=t}function UG(t){return P6(t)?N5(t):t}function jG(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function $G(t,e){return e.map(n=>n(t))}function qG(t){return t.map(e=>function g$e(t){return!t.validate}(e)?e:n=>e.validate(n))}function EC(t){return null!=t?function GG(t){if(!t)return null;const e=t.filter(BG);return 0==e.length?null:function(n){return jG($G(n,e))}}(qG(t)):null}function IC(t){return null!=t?function WG(t){if(!t)return null;const e=t.filter(BG);return 0==e.length?null:function(n){return u$e($G(n,e).map(UG)).pipe(i3(jG))}}(qG(t)):null}function KG(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function LC(t){return t?Array.isArray(t)?t:[t]:[]}function h5(t,e){return Array.isArray(t)?t.includes(e):t===e}function XG(t,e){const n=LC(e);return LC(t).forEach(i=>{h5(n,i)||n.push(i)}),n}function JG(t,e){return LC(e).filter(n=>!h5(t,n))}class ZG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=EC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class x2 extends ZG{get formDirective(){return null}get path(){return null}}class Br extends ZG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eW{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tW=(()=>{var t;class e extends eW{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(Br,2))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&j3("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[we]}),e})(),nW=(()=>{var t;class e extends eW{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(z(x2,10))},t.\u0275dir=Q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&j3("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[we]}),e})();const so="VALID",m5="INVALID",t3="PENDING",ao="DISABLED";function TC(t){return(g5(t)?t.validators:t)||null}function NC(t,e){return(g5(e)?e.asyncValidators:t)||null}function g5(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class aW{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===so}get invalid(){return this.status===m5}get pending(){return this.status==t3}get disabled(){return this.status===ao}get enabled(){return this.status!==ao}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(XG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JG(e,this._rawAsyncValidators))}hasValidator(e){return h5(this._rawValidators,e)}hasAsyncValidator(e){return h5(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=t3,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ao,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=so,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===so||this.status===t3)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ao:so}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=t3,this._hasOwnPendingAsyncValidator=!0;const n=UG(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Kt,this.statusChanges=new Kt}_calculateStatus(){return this._allControlsDisabled()?ao:this.errors?m5:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(t3)?t3:this._anyControlsHaveStatus(m5)?m5:so}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){g5(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function C$e(t){return Array.isArray(t)?EC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function M$e(t){return Array.isArray(t)?IC(t):t||null}(this._rawAsyncValidators)}}class kC extends aW{constructor(e,n,r){super(TC(n),NC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function sW(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function iW(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const n3=new q("CallSetDisabledState",{providedIn:"root",factory:()=>v5}),v5="always";function co(t,e,n=v5){PC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function b$e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&cW(t,e)})}(t,e),function z$e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function H$e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&cW(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function V$e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function C5(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function PC(t,e){const n=function QG(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(KG(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function YG(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(KG(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();C5(e._rawValidators,i),C5(e._rawAsyncValidators,i)}function cW(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const L$e={provide:x2,useExisting:xe(()=>w5)},oo=(()=>Promise.resolve())();let w5=(()=>{var t;class e extends x2{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Kt,this.form=new kC({},EC(r),IC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){oo.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),co(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){oo.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){oo.then(()=>{const i=this._findContainer(r.path),s=new kC({});(function oW(t,e){PC(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){oo.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){oo.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function lW(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(z(g2,10),z(Fr,10),z(n3,8))},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Qe("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([L$e]),we]}),e})();function uW(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function fW(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const dW=class extends aW{constructor(e=null,n,r){super(TC(n),NC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),g5(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=fW(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){fW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},T$e={provide:Br,useExisting:xe(()=>BC)},mW=(()=>Promise.resolve())();let BC=(()=>{var t;class e extends Br{constructor(r,i,s,a,c,o){super(),this._changeDetectorRef=c,this.callSetDisabledState=o,this.control=new dW,this._registered=!1,this.name="",this.update=new Kt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function FC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===f5?n=s:function E$e(t){return Object.getPrototypeOf(t.constructor)===Wi}(s)?r=s:i=s}),i||r||n||null}(0,a)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function OC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){co(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){mW.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function Vf(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);mW.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function _5(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(z(x2,9),z(g2,10),z(Fr,10),z(sn,10),z(ta,8),z(n3,8))},t.\u0275dir=Q({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ge([T$e]),we,n1]}),e})(),gW=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),_W=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t}),t.\u0275inj=Ze({}),e})(),iqe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t}),t.\u0275inj=Ze({imports:[_W]}),e})(),aqe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:n3,useValue:r.callSetDisabledState??v5}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t}),t.\u0275inj=Ze({imports:[iqe]}),e})(),cqe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(T2))},t.\u0275dir=Q({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&Qe("keypress",function(a){return i.validateInput(a)})("paste",function(a){return i.validatePaste(a)})}}),e})(),oqe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(T2))},t.\u0275dir=Q({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&Qe("keypress",function(a){return i.validateInput(a)})("paste",function(a){return i.validatePaste(a)})}}),e})(),lqe=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Dt({name:"kickMemberFormatter",type:t,pure:!0}),e})(),uqe=(()=>{var t;class e{transform(r){return"/alliances/note/"+r+"/"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Dt({name:"updateNoteFormatter",type:t,pure:!0}),e})();function fqe(t,e){if(1&t&&(x(0,"span",9),W(1),P()),2&t){const n=et().$implicit;L(1),T4("Note: ",n.note,"")}}function dqe(t,e){if(1&t&&(x(0,"div",5)(1,"div",6)(2,"span",7),W(3),P(),Tt(4,fqe,2,1,"span",8),P()()),2&t){const n=e.$implicit;L(3),Ne(n.name),L(1),$("ngIf",null!=n.note)}}const kW=function(){return["far","circle-xmark"]};function hqe(t,e){if(1&t){const n=ei();x(0,"div",27)(1,"form",28,29),Qe("ngSubmit",function(i){return _1(n),y1(et(3).onSubmitKickMember(i))}),Ve(3,"input",30),Le(4,"kickMemberFormatter"),x(5,"button",31),Ve(6,"fa-icon",23),P()()()}if(2&t){const n=et().$implicit;L(3),U3("name",zt(4,2,n.dgId)),L(3),$("icon",vt(4,kW))}}function pqe(t,e){if(1&t&&(x(0,"span",32),W(1),P()),2&t){const n=et().$implicit;L(1),T4("[",n.kickEta,"]")}}function mqe(t,e){if(1&t&&(x(0,"span",9),W(1),P()),2&t){const n=et().$implicit;L(1),T4("Note: ",n.note,"")}}const PW=function(){return["far","circle-right"]};function gqe(t,e){if(1&t){const n=ei();x(0,"div",33)(1,"span",34),W(2,"Note:"),P(),x(3,"form",35,29),Qe("ngSubmit",function(i){return _1(n),y1(et(3).onSubmitUpdateNote(i))}),Le(5,"updateNoteFormatter"),Ve(6,"input",36),x(7,"button",31),Ve(8,"fa-icon",23),P()()()}if(2&t){const n=et().$implicit;L(3),U3("action",zt(5,3,n.dgId),G7),L(3),U3("value",n.note),L(2),$("icon",vt(5,PW))}}const vqe=function(t,e){return{executed:t,"in-progress":e}};function _qe(t,e){if(1&t){const n=ei();x(0,"div",37)(1,"div",15)(2,"span",34),W(3,"Target:"),P(),x(4,"span",38),W(5),P()(),x(6,"div",17)(7,"span",34),W(8,"Wait:"),P(),x(9,"span",38),W(10),P()(),x(11,"div",19)(12,"span",34),W(13,"Instructions:"),P(),x(14,"span",38),W(15),P()(),x(16,"div",39)(17,"button",22),Qe("click",function(){const s=_1(n).$implicit;return y1(et(3).deleteOrder(s.id))}),Ve(18,"fa-icon",23),P()()()}if(2&t){const n=e.$implicit;$("ngClass",Lz(5,vqe,n.executed,!n.executed)),L(5),Ne(n.target),L(5),Ne(n.wait),L(5),Ne(n.instructions),L(3),$("icon",vt(8,kW))}}function yqe(t,e){if(1&t){const n=ei();x(0,"div",5)(1,"div",6)(2,"span",7),W(3),P(),Tt(4,hqe,7,5,"div",11),Le(5,"async"),Tt(6,pqe,2,1,"span",12),Tt(7,mqe,2,1,"span",8),Le(8,"async"),Tt(9,gqe,9,6,"div",13),Le(10,"async"),P(),x(11,"div",14)(12,"div",15)(13,"span",15),W(14,"Target:"),P(),x(15,"input",16),Qe("ngModelChange",function(i){const a=_1(n).index;return y1(et(2).controls.target[a]=i)}),P()(),x(16,"div",17)(17,"span",17),W(18,"Wait:"),P(),x(19,"input",18),Qe("ngModelChange",function(i){const a=_1(n).index;return y1(et(2).controls.wait[a]=i)}),P()(),x(20,"div",19)(21,"span",19),W(22,"Instructions:"),P(),x(23,"textarea",20),Qe("ngModelChange",function(i){const a=_1(n).index;return y1(et(2).controls.instructions[a]=i)}),P()(),x(24,"div",21)(25,"button",22),Qe("click",function(){const s=_1(n).index;return y1(et(2).createOrder(s))}),Ve(26,"fa-icon",23),P()()(),x(27,"div",24)(28,"div",25),Ve(29,"span",1),P(),Tt(30,_qe,19,9,"div",26),Le(31,"async"),P()()}if(2&t){const n=e.$implicit,r=e.index,i=et(2);L(3),Ne(n.name),L(1),$("ngIf",null==n.kickEta&&zt(5,10,i.role)===i.UserRole.ADMIN),L(2),$("ngIf",null!=n.kickEta),L(1),$("ngIf",null!=n.note&&n.note.length>0&&zt(8,12,i.role)===i.UserRole.TEAM_LEADER),L(2),$("ngIf",zt(10,14,i.role)===i.UserRole.ADMIN),L(6),$("ngModel",i.controls.target[r]),L(4),$("ngModel",i.controls.wait[r]),L(4),$("ngModel",i.controls.instructions[r]),L(3),$("icon",vt(18,PW)),L(4),$("ngForOf",zt(31,16,i.orders.get(n.name.toLowerCase())))}}function Cqe(t,e){if(1&t&&(x(0,"div",10),Tt(1,yqe,32,19,"div",3),P()),2&t){const n=et();L(1),$("ngForOf",n.allianceMembers)}}let Mqe=(()=>{var t;class e{constructor(r){this.UserRole=qc,this.orderService=R(aq),this.dgAPI=R(jn),this.authService=R(Qs),this.changeDetection=R(ta),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},r.addIcons(u5,SC),this.allianceMembers=this.dgAPI.allianceMembers(!0),this.authService.authState.subscribe(i=>{document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("show"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("hide")),i.status&&(this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.role=new $e(s=>{s.next(i.role),s.complete()}),(i.role===qc.ADMIN||i.role===qc.TEAM_LEADER)&&(this.allianceMembers=this.dgAPI.allianceMembers(!0),this.allianceMembers.forEach(s=>{this.orders.set(s.name.toLowerCase(),new $e(a=>{this.orderService.getAllOrders(s.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,a)}))})),this.changeDetection.detectChanges(),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("hide"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("show")))})}createOrder(r){let i=new $Fe;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){r.target.submit()}onSubmitUpdateNote(r){r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(o5))},t.\u0275cmp=t1({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:7,vars:6,consts:[[1,"dgt-spinner-container","main"],[1,"dgt-spinner"],[1,"dgt-orders-manager-panel","user"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],["class","dgt-orders-manager-panel admin",4,"ngIf"],[1,"dgt-orders-manager-member"],[1,"player"],[1,"name"],["class","note",4,"ngIf"],[1,"note"],[1,"dgt-orders-manager-panel","admin"],["class","dgt-orders-manager-kick",4,"ngIf"],["class","kick-eta",4,"ngIf"],["class","note-update",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[3,"icon"],[1,"dgt-orders-history"],[1,"dgt-spinner-container","member"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[1,"kick-eta"],[1,"note-update"],[1,"label"],["method","post",3,"action","ngSubmit"],["type","text","name","note","placeholder","Player Note",3,"value"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"value"],[1,"delete"]],template:function(r,i){1&r&&(x(0,"div",0),Ve(1,"span",1),P(),x(2,"div",2),Tt(3,dqe,5,2,"div",3),P(),Tt(4,Cqe,2,1,"div",4),Le(5,"async"),Le(6,"async")),2&r&&(L(3),$("ngForOf",i.allianceMembers),L(1),$("ngIf",zt(5,2,i.role)===i.UserRole.TEAM_LEADER||zt(6,4,i.role)===i.UserRole.ADMIN))},dependencies:[Nf,f0,si,gW,f5,tW,nW,BC,w5,CC,cqe,oqe,aa,lqe,uqe],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:28px;font-size:12px;background:rgba(0,0,0,.4);color:#fff;border:none!important;text-align:left;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:5px;width:372px}span.target[_ngcontent-%COMP%], span.wait[_ngcontent-%COMP%], span.instructions[_ngcontent-%COMP%]{float:left;line-height:26px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-left:5px;margin-right:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:10px;padding:5px 5px 10px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:#ffd46f;float:left}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400!important;float:right}.dgt-orders-manager-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid transparent;width:calc(100% - 12px);border-radius:5px;padding:3px 5px;margin-top:5px}.dgt-orders-history-details[_ngcontent-%COMP%]:nth-child(2){margin-top:10px!important}.dgt-orders-history-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:22px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#ffffffad;margin-right:20px}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{background:#7BBD1A3D}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{background:#FF3B303B}.dgt-orders-history[_ngcontent-%COMP%]{width:calc(100% - 10px)!important;margin-left:5px;margin-right:5px;position:relative}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px;margin-left:2px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px}.create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:20px!important;line-height:22px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.note-update[_ngcontent-%COMP%]{float:right!important}.note-update[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{float:left;font-weight:400;line-height:22px;margin-right:5px}.note-update[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{float:left}.note-update[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:22px;margin-right:5px;border-radius:4px}span.note[_ngcontent-%COMP%]{line-height:20px}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.name[_ngcontent-%COMP%]{color:#ffffffad!important;font-weight:400!important;width:35%!important;font-size:1em!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.note[_ngcontent-%COMP%]{line-height:16px!important;width:65%;text-align:left;font-size:1em!important}.dgt-spinner-container.member[_ngcontent-%COMP%]{position:relative;margin-top:5px}.dgt-spinner-container.member[_ngcontent-%COMP%]   .dgt-spinner[_ngcontent-%COMP%]{top:10px!important}"]}),e})(),wqe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t,bootstrap:[Mqe]}),t.\u0275inj=Ze({providers:[aq],imports:[Vn,aqe,io,W4(()=>Q4(f1_firebase)),rs(()=>is()),js(()=>qs()),X4(()=>J4(K4(),{provider:new dr(f1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),io]}),e})(),RW=(()=>{var t;class e{constructor(){this.firestore=R(Bn)}getActiveOrders(r,i,s,a){let c=Un(this.firestore,"orders");$s(Gs(c,Tr("user","==",r),Tr("executed","==",!1)),{idField:"id"}).forEach(o=>{let l=Object.assign([],o);l.forEach(u=>{u.wait-=i-u.turn}),a.next(l),s.detectChanges()}).catch(o=>{console.log(o)})}completeOrder(r){let i=Un(this.firestore,"orders");Jj(Uy(i,r),{executed:!0}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Vqe=function(){return["far","circle-check"]};function bqe(t,e){if(1&t){const n=ei();x(0,"div",4)(1,"div",5)(2,"span",6),W(3,"From:"),P(),x(4,"span",7),W(5),P()(),x(6,"div",8)(7,"span",6),W(8,"Target:"),P(),x(9,"span",7),W(10),P()(),x(11,"div",9)(12,"span",6),W(13,"Wait:"),P(),x(14,"span",7),W(15),P()(),x(16,"div",10)(17,"span",6),W(18,"Instructions:"),P(),x(19,"span",7),W(20),P()(),x(21,"div",11)(22,"button",12),Qe("click",function(){const s=_1(n).$implicit;return y1(et(2).onCompleteClick(s.id))}),Ve(23,"fa-icon",13),P()()()}if(2&t){const n=e.$implicit;L(5),Ne(n.from),L(5),Ne(n.target),L(5),Ne(n.wait),L(5),Ne(n.instructions),L(3),$("icon",vt(5,Vqe))}}function Hqe(t,e){if(1&t&&(N6(0),Tt(1,bqe,24,6,"div",3),Le(2,"async"),k6()),2&t){const n=et();L(1),$("ngForOf",zt(2,1,n.orders))}}let zqe=(()=>{var t;class e{constructor(r){this.orderService=R(RW),this.dgAPI=R(jn),this.changeDetection=R(ta),this.authService=R(Qs),this.active=!1,r.addIcons(bC),this.authService.authState.subscribe(i=>{document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("show"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("hide")),this.active=i.status,i.status&&(this.orders=new $e(s=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,s)})),this.changeDetection.detectChanges(),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("show"))})}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(z(o5))},t.\u0275cmp=t1({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-fleet-order",4,"ngFor","ngForOf"],[1,"dgt-fleet-order"],[1,"from"],[1,"label"],[1,"value"],[1,"target"],[1,"wait"],[1,"instructions"],[1,"complete"],[3,"click"],[3,"icon"]],template:function(r,i){1&r&&(x(0,"div",0),Ve(1,"span",1),P(),Tt(2,Hqe,3,3,"ng-container",2)),2&r&&(L(2),$("ngIf",i.active))},dependencies:[f0,si,CC,aa],styles:[".dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#FF3B303B;border:none;width:calc(100% - 20px);border-radius:5px;height:22px;line-height:22px;padding:5px;margin-right:5px;margin-left:5px;margin-bottom:5px}.dgt-fleet-order[_ngcontent-%COMP%]:nth-child(2){margin-top:5px!important}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:5px!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;color:#dcdcdc;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#dcdcdc}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:145px}.dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:85px}.dgt-fleet-order[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{float:right;margin-right:2px}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{margin-left:2px;min-width:150px}.dgt-spinner-container[_ngcontent-%COMP%]{margin:5px!important;width:calc(100% - 10px)!important;height:calc(100% - 10px)!important;position:relative}"]}),e})(),Sqe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t,bootstrap:[zqe]}),t.\u0275inj=Ze({providers:[RW],imports:[Vn,io,W4(()=>Q4(f1_firebase)),rs(()=>is()),js(()=>qs()),X4(()=>J4(K4(),{provider:new dr(f1_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),xqe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),Eqe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t,bootstrap:[xqe]}),t.\u0275inj=Ze({imports:[Vn]}),e})(),Iqe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=t1({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),Lqe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=ct({type:t,bootstrap:[Iqe]}),t.\u0275inj=Ze({imports:[Vn]}),e})();const Kn=Qie();let E1=window.location.pathname.split(/\//g);Kn.bootstrapModule(Lqe).catch(t=>console.error(t)),Kn.bootstrapModule(Eqe).catch(t=>console.error(t)),Kn.bootstrapModule(jFe).catch(t=>console.error(t)),Kn.bootstrapModule(SFe).catch(t=>console.error(t)),"planets"===E1[1]&&Kn.bootstrapModule(TFe).catch(t=>console.error(t)),"planet"===E1[1]&&"comms"===(5===E1.length&&E1[3])&&Kn.bootstrapModule(PFe).catch(t=>console.error(t)),"navigation"===E1[1]&&6===E1.length&&!isNaN(+E1[2])&&!isNaN(+E1[3])&&!isNaN(+E1[4])&&Kn.bootstrapModule(FFe).catch(t=>console.error(t)),"alliances"===E1[1]&&Kn.bootstrapModule(wqe).catch(t=>console.error(t)),"fleets"===E1[1]&&Kn.bootstrapModule(Sqe).catch(t=>console.error(t))}},je=>{je(je.s=576)}]);