(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{557:(ye,Ce,V)=>{"use strict";function M(t){return"function"==typeof t}function I(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const j=I(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function z(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Y{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(M(r))try{r()}catch(o){e=o instanceof j?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{_(o)}catch(s){e=e??[],s instanceof j?e=[...e,...s.errors]:e.push(s)}}if(e)throw new j(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_(e);else{if(e instanceof Y){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&z(n,e)}remove(e){const{_finalizers:n}=this;n&&z(n,e),e instanceof Y&&e._removeParent(this)}}Y.EMPTY=(()=>{const t=new Y;return t.closed=!0,t})();const k=Y.EMPTY;function G(t){return t instanceof Y||t&&"closed"in t&&M(t.remove)&&M(t.add)&&M(t.unsubscribe)}function _(t){M(t)?t():t.unsubscribe()}const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},R={setTimeout(t,e,...n){const{delegate:r}=R;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=R;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function v(t){R.setTimeout(()=>{const{onUnhandledError:e}=b;if(!e)throw t;e(t)})}function D(){}const y=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let N=null;function m(t){if(b.useDeprecatedSynchronousErrorHandling){const e=!N;if(e&&(N={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=N;if(N=null,n)throw r}}else t()}class L extends Y{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,G(e)&&e.add(this)):this.destination=q}static create(e,n,r){return new ue(e,n,r)}next(e){this.isStopped?we(function A(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?we(function T(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?we(y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function H(t,e){return O.call(t,e)}class U{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ae(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ae(r)}else ae(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ae(n)}}}class ue extends L{constructor(e,n,r){let i;if(super(),M(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&b.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&H(e.next,o),error:e.error&&H(e.error,o),complete:e.complete&&H(e.complete,o)}):i=e}this.destination=new U(i)}}function ae(t){b.useDeprecatedSynchronousErrorHandling?function C(t){b.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=t)}(t):v(t)}function we(t,e){const{onStoppedNotification:n}=b;n&&R.setTimeout(()=>n(t,e))}const q={closed:!0,next:D,error:function he(t){throw t},complete:D},le="function"==typeof Symbol&&Symbol.observable||"@@observable";function ve(t){return t}function Fe(t){return 0===t.length?ve:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Q(t){return t&&t instanceof L||function et(t){return t&&M(t.next)&&M(t.error)&&M(t.complete)}(t)&&G(t)}(n)?n:new ue(n,r,i);return m(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=We(r))((i,o)=>{const s=new ue({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[le](){return this}pipe(...n){return Fe(n)(this)}toPromise(n){return new(n=We(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function We(t){var e;return null!==(e=t??b.Promise)&&void 0!==e?e:Promise}const oe=I(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ee=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ie(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oe}next(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?k:(this.currentObservers=null,o.push(n),new Y(()=>{this.currentObservers=null,z(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new de;return n.source=this,n}}return t.create=(e,n)=>new ie(e,n),t})();class ie extends ee{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:k}}function wt(t){return M(t?.lift)}function Ve(t){return e=>{if(wt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(t,e,n,r,i){return new Ze(t,e,n,r,i)}class Ze extends L{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Qe(t,e){return Ve((n,r)=>{let i=0;n.subscribe(tt(r,o=>{r.next(t.call(e,o,i++))}))})}function rr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function wn(t,e,n,r){var s,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function qi(t,e){return function(n,r){e(n,r,t)}}function Ii(t){return this instanceof Ii?(this.v=t,this):new Ii(t)}function $0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Rc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Q0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function od(t){return M(t?.then)}function X0(t){return M(t[le])}function J0(t){return Symbol.asyncIterator&&M(t?.[Symbol.asyncIterator])}function sd(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ad=function n_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ir(t){return M(t?.[ad])}function bi(t){return function Ro(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){o.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Ii?Promise.resolve(f.value.v).then(l,u):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ii(n.read());if(i)return yield Ii(void 0);yield yield Ii(r)}}finally{n.releaseLock()}})}function cd(t){return M(t?.getReader)}function or(t){if(t instanceof de)return t;if(null!=t){if(X0(t))return function ej(t){return new de(e=>{const n=t[le]();if(M(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Q0(t))return function tj(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(od(t))return function nj(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,v)})}(t);if(J0(t))return mw(t);if(ir(t))return function rj(t){return new de(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(cd(t))return function ij(t){return mw(bi(t))}(t)}throw sd(t)}function mw(t){return new de(e=>{(function oj(t,e){var n,r,i,o;return function Pr(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=$0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Po(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Un(t,e,n=1/0){return M(e)?Un((r,i)=>Qe((o,s)=>e(r,o,i,s))(or(t(r,i))),n):("number"==typeof e&&(n=e),Ve((r,i)=>function sj(t,e,n,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{o&&e.next(g),l++;let E=!1;or(n(g,u++)).subscribe(tt(e,S=>{i?.(S),o?h(S):e.next(S)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){const S=c.shift();s?Po(e,s,()=>p(S)):p(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(tt(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function Z0(t=1/0){return Un(ve,t)}const Wi=new de(t=>t.complete());function r_(t){return t[t.length-1]}function _w(t){return M(r_(t))?t.pop():void 0}function ld(t){return function cj(t){return t&&M(t.schedule)}(r_(t))?t.pop():void 0}function ep(t,e=0){return Ve((n,r)=>{n.subscribe(tt(r,i=>Po(r,t,()=>r.next(i),e),()=>Po(r,t,()=>r.complete(),e),i=>Po(r,t,()=>r.error(i),e)))})}function tp(t,e=0){return Ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function vw(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{Po(n,e,()=>{const r=t[Symbol.asyncIterator]();Po(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function jn(t,e){return e?function gj(t,e){if(null!=t){if(X0(t))return function uj(t,e){return or(t).pipe(tp(e),ep(e))}(t,e);if(Q0(t))return function fj(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(od(t))return function dj(t,e){return or(t).pipe(tp(e),ep(e))}(t,e);if(J0(t))return vw(t,e);if(ir(t))return function hj(t,e){return new de(n=>{let r;return Po(n,e,()=>{r=t[ad](),Po(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>M(r?.return)&&r.return()})}(t,e);if(cd(t))return function pj(t,e){return vw(bi(t),e)}(t,e)}throw sd(t)}(t,e):or(t)}class ai extends ee{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Le(...t){return jn(t,ld(t))}function yw(t={}){const{connector:e=(()=>new ee),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Ve((g,E)=>{l++,!d&&!u&&f();const S=c=c??e();E.add(()=>{l--,0===l&&!d&&!u&&(a=i_(p,i))}),S.subscribe(E),!s&&l>0&&(s=new ue({next:w=>S.next(w),error:w=>{d=!0,f(),a=i_(h,n,w),S.error(w)},complete:()=>{u=!0,f(),a=i_(h,r),S.complete()}}),or(g).subscribe(s))})(o)}}function i_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ue({next:()=>{r.unsubscribe(),t()}});return or(e(...n)).subscribe(r)}function ci(t,e){return Ve((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(tt(r,c=>{i?.unsubscribe();let l=0;const u=o++;or(t(c,u)).subscribe(i=tt(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ew(t,e=ve){return t=t??_j,Ve((n,r)=>{let i,o=!0;n.subscribe(tt(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function _j(t,e){return t===e}function vt(t){for(let e in t)if(t[e]===vt)return e;throw Error("Could not find renamed property on target object.")}function np(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function An(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(An).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function o_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const vj=vt({__forward_ref__:vt});function Tt(t){return t.__forward_ref__=Tt,t.toString=function(){return An(this())},t}function ze(t){return s_(t)?t():t}function s_(t){return"function"==typeof t&&t.hasOwnProperty(vj)&&t.__forward_ref__===Tt}function a_(t){return t&&!!t.\u0275providers}const xw="https://g.co/ng/security#xss";class te extends Error{constructor(e,n){super(function rp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function je(t){return"string"==typeof t?t:null==t?"":String(t)}function c_(t,e){throw new te(-201,!1)}function li(t,e){null==t&&function Be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function be(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function St(t){return{providers:t.providers||[],imports:t.imports||[]}}function ip(t){return Cw(t,sp)||Cw(t,Iw)}function Cw(t,e){return t.hasOwnProperty(e)?t[e]:null}function op(t){return t&&(t.hasOwnProperty(l_)||t.hasOwnProperty(Aj))?t[l_]:null}const sp=vt({\u0275prov:vt}),l_=vt({\u0275inj:vt}),Iw=vt({ngInjectableDef:vt}),Aj=vt({ngInjectorDef:vt});var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ot||{});let u_;function kr(t){const e=u_;return u_=t,e}function ww(t,e,n){const r=ip(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ot.Optional?null:void 0!==e?e:void c_(An(t))}const Mt=globalThis;class Ee{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=be({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ud={},g_="__NG_DI_FLAG__",ap="ngTempTokenPath",Sj=/\n/gm,Dw="__source";let Pc;function gs(t){const e=Pc;return Pc=t,e}function Pj(t,e=ot.Default){if(void 0===Pc)throw new te(-203,!1);return null===Pc?ww(t,void 0,e):Pc.get(t,e&ot.Optional?null:void 0,e)}function Se(t,e=ot.Default){return(function bw(){return u_}()||Pj)(ze(t),e)}function W(t,e=ot.Default){return Se(t,cp(e))}function cp(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function m_(t){const e=[];for(let n=0;n<t.length;n++){const r=ze(t[n]);if(Array.isArray(r)){if(0===r.length)throw new te(900,!1);let i,o=ot.Default;for(let s=0;s<r.length;s++){const a=r[s],c=Nj(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(Se(i,o))}else e.push(Se(r))}return e}function dd(t,e){return t[g_]=e,t.prototype[g_]=e,t}function Nj(t){return t[g_]}function No(t){return{toString:t}.toString()}var lp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lp||{}),wi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(wi||{});const Ki={},ht=[],up=vt({\u0275cmp:vt}),__=vt({\u0275dir:vt}),v_=vt({\u0275pipe:vt}),Sw=vt({\u0275mod:vt}),ko=vt({\u0275fac:vt}),fd=vt({__NG_ELEMENT_ID__:vt}),Mw=vt({__NG_ENV_ID__:vt});function Rw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function y_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];Nw(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Pw(t){return 3===t||4===t||6===t}function Nw(t){return 64===t.charCodeAt(0)}function hd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||kw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function kw(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const Ow="ng-template";function Fj(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==Rw(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Fw(t){return 4===t.type&&t.value!==Ow}function Vj(t,e,n){return e===(4!==t.type||n?t.value:Ow)}function Lj(t,e,n){let r=4;const i=t.attrs||[],o=function zj(t){for(let e=0;e<t.length;e++)if(Pw(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Vj(t,c,n)||""===c&&1===e.length){if(Ai(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Fj(t.attrs,l,n)){if(Ai(r))return!1;s=!0}continue}const d=Bj(8&r?"class":c,i,Fw(t),n);if(-1===d){if(Ai(r))return!1;s=!0;continue}if(""!==l){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Rw(h,l,0)||2&r&&l!==f){if(Ai(r))return!1;s=!0}}}}else{if(!s&&!Ai(r)&&!Ai(c))return!1;if(s&&Ai(c))continue;s=!1,r=c|1&r}}return Ai(r)||s}function Ai(t){return 0==(1&t)}function Bj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Uj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Vw(t,e,n=!1){for(let r=0;r<e.length;r++)if(Lj(t,e[r],n))return!0;return!1}function jj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Lw(t,e){return t?":not("+e.trim()+")":e}function $j(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ai(s)&&(e+=Lw(o,i),i=""),r=s,o=o||!Ai(r);n++}return""!==i&&(e+=Lw(o,i)),e}function vr(t){return No(()=>{const e=Hw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||wi.Emulated,styles:t.styles||ht,_:null,schemas:t.schemas||null,tView:null,id:""};zw(n);const r=t.dependencies;return n.directiveDefs=dp(r,!1),n.pipeDefs=dp(r,!0),n.id=function Jj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Kj(t){return ct(t)||$n(t)}function Yj(t){return null!==t}function Vt(t){return No(()=>({type:t.type,bootstrap:t.bootstrap||ht,declarations:t.declarations||ht,imports:t.imports||ht,exports:t.exports||ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Bw(t,e){if(null==t)return Ki;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Oe(t){return No(()=>{const e=Hw(t);return zw(e),e})}function kn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[up]||null}function $n(t){return t[__]||null}function yr(t){return t[v_]||null}function qr(t,e){const n=t[Sw]||null;if(!n&&!0===e)throw new Error(`Type ${An(t)} does not have '\u0275mod' property.`);return n}function Hw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ki,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bw(t.inputs,e),outputs:Bw(t.outputs)}}function zw(t){t.features?.forEach(e=>e(t))}function dp(t,e){if(!t)return null;const n=e?yr:Kj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Yj)}const nn=0,Ie=1,Ke=2,Ut=3,Di=4,pd=5,sr=6,kc=7,fn=8,ms=9,Oc=10,$e=11,gd=12,Uw=13,Fc=14,hn=15,md=16,Vc=17,Yi=18,_d=19,jw=20,_s=21,Oo=22,vd=23,yd=24,nt=25,E_=1,$w=2,Qi=7,Lc=9,Gn=11;function Or(t){return Array.isArray(t)&&"object"==typeof t[E_]}function Er(t){return Array.isArray(t)&&!0===t[E_]}function x_(t){return 0!=(4&t.flags)}function Ia(t){return t.componentOffset>-1}function hp(t){return 1==(1&t.flags)}function Ti(t){return!!t.template}function C_(t){return 0!=(512&t[Ke])}function ba(t,e){return t.hasOwnProperty(ko)?t[ko]:null}let qn=null,pp=!1;function ui(t){const e=qn;return qn=t,e}const Ww={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Yw(t){if(!xd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Jw(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Xw(t){t.dirty=!0,function Qw(t){if(void 0===t.liveConsumerNode)return;const e=pp;pp=!0;try{for(const n of t.liveConsumerNode)n.dirty||Xw(n)}finally{pp=e}}(t),t.consumerMarkedDirty?.(t)}function b_(t){return t&&(t.nextProducerIndex=0),ui(t)}function w_(t,e){if(ui(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(xd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)gp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Jw(t){Bc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Yw(n),r!==n.version))return!0}return!1}function Zw(t){if(Bc(t),xd(t))for(let e=0;e<t.producerNode.length;e++)gp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function gp(t,e){if(function tA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Bc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)gp(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Bc(i),i.producerIndexOfThis[r]=e}}function xd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let nA=null;function oA(t){const e=ui(null);try{return t()}finally{ui(e)}}const sA=()=>{},d$=(()=>({...Ww,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:sA}))();class f${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function xr(){return aA}function aA(t){return t.type.prototype.ngOnChanges&&(t.setInput=p$),h$}function h$(){const t=lA(this),e=t?.current;if(e){const n=t.previous;if(n===Ki)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function p$(t,e,n,r){const i=this.declaredInputs[n],o=lA(t)||function g$(t,e){return t[cA]=e}(t,{previous:Ki,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new f$(c&&c.currentValue,e,a===Ki),t[r]=e}xr.ngInherit=!0;const cA="__ngSimpleChanges__";function lA(t){return t[cA]||null}const Xi=function(t,e,n){};function Rt(t){for(;Array.isArray(t);)t=t[nn];return t}function mp(t,e){return Rt(e[t])}function Fr(t,e){return Rt(e[t.index])}function fA(t,e){return t.data[e]}function Hc(t,e){return t[e]}function Wr(t,e){const n=e[t];return Or(n)?n:n[nn]}function ys(t,e){return null==e?null:t[e]}function hA(t){t[Vc]=0}function x$(t){1024&t[Ke]||(t[Ke]|=1024,gA(t,1))}function pA(t){1024&t[Ke]&&(t[Ke]&=-1025,gA(t,-1))}function gA(t,e){let n=t[Ut];if(null===n)return;n[pd]+=e;let r=n;for(n=n[Ut];null!==n&&(1===e&&1===r[pd]||-1===e&&0===r[pd]);)n[pd]+=e,r=n,n=n[Ut]}const He={lFrame:AA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vA(){return He.bindingsEnabled}function zc(){return null!==He.skipHydrationRootTNode}function X(){return He.lFrame.lView}function lt(){return He.lFrame.tView}function di(t){return He.lFrame.contextLView=t,t[fn]}function fi(t){return He.lFrame.contextLView=null,t}function Wn(){let t=yA();for(;null!==t&&64===t.type;)t=t.parent;return t}function yA(){return He.lFrame.currentTNode}function Ji(t,e){const n=He.lFrame;n.currentTNode=t,n.isParent=e}function M_(){return He.lFrame.isParent}function R_(){He.lFrame.isParent=!1}function Cr(){const t=He.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Uc(){return He.lFrame.bindingIndex++}function N$(t,e){const n=He.lFrame;n.bindingIndex=n.bindingRootIndex=t,P_(e)}function P_(t){He.lFrame.currentDirectiveIndex=t}function IA(){return He.lFrame.currentQueryIndex}function k_(t){He.lFrame.currentQueryIndex=t}function O$(t){const e=t[Ie];return 2===e.type?e.declTNode:1===e.type?t[sr]:null}function bA(t,e,n){if(n&ot.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&ot.Host||(i=O$(o),null===i||(o=o[Fc],10&i.type))););if(null===i)return!1;e=i,t=o}const r=He.lFrame=wA();return r.currentTNode=e,r.lView=t,!0}function O_(t){const e=wA(),n=t[Ie];He.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function wA(){const t=He.lFrame,e=null===t?null:t.child;return null===e?AA(t):e}function AA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function DA(){const t=He.lFrame;return He.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const TA=DA;function F_(){const t=DA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ir(){return He.lFrame.selectedIndex}function wa(t){He.lFrame.selectedIndex=t}function Xt(){const t=He.lFrame;return fA(t.tView,t.selectedIndex)}let MA=!0;function _p(){return MA}function Es(t){MA=t}function vp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function yp(t,e,n){RA(t,e,3,n)}function Ep(t,e,n,r){(3&t[Ke])===n&&RA(t,e,n,r)}function V_(t,e){let n=t[Ke];(3&n)===e&&(n&=8191,n+=1,t[Ke]=n)}function RA(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Vc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Vc]+=65536),(a<o||-1==o)&&(j$(t,n,e,c),t[Vc]=(4294901760&t[Vc])+c+2),c++}function PA(t,e){Xi(4,t,e);const n=ui(null);try{e.call(t)}finally{ui(n),Xi(5,t,e)}}function j$(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Ke]>>13<t[Vc]>>16&&(3&t[Ke])===e&&(t[Ke]+=8192,PA(a,o)):PA(a,o)}const jc=-1;class Id{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function B_(t){return t!==jc}function bd(t){return 32767&t}function wd(t,e){let n=function W$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Fc],n--;return r}let H_=!0;function xp(t){const e=H_;return H_=t,e}const NA=255,kA=5;let K$=0;const Zi={};function Cp(t,e){const n=OA(t,e);if(-1!==n)return n;const r=e[Ie];r.firstCreatePass&&(t.injectorIndex=e.length,z_(r.data,t),z_(e,null),z_(r.blueprint,null));const i=Ip(t,e),o=t.injectorIndex;if(B_(i)){const s=bd(i),a=wd(i,e),c=a[Ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function z_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function OA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ip(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=UA(i),null===r)return jc;if(n++,i=i[Fc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return jc}function U_(t,e,n){!function Y$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(fd)&&(r=n[fd]),null==r&&(r=n[fd]=K$++);const i=r&NA;e.data[t+(i>>kA)]|=1<<i}(t,e,n)}function FA(t,e,n){if(n&ot.Optional||void 0!==t)return t;c_()}function VA(t,e,n,r){if(n&ot.Optional&&void 0===r&&(r=null),!(n&(ot.Self|ot.Host))){const i=t[ms],o=kr(void 0);try{return i?i.get(e,r,n&ot.Optional):ww(e,r,n&ot.Optional)}finally{kr(o)}}return FA(r,0,n)}function LA(t,e,n,r=ot.Default,i){if(null!==t){if(2048&e[Ke]&&!(r&ot.Self)){const s=function tG(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Ke]&&!(512&s[Ke]);){const a=BA(o,s,n,r|ot.Self,Zi);if(a!==Zi)return a;let c=o.parent;if(!c){const l=s[jw];if(l){const u=l.get(n,Zi,r);if(u!==Zi)return u}c=UA(s),s=s[Fc]}o=c}return i}(t,e,n,r,Zi);if(s!==Zi)return s}const o=BA(t,e,n,r,Zi);if(o!==Zi)return o}return VA(e,n,r,i)}function BA(t,e,n,r,i){const o=function J$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(fd)?t[fd]:void 0;return"number"==typeof e?e>=0?e&NA:eG:e}(n);if("function"==typeof o){if(!bA(e,t,r))return r&ot.Host?FA(i,0,r):VA(e,n,r,i);try{let s;if(s=o(r),null!=s||r&ot.Optional)return s;c_()}finally{TA()}}else if("number"==typeof o){let s=null,a=OA(t,e),c=jc,l=r&ot.Host?e[hn][sr]:null;for((-1===a||r&ot.SkipSelf)&&(c=-1===a?Ip(t,e):e[a+8],c!==jc&&zA(r,!1)?(s=e[Ie],a=bd(c),e=wd(c,e)):a=-1);-1!==a;){const u=e[Ie];if(HA(o,a,u.data)){const d=X$(a,e,n,s,r,l);if(d!==Zi)return d}c=e[a+8],c!==jc&&zA(r,e[Ie].data[a+8]===l)&&HA(o,a,e)?(s=u,a=bd(c),e=wd(c,e)):a=-1}}return i}function X$(t,e,n,r,i,o){const s=e[Ie],a=s.data[t+8],u=bp(a,s,n,null==r?Ia(a)&&H_:r!=s&&0!=(3&a.type),i&ot.Host&&o===a);return null!==u?Aa(e,s,u,a):Zi}function bp(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=s[c];if(h&&Ti(h)&&h.type===n)return c}return null}function Aa(t,e,n,r){let i=t[n];const o=e.data;if(function $$(t){return t instanceof Id}(i)){const s=i;s.resolving&&function yj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new te(-200,`Circular dependency in DI detected for ${t}${n}`)}(function _t(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():je(t)}(o[n]));const a=xp(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?kr(s.injectImpl):null;bA(t,r,ot.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function U$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=aA(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&kr(l),xp(a),s.resolving=!1,TA()}}return i}function HA(t,e,n){return!!(n[e+(t>>kA)]&1<<t)}function zA(t,e){return!(t&ot.Self||t&ot.Host&&e)}class br{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return LA(this._tNode,this._lView,e,cp(r),n)}}function eG(){return new br(Wn(),X())}function Kn(t){return No(()=>{const e=t.prototype.constructor,n=e[ko]||j_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[ko]||j_(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function j_(t){return s_(t)?()=>{const e=j_(ze(t));return e&&e()}:ba(t)}function UA(t){const e=t[Ie],n=e.type;return 2===n?e.declTNode:1===n?t[sr]:null}const Gc="__parameters__";function Wc(t,e,n){return No(()=>{const r=function $_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(Gc)?c[Gc]:Object.defineProperty(c,Gc,{value:[]})[Gc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Yc(t,e){t.forEach(n=>Array.isArray(n)?Yc(n,e):e(n))}function $A(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ap(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Td(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Kr(t,e,n){let r=Qc(t,e);return r>=0?t[1|r]=n:(r=~r,function cG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function G_(t,e){const n=Qc(t,e);if(n>=0)return t[1|n]}function Qc(t,e){return function GA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const yn=dd(Wc("Optional"),8),W_=dd(Wc("SkipSelf"),4);function Pp(t){return 128==(128&t.flags)}var xs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(xs||{});const SG=/^>|^->|<!--|-->|--!>|<!-$/g,MG=/(<|>)/g,RG="\u200b$1\u200b";const X_=new Map;let PG=0;const Z_="__ngContext__";function ar(t,e){Or(e)?(t[Z_]=e[_d],function kG(t){X_.set(t[_d],t)}(e)):t[Z_]=e}let ev;function tv(t,e){return ev(t,e)}function Rd(t){const e=t[Ut];return Er(e)?e[Ut]:e}function d5(t){return h5(t[gd])}function f5(t){return h5(t[Di])}function h5(t){for(;null!==t&&!Er(t);)t=t[Di];return t}function Zc(t,e,n,r,i){if(null!=r){let o,s=!1;Er(r)?o=r:Or(r)&&(s=!0,r=r[nn]);const a=Rt(r);0===t&&null!==n?null==i?_5(e,n,a):Da(e,n,a,i||null,!0):1===t&&null!==n?Da(e,n,a,i||null,!0):2===t?function Bp(t,e,n){const r=Vp(t,e);r&&function ZG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function nq(t,e,n,r,i){const o=n[Qi];o!==Rt(n)&&Zc(e,t,r,o,i);for(let a=Gn;a<n.length;a++){const c=n[a];Nd(c[Ie],c,t,e,r,o)}}(e,t,o,n,i)}}function nv(t,e){return t.createComment(function r5(t){return t.replace(SG,e=>e.replace(MG,RG))}(e))}function Op(t,e,n){return t.createElement(e,n)}function g5(t,e){const n=t[Lc],r=n.indexOf(e);pA(e),n.splice(r,1)}function Fp(t,e){if(t.length<=Gn)return;const n=Gn+e,r=t[n];if(r){const i=r[md];null!==i&&i!==t&&g5(i,r),e>0&&(t[n-1][Di]=r[Di]);const o=Ap(t,Gn+e);!function GG(t,e){Nd(t,e,e[$e],2,null,null),e[nn]=null,e[sr]=null}(r[Ie],r);const s=o[Yi];null!==s&&s.detachView(o[Ie]),r[Ut]=null,r[Di]=null,r[Ke]&=-129}return r}function rv(t,e){if(!(256&e[Ke])){const n=e[$e];e[vd]&&Zw(e[vd]),e[yd]&&Zw(e[yd]),n.destroyNode&&Nd(t,e,n,3,null,null),function KG(t){let e=t[gd];if(!e)return iv(t[Ie],t);for(;e;){let n=null;if(Or(e))n=e[gd];else{const r=e[Gn];r&&(n=r)}if(!n){for(;e&&!e[Di]&&e!==t;)Or(e)&&iv(e[Ie],e),e=e[Ut];null===e&&(e=t),Or(e)&&iv(e[Ie],e),n=e&&e[Di]}e=n}}(e)}}function iv(t,e){if(!(256&e[Ke])){e[Ke]&=-129,e[Ke]|=256,function JG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Id)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Xi(4,a,c);try{c.call(a)}finally{Xi(5,a,c)}}else{Xi(4,i,o);try{o.call(i)}finally{Xi(5,i,o)}}}}}(t,e),function XG(t,e){const n=t.cleanup,r=e[kc];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[kc]=null);const i=e[_s];if(null!==i){e[_s]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Ie].type&&e[$e].destroy();const n=e[md];if(null!==n&&Er(e[Ut])){n!==e[Ut]&&g5(n,e);const r=e[Yi];null!==r&&r.detachView(t)}!function OG(t){X_.delete(t[_d])}(e)}}function ov(t,e,n){return function m5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[nn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===wi.None||o===wi.Emulated)return null}return Fr(r,n)}}(t,e.parent,n)}function Da(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _5(t,e,n){t.appendChild(e,n)}function v5(t,e,n,r,i){null!==r?Da(t,e,n,r,i):_5(t,e,n)}function Vp(t,e){return t.parentNode(e)}function y5(t,e,n){return x5(t,e,n)}let sv,Hp,uv,zp,x5=function E5(t,e,n){return 40&t.type?Fr(t,n):null};function Lp(t,e,n,r){const i=ov(t,r,e),o=e[$e],a=y5(r.parent||e[sr],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)v5(o,i,n[c],a,!1);else v5(o,i,n,a,!1);void 0!==sv&&sv(o,r,e,n,i)}function Pd(t,e){if(null!==e){const n=e.type;if(3&n)return Fr(e,t);if(4&n)return av(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Pd(t,r);{const i=t[e.index];return Er(i)?av(-1,i):Rt(i)}}if(32&n)return tv(e,t)()||Rt(t[e.index]);{const r=I5(t,e);return null!==r?Array.isArray(r)?r[0]:Pd(Rd(t[hn]),r):Pd(t,e.next)}}return null}function I5(t,e){return null!==e?t[hn][sr].projection[e.projection]:null}function av(t,e){const n=Gn+t+1;if(n<e.length){const r=e[n],i=r[Ie].firstChild;if(null!==i)return Pd(r,i)}return e[Qi]}function cv(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&ar(Rt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)cv(t,e,n.child,r,i,o,!1),Zc(e,t,i,a,o);else if(32&c){const l=tv(n,r);let u;for(;u=l();)Zc(e,t,i,u,o);Zc(e,t,i,a,o)}else 16&c?w5(t,e,r,n,i,o):Zc(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Nd(t,e,n,r,i,o){cv(n,r,t.firstChild,e,i,o,!1)}function w5(t,e,n,r,i,o){const s=n[hn],c=s[sr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Zc(e,t,i,c[l],o);else{let l=c;const u=s[Ut];Pp(r)&&(l.flags|=128),cv(t,e,l,u,i,o,!0)}}function A5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function D5(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&y_(t,e,r),null!==i&&A5(t,e,i),null!==o&&function iq(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function el(t){return function lv(){if(void 0===Hp&&(Hp=null,Mt.trustedTypes))try{Hp=Mt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Hp}()?.createHTML(t)||t}function tl(){if(void 0!==uv)return uv;if(typeof document<"u")return document;throw new te(210,!1)}function T5(t){return function dv(){if(void 0===zp&&(zp=null,Mt.trustedTypes))try{zp=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zp}()?.createHTML(t)||t}class Ta{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xw})`}}class lq extends Ta{getTypeName(){return"HTML"}}class uq extends Ta{getTypeName(){return"Style"}}class dq extends Ta{getTypeName(){return"Script"}}class fq extends Ta{getTypeName(){return"URL"}}class hq extends Ta{getTypeName(){return"ResourceURL"}}function Yr(t){return t instanceof Ta?t.changingThisBreaksApplicationSecurity:t}function eo(t,e){const n=function pq(t){return t instanceof Ta&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xw})`)}return n===e}class Eq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(el(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class xq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=el(e),n}}const Iq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Up(t){return(t=String(t)).match(Iq)?t:"unsafe:"+t}function Lo(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function kd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const P5=Lo("area,br,col,hr,img,wbr"),N5=Lo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k5=Lo("rp,rt"),fv=kd(P5,kd(N5,Lo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kd(k5,Lo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kd(k5,N5)),hv=Lo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),O5=kd(hv,Lo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bq=Lo("script,style,template");class wq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!fv.hasOwnProperty(n))return this.sanitizedSomething=!0,!bq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!O5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;hv[a]&&(c=Up(c)),this.buf.push(" ",s,'="',F5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();fv.hasOwnProperty(n)&&!P5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(F5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Aq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dq=/([^\#-~ |!])/g;function F5(t){return t.replace(/&/g,"&amp;").replace(Aq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Dq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jp;function V5(t,e){let n=null;try{jp=jp||function R5(t){const e=new xq(t);return function Cq(){try{return!!(new window.DOMParser).parseFromString(el(""),"text/html")}catch{return!1}}()?new Eq(e):e}(t);let r=e?String(e):"";n=jp.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=jp.getInertBodyElement(r)}while(r!==o);return el((new wq).sanitizeChildren(pv(n)||n))}finally{if(n){const r=pv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function pv(t){return"content"in t&&function Tq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pi||{});function L5(t){const e=Od();return e?T5(e.sanitize(pi.HTML,t)||""):eo(t,"HTML")?T5(Yr(t)):V5(tl(),je(t))}function gv(t){const e=Od();return e?e.sanitize(pi.URL,t)||"":eo(t,"URL")?Yr(t):Up(je(t))}function Od(){const t=X();return t&&t[Oc].sanitizer}const Fd=new Ee("ENVIRONMENT_INITIALIZER"),z5=new Ee("INJECTOR",-1),U5=new Ee("INJECTOR_DEF_TYPES");class mv{get(e,n=ud){if(n===ud){const r=new Error(`NullInjectorError: No provider for ${An(e)}!`);throw r.name="NullInjectorError",r}return n}}function kq(...t){return{\u0275providers:j5(0,t),\u0275fromNgModule:!0}}function j5(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Yc(e,s=>{const a=s;$p(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&$5(i,o),n}function $5(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];vv(i,o=>{e(o,r)})}}function $p(t,e,n,r){if(!(t=ze(t)))return!1;let i=null,o=op(t);const s=!o&&ct(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=op(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)$p(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Yc(o.imports,u=>{$p(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&$5(l,e)}if(!a){const l=ba(i)||(()=>new i);e({provide:i,useFactory:l,deps:ht},i),e({provide:U5,useValue:i,multi:!0},i),e({provide:Fd,useValue:()=>Se(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=t;vv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function vv(t,e){for(let n of t)a_(n)&&(n=n.\u0275providers),Array.isArray(n)?vv(n,e):e(n)}const Oq=vt({provide:String,useValue:vt});function yv(t){return null!==t&&"object"==typeof t&&Oq in t}function Sa(t){return"function"==typeof t}const Ev=new Ee("Set Injector scope."),Gp={},Vq={};let xv;function qp(){return void 0===xv&&(xv=new mv),xv}class gi{}class nl extends gi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Iv(e,s=>this.processProvider(s)),this.records.set(z5,rl(void 0,this)),i.has("environment")&&this.records.set(gi,rl(void 0,this));const o=this.records.get(Ev);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(U5.multi,ht,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=gs(this),r=kr(void 0);try{return e()}finally{gs(n),kr(r)}}get(e,n=ud,r=ot.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Mw))return e[Mw](this);r=cp(r);const o=gs(this),s=kr(void 0);try{if(!(r&ot.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Uq(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ee}(e)&&ip(e);c=l&&this.injectableDefInScope(l)?rl(Cv(e),Gp):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ot.Self?qp():this.parent).get(e,n=r&ot.Optional&&n===ud?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ap]=a[ap]||[]).unshift(An(e)),o)throw a;return function kj(t,e,n,r){const i=t[ap];throw e[Dw]&&i.unshift(e[Dw]),t.message=function Oj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=An(e);if(Array.isArray(e))i=e.map(An).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):An(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ap]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{kr(s),gs(o)}}resolveInjectorInitializers(){const e=gs(this),n=kr(void 0);try{const i=this.get(Fd.multi,ht,ot.Self);for(const o of i)o()}finally{gs(e),kr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(An(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){let n=Sa(e=ze(e))?e:ze(e&&e.provide);const r=function Bq(t){return yv(t)?rl(void 0,t.useValue):rl(W5(t),Gp)}(e);if(Sa(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=rl(void 0,Gp,!0),i.factory=()=>m_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Gp&&(n.value=Vq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function zq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ze(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Cv(t){const e=ip(t),n=null!==e?e.factory:ba(t);if(null!==n)return n;if(t instanceof Ee)throw new te(204,!1);if(t instanceof Function)return function Lq(t){const e=t.length;if(e>0)throw Td(e,"?"),new te(204,!1);const n=function wj(t){return t&&(t[sp]||t[Iw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new te(204,!1)}function W5(t,e,n){let r;if(Sa(t)){const i=ze(t);return ba(i)||Cv(i)}if(yv(t))r=()=>ze(t.useValue);else if(function q5(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...m_(t.deps||[]));else if(function G5(t){return!(!t||!t.useExisting)}(t))r=()=>Se(ze(t.useExisting));else{const i=ze(t&&(t.useClass||t.provide));if(!function Hq(t){return!!t.deps}(t))return ba(i)||Cv(i);r=()=>new i(...m_(t.deps))}return r}function rl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Iv(t,e){for(const n of t)Array.isArray(n)?Iv(n,e):n&&a_(n)?Iv(n.\u0275providers,e):e(n)}const Wp=new Ee("AppId",{providedIn:"root",factory:()=>jq}),jq="ng",K5=new Ee("Platform Initializer"),to=new Ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Y5=new Ee("CSP nonce",{providedIn:"root",factory:()=>tl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Q5=(t,e,n)=>null;function Rv(t,e,n=!1){return Q5(t,e,n)}class Zq{}class Z5{}class tW{resolveComponentFactory(e){throw function eW(t){const e=Error(`No component factory found for ${An(t)}.`);return e.ngComponent=t,e}(e)}}let Bd=(()=>{class e{}return e.NULL=new tW,e})();function nW(){return sl(Wn(),X())}function sl(t,e){return new Yn(Fr(t,e))}let Yn=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=nW,e})();function rW(t){return t instanceof Yn?t.nativeElement:t}class tD{}let no=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function iW(){const t=X(),n=Wr(Wn().index,t);return(Or(n)?n:t)[$e]}(),e})(),oW=(()=>{var t;class e{}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>null}),e})();class al{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const nD=new al("16.2.12"),kv={};function sD(t,e=null,n=null,r){const i=aD(t,e,n,r);return i.resolveInjectorInitializers(),i}function aD(t,e=null,n=null,r,i=new Set){const o=[n||ht,kq(t)];return r=r||("object"==typeof t?void 0:An(t)),new nl(o,e||qp(),r||null,i)}let Tn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return sD({name:""},i,r,"");{const o=r.name??"";return sD({name:o},r.parent,r.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=ud,t.NULL=new mv,t.\u0275prov=be({token:t,providedIn:"any",factory:()=>Se(z5)}),t.__NG_ELEMENT_ID__=-1,e})();function Fv(t){return t.ngOriginalError}class Bo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Fv(e);for(;n&&Fv(n);)n=Fv(n);return n||null}}function Lv(t){return e=>{setTimeout(t,void 0,e)}}const jt=class fW extends ee{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Lv(o),i&&(i=Lv(i)),s&&(s=Lv(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Y&&e.add(a),a}};function lD(...t){}class ft{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jt(!1),this.onMicrotaskEmpty=new jt(!1),this.onStable=new jt(!1),this.onError=new jt(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function hW(){const t="function"==typeof Mt.requestAnimationFrame;let e=Mt[t?"requestAnimationFrame":"setTimeout"],n=Mt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function mW(t){const e=()=>{!function gW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hv(t),t.isCheckStableRunning=!0,Bv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function vW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return uD(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),dD(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return uD(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),dD(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Hv(t),Bv(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ft.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(ft.isInAngularZone())throw new te(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,pW,lD,lD);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const pW={};function Bv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function uD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dD(t){t._nesting--,Bv(t)}class _W{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jt,this.onMicrotaskEmpty=new jt,this.onStable=new jt,this.onError=new jt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const fD=new Ee("",{providedIn:"root",factory:hD});function hD(){const t=W(ft);let e=!0;return function mj(...t){const e=ld(t),n=function lj(t,e){return"number"==typeof r_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?or(r[0]):Z0(n)(jn(r,e)):Wi}(new de(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new de(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{ft.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(yw()))}function Ho(t){return t instanceof Function?t():t}let zv=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function Hd(t){for(;t;){t[Ke]|=64;const e=Rd(t);if(C_(t)&&!e)return t;t=e}return null}const vD=new Ee("",{providedIn:"root",factory:()=>!1});let eg=null;function CD(t,e){return t[e]??wD()}function ID(t,e){const n=wD();n.producerNode?.length&&(t[e]=eg,n.lView=t,eg=bD())}const TW={...Ww,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hd(t.lView)},lView:null};function bD(){return Object.create(TW)}function wD(){return eg??=bD(),eg}const qe={};function ge(t){AD(lt(),X(),Ir()+t,!1)}function AD(t,e,n,r){if(!r)if(3==(3&e[Ke])){const o=t.preOrderCheckHooks;null!==o&&yp(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Ep(e,o,0,n)}wa(n)}function J(t,e=ot.Default){const n=X();return null===n?Se(t,e):LA(Wn(),n,ze(t),e)}function tg(t,e,n,r,i,o,s,a,c,l,u){const d=e.blueprint.slice();return d[nn]=i,d[Ke]=140|r,(null!==l||t&&2048&t[Ke])&&(d[Ke]|=2048),hA(d),d[Ut]=d[Fc]=t,d[fn]=n,d[Oc]=s||t&&t[Oc],d[$e]=a||t&&t[$e],d[ms]=c||t&&t[ms]||null,d[sr]=o,d[_d]=function NG(){return PG++}(),d[Oo]=u,d[jw]=l,d[hn]=2==e.type?t[hn]:d,d}function ul(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Uv(t,e,n,r,i){const o=yA(),s=M_(),c=t.data[e]=function VW(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return zc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function P$(){return He.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Cd(){const t=He.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ji(o,!0),o}function zd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function DD(t,e,n,r,i){const o=CD(e,vd),s=Ir(),a=2&r;try{wa(-1),a&&e.length>nt&&AD(t,e,nt,!1),Xi(a?2:0,i);const l=a?o:null,u=b_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{w_(l,u)}}finally{a&&null===e[vd]&&ID(e,vd),wa(s),Xi(a?3:1,i)}}function jv(t,e,n){if(x_(e)){const r=ui(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ui(r)}}}function $v(t,e,n){vA()&&(function $W(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;Ia(n)&&function XW(t,e,n){const r=Fr(e,t),i=TD(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=ng(t,tg(t,i,null,s,r,e,null,t[Oc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Cp(n,e),ar(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],l=Aa(e,t,a,n);ar(l,e),null!==s&&JW(0,a-i,l,c,0,s),Ti(c)&&(Wr(n.index,e)[fn]=Aa(e,t,a,n))}}(t,e,n,Fr(n,e)),64==(64&n.flags)&&ND(t,e,n))}function Gv(t,e,n=Fr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function TD(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=qv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qv(t,e,n,r,i,o,s,a,c,l,u){const d=nt+r,f=d+i,h=function RW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:qe);return n}(d,f),p="function"==typeof l?l():l;return h[Ie]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let SD=t=>null;function MD(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?RD(n,e,i,o):r.hasOwnProperty(i)&&RD(n,e,r[i],o)}return n}function RD(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Qr(t,e,n,r,i,o,s,a){const c=Fr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Xv(t,n,u,r,i),Ia(e)&&function HW(t,e){const n=Wr(e,t);16&n[Ke]||(n[Ke]|=64)}(n,e.index)):3&e.type&&(r=function BW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function Wv(t,e,n,r){if(vA()){const i=null===r?null:{"":-1},o=function qW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Vw(e,s.selectors,!1))if(r||(r=[]),Ti(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Kv(t,e,a.length)}else r.unshift(s),Kv(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&PD(t,e,n,s,i,a),i&&function WW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new te(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=hd(n.mergedAttrs,n.attrs)}function PD(t,e,n,r,i,o){for(let l=0;l<r.length;l++)U_(Cp(n,e),t,r[l].type);!function YW(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=zd(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=hd(n.mergedAttrs,u.hostAttrs),QW(t,n,e,c,u),KW(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function LW(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],f=n?n.get(d):null,p=f?f.outputs:null;c=MD(d.inputs,u,c,f?f.inputs:null),l=MD(d.outputs,u,l,p);const g=null===c||null===s||Fw(e)?null:ZW(c,u,s);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,o)}function ND(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function k$(){return He.lFrame.currentDirectiveIndex}();try{wa(o);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];P_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&GW(c,l)}}finally{wa(-1),P_(s)}}function GW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Kv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ti(e)&&(n[""]=t)}}function QW(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ba(i.type)),s=new Id(o,Ti(i),J);t.blueprint[r]=s,n[r]=s,function UW(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function jW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,zd(t,n,i.hostVars,qe),i)}function ro(t,e,n,r,i,o){const s=Fr(t,e);!function Yv(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?je(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[$e],s,o,t.value,n,r,i)}function JW(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)kD(r,n,s[a++],s[a++],s[a++])}function kD(t,e,n,r,i){const o=ui(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ui(o)}}function ZW(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function OD(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function FD(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];k_(n[r]),s.contentQueries(2,e[o],o)}}}function ng(t,e){return t[gd]?t[Uw][Di]=e:t[gd]=e,t[Uw]=e,e}function Qv(t,e,n){k_(0);const r=ui(null);try{e(t,n)}finally{ui(r)}}function VD(t){return t[kc]||(t[kc]=[])}function LD(t){return t.cleanup||(t.cleanup=[])}function HD(t,e){const n=t[ms],r=n?n.get(Bo,null):null;r&&r.handleError(e)}function Xv(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];kD(t.data[s],e[s],r,a,i)}}function eK(t,e){const n=Wr(e,t),r=n[Ie];!function tK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[nn];null!==i&&null===n[Oo]&&(n[Oo]=Rv(i,n[ms])),Jv(r,n,n[fn])}function Jv(t,e,n){O_(e);try{const r=t.viewQuery;null!==r&&Qv(1,r,n);const i=t.template;null!==i&&DD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&FD(t,e),t.staticViewQueries&&Qv(2,t.viewQuery,n);const o=t.components;null!==o&&function nK(t,e){for(let n=0;n<e.length;n++)eK(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ke]&=-5,F_()}}let zD=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,o){const s=typeof Zone>"u"?null:Zone.current,a=function u$(t,e,n){const r=Object.create(d$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>Xw(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Jw(r))return;r.hasRun=!0;const s=b_(r);try{r.cleanupFn(),r.cleanupFn=sA,r.fn(i)}finally{w_(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,s)},o);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function rg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=o_(i,a):2==o&&(r=o_(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ud(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Rt(o)),Er(o)&&UD(o,r);const s=n.type;if(8&s)Ud(t,e,n.child,r);else if(32&s){const a=tv(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=I5(e,n);if(Array.isArray(a))r.push(...a);else{const c=Rd(e[hn]);Ud(c[Ie],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function UD(t,e){for(let n=Gn;n<t.length;n++){const r=t[n],i=r[Ie].firstChild;null!==i&&Ud(r[Ie],r,i,e)}t[Qi]!==t[nn]&&e.push(t[Qi])}function ig(t,e,n,r=!0){const i=e[Oc],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{jD(t,e,t.template,n)}catch(c){throw r&&HD(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function jD(t,e,n,r){const i=e[Ke];if(256!=(256&i)){e[Oc].effectManager?.flush(),O_(e);try{hA(e),function xA(t){return He.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&DD(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&yp(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Ep(e,l,0,null),V_(e,0)}if(function oK(t){for(let e=d5(t);null!==e;e=f5(e)){if(!e[$w])continue;const n=e[Lc];for(let r=0;r<n.length;r++){x$(n[r])}}}(e),$D(e,2),null!==t.contentQueries&&FD(t,e),s){const l=t.contentCheckHooks;null!==l&&yp(e,l)}else{const l=t.contentHooks;null!==l&&Ep(e,l,1),V_(e,1)}!function MW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=CD(e,yd);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)wa(~o);else{const s=o,a=n[++i],c=n[++i];N$(a,s),r.dirty=!1;const l=b_(r);try{c(2,e[s])}finally{w_(r,l)}}}}finally{null===e[yd]&&ID(e,yd),wa(-1)}}(t,e);const a=t.components;null!==a&&qD(e,a,0);const c=t.viewQuery;if(null!==c&&Qv(2,c,r),s){const l=t.viewCheckHooks;null!==l&&yp(e,l)}else{const l=t.viewHooks;null!==l&&Ep(e,l,2),V_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Ke]&=-73,pA(e)}finally{F_()}}}function $D(t,e){for(let n=d5(t);null!==n;n=f5(n))for(let r=Gn;r<n.length;r++)GD(n[r],e)}function sK(t,e,n){GD(Wr(e,t),n)}function GD(t,e){if(!function y$(t){return 128==(128&t[Ke])}(t))return;const n=t[Ie],r=t[Ke];if(80&r&&0===e||1024&r||2===e)jD(n,t,n.template,t[fn]);else if(t[pd]>0){$D(t,1);const i=n.components;null!==i&&qD(t,i,1)}}function qD(t,e,n){for(let r=0;r<e.length;r++)sK(t,e[r],n)}class jd{get rootNodes(){const e=this._lView,n=e[Ie];return Ud(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return 256==(256&this._lView[Ke])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ut];if(Er(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Fp(e,r),Ap(n,r))}this._attachedToViewContainer=!1}rv(this._lView[Ie],this._lView)}onDestroy(e){!function mA(t,e){if(256==(256&t[Ke]))throw new te(911,!1);null===t[_s]&&(t[_s]=[]),t[_s].push(e)}(this._lView,e)}markForCheck(){Hd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ke]&=-129}reattach(){this._lView[Ke]|=128}detectChanges(){ig(this._lView[Ie],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function WG(t,e){Nd(t,e,e[$e],2,null,null)}(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e}}class aK extends jd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ig(e[Ie],e,e[fn],!1)}checkNoChanges(){}get context(){return null}}class WD extends Bd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ct(e);return new $d(n,this.ngModule)}}function KD(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class lK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=cp(r);const i=this.injector.get(e,kv,r);return i!==kv||n===kv?i:this.parentInjector.get(e,n,r)}}class $d extends Z5{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=KD(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return KD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Gj(t){return t.map($j).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof gi?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new lK(e,o):e,a=s.get(tD,null);if(null===a)throw new te(407,!1);const d={rendererFactory:a,sanitizer:s.get(oW,null),effectManager:s.get(zD,null),afterRenderEventManager:s.get(zv,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function PW(t,e,n,r){const o=r.get(vD,!1)||n===wi.ShadowDom,s=t.selectRootElement(e,o);return function NW(t){SD(t)}(s),s}(f,r,this.componentDef.encapsulation,s):Op(f,h,function cK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),S=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==p&&(w=Rv(p,s,!0));const $=qv(0,null,null,1,0,null,null,null,null,null,null),K=tg(null,$,null,S,null,null,d,f,s,null,w);let fe,Pe;O_(K);try{const Ye=this.componentDef;let Qt,Nn=null;Ye.findHostDirectiveDefs?(Qt=[],Nn=new Map,Ye.findHostDirectiveDefs(Ye,Qt,Nn),Qt.push(Ye)):Qt=[Ye];const va=function dK(t,e){const n=t[Ie],r=nt;return t[r]=e,ul(n,r,2,"#host",null)}(K,p),$6e=function fK(t,e,n,r,i,o,s){const a=i[Ie];!function hK(t,e,n,r){for(const i of t)e.mergedAttrs=hd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(rg(e,e.mergedAttrs,!0),null!==n&&D5(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=Rv(e,i[ms]));const l=o.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=tg(i,TD(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Kv(a,t,r.length-1),ng(i,d),i[t.index]=d}(va,p,Ye,Qt,K,d,f);Pe=fA($,nt),p&&function gK(t,e,n,r){if(r)y_(t,n,["ng-version",nD.full]);else{const{attrs:i,classes:o}=function qj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ai(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&y_(t,n,i),o&&o.length>0&&A5(t,n,o.join(" "))}}(f,Ye,p,r),void 0!==n&&function mK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Pe,this.ngContentSelectors,n),fe=function pK(t,e,n,r,i,o){const s=Wn(),a=i[Ie],c=Fr(s,i);PD(a,i,s,n,null,r);for(let u=0;u<n.length;u++)ar(Aa(i,a,s.directiveStart+u,s),i);ND(a,i,s),c&&ar(c,i);const l=Aa(i,a,s.directiveStart+s.componentOffset,s);if(t[fn]=i[fn]=l,null!==o)for(const u of o)u(l,e);return jv(a,s,t),l}($6e,Ye,Qt,Nn,K,[_K]),Jv($,K,null)}finally{F_()}return new uK(this.componentType,fe,sl(Pe,K),K,Pe)}}class uK extends Zq{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new aK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;Xv(o[Ie],o,i,e,n),this.previousInputValues.set(e,n),Hd(Wr(this._tNode.index,o))}}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function _K(){const t=Wn();vp(X()[Ie],t)}function yt(t){let e=function YD(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ti(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=og(t.inputs),s.inputTransforms=og(t.inputTransforms),s.declaredInputs=og(t.declaredInputs),s.outputs=og(t.outputs);const a=i.hostBindings;a&&xK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&yK(t,c),l&&EK(t,l),np(t.inputs,i.inputs),np(t.declaredInputs,i.declaredInputs),np(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),np(s.inputTransforms,i.inputTransforms)),Ti(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===yt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function vK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hd(i.hostAttrs,n=hd(n,i.hostAttrs))}}(r)}function og(t){return t===Ki?{}:t===ht?[]:t}function yK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function EK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function xK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function sg(t){return!!Zv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Zv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function io(t,e,n){return t[e]=n}function cr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ma(t,e,n,r){const i=cr(t,e,n);return cr(t,e+1,r)||i}function Si(t,e,n,r){const i=X();return cr(i,Uc(),e)&&(lt(),ro(Xt(),i,t,e,n,r)),Si}function fl(t,e,n,r){return cr(t,Uc(),n)?e+je(n)+r:qe}function Jt(t,e,n,r,i,o,s,a){const c=X(),l=lt(),u=t+nt,d=l.firstCreatePass?function qK(t,e,n,r,i,o,s,a,c){const l=e.consts,u=ul(e,t,4,s||null,ys(l,a));Wv(e,n,u,ys(l,c)),vp(e,u);const d=u.tView=qv(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,o,s):l.data[u];Ji(d,!1);const f=fT(l,c,d,t);_p()&&Lp(l,c,f,d),ar(f,c),ng(c,c[u]=OD(f,c,f,d)),hp(d)&&$v(l,c,d),null!=s&&Gv(c,d,a)}let fT=function hT(t,e,n,r){return Es(!0),e[$e].createComment("")};function oy(t){return Hc(function R$(){return He.lFrame.contextLView}(),nt+t)}function ke(t,e,n){const r=X();return cr(r,Uc(),e)&&Qr(lt(),Xt(),r,t,e,r[$e],n,!1),ke}function sy(t,e,n,r,i){const s=i?"class":"style";Xv(t,n,e.inputs[s],s,r)}function Z(t,e,n,r){const i=X(),o=lt(),s=nt+t,a=i[$e],c=o.firstCreatePass?function QK(t,e,n,r,i,o){const s=e.consts,c=ul(e,t,2,r,ys(s,i));return Wv(e,n,c,ys(s,o)),null!==c.attrs&&rg(c,c.attrs,!1),null!==c.mergedAttrs&&rg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],l=pT(o,i,c,a,e,t);i[s]=l;const u=hp(c);return Ji(c,!0),D5(a,l,c),32!=(32&c.flags)&&_p()&&Lp(o,i,l,c),0===function I$(){return He.lFrame.elementDepthCount}()&&ar(l,i),function b$(){He.lFrame.elementDepthCount++}(),u&&($v(o,i,c),jv(o,c,i)),null!==r&&Gv(i,c),Z}function ce(){let t=Wn();M_()?R_():(t=t.parent,Ji(t,!1));const e=t;(function A$(t){return He.skipHydrationRootTNode===t})(e)&&function M$(){He.skipHydrationRootTNode=null}(),function w$(){He.lFrame.elementDepthCount--}();const n=lt();return n.firstCreatePass&&(vp(n,t),x_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function G$(t){return 0!=(8&t.flags)}(e)&&sy(n,e,X(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function q$(t){return 0!=(16&t.flags)}(e)&&sy(n,e,X(),e.stylesWithoutHost,!1),ce}function st(t,e,n,r){return Z(t,e,n,r),ce(),st}let pT=(t,e,n,r,i,o)=>(Es(!0),Op(r,i,function SA(){return He.lFrame.currentNamespace}()));function Yd(t,e,n){const r=X(),i=lt(),o=t+nt,s=i.firstCreatePass?function ZK(t,e,n,r,i){const o=e.consts,s=ys(o,r),a=ul(e,t,8,"ng-container",s);return null!==s&&rg(a,s,!0),Wv(e,n,a,ys(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Ji(s,!0);const a=mT(i,r,s,t);return r[o]=a,_p()&&Lp(i,r,a,s),ar(a,r),hp(s)&&($v(i,r,s),jv(i,s,r)),null!=n&&Gv(r,s),Yd}function Qd(){let t=Wn();const e=lt();return M_()?R_():(t=t.parent,Ji(t,!1)),e.firstCreatePass&&(vp(e,t),x_(t)&&e.queries.elementEnd(t)),Qd}let mT=(t,e,n,r)=>(Es(!0),nv(e[$e],""));function Cs(){return X()}function Xd(t){return!!t&&"function"==typeof t.then}function _T(t){return!!t&&"function"==typeof t.subscribe}function It(t,e,n,r){const i=X(),o=lt(),s=Wn();return function yT(t,e,n,r,i,o,s){const a=hp(r),l=t.firstCreatePass&&LD(t),u=e[fn],d=VD(e);let f=!0;if(3&r.type||s){const g=Fr(r,e),E=s?s(g):g,S=d.length,w=s?K=>s(Rt(K[r.index])):r.index;let $=null;if(!s&&a&&($=function nY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[kc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,f=!1;else{o=xT(r,e,u,o,!1);const K=n.listen(E,i,o);d.push(o,K),l&&l.push(i,w,S,S+1)}}else o=xT(r,e,u,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let E=0;E<g;E+=2){const fe=e[p[E]][p[E+1]].subscribe(o),Pe=d.length;d.push(o,fe),l&&l.push(i,r.index,Pe,-(Pe+1))}}}(o,i,i[$e],s,t,e,r),It}function ET(t,e,n,r){try{return Xi(6,e,n),!1!==n(r)}catch(i){return HD(t,i),!1}finally{Xi(7,e,n)}}function xT(t,e,n,r,i){return function o(s){if(s===Function)return r;Hd(t.componentOffset>-1?Wr(t.index,e):e);let c=ET(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=ET(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function $t(t=1){return function F$(t){return(He.lFrame.contextLView=function V$(t,e){for(;t>0;)e=e[Fc],t--;return e}(t,He.lFrame.contextLView))[fn]}(t)}function rY(t,e){let n=null;const r=function Hj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Vw(t,o,!0):jj(r,o))return i}else n=i}return n}function Jd(t,e,n){return ay(t,"",e,"",n),Jd}function ay(t,e,n,r,i){const o=X(),s=fl(o,e,n,r);return s!==qe&&Qr(lt(),Xt(),o,t,s,o[$e],i,!1),ay}function dg(t,e){return t<<17|e<<2}function Is(t){return t>>17&32767}function cy(t){return 2|t}function Ra(t){return(131068&t)>>2}function ly(t,e){return-131069&t|e<<2}function uy(t){return 1|t}function PT(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Is(o):Ra(o),c=!1;for(;0!==a&&(!1===c||s);){const u=t[a+1];lY(t[a],e)&&(c=!0,t[a+1]=r?uy(u):cy(u)),a=r?Is(u):Ra(u)}c&&(t[n+1]=r?cy(o):uy(o))}function lY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Qc(t,e)>=0}function Zd(t,e){return function Mi(t,e,n,r){const i=X(),o=lt(),s=function Vo(t){const e=He.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function zT(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ir()],s=function HT(t,e){return e>=t.expandoStartIndex}(t,n);(function GT(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function vY(t,e,n,r){const i=function N_(t){const e=He.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ef(n=dy(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=dy(i,t,e,n,r),null===o){let c=function yY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ra(r))return t[Is(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=dy(null,t,e,c[1],r),c=ef(c,e.attrs,r),function EY(t,e,n,r){t[Is(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function xY(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ef(r,t[o].hostAttrs,n);return ef(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function aY(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Is(s),c=Ra(s);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Qc(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=Is(t[a+1]);t[r+1]=dg(f,a),0!==f&&(t[f+1]=ly(t[f+1],r)),t[a+1]=function oY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=dg(a,0),0!==a&&(t[a+1]=ly(t[a+1],r)),a=r;else t[r+1]=dg(c,0),0===a?a=r:t[c+1]=ly(t[c+1],r),c=r;l&&(t[r+1]=cy(t[r+1])),PT(t,u,r,!0),PT(t,u,r,!1),function cY(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Qc(o,e)>=0&&(n[r+1]=uy(n[r+1]))}(e,u,t,r,o),s=dg(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==qe&&cr(i,s,e)&&function jT(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function sY(t){return 1==(1&t)}(l)?$T(c,e,n,i,Ra(l),s):void 0;fg(u)||(fg(o)||function iY(t){return 2==(2&t)}(l)&&(o=$T(c,null,n,i,a,s)),function rq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:xs.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xs.Important),t.setStyle(n,r,i,o))}}(r,s,mp(Ir(),n),i,o))}(o,o.data[Ir()],i,i[$e],t,i[s+1]=function wY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=An(Yr(t)))),t}(e,n),r,s)}(t,e,null,!0),Zd}function dy(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ef(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ef(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Kr(t,s,!!n||e[++o]))}return void 0===t?null:t}function $T(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===qe&&(f=d?ht:void 0);let h=d?G_(f,r):u===r?f:void 0;if(l&&!fg(h)&&(h=G_(c,r)),fg(h)&&(a=h,s))return a;const p=t[i+1];i=s?Is(p):Ra(p)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=G_(c,r))}return a}function fg(t){return void 0!==t}function Ae(t,e=""){const n=X(),r=lt(),i=t+nt,o=r.firstCreatePass?ul(r,i,1,e,null):r.data[i],s=qT(r,n,o,e,t);n[i]=s,_p()&&Lp(r,n,s,o),Ji(o,!1)}let qT=(t,e,n,r,i)=>(Es(!0),function kp(t,e){return t.createText(e)}(e[$e],r));function At(t){return Pa("",t,""),At}function Pa(t,e,n){const r=X(),i=fl(r,t,e,n);return i!==qe&&function zo(t,e,n){const r=mp(e,t);!function p5(t,e,n){t.setValue(e,n)}(t[$e],r,n)}(r,Ir(),i),Pa}function fy(t,e,n){const r=X();return cr(r,Uc(),e)&&Qr(lt(),Xt(),r,t,e,r[$e],n,!0),fy}const Na=void 0;var WY=["en",[["a","p"],["AM","PM"],Na],[["AM","PM"],Na,Na],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Na,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Na,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Na,"{1} 'at' {0}",Na],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qY(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let xl={};function wr(t){const e=function KY(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=fS(e);if(n)return n;const r=e.split("-")[0];if(n=fS(r),n)return n;if("en"===r)return WY;throw new te(701,!1)}function fS(t){return t in xl||(xl[t]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[t]),xl[t]}var Pt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pt||{});const Cl="en-US";let hS=Cl;function gy(t,e,n,r,i){if(t=ze(t),Array.isArray(t))for(let o=0;o<t.length;o++)gy(t[o],e,n,r,i);else{const o=lt(),s=X(),a=Wn();let c=Sa(t)?t:ze(t.provide);const l=W5(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Sa(t)||!t.multi){const h=new Id(l,i,J),p=_y(c,e,i?u:u+f,d);-1===p?(U_(Cp(a,s),o,c),my(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{const h=_y(c,e,u+f,d),p=_y(c,e,u,u+f),E=p>=0&&n[p];if(i&&!E||!i&&!(h>=0&&n[h])){U_(Cp(a,s),o,c);const S=function qQ(t,e,n,r,i){const o=new Id(t,n,J);return o.multi=[],o.index=e,o.componentProviders=0,LS(o,i,r&&!n),o}(i?GQ:$Q,n.length,i,r,l);!i&&E&&(n[p].providerFactory=S),my(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),s.push(S)}else my(o,t,h>-1?h:p,LS(n[i?p:h],l,!i&&r));!i&&r&&E&&n[p].componentProviders++}}}function my(t,e,n,r){const i=Sa(e),o=function Fq(t){return!!t.useClass}(e);if(i||o){const c=(o?ze(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function LS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _y(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $Q(t,e,n,r){return vy(this.multi,[])}function GQ(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Aa(n,n[Ie],this.providerFactory.index,r);o=a.slice(0,s),vy(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],vy(i,o);return o}function vy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Gt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function jQ(t,e,n){const r=lt();if(r.firstCreatePass){const i=Ti(t);gy(n,r.data,r.blueprint,i,!0),gy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ka{}class BS{}class yy extends ka{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new WD(this);const i=qr(e);this._bootstrapComponents=Ho(i.bootstrap),this._r3Injector=aD(e,n,[{provide:ka,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver},...r],An(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ey extends BS{constructor(e){super(),this.moduleType=e}create(e){return new yy(this.moduleType,e,[])}}class HS extends ka{constructor(e){super(),this.componentFactoryResolver=new WD(this),this.instance=null;const n=new nl([...e.providers,{provide:ka,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver}],e.parent||qp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function zS(t,e,n=null){return new HS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let YQ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=j5(0,r.type),o=i.length>0?zS([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=be({token:t,providedIn:"environment",factory:()=>new t(Se(gi))}),e})();function US(t){t.getStandaloneInjector=e=>e.get(YQ).getOrCreateStandaloneInjector(t)}function Il(t,e,n){const r=Cr()+t,i=X();return i[r]===qe?io(i,r,n?e.call(n):e()):function Gd(t,e){return t[e]}(i,r)}function Br(t,e,n,r){return QS(X(),Cr(),t,e,n,r)}function YS(t,e,n,r,i){return function XS(t,e,n,r,i,o,s){const a=e+n;return Ma(t,a,i,o)?io(t,a+2,s?r.call(s,i,o):r(i,o)):cf(t,a+2)}(X(),Cr(),t,e,n,r,i)}function cf(t,e){const n=t[e];return n===qe?void 0:n}function QS(t,e,n,r,i,o){const s=e+n;return cr(t,s,i)?io(t,s+1,o?r.call(o,i):r(i)):cf(t,s+1)}function JS(t,e,n,r,i,o,s,a){const c=e+n;return function ag(t,e,n,r,i){const o=Ma(t,e,n,r);return cr(t,e+2,i)||o}(t,c,i,o,s)?io(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):cf(t,c+3)}function Zt(t,e){const n=lt();let r;const i=t+nt;n.firstCreatePass?(r=function dX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ba(r.type)),a=kr(J);try{const c=xp(!1),l=o();return xp(c),function YK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,X(),i,l),l}finally{kr(a)}}function lr(t,e,n){const r=t+nt,i=X(),o=Hc(i,r);return lf(i,r)?QS(i,Cr(),e,o.transform,n,o):o.transform(n)}function bs(t,e,n,r,i){const o=t+nt,s=X(),a=Hc(s,o);return lf(s,o)?JS(s,Cr(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function lf(t,e){return t[Ie].data[e].pure}function gX(){return this._results[Symbol.iterator]()}class Cy{get changes(){return this._changes||(this._changes=new jt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Cy.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=gX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function hi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function sG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function _X(t,e,n,r=!0){const i=e[Ie];if(function YG(t,e,n,r){const i=Gn+r,o=n.length;r>0&&(n[i-1][Di]=e),r<o-Gn?(e[Di]=n[i],$A(n,Gn+r,e)):(n.push(e),e[Di]=null),e[Ut]=n;const s=e[md];null!==s&&n!==s&&function QG(t,e){const n=t[Lc];e[hn]!==e[Ut][Ut][hn]&&(t[$w]=!0),null===n?t[Lc]=[e]:n.push(e)}(s,e);const a=e[Yi];null!==a&&a.insertView(t),e[Ke]|=128}(i,e,t,n),r){const o=av(n,t),s=e[$e],a=Vp(s,t[Qi]);null!==a&&function qG(t,e,n,r,i,o){r[nn]=i,r[sr]=e,Nd(t,r,n,1,i,o)}(i,t[sr],s,e,a,o)}}let Uo=(()=>{class e{}return e.__NG_ELEMENT_ID__=EX,e})();const vX=Uo,yX=class extends vX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function mX(t,e,n,r){const i=e.tView,a=tg(t,i,n,4096&t[Ke]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[md]=t[e.index];const l=t[Yi];return null!==l&&(a[Yi]=l.createEmbeddedView(i)),Jv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new jd(i)}};function EX(){return _g(Wn(),X())}function _g(t,e){return 4&t.type?new yX(e,t,sl(t,e)):null}let Pi=(()=>{class e{}return e.__NG_ELEMENT_ID__=AX,e})();function AX(){return a7(Wn(),X())}const DX=Pi,o7=class extends DX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new br(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ip(this._hostTNode,this._hostLView);if(B_(e)){const n=wd(e,this._hostLView),r=bd(e);return new br(n[Ie].data[r+8],n)}return new br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=s7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Gn}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Dd(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const c=s?e:new $d(ct(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const E=(s?l:this.parentInjector).get(gi,null);E&&(o=E)}ct(c.componentType??{});const h=c.create(l,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function E$(t){return Er(t[Ut])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Ut],u=new o7(l,l[sr],l[Ut]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return _X(a,i,s,!r),e.attachToViewContainerRef(),$A(Iy(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=s7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Fp(this._lContainer,n);r&&(Ap(Iy(this._lContainer),n),rv(r[Ie],r))}detach(e){const n=this._adjustIndex(e,-1),r=Fp(this._lContainer,n);return r&&null!=Ap(Iy(this._lContainer),n)?new jd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function s7(t){return t[8]}function Iy(t){return t[8]||(t[8]=[])}function a7(t,e){let n;const r=e[t.index];return Er(r)?n=r:(n=OD(r,e,null,t),e[t.index]=n,ng(e,n)),c7(n,e,t,r),new o7(n,t,e)}let c7=function l7(t,e,n,r){if(t[Qi])return;let i;i=8&n.type?Rt(r):function TX(t,e){const n=t[$e],r=n.createComment(""),i=Fr(e,t);return Da(n,Vp(n,i),r,function eq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Qi]=i};class by{constructor(e){this.queryList=e,this.matches=null}clone(){return new by(this.queryList)}setDirty(){this.queryList.setDirty()}}class wy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new wy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==m7(e,n).matches&&this.queries[n].setDirty()}}class u7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Ay{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Ay(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Dy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Dy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,RX(n,o)),this.matchTNodeWithReadOption(e,n,bp(n,e,o,!1,!1))}else r===Uo?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,bp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Yn||i===Pi||i===Uo&&4&n.type)this.addMatch(n.index,-2);else{const o=bp(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function RX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function NX(t,e,n,r){return-1===n?function PX(t,e){return 11&t.type?sl(t,e):4&t.type?_g(t,e):null}(e,t):-2===n?function kX(t,e,n){return n===Yn?sl(e,t):n===Uo?_g(e,t):n===Pi?a7(e,t):void 0}(t,e,r):Aa(t,t[Ie],n,e)}function d7(t,e,n,r){const i=e[Yi].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:NX(e,o[l],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function Ty(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=d7(t,e,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=Gn;d<u.length;d++){const f=u[d];f[md]===f[Ut]&&Ty(f[Ie],f,l,r)}if(null!==u[Lc]){const d=u[Lc];for(let f=0;f<d.length;f++){const h=d[f];Ty(h[Ie],h,l,r)}}}}}return r}function Sy(t){const e=X(),n=lt(),r=IA();k_(r+1);const i=m7(n,r);if(t.dirty&&function v$(t){return 4==(4&t[Ke])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ty(n,e,r,[]):d7(n,e,i,r);t.reset(o,rW),t.notifyOnChanges()}return!0}return!1}function f7(t,e,n){const r=lt();r.firstCreatePass&&(function g7(t,e,n){null===t.queries&&(t.queries=new Ay),t.queries.track(new Dy(e,n))}(r,new u7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function p7(t,e,n){const r=new Cy(4==(4&n));(function FW(t,e,n,r){const i=VD(e);i.push(n),t.firstCreatePass&&LD(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Yi]&&(e[Yi]=new wy),e[Yi].queries.push(new by(r))}(r,X(),e)}function m7(t,e){return t.queries.getByIndex(e)}const N7=new Ee("Application Initializer");let Fy=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=W(N7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(Xd(s))r.push(s);else if(_T(s)){const a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),k7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const jo=new Ee("LocaleId",{providedIn:"root",factory:()=>W(jo,ot.Optional|ot.SkipSelf)||function iJ(){return typeof $localize<"u"&&$localize.locale||Cl}()});let Eg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ai(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class aJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let cJ=(()=>{var t;class e{compileModuleSync(r){return new Ey(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Ho(qr(r).declarations).reduce((a,c)=>{const l=ct(c);return l&&a.push(new $d(l)),a},[]);return new aJ(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const L7=new Ee(""),Cg=new Ee("");let zy,By=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zy||(function MJ(t){zy=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(ft),Se(Hy),Se(Cg))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})(),Hy=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return zy?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),ws=null;const B7=new Ee("AllowMultipleToken"),Uy=new Ee("PlatformDestroyListeners"),H7=new Ee("appBootstrapListener");function j7(t,e,n=[]){const r=`Platform: ${e}`,i=new Ee(r);return(o=[])=>{let s=jy();if(!s||s.injector.get(B7,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function NJ(t){if(ws&&!ws.get(B7,!1))throw new te(400,!1);(function z7(){!function o$(t){nA=t}(()=>{throw new te(600,!1)})})(),ws=t;const e=t.get(G7);(function U7(t){t.get(K5,null)?.forEach(n=>n())})(t)}(function $7(t=[],e){return Tn.create({name:e,providers:[{provide:Ev,useValue:"platform"},{provide:Uy,useValue:new Set([()=>ws=null])},...t]})}(a,r))}return function OJ(t){const e=jy();if(!e)throw new te(401,!1);return e}()}}function jy(){return ws?.get(G7)??null}let G7=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function FJ(t="zone.js",e){return"noop"===t?new _W:"zone.js"===t?new ft(e):t}(i?.ngZone,function q7(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function KQ(t,e,n){return new yy(t,e,n)}(r.moduleType,this.injector,function X7(t){return[{provide:ft,useFactory:t},{provide:Fd,multi:!0,useFactory:()=>{const e=W(LJ,{optional:!0});return()=>e.initialize()}},{provide:Q7,useFactory:VJ},{provide:fD,useFactory:hD}]}(()=>o)),a=s.injector.get(Bo,null);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{Ig(this._modules,s),c.unsubscribe()})}),function W7(t,e,n){try{const r=n();return Xd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const c=s.injector.get(Fy);return c.runInitializers(),c.donePromise.then(()=>(function pS(t){li(t,"Expected localeId to be defined"),"string"==typeof t&&(hS=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(jo,Cl)||Cl),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=K7({},i);return function RJ(t,e,n){const r=new Ey(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(ff);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new te(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Uy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Tn))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function K7(t,e){return Array.isArray(e)?e.reduce(K7,t):{...t,...e}}let ff=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=W(Q7),this.zoneIsStable=W(fD),this.componentTypes=[],this.components=[],this.isStable=W(Eg).hasPendingTasks.pipe(ci(r=>r?Le(!1):this.zoneIsStable),Ew(),yw()),this._injector=W(gi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof Z5;if(!this._injector.get(Fy).done)throw!o&&function Nc(t){const e=ct(t)||$n(t)||yr(t);return null!==e&&e.standalone}(r),new te(405,!1);let a;a=o?r:this._injector.get(Bd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function PJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(ka),u=a.create(Tn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(L7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ig(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Ig(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(H7,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ig(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new te(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Ig(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Q7=new Ee("",{providedIn:"root",factory:()=>W(Bo).handleError.bind(void 0)});function VJ(){const t=W(ft),e=W(Bo);return n=>t.runOutsideAngular(()=>e.handleError(n))}let LJ=(()=>{var t;class e{constructor(){this.zone=W(ft),this.applicationRef=W(ff)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let $o=(()=>{class e{}return e.__NG_ELEMENT_ID__=zJ,e})();function zJ(t){return function UJ(t,e,n){if(Ia(t)&&!n){const r=Wr(t.index,e);return new jd(r,r)}return 47&t.type?new jd(e[hn],e):null}(Wn(),X(),16==(16&t))}class tM{constructor(){}supports(e){return sg(e)}create(e){return new KJ(e)}}const WJ=(t,e)=>e;class KJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||WJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<rM(r,i,o)?n:r,a=rM(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!sg(e))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function TK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new YJ(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new nM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class YJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class nM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new QJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class iM{constructor(){}supports(e){return e instanceof Map||Zv(e)}create(){return new XJ}}class XJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Zv(e)))throw new te(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new JJ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class JJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oM(){return new Ag([new tM])}let Ag=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||oM()),deps:[[e,new W_,new yn]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new te(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:oM}),e})();function sM(){return new hf([new iM])}let hf=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||sM()),deps:[[e,new W_,new yn]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new te(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:sM}),e})();const tZ=j7(null,"core",[]);let nZ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(ff))},t.\u0275mod=Vt({type:t}),t.\u0275inj=St({}),e})();let Yy=null;function As(){return Yy}class gZ{}const zr=new Ee("DocumentToken");let gM=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return W(mZ)},providedIn:"platform"}),e})(),mZ=(()=>{var t;class e extends gM{constructor(){super(),this._doc=W(zr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return As().getBaseHref(this._doc)}onPopState(r){const i=As().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=As().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function mM(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function _M(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Fa(t){return t&&"?"!==t[0]?"?"+t:t}let Tg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return W(vZ)},providedIn:"root"}),e})();const _Z=new Ee("appBaseHref");let vZ=(()=>{var t;class e extends Tg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??W(zr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return mM(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Fa(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Fa(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Fa(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(gM),Se(_Z,8))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Qy=(()=>{var t;class e{constructor(r){this._subject=new jt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function xZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(_M(vM(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Fa(i))}normalize(r){return e.stripTrailingSlash(function EZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,vM(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fa(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fa(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Fa,t.joinWithSlash=mM,t.stripTrailingSlash=_M,t.\u0275fac=function(r){return new(r||t)(Se(Tg))},t.\u0275prov=be({token:t,factory:function(){return function yZ(){return new Qy(Se(Tg))}()},providedIn:"root"}),e})();function vM(t){return t.replace(/\/index.html$/,"")}var Sg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Sg||{}),pn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(pn||{});function _i(t,e){const n=wr(t),r=n[Pt.NumberSymbols][e];if(typeof r>"u"){if(e===pn.CurrencyDecimal)return n[Pt.NumberSymbols][pn.Decimal];if(e===pn.CurrencyGroup)return n[Pt.NumberSymbols][pn.Group]}return r}const KZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function i4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function DM(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const s4=/\s+/,TM=[];let a4=(()=>{var t;class e{constructor(r,i,o,s){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=TM,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(s4):TM}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(s4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(s4).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Ag),J(hf),J(Yn),J(no))},t.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class see{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bg=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new see(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),MM(c,o)}});for(let o=0,s=i.length;o<s;o++){const c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{MM(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Pi),J(Uo),J(Ag))},t.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function MM(t,e){t.context.$implicit=e.item}let Ds=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new aee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){RM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){RM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Pi),J(Uo))},t.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class aee{constructor(){this.$implicit=null,this.ngIf=null}}function RM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${An(e)}'.`)}function ki(t,e){return new te(2100,!1)}class uee{createSubscription(e,n){return oA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){oA(()=>e.unsubscribe())}}class dee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const fee=new dee,hee=new uee;let Tl=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Xd(r))return fee;if(_T(r))return hee;throw ki()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(J($o,16))},t.\u0275pipe=kn({name:"async",type:t,pure:!1,standalone:!0}),e})(),NM=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=kM}transform(r,i=kM){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const o=this.differ.diff(r),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(function Aee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(J(hf,16))},t.\u0275pipe=kn({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function kM(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let Sl=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,o){if(!function u4(t){return!(null==t||""===t||t!=t)}(r))return null;o=o||this._locale;try{return function eee(t,e,n){return function n4(t,e,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(t)){let l=function nee(t){let r,i,o,s,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);s&&(l=function tee(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(o){const w=o.match(KZ);if(null===w)throw new Error(`${o} is not a valid digit info`);const $=w[1],K=w[3],fe=w[5];null!=$&&(u=i4($)),null!=K&&(d=i4(K)),null!=fe?f=i4(fe):null!=K&&d>f&&(f=d)}!function ree(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let E=[];for(c=h.every(w=>!w);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?E=h.splice(p,h.length):(E=h,h=[0]);const S=[];for(h.length>=e.lgSize&&S.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)S.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&S.unshift(h.join("")),a=S.join(_i(n,r)),E.length&&(a+=_i(n,i)+E.join("")),g&&(a+=_i(n,pn.Exponential)+"+"+g)}else a=_i(n,pn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function r4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const u=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Xy(t,e){return wr(t)[Pt.NumberFormats][e]}(e,Sg.Decimal),_i(e,pn.MinusSign)),e,pn.Group,pn.Decimal,n)}(function d4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),o,i)}catch(s){throw ki()}}}return(t=e).\u0275fac=function(r){return new(r||t)(J(jo,16))},t.\u0275pipe=kn({name:"number",type:t,pure:!0,standalone:!0}),e})();let See=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=St({}),e})();const Mee="server";function f4(t){return t===Mee}class FM{}class nte extends gZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class g4 extends nte{static makeCurrent(){!function pZ(t){Yy||(Yy=t)}(new g4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function rte(){return _f=_f||document.querySelector("base"),_f?_f.getAttribute("href"):null}();return null==n?null:function ite(t){Ug=Ug||document.createElement("a"),Ug.setAttribute("href",t);const e=Ug.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){_f=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return DM(document.cookie,e)}}let Ug,_f=null,ste=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const m4=new Ee("EventManagerPlugins");let zM=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new te(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(m4),Se(ft))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class UM{constructor(e){this._doc=e}}const _4="ng-app-id";let jM=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=f4(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${_4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(_4),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(_4,this.appId),a}}addStyleToHost(r,i){const o=this.getStyleElement(r,i);r.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(zr),Se(Wp),Se(Y5,8),Se(to))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const v4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},y4=/%COMP%/g,ute=new Ee("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function GM(t,e){return e.map(n=>n.replace(y4,t))}let qM=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=f4(c),this.defaultRenderer=new E4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===wi.ShadowDom&&(i={...i,encapsulation:wi.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof KM?o.applyToHost(r):o instanceof x4&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case wi.Emulated:s=new KM(l,u,i,this.appId,d,a,c,f);break;case wi.ShadowDom:return new pte(l,u,r,i,a,c,this.nonce,f);default:s=new x4(l,u,i,d,a,c,f)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(zM),Se(jM),Se(Wp),Se(ute),Se(zr),Se(to),Se(ft),Se(Y5))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class E4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(v4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(WM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(WM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new te(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=v4[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=v4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(xs.DashCase|xs.Important)?e.style.setProperty(n,r,i&xs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&xs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=As().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function WM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class pte extends E4{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=GM(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class x4 extends E4{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?GM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class KM extends x4{constructor(e,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=function dte(t){return"_ngcontent-%COMP%".replace(y4,t)}(l),this.hostAttr=function fte(t){return"_nghost-%COMP%".replace(y4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let gte=(()=>{var t;class e extends UM{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(zr))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const YM=["alt","control","meta","shift"],mte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_te={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vte=(()=>{var t;class e extends UM{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>As().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),YM.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=mte[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),YM.forEach(a=>{a!==o&&(0,_te[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(zr))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const XM=[{provide:to,useValue:"browser"},{provide:K5,useValue:function yte(){g4.makeCurrent()},multi:!0},{provide:zr,useFactory:function xte(){return function cq(t){uv=t}(document),document},deps:[]}],Cte=j7(tZ,"browser",XM),Ite=new Ee(""),JM=[{provide:Cg,useClass:class ote{addToWindow(e){Mt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new te(5103,!1);return o},Mt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Mt.getAllAngularRootElements=()=>e.getAllRootElements(),Mt.frameworkStabilizers||(Mt.frameworkStabilizers=[]),Mt.frameworkStabilizers.push(r=>{const i=Mt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?As().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:L7,useClass:By,deps:[ft,Hy,Cg]},{provide:By,useClass:By,deps:[ft,Hy,Cg]}],ZM=[{provide:Ev,useValue:"root"},{provide:Bo,useFactory:function Ete(){return new Bo},deps:[]},{provide:m4,useClass:gte,multi:!0,deps:[zr,ft,to]},{provide:m4,useClass:vte,multi:!0,deps:[zr]},qM,jM,zM,{provide:tD,useExisting:qM},{provide:FM,useClass:ste,deps:[]},[]];let Oi=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Wp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Ite,12))},t.\u0275mod=Vt({type:t}),t.\u0275inj=St({providers:[...ZM,...JM],imports:[See,nZ]}),e})(),C4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(zr))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function wte(){return new C4(Se(zr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let n9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new(r||t):Se(r9),i},providedIn:"root"}),e})(),r9=(()=>{var t;class e extends n9{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case pi.NONE:return i;case pi.HTML:return eo(i,"HTML")?Yr(i):V5(this._doc,String(i)).toString();case pi.STYLE:return eo(i,"Style")?Yr(i):i;case pi.SCRIPT:if(eo(i,"Script"))return Yr(i);throw new te(5200,!1);case pi.URL:return eo(i,"URL")?Yr(i):Up(String(i));case pi.RESOURCE_URL:if(eo(i,"ResourceURL"))return Yr(i);throw new te(5201,!1);default:throw new te(5202,!1)}}bypassSecurityTrustHtml(r){return function gq(t){return new lq(t)}(r)}bypassSecurityTrustStyle(r){return function mq(t){return new uq(t)}(r)}bypassSecurityTrustScript(r){return function _q(t){return new dq(t)}(r)}bypassSecurityTrustUrl(r){return function vq(t){return new fq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function yq(t){return new hq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(zr))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function Ste(t){return new r9(t.get(zr))}(Se(Tn)),i},providedIn:"root"}),e})();function vf(t){return(vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function mt(t,e,n){return(e=function Rte(t){var e=function Mte(t,e){if("object"!==vf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vf(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o9(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function x(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){o9(o,r,i,s,a,"next",c)}function a(c){o9(o,r,i,s,a,"throw",c)}s(void 0)})}}const s9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},w4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new Ote;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ote extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jg=function(t){return function(t){const e=s9(t);return w4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},$g=function(t){try{return w4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gg=()=>{try{return c9().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$g(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},l9=t=>{var e,n;return null===(n=null===(e=Gg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},u9=()=>{var t;return null===(t=Gg())||void 0===t?void 0:t.config},d9=t=>{var e;return null===(e=Gg())||void 0===e?void 0:e[`_${t}`]};class Ml{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function On(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function A4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function yf(){try{return"object"==typeof indexedDB}catch{return!1}}function D4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function f9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ss.prototype.create)}}class Ss{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Kte(t,e){return t.replace(Yte,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Fi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Yte=/\{\$([^}]+)}/g;function Ef(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(p9(o)&&p9(s)){if(!Ef(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function p9(t){return null!==t&&"object"==typeof t}function xf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function If(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Jte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Zte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=T4),void 0===i.error&&(i.error=T4),void 0===i.complete&&(i.complete=T4);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T4(){}const ene=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},tne=1e3,nne=2,rne=144e5,ine=.5;function M4(t,e=tne,n=nne){const r=e*Math.pow(n,t),i=Math.round(ine*r*(Math.random()-.5)*2);return Math.min(rne,r+i)}function on(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Va="[DEFAULT]";class sne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ml;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function cne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return x(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Va?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const R4=[];var at=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(at||{});const g9={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},une=at.INFO,dne={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},fne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=dne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class bf{constructor(e){this.name=e,this._logLevel=une,this._logHandler=fne,this._userLogHandler=null,R4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?g9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const hne=(t,e)=>e.some(n=>t instanceof n);let m9,_9;const v9=new WeakMap,P4=new WeakMap,y9=new WeakMap,N4=new WeakMap,k4=new WeakMap;let O4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return P4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||y9.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ene(t){return"function"==typeof t?function yne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gne(){return _9||(_9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(F4(this),e),Ms(v9.get(this))}:function(...e){return Ms(t.apply(F4(this),e))}:function(e,...n){const r=t.call(F4(this),e,...n);return y9.set(r,e.sort?e.sort():[e]),Ms(r)}}(t):(t instanceof IDBTransaction&&function _ne(t){if(P4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});P4.set(t,e)}(t),hne(t,function pne(){return m9||(m9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,O4):t)}function Ms(t){if(t instanceof IDBRequest)return function mne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ms(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&v9.set(n,t)}).catch(()=>{}),k4.set(e,t),e}(t);if(N4.has(t))return N4.get(t);const e=Ene(t);return e!==t&&(N4.set(t,e),k4.set(e,t)),e}const F4=t=>k4.get(t),Cne=["get","getKey","getAll","getAllKeys","count"],Ine=["put","add","delete","clear"],V4=new Map;function E9(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(V4.get(e))return V4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ine.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Cne.includes(n))return;const o=function(){var s=x(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return V4.set(e,o),o}!function vne(t){O4=t(O4)}(t=>({...t,get:(e,n,r)=>E9(e,n)||t.get(e,n,r),has:(e,n)=>!!E9(e,n)||t.has(e,n)}));class bne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function wne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const L4="@firebase/app",La=new bf("@firebase/app"),Wg="[DEFAULT]",Xne={[L4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ba=new Map,Kg=new Map;function Jne(t,e){try{t.container.addComponent(e)}catch(n){La.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yi(t){const e=t.name;if(Kg.has(e))return La.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,t);for(const n of Ba.values())Jne(n,t);return!0}function ao(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Wo=new Ss("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ere{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}const Rl="10.5.2";function C9(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Wg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Wo.create("bad-app-name",{appName:String(i)});if(n||(n=u9()),!n)throw Wo.create("no-options");const o=Ba.get(i);if(o){if(Ef(n,o.options)&&Ef(r,o.config))return o;throw Wo.create("duplicate-app",{appName:i})}const s=new lne(i);for(const c of Kg.values())s.addComponent(c);const a=new ere(n,r,s);return Ba.set(i,a),a}function Pl(t=Wg){const e=Ba.get(t);if(!e&&t===Wg&&u9())return C9();if(!e)throw Wo.create("no-app",{appName:t});return e}function I9(){return Array.from(Ba.values())}function sn(t,e,n){var r;let i=null!==(r=Xne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void La.warn(a.join(" "))}yi(new Jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const tre="firebase-heartbeat-database",nre=1,wf="firebase-heartbeat-store";let H4=null;function b9(){return H4||(H4=function xne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ms(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ms(s.result),c.oldVersion,c.newVersion,Ms(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(tre,nre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(wf)}}).catch(t=>{throw Wo.create("idb-open",{originalErrorMessage:t.message})})),H4}function z4(){return(z4=x(function*(t){try{return yield(yield b9()).transaction(wf).objectStore(wf).get(A9(t))}catch(e){if(e instanceof Fi)La.warn(e.message);else{const n=Wo.create("idb-get",{originalErrorMessage:e?.message});La.warn(n.message)}}})).apply(this,arguments)}function w9(t,e){return U4.apply(this,arguments)}function U4(){return(U4=x(function*(t,e){try{const r=(yield b9()).transaction(wf,"readwrite");yield r.objectStore(wf).put(e,A9(t)),yield r.done}catch(n){if(n instanceof Fi)La.warn(n.message);else{const r=Wo.create("idb-set",{originalErrorMessage:n?.message});La.warn(r.message)}}})).apply(this,arguments)}function A9(t){return`${t.name}!${t.options.appId}`}class sre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return x(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=D9();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return x(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=D9(),{heartbeatsToSend:r,unsentEntries:i}=function are(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),T9(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),T9(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=jg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function D9(){return(new Date).toISOString().substring(0,10)}class cre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(function*(){return!!yf()&&D4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return x(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function rre(t){return z4.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return x(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return w9(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return x(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return w9(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function T9(t){return jg(JSON.stringify({version:2,heartbeats:t})).length}!function lre(t){yi(new Jr("platform-logger",e=>new bne(e),"PRIVATE")),yi(new Jr("heartbeat",e=>new sre(e),"PRIVATE")),sn(L4,"0.9.22",t),sn(L4,"0.9.22","esm2017"),sn("fire-js","")}(""),sn("firebase","10.5.2","app");class fre extends Y{constructor(e,n){super()}schedule(e,n=0){return this}}const Yg={setInterval(t,e,...n){const{delegate:r}=Yg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Yg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class S9 extends fre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Yg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Yg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,z(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const M9={now:()=>(M9.delegate||Date).now(),delegate:void 0};class Af{constructor(e,n=Af.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Af.now=M9.now;class R9 extends Af{constructor(e,n=Af.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const gre=new class pre extends R9{}(class hre extends S9{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),mre=new R9(S9);function Qn(t,e,n){const r=M(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ve((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(tt(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ve}const Rs=new al("ANGULARFIRE2_VERSION");function Qg(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Xg=(t,e)=>{const n=e?[e]:I9(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class j4{constructor(){return Xg(P9)}}const P9="app-check";function Nl(){}class N9{constructor(e,n=gre){mt(this,"zone",void 0),mt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class vre{constructor(e){mt(this,"zone",void 0),mt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nl,{},Nl,Nl)),n.pipe(Qn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Df=(()=>{var t;class e{constructor(r){mt(this,"ngZone",void 0),mt(this,"outsideAngular",void 0),mt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new N9(Zone.current)),this.insideAngular=r.run(()=>new N9(Zone.current,mre)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)(Se(ft))}),mt(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function kl(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ha(t){return kl().ngZone.run(()=>t())}function Ere(t){return function xre(t){return function(n){return(n=n.lift(new vre(t.ngZone))).pipe(tp(t.outsideAngular),ep(t.insideAngular))}}(kl())(t)}const Cre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ha(()=>t.apply(void 0,r))},an=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Ha(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nl,{},Nl,Nl))),r[o]=Cre(r[o],n));const i=function yre(t){return kl().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof de){const o=kl();return i.pipe(tp(o.outsideAngular),ep(o.insideAngular))}return Ha(()=>i)}return i instanceof de?i.pipe(Ere):i instanceof Promise?Ha(()=>new Promise((o,s)=>i.then(a=>Ha(()=>o(a)),a=>Ha(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ha(()=>i)};class za{constructor(e){return e}}class Tf{constructor(){return I9()}}const $4=new Ee("angularfire2._apps"),bre={provide:za,useFactory:function Ire(t){return t&&1===t.length?t[0]:new za(Pl())},deps:[[new yn,$4]]},wre={provide:Tf,deps:[[new yn,$4]]};function Are(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new za(r)}}let Dre=(()=>{var t;class e{constructor(r){sn("angularfire",Rs.full,"core"),sn("angularfire",Rs.full,"app"),sn("angular",nD.full,r.toString())}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)(Se(to))}),mt(e,"\u0275mod",Vt({type:t})),mt(e,"\u0275inj",St({providers:[bre,wre]})),e})();function Ps(t,...e){return{ngModule:Dre,providers:[{provide:$4,useFactory:Are(t),multi:!0,deps:[ft,Tn,Df,...e]}]}}const Ns=an(Pl,!0),ks=an(C9,!0);const Tre=function k9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},O9=new Ss("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jg=new bf("@firebase/auth");function Zg(t,...e){Jg.logLevel<=at.ERROR&&Jg.error(`Auth (${Rl}): ${t}`,...e)}function Ur(t,...e){throw G4(t,...e)}function Zr(t,...e){return G4(t,...e)}function F9(t,e,n){const r=Object.assign(Object.assign({},Tre()),{[e]:n});return new Ss("auth","Firebase",r).create(e,{appName:t.name})}function G4(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return O9.create(t,...e)}function pe(t,e,...n){if(!t)throw G4(e,...n)}function co(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zg(e),new Error(e)}function Ko(t,e){t||co(e)}function Sf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function V9(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ko(n>e,"Short delay should be less than long delay!"),this.isMobile=function jte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}()||function Gte(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Mre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function q4(){return"http:"===V9()||"https:"===V9()}()||A4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function W4(t,e){Ko(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class L9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void co("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void co("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void co("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nre=new Mf(3e4,6e4);function qt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function en(t,e,n,r){return K4.apply(this,arguments)}function K4(){return(K4=x(function*(t,e,n,r,i={}){return B9(t,i,x(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=xf(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),L9.fetch()(H9(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function B9(t,e,n){return Y4.apply(this,arguments)}function Y4(){return(Y4=x(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pre),e);try{const i=new Ore(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Rf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Rf(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Rf(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw Rf(t,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw F9(t,u,l);Ur(t,u)}}catch(i){if(i instanceof Fi)throw i;Ur(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Yo(t,e,n,r){return Q4.apply(this,arguments)}function Q4(){return(Q4=x(function*(t,e,n,r,i={}){const o=yield en(t,e,n,r,i);return"mfaPendingCredential"in o&&Ur(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function H9(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?W4(t.config,i):`${t.config.apiScheme}://${i}`}function kre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ore{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),Nre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zr(t,e,r);return i.customData._tokenResponse=n,i}function U9(t){return void 0!==t&&void 0!==t.enterprise}class j9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function $9(t,e){return J4.apply(this,arguments)}function J4(){return(J4=x(function*(t,e){return en(t,"GET","/v2/recaptchaConfig",qt(t,e))})).apply(this,arguments)}function Z4(){return(Z4=x(function*(t,e){return en(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function t6(){return(t6=x(function*(t,e){return en(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Pf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function n6(){return(n6=x(function*(t,e=!1){const n=on(t),r=yield n.getIdToken(e),i=e1(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Pf(r6(i.auth_time)),issuedAtTime:Pf(r6(i.iat)),expirationTime:Pf(r6(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function r6(t){return 1e3*Number(t)}function e1(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Zg("JWT malformed, contained fewer than 3 sections"),null;try{const i=$g(n);return i?JSON.parse(i):(Zg("Failed to decode base64 JWT payload"),null)}catch(i){return Zg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Qo(t,e){return i6.apply(this,arguments)}function i6(){return(i6=x(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Fi&&function Ure({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class jre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(x(function*(){yield n.iteration()}),r)}iteration(){var e=this;return x(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class G9{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pf(this.lastLoginAt),this.creationTime=Pf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nf(t){return o6.apply(this,arguments)}function o6(){return o6=x(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Qo(t,function Bre(t,e){return t6.apply(this,arguments)}(n,{idToken:r}));pe(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function qre(t){return t.map(e=>{var{providerId:n}=e,r=rr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Gre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),u=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new G9(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),o6.apply(this,arguments)}function s6(){return(s6=x(function*(t){const e=on(t);yield Nf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function a6(){return(a6=x(function*(t,e){const n=yield B9(t,{},x(function*(){const r=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=H9(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",L9.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class kf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function zre(t){const e=e1(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return x(function*(){return pe(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return x(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Wre(t,e){return a6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new kf;return r&&(pe("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(pe("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(pe("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kf,this.toJSON())}_performRefresh(){return co("not implemented")}}function Os(t,e){pe("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ua{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=rr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new G9(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return x(function*(){const r=yield Qo(n,n.stsTokenManager.getToken(n.auth,e));return pe(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Hre(t){return n6.apply(this,arguments)}(this,e)}reload(){return function $re(t){return s6.apply(this,arguments)}(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ua(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return x(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Nf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return x(function*(){const n=yield e.getIdToken();return yield Qo(e,function Vre(t,e){return Z4.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,S=null!==(l=n.createdAt)&&void 0!==l?l:void 0,w=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:$,emailVerified:K,isAnonymous:fe,providerData:Pe,stsTokenManager:Ye}=n;pe($&&Ye,e,"internal-error");const Qt=kf.fromJSON(this.name,Ye);pe("string"==typeof $,e,"internal-error"),Os(d,e.name),Os(f,e.name),pe("boolean"==typeof K,e,"internal-error"),pe("boolean"==typeof fe,e,"internal-error"),Os(h,e.name),Os(p,e.name),Os(g,e.name),Os(E,e.name),Os(S,e.name),Os(w,e.name);const Nn=new Ua({uid:$,auth:e,email:f,emailVerified:K,displayName:d,isAnonymous:fe,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:Qt,createdAt:S,lastLoginAt:w});return Pe&&Array.isArray(Pe)&&(Nn.providerData=Pe.map(va=>Object.assign({},va))),E&&(Nn._redirectEventId=E),Nn}static _fromIdTokenResponse(e,n,r=!1){return x(function*(){const i=new kf;i.updateFromServerResponse(n);const o=new Ua({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nf(o),o})()}}const q9=new Map;function Xo(t){Ko(t instanceof Function,"Expected a class definition");let e=q9.get(t);return e?(Ko(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q9.set(t,e),e)}const W9=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return x(function*(){return!0})()}_set(n,r){var i=this;return x(function*(){i.storage[n]=r})()}_get(n){var r=this;return x(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return x(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function t1(t,e,n){return`firebase:${t}:${e}:${n}`}class Fl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=t1(this.userKey,i.apiKey,o),this.fullPersistenceKey=t1("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return x(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ua._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return x(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return x(function*(){if(!n.length)return new Fl(Xo(W9),e,r);const i=(yield Promise.all(n.map(function(){var l=x(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||Xo(W9);const s=t1(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(s);if(u){const d=Ua._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=x(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Fl(o,e,r)):new Fl(o,e,r)})()}}function K9(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z9(e))return"Blackberry";if(eR(e))return"Webos";if(c6(e))return"Safari";if((e.includes("chrome/")||Q9(e))&&!e.includes("edge/"))return"Chrome";if(J9(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Y9(t=On()){return/firefox\//i.test(t)}function c6(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q9(t=On()){return/crios\//i.test(t)}function X9(t=On()){return/iemobile/i.test(t)}function J9(t=On()){return/android/i.test(t)}function Z9(t=On()){return/blackberry/i.test(t)}function eR(t=On()){return/webos/i.test(t)}function n1(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tR(t=On()){return n1(t)||J9(t)||eR(t)||Z9(t)||/windows phone/i.test(t)||X9(t)}function nR(t,e=[]){let n;switch(t){case"Browser":n=K9(On());break;case"Worker":n=`${K9(On())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rl}/${r}`}class Xre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return x(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function l6(){return(l6=x(function*(t,e={}){return en(t,"GET","/v2/passwordPolicy",qt(t,e))})).apply(this,arguments)}class eie{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class tie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rR(this),this.idTokenSubscription=new rR(this),this.beforeStateQueue=new Xre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Xo(n)),this._initializationPromise=this.queue(x(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Fl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return x(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return x(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return pe(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return x(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return x(function*(){try{yield Nf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Rre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return x(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return x(function*(){const r=e?on(e):null;return r&&pe(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return x(function*(){if(!r._deleted)return e&&pe(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(x(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return x(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(x(function*(){yield n.assertedPersistence.setPersistence(Xo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return x(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return x(function*(){const n=yield function Jre(t){return l6.apply(this,arguments)}(e),r=new eie(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ss("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return x(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return x(function*(){if(!n.redirectPersistenceManager){const r=e&&Xo(e)||n._popupRedirectResolver;pe(r,n,"argument-error"),n.redirectPersistenceManager=yield Fl.create(n,[Xo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return x(function*(){var r,i;return n._isInitialized&&(yield n.queue(x(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return x(function*(){if(e===n.currentUser)return n.queue(x(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return x(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return x(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return x(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Sre(t,...e){Jg.logLevel<=at.WARN&&Jg.warn(`Auth (${Rl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function xn(t){return on(t)}class rR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Xte(t,e){const n=new Jte(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function u6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Zr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function nie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function iR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class oR{constructor(e){this.type="recaptcha-enterprise",this.auth=xn(e)}verify(e="verify",n=!1){var r=this;return x(function*(){function o(){return o=x(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=x(function*(l,u){$9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new j9(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;U9(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(l=>{if(!n&&U9(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));u6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function sR(t,e,n){return d6.apply(this,arguments)}function d6(){return(d6=x(function*(t,e,n,r=!1){const i=new oR(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function f6(){return f6=x(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield sR(t,e,n,"getOobCode"===n);return r(t,o)}return r(t,e).catch(function(){var o=x(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield sR(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),f6.apply(this,arguments)}function aR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class p6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return co("not implemented")}_getIdTokenResponse(e){return co("not implemented")}_linkToIdToken(e,n){return co("not implemented")}_getReauthenticationResolver(e){return co("not implemented")}}function uR(t,e){return m6.apply(this,arguments)}function m6(){return(m6=x(function*(t,e){return en(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function hie(t,e){return v6.apply(this,arguments)}function v6(){return(v6=x(function*(t,e){return Yo(t,"POST","/v1/accounts:signInWithPassword",qt(t,e))})).apply(this,arguments)}function b6(){return(b6=x(function*(t,e){return Yo(t,"POST","/v1/accounts:signInWithEmailLink",qt(t,e))})).apply(this,arguments)}function w6(){return(w6=x(function*(t,e){return Yo(t,"POST","/v1/accounts:signInWithEmailLink",qt(t,e))})).apply(this,arguments)}class Of extends p6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Of(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Of(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return x(function*(){switch(n.signInMethod){case"password":return function r1(t,e,n,r){return f6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",hie);case"emailLink":return function vie(t,e){return b6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Ur(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return x(function*(){switch(r.signInMethod){case"password":return uR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function yie(t,e){return w6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Ur(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Jo(t,e){return A6.apply(this,arguments)}function A6(){return(A6=x(function*(t,e){return Yo(t,"POST","/v1/accounts:signInWithIdp",qt(t,e))})).apply(this,arguments)}class Vl extends p6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=rr(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Vl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return Jo(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Jo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Jo(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xf(n)}return e}}class Vf{constructor(e){var n,r,i,o,s,a;const c=Cf(If(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Aie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);pe(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Die(t){const e=Cf(If(t)).link,n=e?Cf(If(e)).deep_link_id:null,r=Cf(If(t)).deep_link_id;return(r?Cf(If(r)).link:null)||r||n||e||t}(e);try{return new Vf(n)}catch{return null}}}let dR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Of._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Vf.parseLink(r);return pe(i,"argument-error"),Of._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Fs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fR extends Fs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Tie=(()=>{class t extends fR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Vl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return x(function*(){const o=yield Ua._fromIdTokenResponse(e,r,i),s=pR(r);return new Ei({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return x(function*(){yield e._updateTokensIfNecessary(r,!0);const i=pR(r);return new Ei({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function pR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class s1 extends Fi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,s1.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new s1(e,n,r,i)}}function gR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?s1._fromErrorAndOperation(t,o,e,r):o})}function F6(){return(F6=x(function*(t,e,n=!1){const r=yield Qo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ei._forOperation(t,"link",r)})).apply(this,arguments)}function L6(){return(L6=x(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Qo(t,gR(r,i,e,t),n);pe(o.idToken,r,"internal-error");const s=e1(o.idToken);pe(s,r,"internal-error");const{sub:a}=s;return pe(t.uid===a,r,"user-mismatch"),Ei._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Ur(r,"user-mismatch"),o}})).apply(this,arguments)}function vR(t,e){return B6.apply(this,arguments)}function B6(){return(B6=x(function*(t,e,n=!1){const r="signIn",i=yield gR(t,r,e),o=yield Ei._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function z6(){return(z6=x(function*(t,e){return vR(xn(t),e)})).apply(this,arguments)}function Q6(){return(Q6=x(function*(t){const e=xn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Oie(t,e,n){return function H6(t,e){return z6.apply(this,arguments)}(on(t),dR.credential(e,n)).catch(function(){var r=x(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function Y6(t){return Q6.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const l1="__sak";class ER{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(l1,"1"),this.storage.removeItem(l1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zie=(()=>{class t extends ER{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qie(){const t=On();return c6(t)||n1(t)}()&&function Qre(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=tR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function Yre(){return function qte(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return x(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return x(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return x(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),xR=(()=>{class t extends ER{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let toe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return x(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=x(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function eoe(t){return Promise.all(t.map(function(){var e=x(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function u1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class noe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return x(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=u1("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Cn(){return window}function v3(){return typeof Cn().WorkerGlobalScope<"u"&&"function"==typeof Cn().importScripts}function y3(){return(y3=x(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const CR="firebaseLocalStorageDb",d1="firebaseLocalStorage",IR="fbase_key";class Bf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function f1(t,e){return t.transaction([d1],e?"readwrite":"readonly").objectStore(d1)}function E3(){const t=indexedDB.open(CR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(d1,{keyPath:IR})}catch(i){n(i)}}),t.addEventListener("success",x(function*(){const r=t.result;r.objectStoreNames.contains(d1)?e(r):(r.close(),yield function coe(){const t=indexedDB.deleteDatabase(CR);return new Bf(t).toPromise()}(),e(yield E3()))}))})}function bR(t,e,n){return x3.apply(this,arguments)}function x3(){return(x3=x(function*(t,e,n){const r=f1(t,!0).put({[IR]:e,value:n});return new Bf(r).toPromise()})).apply(this,arguments)}function C3(){return(C3=x(function*(t,e){const n=f1(t,!1).get(e),r=yield new Bf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function wR(t,e){const n=f1(t,!0).delete(e);return new Bf(n).toPromise()}const foe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return x(function*(){return n.db||(n.db=yield E3()),n.db})()}_withRetries(n){var r=this;return x(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return x(function*(){return v3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return x(function*(){n.receiver=toe._getInstance(function soe(){return v3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=x(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=x(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return x(function*(){var r,i;if(n.activeServiceWorker=yield function ioe(){return y3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new noe(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return x(function*(){if(r.sender&&r.activeServiceWorker&&function ooe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return x(function*(){try{if(!indexedDB)return!1;const n=yield E3();return yield bR(n,l1,"1"),yield wR(n,l1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return x(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return x(function*(){return i._withPendingWrite(x(function*(){return yield i._withRetries(o=>bR(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return x(function*(){const i=yield r._withRetries(o=>function loe(t,e){return C3.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return x(function*(){return r._withPendingWrite(x(function*(){return yield r._withRetries(i=>wR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return x(function*(){const r=yield n._withRetries(s=>{const a=f1(s,!1).getAll();return new Bf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(x(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function $a(t,e){return e?Xo(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}iR("rcb"),new Mf(3e4,6e4);class R3 extends p6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Toe(t){return vR(t.auth,new R3(t),t.bypassAuthState)}function Soe(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),function _R(t,e){return L6.apply(this,arguments)}(n,new R3(t),t.bypassAuthState)}function Moe(t){return P3.apply(this,arguments)}function P3(){return(P3=x(function*(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),function O6(t,e){return F6.apply(this,arguments)}(n,new R3(t),t.bypassAuthState)})).apply(this,arguments)}class DR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=x(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return x(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Toe;case"linkViaPopup":case"linkViaRedirect":return Moe;case"reauthViaPopup":case"reauthViaRedirect":return Soe;default:Ur(this.auth,"internal-error")}}resolve(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Roe=new Mf(2e3,1e4);function Poe(t,e,n){return N3.apply(this,arguments)}function N3(){return(N3=x(function*(t,e,n){const r=xn(t);!function Ol(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Ur(t,"argument-error"),F9(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Fs);const i=$a(r,n);return new F3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let F3=(()=>{class t extends DR{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return x(function*(){const r=yield n.execute();return pe(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return x(function*(){Ko(1===n.filter.length,"Popup operations only handle one event");const r=u1();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Zr(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Roe.get())};n()}}return t.currentPopupAction=null,t})();const Noe="pendingRedirect",Hf=new Map;class koe extends DR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return x(function*(){let r=Hf.get(n.auth._key());if(!r){try{const o=(yield function Ooe(t,e){return V3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Hf.set(n.auth._key(),r)}return n.bypassAuthState||Hf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return x(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return x(function*(){})()}cleanUp(){}}function V3(){return(V3=x(function*(t,e){const n=function SR(t){return t1(Noe,t.config.apiKey,t.name)}(e),r=function TR(t){return Xo(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Foe(t,e){Hf.set(t._key(),e)}function MR(t,e){return $3.apply(this,arguments)}function $3(){return($3=x(function*(t,e,n=!1){const r=xn(t),i=$a(r,e),s=yield new koe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class zoe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Uoe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NR(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NR(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(PR(e))}saveEventToCache(e){this.cachedEventUids.add(PR(e)),this.lastProcessedEventTime=Date.now()}}function PR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NR({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function q3(){return(q3=x(function*(t,e={}){return en(t,"GET","/v1/projects",e)})).apply(this,arguments)}const $oe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Goe=/^https?/;function W3(){return W3=x(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function joe(t){return q3.apply(this,arguments)}(t);for(const n of e)try{if(Woe(n))return}catch{}Ur(t,"unauthorized-domain")}),W3.apply(this,arguments)}function Woe(t){const e=Sf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Goe.test(n))return!1;if($oe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Koe=new Mf(3e4,6e4);function kR(){const t=Cn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let p1=null;const Xoe=new Mf(5e3,15e3),Joe="__/auth/iframe",Zoe="emulator/auth/iframe",ese={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nse(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?W4(e,Zoe):`https://${t.config.authDomain}/${Joe}`,r={apiKey:e.apiKey,appName:t.name,v:Rl},i=tse.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${xf(r).slice(1)}`}function K3(){return K3=x(function*(t){const e=yield function Qoe(t){return p1=p1||function Yoe(t){return new Promise((e,n)=>{var r,i,o;function s(){kR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kR(),n(Zr(t,"network-request-failed"))},timeout:Koe.get()})}if(null!==(i=null===(r=Cn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Cn().gapi)||void 0===o||!o.load){const a=iR("iframefcb");return Cn()[a]=()=>{gapi.load?s():n(Zr(t,"network-request-failed"))},u6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}s()}}).catch(e=>{throw p1=null,e})}(t),p1}(t),n=Cn().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:nse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ese,dontclear:!0},r=>new Promise(function(){var i=x(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Zr(t,"network-request-failed"),c=Cn().setTimeout(()=>{s(a)},Xoe.get());function l(){Cn().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),K3.apply(this,arguments)}const ise={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class OR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const dse="__/auth/handler",fse="emulator/auth/handler",hse=encodeURIComponent("fac");function FR(t,e,n,r,i,o){return Y3.apply(this,arguments)}function Y3(){return(Y3=x(function*(t,e,n,r,i,o){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rl,eventId:i};if(e instanceof Fs){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function Qte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof fR){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${hse}=${encodeURIComponent(c)}`:"";return`${function pse({config:t}){return t.emulator?W4(t,fse):`https://${t.authDomain}/${dse}`}(t)}?${xf(a).slice(1)}${l}`})).apply(this,arguments)}const Q3="webStorageSupport",mse=class gse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xR,this._completeRedirectFn=MR,this._overrideRedirectResult=Foe}_openPopup(e,n,r,i){var o=this;return x(function*(){var s;Ko(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield FR(e,n,r,Sf(),i);return function lse(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},ise),{width:r.toString(),height:i.toString(),top:o,left:s}),l=On().toLowerCase();n&&(a=Q9(l)?"_blank":n),Y9(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function Kre(t=On()){var e;return n1(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function use(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new OR(null);const d=window.open(e||"",a,u);pe(d,t,"popup-blocked");try{d.focus()}catch{}return new OR(d)}(e,a,u1())})()}_openRedirect(e,n,r,i){var o=this;return x(function*(){return yield o._originValidation(e),function roe(t){Cn().location.href=t}(yield FR(e,n,r,Sf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ko(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return x(function*(){const r=yield function rse(t){return K3.apply(this,arguments)}(e),i=new zoe(e);return r.register("authEvent",o=>(pe(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Q3,{type:Q3},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[Q3];void 0!==s&&n(!!s),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function qoe(t){return W3.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tR()||c6()||n1()}};var BR="@firebase/auth";class _se{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return x(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xse=d9("authIdTokenMaxAge")||300;let zR=null;const Cse=t=>function(){var e=x(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>xse)return;const o=r?.token;zR!==o&&(zR=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Ise(t=Pl()){const e=ao(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function aie(t,e){const n=ao(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Ef(n.getOptions(),e??{}))return i;Ur(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:mse,persistence:[foe,Zie,xR]}),r=d9("authTokenSyncURL");if(r){const o=Cse(r);(function $ie(t,e,n){on(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function jie(t,e,n,r){on(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=l9("auth");return i&&function lie(t,e,n){const r=xn(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=aR(e),{host:s,port:a}=function uie(t){const e=aR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:cR(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:cR(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function die(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function bse(t){return new de(function(e){var n=function Gie(t,e,n,r){return on(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function yse(t){yi(new Jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;pe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nR(t)},l=new tie(r,i,o,c);return function cie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yi(new Jr("auth-internal",e=>{const n=xn(e.getProvider("auth").getImmediate());return new _se(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(BR,"1.3.2",function vse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),sn(BR,"1.3.2","esm2017")}("Browser");class zf{constructor(e){return e}}class jR{constructor(){return Xg("auth")}}const J3=new Ee("angularfire2.auth-instances");function Dse(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new zf(r)}}const Tse={provide:jR,deps:[[new yn,J3]]},Sse={provide:zf,useFactory:function Ase(t,e){const n=Qg("auth",t,e);return n&&new zf(n)},deps:[[new yn,J3],za]};let Mse=(()=>{var t;class e{constructor(){sn("angularfire",Rs.full,"auth")}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)}),mt(e,"\u0275mod",Vt({type:t})),mt(e,"\u0275inj",St({providers:[Sse,Tse]})),e})();function Ga(t,...e){return{ngModule:Mse,providers:[{provide:J3,useFactory:Dse(t),multi:!0,deps:[ft,Tn,Df,Tf,[new yn,j4],...e]}]}}const $R=an(bse,!0),qa=an(Ise,!0),Rse=an(Oie,!0),Pse=an(Poe,!0);var xe,Nse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vi={},Z3=Z3||{},Ge=Nse||self;function m1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Uf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var eE="closure_uid_"+(1e9*Math.random()>>>0),Ose=0;function Fse(t,e,n){return t.call.apply(t.bind,arguments)}function Vse(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ur(t,e,n){return(ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fse:Vse).apply(null,arguments)}function _1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Fn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Vs(){this.s=this.s,this.o=this.o}Vs.prototype.s=!1,Vs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function kse(t){Object.prototype.hasOwnProperty.call(t,eE)&&t[eE]||(t[eE]=++Ose)}(this)},Vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function tE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function qR(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(m1(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function dr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}dr.prototype.h=function(){this.defaultPrevented=!0};var Bse=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ge.addEventListener("test",()=>{},e),Ge.removeEventListener("test",()=>{},e)}catch{}return t}();function jf(t){return/^[\s\xa0]*$/.test(t)}function v1(){var t=Ge.navigator;return t&&(t=t.userAgent)?t:""}function lo(t){return-1!=v1().indexOf(t)}function nE(t){return nE[" "](t),t}nE[" "]=function(){};var iE,t,zse=lo("Opera"),Ll=lo("Trident")||lo("MSIE"),WR=lo("Edge"),rE=WR||Ll,KR=lo("Gecko")&&!(-1!=v1().toLowerCase().indexOf("webkit")&&!lo("Edge"))&&!(lo("Trident")||lo("MSIE"))&&!lo("Edge"),Use=-1!=v1().toLowerCase().indexOf("webkit")&&!lo("Edge");function YR(){var t=Ge.document;return t?t.documentMode:void 0}e:{var oE="",sE=(t=v1(),KR?/rv:([^\);]+)(\)|;)/.exec(t):WR?/Edge\/([\d\.]+)/.exec(t):Ll?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Use?/WebKit\/(\S+)/.exec(t):zse?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(sE&&(oE=sE?sE[1]:""),Ll){var aE=YR();if(null!=aE&&aE>parseFloat(oE)){iE=String(aE);break e}}iE=oE}var jse=Ge.document&&Ll&&(YR()||parseInt(iE,10))||void 0;function $f(t,e){if(dr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(KR){e:{try{nE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$se[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$f.$.h.call(this)}}Fn($f,dr);var $se={2:"touch",3:"pen",4:"mouse"};$f.prototype.h=function(){$f.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gf="closure_listenable_"+(1e6*Math.random()|0),Gse=0;function qse(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Gse,this.fa=this.ia=!1}function y1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function lE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function XR(t){const e={};for(const n in t)e[n]=t[n];return e}const JR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZR(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<JR.length;o++)n=JR[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function E1(t){this.src=t,this.g={},this.h=0}function uE(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=GR(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(y1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dE(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}E1.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=dE(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new qse(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var fE="closure_lm_"+(1e6*Math.random()|0),hE={};function eP(t,e,n,r,i){if(r&&r.once)return nP(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)eP(t,e[o],n,r,i);return null}return n=_E(n),t&&t[Gf]?t.O(e,n,Uf(r)?!!r.capture:!!r,i):tP(t,e,n,!1,r,i)}function tP(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Uf(i)?!!i.capture:!!i,a=gE(t);if(a||(t[fE]=a=new E1(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Kse(){const e=Yse;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Bse||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(iP(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function nP(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)nP(t,e[o],n,r,i);return null}return n=_E(n),t&&t[Gf]?t.P(e,n,Uf(r)?!!r.capture:!!r,i):tP(t,e,n,!0,r,i)}function rP(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)rP(t,e[o],n,r,i);else r=Uf(r)?!!r.capture:!!r,n=_E(n),t&&t[Gf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=dE(o=t.g[e],n,r,i))&&(y1(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=gE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dE(e,n,r,i)),(n=-1<t?e[t]:null)&&pE(n))}function pE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Gf])uE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gE(e))?(uE(n,t),0==n.h&&(n.src=null,e[fE]=null)):y1(t)}}}function iP(t){return t in hE?hE[t]:hE[t]="on"+t}function Yse(t,e){if(t.fa)t=!0;else{e=new $f(e,this);var n=t.listener,r=t.la||t.src;t.ia&&pE(t),t=n.call(r,e)}return t}function gE(t){return(t=t[fE])instanceof E1?t:null}var mE="__closure_events_fn_"+(1e9*Math.random()>>>0);function _E(t){return"function"==typeof t?t:(t[mE]||(t[mE]=function(e){return t.handleEvent(e)}),t[mE])}function Vn(){Vs.call(this),this.i=new E1(this),this.S=this,this.J=null}function Xn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new dr(e,t);else if(e instanceof dr)e.target=e.target||t;else{var i=e;ZR(e=new dr(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=x1(s,r,!0,e)&&i}if(i=x1(s=e.g=t,r,!0,e)&&i,i=x1(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=x1(s=e.g=n[o],r,!1,e)&&i}function x1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&uE(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Fn(Vn,Vs),Vn.prototype[Gf]=!0,Vn.prototype.removeEventListener=function(t,e,n,r){rP(this,t,e,n,r)},Vn.prototype.N=function(){if(Vn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)y1(n[r]);delete t.g[e],t.h--}}this.J=null},Vn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Vn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var vE=Ge.JSON.stringify;function Xse(){var t=yE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var oP=new class Qse{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Zse,t=>t.reset());class Zse{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function eae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function tae(t){Ge.setTimeout(()=>{throw t},0)}let qf,Wf=!1,yE=new class Jse{constructor(){this.h=this.g=null}add(e,n){const r=oP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},sP=()=>{const t=Ge.Promise.resolve(void 0);qf=()=>{t.then(nae)}};var nae=()=>{for(var t;t=Xse();){try{t.h.call(t.g)}catch(n){tae(n)}var e=oP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wf=!1};function C1(t,e){Vn.call(this),this.h=t||1,this.g=e||Ge,this.j=ur(this.qb,this),this.l=Date.now()}function EE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function xE(t,e,n){if("function"==typeof t)n&&(t=ur(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ur(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ge.setTimeout(t,e||0)}function aP(t){t.g=xE(()=>{t.g=null,t.i&&(t.i=!1,aP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Fn(C1,Vn),(xe=C1.prototype).ga=!1,xe.T=null,xe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xn(this,"tick"),this.ga&&(EE(this),this.start()))}},xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.N=function(){C1.$.N.call(this),EE(this),delete this.g};class rae extends Vs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aP(this)}N(){super.N(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kf(t){Vs.call(this),this.h=t,this.g={}}Fn(Kf,Vs);var cP=[];function lP(t,e,n,r){Array.isArray(n)||(n&&(cP[0]=n.toString()),n=cP);for(var i=0;i<n.length;i++){var o=eP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function uP(t){lE(t.g,function(e,n){this.g.hasOwnProperty(n)&&pE(e)},t),t.g={}}function I1(){this.g=!0}function Bl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return vE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Kf.prototype.N=function(){Kf.$.N.call(this),uP(this)},Kf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},I1.prototype.Ea=function(){this.g=!1},I1.prototype.info=function(){};var Wa={},dP=null;function b1(){return dP=dP||new Vn}function fP(t){dr.call(this,Wa.Ta,t)}function Yf(t){const e=b1();Xn(e,new fP(e))}function hP(t,e){dr.call(this,Wa.STAT_EVENT,t),this.stat=e}function Tr(t){const e=b1();Xn(e,new hP(e,t))}function pP(t,e){dr.call(this,Wa.Ua,t),this.size=e}function Qf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){t()},e)}Wa.Ta="serverreachability",Fn(fP,dr),Wa.STAT_EVENT="statevent",Fn(hP,dr),Wa.Ua="timingevent",Fn(pP,dr);var w1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function CE(){}function _P(){}CE.prototype.h=null;var wE,Xf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function IE(){dr.call(this,"d")}function bE(){dr.call(this,"c")}function A1(){}function Jf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Kf(this),this.P=cae,this.V=new C1(t=rE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vP}function vP(){this.i=null,this.g="",this.h=!1}Fn(IE,dr),Fn(bE,dr),Fn(A1,CE),A1.prototype.g=function(){return new XMLHttpRequest},A1.prototype.i=function(){return{}},wE=new A1;var cae=45e3,AE={},D1={};function DE(t,e,n){t.L=1,t.v=R1(Zo(e)),t.s=n,t.S=!0,yP(t,null)}function yP(t,e){t.G=Date.now(),Zf(t),t.A=Zo(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),SP(n.i,"t",r),t.C=0,n=t.l.J,t.h=new vP,t.g=ZP(t.l,n?e:null,!t.s),0<t.O&&(t.M=new rae(ur(t.Pa,t,t.g),t.O)),lP(t.U,t.g,"readystatechange",t.nb),e=t.I?XR(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Yf(),function iae(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function EP(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function xP(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=lae(t,n),i==D1){4==e&&(t.o=4,Tr(14),r=!1),Bl(t.j,t.m,null,"[Incomplete Response]");break}if(i==AE){t.o=4,Tr(15),Bl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Bl(t.j,t.m,i,null),TE(t,i)}EP(t)&&i!=D1&&i!=AE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Tr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),OE(e),e.M=!0,Tr(11))):(Bl(t.j,t.m,n,"[Invalid Chunked Response]"),Ka(t),eh(t))}function lae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?D1:(n=Number(e.substring(n,r)),isNaN(n)?AE:(r+=1)+n>e.length?D1:(e=e.slice(r,r+n),t.C=r+n,e))}function Zf(t){t.Y=Date.now()+t.P,CP(t,t.P)}function CP(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Qf(ur(t.lb,t),e)}function T1(t){t.B&&(Ge.clearTimeout(t.B),t.B=null)}function eh(t){0==t.l.H||t.J||YP(t.l,t)}function Ka(t){T1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,EE(t.V),uP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function TE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||SE(n.i,t)))if(!t.K&&SE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;V1(n),O1(n)}kE(n),Tr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Qf(ur(n.ib,n),6e3));if(1>=PP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qa(n,11)}else if((t.K||n.g==t)&&V1(n),!jf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ME(o,o.h),o.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Lt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=JP(r,r.J?r.pa:null,r.Y),s.K){NP(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(T1(a),Zf(a)),r.g=s}else WP(r);0<n.j.length&&F1(n)}else"stop"!=l[0]&&"close"!=l[0]||Qa(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Qa(n,7):NE(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Yf()}catch{}}function IP(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function dae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(m1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function uae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(m1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(xe=Jf.prototype).setTimeout=function(t){this.P=t},xe.nb=function(t){t=t.target;const e=this.M;e&&3==uo(t)?e.l():this.Pa(t)},xe.Pa=function(t){try{if(t==this.g)e:{const u=uo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||rE||this.g&&(this.h.h||this.g.ja()||zP(this.g)))){this.J||4!=u||7==e||Yf(),T1(this);var n=this.g.da();this.ca=n;t:if(EP(this)){var r=zP(this.g);t="";var i=r.length,o=4==uo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ka(this),eh(this);var s="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function oae(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Tr(12),Ka(this),eh(this);break e}Bl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,TE(this,n)}this.S?(xP(this,u,s),rE&&this.i&&3==u&&(lP(this.U,this.V,"tick",this.mb),this.V.start())):(Bl(this.j,this.m,s,null),TE(this,s)),4==u&&Ka(this),this.i&&!this.J&&(4==u?YP(this.l,this):(this.i=!1,Zf(this)))}else(function Sae(t){const e={};t=(t.g&&2<=uo(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(jf(t[r]))continue;var n=eae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Wse(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Tr(12)):(this.o=0,Tr(13)),Ka(this),eh(this)}}}catch{}},xe.mb=function(){if(this.g){var t=uo(this.g),e=this.g.ja();this.C<e.length&&(T1(this),xP(this,t,e),this.i&&4!=t&&Zf(this))}},xe.cancel=function(){this.J=!0,Ka(this)},xe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function sae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yf(),Tr(17)),Ka(this),this.o=2,eh(this)):CP(this,this.Y-t)};var bP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ya(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ya){this.h=t.h,S1(this,t.j),this.s=t.s,this.g=t.g,M1(this,t.m),this.l=t.l;var e=t.i,n=new rh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wP(this,n),this.o=t.o}else t&&(e=String(t).match(bP))?(this.h=!1,S1(this,e[1]||"",!0),this.s=th(e[2]||""),this.g=th(e[3]||"",!0),M1(this,e[4]),this.l=th(e[5]||"",!0),wP(this,e[6]||"",!0),this.o=th(e[7]||"")):(this.h=!1,this.i=new rh(null,this.h))}function Zo(t){return new Ya(t)}function S1(t,e,n){t.j=n?th(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function M1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wP(t,e,n){e instanceof rh?(t.i=e,function vae(t,e){e&&!t.j&&(Ls(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(DP(this,r),SP(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=nh(e,mae)),t.i=new rh(e,t.h))}function Lt(t,e,n){t.i.set(e,n)}function R1(t){return Lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function th(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,hae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ya.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nh(e,AP,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(nh(e,AP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(nh(n,"/"==n.charAt(0)?gae:pae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nh(n,_ae)),t.join("")};var AP=/[#\/\?@]/g,pae=/[#\?:]/g,gae=/[#\?]/g,mae=/[#\?@]/g,_ae=/#/g;function rh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ls(t){t.g||(t.g=new Map,t.h=0,t.i&&function fae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function DP(t,e){Ls(t),e=Hl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function TP(t,e){return Ls(t),e=Hl(t,e),t.g.has(e)}function SP(t,e,n){DP(t,e),0<n.length&&(t.i=null,t.g.set(Hl(t,e),tE(n)),t.h+=n.length)}function Hl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function MP(t){this.l=t||Eae,t=Ge.PerformanceNavigationTiming?0<(t=Ge.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ge.g&&Ge.g.Ka&&Ge.g.Ka()&&Ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xe=rh.prototype).add=function(t,e){Ls(this),this.i=null,t=Hl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},xe.forEach=function(t,e){Ls(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},xe.ta=function(){Ls(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},xe.Z=function(t){Ls(this);let e=[];if("string"==typeof t)TP(this,t)&&(e=e.concat(this.g.get(Hl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},xe.set=function(t,e){return Ls(this),this.i=null,TP(this,t=Hl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},xe.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Eae=10;function RP(t){return!!t.h||!!t.g&&t.g.size>=t.j}function PP(t){return t.h?1:t.g?t.g.size:0}function SE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ME(t,e){t.g?t.g.add(e):t.h=e}function NP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function kP(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return tE(t.i)}MP.prototype.cancel=function(){if(this.i=kP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var xae=class{stringify(t){return Ge.JSON.stringify(t,void 0)}parse(t){return Ge.JSON.parse(t,void 0)}};function Cae(){this.g=new xae}function Iae(t,e,n){const r=n||"";try{IP(t,function(i,o){let s=i;Uf(i)&&(s=vE(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function P1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ih(t){this.l=t.ec||null,this.j=t.ob||!1}function N1(t,e){Vn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=RE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fn(ih,CE),ih.prototype.g=function(){return new N1(this.l,this.j)},ih.prototype.i=function(t){return function(){return t}}({}),Fn(N1,Vn);var RE=0;function OP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function oh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sh(t)}function sh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(xe=N1.prototype).open=function(t,e){if(this.readyState!=RE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sh(this)},xe.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oh(this)),this.readyState=RE},xe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sh(this)),this.g&&(this.readyState=3,sh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},xe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?oh(this):sh(this),3==this.readyState&&OP(this)}},xe.Za=function(t){this.g&&(this.response=this.responseText=t,oh(this))},xe.Ya=function(t){this.g&&(this.response=t,oh(this))},xe.ka=function(){this.g&&oh(this)},xe.setRequestHeader=function(t,e){this.v.append(t,e)},xe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(N1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var wae=Ge.JSON.parse;function cn(t){Vn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=FP,this.L=this.M=!1}Fn(cn,Vn);var FP="",Aae=/^https?$/i,Dae=["POST","PUT"];function VP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,LP(t),k1(t)}function LP(t){t.F||(t.F=!0,Xn(t,"complete"),Xn(t,"error"))}function BP(t){if(t.h&&typeof Z3<"u"&&(!t.C[1]||4!=uo(t)||2!=t.da()))if(t.v&&4==uo(t))xE(t.La,0,t);else if(Xn(t,"readystatechange"),4==uo(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(bP)[1]||null;!i&&Ge.self&&Ge.self.location&&(i=Ge.self.location.protocol.slice(0,-1)),r=!Aae.test(i?i.toLowerCase():"")}n=r}if(n)Xn(t,"complete"),Xn(t,"success");else{t.m=6;try{var o=2<uo(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",LP(t)}}finally{k1(t)}}}function k1(t,e){if(t.g){HP(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Xn(t,"ready");try{n.onreadystatechange=r}catch{}}}function HP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ge.clearTimeout(t.A),t.A=null)}function uo(t){return t.g?t.g.readyState:0}function zP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case FP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function UP(t){let e="";return lE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function PE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=UP(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Lt(t,e,n))}function ah(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jP(t){this.Ga=0,this.j=[],this.l=new I1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ah("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ah("baseRetryDelayMs",5e3,t),this.hb=ah("retryDelaySeedMs",1e4,t),this.eb=ah("forwardChannelMaxRetries",2,t),this.xa=ah("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new MP(t&&t.concurrentRequestLimit),this.Ja=new Cae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function NE(t){if($P(t),3==t.H){var e=t.W++,n=Zo(t.I);if(Lt(n,"SID",t.K),Lt(n,"RID",e),Lt(n,"TYPE","terminate"),ch(t,n),(e=new Jf(t,t.l,e)).L=2,e.v=R1(Zo(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon)try{n=Ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ge.Image&&((new Image).src=e.v,n=!0),n||(e.g=ZP(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zf(e)}XP(t)}function O1(t){t.g&&(OE(t),t.g.cancel(),t.g=null)}function $P(t){O1(t),t.u&&(Ge.clearTimeout(t.u),t.u=null),V1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ge.clearTimeout(t.m),t.m=null)}function F1(t){if(!RP(t.i)&&!t.m){t.m=!0;var e=t.Na;qf||sP(),Wf||(qf(),Wf=!0),yE.add(e,t),t.C=0}}function GP(t,e){var n;n=e?e.m:t.W++;const r=Zo(t.I);Lt(r,"SID",t.K),Lt(r,"RID",n),Lt(r,"AID",t.V),ch(t,r),t.o&&t.s&&PE(r,t.o,t.s),n=new Jf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=qP(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ME(t.i,n),DE(n,r,e)}function ch(t,e){t.na&&lE(t.na,function(n,r){Lt(e,r,n)}),t.h&&IP({},function(n,r){Lt(e,r,n)})}function qP(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ur(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{Iae(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function WP(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;qf||sP(),Wf||(qf(),Wf=!0),yE.add(e,t),t.A=0}}function kE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Qf(ur(t.Ma,t),QP(t,t.A)),t.A++,0))}function OE(t){null!=t.B&&(Ge.clearTimeout(t.B),t.B=null)}function KP(t){t.g=new Jf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Zo(t.wa);Lt(e,"RID","rpc"),Lt(e,"SID",t.K),Lt(e,"AID",t.V),Lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Lt(e,"TO",t.qa),Lt(e,"TYPE","xmlhttp"),ch(t,e),t.o&&t.s&&PE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=R1(Zo(e)),n.s=null,n.S=!0,yP(n,t)}function V1(t){null!=t.v&&(Ge.clearTimeout(t.v),t.v=null)}function YP(t,e){var n=null;if(t.g==e){V1(t),OE(t),t.g=null;var r=2}else{if(!SE(t.i,e))return;n=e.F,NP(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Xn(r=b1(),new pP(r,n)),F1(t)}else WP(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Mae(t,e){return!(PP(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Qf(ur(t.Na,t,e),QP(t,t.C)),t.C++,0)))}(t,e)||2==r&&kE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qa(t,5);break;case 4:Qa(t,10);break;case 3:Qa(t,6);break;default:Qa(t,2)}}function QP(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qa(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=ur(t.pb,t);n||(n=new Ya("//www.google.com/images/cleardot.gif"),Ge.location&&"http"==Ge.location.protocol||S1(n,"https"),R1(n)),function bae(t,e){const n=new I1;if(Ge.Image){const r=new Image;r.onload=_1(P1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_1(P1,n,r,"TestLoadImage: error",!1,e),r.onabort=_1(P1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_1(P1,n,r,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Tr(2);t.H=0,t.h&&t.h.za(e),XP(t),$P(t)}function XP(t){if(t.H=0,t.ma=[],t.h){const e=kP(t.i);(0!=e.length||0!=t.j.length)&&(qR(t.ma,e),qR(t.ma,t.j),t.i.i.length=0,tE(t.j),t.j.length=0),t.h.ya()}}function JP(t,e,n){var r=n instanceof Ya?Zo(n):new Ya(n);if(""!=r.g)e&&(r.g=e+"."+r.g),M1(r,r.m);else{var i=Ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Ya(null);r&&S1(o,r),e&&(o.g=e),i&&M1(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&Lt(r,n,e),Lt(r,"VER",t.ra),ch(t,r),r}function ZP(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cn(n&&t.Ha&&!t.va?new ih({ob:!0}):t.va)).Oa(t.J),e}function eN(){}function L1(){if(Ll&&!(10<=Number(jse)))throw Error("Environmental error: no available transport.")}function ei(t,e){Vn.call(this),this.g=new jP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!jf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new zl(this)}function tN(t){IE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function nN(){bE.call(this),this.status=1}function zl(t){this.g=t}function Li(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function FE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Et(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(xe=cn.prototype).Oa=function(t){this.M=t},xe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wE.g(),this.C=function mP(t){return t.h||(t.h=t.i())}(this.u?this.u:wE),this.g.onreadystatechange=ur(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void VP(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Ge.FormData&&t instanceof Ge.FormData,!(0<=GR(Dae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{HP(this),0<this.B&&((this.L=function Tae(t){return Ll&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.ua,this)):this.A=xE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){VP(this,o)}},xe.ua=function(){typeof Z3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xn(this,"timeout"),this.abort(8))},xe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xn(this,"complete"),Xn(this,"abort"),k1(this))},xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),k1(this,!0)),cn.$.N.call(this)},xe.La=function(){this.s||(this.G||this.v||this.l?BP(this):this.kb())},xe.kb=function(){BP(this)},xe.isActive=function(){return!!this.g},xe.da=function(){try{return 2<uo(this)?this.g.status:-1}catch{return-1}},xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},xe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wae(e)}},xe.Ia=function(){return this.m},xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=jP.prototype).ra=8,xe.H=1,xe.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Jf(this,this.l,t);let o=this.s;if(this.U&&(o?(o=XR(o),ZR(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qP(this,i,e),Lt(n=Zo(this.I),"RID",t),Lt(n,"CVER",22),this.F&&Lt(n,"X-HTTP-Session-Id",this.F),ch(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(UP(o)))+"&"+e:this.o&&PE(n,this.o,o)),ME(this.i,i),this.bb&&Lt(n,"TYPE","init"),this.P?(Lt(n,"$req",e),Lt(n,"SID","null"),i.aa=!0,DE(i,n,null)):DE(i,n,e),this.H=2}}else 3==this.H&&(t?GP(this,t):0==this.j.length||RP(this.i)||GP(this))},xe.Ma=function(){if(this.u=null,KP(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qf(ur(this.jb,this),t)}},xe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tr(10),O1(this),KP(this))},xe.ib=function(){null!=this.v&&(this.v=null,O1(this),kE(this),Tr(19))},xe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Tr(2)):(this.l.info("Failed to ping google.com"),Tr(1))},xe.isActive=function(){return!!this.h&&this.h.isActive(this)},(xe=eN.prototype).Ba=function(){},xe.Aa=function(){},xe.za=function(){},xe.ya=function(){},xe.isActive=function(){return!0},xe.Va=function(){},L1.prototype.g=function(t,e){return new ei(t,e)},Fn(ei,Vn),ei.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Tr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=JP(t,null,t.Y),F1(t)},ei.prototype.close=function(){NE(this.g)},ei.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=vE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&F1(e)},ei.prototype.N=function(){this.g.h=null,delete this.j,NE(this.g),delete this.g,ei.$.N.call(this)},Fn(tN,IE),Fn(nN,bE),Fn(zl,eN),zl.prototype.Ba=function(){Xn(this.g,"a")},zl.prototype.Aa=function(t){Xn(this.g,new tN(t))},zl.prototype.za=function(t){Xn(this.g,new nN)},zl.prototype.ya=function(){Xn(this.g,"b")},Fn(Li,function Rae(){this.blockSize=-1}),Li.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Li.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)FE(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){FE(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){FE(this,r),i=0;break}}this.h=i,this.i+=e},Li.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Pae={};function VE(t){return-128<=t&&128>t?function Hse(t,e){var n=Pae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Et([0|e],0>e?-1:0)}):new Et([0|t],0>t?-1:0)}function fo(t){if(isNaN(t)||!isFinite(t))return Ul;if(0>t)return Jn(fo(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=LE;return new Et(e,0)}var LE=4294967296,Ul=VE(0),BE=VE(1),iN=VE(16777216);function es(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function xi(t){return-1==t.h}function Jn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Et(n,~t.h).add(BE)}function B1(t,e){return t.add(Jn(e))}function H1(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function lh(t,e){this.g=t,this.h=e}function z1(t,e){if(es(e))throw Error("division by zero");if(es(t))return new lh(Ul,Ul);if(xi(t))return e=z1(Jn(t),e),new lh(Jn(e.g),Jn(e.h));if(xi(e))return e=z1(t,Jn(e)),new lh(Jn(e.g),e.h);if(30<t.g.length){if(xi(t)||xi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=BE,r=e;0>=r.X(t);)n=oN(n),r=oN(r);var i=jl(n,1),o=jl(r,1);for(r=jl(r,2),n=jl(n,2);!es(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=jl(r,1),n=jl(n,1)}return e=B1(t,i.R(e)),new lh(i,e)}for(i=Ul;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=fo(n)).R(e);xi(s)||0<s.X(t);)s=(o=fo(n-=r)).R(e);es(o)&&(o=BE),i=i.add(o),t=B1(t,s)}return new lh(i,t)}function oN(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Et(n,t.h)}function jl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Et(i,t.h)}(xe=Et.prototype).ea=function(){if(xi(this))return-Jn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:LE+r)*e,e*=LE}return t},xe.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(es(this))return"0";if(xi(this))return"-"+Jn(this).toString(t);for(var e=fo(Math.pow(t,6)),n=this,r="";;){var i=z1(n,e).g,o=((0<(n=B1(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(es(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},xe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},xe.X=function(t){return xi(t=B1(this,t))?-1:es(t)?0:1},xe.abs=function(){return xi(this)?Jn(this):this},xe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Et(n,-2147483648&n[n.length-1]?-1:0)},xe.R=function(t){if(es(this)||es(t))return Ul;if(xi(this))return xi(t)?Jn(this).R(Jn(t)):Jn(Jn(this).R(t));if(xi(t))return Jn(this.R(Jn(t)));if(0>this.X(iN)&&0>t.X(iN))return fo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,H1(n,2*r+2*i),n[2*r+2*i+1]+=o*c,H1(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,H1(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,H1(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Et(n,0)},xe.gb=function(t){return z1(this,t).h},xe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Et(n,this.h&t.h)},xe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Et(n,this.h|t.h)},xe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Et(n,this.h^t.h)},L1.prototype.createWebChannel=L1.prototype.g,ei.prototype.send=ei.prototype.u,ei.prototype.open=ei.prototype.m,ei.prototype.close=ei.prototype.close,w1.NO_ERROR=0,w1.TIMEOUT=8,w1.HTTP_ERROR=6,gP.COMPLETE="complete",_P.EventType=Xf,Xf.OPEN="a",Xf.CLOSE="b",Xf.ERROR="c",Xf.MESSAGE="d",Vn.prototype.listen=Vn.prototype.O,cn.prototype.listenOnce=cn.prototype.P,cn.prototype.getLastError=cn.prototype.Sa,cn.prototype.getLastErrorCode=cn.prototype.Ia,cn.prototype.getStatus=cn.prototype.da,cn.prototype.getResponseJson=cn.prototype.Wa,cn.prototype.getResponseText=cn.prototype.ja,cn.prototype.send=cn.prototype.ha,cn.prototype.setWithCredentials=cn.prototype.Oa,Li.prototype.digest=Li.prototype.l,Li.prototype.reset=Li.prototype.reset,Li.prototype.update=Li.prototype.j,Et.prototype.add=Et.prototype.add,Et.prototype.multiply=Et.prototype.R,Et.prototype.modulo=Et.prototype.gb,Et.prototype.compare=Et.prototype.X,Et.prototype.toNumber=Et.prototype.ea,Et.prototype.toString=Et.prototype.toString,Et.prototype.getBits=Et.prototype.D,Et.fromNumber=fo,Et.fromString=function rN(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Jn(rN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fo(Math.pow(e,8)),r=Ul,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=fo(Math.pow(e,o)),r=r.R(o).add(fo(s))):r=(r=r.R(n)).add(fo(s))}return r};var Nae=Vi.createWebChannelTransport=function(){return new L1},kae=Vi.getStatEventTarget=function(){return b1()},HE=Vi.ErrorCode=w1,Oae=Vi.EventType=gP,Fae=Vi.Event=Wa,sN=Vi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vae=Vi.FetchXmlHttpFactory=ih,U1=Vi.WebChannel=_P,Lae=Vi.XhrIo=cn,Bae=Vi.Md5=Li,$l=Vi.Integer=Et;const aN="@firebase/firestore";class Ln{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let Gl="10.5.2";const Bs=new bf("@firebase/firestore");function ql(){return Bs.logLevel}function ne(t,...e){if(Bs.logLevel<=at.DEBUG){const n=e.map(zE);Bs.debug(`Firestore (${Gl}): ${t}`,...n)}}function gn(t,...e){if(Bs.logLevel<=at.ERROR){const n=e.map(zE);Bs.error(`Firestore (${Gl}): ${t}`,...n)}}function ti(t,...e){if(Bs.logLevel<=at.WARN){const n=e.map(zE);Bs.warn(`Firestore (${Gl}): ${t}`,...n)}}function zE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function De(t="Unexpected state"){const e=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: `+t;throw gn(e),new Error(e)}function Me(t,e){t||De()}function me(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class cN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class zae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Uae{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(x(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me("string"==typeof r.accessToken),new cN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(null===e||"string"==typeof e),new Ln(e)}}class jae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $ae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me("string"==typeof n.token),this.R=n.token,new lN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class uN{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=qae(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Wl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class tn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new tn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new tn(0,0))}static max(){return new Ne(new tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class uh{constructor(e,n,r){void 0===n?n=0:n>e.length&&De(),void 0===r?r=e.length-n:r>e.length-n&&De(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===uh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ut extends uh{construct(e,n,r){return new ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const Wae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends uh{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return Wae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new re(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ut.fromString(e))}static fromName(e){return new _e(ut.fromString(e).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ut.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ut(e.slice()))}}function hN(t){return new ni(t.readTime,t.key,-1)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(Ne.min(),_e.empty(),-1)}static max(){return new ni(Ne.max(),_e.empty(),-1)}}function jE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=_e.comparator(t.documentKey,e.documentKey),0!==n?n:Ue(t.largestBatchId,e.largestBatchId))}const pN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Hs(t){return $E.apply(this,arguments)}function $E(){return $E=x(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==pN)throw t;ne("LocalStore","Unexpectedly lost primary lease")}),$E.apply(this,arguments)}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new P((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function zs(t){return"IndexedDbTransactionError"===t.name}let ri=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function fh(t){return null==t}function hh(t){return 0===t&&1/t==-1/0}function IN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Us(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class kt{constructor(e,n){this.comparator=e,this.root=n||Zn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new G1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new G1(this.root,e,this.comparator,!1)}getReverseIterator(){return new G1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new G1(this.root,e,this.comparator,!0)}}class G1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Zn.RED,this.left=i??Zn.EMPTY,this.right=o??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Zn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1,Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wN(this.data.getIterator())}getIteratorFrom(e){return new wN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class wN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new jr([])}unionWith(e){let n=new bt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class AN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new AN("Invalid base64 string: "+o):o}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const yce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(t){if(Me(!!t),"string"==typeof t){let e=0;const n=yce.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ts(t){return"string"==typeof t?Rn.fromBase64String(t):Rn.fromUint8Array(t)}function q1(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function W1(t){const e=t.mapValue.fields.__previous_value__;return q1(e)?W1(e):e}function ph(t){const e=js(t.mapValue.fields.__local_write_time__.timestampValue);return new tn(e.seconds,e.nanos)}class Ece{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class ec{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ec("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ec&&e.projectId===this.projectId&&e.database===this.database}}const $s={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q1(t)?4:MN(t)?9007199254740991:10:De()}function po(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ph(t).isEqual(ph(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=js(i.timestampValue),a=js(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,ts(t.bytesValue).isEqual(ts(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ln(i.geoPointValue.latitude)===ln(o.geoPointValue.latitude)&&ln(i.geoPointValue.longitude)===ln(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ln(i.integerValue)===ln(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ln(i.doubleValue),a=ln(o.doubleValue);return s===a?hh(s)===hh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Wl(t.arrayValue.values||[],e.arrayValue.values||[],po);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(IN(s)!==IN(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!po(s[c],a[c])))return!1;return!0}(t,e);default:return De()}var o}function gh(t,e){return void 0!==(t.values||[]).find(n=>po(n,e))}function qs(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ln(o.integerValue||o.doubleValue),c=ln(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return DN(t.timestampValue,e.timestampValue);case 4:return DN(ph(t),ph(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ts(o),c=ts(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Ue(a[l],c[l]);if(0!==u)return u}return Ue(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ue(ln(o.latitude),ln(s.latitude));return 0!==a?a:Ue(ln(o.longitude),ln(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=qs(a[l],c[l]);if(u)return u}return Ue(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===$s.mapValue&&s===$s.mapValue)return 0;if(o===$s.mapValue)return 1;if(s===$s.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=Ue(c[d],u[d]);if(0!==f)return f;const h=qs(a[c[d]],l[u[d]]);if(0!==h)return h}return Ue(c.length,u.length)}(t.mapValue,e.mapValue);default:throw De()}}function DN(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ue(t,e);const n=js(t),r=js(e),i=Ue(n.seconds,r.seconds);return 0!==i?i:Ue(n.nanos,r.nanos)}function Xl(t){return WE(t)}function WE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ts(t.bytesValue).toBase64():"referenceValue"in t?_e.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=WE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${WE(n.fields[s])}`;return i+"}"}(t.mapValue):De()}function tc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function KE(t){return!!t&&"integerValue"in t}function mh(t){return!!t&&"arrayValue"in t}function TN(t){return!!t&&"nullValue"in t}function SN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Q1(t){return!!t&&"mapValue"in t}function _h(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Us(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_h(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_h(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MN(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Q1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_h(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=_h(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Q1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return po(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Q1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Us(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new er(_h(this.value))}}function NN(t){const e=[];return Us(t.fields,(n,r)=>{const i=new Wt([n]);if(Q1(r)){const o=NN(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new jr(e)}class Bt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,Ne.min(),Ne.min(),Ne.min(),er.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,Ne.min(),Ne.min(),er.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,Ne.min(),Ne.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ws{constructor(e,n){this.position=e,this.inclusive=n}}function kN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?_e.comparator(_e.fromName(s.referenceValue),n.key):qs(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ON(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!po(t.position[n],e.position[n]))return!1;return!0}class vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ice(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class FN{}class rt extends FN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new bce(e,n,r):"array-contains"===n?new Dce(e,r):"in"===n?new UN(e,r):"not-in"===n?new Tce(e,r):"array-contains-any"===n?new Sce(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new wce(e,r):new Ace(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(qs(n,this.value)):null!==n&&Gs(this.value)===Gs(n)&&this.matchesComparison(qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xt extends FN{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new xt(e,n)}matches(e){return Jl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Jl(t){return"and"===t.op}function QE(t){return function VN(t){for(const e of t.filters)if(e instanceof xt)return!1;return!0}(t)&&Jl(t)}function XE(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Xl(t.value);if(QE(t))return t.filters.map(e=>XE(e)).join(",");{const e=t.filters.map(n=>XE(n)).join(",");return`${t.op}(${e})`}}function LN(t,e){return t instanceof rt?(r=t,(i=e)instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&po(r.value,i.value)):t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&LN(s,i.filters[a]),!0)}(t,e):void De();var r,i}function HN(t){return t instanceof rt?`${(n=t).field.canonicalString()} ${n.op} ${Xl(n.value)}`:t instanceof xt?function(n){return n.op.toString()+" {"+n.getFilters().map(HN).join(" ,")+"}"}(t):"Filter";var n}class bce extends rt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class wce extends rt{constructor(e,n){super(e,"in",n),this.keys=zN(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ace extends rt{constructor(e,n){super(e,"not-in",n),this.keys=zN(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zN(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Dce extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mh(n)&&gh(n.arrayValue,this.value)}}class UN extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&gh(this.value.arrayValue,n)}}class Tce extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!gh(this.value.arrayValue,n)}}class Sce extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gh(this.value.arrayValue,r))}}class Mce{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function JE(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Mce(t,e,n,r,i,o,s)}function nc(t){const e=me(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>XE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xl(r)).join(",")),e.ce=n}return e.ce}function yh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ice(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ON(t.startAt,e.startAt)&&ON(t.endAt,e.endAt)}function X1(t){return _e.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class ns{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function Zl(t){return new ns(t)}function qN(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ZE(t){return null!==t.collectionGroup}function eu(t){const e=me(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new bt(Wt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new vh(o,r))}),n.has(Wt.keyField().canonicalString())||e.le.push(new vh(Wt.keyField(),r))}return e.le}function Sr(t){const e=me(t);return e.he||(e.he=function WN(t,e){if("F"===t.limitType)return JE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new vh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Ws(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ws(t.startAt.position,t.startAt.inclusive):null;return JE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,eu(t))),e.he}function e8(t,e){const n=t.filters.concat([e]);return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Z1(t,e,n){return new ns(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return yh(Sr(t),Sr(e))&&t.limitType===e.limitType}function KN(t){return`${nc(Sr(t))}|lt:${t.limitType}`}function tu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HN(i)).join(", ")}]`),fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xl(i)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of eu(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,c){const l=kN(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,eu(r),i)||r.endAt&&!function(s,a,c){const l=kN(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,eu(r),i)));var r,i}function QN(t){return(e,n)=>{let r=!1;for(const i of eu(t)){const o=Rce(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Rce(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?qs(c,l):De()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return De()}}class rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return bN(this.inner)}size(){return this.innerSize}}const Pce=new kt(_e.comparator);function $r(){return Pce}const XN=new kt(_e.comparator);function Ch(...t){let e=XN;for(const n of t)e=e.insert(n.key,n);return e}function JN(t){let e=XN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function go(){return Ih()}function ZN(){return Ih()}function Ih(){return new rs(t=>t.toString(),(t,e)=>t.isEqual(e))}const Nce=new kt(_e.comparator),kce=new bt(_e.comparator);function Xe(...t){let e=kce;for(const n of t)e=e.add(n);return e}const Oce=new bt(Ue);function ek(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function tk(t){return{integerValue:""+t}}function nk(t,e){return function mN(t){return"number"==typeof t&&Number.isInteger(t)&&!hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?tk(e):ek(t,e)}class em{constructor(){this._=void 0}}function Fce(t,e,n){return t instanceof nu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&q1(o)&&(o=W1(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof rc?ik(t,e):t instanceof ic?ok(t,e):function(i,o){const s=rk(i,o),a=sk(s)+sk(i.Ie);return KE(s)&&KE(i.Ie)?tk(a):ek(i.serializer,a)}(t,e)}function Vce(t,e,n){return t instanceof rc?ik(t,e):t instanceof ic?ok(t,e):n}function rk(t,e){return t instanceof ru?KE(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class nu extends em{}class rc extends em{constructor(e){super(),this.elements=e}}function ik(t,e){const n=ak(e);for(const r of t.elements)n.some(i=>po(i,r))||n.push(r);return{arrayValue:{values:n}}}class ic extends em{constructor(e){super(),this.elements=e}}function ok(t,e){let n=ak(e);for(const r of t.elements)n=n.filter(i=>!po(i,r));return{arrayValue:{values:n}}}class ru extends em{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function sk(t){return ln(t.integerValue||t.doubleValue)}function ak(t){return mh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Bce{constructor(e,n){this.version=e,this.transformResults=n}}class Kt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kt}static exists(e){return new Kt(void 0,e)}static updateTime(e){return new Kt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class nm{}function ck(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ou(t.key,Kt.none()):new iu(t.key,t.data,Kt.none());{const n=t.data,r=er.empty();let i=new bt(Wt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new is(t.key,r,new jr(i.toArray()),Kt.none())}}function Hce(t,e,n){t instanceof iu?function(i,o,s){const a=i.value.clone(),c=dk(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof is?function(i,o,s){if(!tm(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=dk(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(uk(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function wh(t,e,n,r){return t instanceof iu?function(o,s,a,c){if(!tm(o.precondition,s))return a;const l=o.value.clone(),u=fk(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof is?function(o,s,a,c){if(!tm(o.precondition,s))return a;const l=fk(o.fieldTransforms,c,s),u=s.data;return u.setAll(uk(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,tm(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function zce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=rk(r.transform,i||null);null!=o&&(null===n&&(n=er.empty()),n.set(r.field,o))}return n||null}function lk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Wl(r,i,(o,s)=>function Lce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof rc&&i instanceof rc||r instanceof ic&&i instanceof ic?Wl(r.elements,i.elements,po):r instanceof ru&&i instanceof ru?po(r.Ie,i.Ie):r instanceof nu&&i instanceof nu);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class iu extends nm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class is extends nm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dk(t,e,n){const r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Vce(s,a,n[i]))}return r}function fk(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Fce(o,s,e))}return r}class ou extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n8 extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class r8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Hce(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZN();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=ck(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,(n,r)=>lk(n,r))&&Wl(this.baseMutations,e.baseMutations,(n,r)=>lk(n,r))}}class i8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=Nce;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new i8(e,n,r,i)}}class o8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jce{constructor(e,n){this.count=e,this.unchangedNames=n}}var In,dt;function pk(t){if(void 0===t)return gn("GRPC error has no .code"),B.UNKNOWN;switch(t){case In.OK:return B.OK;case In.CANCELLED:return B.CANCELLED;case In.UNKNOWN:return B.UNKNOWN;case In.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case In.INTERNAL:return B.INTERNAL;case In.UNAVAILABLE:return B.UNAVAILABLE;case In.UNAUTHENTICATED:return B.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case In.NOT_FOUND:return B.NOT_FOUND;case In.ALREADY_EXISTS:return B.ALREADY_EXISTS;case In.PERMISSION_DENIED:return B.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case In.ABORTED:return B.ABORTED;case In.OUT_OF_RANGE:return B.OUT_OF_RANGE;case In.UNIMPLEMENTED:return B.UNIMPLEMENTED;case In.DATA_LOSS:return B.DATA_LOSS;default:return De()}}(dt=In||(In={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";const $ce=new $l([4294967295,4294967295],0);function mk(t){const e=function gk(){return new TextEncoder}().encode(t),n=new Bae;return n.update(e),new Uint8Array(n.digest())}function _k(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $l([n,r],0),new $l([i,o],0)]}class s8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ah(`Invalid padding: ${n}`);if(r<0)throw new Ah(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ah(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Ah(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=$l.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply($l.fromNumber(r)));return 1===i.compare($ce)&&(i=new $l([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=mk(e),[r,i]=_k(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new s8(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=mk(e),[r,i]=_k(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dh(Ne.min(),i,new kt(Ue),$r(),Xe())}}class Th{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Th(r,n,Xe(),Xe(),Xe())}}class im{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class vk{constructor(e,n){this.targetId=e,this.fe=n}}class yk{constructor(e,n,r=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ek{constructor(){this.ge=0,this.pe=Ck(),this.ye=Rn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Xe(),n=Xe(),r=Xe();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:De()}}),new Th(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Ck()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Gce{constructor(e){this.Le=e,this.ke=new Map,this.qe=$r(),this.Qe=xk(),this.Ke=new kt(Ue)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(X1(o))if(0===r){const s=new _e(o.path);this.We(n,s,Bt.newNoDocument(s,Ne.min()))}else Me(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ts(r).toUint8Array()}catch(c){if(c instanceof AN)return ti("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new s8(s,i,o)}catch(c){return ti(c instanceof Ah?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&X1(a.target)){const c=new _e(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,Bt.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Xe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Dh(e,n,this.Ke,this.qe,r);return this.qe=$r(),this.Qe=xk(),this.Ke=new kt(Ue),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ek,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new bt(Ue),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ek),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function xk(){return new kt(_e.comparator)}function Ck(){return new kt(_e.comparator)}const qce={asc:"ASCENDING",desc:"DESCENDING"},Wce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kce={and:"AND",or:"OR"};class Yce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function a8(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function su(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ik(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qce(t,e){return su(t,e.toTimestamp())}function mn(t){return Me(!!t),Ne.fromTimestamp(function(n){const r=js(n);return new tn(r.seconds,r.nanos)}(t))}function c8(t,e){return(r=t,new ut(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function bk(t){const e=ut.fromString(t);return Me(Nk(e)),e}function Sh(t,e){return c8(t.databaseId,e.path)}function mo(t,e){const n=bk(e);if(n.get(1)!==t.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Ak(n))}function l8(t,e){return c8(t.databaseId,e)}function Mh(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ak(t){return Me(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Dk(t,e,n){return{name:Sh(t,e),fields:n.value.mapValue.fields}}function Sk(t,e){return{documents:[l8(t,e.path)]}}function d8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=l8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=l8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return Pk(xt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Ks((d=l).field),direction:tle(d.dir)};var d})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=a8(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function Mk(t){let e=function wk(t){const e=bk(t);return 4===e.length?ut.emptyPath():Ak(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){const f=Rk(d);return f instanceof xt&&QE(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(f=>{return new vh(au((p=f).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,fh(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new Ws((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new Ws(d.values||[],!d.before)}(n.endAt)),function GN(t,e,n,r,i,o,s,a){return new ns(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",c,l)}function Rk(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=au(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=au(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=au(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=au(n.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(t):void 0!==t.fieldFilter?rt.create(au((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return xt.create(n.compositeFilter.filters.map(r=>Rk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return De()}}(n.compositeFilter.op))}(t):De();var n}function tle(t){return qce[t]}function nle(t){return Wce[t]}function rle(t){return Kce[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function au(t){return Wt.fromServerFormat(t.fieldPath)}function Pk(t){return t instanceof rt?function(n){if("=="===n.op){if(SN(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NAN"}};if(TN(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(SN(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NAN"}};if(TN(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(n.field),op:nle(n.op),value:n.value}}}(t):t instanceof xt?function(n){const r=n.getFilters().map(i=>Pk(i));return 1===r.length?r[0]:{compositeFilter:{op:rle(n.op),filters:r}}}(t):De()}function ile(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Nk(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class os{constructor(e,n,r,i,o=Ne.min(),s=Ne.min(),a=Rn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kk{constructor(e){this.ut=e}}function f8(t){const e=Mk({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Z1(e,e.limit,"L"):e}class cc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(ln(e.integerValue));else if("doubleValue"in e){const r=ln(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),hh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(ts(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?MN(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):De()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),_e.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}cc.St=new cc;class fle{constructor(){this.on=new v8}addToCollectionParentIndex(e,n){return this.on.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(ni.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class v8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(ut.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(ut.comparator)).toArray()}}new Uint8Array(0);class hr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(41943040,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);class uc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new uc(0)}static Nn(){return new uc(-1)}}class vle{constructor(){this.changes=new rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class aO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&wh(r.mutation,i,jr.empty(),tn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){const i=go();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ch();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=$r();const s=Ih(),a=Ih();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof is)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),wh(u.mutation,l,u.mutation.getFieldMask(),tn.now())):s.set(l.key,jr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new xle(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ih();let i=new kt((s,a)=>s-a),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||jr.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Xe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=ZN();u.forEach(f=>{if(!o.has(f)){const h=ck(n.get(f),r.get(f));null!==h&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return _e.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):ZE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(go());let a=-1,c=o;return s.next(l=>P.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?P.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Xe())).next(u=>({batchId:a,changes:JN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Ch();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ch();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,c=>{const l=(d=n,f=c.child(o),new ns(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{const u=l.getKey();null===s.get(u)&&(s=s.insert(u,Bt.newInvalidDocument(u)))});let a=Ch();return s.forEach((c,l)=>{const u=o.get(c);void 0!==u&&wh(u.mutation,l,jr.empty(),tn.now()),xh(n,l)&&(a=a.insert(c,l))}),a})}}class Cle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return P.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:mn(i.createTime)}),P.resolve();var i}getNamedQuery(e,n){return P.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:f8(i.bundledQuery),readTime:mn(i.readTime)}),P.resolve();var i}}class Ile{constructor(){this.overlays=new kt(_e.comparator),this.lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=go();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=go(),o=n.length+1,s=new _e(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new kt((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=o.get(l.largestBatchId);null===u&&(u=go(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=go(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return P.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new o8(n,r));let o=this.lr.get(n);void 0===o&&(o=Xe(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class y8{constructor(){this.hr=new bt(Hn.Pr),this.Ir=new bt(Hn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Hn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new _e(new ut([])),r=new Hn(n,e),i=new Hn(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new _e(new ut([])),r=new Hn(n,e),i=new Hn(n,e+1);let o=Xe();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Hn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return _e.comparator(e.key,n.key)||Ue(e.gr,n.gr)}static Tr(e,n){return Ue(e.gr,n.gr)||_e.comparator(e.key,n.key)}}class ble{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new bt(Hn.Pr)}checkEmpty(e){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new r8(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Hn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Ue);return n.forEach(i=>{const o=new Hn(i,0),s=new Hn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),P.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const s=new Hn(new _e(o),0);let a=new bt(Ue);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),P.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Me(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return P.forEach(n.mutations,i=>{const o=new Hn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Hn(n,0),i=this.yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return P.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wle{constructor(e){this.Cr=e,this.docs=new kt(_e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$r();const s=n.path,a=new _e(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||jE(hN(u),r)<=0||(i.has(u.key)||xh(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){De()}vr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ale(this)}getSize(e){return P.resolve(this.size)}}class Ale extends vle{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Dle{constructor(e){this.persistence=e,this.Fr=new rs(n=>nc(n),yh),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Mr=0,this.Or=new y8,this.targetCount=0,this.Nr=uc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),P.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.kn(n),P.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Or.containsKey(n))}}class E8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ri(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Dle(this),this.indexManager=new fle,this.remoteDocumentCache=new wle(r=>this.referenceDelegate.Qr(r)),this.serializer=new kk(n),this.Kr=new Cle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ile,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ble(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const i=new Tle(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return P.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Tle extends Qae{constructor(e){super(),this.currentSequenceNumber=e}}class fm{constructor(e){this.persistence=e,this.Gr=new y8,this.zr=null}static jr(e){return new fm(e)}get Hr(){if(this.zr)return this.zr;throw De()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,r=>{const i=_e.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Ne.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return P.or([()=>P.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class b8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Xe(),i=Xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new b8(e,n.fromCache,r,i)}}class Mle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Mle;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(ql()<=at.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",tu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(ql()<=at.DEBUG&&ne("QueryEngine","Query:",tu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ql()<=at.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",tu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):P.resolve())}zi(e,n){if(qN(n))return P.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Z1(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Xe(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,Z1(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return qN(n)||i.isEqual(Ne.min())?P.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?P.resolve(null):(ql()<=at.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tu(n)),this.Xi(e,s,n,function fN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(1e9===r?new tn(n+1,0):new tn(n,r));return new ni(i,_e.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new bt(QN(e));return n.forEach((i,o)=>{xh(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return ql()<=at.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",tu(n)),this.Gi.getDocumentsMatchingQuery(e,n,ni.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Rle{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new kt(Ue),this.ns=new rs(o=>nc(o),yh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function dO(t,e){return w8.apply(this,arguments)}function w8(){return w8=x(function*(t,e){const n=me(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=Xe();for(const l of i){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),w8.apply(this,arguments)}function fO(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function kle(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hu(t,e,n){return A8.apply(this,arguments)}function A8(){return A8=x(function*(t,e,n){const r=me(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!zs(s))throw s;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),A8.apply(this,arguments)}function gm(t,e,n){const r=me(t);let i=Ne.min(),o=Xe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){const d=me(c),f=d.ns.get(u);return void 0!==f?P.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,s,Sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Ne.min(),n?o:Xe())).next(a=>(function mO(t,e,n){let r=t.rs.get(e)||Ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}(r,function YN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:o})))}class R8{constructor(){this.activeTargetIds=function t8(){return Oce}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yO{constructor(){this.eo=new R8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new R8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vle{ro(e){}shutdown(){}}class EO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vm=null;function N8(){return null===vm?vm=268435456+Math.round(2147483648*Math.random()):vm++,"0x"+vm.toString(16)}const Lle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ble{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const pr="WebChannelConnection";class Hle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=N8(),c=this.So(n,r);ne("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(u=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ti("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Gl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${Lle[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=N8();return new Promise((s,a)=>{const c=new Lae;c.setWithCredentials(!0),c.listenOnce(Oae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case HE.NO_ERROR:const u=c.getResponseJson();ne(pr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case HE.TIMEOUT:ne(pr,`RPC '${e}' ${o} timed out`),a(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case HE.HTTP_ERROR:const d=c.getStatus();if(ne(pr,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(S)>=0?S:B.UNKNOWN}(h.status);a(new re(p,h.message))}else a(new re(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new re(B.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ne(pr,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);ne(pr,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=N8(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Nae(),a=kae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Vae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=o.join("");ne(pr,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=s.createWebChannel(u,c);let f=!1,h=!1;const p=new Ble({co:E=>{h?ne(pr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(ne(pr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ne(pr,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},lo:()=>d.close()}),g=(E,S,w)=>{E.listen(S,$=>{try{w($)}catch(K){setTimeout(()=>{throw K},0)}})};return g(d,U1.EventType.OPEN,()=>{h||ne(pr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,U1.EventType.CLOSE,()=>{h||(h=!0,ne(pr,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,U1.EventType.ERROR,E=>{h||(h=!0,ti(pr,`RPC '${e}' stream ${i} transport errored:`,E),p.Ro(new re(B.UNAVAILABLE,"The operation could not be completed")))}),g(d,U1.EventType.MESSAGE,E=>{var S;if(!h){const w=E.data[0];Me(!!w);const K=w.error||(null===(S=w[0])||void 0===S?void 0:S.error);if(K){ne(pr,`RPC '${e}' stream ${i} received error:`,K);const fe=K.status;let Pe=function(Nn){const va=In[Nn];if(void 0!==va)return pk(va)}(fe),Ye=K.message;void 0===Pe&&(Pe=B.INTERNAL,Ye="Unknown error status: "+fe+" with message "+K.message),h=!0,p.Ro(new re(Pe,Ye)),d.close()}else ne(pr,`RPC '${e}' stream ${i} received:`,w),p.Vo(w)}}),g(a,Fae.STAT_EVENT,E=>{E.stat===sN.PROXY?ne(pr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===sN.NOPROXY&&ne(pr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function ym(){return typeof document<"u"?document:null}function Bh(t){return new Yce(t,!0)}class k8{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class CO{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new k8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return x(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return x(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return x(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new re(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(x(function*(){e.state=0,e.start()}))}o_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zle extends CO{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Jce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:De(),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Me(void 0===u||"string"==typeof u),Rn.fromBase64String(u||"")):(Me(void 0===u||u instanceof Uint8Array),Rn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=void 0===l.code?B.UNKNOWN:pk(l.code);return new re(u,l.message||"")}(s);n=new yk(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=mo(t,r.document.name),o=mn(r.document.updateTime),s=r.document.createTime?mn(r.document.createTime):Ne.min(),a=new er({mapValue:{fields:r.document.fields}}),c=Bt.newFoundDocument(i,o,s,a);n=new im(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=mo(t,r.document),o=r.readTime?mn(r.readTime):Ne.min(),s=Bt.newNoDocument(i,o);n=new im([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=mo(t,r.document);n=new im([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return De();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new jce(i,o);n=new vk(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ne.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ne.min():s.readTime?mn(s.readTime):Ne.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Mh(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=X1(c)?{documents:Sk(o,c)}:{query:d8(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Ik(o,s.resumeToken);const l=a8(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Ne.min())>0){a.readTime=su(o,s.snapshotVersion.toTimestamp());const l=a8(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function ele(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Mh(this.serializer),n.removeTarget=e,this.e_(n)}}class Ule extends CO{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Zce(t,e){return t&&t.length>0?(Me(void 0!==e),t.map(n=>function(i,o){let s=mn(i.updateTime?i.updateTime:o);return s.isEqual(Ne.min())&&(s=mn(o)),new Bce(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=mn(e.commitTime);return this.listener.I_(r,n)}return Me(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Mh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Rh(t,e){let n;if(e instanceof iu)n={update:Dk(t,e.key,e.value)};else if(e instanceof ou)n={delete:Sh(t,e.key)};else if(e instanceof is)n={update:Dk(t,e.key,e.data),updateMask:ile(e.fieldMask)};else{if(!(e instanceof n8))return De();n={verify:Sh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof nu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof rc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ic)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ru)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw De()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Qce(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:De()),n;var o}(this.serializer,r))};this.e_(n)}}class jle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(B.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Gle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(gn(n),this.f_=!1):ne("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class qle{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget(x(function*(){var c;Js(s)&&(ne("RemoteStore","Restarting streams for network reachability change."),yield(c=x(function*(u){const d=me(u);d.C_.add(4),yield pu(d),d.M_.set("Unknown"),d.C_.delete(4),yield Hh(d)}),function l(u){return c.apply(this,arguments)})(s))}))}),this.M_=new Gle(r,i)}}function Hh(t){return F8.apply(this,arguments)}function F8(){return F8=x(function*(t){if(Js(t))for(const e of t.v_)yield e(!0)}),F8.apply(this,arguments)}function pu(t){return V8.apply(this,arguments)}function V8(){return V8=x(function*(t){for(const e of t.v_)yield e(!1)}),V8.apply(this,arguments)}function Em(t,e){const n=me(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),H8(n)?B8(n):mu(n).Ho()&&L8(n,e))}function zh(t,e){const n=me(t),r=mu(n);n.D_.delete(e),r.Ho()&&IO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Js(n)&&n.M_.set("Unknown"))}function L8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mu(t).u_(e)}function IO(t,e){t.x_.Oe(e),mu(t).c_(e)}function B8(t){t.x_=new Gce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),mu(t).start(),t.M_.g_()}function H8(t){return Js(t)&&!mu(t).jo()&&t.D_.size>0}function Js(t){return 0===me(t).C_.size}function bO(t){t.x_=void 0}function Wle(t){return z8.apply(this,arguments)}function z8(){return z8=x(function*(t){t.D_.forEach((e,n)=>{L8(t,e)})}),z8.apply(this,arguments)}function Kle(t,e){return U8.apply(this,arguments)}function U8(){return U8=x(function*(t,e){bO(t),H8(t)?(t.M_.w_(e),B8(t)):t.M_.set("Unknown")}),U8.apply(this,arguments)}function Yle(t,e,n){return j8.apply(this,arguments)}function j8(){return j8=x(function*(t,e,n){if(t.M_.set("Online"),e instanceof yk&&2===e.state&&e.cause)try{yield(r=x(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xm(t,r)}else if(e instanceof im?t.x_.$e(e):e instanceof vk?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Ne.min()))try{const r=yield fO(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(Rn.EMPTY_BYTE_STRING,u.snapshotVersion)),IO(o,c);const d=new os(u.target,c,l,u.sequenceNumber);L8(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),yield xm(t,r)}var r}),j8.apply(this,arguments)}function xm(t,e,n){return $8.apply(this,arguments)}function $8(){return $8=x(function*(t,e,n){if(!zs(e))throw e;t.C_.add(1),yield pu(t),t.M_.set("Offline"),n||(n=()=>fO(t.localStore)),t.asyncQueue.enqueueRetryable(x(function*(){ne("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Hh(t)}))}),$8.apply(this,arguments)}function wO(t,e){return e().catch(n=>xm(t,n,e))}function gu(t){return G8.apply(this,arguments)}function G8(){return G8=x(function*(t){const e=me(t),n=Zs(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Qle(e);)try{const i=yield kle(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Xle(e,i)}catch(i){yield xm(e,i)}AO(e)&&DO(e)}),G8.apply(this,arguments)}function Qle(t){return Js(t)&&t.b_.length<10}function Xle(t,e){t.b_.push(e);const n=Zs(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function AO(t){return Js(t)&&!Zs(t).jo()&&t.b_.length>0}function DO(t){Zs(t).start()}function Jle(t){return q8.apply(this,arguments)}function q8(){return q8=x(function*(t){Zs(t).E_()}),q8.apply(this,arguments)}function Zle(t){return W8.apply(this,arguments)}function W8(){return W8=x(function*(t){const e=Zs(t);for(const n of t.b_)e.P_(n.mutations)}),W8.apply(this,arguments)}function eue(t,e,n){return K8.apply(this,arguments)}function K8(){return K8=x(function*(t,e,n){const r=t.b_.shift(),i=i8.from(r,e,n);yield wO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield gu(t)}),K8.apply(this,arguments)}function tue(t,e){return Y8.apply(this,arguments)}function Y8(){return Y8=x(function*(t,e){var n;e&&Zs(t).h_&&(yield(n=x(function*(i,o){if(function hk(t){switch(t){default:return De();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}(a=o.code)&&a!==B.ABORTED){const s=i.b_.shift();Zs(i).Yo(),yield wO(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield gu(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),AO(t)&&DO(t)}),Y8.apply(this,arguments)}function TO(t,e){return Q8.apply(this,arguments)}function Q8(){return Q8=x(function*(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=Js(n);n.C_.add(3),yield pu(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Hh(n)}),Q8.apply(this,arguments)}function J8(){return J8=x(function*(t,e){const n=me(t);e?(n.C_.delete(2),yield Hh(n)):e||(n.C_.add(2),yield pu(n),n.M_.set("Unknown"))}),J8.apply(this,arguments)}function mu(t){return t.O_||(t.O_=function(n,r,i){const o=me(n);return o.A_(),new zle(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Wle.bind(null,t),Io:Kle.bind(null,t),a_:Yle.bind(null,t)}),t.v_.push(function(){var e=x(function*(n){n?(t.O_.Yo(),H8(t)?B8(t):t.M_.set("Unknown")):(yield t.O_.stop(),bO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Zs(t){return t.N_||(t.N_=function(n,r,i){const o=me(n);return o.A_(),new Ule(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Jle.bind(null,t),Io:tue.bind(null,t),T_:Zle.bind(null,t),I_:eue.bind(null,t)}),t.v_.push(function(){var e=x(function*(n){n?(t.N_.Yo(),yield gu(t)):(yield t.N_.stop(),t.b_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class Z8{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Z8(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _u(t,e){if(gn("AsyncQueue",`${e}: ${t}`),zs(t))return new re(B.UNAVAILABLE,`${e}: ${t}`);throw t}class vu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Ch(),this.sortedSet=new kt(this.comparator)}static emptySet(e){return new vu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new vu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class SO{constructor(){this.B_=new kt(_e.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):De():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yu{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new yu(e,n,vu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class nue{constructor(){this.k_=void 0,this.listeners=[]}}class rue{constructor(){this.queries=new rs(e=>KN(e),Eh),this.onlineState="Unknown",this.q_=new Set}}function tx(){return tx=x(function*(t,e){const n=me(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new nue),i)try{o.k_=yield n.onListen(r)}catch(s){const a=_u(s,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&ix(n)}),tx.apply(this,arguments)}function rx(){return rx=x(function*(t,e){const n=me(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),rx.apply(this,arguments)}function iue(t,e){const n=me(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&ix(n)}function oue(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function ix(t){t.q_.forEach(e=>{e.next()})}class ox{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class PO{constructor(e){this.key=e}}class NO{constructor(e){this.key=e}}class kO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Xe(),this.mutatedKeys=Xe(),this._a=QN(e),this.aa=new vu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new SO,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=xh(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let E=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),E=!0):this.ha(f,h)||(r.track({type:2,doc:h}),E=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),E=!0):f&&!h&&(r.track({type:1,doc:f}),E=!0,(c||l)&&(a=!0)),E&&(h?(s=s.add(h),o=g?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new yu(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new SO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Xe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new NO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new PO(r))}),n}da(e){this.ia=e.ls,this.oa=Xe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return yu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class cue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lue{constructor(e){this.key=e,this.Ra=!1}}class uue{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new rs(a=>KN(a),Eh),this.fa=new Map,this.ga=new Set,this.pa=new kt(_e.comparator),this.ya=new Map,this.wa=new y8,this.Sa={},this.ba=new Map,this.Da=uc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function due(t,e){return sx.apply(this,arguments)}function sx(){return sx=x(function*(t,e){const n=function Sx(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pue.bind(null,e),e.Va.a_=iue.bind(null,e.eventManager),e.Va.Fa=oue.bind(null,e.eventManager),e}(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function fu(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new os(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Sr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function ax(t,e,n,r,i){return cx.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&Em(n.remoteStore,s)}return i}),sx.apply(this,arguments)}function cx(){return cx=x(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=x(function*(E,S,w,$){let K=S.view.ca(w);K.Zi&&(K=yield gm(E.localStore,S.query,!1).then(({documents:Ye})=>S.view.ca(Ye,K)));const fe=$&&$.targetChanges.get(S.targetId),Pe=S.view.applyChanges(K,E.isPrimaryClient,fe);return vx(E,S.targetId,Pe.Ta),Pe.snapshot}),function g(E,S,w,$){return p.apply(this,arguments)})(t,d,f,h);var p};const o=yield gm(t.localStore,e,!0),s=new kO(e,o.ls),a=s.ca(o.documents),c=Th.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,c);vx(t,n,l.Ta);const u=new cue(e,n,s);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),cx.apply(this,arguments)}function fue(t,e){return lx.apply(this,arguments)}function lx(){return lx=x(function*(t,e){const n=me(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Eh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield hu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),zh(n.remoteStore,r.targetId),Eu(n,r.targetId)}).catch(Hs))):(Eu(n,r.targetId),yield hu(n.localStore,r.targetId,!0))}),lx.apply(this,arguments)}function ux(){return ux=x(function*(t,e,n){const r=function Mx(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mue.bind(null,e),e}(t);try{const i=yield function(s,a){const c=me(s),l=tn.now(),u=a.reduce((h,p)=>h.add(p.key),Xe());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=$r(),g=Xe();return c.ss.getEntries(h,u).next(E=>{p=E,p.forEach((S,w)=>{w.isValidDocument()||(g=g.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(E=>{d=E;const S=[];for(const w of a){const $=zce(w,d.get(w.key).overlayedDocument);null!=$&&S.push(new is(w.key,$,NN($.value.mapValue),Kt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,S,a)}).next(E=>{f=E;const S=E.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,E.batchId,S)})}).then(()=>({batchId:f.batchId,changes:JN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new kt(Ue)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield ss(r,i.changes),yield gu(r.remoteStore)}catch(i){const o=_u(i,"Failed to persist write");n.reject(o)}}),ux.apply(this,arguments)}function OO(t,e){return dx.apply(this,arguments)}function dx(){return dx=x(function*(t,e){const n=me(t);try{const r=yield function Nle(t,e){const n=me(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);var g,E,S;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Rn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),E=h,S=u,(0===(g=f).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,h))});let c=$r(),l=Xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function hO(t,e,n){let r=Xe(),i=Xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=$r();return n.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(Ne.min())){const u=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Me(s.Ra):i.removedDocuments.size>0&&(Me(s.Ra),s.Ra=!1))}),yield ss(n,r,e)}catch(r){yield Hs(r)}}),dx.apply(this,arguments)}function FO(t,e,n){const r=me(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=me(s);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&ix(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pue(t,e,n){return fx.apply(this,arguments)}function fx(){return fx=x(function*(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new kt(_e.comparator);s=s.insert(o,Bt.newNoDocument(o,Ne.min()));const a=Xe().add(o),c=new Dh(Ne.min(),new Map,new kt(Ue),s,a);yield OO(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),yx(r)}else yield hu(r.localStore,e,!1).then(()=>Eu(r,e,n)).catch(Hs)}),fx.apply(this,arguments)}function gue(t,e){return hx.apply(this,arguments)}function hx(){return hx=x(function*(t,e){const n=me(t),r=e.batch.batchId;try{const i=yield function Ple(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=P.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const E=l.docVersions.get(p);Me(null!==E),g.version.compareTo(E)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Xe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);_x(n,r,null),mx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ss(n,i)}catch(i){yield Hs(i)}}),hx.apply(this,arguments)}function mue(t,e,n){return px.apply(this,arguments)}function px(){return px=x(function*(t,e,n){const r=me(t);try{const i=yield function(s,a){const c=me(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Me(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);_x(r,e,n),mx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ss(r,i)}catch(i){yield Hs(i)}}),px.apply(this,arguments)}function mx(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function _x(t,e,n){const r=me(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Eu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||VO(t,r)})}function VO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(zh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),yx(t))}function vx(t,e,n){for(const r of n)r instanceof PO?(t.wa.addReference(r.key,e),vue(t,r)):r instanceof NO?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||VO(t,r.key)):De()}function vue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.ga.add(r),yx(t))}function yx(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new _e(ut.fromString(e)),r=t.Da.next();t.ya.set(r,new lue(n)),t.pa=t.pa.insert(n,r),Em(t.remoteStore,new os(Sr(Zl(n.path)),r,"TargetPurposeLimboResolution",ri._e))}}function ss(t,e,n){return Ex.apply(this,arguments)}function Ex(){return Ex=x(function*(t,e,n){const r=me(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=b8.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=x(function*(l,u){const d=me(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>P.forEach(u,h=>P.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>P.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!zs(f))throw f;ne("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),E=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,E)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,o))}),Ex.apply(this,arguments)}function yue(t,e){return xx.apply(this,arguments)}function xx(){return xx=x(function*(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=yield dO(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new re(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ss(n,r._s)}var o}),xx.apply(this,arguments)}function Eue(t,e){const n=me(t),r=n.ya.get(e);if(r&&r.Ra)return Xe().add(r.key);{let i=Xe();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class Cm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return x(function*(){n.serializer=Bh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function uO(t,e,n,r){return new Rle(t,e,n,r)}(this.persistence,new lO,e.initialUser,this.serializer)}createPersistence(e){return new E8(fm.jr,this.serializer)}createSharedClientState(e){return new yO}terminate(){var e=this;return x(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xu{initialize(e,n){var r=this;return x(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>FO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=yue.bind(null,r.syncEngine),yield function X8(t,e){return J8.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rue}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),r=new Hle(e.databaseInfo);return new jle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>FO(this.syncEngine,n,0),a=EO.D()?new EO:new Vle,new qle(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,c,l,u){const d=new uue(i,o,s,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=x(function*(r){const i=me(r);ne("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield pu(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Im{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Nue{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=uN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=x(function*(a){ne("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return x(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(x(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=_u(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function bm(t,e){return Rx.apply(this,arguments)}function Rx(){return Rx=x(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=x(function*(o){r.isEqual(o)||(yield dO(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Rx.apply(this,arguments)}function Px(t,e){return Nx.apply(this,arguments)}function Nx(){return Nx=x(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function kx(t){return Ox.apply(this,arguments)}(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>TO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>TO(e.remoteStore,o)),t._onlineComponents=e}),Nx.apply(this,arguments)}function Ox(){return Ox=x(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function jO(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ti("Error using user provided cache. Falling back to memory cache: "+n),yield bm(t,new Cm)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),yield bm(t,new Cm);return t._offlineComponents}),Ox.apply(this,arguments)}function wm(t){return Fx.apply(this,arguments)}function Fx(){return Fx=x(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield Px(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),yield Px(t,new xu))),t._onlineComponents}),Fx.apply(this,arguments)}function Iu(t){return Lx.apply(this,arguments)}function Lx(){return Lx=x(function*(t){const e=yield wm(t),n=e.eventManager;return n.onListen=due.bind(null,e.syncEngine),n.onUnlisten=fue.bind(null,e.syncEngine),n}),Lx.apply(this,arguments)}function YO(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const QO=new Map;function Bx(t,e,n){if(!n)throw new re(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XO(t){if(!_e.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JO(t){if(_e.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Am(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":De()}function it(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Am(t);throw new re(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class eF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $ue(t,e,n,r){if(!0===e&&!0===r)throw new re(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=YO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Hae;switch(r.type){case"firstParty":return new $ae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=QO.get(n);r&&(ne("ComponentProvider","Removing Datastore"),QO.delete(n),r.terminate())}(this),Promise.resolve()}}class tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tr(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class _o extends tr{constructor(e,n,r){super(e,n,Zl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new _e(e))}withConverter(e){return new _o(this.firestore,e,this._path)}}function que(t,e,...n){if(t=on(t),Bx("collection","path",e),t instanceof Uh){const r=ut.fromString(e,...n);return JO(r),new _o(t,null,r)}{if(!(t instanceof _n||t instanceof _o))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return JO(r),new _o(t.firestore,null,r)}}function tF(t,e,...n){if(t=on(t),1===arguments.length&&(e=uN.newId()),Bx("doc","path",e),t instanceof Uh){const r=ut.fromString(e,...n);return XO(r),new _n(t,null,new _e(r))}{if(!(t instanceof _n||t instanceof _o))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ut.fromString(e,...n));return XO(r),new _n(t.firestore,t instanceof _o?t.converter:null,new _e(r))}}class Wue{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new k8(this,"async_queue_retry"),this.iu=()=>{const n=ym();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=ym();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=ym();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Mn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return x(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!zs(n))throw n;ne("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,gn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=Z8.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&De()}verifyOperationInProgress(){}uu(){var e=this;return x(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Hx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class Ot extends Uh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Wue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rF(this),this._firestoreClient.terminate()}}function Yue(t,e){const r="string"==typeof t?t:e||"(default)",i=ao("object"==typeof t?t:Pl(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=l9("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();o&&function Gue(t,e,n,r={}){var i;const o=(t=it(t,Uh))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Ln.MOCK_USER;else{a=function Ute(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jg(JSON.stringify({alg:"none",type:"JWT"})),jg(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ln(l)}t._authCredentials=new zae(new cN(a,c))}}(i,...o)}return i}function vn(t){return t._firestoreClient||rF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rF(t){var e,n,r;const i=t._freezeSettings(),o=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Ece(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,YO(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new Nue(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fc(Rn.fromBase64String(e))}catch(n){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fc(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zx{constructor(e){this._methodName=e}}class Ux{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}const Xue=/^__.*__$/;class Jue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}class sF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class Dm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Sm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(aF(this.Iu)&&Xue.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Zue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bh(e)}pu(e,n,r,i=!1){return new Dm({Iu:e,methodName:n,gu:r,path:Wt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wu(t){const e=t._freezeSettings(),n=Bh(t._databaseId);return new Zue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jx(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);Gx("Data must be an object, but it was:",s,r);const a=fF(r,s);let c,l;if(o.merge)c=new jr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const f=Gh(e,d,n);if(!s.contains(f))throw new re(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);pF(u,f)||u.push(f)}c=new jr(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new Jue(new er(a),c,l)}class $h extends zx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function hc(t,e){if(hF(t=on(t)))return Gx("Unsupported field value:",e,t),fF(t,e);if(t instanceof zx)return function(r,i){if(!aF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=hc(a,i.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=on(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return nk(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=tn.fromDate(r);return{timestampValue:su(i.serializer,o)}}if(r instanceof tn){const o=new tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:su(i.serializer,o)}}if(r instanceof Ux)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fc)return{bytesValue:Ik(i.serializer,r._byteString)};if(r instanceof _n){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:c8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Am(r)}`)}(t,e)}function fF(t,e){const n={};return bN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(t,(r,i)=>{const o=hc(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function hF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof tn||t instanceof Ux||t instanceof fc||t instanceof _n||t instanceof zx)}function Gx(t,e,n){if(!hF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Am(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Gh(t,e,n){if((e=on(e))instanceof bu)return e._internalPath;if("string"==typeof e)return Tm(t,e);throw Sm("Field path arguments must be of type string or ",t,!1,void 0,n)}const rde=new RegExp("[~\\*/\\[\\]]");function Tm(t,e,n){if(e.search(rde)>=0)throw Sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bu(...e.split("."))._internalPath}catch{throw Sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new re(B.INVALID_ARGUMENT,a+t+c)}function pF(t,e){return t.some(n=>n.isEqual(e))}class qx{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ide(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ide extends qx{data(){return super.data()}}function Mm(t,e){return"string"==typeof e?Tm(t,e):e instanceof bu?e._internalPath:e._delegate._internalPath}class Wx{}class Kx extends Wx{}function ode(t,e,...n){let r=[];e instanceof Wx&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof Au).length,a=o.filter(c=>c instanceof qh).length;if(s>1||s>0&&a>0)throw new re(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qh extends Kx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qh(e,n,r)}_apply(e){const n=this._parse(e);return yF(e._query,n),new tr(e.firestore,e.converter,e8(e._query,n))}_parse(e){const n=wu(e.firestore);return function(o,s,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new re(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){vF(d,u);const h=[];for(const p of d)h.push(_F(c,o,p));f={arrayValue:{values:h}}}else f=_F(c,o,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||vF(d,u),f=function dF(t,e,n,r=!1){return hc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return rt.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function sde(t,e,n){const r=e,i=Mm("where",t);return qh._create(i,r,n)}class Au extends Wx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Au(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:xt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)yF(s,c),s=e8(s,c)}(e._query,n),new tr(e.firestore,e.converter,e8(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Yx extends Kx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Yx(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vh(o,s)}(e._query,this._field,this._direction);return new tr(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new ns(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function ade(t,e="asc"){const n=e,r=Mm("orderBy",t);return Yx._create(r,n)}class Rm extends Kx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Rm(e,n,r)}_apply(e){return new tr(e.firestore,e.converter,Z1(e._query,this._limit,this._limitType))}}function cde(t){return function ZO(t,e){if(e<=0)throw new re(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Rm._create("limit",t,"F")}function _F(t,e,n){if("string"==typeof(n=on(n))){if(""===n)throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZE(e)&&-1!==n.indexOf("/"))throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ut.fromString(n));if(!_e.isDocumentKey(r))throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tc(t,new _e(r))}if(n instanceof _n)return tc(t,n._key);throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Am(n)}.`)}function vF(t,e){if(!Array.isArray(t)||0===t.length)throw new re(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yF(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new re(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lde{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw De()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Us(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Ux(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=W1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ph(e));default:return null}}convertTimestamp(e){const n=js(e);return new tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ut.fromString(e);Me(Nk(r));const i=new ec(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||gn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Du extends qx{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class km extends Du{data(e={}){return super.data(e)}}class Tu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new km(this._firestore,this._userDataWriter,r.key,r,new pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new km(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new km(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:dde(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}class ea extends lde{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function fde(t,e,n,...r){t=it(t,_n);const i=it(t.firestore,Ot),o=wu(i);let s;return s="string"==typeof(e=on(e))||e instanceof bu?function uF(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[Gh(e,r,n)],c=[i];if(o.length%2!=0)throw new re(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(Gh(e,o[f])),c.push(o[f+1]);const l=[],u=er.empty();for(let f=a.length-1;f>=0;--f)if(!pF(l,a[f])){const h=a[f];let p=c[f];p=on(p);const g=s.Ru(h);if(p instanceof $h)l.push(h);else{const E=hc(p,g);null!=E&&(l.push(h),u.set(h,E))}}const d=new jr(l);return new sF(u,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function lF(t,e,n,r){const i=t.pu(1,e,n);Gx("Data must be an object, but it was:",i,r);const o=[],s=er.empty();Us(r,(c,l)=>{const u=Tm(e,c,n);l=on(l);const d=i.Ru(u);if(l instanceof $h)o.push(u);else{const f=hc(l,d);null!=f&&(o.push(u),s.set(u,f))}});const a=new jr(o);return new sF(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),Wh(i,[s.toMutation(t._key,Kt.exists(!0))])}function hde(t){return Wh(it(t.firestore,Ot),[new ou(t._key,Kt.none())])}function pde(t,e){const n=it(t.firestore,Ot),r=tF(t),i=function Qx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Wh(n,[jx(wu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Kt.exists(!1))]).then(()=>r)}function Wh(t,e){return function(r,i){const o=new Mn;return r.asyncQueue.enqueueAndForget(x(function*(){return function hue(t,e,n){return ux.apply(this,arguments)}(yield function Vx(t){return wm(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(vn(t),e)}!function(e,n=!0){Gl=Rl,yi(new Jr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ot(new Uae(r.getProvider("auth-internal")),new Gae(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),sn(aN,"4.3.2",e),sn(aN,"4.3.2","esm2017")}();var Vm=function(){return Vm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},Vm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Tde={includeMetadataChanges:!1};function eC(t,e){return void 0===e&&(e=Tde),new de(function(n){var r=function gde(t,...e){var n,r,i;t=on(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||Hx(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Hx(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof _n)l=it(t.firestore,Ot),u=Zl(t._key.path),c={next:d=>{e[s]&&e[s](function Xx(t,e,n){const r=n.docs.get(e._key),i=new ea(t);return new Du(t,i,e._key,r,new pc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[s+1],complete:e[s+2]};else{const d=it(t,tr);l=it(d.firestore,Ot),u=d._query;const f=new ea(l);c={next:h=>{e[s]&&e[s](new Tu(l,f,d,h))},error:e[s+1],complete:e[s+2]},function gF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new re(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const E=new Im(g),S=new ox(h,E,p);return f.asyncQueue.enqueueAndForget(x(function*(){return function ex(t,e){return tx.apply(this,arguments)}(yield Iu(f),S)})),()=>{E.Na(),f.asyncQueue.enqueueAndForget(x(function*(){return function nx(t,e){return rx.apply(this,arguments)}(yield Iu(f),S)}))}}(vn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Mde(t,e){return void 0===e&&(e={}),function Sde(t){return eC(t,{includeMetadataChanges:!0})}(t).pipe(Qe(function(n){return bF(n,e)}))}function bF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Vm(Vm({},r),((n={})[e.idField]=t.id,n)):r}function Fde(t,e){return void 0===e&&(e={}),function Ode(t){return eC(t,{includeMetadataChanges:!0}).pipe(Qe(function(e){return e.docs}))}(t).pipe(Qe(function(n){return n.map(function(r){return bF(r,e)})}))}class vo{constructor(e){return e}}const TF="firestore",rC=new Ee("angularfire2.firestore-instances");function Hde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new vo(r)}}const zde={provide:class Lde{constructor(){return Xg(TF)}},deps:[[new yn,rC]]},Ude={provide:vo,useFactory:function Bde(t,e){const n=Qg(TF,t,e);return n&&new vo(n)},deps:[[new yn,rC],za]};let jde=(()=>{var t;class e{constructor(){sn("angularfire",Rs.full,"fst")}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)}),mt(e,"\u0275mod",Vt({type:t})),mt(e,"\u0275inj",St({providers:[Ude,zde]})),e})();function ta(t,...e){return{ngModule:jde,providers:[{provide:rC,useFactory:Hde(t),multi:!0,deps:[ft,Tn,Df,Tf,[new yn,jR],[new yn,j4],...e]}]}}const Su=an(Fde,!0),SF=an(Mde,!0),MF=an(pde,!0),Hi=an(que,!0),$de=an(hde,!0),Kh=an(tF,!0),na=an(Yue,!0),RF=an(cde,!0),Lm=an(ade,!0),Mu=an(ode,!0),PF=an(fde,!0),ra=an(sde,!0);class NF{constructor(e,n,r){this._user=e,this._value=JSON.stringify(n),this._ttl=r,this._expiry=Date.now()+r}get user(){return this._user}set user(e){this._user=e}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{user:this.user,ttl:this.ttl,expiry:this.expiry,value:this.value}}}var Ru,Yt=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.ACTIVE_ORDERS="active-orders",t.VERSION="version",t.UPDATE_AVAILABLE="update-available",t}(Yt||{});class yo{constructor(){this.cachedUsername=null}cache(e,n,r=0){const i=new NF(this.username(),n,r);localStorage.setItem(e,JSON.stringify(i))}getVersion(){return localStorage.getItem(Yt.VERSION)}get(e){const n=localStorage.getItem(e);if(!n)return null;const r=Object.assign(NF,JSON.parse(n));return this.username()!==r.user||r.ttl>0&&Date.now()>r.expiry?(localStorage.removeItem(e),null):JSON.parse(r.value)}remove(e){localStorage.removeItem(e)}username(){if(null==this.cachedUsername){let e=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();0==e.indexOf("[")&&4==e.indexOf("]")&&(e=e.substring(5,e.length)),this.cachedUsername=e.toLowerCase()}return this.cachedUsername}}(Ru=yo).\u0275fac=function(e){return new(e||Ru)},Ru.\u0275prov=be({token:Ru,factory:Ru.\u0275fac,providedIn:"platform"}),wn([qi(2,yn())],yo.prototype,"cache",null);let kF=(()=>{var t;class e{constructor(){this.firestore=W(vo),this.localStorageService=W(yo)}checkFleetOrders(r,i,o){if(this.ordersSubscription)return;let s=Hi(this.firestore,"orders");this.ordersSubscription=Su(Mu(s,ra("user","==",r),ra("executed","==",!1)),{idField:"id"}).subscribe(a=>{i.next(a.length),a.length>0?this.localStorageService.cache(Yt.ACTIVE_ORDERS,a.length):this.localStorageService.remove(Yt.ACTIVE_ORDERS),document.querySelector(".local-orders-badge")&&(document.querySelector(".local-orders-badge").style.display="none"),o.detectChanges()})}checkVersion(r,i){if(this.configSubscription)return;let o=Hi(this.firestore,"config");this.configSubscription=SF(Kh(o,"version")).subscribe(s=>{let a=Object.assign({value:""},s).value;this.localStorageService.getVersion()!==a?(this.localStorageService.cache(Yt.UPDATE_AVAILABLE,!0),r.next(!0)):(this.localStorageService.cache(Yt.UPDATE_AVAILABLE,!1),r.next(!1)),document.querySelector(".local-update-badge")&&(document.querySelector(".local-update-badge").style.display="none"),i.detectChanges()})}ngOnDestroy(){this.ordersSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class iC{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class OF{constructor(){this._orbit=0,this._ground=0,this._workers=new iC,this._soldiers=new iC,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class oC{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Gde=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let o=new OF,s=i.querySelectorAll(".resourceLine .left > span"),a=[];s.forEach(l=>{let u=l.textContent.split(/\s+/),d=new oC;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),o.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];o.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),o.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),o.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),o.name=i.querySelectorAll(".planetName > a")[0].innerHTML,o.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),o.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),o.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(o)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class FF{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new iC,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var gr=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(gr||{});class qde{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Wde{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Ft=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Ft||{});class VF{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let Kde=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let o,r=new FF,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:o=gr.SURFACE;break;case 2:o=gr.RESOURCE;break;case 0:o=gr.FLEET;break;default:o=gr.UNKNOWN}let s=new qde(r,o);if(o!==gr.UNKNOWN){s.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();s.planetScan.owner="This planet is unoccupied."!==c?new VF(c.split("Owner:")[1].trim(),""):new VF("Uninhabited Planet",a.substring(1,a.length-1))}if((o===gr.RESOURCE||o===gr.SURFACE)&&(s.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),s.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),s.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),o===gr.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new oC;c.name=a.textContent.trim().toLowerCase(),s.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{s.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),o===gr.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new oC;l.name=c.textContent.trim().toLowerCase(),s.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{s.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{s.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];s.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),s.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),s.planetScan.workers.available=parseInt(a.substring(1,a.length).replace(/,/g,"")),s.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{s.planetScan.structures.push(new Wde(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),s.planetScan.structures.forEach(c=>{switch(c.name){case Ft.OUTPOST:s.planetScan.resources[0].production+=300,s.planetScan.resources[1].production+=200,s.planetScan.resources[2].production+=100;break;case Ft.METAL_MINE:s.planetScan.resources[0].production+=300*c.quantity;break;case Ft.MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=200*c.quantity;break;case Ft.FARM:s.planetScan.resources[2].production+=300*c.quantity;break;case Ft.SOLAR_GENERATOR:s.planetScan.resources[3].production+=100*c.quantity;break;case Ft.CORE_METAL_MINE:s.planetScan.resources[0].production+=900*c.quantity;break;case Ft.CORE_MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=600*c.quantity;break;case Ft.HYDROPONICS_LAB:s.planetScan.resources[2].production+=900*c.quantity;break;case Ft.SOLAR_ARRAY:s.planetScan.resources[3].production+=300*c.quantity;break;case Ft.STRIP_METAL_MINE:s.planetScan.resources[0].production+=9e3*c.quantity;break;case Ft.STRIP_MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=6e3*c.quantity;break;case Ft.HYDROPONICS_DOME:s.planetScan.resources[2].production+=9e3*c.quantity;break;case Ft.SOLAR_STATION:s.planetScan.resources[3].production+=3e3*c.quantity}})}return s.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),s}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Yde=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let o=new OF;o.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(o)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class Qde{get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,note:this.note,dgId:this.dgId,kickEta:this.kickEta}}}let Xde=(()=>{var t;class e{constructor(){this.localStorageService=W(yo)}extract(){let r=this.localStorageService.get(Yt.ALLIANCE_MEMBERS)||[];return 0==r.length&&!document.querySelector('[action="/alliances/join/"]')&&(document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(o=>{let s=new Qde;if(null!=o.querySelector("div.note")?s.note=o.querySelector("div.note").childNodes[0].textContent.trim():null!=o.querySelector('input[name="note"]')&&(s.note=o.querySelector('input[name="note"]').value.trim()),null!=o.querySelector('[action^="/alliances/note/"]')){let a=o.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);s.dgId=a[a.length-2]}null==o.querySelector('[action="/alliances/kick/"] input')&&null!=o.querySelector(".right>b")&&(s.kickEta=o.querySelector(".right>b").textContent.trim().toLowerCase()),null!=o.querySelector("div.name")&&(s.name=o.querySelector("div.name").childNodes[0].textContent.trim(),r.push(s))})}),this.localStorageService.cache(Yt.ALLIANCE_MEMBERS,r,432e5)),r}cleanAfterExtract(){document.querySelector(".dgt-orders-manager-panel.user")&&document.querySelector(".dgt-orders-manager-panel.user").remove(),document.querySelectorAll(".allianceBox").forEach(r=>{r.querySelector(".plainHeader")&&"member list"===r.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(r.querySelector(".plainHeader").remove(),r.querySelector(".playerList").remove())})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Pu;class as{constructor(){this.planetListExtractor=W(Gde),this.planetScanExtractor=W(Kde),this.navigationSystemPlanetsExtractor=W(Yde),this.allianceMembersExtractor=W(Xde),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(e){let n=this.allianceMembersExtractor.extract();return e&&this.allianceMembersExtractor.cleanAfterExtract(),n}cleanAlianceMembers(){this.allianceMembersExtractor.cleanAfterExtract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}(Pu=as).\u0275fac=function(e){return new(e||Pu)},Pu.\u0275prov=be({token:Pu,factory:Pu.\u0275fac,providedIn:"platform"}),wn([qi(0,yn())],as.prototype,"username",null);class Bm{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Nu,Yh=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(Yh||{}),sC=V(874);class ia{constructor(){this.localStorageService=W(yo),this._authState=new jt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(Yt.USER))return!1;let n=this.localStorageService.get(Yt.USER).session.timeToken,r=this.localStorageService.get(Yt.USER).session.refreshToken,i=Date.parse(sC.AES.decrypt(n,r).toString(sC.enc.Utf8)),o=Date.now()-i<=6048e5;return o&&e&&this._authState.emit(new Bm(o,this.localStorageService.get(Yt.USER).session.role)),o}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(Yt.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=$R(e).subscribe(r=>{null!=r?Su(Mu(Hi(n,"valid-users"),ra("email","==",r.email),RF(1))).subscribe(i=>{if(i.length>0){let o=Object.assign({email:"",enabled:!1,role:Yh.USER},i[0]);o.enabled?(this.localStorageService.cache(Yt.USER,{session:{timeToken:sC.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:o.role}}),this._authState.emit(new Bm(!0,o.role)),location.reload()):this.signOut(e)}else this.signOut(e)}):(this.localStorageService.remove(Yt.USER),this._authState.emit(new Bm(!1,null)))})}}signInWithEmailAndPassword(e,n,r){Rse(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){Pse(e,new Tie).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(Yt.USER),this._refreshInProgress=!0,this._authState.emit(new Bm(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().then(()=>{location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function Eo(t,e){return Ve((n,r)=>{let i=0;n.subscribe(tt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function aC(...t){return function Zde(){return Z0(1)}()(jn(t,ld(t)))}function LF(...t){const e=ld(t);return Ve((n,r)=>{(e?aC(t,n,e):aC(t,n)).subscribe(r)})}(Nu=ia).\u0275fac=function(e){return new(e||Nu)},Nu.\u0275prov=be({token:Nu,factory:Nu.\u0275fac,providedIn:"platform"}),wn([qi(0,yn())],ia.prototype,"checkLoginValidity",null);const tfe=(t,e)=>e.some(n=>t instanceof n);let BF,HF;const zF=new WeakMap,cC=new WeakMap,UF=new WeakMap,lC=new WeakMap,uC=new WeakMap;let dC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return cC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||UF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function cfe(t){return"function"==typeof t?function afe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function rfe(){return HF||(HF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(fC(this),e),oa(zF.get(this))}:function(...e){return oa(t.apply(fC(this),e))}:function(e,...n){const r=t.call(fC(this),e,...n);return UF.set(r,e.sort?e.sort():[e]),oa(r)}}(t):(t instanceof IDBTransaction&&function ofe(t){if(cC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});cC.set(t,e)}(t),tfe(t,function nfe(){return BF||(BF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,dC):t)}function oa(t){if(t instanceof IDBRequest)return function ife(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(oa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zF.set(n,t)}).catch(()=>{}),uC.set(e,t),e}(t);if(lC.has(t))return lC.get(t);const e=cfe(t);return e!==t&&(lC.set(t,e),uC.set(e,t)),e}const fC=t=>uC.get(t),ufe=["get","getKey","getAll","getAllKeys","count"],dfe=["put","add","delete","clear"],hC=new Map;function jF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(hC.get(e))return hC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dfe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ufe.includes(n))return;const o=function(){var s=x(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return hC.set(e,o),o}!function sfe(t){dC=t(dC)}(t=>({...t,get:(e,n,r)=>jF(e,n)||t.get(e,n,r),has:(e,n)=>!!jF(e,n)||t.has(e,n)}));const $F="@firebase/installations",pC="0.6.4",GF=1e4,qF=`w:${pC}`,WF="FIS_v2",ffe="https://firebaseinstallations.googleapis.com/v1",hfe=36e5,cs=new Ss("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function KF(t){return t instanceof Fi&&t.code.includes("request-failed")}function gC({projectId:t}){return`${ffe}/projects/${t}/installations`}function YF(t){return{token:t.token,requestStatus:2,expiresIn:_fe(t.expiresIn),creationTime:Date.now()}}function mC(t,e){return _C.apply(this,arguments)}function _C(){return _C=x(function*(t,e){const r=(yield e.json()).error;return cs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),_C.apply(this,arguments)}function QF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function vC(t){return yC.apply(this,arguments)}function yC(){return yC=x(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),yC.apply(this,arguments)}function _fe(t){return Number(t.replace("s","000"))}function EC(){return EC=x(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=gC(t),i=QF(t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:WF,appId:t.appId,sdkVersion:qF})},c=yield vC(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:YF(l.authToken)}}throw yield mC("Create Installation",c)}),EC.apply(this,arguments)}function JF(t){return new Promise(e=>{setTimeout(e,t)})}const xfe=/^[cdef][\w-]{21}$/,xC="";function Cfe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Ife(t){return function Efe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return xfe.test(n)?n:xC}catch{return xC}}function ku(t){return`${t.appName}!${t.appId}`}const Ou=new Map;function ZF(t,e){const n=ku(t);eV(n,e),function Afe(t,e){const n=function tV(){return!gc&&"BroadcastChannel"in self&&(gc=new BroadcastChannel("[Firebase] FID Change"),gc.onmessage=t=>{eV(t.data.key,t.data.fid)}),gc}();n&&n.postMessage({key:t,fid:e}),function nV(){0===Ou.size&&gc&&(gc.close(),gc=null)}()}(n,e)}function eV(t,e){const n=Ou.get(t);if(n)for(const r of n)r(e)}let gc=null;const Dfe="firebase-installations-database",Tfe=1,mc="firebase-installations-store";let CC=null;function IC(){return CC||(CC=function lfe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=oa(s);return r&&s.addEventListener("upgradeneeded",c=>{r(oa(s.result),c.oldVersion,c.newVersion,oa(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Dfe,Tfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(mc)}})),CC}function Hm(t,e){return bC.apply(this,arguments)}function bC(){return bC=x(function*(t,e){const n=ku(t),i=(yield IC()).transaction(mc,"readwrite"),o=i.objectStore(mc),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&ZF(t,e.fid),e}),bC.apply(this,arguments)}function wC(t){return AC.apply(this,arguments)}function AC(){return AC=x(function*(t){const e=ku(t),r=(yield IC()).transaction(mc,"readwrite");yield r.objectStore(mc).delete(e),yield r.done}),AC.apply(this,arguments)}function Qh(t,e){return DC.apply(this,arguments)}function DC(){return DC=x(function*(t,e){const n=ku(t),i=(yield IC()).transaction(mc,"readwrite"),o=i.objectStore(mc),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&ZF(t,a.fid),a}),DC.apply(this,arguments)}function TC(t){return SC.apply(this,arguments)}function SC(){return SC=x(function*(t){let e;const n=yield Qh(t.appConfig,r=>{const i=function Sfe(t){return iV(t||{fid:Cfe(),registrationStatus:0})}(r),o=function Mfe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(cs.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Rfe(t,e){return MC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Pfe(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===xC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),SC.apply(this,arguments)}function MC(){return MC=x(function*(t,e){try{const n=yield function yfe(t,e){return EC.apply(this,arguments)}(t,e);return Hm(t.appConfig,n)}catch(n){throw KF(n)&&409===n.customData.serverCode?yield wC(t.appConfig):yield Hm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),MC.apply(this,arguments)}function Pfe(t){return RC.apply(this,arguments)}function RC(){return RC=x(function*(t){let e=yield rV(t.appConfig);for(;1===e.registrationStatus;)yield JF(100),e=yield rV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield TC(t);return r||n}return e}),RC.apply(this,arguments)}function rV(t){return Qh(t,e=>{if(!e)throw cs.create("installation-not-found");return iV(e)})}function iV(t){return function Nfe(t){return 1===t.registrationStatus&&t.registrationTime+GF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function PC(){return PC=x(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Ofe(t,{fid:e}){return`${gC(t)}/${e}/authTokens:generate`}(t,n),i=function XF(t,{refreshToken:e}){const n=QF(t);return n.append("Authorization",function vfe(t){return`${WF} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:qF,appId:t.appId}})},c=yield vC(()=>fetch(r,a));if(c.ok)return YF(yield c.json());throw yield mC("Generate Auth Token",c)}),PC.apply(this,arguments)}function NC(t){return kC.apply(this,arguments)}function kC(){return kC=x(function*(t,e=!1){let n;const r=yield Qh(t.appConfig,o=>{if(!sV(o))throw cs.create("not-registered");const s=o.authToken;if(!e&&function Lfe(t){return 2===t.requestStatus&&!function Bfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+hfe}(t)}(s))return o;if(1===s.requestStatus)return n=function Ffe(t,e){return OC.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw cs.create("app-offline");const a=function Hfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Vfe(t,e){return FC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),kC.apply(this,arguments)}function OC(){return OC=x(function*(t,e){let n=yield oV(t.appConfig);for(;1===n.authToken.requestStatus;)yield JF(100),n=yield oV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?NC(t,e):r}),OC.apply(this,arguments)}function oV(t){return Qh(t,e=>{if(!sV(e))throw cs.create("not-registered");return function zfe(t){return 1===t.requestStatus&&t.requestTime+GF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function FC(){return FC=x(function*(t,e){try{const n=yield function kfe(t,e){return PC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Hm(t.appConfig,r),n}catch(n){if(!KF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Hm(t.appConfig,r)}else yield wC(t.appConfig);throw n}}),FC.apply(this,arguments)}function sV(t){return void 0!==t&&2===t.registrationStatus}function VC(){return VC=x(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield TC(e);return r?r.catch(console.error):NC(e).catch(console.error),n.fid}),VC.apply(this,arguments)}function LC(){return LC=x(function*(t,e=!1){const n=t;return yield function $fe(t){return BC.apply(this,arguments)}(n),(yield NC(n,e)).token}),LC.apply(this,arguments)}function BC(){return BC=x(function*(t){const{registrationPromise:e}=yield TC(t);e&&(yield e)}),BC.apply(this,arguments)}function UC(t){return cs.create("missing-app-config-values",{valueName:t})}const aV="installations",Yfe=t=>{const e=t.getProvider("app").getImmediate(),n=function Wfe(t){if(!t||!t.options)throw UC("App Configuration");if(!t.name)throw UC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw UC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ao(e,"heartbeat"),_delete:()=>Promise.resolve()}},Qfe=t=>{const n=ao(t.getProvider("app").getImmediate(),aV).getImmediate();return{getId:()=>function Ufe(t){return VC.apply(this,arguments)}(n),getToken:i=>function jfe(t){return LC.apply(this,arguments)}(n,i)}};(function Xfe(){yi(new Jr(aV,Yfe,"PUBLIC")),yi(new Jr("installations-internal",Qfe,"PRIVATE"))})(),sn($F,pC),sn($F,pC,"esm2017");const zm="analytics",Jfe="firebase_id",Zfe="origin",ehe=6e4,the="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jC="https://www.googletagmanager.com/gtag/js",zn=new bf("@firebase/analytics"),Mr=new Ss("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rhe(t){if(!t.startsWith(jC)){const e=Mr.create("invalid-gtag-resource",{gtagURL:t});return zn.warn(e.message),""}return t}function cV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $C(){return $C=x(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield cV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){zn.error(a)}t("config",i,o)}),$C.apply(this,arguments)}function GC(){return GC=x(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield cV(n);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){zn.error(o)}}),GC.apply(this,arguments)}const fhe=30,lV=new class phe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ghe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function qC(){return qC=x(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:ghe(r)},o=the.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Mr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}),qC.apply(this,arguments)}function WC(){return WC=x(function*(t,e=lV,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Mr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Mr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ehe;return setTimeout(x(function*(){a.abort()}),void 0!==n?n:ehe),uV({appId:r,apiKey:i,measurementId:o},s,a,e)}),WC.apply(this,arguments)}function uV(t,e,n){return KC.apply(this,arguments)}function KC(){return KC=x(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=lV){var o;const{appId:s,measurementId:a}=t;try{yield function vhe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function mhe(t){return qC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function yhe(t){if(!(t instanceof Fi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(s),a)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?M4(n,i.intervalMillis,fhe):M4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,d),zn.debug(`Calling attemptFetch again in ${u} millis`),uV(t,d,r,i)}}),KC.apply(this,arguments)}class Ehe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let YC,nI;function QC(){return QC=x(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}}),QC.apply(this,arguments)}function JC(){return JC=x(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),JC.apply(this,arguments)}function rI(){return rI=x(function*(){if(!yf())return zn.warn(Mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield D4()}catch(t){return zn.warn(Mr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),rI.apply(this,arguments)}function iI(){return iI=x(function*(t,e,n,r,i,o,s){var a;const c=function _he(t){return WC.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>zn.error(h)),e.push(c);const l=function Dhe(){return rI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function dhe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jC)&&n.src.includes(t))return n;return null})(o)||function ohe(t,e){const n=function ihe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:rhe}),r=document.createElement("script"),i=`${jC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,u.measurementId),nI&&(i("consent","default",nI),function dV(t){nI=t}(void 0)),i("js",new Date);const f=null!==(a=s?.config)&&void 0!==a?a:{};return f[Zfe]="firebase",f.update=!0,null!=d&&(f[Jfe]=d),i("config",u.measurementId,f),YC&&(i("set",YC),function fV(t){YC=t}(void 0)),u.measurementId}),iI.apply(this,arguments)}class She{constructor(e){this.app=e}_delete(){return delete xo[this.app.options.appId],Promise.resolve()}}let xo={},hV=[];const pV={};let mV,Co,Um="dataLayer",oI=!1;function Rhe(t,e,n){!function Mhe(){const t=[];if(A4()&&t.push("This is a browser extension environment."),f9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mr.create("invalid-analytics-context",{errorInfo:e});zn.warn(n.message)}}();const r=t.options.appId;if(!r)throw Mr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Mr.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xo[r])throw Mr.create("already-exists",{id:r});if(!oI){!function she(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Um);const{wrappedGtag:o,gtagCore:s}=function uhe(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function lhe(t,e,n,r){function o(){return o=x(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function che(t,e,n,r,i){return GC.apply(this,arguments)}(t,e,n,c,l)}else if("config"===s){const[c,l]=a;yield function ahe(t,e,n,r,i,o){return $C.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===s){const[c]=a;t("consent","update",c)}else if("get"===s){const[c,l,u]=a;t("get",c,l,u)}else if("set"===s){const[c]=a;t("set",c)}else t(s,...a)}catch(c){zn.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(xo,hV,pV,Um,"gtag");Co=o,mV=s,oI=!0}return xo[r]=function The(t,e,n,r,i,o,s){return iI.apply(this,arguments)}(t,hV,pV,e,mV,Um,n),new She(t)}function Phe(t=Pl()){const e=ao(t=on(t),zm);return e.isInitialized()?e.getImmediate():function Nhe(t,e={}){const n=ao(t,zm);if(n.isInitialized()){const i=n.getImmediate();if(Ef(e,n.getOptions()))return i;throw Mr.create("already-initialized")}return n.initialize({options:e})}(t)}function khe(){return sI.apply(this,arguments)}function sI(){return(sI=x(function*(){if(A4()||!f9()||!yf())return!1;try{return yield D4()}catch{return!1}})).apply(this,arguments)}function Ohe(t,e,n){t=on(t),function Ihe(t,e,n,r){return JC.apply(this,arguments)}(Co,xo[t.app.options.appId],e,n).catch(r=>zn.error(r))}function _V(t,e,n,r){t=on(t),function xhe(t,e,n,r,i){return QC.apply(this,arguments)}(Co,xo[t.app.options.appId],e,n,r).catch(i=>zn.error(i))}const vV="@firebase/analytics";!function Fhe(){yi(new Jr(zm,(e,{options:n})=>Rhe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),yi(new Jr("analytics-internal",function t(e){try{const n=e.getProvider(zm).getImmediate();return{logEvent:(r,i,o)=>_V(n,r,i,o)}}catch(n){throw Mr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),sn(vV,"0.10.0"),sn(vV,"0.10.0","esm2017")}();const Xh=I(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Lhe}=Array,{getPrototypeOf:Bhe,prototype:Hhe,keys:zhe}=Object;function EV(t){if(1===t.length){const e=t[0];if(Lhe(e))return{args:e,keys:null};if(function Uhe(t){return t&&"object"==typeof t&&Bhe(t)===Hhe}(e)){const n=zhe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:jhe}=Array;function xV(t){return Qe(e=>function $he(t,e){return jhe(e)?t(...e):t(e)}(t,e))}function CV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function IV(...t){const e=ld(t),n=_w(t),{args:r,keys:i}=EV(t);if(0===r.length)return jn([],e);const o=new de(function Ghe(t,e,n=ve){return r=>{bV(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)bV(e,()=>{const l=jn(t[c],e);let u=!1;l.subscribe(tt(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>CV(i,s):ve));return n?o.pipe(xV(n)):o}function bV(t,e,n){t?Po(n,t,e):e()}function wV(t){return new de(e=>{or(t()).subscribe(e)})}function Jh(t,e){const n=M(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function cI(){return Ve((t,e)=>{let n=null;t._refCount++;const r=tt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class AV extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Y;const n=this.getSubject();e.add(this.source.subscribe(tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Y.EMPTY)}return e}refCount(){return cI()(this)}}function Fu(t){return t<=0?()=>Wi:Ve((e,n)=>{let r=0;e.subscribe(tt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function jm(t){return Ve((e,n)=>{let r=!1;e.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function DV(t=qhe){return Ve((e,n)=>{let r=!1;e.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qhe(){return new Xh}function _c(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Eo((i,o)=>t(i,o,r)):ve,Fu(1),n?jm(e):DV(()=>new Xh))}function Zh(t,e){return M(e)?Un(t,e,1):Un(t,1)}function vc(t){return Ve((e,n)=>{let o,r=null,i=!1;r=e.subscribe(tt(n,void 0,void 0,s=>{o=or(t(s,vc(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function lI(t){return t<=0?()=>Wi:Ve((e,n)=>{let r=[];e.subscribe(tt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function e0(t){return Ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Je="primary",t0=Symbol("RouteTitle");class Jhe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Vu(t){return new Jhe(t)}function Zhe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Io(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!TV(t[i],e[i]))return!1;return!0}function TV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function SV(t){return t.length>0?t[t.length-1]:null}function sa(t){return function Vhe(t){return!!t&&(t instanceof de||M(t.lift)&&M(t.subscribe))}(t)?t:Xd(t)?jn(Promise.resolve(t)):Le(t)}const t0e={exact:function PV(t,e,n){if(!yc(t.segments,e.segments)||!$m(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!PV(t.children[r],e.children[r],n))return!1;return!0},subset:NV},MV={exact:function n0e(t,e){return Io(t,e)},subset:function r0e(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>TV(t[n],e[n]))},ignored:()=>!0};function RV(t,e,n){return t0e[n.paths](t.root,e.root,n.matrixParams)&&MV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function NV(t,e,n){return kV(t,e,e.segments,n)}function kV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!yc(i,n)||e.hasChildren()||!$m(i,n,r))}if(t.segments.length===n.length){if(!yc(t.segments,n)||!$m(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!NV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(yc(t.segments,i)&&$m(t.segments,i,r)&&t.children[Je])&&kV(t.children[Je],e,o,r)}}function $m(t,e,n){return e.every((r,i)=>MV[n](t[i].parameters,r.parameters))}class Lu{constructor(e=new Ct([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap}toString(){return s0e.serialize(this)}}class Ct{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gm(this)}}class n0{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Vu(this.parameters)),this._parameterMap}toString(){return VV(this)}}function yc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let r0=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new uI},providedIn:"root"}),e})();class uI{parse(e){const n=new _0e(e);return new Lu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${o0(e.root,!0)}`,r=function l0e(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${qm(n)}=${qm(i)}`).join("&"):`${qm(n)}=${qm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function a0e(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const s0e=new uI;function Gm(t){return t.segments.map(e=>VV(e)).join("/")}function o0(t,e){if(!t.hasChildren())return Gm(t);if(e){const n=t.children[Je]?o0(t.children[Je],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Je&&r.push(`${i}:${o0(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function o0e(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Je&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Je&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Je?[o0(t.children[Je],!1)]:[`${i}:${o0(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Je]?`${Gm(t)}/${n[0]}`:`${Gm(t)}/(${n.join("//")})`}}function OV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qm(t){return OV(t).replace(/%3B/gi,";")}function dI(t){return OV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wm(t){return decodeURIComponent(t)}function FV(t){return Wm(t.replace(/\+/g,"%20"))}function VV(t){return`${dI(t.path)}${function c0e(t){return Object.keys(t).map(e=>`;${dI(e)}=${dI(t[e])}`).join("")}(t.parameters)}`}const u0e=/^[^\/()?;#]+/;function fI(t){const e=t.match(u0e);return e?e[0]:""}const d0e=/^[^\/()?;=#]+/,h0e=/^[^=?&#]+/,g0e=/^[^&#]+/;class _0e{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Je]=new Ct(e,n)),r}parseSegment(){const e=fI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new n0(Wm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function f0e(t){const e=t.match(d0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=fI(this.remaining);i&&(r=i,this.capture(r))}e[Wm(n)]=Wm(r)}parseQueryParam(e){const n=function p0e(t){const e=t.match(h0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function m0e(t){const e=t.match(g0e);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=FV(n),o=FV(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=fI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Je);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Je]:new Ct([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}}function LV(t){return t.segments.length>0?new Ct([],{[Je]:t}):t}function BV(t){const e={};for(const r of Object.keys(t.children)){const o=BV(t.children[r]);if(r===Je&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function v0e(t){if(1===t.numberOfChildren&&t.children[Je]){const e=t.children[Je];return new Ct(t.segments.concat(e.segments),e.children)}return t}(new Ct(t.segments,e))}function Ec(t){return t instanceof Lu}function HV(t){let e;const i=LV(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new Ct(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function zV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return hI(i,i,i,n,r);const o=function E0e(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new jV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new jV(n,e,r)}(e);if(o.toRoot())return hI(i,i,new Ct([],{}),n,r);const s=function x0e(t,e,n){if(t.isAbsolute)return new Ym(e,!0,0);if(!n)return new Ym(e,!1,NaN);if(null===n.parent)return new Ym(n,!0,0);const r=Km(t.commands[0])?0:1;return function C0e(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new te(4005,!1);i=r.segments.length}return new Ym(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?a0(s.segmentGroup,s.index,o.commands):$V(s.segmentGroup,s.index,o.commands);return hI(i,s.segmentGroup,a,n,r)}function Km(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function s0(t){return"object"==typeof t&&null!=t&&t.outlets}function hI(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=t===e?n:UV(t,e,n);const a=LV(BV(s));return new Lu(a,o,i)}function UV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:UV(o,e,n)}),new Ct(t.segments,r)}class jV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Km(r[0]))throw new te(4003,!1);const i=r.find(s0);if(i&&i!==SV(r))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ym{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function $V(t,e,n){if(t||(t=new Ct([],{})),0===t.segments.length&&t.hasChildren())return a0(t,e,n);const r=function b0e(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(s0(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!qV(c,l,s))return o;r+=2}else{if(!qV(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Ct(t.segments.slice(0,r.pathIndex),{});return o.children[Je]=new Ct(t.segments.slice(r.pathIndex),t.children),a0(o,0,i)}return r.match&&0===i.length?new Ct(t.segments,{}):r.match&&!t.hasChildren()?pI(t,e,n):r.match?a0(t,0,i):pI(t,e,n)}function a0(t,e,n){if(0===n.length)return new Ct(t.segments,{});{const r=function I0e(t){return s0(t[0])?t[0].outlets:{[Je]:t}}(n),i={};if(Object.keys(r).some(o=>o!==Je)&&t.children[Je]&&1===t.numberOfChildren&&0===t.children[Je].segments.length){const o=a0(t.children[Je],e,n);return new Ct(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=$V(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Ct(t.segments,i)}}function pI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(s0(o)){const c=w0e(o.outlets);return new Ct(r,c)}if(0===i&&Km(n[0])){r.push(new n0(t.segments[e].path,GV(n[0]))),i++;continue}const s=s0(o)?o.outlets[Je]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Km(a)?(r.push(new n0(s,GV(a))),i+=2):(r.push(new n0(s,{})),i++)}return new Ct(r,{})}function w0e(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=pI(new Ct([],{}),0,r))}),e}function GV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function qV(t,e,n){return t==n.path&&Io(e,n.parameters)}const c0="imperative";class bo{constructor(e,n){this.id=e,this.url=n}}class gI extends bo{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bu extends bo{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class l0 extends bo{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class u0 extends bo{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Qm extends bo{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WV extends bo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A0e extends bo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D0e extends bo{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class T0e extends bo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S0e extends bo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M0e{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class R0e{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class P0e{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N0e{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k0e{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KV{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mI{}class _I{constructor(e){this.url=e}}class O0e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new d0,this.attachRef=null}}let d0=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new O0e,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class YV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=vI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=vI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=yI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yI(e,this._root).map(n=>n.value)}}function vI(t,e){if(t===e.value)return e;for(const n of e.children){const r=vI(t,n);if(r)return r}return null}function yI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yI(t,n);if(r.length)return r.unshift(e),r}return[]}class ls{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Hu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class QV extends YV{constructor(e,n){super(e),this.snapshot=n,EI(this,e)}toString(){return this.snapshot.toString()}}function XV(t,e){const n=function F0e(t,e){const s=new Xm([],{},{},"",{},Je,e,null,{});return new ZV("",new ls(s,[]))}(0,e),r=new ai([new n0("",{})]),i=new ai({}),o=new ai({}),s=new ai({}),a=new ai(""),c=new zu(r,i,s,a,o,Je,e,n.root);return c.snapshot=n.root,new QV(new ls(c,[]),n)}class zu{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Qe(l=>l[t0]))??Le(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Qe(e=>Vu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Qe(e=>Vu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function V0e(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Xm{get title(){return this.data?.[t0]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ZV extends YV{constructor(e,n){super(n),this.url=e,EI(this,n)}toString(){return eL(this._root)}}function EI(t,e){e.value._routerState=t,e.children.forEach(n=>EI(t,n))}function eL(t){const e=t.children.length>0?` { ${t.children.map(eL).join(", ")} } `:"";return`${t.value}${e}`}function xI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Io(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Io(e.params,n.params)||t.paramsSubject.next(n.params),function e0e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Io(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Io(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function CI(t,e){const n=Io(t.params,e.params)&&function i0e(t,e){return yc(t,e)&&t.every((n,r)=>Io(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||CI(t.parent,e.parent))}let tL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Je,this.activateEvents=new jt,this.deactivateEvents=new jt,this.attachEvents=new jt,this.detachEvents=new jt,this.parentContexts=W(d0),this.location=W(Pi),this.changeDetector=W($o),this.environmentInjector=W(gi),this.inputBinder=W(Jm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=r;const o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new L0e(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xr]}),e})();class L0e{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===zu?this.route:e===d0?this.childContexts:this.parent.get(e,n)}}const Jm=new Ee("");function f0(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function H0e(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return f0(t,r,i);return f0(t,r)})}(t,e,n);return new ls(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>f0(t,a)),s}}const r=function z0e(t){return new zu(new ai(t.url),new ai(t.params),new ai(t.queryParams),new ai(t.fragment),new ai(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>f0(t,o));return new ls(r,i)}}const II="ngNavigationCancelingError";function rL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function iL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[II]=!0,r.cancellationCode=e,n&&(r.url=n),r}function oL(t){return t&&t[II]}let bI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["ng-component"]],standalone:!0,features:[US],decls:1,vars:0,template:function(r,i){1&r&&st(0,"router-outlet")},dependencies:[tL],encapsulation:2}),e})();function wI(t){const e=t.children&&t.children.map(wI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Je&&(n.component=bI),n}function zi(t){return t.outlet||Je}function h0(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Y0e{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),xI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Hu(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Hu(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new KV(o.value.snapshot))}),e.children.length&&this.forwardEvent(new N0e(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(xI(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xI(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=h0(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class sL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Zm{constructor(e,n){this.component=e,this.route=n}}function Q0e(t,e,n){const r=t._root;return p0(r,e?e._root:null,n,[r.value])}function Uu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function bj(t){return null!==ip(t)}(t)?e.get(t):t:r}function p0(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hu(e);return t.children.forEach(s=>{(function J0e(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Z0e(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!yc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!yc(t.url,e.url)||!Io(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!CI(t,e)||!Io(t.queryParams,e.queryParams);default:return!CI(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new sL(r)):(o.data=s.data,o._resolvedData=s._resolvedData),p0(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zm(a.outlet.component,s))}else s&&g0(e,a,i),i.canActivateChecks.push(new sL(r)),p0(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>g0(a,n.getContext(s),i)),i}function g0(t,e,n){const r=Hu(t),i=t.value;Object.entries(r).forEach(([o,s])=>{g0(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Zm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function m0(t){return"function"==typeof t}function aL(t){return t instanceof Xh||"EmptyError"===t?.name}const e2=Symbol("INITIAL_VALUE");function ju(){return ci(t=>IV(t.map(e=>e.pipe(Fu(1),LF(e2)))).pipe(Qe(e=>{for(const n of e)if(!0!==n){if(n===e2)return e2;if(!1===n||n instanceof Lu)return n}return!0}),Eo(e=>e!==e2),Fu(1)))}function cL(t){return function se(...t){return Fe(t)}(Qn(e=>{if(Ec(e))throw rL(0,e)}),Qe(e=>!0===e))}class t2{constructor(e){this.segmentGroup=e||null}}class lL{constructor(e){this.urlTree=e}}function $u(t){return Jh(new t2(t))}function uL(t){return Jh(new lL(t))}class ype{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new te(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Le(r);if(i.numberOfChildren>1||!i.children[Je])return Jh(new te(4e3,!1));i=i.children[Je]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Lu(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ct(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new te(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const AI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Epe(t,e,n,r,i){const o=DI(t,e,n);return o.matched?(r=function j0e(t,e){return t.providers&&!t._injector&&(t._injector=zS(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function mpe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Le(i.map(s=>{const a=Uu(s,t);return sa(function ope(t){return t&&m0(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ju(),cL()):Le(!0)}(r,e,n).pipe(Qe(s=>!0===s?o:{...AI}))):Le(o)}function DI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...AI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Zhe)(n,t,e);if(!i)return{...AI};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dL(t,e,n,r){return n.length>0&&function Ipe(t,e,n){return n.some(r=>n2(t,e,r)&&zi(r)!==Je)}(t,n,r)?{segmentGroup:new Ct(e,Cpe(r,new Ct(n,t.children))),slicedSegments:[]}:0===n.length&&function bpe(t,e,n){return n.some(r=>n2(t,e,r))}(t,n,r)?{segmentGroup:new Ct(t.segments,xpe(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ct(t.segments,t.children),slicedSegments:n}}function xpe(t,e,n,r,i){const o={};for(const s of r)if(n2(t,n,s)&&!i[zi(s)]){const a=new Ct([],{});o[zi(s)]=a}return{...i,...o}}function Cpe(t,e){const n={};n[Je]=e;for(const r of t)if(""===r.path&&zi(r)!==Je){const i=new Ct([],{});n[zi(r)]=i}return n}function n2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Tpe{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new ype(this.urlSerializer,this.urlTree)}noMatchError(e){return new te(4002,!1)}recognize(){const e=dL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Je).pipe(vc(n=>{if(n instanceof lL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof t2?this.noMatchError(n):n}),Qe(n=>{const r=new Xm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Je,this.rootComponentType,null,{}),i=new ls(r,n),o=new ZV("",i),s=function y0e(t,e,n=null,r=null){return zV(HV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Je).pipe(vc(r=>{throw r instanceof t2?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=JV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return jn(i).pipe(Zh(o=>{const s=r.children[o],a=function W0e(t,e){const n=t.filter(r=>zi(r)===e);return n.push(...t.filter(r=>zi(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function Khe(t,e){return Ve(function Whe(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(tt(s,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),jm(null),function Yhe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Eo((i,o)=>t(i,o,r)):ve,lI(1),n?jm(e):DV(()=>new Xh))}(),Un(o=>{if(null===o)return $u(r);const s=fL(o);return function Spe(t){t.sort((e,n)=>e.value.outlet===Je?-1:n.value.outlet===Je?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Le(s)}))}processSegment(e,n,r,i,o,s){return jn(n).pipe(Zh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(vc(c=>{if(c instanceof t2)return Le(null);throw c}))),_c(a=>!!a),vc(a=>{if(aL(a))return function Ape(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Le([]):$u(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function wpe(t,e,n,r){return!!(zi(t)===r||r!==Je&&n2(e,n,t))&&("**"===t.path||DI(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):$u(i):$u(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uL(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Un(s=>{const a=new Ct(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=DI(n,i,o);if(!a)return $u(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?uL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Un(f=>this.processSegment(e,r,n,f.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?SV(i).parameters:{};a=Le({snapshot:new Xm(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hL(r),zi(r),r.component??r._loadedComponent??null,r,pL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Epe(n,r,i,e).pipe(Qe(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new Xm(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hL(r),zi(r),r.component??r._loadedComponent??null,r,pL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(ci(c=>null===c?$u(n):this.getChildConfig(e=r._injector??e,r,i).pipe(ci(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=dL(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Qe(S=>null===S?null:[new ls(d,S)]));if(0===l.length&&0===g.length)return Le([new ls(d,[])]);const E=zi(r)===o;return this.processSegment(u,l,p,g,E?Je:o,!0).pipe(Qe(S=>[new ls(d,S)]))}))))}getChildConfig(e,n,r){return n.children?Le({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Le({routes:n._loadedRoutes,injector:n._loadedInjector}):function gpe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Le(!0):Le(i.map(s=>{const a=Uu(s,t);return sa(function tpe(t){return t&&m0(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ju(),cL())}(e,n,r).pipe(Un(i=>i?this.configLoader.loadChildren(e,n).pipe(Qn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function vpe(t){return Jh(iL(!1,3))}())):Le({routes:[],injector:e})}}function Mpe(t){const e=t.value.routeConfig;return e&&""===e.path}function fL(t){const e=[],n=new Set;for(const r of t){if(!Mpe(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=fL(r.children);e.push(new ls(r.value,i))}return e.filter(r=>!n.has(r))}function hL(t){return t.data||{}}function pL(t){return t.resolve||{}}function gL(t){return"string"==typeof t.title||null===t.title}function TI(t){return ci(e=>{const n=t(e);return n?jn(n).pipe(Qe(()=>e)):Le(e)})}const r2=new Ee("ROUTES");let mL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=W(cJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Le(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=sa(r.loadComponent()).pipe(Qe(_L),Qn(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),e0(()=>{this.componentLoaders.delete(r)})),o=new AV(i,()=>new ee).pipe(cI());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Le({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Vpe(t,e,n,r){return sa(t.loadChildren()).pipe(Qe(_L),Un(i=>i instanceof BS||Array.isArray(i)?Le(i):jn(e.compileModuleAsync(i))),Qe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(r2,[],{optional:!0,self:!0}).flat()),{routes:s.map(wI),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(e0(()=>{this.childrenLoaders.delete(i)})),a=new AV(s,()=>new ee).pipe(cI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function _L(t){return function Lpe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let o2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ee,this.transitionAbortSubject=new ee,this.configLoader=W(mL),this.environmentInjector=W(gi),this.urlSerializer=W(r0),this.rootContexts=W(d0),this.inputBindingEnabled=null!==W(Jm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Le(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new R0e(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new M0e(o))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,o){return this.transitions=new ai({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:c0,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Eo(s=>0!==s.id),Qe(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),ci(s=>{this.currentTransition=s;let a=!1,c=!1;return Le(s).pipe(Qn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ci(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new u0(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Wi}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Le(l).pipe(ci(h=>{const p=this.transitions?.getValue();return this.events.next(new gI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Wi:Promise.resolve(h)}),function Rpe(t,e,n,r,i,o){return Un(s=>function Dpe(t,e,n,r,i,o,s="emptyOnly"){return new Tpe(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Qe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Qn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new WV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:E,extras:S}=l,w=new gI(h,this.urlSerializer.serialize(p),g,E);this.events.next(w);const $=XV(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:$,urlAfterRedirects:p,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},Le(s)}{const h="";return this.events.next(new u0(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Wi}}),Qn(l=>{const u=new A0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Qe(l=>(this.currentTransition=s={...l,guards:Q0e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function ape(t,e){return Un(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Le({...n,guardsResult:!0}):function cpe(t,e,n,r){return jn(t).pipe(Un(i=>function ppe(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Le(o.map(a=>{const c=h0(e)??i,l=Uu(a,c);return sa(function ipe(t){return t&&m0(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(_c())})).pipe(ju()):Le(!0)}(i.component,i.route,n,e,r)),_c(i=>!0!==i,!0))}(s,r,i,t).pipe(Un(a=>a&&function epe(t){return"boolean"==typeof t}(a)?function lpe(t,e,n,r){return jn(e).pipe(Zh(i=>aC(function dpe(t,e){return null!==t&&e&&e(new P0e(t)),Le(!0)}(i.route.parent,r),function upe(t,e){return null!==t&&e&&e(new k0e(t)),Le(!0)}(i.route,r),function hpe(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function X0e(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>wV(()=>Le(s.guards.map(c=>{const l=h0(s.node)??n,u=Uu(c,l);return sa(function rpe(t){return t&&m0(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(_c())})).pipe(ju())));return Le(o).pipe(ju())}(t,i.path,n),function fpe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Le(!0);const i=r.map(o=>wV(()=>{const s=h0(e)??n,a=Uu(o,s);return sa(function npe(t){return t&&m0(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(_c())}));return Le(i).pipe(ju())}(t,i.route,n))),_c(i=>!0!==i,!0))}(r,o,t,e):Le(a)),Qe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Qn(l=>{if(s.guardsResult=l.guardsResult,Ec(l.guardsResult))throw rL(0,l.guardsResult);const u=new D0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Eo(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),TI(l=>{if(l.guards.canActivateChecks.length)return Le(l).pipe(Qn(u=>{const d=new T0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ci(u=>{let d=!1;return Le(u).pipe(function Ppe(t,e){return Un(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Le(n);let o=0;return jn(i).pipe(Zh(s=>function Npe(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!gL(i)&&(o[t0]=i.title),function kpe(t,e,n,r){const i=function Ope(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Le({});const o={};return jn(i).pipe(Un(s=>function Fpe(t,e,n,r){const i=h0(e)??r,o=Uu(t,i);return sa(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(_c(),Qn(a=>{o[s]=a}))),lI(1),function Qhe(t){return Qe(()=>t)}(o),vc(s=>aL(s)?Wi:Jh(s)))}(o,t,e,r).pipe(Qe(s=>(t._resolvedData=s,t.data=JV(t,n).resolve,i&&gL(i)&&(t.data[t0]=i.title),null)))}(s.route,r,t,e)),Qn(()=>o++),lI(1),Un(s=>o===i.length?Le(n):Wi))})}(r.paramsInheritanceStrategy,this.environmentInjector),Qn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Qn(u=>{const d=new S0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),TI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Qn(h=>{d.component=h}),Qe(()=>{})));for(const h of d.children)f.push(...u(h));return f};return IV(u(l.targetSnapshot.root)).pipe(jm(),Fu(1))}),TI(()=>this.afterPreactivation()),Qe(l=>{const u=function B0e(t,e,n){const r=f0(t,e._root,n?n._root:void 0);return new QV(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},s}),Qn(()=>{this.events.next(new mI)}),((t,e,n,r)=>Qe(i=>(new Y0e(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Fu(1),Qn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Xhe(t){return Ve((e,n)=>{or(t).subscribe(tt(n,()=>n.complete(),D)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Qn(l=>{throw l}))),e0(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),vc(l=>{if(c=!0,oL(l))this.events.next(new l0(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function U0e(t){return oL(t)&&Ec(t.url)}(l)?this.events.next(new _I(l.url)):s.resolve(!1);else{this.events.next(new Qm(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){s.reject(u)}}return Wi}))}))}cancelNavigationTransition(r,i,o){const s=new l0(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function vL(t){return t!==c0}let yL=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Je);return i}getResolvedTitleForRoute(r){return r.data[t0]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return W(Bpe)},providedIn:"root"}),e})(),Bpe=(()=>{var t;class e extends yL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(C4))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Hpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return W(Upe)},providedIn:"root"}),e})();class zpe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Upe=(()=>{var t;class e extends zpe{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Kn(t)))(i||t)}}(),t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const SI=new Ee("",{providedIn:"root",factory:()=>({})});let jpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return W($pe)},providedIn:"root"}),e})(),$pe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var _0=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_0||{});function Gpe(t){throw t}function qpe(t,e,n){return e.parse("/")}const Wpe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=W(k7),this.isNgZoneEnabled=!1,this._events=new ee,this.options=W(SI,{optional:!0})||{},this.pendingTasks=W(Eg),this.errorHandler=this.options.errorHandler||Gpe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qpe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=W(jpe),this.routeReuseStrategy=W(Hpe),this.titleStrategy=W(yL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=W(r2,{optional:!0})?.flat()??[],this.navigationTransitions=W(o2),this.urlSerializer=W(r0),this.location=W(Qy),this.componentInputBindingEnabled=!!W(Jm,{optional:!0}),this.eventsSubscription=new Y,this.isNgZoneEnabled=W(ft)instanceof ft&&ft.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=XV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(xL(i)&&this._events.next(i));if(i instanceof gI)vL(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof u0)this.rawUrlTree=o.rawUrl;else if(i instanceof WV){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(s,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof mI)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof l0)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof _I){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vL(o.source)};this.scheduleNavigation(s,c0,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Qm&&this.restoreHistory(o,!0),i instanceof Bu&&(this.navigated=!0),xL(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),c0,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(wI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{f=HV(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return zV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=Ec(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,c0,null,i)}navigate(r,i={skipLocationChange:!1}){return function Ype(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new te(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}isActive(r,i){let o;if(o=!0===i?{...Wpe}:!1===i?{...Kpe}:i,Ec(r))return RV(this.currentUrlTree,r,o);const s=this.parseUrl(r);return RV(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{const s=r[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function EL(t,e){t.events.pipe(Eo(n=>n instanceof Bu||n instanceof l0||n instanceof Qm||n instanceof u0),Qe(n=>n instanceof Bu||n instanceof u0?_0.COMPLETE:n instanceof l0&&(0===n.code||1===n.code)?_0.REDIRECTING:_0.FAILED),Eo(n=>n!==_0.REDIRECTING),Fu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function xL(t){return!(t instanceof mI||t instanceof _I)}class Gu{constructor(e){return e}}const TL="analytics",NI="__angularfire_symbol__analyticsIsSupportedValue",SL="__angularfire_symbol__analyticsIsSupported";globalThis[SL]||=khe().then(t=>globalThis[NI]=t).catch(()=>globalThis[NI]=!1);const s2={async:()=>globalThis[SL],sync:()=>{const t=globalThis[NI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},ML=s2.async,RL=an(Phe,!0),v0=an(_V,!0),ige=an(Ohe,!0);let kI=(()=>{var t;class e{constructor(r,i,o){let s;mt(this,"initialized",void 0),mt(this,"disposables",[]),sn("angularfire",Rs.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{s=a})),ML().then(()=>{const a=o.get(Gu);a?this.disposables=[$R(r).subscribe(c=>{ige(a,c?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)(Se(zf),Se(ft),Se(Tn))}),mt(e,"\u0275prov",be({token:t,factory:t.\u0275fac})),e})();const PL="firebase_screen_id",OI="outlet",y0="screen_class",NL="screen_name";let mge=Math.floor(Math.random()*(2**32-1))-2**31;const FI={},_ge=t=>{const e=[t[y0],t[OI]].join("#");if(FI.hasOwnProperty(e))return FI[e];{const n=mge++;return FI[e]=n,n}},vge=(t,e,n)=>t.events.pipe(Eo(i=>i instanceof KV)).pipe(ci(i=>{const s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return Le(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[NL]:l,page_path:`/${s}`,firebase_event_origin:"auto",firebase_screen:l,[OI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===bI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return Le({...u,[y0]:d});if(d){const f=n.resolveComponentFactory(d);return Le({...u,[y0]:f.selector})}return Le(null)}),Eo(i=>!!i),Qe(i=>({firebase_screen_class:i[y0],[PL]:_ge(i),...i})),function Jde(t,e,n,r){return Ve((i,o)=>{let s;e&&"function"!=typeof e?({duration:n,element:s,connector:r}=e):s=e;const a=new Map,c=p=>{a.forEach(p),p(o)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new Ze(o,p=>{try{const g=t(p);let E=a.get(g);if(!E){a.set(g,E=r?r():new ee);const S=function h(p,g){const E=new de(S=>{u++;const w=g.subscribe(S);return()=>{w.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return E.key=p,E}(g,E);if(o.next(S),n){const w=tt(E,()=>{E.complete(),w?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(or(n(S)).subscribe(w))}}E.next(s?s(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[OI]),Un(i=>i.pipe(Ew((o,s)=>JSON.stringify(o)===JSON.stringify(s)),LF(void 0),function efe(){return Ve((t,e)=>{let n,r=!1;t.subscribe(tt(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}(),Qe(([o,s])=>o?{firebase_previous_class:o[y0],firebase_previous_screen:o[NL],firebase_previous_id:o[PL],...s}:s))));let kL=(()=>{var t;class e{constructor(r,i,o,s,a,c){mt(this,"disposable",void 0),sn("angularfire",Rs.full,"screen-tracking"),ML().then(()=>{const l=c.get(Gu);!r||!l||s.runOutsideAngular(()=>{this.disposable=vge(r,i,o).pipe(ci(function(){var u=x(function*(d){return a&&(yield a.initialized),v0(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)(Se(Ui,8),Se(C4,8),Se(Bd),Se(ft),Se(kI,8),Se(Tn))}),mt(e,"\u0275prov",be({token:t,factory:t.\u0275fac})),e})();const VI=new Ee("angularfire2.analytics-instances");function Ege(t){return(e,n)=>{if(!s2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new Gu(r)}}const xge={provide:class rge{constructor(){return Xg(TL)}},deps:[[new yn,VI]]},Cge={provide:Gu,useFactory:function yge(t,e){if(!s2.sync())return null;const n=Qg(TL,t,e);return n&&new Gu(n)},deps:[[new yn,VI],za]};let Ige=(()=>{var t;class e{constructor(r,i){sn("angularfire",Rs.full,"analytics")}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)(Se(kL,8),Se(kI,8))}),mt(e,"\u0275mod",Vt({type:t})),mt(e,"\u0275inj",St({providers:[Cge,xge,{provide:N7,useValue:s2.async,multi:!0}]})),e})();function OL(t,...e){return{ngModule:Ige,providers:[{provide:VI,useFactory:Ege(t),multi:!0,deps:[ft,Tn,Df,Tf,...e]}]}}let bge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Zd("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function wge(t,e){1&t&&(Z(0,"span",27),Ae(1,"1"),ce())}function Age(t,e){1&t&&(Z(0,"span",28),Ae(1,"1"),ce())}function Dge(t,e){if(1&t&&(Z(0,"span",29),Ae(1),ce()),2&t){const n=$t();ge(1),At(n.localOrdersBadge)}}function Tge(t,e){if(1&t&&(Z(0,"span",28),Ae(1),ce()),2&t){const n=e.ngIf;ge(1),At(n)}}let Sge=(()=>{var t;class e{constructor(){this.badgeService=W(kF),this.dgAPI=W(as),this.changeDetection=W($o),this.authService=W(ia),this.localStorageService=W(yo),this.analytics=W(Gu),this.localOrdersBadge=0,this.localUpdateBadge=!1,this.initialized=!1;let r=window.location.pathname.split("/");v0(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),v0(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.localOrdersBadge=this.localStorageService.get(Yt.ACTIVE_ORDERS),this.localUpdateBadge=this.localStorageService.get(Yt.UPDATE_AVAILABLE),this.updateAvailableNotification=new de(i=>{this.badgeService.checkVersion(i,this.changeDetection)}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.fleetOrdersNotification=new de(o=>{this.badgeService.checkFleetOrders(this.dgAPI.username(),o,this.changeDetection)}),this.initialized=!0)}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-navbar"]],decls:43,vars:15,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","local-update-badge notification-badge",4,"ngIf"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["style","z-index: 0","class","local-orders-badge notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"local-update-badge","notification-badge",2,"z-index","0"],[1,"notification-badge",2,"z-index","0"],[1,"local-orders-badge","notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(Z(0,"div",0)(1,"ul",1)(2,"li",2),Jt(3,wge,2,0,"span",3),Jt(4,Age,2,0,"span",4),Zt(5,"async"),Z(6,"a",5),st(7,"img",6),Z(8,"span",7),Ae(9,"home"),ce()()(),Z(10,"li",8)(11,"a",9),st(12,"img",10),Z(13,"span",7),Ae(14,"planets"),ce()()(),Z(15,"li",11)(16,"a",12),st(17,"img",13),Z(18,"span",7),Ae(19,"radar"),ce()()(),Z(20,"li",14),Jt(21,Dge,2,1,"span",15),Jt(22,Tge,2,1,"span",4),Zt(23,"async"),Z(24,"a",16),st(25,"img",17),Z(26,"span",7),Ae(27,"fleets"),ce()()(),Z(28,"li",18)(29,"a",19),st(30,"img",20),Z(31,"span",7),Ae(32,"navigation"),ce()()(),Z(33,"li",21)(34,"a",22),st(35,"img",23),Z(36,"span",7),Ae(37,"research"),ce()()(),Z(38,"li",24)(39,"a",25),st(40,"img",26),Z(41,"span",7),Ae(42,"alliances"),ce()()()()()),2&r&&(ge(2),ke("tabName","home"),ge(1),ke("ngIf",i.localUpdateBadge),ge(1),ke("ngIf",lr(5,11,i.updateAvailableNotification)),ge(6),ke("tabName","planets"),ge(5),ke("tabName","radar"),ge(5),ke("tabName","fleets"),ge(1),ke("ngIf",i.localOrdersBadge>0),ge(1),ke("ngIf",i.active&&lr(23,13,i.fleetOrdersNotification)),ge(6),ke("tabName","navigation"),ge(5),ke("tabName","research"),ge(5),ke("tabName","alliances"))},dependencies:[Ds,bge,Tl],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const mr_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},LI=new Map,FL={activated:!1,tokenObservers:[]},Mge={initialized:!1,enabled:!1};function un(t){return LI.get(t)||Object.assign({},FL)}function a2(){return Mge}const BI="https://content-firebaseappcheck.googleapis.com/v1",kge="exchangeDebugToken",VL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Fge{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return x(function*(){n.stop();try{n.pending=new Ml,yield function Vge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ml,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const nr=new Ss("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function c2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function HI(t){if(!un(t).activated)throw nr.create("use-before-activation",{appName:t.name})}function zI(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),o=e-3600*n*24-3600*r-60*i;let s="";return n&&(s+=l2(n)+"d:"),r&&(s+=l2(r)+"h:"),s+=l2(i)+"m:"+l2(o)+"s",s}function l2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function u2(t,e){return UI.apply(this,arguments)}function UI(){return UI=x(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw nr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw nr.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw nr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw nr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),UI.apply(this,arguments)}function LL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${BI}/projects/${n}/apps/${r}:${kge}?key=${i}`,body:{debug_token:e}}}const zge="firebase-app-check-database",Uge=1,E0="firebase-app-check-store",BL="debug-token";let d2=null;function HL(){return d2||(d2=new Promise((t,e)=>{try{const n=indexedDB.open(zge,Uge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(nr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(E0,{keyPath:"compositeKey"})}}catch(n){e(nr.create("storage-open",{originalErrorMessage:n?.message}))}}),d2)}function zL(t,e){return jI.apply(this,arguments)}function jI(){return jI=x(function*(t,e){const r=(yield HL()).transaction(E0,"readwrite"),o=r.objectStore(E0).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(nr.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),jI.apply(this,arguments)}function UL(t){return $I.apply(this,arguments)}function $I(){return $I=x(function*(t){const n=(yield HL()).transaction(E0,"readonly"),i=n.objectStore(E0).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{const c=a.target.result;o(c?c.value:void 0)},n.onerror=a=>{var c;s(nr.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),$I.apply(this,arguments)}function jL(t){return`${t.options.appId}-${t.name}`}const x0=new bf("@firebase/app-check");function GI(){return GI=x(function*(t){if(yf()){let e;try{e=yield function jge(t){return UL(jL(t))}(t)}catch(n){x0.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),GI.apply(this,arguments)}function qI(t,e){return yf()?function $ge(t,e){return zL(jL(t),e)}(t,e).catch(n=>{x0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function WI(){return WI=x(function*(){let t;try{t=yield function qge(){return UL(BL)}()}catch{}if(t)return t;{const e=ene();return function Gge(t){return zL(BL,t)}(e).catch(n=>x0.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),WI.apply(this,arguments)}function KI(){return a2().enabled}function YI(){return QI.apply(this,arguments)}function QI(){return QI=x(function*(){const t=a2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),QI.apply(this,arguments)}const Qge={error:"UNKNOWN_ERROR"};function Xge(t){return w4.encodeString(JSON.stringify(t),!1)}function f2(t){return XI.apply(this,arguments)}function XI(){return XI=x(function*(t,e=!1){const n=t.app;HI(n);const r=un(n);let o,i=r.token;if(i&&!qu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(qu(c)?i=c:yield qI(n,void 0))}if(!e&&i&&qu(i))return{token:i.token};let a,s=!1;if(KI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=u2(LL(n,yield YI()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield qI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield un(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?x0.warn(c.message):x0.error(c),o=c}return i?o?a=qu(i)?{token:i.token,internalError:o}:WL(o):(a={token:i.token},r.token=i,yield qI(n,i)):a=WL(o),s&&qL(n,a),a}),XI.apply(this,arguments)}function JI(){return JI=x(function*(t){const e=t.app;HI(e);const{provider:n}=un(e);if(KI()){const r=yield YI(),{token:i}=yield u2(LL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),JI.apply(this,arguments)}function ZI(t,e,n,r){const{app:i}=t,o=un(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&qu(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),GL(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>GL(t))}function eb(t,e){const n=un(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function GL(t){const{app:e}=t,n=un(e);let r=n.tokenRefresher;r||(r=function Jge(t){const{app:e}=t;return new Fge(x(function*(){let r;if(r=un(e).token?yield f2(t,!0):yield f2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=un(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},VL.RETRIAL_MIN_WAIT,VL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function qL(t,e){const n=un(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function qu(t){return t.expireTimeMillis-Date.now()>0}function WL(t){return{token:Xge(Qge),error:t}}class Zge{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=un(this.app);for(const n of e)eb(this.app,n.next);return Promise.resolve()}}function s1e(t,e){const n=new Ml;un(t).reCAPTCHAState={initialized:n};const i=function KL(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),o=c2(!1);return o?h2(t,e,o,i,n):function l1e(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const s=c2(!1);if(!s)throw new Error("no recaptcha");h2(t,e,s,i,n)}),n.promise}function h2(t,e,n,r,i){n.ready(()=>{(function c1e(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{un(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{un(t).reCAPTCHAState.succeeded=!1}}),o=un(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function tb(){return tb=x(function*(t){HI(t);const n=yield un(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=un(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}),tb.apply(this,arguments)}class wo{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return x(function*(){var n,r,i;!function ZL(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw nr.create("throttled",{time:zI(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const o=yield function YL(t){return tb.apply(this,arguments)}(e._app).catch(a=>{throw nr.create("recaptcha-error")});if(null===(n=un(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw nr.create("recaptcha-error");let s;try{s=yield u2(function Bge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${BI}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,o),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function JL(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=M4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),nr.create("throttled",{time:zI(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,s})()}initialize(e){this._app=e,this._heartbeatServiceProvider=ao(e,"heartbeat"),s1e(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof wo&&this._siteKey===e._siteKey}}function d1e(t=Pl(),e){const n=ao(t=on(t),"app-check");if(a2().initialized||function Yge(){const t=c9(),e=a2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Ml;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function Kge(){return WI.apply(this,arguments)}())}(),KI()&&YI().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw nr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function f1e(t,e,n){const r=function Rge(t,e){return LI.set(t,e),LI.get(t)}(t,Object.assign({},FL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Wge(t){return GI.apply(this,arguments)}(t).then(i=>(i&&qu(i)&&(r.token=i,qL(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),un(t).isTokenAutoRefreshEnabled&&ZI(r,"INTERNAL",()=>{}),r}const eB="app-check-internal";!function p1e(){yi(new Jr("app-check",t=>function e1e(t,e){return new Zge(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(eB).initialize()})),yi(new Jr(eB,t=>function t1e(t){return{getToken:e=>f2(t,e),getLimitedUseToken:()=>function $L(t){return JI.apply(this,arguments)}(t),addTokenListener:e=>ZI(t,"INTERNAL",e),removeTokenListener:e=>eb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),sn("@firebase/app-check","0.8.0")}();class rb{constructor(e){return e}}const ib=new Ee("angularfire2.app-check-instances"),m1e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function _1e(t){return(e,n,r)=>{!f4(r)&&m1e&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new rb(i)}}const v1e={provide:j4,deps:[[new yn,ib]]},y1e={provide:rb,useFactory:function g1e(t,e){const n=Qg(P9,t,e);return n&&new rb(n)},deps:[[new yn,ib],za,to]};let E1e=(()=>{var t;class e{constructor(){sn("angularfire",Rs.full,"app-check")}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)}),mt(e,"\u0275mod",Vt({type:t})),mt(e,"\u0275inj",St({providers:[y1e,v1e]})),e})();function aa(t,...e){return{ngModule:E1e,providers:[{provide:ib,useFactory:_1e(t),multi:!0,deps:[ft,Tn,to,Df,Tf,...e]}]}}const ca=an(d1e,!0);let x1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t,bootstrap:[Sge]}),t.\u0275inj=St({providers:[kF],imports:[Oi,Ps(()=>ks(mr_firebase)),Ga(()=>qa()),ta(()=>na()),aa(()=>ca(Ns(),{provider:new wo(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),OL(()=>RL())]}),e})();class C1e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class I1e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class tB{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class nB{constructor(){this._resources=new I1e,this._workers=new tB,this._soldiers=new tB,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var bn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(bn||{});let rB=(()=>{var t;class e{constructor(){this.dgAPI=W(as)}extractStats(){let r=new C1e;return r.stats.set(bn.ALL,new nB),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new nB),r.stats.get(bn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(bn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(bn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(bn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(bn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(bn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(o=>{switch(o.name){case bn.METAL:r.stats.get(bn.ALL).resources.metalStored+=o.stored,r.stats.get(bn.ALL).resources.metalProduction+=o.production,r.stats.get(i.location[0]).resources.metalStored+=o.stored,r.stats.get(i.location[0]).resources.metalProduction+=o.production;break;case bn.MINERAL:r.stats.get(bn.ALL).resources.mineralStored+=o.stored,r.stats.get(bn.ALL).resources.mineralProduction+=o.production,r.stats.get(i.location[0]).resources.mineralStored+=o.stored,r.stats.get(i.location[0]).resources.mineralProduction+=o.production;break;case bn.FOOD:r.stats.get(bn.ALL).resources.foodStored+=o.stored,r.stats.get(bn.ALL).resources.foodProduction+=o.production,r.stats.get(i.location[0]).resources.foodStored+=o.stored,r.stats.get(i.location[0]).resources.foodProduction+=o.production;break;case bn.ENERGY:r.stats.get(bn.ALL).resources.energyStored+=o.stored,r.stats.get(bn.ALL).resources.energyProduction+=o.production,r.stats.get(i.location[0]).resources.energyStored+=o.stored,r.stats.get(i.location[0]).resources.energyProduction+=o.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),b1e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=kn({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),ob=(()=>{var t;class e{constructor(){this.decimalPipe=W(Sl)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=kn({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const w1e=function(t){return{"dgt-stats-totals-last-row":t}},Ci=function(t){return{"dgt-padding-bottom-xs":t}};function A1e(t,e){if(1&t&&(Z(0,"tr",4)(1,"th",5)(2,"span",6),Ae(3),Zt(4,"galaxyNameFormatter"),ce(),Z(5,"span",7),Ae(6),ce()(),Z(7,"td",8)(8,"div",9),st(9,"img",10),Z(10,"span",11),Ae(11),Zt(12,"number"),ce()()(),Z(13,"td",12)(14,"div",9)(15,"span",11),Ae(16),Zt(17,"resourceProductionFormatter"),ce()()(),Z(18,"td",13)(19,"div",14),st(20,"img",15),Z(21,"span",11),Ae(22),Zt(23,"number"),ce()()(),Z(24,"td",12)(25,"div",14)(26,"span",11),Ae(27),Zt(28,"resourceProductionFormatter"),ce()()(),Z(29,"td",13)(30,"div",16),st(31,"img",17),Z(32,"span",11),Ae(33),Zt(34,"number"),ce()()(),Z(35,"td",12)(36,"div",16)(37,"span",11),Ae(38),Zt(39,"resourceProductionFormatter"),ce()()(),Z(40,"td",13)(41,"div",18),st(42,"img",19),Z(43,"span",11),Ae(44),Zt(45,"number"),ce()()(),Z(46,"td",20)(47,"div",18)(48,"span",11),Ae(49),Zt(50,"resourceProductionFormatter"),ce()()(),Z(51,"td",21)(52,"div",22),st(53,"img",23),Z(54,"span",11),Ae(55),Zt(56,"number"),ce()()(),Z(57,"td",24)(58,"div",25),st(59,"img",26),Z(60,"span",11),Ae(61),Zt(62,"number"),ce()()(),Z(63,"td",27)(64,"div",28),st(65,"img",29),Z(66,"span",11),Ae(67),Zt(68,"number"),ce()()()()),2&t){const n=e.$implicit,r=e.index,i=$t();ke("ngClass",Br(64,w1e,r==i.panel.stats.size-1)),ge(1),ke("ngClass",Br(66,Ci,r==i.panel.stats.size-2)),ge(2),At(lr(4,26,n.key)),ge(3),Pa("[",n.value.count,"]"),ge(1),ke("ngClass",Br(68,Ci,r==i.panel.stats.size-2)),ge(4),At(bs(12,28,n.value.resources.metalStored,"1.0","en-US")),ge(2),ke("ngClass",Br(70,Ci,r==i.panel.stats.size-2)),ge(3),At(lr(17,32,n.value.resources.metalProduction)),ge(2),ke("ngClass",Br(72,Ci,r==i.panel.stats.size-2)),ge(4),At(bs(23,34,n.value.resources.mineralStored,"1.0","en-US")),ge(2),ke("ngClass",Br(74,Ci,r==i.panel.stats.size-2)),ge(3),At(lr(28,38,n.value.resources.mineralProduction)),ge(2),ke("ngClass",Br(76,Ci,r==i.panel.stats.size-2)),ge(4),At(bs(34,40,n.value.resources.foodStored,"1.0","en-US")),ge(2),ke("ngClass",Br(78,Ci,r==i.panel.stats.size-2)),ge(3),At(lr(39,44,n.value.resources.foodProduction)),ge(2),ke("ngClass",Br(80,Ci,r==i.panel.stats.size-2)),ge(4),At(bs(45,46,n.value.resources.energyStored,"1.0","en-US")),ge(2),ke("ngClass",Br(82,Ci,r==i.panel.stats.size-2)),ge(3),At(lr(50,50,n.value.resources.energyProduction)),ge(2),ke("ngClass",Br(84,Ci,r==i.panel.stats.size-2)),ge(4),At(bs(56,52,n.value.resources.ground,"1.0","en-US")),ge(2),ke("ngClass",Br(86,Ci,r==i.panel.stats.size-2)),ge(4),At(bs(62,56,n.value.resources.orbit,"1.0","en-US")),ge(2),ke("ngClass",Br(88,Ci,r==i.panel.stats.size-2)),ge(4),At(bs(68,60,n.value.soldiers.total,"1.0","en-US"))}}let D1e=(()=>{var t;class e{constructor(){this.statsPanelService=W(rB)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(Z(0,"div",0)(1,"div",1)(2,"table",2),Jt(3,A1e,69,90,"tr",3),Zt(4,"keyvalue"),ce()()()),2&r&&(ge(3),ke("ngForOf",lr(4,1,i.panel.stats)))},dependencies:[a4,Bg,Sl,NM,b1e,ob],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function iB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iB(Object(n),!0).forEach(function(r){Pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p2(t){return(p2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function oB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sb(t,e){return function P1e(t){if(Array.isArray(t))return t}(t)||function k1e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,a,r=[],i=!0,o=!1;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(c){o=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(o)throw a}}return r}}(t,e)||sB(t,e)||function F1e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I0(t){return function R1e(t){if(Array.isArray(t))return ab(t)}(t)||function N1e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||sB(t)||function O1e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sB(t,e){if(t){if("string"==typeof t)return ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ab(t,e)}}function ab(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var aB=function(){},cb={},cB={},lB=null,uB={mark:aB,measure:aB};try{typeof window<"u"&&(cb=window),typeof document<"u"&&(cB=document),typeof MutationObserver<"u"&&(lB=MutationObserver),typeof performance<"u"&&(uB=performance)}catch{}var _2,v2,y2,E2,x2,dB=(cb.navigator||{}).userAgent,fB=void 0===dB?"":dB,la=cb,Ht=cB,hB=lB,m2=uB,ds=!!Ht.documentElement&&!!Ht.head&&"function"==typeof Ht.addEventListener&&"function"==typeof Ht.createElement,pB=~fB.indexOf("MSIE")||~fB.indexOf("Trident/"),fs="___FONT_AWESOME___",gB="fa",mB="svg-inline--fa",xc="data-fa-i2svg",ub="data-fa-pseudo-element",L1e="data-fa-pseudo-element-pending",db="data-prefix",fb="data-icon",_B="fontawesome-i2svg",B1e="async",H1e=["HTML","HEAD","STYLE","SCRIPT"],vB=function(){try{return!0}catch{return!1}}(),zt="classic",dn="sharp",hb=[zt,dn];function b0(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[zt]}})}var w0=b0((Pn(_2={},zt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Pn(_2,dn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),_2)),A0=b0((Pn(v2={},zt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Pn(v2,dn,{solid:"fass",regular:"fasr",light:"fasl"}),v2)),D0=b0((Pn(y2={},zt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Pn(y2,dn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),y2)),z1e=b0((Pn(E2={},zt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Pn(E2,dn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),E2)),U1e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,yB="fa-layers-text",j1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,$1e=b0((Pn(x2={},zt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Pn(x2,dn,{900:"fass",400:"fasr",300:"fasl"}),x2)),EB=[1,2,3,4,5,6,7,8,9,10],G1e=EB.concat([11,12,13,14,15,16,17,18,19,20]),q1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Cc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},T0=new Set;Object.keys(A0[zt]).map(T0.add.bind(T0)),Object.keys(A0[dn]).map(T0.add.bind(T0));var W1e=[].concat(hb,I0(T0),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Cc.GROUP,Cc.SWAP_OPACITY,Cc.PRIMARY,Cc.SECONDARY]).concat(EB.map(function(t){return"".concat(t,"x")})).concat(G1e.map(function(t){return"w-".concat(t)})),S0=la.FontAwesomeConfig||{};Ht&&"function"==typeof Ht.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=sb(t,2),r=e[1],i=function Y1e(t){return""===t||"false"!==t&&("true"===t||t)}(function K1e(t){var e=Ht.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(S0[r]=i)});var xB={styleDefault:"solid",familyDefault:"classic",cssPrefix:gB,replacementClass:mB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};S0.familyPrefix&&(S0.cssPrefix=S0.familyPrefix);var Wu=Te(Te({},xB),S0);Wu.autoReplaceSvg||(Wu.observeMutations=!1);var Re={};Object.keys(xB).forEach(function(t){Object.defineProperty(Re,t,{enumerable:!0,set:function(n){Wu[t]=n,M0.forEach(function(r){return r(Re)})},get:function(){return Wu[t]}})}),Object.defineProperty(Re,"familyPrefix",{enumerable:!0,set:function(e){Wu.cssPrefix=e,M0.forEach(function(n){return n(Re)})},get:function(){return Wu.cssPrefix}}),la.FontAwesomeConfig=Re;var M0=[],Ao={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Z1e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function R0(){for(var t=12,e="";t-- >0;)e+=Z1e[62*Math.random()|0];return e}function Ku(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function pb(t){return t.classList?Ku(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function CB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function C2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function gb(t){return t.size!==Ao.size||t.x!==Ao.x||t.y!==Ao.y||t.rotate!==Ao.rotate||t.flipX||t.flipY}var rme=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function IB(){var t=gB,e=mB,n=Re.cssPrefix,r=Re.replacementClass,i=rme;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var bB=!1;function mb(){Re.autoAddCss&&!bB&&(function J1e(t){if(t&&ds){var e=Ht.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ht.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}Ht.head.insertBefore(e,r)}}(IB()),bB=!0)}var ime={mixout:function(){return{dom:{css:IB,insertCss:mb}}},hooks:function(){return{beforeDOMElementCreation:function(){mb()},beforeI2svg:function(){mb()}}}},hs=la||{};hs[fs]||(hs[fs]={}),hs[fs].styles||(hs[fs].styles={}),hs[fs].hooks||(hs[fs].hooks={}),hs[fs].shims||(hs[fs].shims=[]);var ji=hs[fs],wB=[],I2=!1;function P0(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?CB(t):"<".concat(e," ").concat(function eme(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(CB(t[n]),'" ')},"").trim()}(r),">").concat(o.map(P0).join(""),"</").concat(e,">")}function AB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}ds&&((I2=(Ht.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ht.readyState))||Ht.addEventListener("DOMContentLoaded",function t(){Ht.removeEventListener("DOMContentLoaded",t),I2=1,wB.map(function(e){return e()})}));var _b=function(e,n,r,i){var c,l,u,o=Object.keys(e),s=o.length,a=void 0!==i?function(e,n){return function(r,i,o,s){return e.call(n,r,i,o,s)}}(n,i):n;for(void 0===r?(c=1,u=e[o[0]]):(c=0,u=r);c<s;c++)u=a(u,e[l=o[c]],l,e);return u};function vb(t){var e=function cme(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function DB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function yb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,o=DB(e);"function"!=typeof ji.hooks.addPack||i?ji.styles[t]=Te(Te({},ji.styles[t]||{}),o):ji.hooks.addPack(t,DB(e)),"fas"===t&&yb("fa",e)}var b2,w2,A2,Yu=ji.styles,ume=ji.shims,dme=(Pn(b2={},zt,Object.values(D0[zt])),Pn(b2,dn,Object.values(D0[dn])),b2),Eb=null,TB={},SB={},MB={},RB={},PB={},fme=(Pn(w2={},zt,Object.keys(w0[zt])),Pn(w2,dn,Object.keys(w0[dn])),w2);var NB=function(){var e=function(o){return _b(Yu,function(s,a,c){return s[c]=_b(a,o,{}),s},{})};TB=e(function(i,o,s){return o[3]&&(i[o[3]]=s),o[2]&&o[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=s}),i}),SB=e(function(i,o,s){return i[s]=s,o[2]&&o[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=s}),i}),PB=e(function(i,o,s){var a=o[2];return i[s]=s,a.forEach(function(c){i[c]=s}),i});var n="far"in Yu||Re.autoFetchSvg,r=_b(ume,function(i,o){var s=o[0],a=o[1],c=o[2];return"far"===a&&!n&&(a="fas"),"string"==typeof s&&(i.names[s]={prefix:a,iconName:c}),"number"==typeof s&&(i.unicodes[s.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});MB=r.names,RB=r.unicodes,Eb=D2(Re.styleDefault,{family:Re.familyDefault})};function xb(t,e){return(TB[t]||{})[e]}function Ic(t,e){return(PB[t]||{})[e]}function kB(t){return MB[t]||{prefix:null,iconName:null}}function da(){return Eb}(function X1e(t){M0.push(t)})(function(t){Eb=D2(t.styleDefault,{family:Re.familyDefault})}),NB();var Cb=function(){return{prefix:null,iconName:null,rest:[]}};function D2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?zt:n;return A0[r][t]||A0[r][w0[r][t]]||(t in ji.styles?t:null)||null}var OB=(Pn(A2={},zt,Object.keys(D0[zt])),Pn(A2,dn,Object.keys(D0[dn])),A2);function T2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,o=(Pn(e={},zt,"".concat(Re.cssPrefix,"-").concat(zt)),Pn(e,dn,"".concat(Re.cssPrefix,"-").concat(dn)),e),s=null,a=zt;(t.includes(o[zt])||t.some(function(l){return OB[zt].includes(l)}))&&(a=zt),(t.includes(o[dn])||t.some(function(l){return OB[dn].includes(l)}))&&(a=dn);var c=t.reduce(function(l,u){var d=function pme(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function hme(t){return~W1e.indexOf(t)}(i)?null:i}(Re.cssPrefix,u);if(Yu[u]?(u=dme[a].includes(u)?z1e[a][u]:u,s=u,l.prefix=u):fme[a].indexOf(u)>-1?(s=u,l.prefix=D2(u,{family:a})):d?l.iconName=d:u!==Re.replacementClass&&u!==o[zt]&&u!==o[dn]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===s?kB(l.iconName):{},h=Ic(l.prefix,l.iconName);f.prefix&&(s=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Yu.far&&Yu.fas&&!Re.autoFetchSvg&&(l.prefix="fas")}return l},Cb());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===dn&&(Yu.fass||Re.autoFetchSvg)&&(c.prefix="fass",c.iconName=Ic(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===s)&&(c.prefix=da()||"fas"),c}var _me=function(){function t(){(function T1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function S1e(t,e,n){e&&oB(t.prototype,e),n&&oB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(a){n.definitions[a]=Te(Te({},n.definitions[a]||{}),s[a]),yb(a,s[a]);var c=D0[zt][a];c&&yb(c,s[a]),NB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var s=i[o],a=s.prefix,c=s.iconName,l=s.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),FB=[],Qu={},Xu={},vme=Object.keys(Xu);function Ib(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Qu[t]||[]).forEach(function(s){e=s.apply(null,[e].concat(r))}),e}function bc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Qu[t]||[]).forEach(function(o){o.apply(null,n)})}function ps(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Xu[t]?Xu[t].apply(null,e):void 0}function bb(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||da();if(e)return e=Ic(n,e)||e,AB(VB.definitions,n,e)||AB(ji.styles,n,e)}var VB=new _me,xme={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ds?(bc("beforeI2svg",e),ps("pseudoElements2svg",e),ps("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Re.autoReplaceSvg&&(Re.autoReplaceSvg=!0),Re.observeMutations=!0,function sme(t){ds&&(I2?setTimeout(t,0):wB.push(t))}(function(){Ime({autoReplaceSvgRoot:n}),bc("watch",e)})}},ii={noAuto:function(){Re.autoReplaceSvg=!1,Re.observeMutations=!1,bc("noAuto")},config:Re,dom:xme,parse:{icon:function(e){if(null===e)return null;if("object"===p2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ic(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=D2(e[0]);return{prefix:r,iconName:Ic(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Re.cssPrefix,"-"))>-1||e.match(U1e))){var i=T2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||da(),iconName:Ic(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var o=da();return{prefix:o,iconName:Ic(o,e)||e}}}},library:VB,findIconDefinition:bb,toHtml:P0},Ime=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Ht:n;(Object.keys(ji.styles).length>0||Re.autoFetchSvg)&&ds&&Re.autoReplaceSvg&&ii.dom.i2svg({node:r})};function S2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return P0(r)})}}),Object.defineProperty(t,"node",{get:function(){if(ds){var r=Ht.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function wb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,E=p.height,S="fak"===i,w=[Re.replacementClass,o?"".concat(Re.cssPrefix,"-").concat(o):""].filter(function(Nn){return-1===d.classes.indexOf(Nn)}).filter(function(Nn){return""!==Nn||!!Nn}).concat(d.classes).join(" "),$={children:[],attributes:Te(Te({},d.attributes),{},{"data-prefix":i,"data-icon":o,class:w,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(E)})},K=S&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/E*16*.0625,"em")}:{};h&&($.attributes[xc]=""),c&&($.children.push({tag:"title",attributes:{id:$.attributes["aria-labelledby"]||"title-".concat(u||R0())},children:[c]}),delete $.attributes.title);var fe=Te(Te({},$),{},{prefix:i,iconName:o,main:n,mask:r,maskId:l,transform:s,symbol:a,styles:Te(Te({},K),d.styles)}),Pe=r.found&&n.found?ps("generateAbstractMask",fe)||{children:[],attributes:{}}:ps("generateAbstractIcon",fe)||{children:[],attributes:{}},Qt=Pe.attributes;return fe.children=Pe.children,fe.attributes=Qt,a?function wme(t){var n=t.iconName,r=t.children,i=t.attributes,o=t.symbol,s=!0===o?"".concat(t.prefix,"-").concat(Re.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Te(Te({},i),{},{id:s}),children:r}]}]}(fe):function bme(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(gb(s)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=C2(Te(Te({},o),{},{"transform-origin":"".concat(l.x+s.x/16,"em ").concat(l.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(fe)}function LB(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,s=t.extra,a=t.watchable,c=void 0!==a&&a,l=Te(Te(Te({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});c&&(l[xc]="");var u=Te({},s.styles);gb(i)&&(u.transform=function nme(t){var e=t.transform,n=t.width,i=t.height,o=void 0===i?16:i,s=t.startCentered,a=void 0!==s&&s,c="";return c+=a&&pB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-o/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=C2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),o&&f.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),f}var Ab=ji.styles;function Db(t){var e=t[0],n=t[1],o=sb(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(Re.cssPrefix,"-").concat(Cc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Re.cssPrefix,"-").concat(Cc.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(Re.cssPrefix,"-").concat(Cc.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var Dme={found:!1,width:512,height:512};function Tb(t,e){var n=e;return"fa"===e&&null!==Re.styleDefault&&(e=da()),new Promise(function(r,i){if(ps("missingIconAbstract"),"fa"===n){var s=kB(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&Ab[e]&&Ab[e][t])return r(Db(Ab[e][t]));(function Tme(t,e){!vB&&!Re.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(Te(Te({},Dme),{},{icon:Re.showMissingIcons&&t&&ps("missingIconAbstract")||{}}))})}var BB=function(){},Sb=Re.measurePerformance&&m2&&m2.mark&&m2.measure?m2:{mark:BB,measure:BB},N0='FA "6.4.2"',HB=function(e){Sb.mark("".concat(N0," ").concat(e," ends")),Sb.measure("".concat(N0," ").concat(e),"".concat(N0," ").concat(e," begins"),"".concat(N0," ").concat(e," ends"))},Mb={begin:function(e){return Sb.mark("".concat(N0," ").concat(e," begins")),function(){return HB(e)}},end:HB},M2=function(){};function zB(t){return"string"==typeof(t.getAttribute?t.getAttribute(xc):null)}function Nme(t){return Ht.createElementNS("http://www.w3.org/2000/svg",t)}function kme(t){return Ht.createElement(t)}function UB(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Nme:kme:n;if("string"==typeof t)return Ht.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){i.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){i.appendChild(UB(s,{ceFn:r}))}),i}var R2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(UB(i),n)}),null===n.getAttribute(xc)&&Re.keepOriginalSource){var r=Ht.createComment(function Ome(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~pb(n).indexOf(Re.replacementClass))return R2.replace(e);var i=new RegExp("".concat(Re.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Re.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var s=r.map(function(a){return P0(a)}).join("\n");n.setAttribute(xc,""),n.innerHTML=s}};function jB(t){t()}function $B(t,e){var n="function"==typeof e?e:M2;if(0===t.length)n();else{var r=jB;Re.mutateApproach===B1e&&(r=la.requestAnimationFrame||jB),r(function(){var i=function Pme(){return!0===Re.autoReplaceSvg?R2.replace:R2[Re.autoReplaceSvg]||R2.replace}(),o=Mb.begin("mutate");t.map(i),o(),n()})}}var Rb=!1;function GB(){Rb=!0}function Pb(){Rb=!1}var P2=null;function qB(t){if(hB&&Re.observeMutations){var e=t.treeCallback,n=void 0===e?M2:e,r=t.nodeCallback,i=void 0===r?M2:r,o=t.pseudoElementsCallback,s=void 0===o?M2:o,a=t.observeMutationsRoot,c=void 0===a?Ht:a;P2=new hB(function(l){if(!Rb){var u=da();Ku(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!zB(d.addedNodes[0])&&(Re.searchPseudoElements&&s(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Re.searchPseudoElements&&s(d.target.parentNode),"attributes"===d.type&&zB(d.target)&&~q1e.indexOf(d.attributeName))if("class"===d.attributeName&&function Mme(t){var e=t.getAttribute?t.getAttribute(db):null,n=t.getAttribute?t.getAttribute(fb):null;return e&&n}(d.target)){var f=T2(pb(d.target)),p=f.iconName;d.target.setAttribute(db,f.prefix||u),p&&d.target.setAttribute(fb,p)}else(function Rme(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Re.replacementClass)})(d.target)&&i(d.target)})}}),ds&&P2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function WB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function Lme(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=T2(pb(t));return i.prefix||(i.prefix=da()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function gme(t,e){return(SB[t]||{})[e]}(i.prefix,t.innerText)||xb(i.prefix,vb(t.innerText))),!i.iconName&&Re.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,o=n.rest,s=function Bme(t){var e=Ku(t.attributes).reduce(function(i,o){return"class"!==i.name&&"style"!==i.name&&(i[o.name]=o.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Re.autoA11y&&(n?e["aria-labelledby"]="".concat(Re.replacementClass,"-title-").concat(r||R0()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=Ib("parseNodeAttributes",{},t),c=e.styleParser?function Vme(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var o=i.split(":"),s=o[0],a=o.slice(1);return s&&a.length>0&&(r[s]=a.join(":").trim()),r},{})),n}(t):[];return Te({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Ao,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:c,attributes:s}},a)}var zme=ji.styles;function KB(t){var e="nest"===Re.autoReplaceSvg?WB(t,{styleParser:!1}):WB(t);return~e.extra.classes.indexOf(yB)?ps("generateLayersText",t,e):ps("generateSvgReplacementMutation",t,e)}var fa=new Set;function YB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!ds)return Promise.resolve();var n=Ht.documentElement.classList,r=function(d){return n.add("".concat(_B,"-").concat(d))},i=function(d){return n.remove("".concat(_B,"-").concat(d))},o=Re.autoFetchSvg?fa:hb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(zme));o.includes("fa")||o.push("fa");var s=[".".concat(yB,":not([").concat(xc,"])")].concat(o.map(function(u){return".".concat(u,":not([").concat(xc,"])")})).join(", ");if(0===s.length)return Promise.resolve();var a=[];try{a=Ku(t.querySelectorAll(s))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Mb.begin("onTree"),l=a.reduce(function(u,d){try{var f=KB(d);f&&u.push(f)}catch(h){vB||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){$B(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function Ume(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;KB(t).then(function(n){n&&$B([n],e)})}function jme(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:bb(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:bb(i||{})),t(r,Te(Te({},n),{},{mask:i}))}}hb.map(function(t){fa.add("fa-".concat(t))}),Object.keys(w0[zt]).map(fa.add.bind(fa)),Object.keys(w0[dn]).map(fa.add.bind(fa)),fa=I0(fa);var $me=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Ao:r,o=n.symbol,s=void 0!==o&&o,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,E=void 0===g?[]:g,S=n.attributes,w=void 0===S?{}:S,$=n.styles,K=void 0===$?{}:$;if(e){var fe=e.prefix,Pe=e.iconName,Ye=e.icon;return S2(Te({type:"icon"},e),function(){return bc("beforeDOMElementCreation",{iconDefinition:e,params:n}),Re.autoA11y&&(f?w["aria-labelledby"]="".concat(Re.replacementClass,"-title-").concat(p||R0()):(w["aria-hidden"]="true",w.focusable="false")),wb({icons:{main:Db(Ye),mask:c?Db(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:fe,iconName:Pe,transform:Te(Te({},Ao),i),symbol:s,title:f,maskId:u,titleId:p,extra:{attributes:w,styles:K,classes:E}})})}},Gme={mixout:function(){return{icon:jme($me)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=YB,n.nodeCallback=Ume,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,o=n.callback;return YB(void 0===r?Ht:r,void 0===o?function(){}:o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,o=r.title,s=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([Tb(i,a),u.iconName?Tb(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var E=sb(g,2);h([n,wb({icons:{main:E[0],mask:E[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:o,titleId:s,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,o=n.main,s=n.transform,c=C2(n.styles);return c.length>0&&(i.style=c),gb(s)&&(l=ps("generateAbstractTransformGrouping",{main:o,transform:s,containerWidth:o.width,iconWidth:o.width})),r.push(l||o.icon),{children:r,attributes:i}}}},qme={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,o=void 0===i?[]:i;return S2({type:"layer"},function(){bc("beforeDOMElementCreation",{assembler:n,params:r});var s=[];return n(function(a){Array.isArray(a)?a.map(function(c){s=s.concat(c.abstract)}):s=s.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Re.cssPrefix,"-layers")].concat(I0(o)).join(" ")},children:s}]})}}}},Wme={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,o=void 0===i?null:i,s=r.classes,a=void 0===s?[]:s,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return S2({type:"counter",content:n},function(){return bc("beforeDOMElementCreation",{content:n,params:r}),function Ame(t){var e=t.content,n=t.title,r=t.extra,i=Te(Te(Te({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=C2(r.styles);o.length>0&&(i.style=o);var s=[];return s.push({tag:"span",attributes:i,children:[e]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:n.toString(),title:o,extra:{attributes:l,styles:d,classes:["".concat(Re.cssPrefix,"-layers-counter")].concat(I0(a))}})})}}}},Kme={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,o=void 0===i?Ao:i,s=r.title,a=void 0===s?null:s,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return S2({type:"text",content:n},function(){return bc("beforeDOMElementCreation",{content:n,params:r}),LB({content:n,transform:Te(Te({},Ao),o),title:a,extra:{attributes:d,styles:h,classes:["".concat(Re.cssPrefix,"-layers-text")].concat(I0(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,o=r.transform,s=r.extra,a=null,c=null;if(pB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Re.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),Promise.resolve([n,LB({content:n.innerHTML,width:a,height:c,transform:o,title:i,extra:s,watchable:!0})])}}},Yme=new RegExp('"',"ug"),QB=[1105920,1112319];function XB(t,e){var n="".concat(L1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var s=Ku(t.children).filter(function(Ye){return Ye.getAttribute(ub)===e})[0],a=la.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(j1e),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(s&&!c)return t.removeChild(s),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?dn:zt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?A0[f][c[2].toLowerCase()]:$1e[f][l],p=function Qme(t){var e=t.replace(Yme,""),n=function lme(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=QB[0]&&n<=QB[1],i=2===e.length&&e[0]===e[1];return{value:vb(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,E=p.isSecondary,S=c[0].startsWith("FontAwesome"),w=xb(h,g),$=w;if(S){var K=function mme(t){var e=RB[t],n=xb("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);K.iconName&&K.prefix&&(w=K.iconName,h=K.prefix)}if(!w||E||s&&s.getAttribute(db)===h&&s.getAttribute(fb)===$)r();else{t.setAttribute(n,$),s&&t.removeChild(s);var fe=function Hme(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ao,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Pe=fe.extra;Pe.attributes[ub]=e,Tb(w,h).then(function(Ye){var Qt=wb(Te(Te({},fe),{},{icons:{main:Ye,mask:Cb()},prefix:h,iconName:$,extra:Pe,watchable:!0})),Nn=Ht.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Nn,t.firstChild):t.appendChild(Nn),Nn.outerHTML=Qt.map(function(va){return P0(va)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function Xme(t){return Promise.all([XB(t,"::before"),XB(t,"::after")])}function Jme(t){return!(t.parentNode===document.head||~H1e.indexOf(t.tagName.toUpperCase())||t.getAttribute(ub)||t.parentNode&&"svg"===t.parentNode.tagName)}function JB(t){if(ds)return new Promise(function(e,n){var r=Ku(t.querySelectorAll("*")).filter(Jme).map(Xme),i=Mb.begin("searchPseudoElements");GB(),Promise.all(r).then(function(){i(),Pb(),e()}).catch(function(){i(),Pb(),n()})})}var ZB=!1,eH=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),s=o[0],a=o.slice(1).join("-");if(s&&"h"===a)return r.flipX=!0,r;if(s&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(s){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Nb={x:0,y:0,width:"100%",height:"100%"};function tH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function n2e(t){return"g"===t.tag?t.children:[t]}var r2e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),o=i?T2(i.split(" ").map(function(s){return s.trim()})):Cb();return o.prefix||(o.prefix=da()),n.mask=o,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.mask,a=n.maskId,u=o.icon,f=s.icon,h=function tme(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:s.width,iconWidth:o.width}),p={tag:"rect",attributes:Te(Te({},Nb),{},{fill:"white"})},g=u.children?{children:u.children.map(tH)}:{},E={tag:"g",attributes:Te({},h.inner),children:[tH(Te({tag:u.tag,attributes:Te(Te({},u.attributes),h.path)},g))]},S={tag:"g",attributes:Te({},h.outer),children:[E]},w="mask-".concat(a||R0()),$="clip-".concat(a||R0()),K={tag:"mask",attributes:Te(Te({},Nb),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,S]},fe={tag:"defs",children:[{tag:"clipPath",attributes:{id:$},children:n2e(f)},K]};return r.push(fe,{tag:"rect",attributes:Te({fill:"currentColor","clip-path":"url(#".concat($,")"),mask:"url(#".concat(w,")")},Nb)}),{children:r,attributes:i}}}};!function yme(t,e){var n=e.mixoutsTo;FB=t,Qu={},Object.keys(Xu).forEach(function(r){-1===vme.indexOf(r)&&delete Xu[r]}),FB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(s){"function"==typeof i[s]&&(n[s]=i[s]),"object"===p2(i[s])&&Object.keys(i[s]).forEach(function(a){n[s]||(n[s]={}),n[s][a]=i[s][a]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(s){Qu[s]||(Qu[s]=[]),Qu[s].push(o[s])})}r.provides&&r.provides(Xu)})}([ime,Gme,qme,Wme,Kme,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=JB,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Re.searchPseudoElements&&JB(void 0===r?Ht:r)}}},{mixout:function(){return{dom:{unwatch:function(){GB(),ZB=!0}}}},hooks:function(){return{bootstrap:function(){qB(Ib("mutationObserverCallbacks",{}))},noAuto:function(){!function Fme(){P2&&P2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;ZB?Pb():qB(Ib("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return eH(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=eH(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(s/2*-1," -256)")}};return{tag:"g",attributes:Te({},h.outer),children:[{tag:"g",attributes:Te({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Te(Te({},r.icon.attributes),h.path)}]}]}}}},r2e,{provides:function(e){var n=!1;la.matchMedia&&(n=la.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Te(Te({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=Te(Te({},o),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Te(Te({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Te(Te({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Te(Te({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Te(Te({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Te(Te({},s),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Te(Te({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Te(Te({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:ii});var a2e=ii.parse,c2e=ii.icon;const l2e=["*"],f2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let g2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),kb=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const o of i.icon[2])"string"==typeof o&&(this.definitions[i.prefix][o]=i)}}addIconPacks(...r){for(const i of r){const o=Object.keys(i).map(s=>i[s]);this.addIcons(...o)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),m2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[xr]}),e})(),_2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(no),J(Yn))},t.\u0275cmp=vr({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[xr],ngContentSelectors:l2e,decls:1,vars:0,template:function(r,i){1&r&&(function CT(t){const e=X()[hn][sr];if(!e.projection){const r=e.projection=Td(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?rY(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),function IT(t,e=0,n){const r=X(),i=lt(),o=ul(i,nt+t,16,null,n||null);null===o.projection&&(o.projection=e),R_(),(!r[Oo]||zc())&&32!=(32&o.flags)&&function tq(t,e,n){w5(e[$e],0,e,n,ov(t,n,e),y5(n.parent||e[sr],n,e))}(i,r,o)}(0))},encapsulation:2}),e})(),nH=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,o,s,a){this.sanitizer=r,this.config=i,this.iconLibrary=o,this.stackItem=s,this.classes=[],null!=a&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const o=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=o){const s=this.buildParams();this.renderIcon(o,s)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?a2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...f2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const o=c2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(n9),J(g2e),J(kb),J(m2e,8),J(_2e,8))},t.\u0275cmp=vr({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(fy("innerHTML",i.renderedIconHTML,L5),Si("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[xr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),Ob=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=St({}),e})(),v2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t,bootstrap:[D1e]}),t.\u0275inj=St({providers:[Sl,rB],imports:[Oi,Ob]}),e})(),rH=(()=>{var t;class e{constructor(){this.firestore=W(vo),this.dgAPI=W(as)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(this.planetScanSubscription)return;let i=Hi(this.firestore,"scans");this.planetScanSubscription=Su(Mu(i,ra("location","==",r.planetScan.location),RF(1)),{idField:"id"}).subscribe(o=>{let s=Object.assign(new FF,o[0]);s.location=r.planetScan.location,s.turn=r.planetScan.turn,s.owner=r.planetScan.owner,(r.type==gr.RESOURCE||r.type==gr.SURFACE)&&(s.orbit=r.planetScan.orbit,s.ground=r.planetScan.ground),r.type==gr.RESOURCE&&(s.resources.length>0?s.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):s.resources=r.planetScan.resources),r.type==gr.SURFACE&&(s.resources=r.planetScan.resources,s.workers=r.planetScan.workers,s.soldiers=r.planetScan.soldiers,s.structures=r.planetScan.structures),r.type==gr.FLEET?s.fleets=r.planetScan.fleets:(0==o.length?MF(i,JSON.parse(JSON.stringify(s))).catch(a=>{console.log(a)}):PF(Kh(i,s.id),JSON.parse(JSON.stringify(s))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=null)})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function y2e(t,e){1&t&&(Z(0,"p",3),Ae(1,"Each scan will be cached and shared with your alliance members "),st(2,"img",4),ce())}let E2e=(()=>{var t;class e{constructor(){this.scanService=W(rH),this.authService=W(ia),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-shared-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-shared-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/G0qBRyH.png","alt","beer"]],template:function(r,i){1&r&&(Z(0,"div",0),st(1,"span",1),ce(),Jt(2,y2e,3,0,"p",2)),2&r&&(ge(2),ke("ngIf",i.active))},dependencies:[Ds],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),x2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t,bootstrap:[E2e]}),t.\u0275inj=St({providers:[rH],imports:[Oi,Ps(()=>ks(mr_firebase)),Ga(()=>qa()),ta(()=>na()),aa(()=>ca(Ns(),{provider:new wo(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),iH=(()=>{var t;class e{constructor(){this.firestore=W(vo),this.dgAPI=W(as),this.resourceProductionFormatterPipe=W(ob),this.decimalPipe=W(Sl)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(o=>o.location.join("."));this.scansSubscription=Su(Mu(Hi(this.firestore,"scans"),ra("location","in",i))).subscribe(o=>{let a=Object.assign([],o).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Ft.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Ft.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Ft.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Ft.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Ft.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Ft.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Ft.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),d.includes(Ft.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Ft.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Ft.MEDICAL_CENTRE)&&(f+=.3),d.includes(Ft.LEISURE_CENTRE)&&(f+=.4),d.includes(Ft.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"})})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function C2e(t,e){1&t&&(Z(0,"p",3),Ae(1,"Planets will display the newest scan data available "),st(2,"img",4),ce())}let I2e=(()=>{var t;class e{constructor(){this.scanService=W(iH),this.authService=W(ia),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/G0qBRyH.png","alt","beer"]],template:function(r,i){1&r&&(Z(0,"div",0),st(1,"span",1),ce(),Jt(2,C2e,3,0,"p",2)),2&r&&(ge(2),ke("ngIf",i.active))},dependencies:[Ds],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),b2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t,bootstrap:[I2e]}),t.\u0275inj=St({providers:[Sl,ob,iH],imports:[Oi,Ps(()=>ks(mr_firebase)),Ga(()=>qa()),ta(()=>na()),aa(()=>ca(Ns(),{provider:new wo(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function w2e(t,e){if(1&t){const n=Cs();Z(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),Ae(6,"DGT Login"),ce()()(),Z(7,"tr",3)(8,"td"),st(9,"input",4,5),ce(),Z(11,"td"),st(12,"input",6,7),ce()(),Z(14,"tr",8)(15,"td",2)(16,"button",9),It("click",function(){di(n);const i=oy(10),o=oy(13);return fi($t().signInWithEmailAndPassword(i.value,o.value))}),Ae(17,"Login"),ce(),Z(18,"button",10),It("click",function(){return di(n),fi($t().signInWithGoogle())}),st(19,"img",11),ce()()()()()()}}let A2e=(()=>{var t;class e{constructor(){this.authService=W(ia),this.auth=W(zf),this.firestore=W(vo),this.localStorageService=W(yo),this.changeDetection=W($o),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new de(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(Yt.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(Jt(0,w2e,20,0,"div",0),Zt(1,"async")),2&r&&ke("ngIf",lr(1,1,i.displayLogin))},dependencies:[Ds,Tl],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),D2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t,bootstrap:[A2e]}),t.\u0275inj=St({imports:[Oi,Ps(()=>ks(mr_firebase)),Ga(()=>qa()),ta(()=>na()),aa(()=>ca(Ns(),{provider:new wo(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),oH=(()=>{var t;class e{constructor(){this.firestore=W(vo),this.dgApi=W(as),this.ordersSubscriptions=new Map}updateOrder(r){r.from=this.dgApi.username(!1);let i=Hi(this.firestore,"orders");MF(i,JSON.parse(JSON.stringify(r))).catch(o=>{console.log(o)})}deleteOrder(r){$de(Kh(Hi(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,o,s){if(this.ordersSubscriptions.has(r))return;document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(c=>{c.classList.add("show"),c.classList.remove("hide")});let a=Hi(this.firestore,"orders");this.ordersSubscriptions.set(r,Su(Mu(a,ra("user","==",r),Lm("executed","asc"),Lm("wait","asc")),{idField:"id"}).subscribe(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),s.next(l),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(u=>{u.classList.add("hide"),u.classList.remove("show")}),o.detectChanges()}))}ngOnDestroy(){this.ordersSubscriptions.forEach(r=>{r.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class T2e{get from(){return this._from}set from(e){this._from=e}get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target,from:this.from}}}var Lb={prefix:"far",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"]},zb={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 135.1c-4.2-4.5-10.1-7.1-16.3-7.1C266 128 256 138 256 150.3V208H160c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h96v57.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.3-7.1l99.9-107.1c3.5-3.8 5.5-8.7 5.5-13.8s-2-10.1-5.5-13.8L294.6 135.1z"]},k2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let Sz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(no),J(Yn))},t.\u0275dir=Oe({type:t}),e})(),wc=(()=>{var t;class e extends Sz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Kn(t)))(i||t)}}(),t.\u0275dir=Oe({type:t,features:[yt]}),e})();const Do=new Ee("NgValueAccessor"),Hye={provide:Do,useExisting:Tt(()=>k0),multi:!0},Uye=new Ee("CompositionEventMode");let k0=(()=>{var t;class e extends Sz{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zye(){const t=As()?As().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(no),J(Yn),J(Uye,8))},t.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&It("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Gt([Hye]),yt]}),e})();const _r=new Ee("NgValidators"),pa=new Ee("NgAsyncValidators");function Hz(t){return null!=t}function zz(t){return Xd(t)?jn(t):t}function Uz(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function jz(t,e){return e.map(n=>n(t))}function $z(t){return t.map(e=>function $ye(t){return!t.validate}(e)?e:n=>e.validate(n))}function jb(t){return null!=t?function Gz(t){if(!t)return null;const e=t.filter(Hz);return 0==e.length?null:function(n){return Uz(jz(n,e))}}($z(t)):null}function $b(t){return null!=t?function qz(t){if(!t)return null;const e=t.filter(Hz);return 0==e.length?null:function(n){return function Lye(...t){const e=_w(t),{args:n,keys:r}=EV(t),i=new de(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;or(n[u]).subscribe(tt(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?CV(r,a):a),o.complete())}))}});return e?i.pipe(xV(e)):i}(jz(n,e).map(zz)).pipe(Qe(Uz))}}($z(t)):null}function Wz(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Gb(t){return t?Array.isArray(t)?t:[t]:[]}function F2(t,e){return Array.isArray(t)?t.includes(e):t===e}function Qz(t,e){const n=Gb(e);return Gb(t).forEach(i=>{F2(n,i)||n.push(i)}),n}function Xz(t,e){return Gb(e).filter(n=>!F2(t,n))}class Jz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$b(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Rr extends Jz{get formDirective(){return null}get path(){return null}}class ga extends Jz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qb=(()=>{var t;class e extends Zz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(ga,2))},t.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Zd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[yt]}),e})(),Wb=(()=>{var t;class e extends Zz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Rr,10))},t.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Zd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[yt]}),e})();const O0="VALID",L2="INVALID",Ju="PENDING",F0="DISABLED";function Qb(t){return(B2(t)?t.validators:t)||null}function Xb(t,e){return(B2(e)?e.asyncValidators:t)||null}function B2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class rU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===O0}get invalid(){return this.status===L2}get pending(){return this.status==Ju}get disabled(){return this.status===F0}get enabled(){return this.status!==F0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xz(e,this._rawAsyncValidators))}hasValidator(e){return F2(this._rawValidators,e)}hasAsyncValidator(e){return F2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ju,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=F0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=O0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===O0||this.status===Ju)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?F0:O0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ju,this._hasOwnPendingAsyncValidator=!0;const n=zz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new jt,this.statusChanges=new jt}_calculateStatus(){return this._allControlsDisabled()?F0:this.errors?L2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ju)?Ju:this._anyControlsHaveStatus(L2)?L2:O0}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){B2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Kye(t){return Array.isArray(t)?jb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Yye(t){return Array.isArray(t)?$b(t):t||null}(this._rawAsyncValidators)}}class Jb extends rU{constructor(e,n,r){super(Qb(n),Xb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function nU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new te(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function tU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new te(1e3,"");if(!r[n])throw new te(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Zu=new Ee("CallSetDisabledState",{providedIn:"root",factory:()=>H2}),H2="always";function V0(t,e,n=H2){Zb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Jye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&iU(t,e)})}(t,e),function e4e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Zye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&iU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Xye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function j2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Zb(t,e){const n=function Kz(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Wz(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Yz(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Wz(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();j2(e._rawValidators,i),j2(e._rawAsyncValidators,i)}function iU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const o4e={provide:Rr,useExisting:Tt(()=>B0)},L0=(()=>Promise.resolve())();let B0=(()=>{var t;class e extends Rr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new jt,this.form=new Jb({},jb(r),$b(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){L0.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),V0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){L0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){L0.then(()=>{const i=this._findContainer(r.path),o=new Jb({});(function oU(t,e){Zb(t,e)})(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){L0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){L0.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function sU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(J(_r,10),J(pa,10),J(Zu,8))},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&It("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gt([o4e]),yt]}),e})();function aU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function cU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const lU=class extends rU{constructor(e=null,n,r){super(Qb(n),Xb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=cU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){cU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},c4e={provide:ga,useExisting:Tt(()=>G2)},fU=(()=>Promise.resolve())();let G2=(()=>{var t;class e extends ga{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new lU,this._registered=!1,this.name="",this.update=new jt,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function nw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===k0?n=o:function r4e(t){return Object.getPrototypeOf(t.constructor)===wc}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function tw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){V0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){fU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&function Al(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);fU.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function z2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Rr,9),J(_r,10),J(pa,10),J(Do,10),J($o,8),J(Zu,8))},t.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Gt([c4e]),yt,xr]}),e})(),rw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),pU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=St({}),e})(),P4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=St({imports:[pU]}),e})(),PU=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Zu,useValue:r.callSetDisabledState??H2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=St({imports:[P4e]}),e})(),k4e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Yn))},t.\u0275dir=Oe({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&It("keypress",function(s){return i.validateInput(s)})("paste",function(s){return i.validatePaste(s)})}}),e})(),O4e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Yn))},t.\u0275dir=Oe({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&It("keypress",function(s){return i.validateInput(s)})("paste",function(s){return i.validatePaste(s)})}}),e})(),F4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=kn({name:"kickMemberFormatter",type:t,pure:!0}),e})(),V4e=(()=>{var t;class e{transform(r){return"/alliances/note/"+r+"/"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=kn({name:"updateNoteFormatter",type:t,pure:!0}),e})();function L4e(t,e){if(1&t&&(Z(0,"span",9),Ae(1),ce()),2&t){const n=$t().$implicit;ge(1),Pa("Note: ",n.note,"")}}function B4e(t,e){if(1&t&&(Z(0,"div",5)(1,"div",6)(2,"span",7),Ae(3),ce(),Jt(4,L4e,2,1,"span",8),ce()()),2&t){const n=e.$implicit;ge(3),At(n.name),ge(1),ke("ngIf",null!=n.note)}}const NU=function(){return["far","circle-xmark"]};function H4e(t,e){if(1&t){const n=Cs();Z(0,"div",28)(1,"form",29,30),It("ngSubmit",function(i){return di(n),fi($t(4).onSubmitKickMember(i))}),st(3,"input",31),Zt(4,"kickMemberFormatter"),Z(5,"button",32),st(6,"fa-icon",24),ce()()()}if(2&t){const n=$t().$implicit;ge(3),Jd("name",lr(4,2,n.dgId)),ge(3),ke("icon",Il(4,NU))}}function z4e(t,e){if(1&t&&(Z(0,"span",33),Ae(1),ce()),2&t){const n=$t().$implicit;ge(1),Pa("[",n.kickEta,"]")}}function U4e(t,e){if(1&t&&(Z(0,"span",9),Ae(1),ce()),2&t){const n=$t().$implicit;ge(1),Pa("Note: ",n.note,"")}}const kU=function(){return["far","circle-right"]};function j4e(t,e){if(1&t){const n=Cs();Z(0,"div",34)(1,"span",35),Ae(2,"Note:"),ce(),Z(3,"form",36,30),It("ngSubmit",function(i){return di(n),fi($t(4).onSubmitUpdateNote(i))}),Zt(5,"updateNoteFormatter"),st(6,"input",37),Z(7,"button",32),st(8,"fa-icon",24),ce()()()}if(2&t){const n=$t().$implicit;ge(3),Jd("action",lr(5,3,n.dgId),gv),ge(3),Jd("value",n.note),ge(2),ke("icon",Il(5,kU))}}const $4e=function(t,e){return{executed:t,"in-progress":e}};function G4e(t,e){if(1&t){const n=Cs();Z(0,"div",38)(1,"div",16)(2,"span",35),Ae(3,"Target:"),ce(),Z(4,"span",39),Ae(5),ce()(),Z(6,"div",18)(7,"span",35),Ae(8,"Wait:"),ce(),Z(9,"span",39),Ae(10),ce()(),Z(11,"div",20)(12,"span",35),Ae(13,"Instructions:"),ce(),Z(14,"span",39),Ae(15),ce()(),Z(16,"div",40)(17,"button",23),It("click",function(){const o=di(n).$implicit;return fi($t(4).deleteOrder(o.id))}),st(18,"fa-icon",24),ce()()()}if(2&t){const n=e.$implicit;ke("ngClass",YS(5,$4e,n.executed,!n.executed)),ge(5),At(n.target),ge(5),At(n.wait),ge(5),At(n.instructions),ge(3),ke("icon",Il(8,NU))}}function q4e(t,e){if(1&t){const n=Cs();Z(0,"div",5)(1,"div",6)(2,"span",7),Ae(3),ce(),Jt(4,H4e,7,5,"div",12),Jt(5,z4e,2,1,"span",13),Jt(6,U4e,2,1,"span",8),Jt(7,j4e,9,6,"div",14),ce(),Z(8,"div",15)(9,"div",16)(10,"span",16),Ae(11,"Target:"),ce(),Z(12,"input",17),It("ngModelChange",function(i){const s=di(n).index;return fi($t(3).controls.target[s]=i)}),ce()(),Z(13,"div",18)(14,"span",18),Ae(15,"Wait:"),ce(),Z(16,"input",19),It("ngModelChange",function(i){const s=di(n).index;return fi($t(3).controls.wait[s]=i)}),ce()(),Z(17,"div",20)(18,"span",20),Ae(19,"Instructions:"),ce(),Z(20,"textarea",21),It("ngModelChange",function(i){const s=di(n).index;return fi($t(3).controls.instructions[s]=i)}),ce()(),Z(21,"div",22)(22,"button",23),It("click",function(){const o=di(n).index;return fi($t(3).createOrder(o))}),st(23,"fa-icon",24),ce()()(),Z(24,"div",25)(25,"div",26),st(26,"span",1),ce(),Jt(27,G4e,19,9,"div",27),Zt(28,"async"),ce()()}if(2&t){const n=e.$implicit,r=e.index,i=$t(2).ngIf,o=$t();ge(3),At(n.name),ge(1),ke("ngIf",null==n.kickEta&&i===o.UserRole.ADMIN),ge(1),ke("ngIf",null!=n.kickEta),ge(1),ke("ngIf",null!=n.note&&n.note.length>0&&i===o.UserRole.TEAM_LEADER),ge(1),ke("ngIf",i===o.UserRole.ADMIN),ge(5),ke("ngModel",o.controls.target[r]),ge(4),ke("ngModel",o.controls.wait[r]),ge(4),ke("ngModel",o.controls.instructions[r]),ge(3),ke("icon",Il(12,kU)),ge(4),ke("ngForOf",lr(28,10,o.orders.get(n.name.toLowerCase())))}}function W4e(t,e){if(1&t&&(Z(0,"div",11),Jt(1,q4e,29,13,"div",3),ce()),2&t){const n=$t(2);ge(1),ke("ngForOf",n.allianceMembers)}}function K4e(t,e){if(1&t&&(Yd(0),Jt(1,W4e,2,1,"div",10),Qd()),2&t){const n=e.ngIf,r=$t();ge(1),ke("ngIf",n===r.UserRole.TEAM_LEADER||n===r.UserRole.ADMIN)}}let Y4e=(()=>{var t;class e{constructor(r){this.UserRole=Yh,this.orderService=W(oH),this.dgAPI=W(as),this.authService=W(ia),this.changeDetection=W($o),this.localStorageService=W(yo),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},this.initialized=!1,r.addIcons(k2,zb),this.allianceMembers=this.dgAPI.allianceMembers(!0),this.authService.authState.subscribe(i=>{document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("show"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("hide")),i.status&&(this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.role=new de(o=>{o.next(i.role),o.complete()}),(i.role===Yh.ADMIN||i.role===Yh.TEAM_LEADER)&&(this.dgAPI.cleanAlianceMembers(),this.initialized||(this.allianceMembers=this.dgAPI.allianceMembers(!0),this.allianceMembers.forEach(o=>{this.orders.set(o.name.toLowerCase(),new de(s=>{this.orderService.getAllOrders(o.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,s)}))}),this.initialized=!0))),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("hide"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("show"))}),this.authService.checkLoginValidity()}createOrder(r){let i=new T2e;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(Yt.ALLIANCE_MEMBERS),r.target.submit()}onSubmitUpdateNote(r){this.localStorageService.remove(Yt.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(kb))},t.\u0275cmp=vr({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:6,vars:4,consts:[[1,"dgt-spinner-container","main"],[1,"dgt-spinner"],[1,"dgt-orders-manager-panel","user"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"dgt-orders-manager-member"],[1,"player"],[1,"name"],["class","note",4,"ngIf"],[1,"note"],["class","dgt-orders-manager-panel admin",4,"ngIf"],[1,"dgt-orders-manager-panel","admin"],["class","dgt-orders-manager-kick",4,"ngIf"],["class","kick-eta",4,"ngIf"],["class","note-update",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[3,"icon"],[1,"dgt-orders-history"],[1,"dgt-spinner-container","member"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[1,"kick-eta"],[1,"note-update"],[1,"label"],["method","post",3,"action","ngSubmit"],["type","text","name","note","placeholder","Player Note",3,"value"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"value"],[1,"delete"]],template:function(r,i){1&r&&(Z(0,"div",0),st(1,"span",1),ce(),Z(2,"div",2),Jt(3,B4e,5,2,"div",3),ce(),Jt(4,K4e,2,1,"ng-container",4),Zt(5,"async")),2&r&&(ge(3),ke("ngForOf",i.allianceMembers),ge(1),ke("ngIf",lr(5,2,i.role)))},dependencies:[a4,Bg,Ds,rw,k0,qb,Wb,G2,B0,nH,k4e,O4e,Tl,F4e,V4e],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:28px;font-size:12px;background:rgba(0,0,0,.4);color:#fff;border:none!important;text-align:left;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:5px;width:370px}span.target[_ngcontent-%COMP%], span.wait[_ngcontent-%COMP%], span.instructions[_ngcontent-%COMP%]{float:left;line-height:26px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-left:5px;margin-right:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:#ffd46f;float:left}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400!important;float:right}.dgt-orders-manager-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid transparent;width:calc(100% - 12px);border-radius:5px;padding:3px 5px;margin-top:5px}.dgt-orders-history-details[_ngcontent-%COMP%]:nth-child(2){margin-top:10px!important}.dgt-orders-history-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:22px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#ffffffad;margin-right:20px}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{background:#7BBD1A3D}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{background:#FF3B303B}.dgt-orders-history[_ngcontent-%COMP%]{width:calc(100% - 10px)!important;margin-left:5px;margin-right:5px;position:relative}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px;margin-left:2px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px}.create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:20px!important;line-height:22px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.note-update[_ngcontent-%COMP%]{float:right!important}.note-update[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{float:left;font-weight:400;line-height:22px;margin-right:5px}.note-update[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{float:left}.note-update[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:22px;margin-right:5px;border-radius:4px}span.note[_ngcontent-%COMP%]{line-height:20px}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.name[_ngcontent-%COMP%]{color:#ffffffad!important;font-weight:400!important;width:35%!important;font-size:1em!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.note[_ngcontent-%COMP%]{line-height:16px!important;width:65%;text-align:left;font-size:1em!important}.dgt-spinner-container.member[_ngcontent-%COMP%]{position:relative;margin-top:5px}.dgt-spinner-container.member[_ngcontent-%COMP%]   .dgt-spinner[_ngcontent-%COMP%]{top:10px!important}"]}),e})(),Q4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t,bootstrap:[Y4e]}),t.\u0275inj=St({providers:[oH],imports:[Oi,PU,Ob,Ps(()=>ks(mr_firebase)),Ga(()=>qa()),ta(()=>na()),aa(()=>ca(Ns(),{provider:new wo(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),OU=(()=>{var t;class e{constructor(){this.firestore=W(vo)}getActiveOrders(r,i,o,s){if(this.ordersSubscription)return;let a=Hi(this.firestore,"orders");this.ordersSubscription=Su(Mu(a,ra("user","==",r),ra("executed","==",!1),Lm("executed","asc"),Lm("wait","asc")),{idField:"id"}).subscribe(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),s.next(l),o.detectChanges(),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("show"))})}completeOrder(r){let i=Hi(this.firestore,"orders");PF(Kh(i,r),{executed:!0}).catch(o=>{console.log(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const X4e=function(){return["far","circle-check"]};function J4e(t,e){if(1&t){const n=Cs();Z(0,"div",6)(1,"div",7)(2,"span",8),Ae(3,"From:"),ce(),Z(4,"span",9),Ae(5),ce()(),Z(6,"div",10)(7,"span",8),Ae(8,"Target:"),ce(),Z(9,"span",9),Ae(10),ce()(),Z(11,"div",11)(12,"span",8),Ae(13,"Wait:"),ce(),Z(14,"span",9),Ae(15),ce()(),Z(16,"div",12)(17,"span",8),Ae(18,"Instructions:"),ce(),Z(19,"span",9),Ae(20),ce()(),Z(21,"div",13)(22,"button",14),It("click",function(){const o=di(n).$implicit;return fi($t(3).onCompleteClick(o.id))}),st(23,"fa-icon",15),ce()()()}if(2&t){const n=e.$implicit;ge(5),At(n.from),ge(5),At(n.target),ge(5),At(n.wait),ge(5),At(n.instructions),ge(3),ke("icon",Il(5,X4e))}}function Z4e(t,e){if(1&t&&(Z(0,"div",4),Jt(1,J4e,24,6,"div",5),ce()),2&t){const n=$t().ngIf;ge(1),ke("ngForOf",n)}}function e6e(t,e){if(1&t&&(Yd(0),Jt(1,Z4e,2,1,"div",3),Qd()),2&t){const n=e.ngIf;ge(1),ke("ngIf",(null==n?null:n.length)>0)}}let t6e=(()=>{var t;class e{constructor(r){this.orderService=W(OU),this.dgAPI=W(as),this.changeDetection=W($o),this.authService=W(ia),this.active=!1,this.initialized=!1,r.addIcons(Lb),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("show"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("hide")),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.orders=new de(o=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,o)}),this.initialized=!0)}),this.authService.checkLoginValidity()}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(kb))},t.\u0275cmp=vr({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:4,vars:3,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-fleet-order-container",4,"ngIf"],[1,"dgt-fleet-order-container"],["class","dgt-fleet-order",4,"ngFor","ngForOf"],[1,"dgt-fleet-order"],[1,"from"],[1,"label"],[1,"value"],[1,"target"],[1,"wait"],[1,"instructions"],[1,"complete"],[3,"click"],[3,"icon"]],template:function(r,i){1&r&&(Z(0,"div",0),st(1,"span",1),ce(),Jt(2,e6e,2,1,"ng-container",2),Zt(3,"async")),2&r&&(ge(2),ke("ngIf",i.active&&lr(3,1,i.orders)))},dependencies:[Bg,Ds,nH,Tl],styles:[".dgt-fleet-order-container[_ngcontent-%COMP%]{margin:5px 5px 0!important;background:rgb(75,75,75);padding:7px;border-radius:5px;border:1px solid #5e5e5e}.dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#784946;border:none;width:calc(100% - 10px);border-radius:5px;height:22px;line-height:22px;padding:5px;margin-bottom:5px}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;color:#dcdcdc;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#dcdcdc}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:145px}.dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:85px}.dgt-fleet-order[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{float:right;margin-right:2px}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{margin-left:2px;min-width:150px}.dgt-spinner-container[_ngcontent-%COMP%]{border:1px solid #5e5e5e;margin:5px 5px 0!important;width:calc(100% - 12px)!important;height:calc(100% - 12px)!important;position:relative}"]}),e})(),n6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t,bootstrap:[t6e]}),t.\u0275inj=St({providers:[OU],imports:[Oi,Ob,Ps(()=>ks(mr_firebase)),Ga(()=>qa()),ta(()=>na()),aa(()=>ca(Ns(),{provider:new wo(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),r6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),i6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t,bootstrap:[r6e]}),t.\u0275inj=St({imports:[Oi]}),e})(),o6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),s6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t,bootstrap:[o6e]}),t.\u0275inj=St({providers:[kL,kI],imports:[Oi,Ps(()=>ks(mr_firebase)),Ga(()=>qa()),OL(()=>RL()),aa(()=>ca(Ns(),{provider:new wo(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),ta(()=>na())]}),e})(),FU=(()=>{var t;class e{constructor(){this.firestore=W(vo),this.localStorageService=W(yo)}checkVersion(r,i){if(this.configSubscription)return;let o=Hi(this.firestore,"config");this.configSubscription=SF(Kh(o,"version")).subscribe(s=>{let a=Object.assign({value:""},s).value;this.localStorageService.getVersion()!==a?(this.localStorageService.cache(Yt.UPDATE_AVAILABLE,!0),i.next(!0)):(this.localStorageService.cache(Yt.UPDATE_AVAILABLE,!1),i.next(!1)),i.complete(),r.detectChanges(),document.querySelector("dgt-changelog .dgt-spinner-container")&&(document.querySelector("dgt-changelog .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-changelog .dgt-spinner-container").classList.remove("show"))})}ngOnDestroy(){this.configSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function a6e(t,e){if(1&t){const n=Cs();Z(0,"div",6)(1,"span"),Ae(2,"There is a new update for DarkGalaxy Toolbox. "),Z(3,"a",7),It("click",function(){return di(n),fi($t().installUpdate())}),Ae(4,"Click here"),ce(),Ae(5," to install it."),ce()()}}let c6e=(()=>{var t;class e{constructor(){this.changeLogService=W(FU),this.changeDetection=W($o),this.localStorageService=W(yo),this.changed=new de(r=>{this.changeLogService.checkVersion(this.changeDetection,r)}),this.version=this.localStorageService.getVersion()}installUpdate(){this.localStorageService.cache(Yt.UPDATE_AVAILABLE,!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-changelog"]],decls:29,vars:4,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container"],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-important"],["id","dgt-update"],["target","_blank","href","https://github.com/vberezan/dg-toolbox/raw/main/tampermonkey/dg-toolbox.user.js",3,"click"]],template:function(r,i){1&r&&(Z(0,"div",0)(1,"h2"),Ae(2,"DarkGalaxy Tools "),Z(3,"span"),Ae(4),ce()(),Z(5,"div",1),st(6,"span",2),ce(),Jt(7,a6e,6,0,"div",3),Zt(8,"async"),Z(9,"div",4)(10,"div")(11,"span"),Ae(12,"Changelog:"),ce()(),Z(13,"ul")(14,"li"),Ae(15,"fix - fleets/fleet various screens"),ce(),Z(16,"li"),Ae(17,"fix - increased some buttons size"),ce()()(),Z(18,"div",5)(19,"div")(20,"span"),Ae(21,"Important:"),ce()(),Z(22,"ul")(23,"li"),Ae(24,"please report any bug to Whatsapp channel"),ce(),Z(25,"li")(26,"b"),Ae(27,"disable browser ads-blocking plugins on game domain"),ce(),Ae(28," - some of them are interfering with Firebase communication"),ce()()()()),2&r&&(ge(4),At(i.version),ge(3),ke("ngIf",lr(8,2,i.changed)))},dependencies:[Ds,Tl],styles:["#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border:1px solid #5e5e5e;border-radius:5px;background:rgb(75,75,75)}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin-top:0;font-size:18px;font-weight:700;border-bottom:1px solid #5e5e5e;margin-bottom:6px;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{background:#576740;margin:5px;border-radius:3px;padding:5px 10px!important;color:#ffffffad}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#784946;border-radius:3px;display:block;margin:0 5px;color:#ffffffad}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}"]}),e})(),l6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t,bootstrap:[c6e]}),t.\u0275inj=St({providers:[FU],imports:[Oi,Ps(()=>ks(mr_firebase)),ta(()=>na()),aa(()=>ca(Ns(),{provider:new wo(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class q2{}class W2{}class To{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof To?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new To;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof To?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class d6e{encodeKey(e){return VU(e)}encodeValue(e){return VU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const h6e=/%(\d[a-f0-9])/gi,p6e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VU(t){return encodeURIComponent(t).replace(h6e,(e,n)=>p6e[n]??e)}function K2(t){return`${t}`}class ma{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new d6e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function f6e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(K2):[K2(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ma({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(K2(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(K2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class g6e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function LU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function BU(t){return typeof Blob<"u"&&t instanceof Blob}function HU(t){return typeof FormData<"u"&&t instanceof FormData}class H0{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function m6e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new To),this.context||(this.context=new g6e),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new ma,this.urlWithParams=n}serializeBody(){return null===this.body?null:LU(this.body)||BU(this.body)||HU(this.body)||function _6e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ma?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HU(this.body)?null:BU(this.body)?this.body.type||null:LU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ma?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new H0(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var ed=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ed||{});class uw{constructor(e,n=200,r="OK"){this.headers=e.headers||new To,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class dw extends uw{constructor(e={}){super(e),this.type=ed.ResponseHeader}clone(e={}){return new dw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class td extends uw{constructor(e={}){super(e),this.type=ed.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new td({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zU extends uw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function fw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let UU=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof H0)s=r;else{let l,u;l=o.headers instanceof To?o.headers:new To(o.headers),o.params&&(u=o.params instanceof ma?o.params:new ma({fromObject:o.params})),s=new H0(r,i,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=Le(s).pipe(Zh(l=>this.handler.handle(l)));if(r instanceof H0||"events"===o.observe)return a;const c=a.pipe(Eo(l=>l instanceof td));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Qe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Qe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Qe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Qe(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new ma).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,fw(o,i))}post(r,i,o={}){return this.request("POST",r,fw(o,i))}put(r,i,o={}){return this.request("PUT",r,fw(o,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(q2))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function GU(t,e){return e(t)}function y6e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const x6e=new Ee(""),z0=new Ee(""),qU=new Ee("");function C6e(){let t=null;return(e,n)=>{null===t&&(t=(W(x6e,{optional:!0})??[]).reduceRight(y6e,GU));const r=W(Eg),i=r.add();return t(e,n).pipe(e0(()=>r.remove(i)))}}let WU=(()=>{var t;class e extends q2{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=W(Eg)}handle(r){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(z0),...this.injector.get(qU,[])]));this.chain=o.reduceRight((s,a)=>function E6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(s,a,this.injector),GU)}const i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(e0(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(W2),Se(gi))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const A6e=/^\)\]\}',?\n/;let YU=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new te(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?jn(i.\u0275loadImpl()):Le(null)).pipe(ci(()=>new de(s=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((E,S)=>a.setRequestHeader(E,S.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const E=r.detectContentTypeHeader();null!==E&&a.setRequestHeader("Content-Type",E)}if(r.responseType){const E=r.responseType.toLowerCase();a.responseType="json"!==E?E:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const E=a.statusText||"OK",S=new To(a.getAllResponseHeaders()),w=function D6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new dw({headers:S,status:a.status,statusText:E,url:w}),l},d=()=>{let{headers:E,status:S,statusText:w,url:$}=u(),K=null;204!==S&&(K=typeof a.response>"u"?a.responseText:a.response),0===S&&(S=K?200:0);let fe=S>=200&&S<300;if("json"===r.responseType&&"string"==typeof K){const Pe=K;K=K.replace(A6e,"");try{K=""!==K?JSON.parse(K):null}catch(Ye){K=Pe,fe&&(fe=!1,K={error:Ye,text:K})}}fe?(s.next(new td({body:K,headers:E,status:S,statusText:w,url:$||void 0})),s.complete()):s.error(new zU({error:K,headers:E,status:S,statusText:w,url:$||void 0}))},f=E=>{const{url:S}=u(),w=new zU({error:E,status:a.status||0,statusText:a.statusText||"Unknown Error",url:S||void 0});s.error(w)};let h=!1;const p=E=>{h||(s.next(u()),h=!0);let S={type:ed.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(S.total=E.total),"text"===r.responseType&&a.responseText&&(S.partialText=a.responseText),s.next(S)},g=E=>{let S={type:ed.UploadProgress,loaded:E.loaded};E.lengthComputable&&(S.total=E.total),s.next(S)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),s.next({type:ed.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(FM))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const hw=new Ee("XSRF_ENABLED"),QU=new Ee("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),XU=new Ee("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class JU{}let M6e=(()=>{var t;class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=DM(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(zr),Se(to),Se(QU))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function R6e(t,e){const n=t.url.toLowerCase();if(!W(hw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=W(JU).getToken(),i=W(XU);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var _a=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(_a||{});function Dc(t,e){return{\u0275kind:t,\u0275providers:e}}function P6e(...t){const e=[UU,YU,WU,{provide:q2,useExisting:WU},{provide:W2,useExisting:YU},{provide:z0,useValue:R6e,multi:!0},{provide:hw,useValue:!0},{provide:JU,useClass:M6e}];for(const n of t)e.push(...n.\u0275providers);return function _v(t){return{\u0275providers:t}}(e)}const ZU=new Ee("LEGACY_INTERCEPTOR_FN");let k6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t}),t.\u0275inj=St({providers:[P6e(Dc(_a.LegacyInterceptors,[{provide:ZU,useFactory:C6e},{provide:z0,useExisting:ZU,multi:!0}]))]}),e})();var nd;class pw{constructor(){this.httpClient=W(UU),this.NAVIGATION_BASE_URL="https://andromeda.darkgalaxy.com/navigation/",this.GALAXIES=49,this.G1_SECTORS=25,this.INNER_SECTORS=6,this.OUTER_SECTORS=2,this.SYSTEMS=4,this._navigationMatrixLoadEmitter=new jt,this.delay=function(){var e=x(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}extractGalaxies(e=[]){var n=this;return x(function*(){let r=[],i=0;if(e.length>0)for(let s=0;s<e.length;s++)e[s]>0&&e[s]<=n.GALAXIES&&r.push(e[s]);else r.push(...n.allGalaxies());let o=n.estimatedNumberOfCalls(r);console.log("Scanning galaxies: ["+r.toString()+"]. Estimated number of calls: "+o);for(let s=0;s<r.length;s++){if(console.log("Galaxy "+r[s]+" scan started!"),1===r[s])for(let a=1;a<=n.G1_SECTORS;a++)for(let c=1;c<=n.SYSTEMS;c++)yield n.extractData(r[s],a,c),n._navigationMatrixLoadEmitter.emit(++i+"/"+o);if(r[s]>1&&r[s]<14)for(let a=1;a<=n.INNER_SECTORS;a++)for(let c=1;c<=n.SYSTEMS;c++)yield n.extractData(r[s],a,c),n._navigationMatrixLoadEmitter.emit(++i+"/"+o);if(r[s]>=14)for(let a=1;a<=n.OUTER_SECTORS;a++)for(let c=1;c<=n.SYSTEMS;c++)yield n.extractData(r[s],a,c),n._navigationMatrixLoadEmitter.emit(++i+"/"+o);console.log("Galaxy "+r[s]+" scan finished!")}})()}allGalaxies(){let e=[];for(let n=1;n<=this.GALAXIES;n++)e.push(n);return e}estimatedNumberOfCalls(e){let n=0;for(let r=0;r<e.length;r++)1===e[r]&&(n+=this.G1_SECTORS*this.SYSTEMS),e[r]>1&&e[r]<14&&(n+=this.INNER_SECTORS*this.SYSTEMS),e[r]>=14&&(n+=this.OUTER_SECTORS*this.SYSTEMS);return n}extractData(e,n,r){var i=this;return x(function*(){const o=2500+Math.floor(2500*Math.random());console.log("Extracting system "+e+"."+n+"."+r+" after "+o+"ms"),yield i.delay(o);let s=yield function u6e(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const o=new ue({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Xh)}});t.subscribe(o)})}(i.httpClient.get(i.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(s,"text/html").querySelectorAll(".navigation .planets").forEach(l=>{let u=l.querySelector(".coords span").textContent.trim()+" - ";l.classList.contains("neutral")?u+="Uninhabited":(l.querySelector(".allianceName")&&(u+=l.querySelector(".allianceName").textContent.trim()),u+=l.querySelector(".playerName").textContent.trim()),console.log(u)})})()}get navigationMatrixLoadEmitter(){return this._navigationMatrixLoadEmitter}}(nd=pw).\u0275fac=function(e){return new(e||nd)},nd.\u0275prov=be({token:nd,factory:nd.\u0275fac,providedIn:"root"}),wn([qi(0,yn())],pw.prototype,"extractGalaxies",null);let H6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Yn))},t.\u0275dir=Oe({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&It("keypress",function(s){return i.validateInput(s)})("paste",function(s){return i.validatePaste(s)})}}),e})();const z6e=["planetsLoadModal"];let U6e=(()=>{var t;class e{constructor(){this.navigationMatrixService=W(pw),this.controls={galaxies:""}}scanGalaxies(){var r=this;return x(function*(){document.body.classList.add("dgt-overlay-open"),r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),r.navigationMatrixService.navigationMatrixLoadEmitter.subscribe(i=>{r.message=i}),yield r.navigationMatrixService.extractGalaxies(r.controls.galaxies.trim().split(",").map(function(i){return parseInt(i,10)})),document.body.classList.remove("dgt-overlay-open"),r.planetsLoadModal.nativeElement.classList.add("hide"),r.planetsLoadModal.nativeElement.classList.remove("show")})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&f7(z6e,5),2&r){let o;Sy(o=function My(){return function OX(t,e){return t[Yi].queries[e].queryList}(X(),IA())}())&&(i.planetsLoadModal=o.first)}},decls:21,vars:2,consts:[[1,"opacBackground","lightBorder","noPadding","seperatorLarge"],[1,"opacDarkBackground","padding"],[1,"noPadding","ofHidden"],["id","admin-load-planets",2,"padding","3px","font-weight","bold"],["type","text","placeholder","Galaxy list...","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["type","button"],["id","admin-load-rankings",2,"padding","3px","font-weight","bold"],["type","submit"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"]],template:function(r,i){1&r&&(Z(0,"div",0)(1,"div",1)(2,"b"),Ae(3,"DGT Admin Panel"),ce()(),Z(4,"div",2)(5,"div",3)(6,"form")(7,"input",4),It("ngModelChange",function(s){return i.controls.galaxies=s}),ce(),Z(8,"button",5),It("click",function(){return i.scanGalaxies()}),Ae(9,"Load Galaxies"),ce()(),Z(10,"button",6),Ae(11,"Load All Galaxies"),ce()(),Z(12,"div",7)(13,"form")(14,"button",8),Ae(15,"Load Rankings"),ce()()()()(),Z(16,"div",9,10)(18,"div",11)(19,"span"),Ae(20),ce()()()),2&r&&(ge(7),ke("ngModel",i.controls.galaxies),ge(13),At(i.message))},dependencies:[rw,k0,qb,Wb,G2,B0,H6e],styles:[".dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:100px;left:25%;border:1px solid #676767;border-radius:5px;padding:10px;background:#ffffff}"]}),e})(),j6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Vt({type:t,bootstrap:[U6e]}),t.\u0275inj=St({imports:[Oi,PU,k6e]}),e})();const $i=Cte();let oi=window.location.pathname.split(/\//g);$i.bootstrapModule(s6e).catch(t=>console.error(t)),$i.bootstrapModule(i6e).catch(t=>console.error(t)),$i.bootstrapModule(D2e).catch(t=>console.error(t)),$i.bootstrapModule(x1e).catch(t=>console.error(t)),2===oi.length&&0===oi[1].trim().length&&($i.bootstrapModule(l6e).catch(t=>console.error(t)),$i.bootstrapModule(j6e).catch(t=>console.error(t))),"planets"===oi[1]&&$i.bootstrapModule(v2e).catch(t=>console.error(t)),"planet"===oi[1]&&"comms"===(5===oi.length&&oi[3])&&$i.bootstrapModule(x2e).catch(t=>console.error(t)),"navigation"===oi[1]&&6===oi.length&&!isNaN(+oi[2])&&!isNaN(+oi[3])&&!isNaN(+oi[4])&&$i.bootstrapModule(b2e).catch(t=>console.error(t)),"alliances"===oi[1]&&$i.bootstrapModule(Q4e).catch(t=>console.error(t)),"fleets"===oi[1]&&$i.bootstrapModule(n6e).catch(t=>console.error(t))},42:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,z=I.lib.BlockCipher,Y=I.algo,k=[],G=[],_=[],b=[],R=[],v=[],D=[],y=[],T=[],A=[];!function(){for(var m=[],C=0;C<256;C++)m[C]=C<128?C<<1:C<<1^283;var L=0,O=0;for(C=0;C<256;C++){var H=O^O<<1^O<<2^O<<3^O<<4;k[L]=H=H>>>8^255&H^99,G[H]=L;var he,U=m[L],ue=m[U],ae=m[ue];_[L]=(he=257*m[H]^16843008*H)<<24|he>>>8,b[L]=he<<16|he>>>16,R[L]=he<<8|he>>>24,v[L]=he,D[H]=(he=16843009*ae^65537*ue^257*U^16843008*L)<<24|he>>>8,y[H]=he<<16|he>>>16,T[H]=he<<8|he>>>24,A[H]=he,L?(L=U^m[m[m[ae^U]]],O^=m[m[O]]):L=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],N=Y.AES=z.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var C=this._keyPriorReset=this._key,L=C.words,O=C.sigBytes/4,U=4*((this._nRounds=O+6)+1),ue=this._keySchedule=[],ae=0;ae<U;ae++)ae<O?ue[ae]=L[ae]:(m=ue[ae-1],ae%O?O>6&&ae%O==4&&(m=k[m>>>24]<<24|k[m>>>16&255]<<16|k[m>>>8&255]<<8|k[255&m]):(m=k[(m=m<<8|m>>>24)>>>24]<<24|k[m>>>16&255]<<16|k[m>>>8&255]<<8|k[255&m],m^=F[ae/O|0]<<24),ue[ae]=ue[ae-O]^m);for(var he=this._invKeySchedule=[],we=0;we<U;we++){if(ae=U-we,we%4)var m=ue[ae];else m=ue[ae-4];he[we]=we<4||ae<=4?m:D[k[m>>>24]]^y[k[m>>>16&255]]^T[k[m>>>8&255]]^A[k[255&m]]}}},encryptBlock:function(m,C){this._doCryptBlock(m,C,this._keySchedule,_,b,R,v,k)},decryptBlock:function(m,C){var L=m[C+1];m[C+1]=m[C+3],m[C+3]=L,this._doCryptBlock(m,C,this._invKeySchedule,D,y,T,A,G),L=m[C+1],m[C+1]=m[C+3],m[C+3]=L},_doCryptBlock:function(m,C,L,O,H,U,ue,ae){for(var he=this._nRounds,we=m[C]^L[0],q=m[C+1]^L[1],le=m[C+2]^L[2],ve=m[C+3]^L[3],se=4,Fe=1;Fe<he;Fe++){var de=O[we>>>24]^H[q>>>16&255]^U[le>>>8&255]^ue[255&ve]^L[se++],We=O[q>>>24]^H[le>>>16&255]^U[ve>>>8&255]^ue[255&we]^L[se++],et=O[le>>>24]^H[ve>>>16&255]^U[we>>>8&255]^ue[255&q]^L[se++],Q=O[ve>>>24]^H[we>>>16&255]^U[q>>>8&255]^ue[255&le]^L[se++];we=de,q=We,le=et,ve=Q}de=(ae[we>>>24]<<24|ae[q>>>16&255]<<16|ae[le>>>8&255]<<8|ae[255&ve])^L[se++],We=(ae[q>>>24]<<24|ae[le>>>16&255]<<16|ae[ve>>>8&255]<<8|ae[255&we])^L[se++],et=(ae[le>>>24]<<24|ae[ve>>>16&255]<<16|ae[we>>>8&255]<<8|ae[255&q])^L[se++],Q=(ae[ve>>>24]<<24|ae[we>>>16&255]<<16|ae[q>>>8&255]<<8|ae[255&le])^L[se++],m[C]=de,m[C+1]=We,m[C+2]=et,m[C+3]=Q},keySize:8});I.AES=z._createHelper(N)}(),M.AES)},172:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,z=I.lib.BlockCipher;const k=16,G=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],_=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var b={pbox:[],sbox:[]};function R(A,F){let O=A.sbox[0][F>>24&255]+A.sbox[1][F>>16&255];return O^=A.sbox[2][F>>8&255],O+=A.sbox[3][255&F],O}function v(A,F,N){let L,m=F,C=N;for(let O=0;O<k;++O)m^=A.pbox[O],C=R(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[k],m^=A.pbox[k+1],{left:m,right:C}}var T=I.algo.Blowfish=z.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function y(A,F,N){for(let H=0;H<4;H++){A.sbox[H]=[];for(let U=0;U<256;U++)A.sbox[H][U]=_[H][U]}let m=0;for(let H=0;H<k+2;H++)A.pbox[H]=G[H]^F[m],m++,m>=N&&(m=0);let C=0,L=0,O=0;for(let H=0;H<k+2;H+=2)O=v(A,C,L),C=O.left,L=O.right,A.pbox[H]=C,A.pbox[H+1]=L;for(let H=0;H<4;H++)for(let U=0;U<256;U+=2)O=v(A,C,L),C=O.left,L=O.right,A.sbox[H][U]=C,A.sbox[H][U+1]=L;return!0}(b,A.words,A.sigBytes/4)}},encryptBlock:function(A,F){var N=v(b,A[F],A[F+1]);A[F]=N.left,A[F+1]=N.right},decryptBlock:function(A,F){var N=function D(A,F,N){let L,m=F,C=N;for(let O=k+1;O>1;--O)m^=A.pbox[O],C=R(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[1],m^=A.pbox[0],{left:m,right:C}}(b,A[F],A[F+1]);A[F]=N.left,A[F+1]=N.right},blockSize:2,keySize:4,ivSize:2});I.Blowfish=z._createHelper(T)}(),M.Blowfish)},270:function(ye,Ce,V){var j,z,Y,k,G,_,R,D,y,A,F,N,C,O,U,ue,he,we,M;ye.exports=(M=V(12),V(66),void(M.lib.Cipher||(j=M,z=j.lib,Y=z.Base,k=z.WordArray,G=z.BufferedBlockAlgorithm,_=j.enc,R=_.Base64,D=j.algo.EvpKDF,y=z.Cipher=G.extend({cfg:Y.extend(),createEncryptor:function(q,le){return this.create(this._ENC_XFORM_MODE,q,le)},createDecryptor:function(q,le){return this.create(this._DEC_XFORM_MODE,q,le)},init:function(q,le,ve){this.cfg=this.cfg.extend(ve),this._xformMode=q,this._key=le,this.reset()},reset:function(){G.reset.call(this),this._doReset()},process:function(q){return this._append(q),this._process()},finalize:function(q){return q&&this._append(q),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function q(le){return"string"==typeof le?we:ue}return function(le){return{encrypt:function(ve,se,Fe){return q(se).encrypt(le,ve,se,Fe)},decrypt:function(ve,se,Fe){return q(se).decrypt(le,ve,se,Fe)}}}}()}),z.StreamCipher=y.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=j.mode={},F=z.BlockCipherMode=Y.extend({createEncryptor:function(q,le){return this.Encryptor.create(q,le)},createDecryptor:function(q,le){return this.Decryptor.create(q,le)},init:function(q,le){this._cipher=q,this._iv=le}}),N=A.CBC=function(){var q=F.extend();function le(ve,se,Fe){var de,We=this._iv;We?(de=We,this._iv=undefined):de=this._prevBlock;for(var et=0;et<Fe;et++)ve[se+et]^=de[et]}return q.Encryptor=q.extend({processBlock:function(ve,se){var Fe=this._cipher,de=Fe.blockSize;le.call(this,ve,se,de),Fe.encryptBlock(ve,se),this._prevBlock=ve.slice(se,se+de)}}),q.Decryptor=q.extend({processBlock:function(ve,se){var Fe=this._cipher,de=Fe.blockSize,We=ve.slice(se,se+de);Fe.decryptBlock(ve,se),le.call(this,ve,se,de),this._prevBlock=We}}),q}(),C=(j.pad={}).Pkcs7={pad:function(q,le){for(var ve=4*le,se=ve-q.sigBytes%ve,Fe=se<<24|se<<16|se<<8|se,de=[],We=0;We<se;We+=4)de.push(Fe);var et=k.create(de,se);q.concat(et)},unpad:function(q){q.sigBytes-=255&q.words[q.sigBytes-1>>>2]}},z.BlockCipher=y.extend({cfg:y.cfg.extend({mode:N,padding:C}),reset:function(){var q;y.reset.call(this);var le=this.cfg,ve=le.iv,se=le.mode;this._xformMode==this._ENC_XFORM_MODE?q=se.createEncryptor:(q=se.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==q?this._mode.init(this,ve&&ve.words):(this._mode=q.call(se,this,ve&&ve.words),this._mode.__creator=q)},_doProcessBlock:function(q,le){this._mode.processBlock(q,le)},_doFinalize:function(){var q,le=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(le.pad(this._data,this.blockSize),q=this._process(!0)):(q=this._process(!0),le.unpad(q)),q},blockSize:4}),O=z.CipherParams=Y.extend({init:function(q){this.mixIn(q)},toString:function(q){return(q||this.formatter).stringify(this)}}),U=(j.format={}).OpenSSL={stringify:function(q){var ve=q.ciphertext,se=q.salt;return(se?k.create([1398893684,1701076831]).concat(se).concat(ve):ve).toString(R)},parse:function(q){var le,ve=R.parse(q),se=ve.words;return 1398893684==se[0]&&1701076831==se[1]&&(le=k.create(se.slice(2,4)),se.splice(0,4),ve.sigBytes-=16),O.create({ciphertext:ve,salt:le})}},ue=z.SerializableCipher=Y.extend({cfg:Y.extend({format:U}),encrypt:function(q,le,ve,se){se=this.cfg.extend(se);var Fe=q.createEncryptor(ve,se),de=Fe.finalize(le),We=Fe.cfg;return O.create({ciphertext:de,key:ve,iv:We.iv,algorithm:q,mode:We.mode,padding:We.padding,blockSize:q.blockSize,formatter:se.format})},decrypt:function(q,le,ve,se){return se=this.cfg.extend(se),le=this._parse(le,se.format),q.createDecryptor(ve,se).finalize(le.ciphertext)},_parse:function(q,le){return"string"==typeof q?le.parse(q,this):q}}),he=(j.kdf={}).OpenSSL={execute:function(q,le,ve,se,Fe){if(se||(se=k.random(8)),Fe)var de=D.create({keySize:le+ve,hasher:Fe}).compute(q,se);else de=D.create({keySize:le+ve}).compute(q,se);var We=k.create(de.words.slice(le),4*ve);return de.sigBytes=4*le,O.create({key:de,iv:We,salt:se})}},we=z.PasswordBasedCipher=ue.extend({cfg:ue.cfg.extend({kdf:he}),encrypt:function(q,le,ve,se){var Fe=(se=this.cfg.extend(se)).kdf.execute(ve,q.keySize,q.ivSize,se.salt,se.hasher);se.iv=Fe.iv;var de=ue.encrypt.call(this,q,le,Fe.key,se);return de.mixIn(Fe),de},decrypt:function(q,le,ve,se){se=this.cfg.extend(se),le=this._parse(le,se.format);var Fe=se.kdf.execute(ve,q.keySize,q.ivSize,le.salt,se.hasher);return se.iv=Fe.iv,ue.decrypt.call(this,q,le,Fe.key,se)}}))))},12:function(ye,Ce,V){var M;ye.exports=(M=M||function(I,j){var z;if(typeof window<"u"&&window.crypto&&(z=window.crypto),typeof self<"u"&&self.crypto&&(z=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(z=globalThis.crypto),!z&&typeof window<"u"&&window.msCrypto&&(z=window.msCrypto),!z&&typeof global<"u"&&global.crypto&&(z=global.crypto),!z)try{z=V(480)}catch{}var Y=function(){if(z){if("function"==typeof z.getRandomValues)try{return z.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof z.randomBytes)try{return z.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},k=Object.create||function(){function m(){}return function(C){var L;return m.prototype=C,L=new m,m.prototype=null,L}}(),G={},_=G.lib={},b=_.Base={extend:function(m){var C=k(this);return m&&C.mixIn(m),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var C in m)m.hasOwnProperty(C)&&(this[C]=m[C]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}},R=_.WordArray=b.extend({init:function(m,C){m=this.words=m||[],this.sigBytes=null!=C?C:4*m.length},toString:function(m){return(m||D).stringify(this)},concat:function(m){var C=this.words,L=m.words,O=this.sigBytes,H=m.sigBytes;if(this.clamp(),O%4)for(var U=0;U<H;U++)C[O+U>>>2]|=(L[U>>>2]>>>24-U%4*8&255)<<24-(O+U)%4*8;else for(var ae=0;ae<H;ae+=4)C[O+ae>>>2]=L[ae>>>2];return this.sigBytes+=H,this},clamp:function(){var m=this.words,C=this.sigBytes;m[C>>>2]&=4294967295<<32-C%4*8,m.length=I.ceil(C/4)},clone:function(){var m=b.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var C=[],L=0;L<m;L+=4)C.push(Y());return new R.init(C,m)}}),v=G.enc={},D=v.Hex={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],H=0;H<L;H++){var U=C[H>>>2]>>>24-H%4*8&255;O.push((U>>>4).toString(16)),O.push((15&U).toString(16))}return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O+=2)L[O>>>3]|=parseInt(m.substr(O,2),16)<<24-O%8*4;return new R.init(L,C/2)}},y=v.Latin1={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],H=0;H<L;H++)O.push(String.fromCharCode(C[H>>>2]>>>24-H%4*8&255));return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O++)L[O>>>2]|=(255&m.charCodeAt(O))<<24-O%4*8;return new R.init(L,C)}},T=v.Utf8={stringify:function(m){try{return decodeURIComponent(escape(y.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return y.parse(unescape(encodeURIComponent(m)))}},A=_.BufferedBlockAlgorithm=b.extend({reset:function(){this._data=new R.init,this._nDataBytes=0},_append:function(m){"string"==typeof m&&(m=T.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var C,L=this._data,O=L.words,H=L.sigBytes,U=this.blockSize,ae=H/(4*U),he=(ae=m?I.ceil(ae):I.max((0|ae)-this._minBufferSize,0))*U,we=I.min(4*he,H);if(he){for(var q=0;q<he;q+=U)this._doProcessBlock(O,q);C=O.splice(0,he),L.sigBytes-=we}return new R.init(C,we)},clone:function(){var m=b.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),N=(_.Hasher=A.extend({cfg:b.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){return m&&this._append(m),this._doFinalize()},blockSize:16,_createHelper:function(m){return function(C,L){return new m.init(L).finalize(C)}},_createHmacHelper:function(m){return function(C,L){return new N.HMAC.init(m,L).finalize(C)}}}),G.algo={});return G}(Math),M)},506:function(ye,Ce,V){var M,z;ye.exports=(M=V(12),z=M.lib.WordArray,M.enc.Base64={stringify:function(_){var b=_.words,R=_.sigBytes,v=this._map;_.clamp();for(var D=[],y=0;y<R;y+=3)for(var N=(b[y>>>2]>>>24-y%4*8&255)<<16|(b[y+1>>>2]>>>24-(y+1)%4*8&255)<<8|b[y+2>>>2]>>>24-(y+2)%4*8&255,m=0;m<4&&y+.75*m<R;m++)D.push(v.charAt(N>>>6*(3-m)&63));var C=v.charAt(64);if(C)for(;D.length%4;)D.push(C);return D.join("")},parse:function(_){var b=_.length,R=this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var D=0;D<R.length;D++)v[R.charCodeAt(D)]=D}var y=R.charAt(64);if(y){var T=_.indexOf(y);-1!==T&&(b=T)}return function G(_,b,R){for(var v=[],D=0,y=0;y<b;y++)if(y%4){var T=R[_.charCodeAt(y-1)]<<y%4*2,A=R[_.charCodeAt(y)]>>>6-y%4*2;v[D>>>2]|=(T|A)<<24-D%4*8,D++}return z.create(v,D)}(_,b,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},M.enc.Base64)},523:function(ye,Ce,V){var M,z;ye.exports=(M=V(12),z=M.lib.WordArray,M.enc.Base64url={stringify:function(_,b){void 0===b&&(b=!0);var R=_.words,v=_.sigBytes,D=b?this._safe_map:this._map;_.clamp();for(var y=[],T=0;T<v;T+=3)for(var m=(R[T>>>2]>>>24-T%4*8&255)<<16|(R[T+1>>>2]>>>24-(T+1)%4*8&255)<<8|R[T+2>>>2]>>>24-(T+2)%4*8&255,C=0;C<4&&T+.75*C<v;C++)y.push(D.charAt(m>>>6*(3-C)&63));var L=D.charAt(64);if(L)for(;y.length%4;)y.push(L);return y.join("")},parse:function(_,b){void 0===b&&(b=!0);var R=_.length,v=b?this._safe_map:this._map,D=this._reverseMap;if(!D){D=this._reverseMap=[];for(var y=0;y<v.length;y++)D[v.charCodeAt(y)]=y}var T=v.charAt(64);if(T){var A=_.indexOf(T);-1!==A&&(R=A)}return function G(_,b,R){for(var v=[],D=0,y=0;y<b;y++)if(y%4){var T=R[_.charCodeAt(y-1)]<<y%4*2,A=R[_.charCodeAt(y)]>>>6-y%4*2;v[D>>>2]|=(T|A)<<24-D%4*8,D++}return z.create(v,D)}(_,R,D)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},M.enc.Base64url)},454:function(ye,Ce,V){var M;ye.exports=(M=V(12),function(){var z=M.lib.WordArray,Y=M.enc;function G(_){return _<<8&4278255360|_>>>8&16711935}Y.Utf16=Y.Utf16BE={stringify:function(_){for(var b=_.words,R=_.sigBytes,v=[],D=0;D<R;D+=2)v.push(String.fromCharCode(b[D>>>2]>>>16-D%4*8&65535));return v.join("")},parse:function(_){for(var b=_.length,R=[],v=0;v<b;v++)R[v>>>1]|=_.charCodeAt(v)<<16-v%2*16;return z.create(R,2*b)}},Y.Utf16LE={stringify:function(_){for(var b=_.words,R=_.sigBytes,v=[],D=0;D<R;D+=2){var y=G(b[D>>>2]>>>16-D%4*8&65535);v.push(String.fromCharCode(y))}return v.join("")},parse:function(_){for(var b=_.length,R=[],v=0;v<b;v++)R[v>>>1]|=G(_.charCodeAt(v)<<16-v%2*16);return z.create(R,2*b)}}}(),M.enc.Utf16)},66:function(ye,Ce,V){var I,j,z,Y,k,_,M;ye.exports=(M=V(12),V(446),V(990),Y=(j=(I=M).lib).WordArray,_=(k=I.algo).EvpKDF=(z=j.Base).extend({cfg:z.extend({keySize:4,hasher:k.MD5,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,R){for(var v,D=this.cfg,y=D.hasher.create(),T=Y.create(),A=T.words,F=D.keySize,N=D.iterations;A.length<F;){v&&y.update(v),v=y.update(b).finalize(R),y.reset();for(var m=1;m<N;m++)v=y.finalize(v),y.reset();T.concat(v)}return T.sigBytes=4*F,T}}),I.EvpKDF=function(b,R,v){return _.create(v).compute(b,R)},M.EvpKDF)},826:function(ye,Ce,V){var M,Y,G;ye.exports=(M=V(12),V(270),Y=M.lib.CipherParams,G=M.enc.Hex,M.format.Hex={stringify:function(R){return R.ciphertext.toString(G)},parse:function(R){var v=G.parse(R);return Y.create({ciphertext:v})}},M.format.Hex)},990:function(ye,Ce,V){var M,k;ye.exports=(M=V(12),k=M.enc.Utf8,void(M.algo.HMAC=M.lib.Base.extend({init:function(b,R){b=this._hasher=new b.init,"string"==typeof R&&(R=k.parse(R));var v=b.blockSize,D=4*v;R.sigBytes>D&&(R=b.finalize(R)),R.clamp();for(var y=this._oKey=R.clone(),T=this._iKey=R.clone(),A=y.words,F=T.words,N=0;N<v;N++)A[N]^=1549556828,F[N]^=909522486;y.sigBytes=T.sigBytes=D,this.reset()},reset:function(){var b=this._hasher;b.reset(),b.update(this._iKey)},update:function(b){return this._hasher.update(b),this},finalize:function(b){var R=this._hasher,v=R.finalize(b);return R.reset(),R.finalize(this._oKey.clone().concat(v))}})))},874:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(802),V(37),V(454),V(506),V(523),V(873),V(446),V(78),V(811),V(870),V(913),V(545),V(558),V(990),V(538),V(66),V(270),V(228),V(392),V(584),V(15),V(594),V(237),V(501),V(4),V(297),V(738),V(826),V(42),V(769),V(195),V(969),V(848),V(172),M)},37:function(ye,Ce,V){var M;ye.exports=(M=V(12),function(){if("function"==typeof ArrayBuffer){var z=M.lib.WordArray,Y=z.init,k=z.init=function(G){if(G instanceof ArrayBuffer&&(G=new Uint8Array(G)),(G instanceof Int8Array||typeof Uint8ClampedArray<"u"&&G instanceof Uint8ClampedArray||G instanceof Int16Array||G instanceof Uint16Array||G instanceof Int32Array||G instanceof Uint32Array||G instanceof Float32Array||G instanceof Float64Array)&&(G=new Uint8Array(G.buffer,G.byteOffset,G.byteLength)),G instanceof Uint8Array){for(var _=G.byteLength,b=[],R=0;R<_;R++)b[R>>>2]|=G[R]<<24-R%4*8;Y.call(this,b,_)}else Y.apply(this,arguments)};k.prototype=z}}(),M.lib.WordArray)},873:function(ye,Ce,V){var M;ye.exports=(M=V(12),function(I){var j=M,z=j.lib,Y=z.WordArray,k=z.Hasher,G=j.algo,_=[];!function(){for(var T=0;T<64;T++)_[T]=4294967296*I.abs(I.sin(T+1))|0}();var b=G.MD5=k.extend({_doReset:function(){this._hash=new Y.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(T,A){for(var F=0;F<16;F++){var N=A+F,m=T[N];T[N]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var C=this._hash.words,L=T[A+0],O=T[A+1],H=T[A+2],U=T[A+3],ue=T[A+4],ae=T[A+5],he=T[A+6],we=T[A+7],q=T[A+8],le=T[A+9],ve=T[A+10],se=T[A+11],Fe=T[A+12],de=T[A+13],We=T[A+14],et=T[A+15],Q=C[0],oe=C[1],ee=C[2],ie=C[3];Q=R(Q,oe,ee,ie,L,7,_[0]),ie=R(ie,Q,oe,ee,O,12,_[1]),ee=R(ee,ie,Q,oe,H,17,_[2]),oe=R(oe,ee,ie,Q,U,22,_[3]),Q=R(Q,oe,ee,ie,ue,7,_[4]),ie=R(ie,Q,oe,ee,ae,12,_[5]),ee=R(ee,ie,Q,oe,he,17,_[6]),oe=R(oe,ee,ie,Q,we,22,_[7]),Q=R(Q,oe,ee,ie,q,7,_[8]),ie=R(ie,Q,oe,ee,le,12,_[9]),ee=R(ee,ie,Q,oe,ve,17,_[10]),oe=R(oe,ee,ie,Q,se,22,_[11]),Q=R(Q,oe,ee,ie,Fe,7,_[12]),ie=R(ie,Q,oe,ee,de,12,_[13]),ee=R(ee,ie,Q,oe,We,17,_[14]),Q=v(Q,oe=R(oe,ee,ie,Q,et,22,_[15]),ee,ie,O,5,_[16]),ie=v(ie,Q,oe,ee,he,9,_[17]),ee=v(ee,ie,Q,oe,se,14,_[18]),oe=v(oe,ee,ie,Q,L,20,_[19]),Q=v(Q,oe,ee,ie,ae,5,_[20]),ie=v(ie,Q,oe,ee,ve,9,_[21]),ee=v(ee,ie,Q,oe,et,14,_[22]),oe=v(oe,ee,ie,Q,ue,20,_[23]),Q=v(Q,oe,ee,ie,le,5,_[24]),ie=v(ie,Q,oe,ee,We,9,_[25]),ee=v(ee,ie,Q,oe,U,14,_[26]),oe=v(oe,ee,ie,Q,q,20,_[27]),Q=v(Q,oe,ee,ie,de,5,_[28]),ie=v(ie,Q,oe,ee,H,9,_[29]),ee=v(ee,ie,Q,oe,we,14,_[30]),Q=D(Q,oe=v(oe,ee,ie,Q,Fe,20,_[31]),ee,ie,ae,4,_[32]),ie=D(ie,Q,oe,ee,q,11,_[33]),ee=D(ee,ie,Q,oe,se,16,_[34]),oe=D(oe,ee,ie,Q,We,23,_[35]),Q=D(Q,oe,ee,ie,O,4,_[36]),ie=D(ie,Q,oe,ee,ue,11,_[37]),ee=D(ee,ie,Q,oe,we,16,_[38]),oe=D(oe,ee,ie,Q,ve,23,_[39]),Q=D(Q,oe,ee,ie,de,4,_[40]),ie=D(ie,Q,oe,ee,L,11,_[41]),ee=D(ee,ie,Q,oe,U,16,_[42]),oe=D(oe,ee,ie,Q,he,23,_[43]),Q=D(Q,oe,ee,ie,le,4,_[44]),ie=D(ie,Q,oe,ee,Fe,11,_[45]),ee=D(ee,ie,Q,oe,et,16,_[46]),Q=y(Q,oe=D(oe,ee,ie,Q,H,23,_[47]),ee,ie,L,6,_[48]),ie=y(ie,Q,oe,ee,we,10,_[49]),ee=y(ee,ie,Q,oe,We,15,_[50]),oe=y(oe,ee,ie,Q,ae,21,_[51]),Q=y(Q,oe,ee,ie,Fe,6,_[52]),ie=y(ie,Q,oe,ee,U,10,_[53]),ee=y(ee,ie,Q,oe,ve,15,_[54]),oe=y(oe,ee,ie,Q,O,21,_[55]),Q=y(Q,oe,ee,ie,q,6,_[56]),ie=y(ie,Q,oe,ee,et,10,_[57]),ee=y(ee,ie,Q,oe,he,15,_[58]),oe=y(oe,ee,ie,Q,de,21,_[59]),Q=y(Q,oe,ee,ie,ue,6,_[60]),ie=y(ie,Q,oe,ee,se,10,_[61]),ee=y(ee,ie,Q,oe,H,15,_[62]),oe=y(oe,ee,ie,Q,le,21,_[63]),C[0]=C[0]+Q|0,C[1]=C[1]+oe|0,C[2]=C[2]+ee|0,C[3]=C[3]+ie|0},_doFinalize:function(){var T=this._data,A=T.words,F=8*this._nDataBytes,N=8*T.sigBytes;A[N>>>5]|=128<<24-N%32;var m=I.floor(F/4294967296),C=F;A[15+(N+64>>>9<<4)]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),A[14+(N+64>>>9<<4)]=16711935&(C<<8|C>>>24)|4278255360&(C<<24|C>>>8),T.sigBytes=4*(A.length+1),this._process();for(var L=this._hash,O=L.words,H=0;H<4;H++){var U=O[H];O[H]=16711935&(U<<8|U>>>24)|4278255360&(U<<24|U>>>8)}return L},clone:function(){var T=k.clone.call(this);return T._hash=this._hash.clone(),T}});function R(T,A,F,N,m,C,L){var O=T+(A&F|~A&N)+m+L;return(O<<C|O>>>32-C)+A}function v(T,A,F,N,m,C,L){var O=T+(A&N|F&~N)+m+L;return(O<<C|O>>>32-C)+A}function D(T,A,F,N,m,C,L){var O=T+(A^F^N)+m+L;return(O<<C|O>>>32-C)+A}function y(T,A,F,N,m,C,L){var O=T+(F^(A|~N))+m+L;return(O<<C|O>>>32-C)+A}j.MD5=k._createHelper(b),j.HmacMD5=k._createHmacHelper(b)}(Math),M.MD5)},228:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.mode.CFB=function(){var I=M.lib.BlockCipherMode.extend();function j(z,Y,k,G){var _,b=this._iv;b?(_=b.slice(0),this._iv=void 0):_=this._prevBlock,G.encryptBlock(_,0);for(var R=0;R<k;R++)z[Y+R]^=_[R]}return I.Encryptor=I.extend({processBlock:function(z,Y){var k=this._cipher,G=k.blockSize;j.call(this,z,Y,G,k),this._prevBlock=z.slice(Y,Y+G)}}),I.Decryptor=I.extend({processBlock:function(z,Y){var k=this._cipher,G=k.blockSize,_=z.slice(Y,Y+G);j.call(this,z,Y,G,k),this._prevBlock=_}}),I}(),M.mode.CFB)},584:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.mode.CTRGladman=function(){var I=M.lib.BlockCipherMode.extend();function j(k){if(255==(k>>24&255)){var G=k>>16&255,_=k>>8&255,b=255&k;255===G?(G=0,255===_?(_=0,255===b?b=0:++b):++_):++G,k=0,k+=G<<16,k+=_<<8,k+=b}else k+=1<<24;return k}var Y=I.Encryptor=I.extend({processBlock:function(k,G){var _=this._cipher,b=_.blockSize,R=this._iv,v=this._counter;R&&(v=this._counter=R.slice(0),this._iv=void 0),function z(k){return 0===(k[0]=j(k[0]))&&(k[1]=j(k[1])),k}(v);var D=v.slice(0);_.encryptBlock(D,0);for(var y=0;y<b;y++)k[G+y]^=D[y]}});return I.Decryptor=Y,I}(),M.mode.CTRGladman)},392:function(ye,Ce,V){var I,j,M;ye.exports=(M=V(12),V(270),M.mode.CTR=(j=(I=M.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(z,Y){var k=this._cipher,G=k.blockSize,_=this._iv,b=this._counter;_&&(b=this._counter=_.slice(0),this._iv=void 0);var R=b.slice(0);k.encryptBlock(R,0),b[G-1]=b[G-1]+1|0;for(var v=0;v<G;v++)z[Y+v]^=R[v]}}),I.Decryptor=j,I),M.mode.CTR)},594:function(ye,Ce,V){var I,M;ye.exports=(M=V(12),V(270),M.mode.ECB=((I=M.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(j,z){this._cipher.encryptBlock(j,z)}}),I.Decryptor=I.extend({processBlock:function(j,z){this._cipher.decryptBlock(j,z)}}),I),M.mode.ECB)},15:function(ye,Ce,V){var I,j,M;ye.exports=(M=V(12),V(270),M.mode.OFB=(j=(I=M.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(z,Y){var k=this._cipher,G=k.blockSize,_=this._iv,b=this._keystream;_&&(b=this._keystream=_.slice(0),this._iv=void 0),k.encryptBlock(b,0);for(var R=0;R<G;R++)z[Y+R]^=b[R]}}),I.Decryptor=j,I),M.mode.OFB)},237:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.pad.AnsiX923={pad:function(I,j){var z=I.sigBytes,Y=4*j,k=Y-z%Y,G=z+k-1;I.clamp(),I.words[G>>>2]|=k<<24-G%4*8,I.sigBytes+=k},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},M.pad.Ansix923)},501:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.pad.Iso10126={pad:function(I,j){var z=4*j,Y=z-I.sigBytes%z;I.concat(M.lib.WordArray.random(Y-1)).concat(M.lib.WordArray.create([Y<<24],1))},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},M.pad.Iso10126)},4:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.pad.Iso97971={pad:function(I,j){I.concat(M.lib.WordArray.create([2147483648],1)),M.pad.ZeroPadding.pad(I,j)},unpad:function(I){M.pad.ZeroPadding.unpad(I),I.sigBytes--}},M.pad.Iso97971)},738:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.pad.NoPadding={pad:function(){},unpad:function(){}},M.pad.NoPadding)},297:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(270),M.pad.ZeroPadding={pad:function(I,j){var z=4*j;I.clamp(),I.sigBytes+=z-(I.sigBytes%z||z)},unpad:function(I){var j=I.words,z=I.sigBytes-1;for(z=I.sigBytes-1;z>=0;z--)if(j[z>>>2]>>>24-z%4*8&255){I.sigBytes=z+1;break}}},M.pad.ZeroPadding)},538:function(ye,Ce,V){var I,j,z,Y,k,_,b,M;ye.exports=(M=V(12),V(78),V(990),Y=(j=(I=M).lib).WordArray,_=(k=I.algo).HMAC,b=k.PBKDF2=(z=j.Base).extend({cfg:z.extend({keySize:4,hasher:k.SHA256,iterations:25e4}),init:function(R){this.cfg=this.cfg.extend(R)},compute:function(R,v){for(var D=this.cfg,y=_.create(D.hasher,R),T=Y.create(),A=Y.create([1]),F=T.words,N=A.words,m=D.keySize,C=D.iterations;F.length<m;){var L=y.update(v).finalize(A);y.reset();for(var O=L.words,H=O.length,U=L,ue=1;ue<C;ue++){U=y.finalize(U),y.reset();for(var ae=U.words,he=0;he<H;he++)O[he]^=ae[he]}T.concat(L),N[0]++}return T.sigBytes=4*m,T}}),I.PBKDF2=function(R,v,D){return b.create(D).compute(R,v)},M.PBKDF2)},848:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,z=I.lib.StreamCipher,k=[],G=[],_=[],b=I.algo.RabbitLegacy=z.extend({_doReset:function(){var v=this._key.words,D=this.cfg.iv,y=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],T=this._C=[v[2]<<16|v[2]>>>16,4294901760&v[0]|65535&v[1],v[3]<<16|v[3]>>>16,4294901760&v[1]|65535&v[2],v[0]<<16|v[0]>>>16,4294901760&v[2]|65535&v[3],v[1]<<16|v[1]>>>16,4294901760&v[3]|65535&v[0]];this._b=0;for(var A=0;A<4;A++)R.call(this);for(A=0;A<8;A++)T[A]^=y[A+4&7];if(D){var F=D.words,N=F[0],m=F[1],C=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,H=L<<16|65535&C;for(T[0]^=C,T[1]^=O,T[2]^=L,T[3]^=H,T[4]^=C,T[5]^=O,T[6]^=L,T[7]^=H,A=0;A<4;A++)R.call(this)}},_doProcessBlock:function(v,D){var y=this._X;R.call(this),k[0]=y[0]^y[5]>>>16^y[3]<<16,k[1]=y[2]^y[7]>>>16^y[5]<<16,k[2]=y[4]^y[1]>>>16^y[7]<<16,k[3]=y[6]^y[3]>>>16^y[1]<<16;for(var T=0;T<4;T++)k[T]=16711935&(k[T]<<8|k[T]>>>24)|4278255360&(k[T]<<24|k[T]>>>8),v[D+T]^=k[T]},blockSize:4,ivSize:2});function R(){for(var v=this._X,D=this._C,y=0;y<8;y++)G[y]=D[y];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<G[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<G[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<G[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<G[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<G[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<G[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<G[6]>>>0?1:0)|0,this._b=D[7]>>>0<G[7]>>>0?1:0,y=0;y<8;y++){var T=v[y]+D[y],A=65535&T,F=T>>>16;_[y]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&T)*T|0)+((65535&T)*T|0)}v[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,v[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,v[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,v[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,v[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,v[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,v[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,v[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}I.RabbitLegacy=z._createHelper(b)}(),M.RabbitLegacy)},969:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,z=I.lib.StreamCipher,k=[],G=[],_=[],b=I.algo.Rabbit=z.extend({_doReset:function(){for(var v=this._key.words,D=this.cfg.iv,y=0;y<4;y++)v[y]=16711935&(v[y]<<8|v[y]>>>24)|4278255360&(v[y]<<24|v[y]>>>8);var T=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],A=this._C=[v[2]<<16|v[2]>>>16,4294901760&v[0]|65535&v[1],v[3]<<16|v[3]>>>16,4294901760&v[1]|65535&v[2],v[0]<<16|v[0]>>>16,4294901760&v[2]|65535&v[3],v[1]<<16|v[1]>>>16,4294901760&v[3]|65535&v[0]];for(this._b=0,y=0;y<4;y++)R.call(this);for(y=0;y<8;y++)A[y]^=T[y+4&7];if(D){var F=D.words,N=F[0],m=F[1],C=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,H=L<<16|65535&C;for(A[0]^=C,A[1]^=O,A[2]^=L,A[3]^=H,A[4]^=C,A[5]^=O,A[6]^=L,A[7]^=H,y=0;y<4;y++)R.call(this)}},_doProcessBlock:function(v,D){var y=this._X;R.call(this),k[0]=y[0]^y[5]>>>16^y[3]<<16,k[1]=y[2]^y[7]>>>16^y[5]<<16,k[2]=y[4]^y[1]>>>16^y[7]<<16,k[3]=y[6]^y[3]>>>16^y[1]<<16;for(var T=0;T<4;T++)k[T]=16711935&(k[T]<<8|k[T]>>>24)|4278255360&(k[T]<<24|k[T]>>>8),v[D+T]^=k[T]},blockSize:4,ivSize:2});function R(){for(var v=this._X,D=this._C,y=0;y<8;y++)G[y]=D[y];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<G[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<G[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<G[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<G[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<G[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<G[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<G[6]>>>0?1:0)|0,this._b=D[7]>>>0<G[7]>>>0?1:0,y=0;y<8;y++){var T=v[y]+D[y],A=65535&T,F=T>>>16;_[y]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&T)*T|0)+((65535&T)*T|0)}v[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,v[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,v[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,v[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,v[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,v[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,v[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,v[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}I.Rabbit=z._createHelper(b)}(),M.Rabbit)},195:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,z=I.lib.StreamCipher,Y=I.algo,k=Y.RC4=z.extend({_doReset:function(){for(var b=this._key,R=b.words,v=b.sigBytes,D=this._S=[],y=0;y<256;y++)D[y]=y;y=0;for(var T=0;y<256;y++){var A=y%v,N=D[y];D[y]=D[T=(T+D[y]+(R[A>>>2]>>>24-A%4*8&255))%256],D[T]=N}this._i=this._j=0},_doProcessBlock:function(b,R){b[R]^=G.call(this)},keySize:8,ivSize:0});function G(){for(var b=this._S,R=this._i,v=this._j,D=0,y=0;y<4;y++){var T=b[R=(R+1)%256];b[R]=b[v=(v+b[R])%256],b[v]=T,D|=b[(b[R]+b[v])%256]<<24-8*y}return this._i=R,this._j=v,D}I.RC4=z._createHelper(k);var _=Y.RC4Drop=k.extend({cfg:k.cfg.extend({drop:192}),_doReset:function(){k._doReset.call(this);for(var b=this.cfg.drop;b>0;b--)G.call(this)}});I.RC4Drop=z._createHelper(_)}(),M.RC4)},558:function(ye,Ce,V){var M;ye.exports=(M=V(12),function(I){var j=M,z=j.lib,Y=z.WordArray,k=z.Hasher,G=j.algo,_=Y.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),b=Y.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),R=Y.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),v=Y.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),D=Y.create([0,1518500249,1859775393,2400959708,2840853838]),y=Y.create([1352829926,1548603684,1836072691,2053994217,0]),T=G.RIPEMD160=k.extend({_doReset:function(){this._hash=Y.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,H){for(var U=0;U<16;U++){var ue=H+U,ae=O[ue];O[ue]=16711935&(ae<<8|ae>>>24)|4278255360&(ae<<24|ae>>>8)}var de,We,et,Q,oe,ee,ie,wt,Ve,tt,Ze,he=this._hash.words,we=D.words,q=y.words,le=_.words,ve=b.words,se=R.words,Fe=v.words;for(ee=de=he[0],ie=We=he[1],wt=et=he[2],Ve=Q=he[3],tt=oe=he[4],U=0;U<80;U+=1)Ze=de+O[H+le[U]]|0,Ze+=U<16?A(We,et,Q)+we[0]:U<32?F(We,et,Q)+we[1]:U<48?N(We,et,Q)+we[2]:U<64?m(We,et,Q)+we[3]:C(We,et,Q)+we[4],Ze=(Ze=L(Ze|=0,se[U]))+oe|0,de=oe,oe=Q,Q=L(et,10),et=We,We=Ze,Ze=ee+O[H+ve[U]]|0,Ze+=U<16?C(ie,wt,Ve)+q[0]:U<32?m(ie,wt,Ve)+q[1]:U<48?N(ie,wt,Ve)+q[2]:U<64?F(ie,wt,Ve)+q[3]:A(ie,wt,Ve)+q[4],Ze=(Ze=L(Ze|=0,Fe[U]))+tt|0,ee=tt,tt=Ve,Ve=L(wt,10),wt=ie,ie=Ze;Ze=he[1]+et+Ve|0,he[1]=he[2]+Q+tt|0,he[2]=he[3]+oe+ee|0,he[3]=he[4]+de+ie|0,he[4]=he[0]+We+wt|0,he[0]=Ze},_doFinalize:function(){var O=this._data,H=O.words,U=8*this._nDataBytes,ue=8*O.sigBytes;H[ue>>>5]|=128<<24-ue%32,H[14+(ue+64>>>9<<4)]=16711935&(U<<8|U>>>24)|4278255360&(U<<24|U>>>8),O.sigBytes=4*(H.length+1),this._process();for(var ae=this._hash,he=ae.words,we=0;we<5;we++){var q=he[we];he[we]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8)}return ae},clone:function(){var O=k.clone.call(this);return O._hash=this._hash.clone(),O}});function A(O,H,U){return O^H^U}function F(O,H,U){return O&H|~O&U}function N(O,H,U){return(O|~H)^U}function m(O,H,U){return O&U|H&~U}function C(O,H,U){return O^(H|~U)}function L(O,H){return O<<H|O>>>32-H}j.RIPEMD160=k._createHelper(T),j.HmacRIPEMD160=k._createHmacHelper(T)}(Math),M.RIPEMD160)},446:function(ye,Ce,V){var I,j,z,Y,G,_,M;ye.exports=(M=V(12),z=(j=(I=M).lib).WordArray,G=[],_=I.algo.SHA1=(Y=j.Hasher).extend({_doReset:function(){this._hash=new z.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(b,R){for(var v=this._hash.words,D=v[0],y=v[1],T=v[2],A=v[3],F=v[4],N=0;N<80;N++){if(N<16)G[N]=0|b[R+N];else{var m=G[N-3]^G[N-8]^G[N-14]^G[N-16];G[N]=m<<1|m>>>31}var C=(D<<5|D>>>27)+F+G[N];C+=N<20?1518500249+(y&T|~y&A):N<40?1859775393+(y^T^A):N<60?(y&T|y&A|T&A)-1894007588:(y^T^A)-899497514,F=A,A=T,T=y<<30|y>>>2,y=D,D=C}v[0]=v[0]+D|0,v[1]=v[1]+y|0,v[2]=v[2]+T|0,v[3]=v[3]+A|0,v[4]=v[4]+F|0},_doFinalize:function(){var b=this._data,R=b.words,v=8*this._nDataBytes,D=8*b.sigBytes;return R[D>>>5]|=128<<24-D%32,R[14+(D+64>>>9<<4)]=Math.floor(v/4294967296),R[15+(D+64>>>9<<4)]=v,b.sigBytes=4*R.length,this._process(),this._hash},clone:function(){var b=Y.clone.call(this);return b._hash=this._hash.clone(),b}}),I.SHA1=Y._createHelper(_),I.HmacSHA1=Y._createHmacHelper(_),M.SHA1)},811:function(ye,Ce,V){var I,z,Y,k,G,M;ye.exports=(M=V(12),V(78),z=(I=M).lib.WordArray,G=(Y=I.algo).SHA224=(k=Y.SHA256).extend({_doReset:function(){this._hash=new z.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var _=k._doFinalize.call(this);return _.sigBytes-=4,_}}),I.SHA224=k._createHelper(G),I.HmacSHA224=k._createHmacHelper(G),M.SHA224)},78:function(ye,Ce,V){var M;ye.exports=(M=V(12),function(I){var j=M,z=j.lib,Y=z.WordArray,k=z.Hasher,G=j.algo,_=[],b=[];!function(){function D(F){for(var N=I.sqrt(F),m=2;m<=N;m++)if(!(F%m))return!1;return!0}function y(F){return 4294967296*(F-(0|F))|0}for(var T=2,A=0;A<64;)D(T)&&(A<8&&(_[A]=y(I.pow(T,.5))),b[A]=y(I.pow(T,1/3)),A++),T++}();var R=[],v=G.SHA256=k.extend({_doReset:function(){this._hash=new Y.init(_.slice(0))},_doProcessBlock:function(D,y){for(var T=this._hash.words,A=T[0],F=T[1],N=T[2],m=T[3],C=T[4],L=T[5],O=T[6],H=T[7],U=0;U<64;U++){if(U<16)R[U]=0|D[y+U];else{var ue=R[U-15],he=R[U-2];R[U]=((ue<<25|ue>>>7)^(ue<<14|ue>>>18)^ue>>>3)+R[U-7]+((he<<15|he>>>17)^(he<<13|he>>>19)^he>>>10)+R[U-16]}var le=A&F^A&N^F&N,Fe=H+((C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25))+(C&L^~C&O)+b[U]+R[U];H=O,O=L,L=C,C=m+Fe|0,m=N,N=F,F=A,A=Fe+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+le)|0}T[0]=T[0]+A|0,T[1]=T[1]+F|0,T[2]=T[2]+N|0,T[3]=T[3]+m|0,T[4]=T[4]+C|0,T[5]=T[5]+L|0,T[6]=T[6]+O|0,T[7]=T[7]+H|0},_doFinalize:function(){var D=this._data,y=D.words,T=8*this._nDataBytes,A=8*D.sigBytes;return y[A>>>5]|=128<<24-A%32,y[14+(A+64>>>9<<4)]=I.floor(T/4294967296),y[15+(A+64>>>9<<4)]=T,D.sigBytes=4*y.length,this._process(),this._hash},clone:function(){var D=k.clone.call(this);return D._hash=this._hash.clone(),D}});j.SHA256=k._createHelper(v),j.HmacSHA256=k._createHmacHelper(v)}(Math),M.SHA256)},545:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(802),function(I){var j=M,z=j.lib,Y=z.WordArray,k=z.Hasher,_=j.x64.Word,b=j.algo,R=[],v=[],D=[];!function(){for(var A=1,F=0,N=0;N<24;N++){R[A+5*F]=(N+1)*(N+2)/2%64;var C=(2*A+3*F)%5;A=F%5,F=C}for(A=0;A<5;A++)for(F=0;F<5;F++)v[A+5*F]=F+(2*A+3*F)%5*5;for(var L=1,O=0;O<24;O++){for(var H=0,U=0,ue=0;ue<7;ue++){if(1&L){var ae=(1<<ue)-1;ae<32?U^=1<<ae:H^=1<<ae-32}128&L?L=L<<1^113:L<<=1}D[O]=_.create(H,U)}}();var y=[];!function(){for(var A=0;A<25;A++)y[A]=_.create()}();var T=b.SHA3=k.extend({cfg:k.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new _.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var N=this._state,m=this.blockSize/2,C=0;C<m;C++){var L=A[F+2*C],O=A[F+2*C+1];L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),(H=N[C]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),H.low^=L}for(var U=0;U<24;U++){for(var ue=0;ue<5;ue++){for(var ae=0,he=0,we=0;we<5;we++)ae^=(H=N[ue+5*we]).high,he^=H.low;var q=y[ue];q.high=ae,q.low=he}for(ue=0;ue<5;ue++){var le=y[(ue+4)%5],ve=y[(ue+1)%5],se=ve.high,Fe=ve.low;for(ae=le.high^(se<<1|Fe>>>31),he=le.low^(Fe<<1|se>>>31),we=0;we<5;we++)(H=N[ue+5*we]).high^=ae,H.low^=he}for(var de=1;de<25;de++){var We=(H=N[de]).high,et=H.low,Q=R[de];Q<32?(ae=We<<Q|et>>>32-Q,he=et<<Q|We>>>32-Q):(ae=et<<Q-32|We>>>64-Q,he=We<<Q-32|et>>>64-Q);var oe=y[v[de]];oe.high=ae,oe.low=he}var ee=y[0],ie=N[0];for(ee.high=ie.high,ee.low=ie.low,ue=0;ue<5;ue++)for(we=0;we<5;we++){var wt=y[de=ue+5*we],Ve=y[(ue+1)%5+5*we],tt=y[(ue+2)%5+5*we];(H=N[de]).high=wt.high^~Ve.high&tt.high,H.low=wt.low^~Ve.low&tt.low}var H,Ze=D[U];(H=N[0]).high^=Ze.high,H.low^=Ze.low}},_doFinalize:function(){var A=this._data,F=A.words,m=8*A.sigBytes,C=32*this.blockSize;F[m>>>5]|=1<<24-m%32,F[(I.ceil((m+1)/C)*C>>>5)-1]|=128,A.sigBytes=4*F.length,this._process();for(var L=this._state,O=this.cfg.outputLength/8,H=O/8,U=[],ue=0;ue<H;ue++){var ae=L[ue],he=ae.high,we=ae.low;he=16711935&(he<<8|he>>>24)|4278255360&(he<<24|he>>>8),U.push(we=16711935&(we<<8|we>>>24)|4278255360&(we<<24|we>>>8)),U.push(he)}return new Y.init(U,O)},clone:function(){for(var A=k.clone.call(this),F=A._state=this._state.slice(0),N=0;N<25;N++)F[N]=F[N].clone();return A}});j.SHA3=k._createHelper(T),j.HmacSHA3=k._createHmacHelper(T)}(Math),M.SHA3)},913:function(ye,Ce,V){var I,j,z,Y,k,G,_,M;ye.exports=(M=V(12),V(802),V(870),z=(j=(I=M).x64).Word,Y=j.WordArray,_=(k=I.algo).SHA384=(G=k.SHA512).extend({_doReset:function(){this._hash=new Y.init([new z.init(3418070365,3238371032),new z.init(1654270250,914150663),new z.init(2438529370,812702999),new z.init(355462360,4144912697),new z.init(1731405415,4290775857),new z.init(2394180231,1750603025),new z.init(3675008525,1694076839),new z.init(1203062813,3204075428)])},_doFinalize:function(){var b=G._doFinalize.call(this);return b.sigBytes-=16,b}}),I.SHA384=G._createHelper(_),I.HmacSHA384=G._createHmacHelper(_),M.SHA384)},870:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(802),function(){var I=M,z=I.lib.Hasher,Y=I.x64,k=Y.Word,G=Y.WordArray,_=I.algo;function b(){return k.create.apply(k,arguments)}var R=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],v=[];!function(){for(var y=0;y<80;y++)v[y]=b()}();var D=_.SHA512=z.extend({_doReset:function(){this._hash=new G.init([new k.init(1779033703,4089235720),new k.init(3144134277,2227873595),new k.init(1013904242,4271175723),new k.init(2773480762,1595750129),new k.init(1359893119,2917565137),new k.init(2600822924,725511199),new k.init(528734635,4215389547),new k.init(1541459225,327033209)])},_doProcessBlock:function(y,T){for(var A=this._hash.words,F=A[0],N=A[1],m=A[2],C=A[3],L=A[4],O=A[5],H=A[6],U=A[7],ue=F.high,ae=F.low,he=N.high,we=N.low,q=m.high,le=m.low,ve=C.high,se=C.low,Fe=L.high,de=L.low,We=O.high,et=O.low,Q=H.high,oe=H.low,ee=U.high,ie=U.low,wt=ue,Ve=ae,tt=he,Ze=we,Qe=q,Gi=le,rd=ve,So=se,rr=Fe,wn=de,qi=We,Tc=et,id=Q,Sc=oe,U0=ee,ya=ie,Pr=0;Pr<80;Pr++){var Nr,si,Mc=v[Pr];if(Pr<16)si=Mc.high=0|y[T+2*Pr],Nr=Mc.low=0|y[T+2*Pr+1];else{var Rc=v[Pr-15],Mo=Rc.high,Ea=Rc.low,j0=(Ea>>>1|Mo<<31)^(Ea>>>8|Mo<<24)^(Ea>>>7|Mo<<25),Ii=v[Pr-2],Ro=Ii.high,xa=Ii.low,G0=(xa>>>19|Ro<<13)^(xa<<3|Ro>>>29)^(xa>>>6|Ro<<26),q0=v[Pr-7],W0=v[Pr-16],K0=W0.low;Mc.high=si=(si=(si=((Mo>>>1|Ea<<31)^(Mo>>>8|Ea<<24)^Mo>>>7)+q0.high+((Nr=j0+q0.low)>>>0<j0>>>0?1:0))+((Ro>>>19|xa<<13)^(Ro<<3|xa>>>29)^Ro>>>6)+((Nr+=G0)>>>0<G0>>>0?1:0))+W0.high+((Nr+=K0)>>>0<K0>>>0?1:0),Mc.low=Nr}var ir,e_=rr&qi^~rr&id,Y0=wn&Tc^~wn&Sc,t_=wt&tt^wt&Qe^tt&Qe,od=(Ve>>>28|wt<<4)^(Ve<<30|wt>>>2)^(Ve<<25|wt>>>7),sd=R[Pr],ad=sd.low,bi=U0+((rr>>>14|wn<<18)^(rr>>>18|wn<<14)^(rr<<23|wn>>>9))+((ir=ya+((wn>>>14|rr<<18)^(wn>>>18|rr<<14)^(wn<<23|rr>>>9)))>>>0<ya>>>0?1:0),cd=od+(Ve&Ze^Ve&Gi^Ze&Gi);U0=id,ya=Sc,id=qi,Sc=Tc,qi=rr,Tc=wn,rr=rd+(bi=(bi=(bi=bi+e_+((ir+=Y0)>>>0<Y0>>>0?1:0))+sd.high+((ir+=ad)>>>0<ad>>>0?1:0))+si+((ir+=Nr)>>>0<Nr>>>0?1:0))+((wn=So+ir|0)>>>0<So>>>0?1:0)|0,rd=Qe,So=Gi,Qe=tt,Gi=Ze,tt=wt,Ze=Ve,wt=bi+(((wt>>>28|Ve<<4)^(wt<<30|Ve>>>2)^(wt<<25|Ve>>>7))+t_+(cd>>>0<od>>>0?1:0))+((Ve=ir+cd|0)>>>0<ir>>>0?1:0)|0}ae=F.low=ae+Ve,F.high=ue+wt+(ae>>>0<Ve>>>0?1:0),we=N.low=we+Ze,N.high=he+tt+(we>>>0<Ze>>>0?1:0),le=m.low=le+Gi,m.high=q+Qe+(le>>>0<Gi>>>0?1:0),se=C.low=se+So,C.high=ve+rd+(se>>>0<So>>>0?1:0),de=L.low=de+wn,L.high=Fe+rr+(de>>>0<wn>>>0?1:0),et=O.low=et+Tc,O.high=We+qi+(et>>>0<Tc>>>0?1:0),oe=H.low=oe+Sc,H.high=Q+id+(oe>>>0<Sc>>>0?1:0),ie=U.low=ie+ya,U.high=ee+U0+(ie>>>0<ya>>>0?1:0)},_doFinalize:function(){var y=this._data,T=y.words,A=8*this._nDataBytes,F=8*y.sigBytes;return T[F>>>5]|=128<<24-F%32,T[30+(F+128>>>10<<5)]=Math.floor(A/4294967296),T[31+(F+128>>>10<<5)]=A,y.sigBytes=4*T.length,this._process(),this._hash.toX32()},clone:function(){var y=z.clone.call(this);return y._hash=this._hash.clone(),y},blockSize:32});I.SHA512=z._createHelper(D),I.HmacSHA512=z._createHmacHelper(D)}(),M.SHA512)},769:function(ye,Ce,V){var M;ye.exports=(M=V(12),V(506),V(873),V(66),V(270),function(){var I=M,j=I.lib,z=j.WordArray,Y=j.BlockCipher,k=I.algo,G=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],_=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],b=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],R=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],v=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],D=k.DES=Y.extend({_doReset:function(){for(var N=this._key.words,m=[],C=0;C<56;C++){var L=G[C]-1;m[C]=N[L>>>5]>>>31-L%32&1}for(var O=this._subKeys=[],H=0;H<16;H++){var U=O[H]=[],ue=b[H];for(C=0;C<24;C++)U[C/6|0]|=m[(_[C]-1+ue)%28]<<31-C%6,U[4+(C/6|0)]|=m[28+(_[C+24]-1+ue)%28]<<31-C%6;for(U[0]=U[0]<<1|U[0]>>>31,C=1;C<7;C++)U[C]=U[C]>>>4*(C-1)+3;U[7]=U[7]<<5|U[7]>>>27}var ae=this._invSubKeys=[];for(C=0;C<16;C++)ae[C]=O[15-C]},encryptBlock:function(F,N){this._doCryptBlock(F,N,this._subKeys)},decryptBlock:function(F,N){this._doCryptBlock(F,N,this._invSubKeys)},_doCryptBlock:function(F,N,m){this._lBlock=F[N],this._rBlock=F[N+1],y.call(this,4,252645135),y.call(this,16,65535),T.call(this,2,858993459),T.call(this,8,16711935),y.call(this,1,1431655765);for(var C=0;C<16;C++){for(var L=m[C],O=this._lBlock,H=this._rBlock,U=0,ue=0;ue<8;ue++)U|=R[ue][((H^L[ue])&v[ue])>>>0];this._lBlock=H,this._rBlock=O^U}var ae=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ae,y.call(this,1,1431655765),T.call(this,8,16711935),T.call(this,2,858993459),y.call(this,16,65535),y.call(this,4,252645135),F[N]=this._lBlock,F[N+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function y(F,N){var m=(this._lBlock>>>F^this._rBlock)&N;this._rBlock^=m,this._lBlock^=m<<F}function T(F,N){var m=(this._rBlock>>>F^this._lBlock)&N;this._lBlock^=m,this._rBlock^=m<<F}I.DES=Y._createHelper(D);var A=k.TripleDES=Y.extend({_doReset:function(){var N=this._key.words;if(2!==N.length&&4!==N.length&&N.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=N.slice(0,2),C=N.length<4?N.slice(0,2):N.slice(2,4),L=N.length<6?N.slice(0,2):N.slice(4,6);this._des1=D.createEncryptor(z.create(m)),this._des2=D.createEncryptor(z.create(C)),this._des3=D.createEncryptor(z.create(L))},encryptBlock:function(F,N){this._des1.encryptBlock(F,N),this._des2.decryptBlock(F,N),this._des3.encryptBlock(F,N)},decryptBlock:function(F,N){this._des3.decryptBlock(F,N),this._des2.encryptBlock(F,N),this._des1.decryptBlock(F,N)},keySize:6,ivSize:2,blockSize:2});I.TripleDES=Y._createHelper(A)}(),M.TripleDES)},802:function(ye,Ce,V){var z,Y,k,G,M;ye.exports=(M=V(12),Y=(z=M.lib).Base,k=z.WordArray,(G=M.x64={}).Word=Y.extend({init:function(R,v){this.high=R,this.low=v}}),G.WordArray=Y.extend({init:function(R,v){R=this.words=R||[],this.sigBytes=null!=v?v:8*R.length},toX32:function(){for(var R=this.words,v=R.length,D=[],y=0;y<v;y++){var T=R[y];D.push(T.high),D.push(T.low)}return k.create(D,this.sigBytes)},clone:function(){for(var R=Y.clone.call(this),v=R.words=this.words.slice(0),D=v.length,y=0;y<D;y++)v[y]=v[y].clone();return R}}),M)},480:()=>{}},ye=>{ye(ye.s=557)}]);