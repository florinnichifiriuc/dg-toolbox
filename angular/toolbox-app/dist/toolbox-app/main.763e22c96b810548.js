"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{157:()=>{function Fe(t){return"function"==typeof t}function nc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const rc=nc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function qi(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class d2{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){e=s instanceof rc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{NC(s)}catch(o){e=e??[],o instanceof rc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new rc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)NC(e);else{if(e instanceof d2){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&qi(n,e)}remove(e){const{_finalizers:n}=this;n&&qi(n,e),e instanceof d2&&e._removeParent(this)}}d2.EMPTY=(()=>{const t=new d2;return t.closed=!0,t})();const AC=d2.EMPTY;function TC(t){return t instanceof d2||t&&"closed"in t&&Fe(t.remove)&&Fe(t.add)&&Fe(t.unsubscribe)}function NC(t){Fe(t)?t():t.unsubscribe()}const Or={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ic={setTimeout(t,e,...n){const{delegate:r}=ic;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ic;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kC(t){ic.setTimeout(()=>{const{onUnhandledError:e}=Or;if(!e)throw t;e(t)})}function PC(){}const ZG=vu("C",void 0,void 0);function vu(t,e,n){return{kind:t,value:e,error:n}}let Fr=null;function sc(t){if(Or.useDeprecatedSynchronousErrorHandling){const e=!Fr;if(e&&(Fr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Fr;if(Fr=null,n)throw r}}else t()}class yu extends d2{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,TC(e)&&e.add(this)):this.destination=oq}static create(e,n,r){return new ea(e,n,r)}next(e){this.isStopped?Cu(function tq(t){return vu("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Cu(function eq(t){return vu("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cu(ZG,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rq=Function.prototype.bind;function _u(t,e){return rq.call(t,e)}class iq{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){oc(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){oc(r)}else oc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){oc(n)}}}class ea extends yu{constructor(e,n,r){let i;if(super(),Fe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Or.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_u(e.next,s),error:e.error&&_u(e.error,s),complete:e.complete&&_u(e.complete,s)}):i=e}this.destination=new iq(i)}}function oc(t){Or.useDeprecatedSynchronousErrorHandling?function nq(t){Or.useDeprecatedSynchronousErrorHandling&&Fr&&(Fr.errorThrown=!0,Fr.error=t)}(t):kC(t)}function Cu(t,e){const{onStoppedNotification:n}=Or;n&&ic.setTimeout(()=>n(t,e))}const oq={closed:!0,next:PC,error:function sq(t){throw t},complete:PC},Mu="function"==typeof Symbol&&Symbol.observable||"@@observable";function ac(t){return t}let Ke=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function cq(t){return t&&t instanceof yu||function aq(t){return t&&Fe(t.next)&&Fe(t.error)&&Fe(t.complete)}(t)&&TC(t)}(n)?n:new ea(n,r,i);return sc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=OC(r))((i,s)=>{const o=new ea({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Mu](){return this}pipe(...n){return function RC(t){return 0===t.length?ac:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=OC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function OC(t){var e;return null!==(e=t??Or.Promise)&&void 0!==e?e:Promise}const lq=nc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let cc=(()=>{class t extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new FC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lq}next(n){sc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){sc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){sc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?AC:(this.currentObservers=null,s.push(n),new d2(()=>{this.currentObservers=null,qi(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ke;return n.source=this,n}}return t.create=(e,n)=>new FC(e,n),t})();class FC extends cc{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:AC}}class uq extends cc{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function q1(t){return e=>{if(function fq(t){return Fe(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function o1(t,e,n,r,i){return new dq(t,e,n,r,i)}class dq extends yu{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ta(t,e){return q1((n,r)=>{let i=0;n.subscribe(o1(r,s=>{r.next(t.call(e,s,i++))}))})}function lc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function W1(t){return this instanceof W1?(this.v=t,this):new W1(t)}function $C(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Hu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const GC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function qC(t){return Fe(t?.then)}function WC(t){return Fe(t[Mu])}function KC(t){return Symbol.asyncIterator&&Fe(t?.[Symbol.asyncIterator])}function YC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const QC=function Aq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function XC(t){return Fe(t?.[QC])}function JC(t){return function jC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(h){return new Promise(function(p,g){s.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{!function c(d){d.value instanceof W1?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}(r[d](h))}catch(p){f(s[0][3],p)}}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield W1(n.read());if(i)return yield W1(void 0);yield yield W1(r)}}finally{n.releaseLock()}})}function ZC(t){return Fe(t?.getReader)}function E2(t){if(t instanceof Ke)return t;if(null!=t){if(WC(t))return function Tq(t){return new Ke(e=>{const n=t[Mu]();if(Fe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(GC(t))return function Nq(t){return new Ke(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(qC(t))return function kq(t){return new Ke(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kC)})}(t);if(KC(t))return eM(t);if(XC(t))return function Pq(t){return new Ke(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ZC(t))return function Rq(t){return eM(JC(t))}(t)}throw YC(t)}function eM(t){return new Ke(e=>{(function Oq(t,e){var n,r,i,s;return function BC(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(f){o(f)}}function c(u){try{l(r.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=$C(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function K1(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function tM(t,e,n=1/0){return Fe(e)?tM((r,i)=>ta((s,o)=>e(r,s,i,o))(E2(t(r,i))),n):("number"==typeof e&&(n=e),q1((r,i)=>function Fq(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,f=!1;const d=()=>{f&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let v=!1;E2(n(g,u++)).subscribe(o1(e,C=>{i?.(C),s?h(C):e.next(C)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){const C=c.shift();o?K1(e,o,()=>p(C)):p(C)}d()}catch(C){e.error(C)}}))};return t.subscribe(o1(e,h,()=>{f=!0,d()})),()=>{a?.()}}(r,i,t,n)))}const nM=new Ke(t=>t.complete());function Su(t){return t[t.length-1]}function rM(t){return function jq(t){return t&&Fe(t.schedule)}(Su(t))?t.pop():void 0}function uc(t,e=0){return q1((n,r)=>{n.subscribe(o1(r,i=>K1(r,t,()=>r.next(i),e),()=>K1(r,t,()=>r.complete(),e),i=>K1(r,t,()=>r.error(i),e)))})}function fc(t,e=0){return q1((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function iM(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ke(n=>{K1(n,e,()=>{const r=t[Symbol.asyncIterator]();K1(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zu(t,e){return e?function Xq(t,e){if(null!=t){if(WC(t))return function qq(t,e){return E2(t).pipe(fc(e),uc(e))}(t,e);if(GC(t))return function Kq(t,e){return new Ke(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(qC(t))return function Wq(t,e){return E2(t).pipe(fc(e),uc(e))}(t,e);if(KC(t))return iM(t,e);if(XC(t))return function Yq(t,e){return new Ke(n=>{let r;return K1(n,e,()=>{r=t[QC](),K1(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(t,e);if(ZC(t))return function Qq(t,e){return iM(JC(t),e)}(t,e)}throw YC(t)}(t,e):E2(t)}function Jq(...t){const e=rM(t),n=function Gq(t,e){return"number"==typeof Su(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?E2(r[0]):function Bq(t=1/0){return tM(ac,t)}(n)(zu(r,e)):nM}function sM(t={}){const{connector:e=(()=>new cc),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,f=!1;const d=()=>{a?.unsubscribe(),a=void 0},h=()=>{d(),o=c=void 0,u=f=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return q1((g,v)=>{l++,!f&&!u&&d();const C=c=c??e();v.add(()=>{l--,0===l&&!f&&!u&&(a=Iu(p,i))}),C.subscribe(v),!o&&l>0&&(o=new ea({next:y=>C.next(y),error:y=>{f=!0,d(),a=Iu(h,n,y),C.error(y)},complete:()=>{u=!0,d(),a=Iu(h,r),C.complete()}}),E2(g).subscribe(o))})(s)}}function Iu(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ea({next:()=>{r.unsubscribe(),t()}});return E2(e(...n)).subscribe(r)}function nW(t,e){return t===e}function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function dc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function _t(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_t).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Eu(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const rW=Me({__forward_ref__:Me});function ze(t){return t.__forward_ref__=ze,t.toString=function(){return _t(this())},t}function Y(t){return xu(t)?t():t}function xu(t){return"function"==typeof t&&t.hasOwnProperty(rW)&&t.__forward_ref__===ze}function Du(t){return t&&!!t.\u0275providers}const oM="https://g.co/ng/security#xss";class z extends Error{constructor(e,n){super(function hc(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function X(t){return"string"==typeof t?t:null==t?"":String(t)}function Lu(t,e){throw new z(-201,!1)}function Jn(t,e){null==t&&function q(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function pc(t){return aM(t,gc)||aM(t,cM)}function aM(t,e){return t.hasOwnProperty(e)?t[e]:null}function mc(t){return t&&(t.hasOwnProperty(Au)||t.hasOwnProperty(uW))?t[Au]:null}const gc=Me({\u0275prov:Me}),Au=Me({\u0275inj:Me}),cM=Me({ngInjectableDef:Me}),uW=Me({ngInjectorDef:Me});var le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(le||{});let Tu;function Sn(t){const e=Tu;return Tu=t,e}function uM(t,e,n){const r=pc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&le.Optional?null:void 0!==e?e:void Lu(_t(t))}const He=globalThis,na={},Ou="__NG_DI_FLAG__",vc="ngTempTokenPath",hW=/\n/gm,dM="__source";let Wi;function Y1(t){const e=Wi;return Wi=t,e}function gW(t,e=le.Default){if(void 0===Wi)throw new z(-203,!1);return null===Wi?uM(t,void 0,e):Wi.get(t,e&le.Optional?null:void 0,e)}function oe(t,e=le.Default){return(function lM(){return Tu}()||gW)(Y(t),e)}function R(t,e=le.Default){return oe(t,yc(e))}function yc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fu(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new z(900,!1);let i,s=le.Default;for(let o=0;o<r.length;o++){const a=r[o],c=vW(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(oe(i,s))}else e.push(oe(r))}return e}function ra(t,e){return t[Ou]=e,t.prototype[Ou]=e,t}function vW(t){return t[Ou]}function a1(t){return{toString:t}.toString()}var _c=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_c||{}),h2=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(h2||{});const x2={},ve=[],Cc=Me({\u0275cmp:Me}),Bu=Me({\u0275dir:Me}),Uu=Me({\u0275pipe:Me}),pM=Me({\u0275mod:Me}),c1=Me({\u0275fac:Me}),ia=Me({__NG_ELEMENT_ID__:Me}),mM=Me({__NG_ENV_ID__:Me});function gM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ju(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];yM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function vM(t){return 3===t||4===t||6===t}function yM(t){return 64===t.charCodeAt(0)}function sa(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||_M(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function _M(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const CM="ng-template";function CW(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==gM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function MM(t){return 4===t.type&&t.value!==CM}function MW(t,e,n){return e===(4!==t.type||n?t.value:CM)}function wW(t,e,n){let r=4;const i=t.attrs||[],s=function HW(t){for(let e=0;e<t.length;e++)if(vM(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!MW(t,c,n)||""===c&&1===e.length){if(p2(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!CW(t.attrs,l,n)){if(p2(r))return!1;o=!0}continue}const f=bW(8&r?"class":c,i,MM(t),n);if(-1===f){if(p2(r))return!1;o=!0;continue}if(""!==l){let d;d=f>s?"":i[f+1].toLowerCase();const h=8&r?d:null;if(h&&-1!==gM(h,l,0)||2&r&&l!==d){if(p2(r))return!1;o=!0}}}}else{if(!o&&!p2(r)&&!p2(c))return!1;if(o&&p2(c))continue;o=!1,r=c|1&r}}return p2(r)||o}function p2(t){return 0==(1&t)}function bW(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function SW(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function wM(t,e,n=!1){for(let r=0;r<e.length;r++)if(wW(t,e[r],n))return!0;return!1}function zW(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function bM(t,e){return t?":not("+e.trim()+")":e}function IW(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!p2(o)&&(e+=bM(s,i),i=""),r=o,s=s||!p2(r);n++}return""!==i&&(e+=bM(s,i)),e}function D2(t){return a1(()=>{const e=HM(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_c.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||h2.Emulated,styles:t.styles||ve,_:null,schemas:t.schemas||null,tView:null,id:""};SM(n);const r=t.dependencies;return n.directiveDefs=Mc(r,!1),n.pipeDefs=Mc(r,!0),n.id=function kW(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function LW(t){return de(t)||Ft(t)}function AW(t){return null!==t}function Ct(t){return a1(()=>({type:t.type,bootstrap:t.bootstrap||ve,declarations:t.declarations||ve,imports:t.imports||ve,exports:t.exports||ve,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function VM(t,e){if(null==t)return x2;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function W(t){return a1(()=>{const e=HM(t);return SM(e),e})}function Jt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function de(t){return t[Cc]||null}function Ft(t){return t[Bu]||null}function hn(t){return t[Uu]||null}function HM(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||x2,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ve,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:VM(t.inputs,e),outputs:VM(t.outputs)}}function SM(t){t.features?.forEach(e=>e(t))}function Mc(t,e){if(!t)return null;const n=e?hn:LW;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(AW)}const rt=0,T=1,ne=2,Be=3,m2=4,aa=5,Zt=6,Ki=7,it=8,Q1=9,Yi=10,Z=11,ca=12,zM=13,Qi=14,st=15,la=16,Xi=17,L2=18,ua=19,IM=20,X1=21,l1=22,wc=23,bc=24,ae=25,$u=1,EM=2,A2=7,Ji=9,Bt=11;function zn(t){return Array.isArray(t)&&"object"==typeof t[$u]}function In(t){return Array.isArray(t)&&!0===t[$u]}function Gu(t){return 0!=(4&t.flags)}function Ur(t){return t.componentOffset>-1}function Hc(t){return 1==(1&t.flags)}function g2(t){return!!t.template}function qu(t){return 0!=(512&t[ne])}function jr(t,e){return t.hasOwnProperty(c1)?t[c1]:null}let UW=He.WeakRef??class BW{constructor(e){this.ref=e}deref(){return this.ref}},$W=0,T2=null,Sc=!1;function It(t){const e=T2;return T2=t,e}class TM{constructor(){this.id=$W++,this.ref=function jW(t){return new UW(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Sc;Sc=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Sc=e}}producerAccessed(){if(Sc)throw new Error("");if(null===T2)return;let e=T2.producers.get(this.id);void 0===e?(e={consumerNode:T2.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:T2.trackingVersion},T2.producers.set(this.id,e),this.consumers.set(T2.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=T2.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==T2?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let NM=null;function kM(t){const e=It(null);try{return t()}finally{It(e)}}const PM=()=>{};class KW extends TM{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=PM,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=It(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=PM,this.watch(this.registerOnCleanup)}finally{It(e)}}cleanup(){this.cleanupFn()}}class YW{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Zn(){return RM}function RM(t){return t.type.prototype.ngOnChanges&&(t.setInput=XW),QW}function QW(){const t=FM(this),e=t?.current;if(e){const n=t.previous;if(n===x2)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function XW(t,e,n,r){const i=this.declaredInputs[n],s=FM(t)||function JW(t,e){return t[OM]=e}(t,{previous:x2,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new YW(c&&c.currentValue,e,a===x2),t[r]=e}Zn.ngInherit=!0;const OM="__ngSimpleChanges__";function FM(t){return t[OM]||null}const N2=function(t,e,n){},BM="svg";function Ie(t){for(;Array.isArray(t);)t=t[rt];return t}function Ec(t,e){return Ie(e[t])}function En(t,e){return Ie(e[t.index])}function jM(t,e){return t.data[e]}function Zi(t,e){return t[e]}function Un(t,e){const n=e[t];return zn(n)?n:n[rt]}function J1(t,e){return null==e?null:t[e]}function $M(t){t[Xi]=0}function sK(t){1024&t[ne]||(t[ne]|=1024,qM(t,1))}function GM(t){1024&t[ne]&&(t[ne]&=-1025,qM(t,-1))}function qM(t,e){let n=t[Be];if(null===n)return;n[aa]+=e;let r=n;for(n=n[Be];null!==n&&(1===e&&1===r[aa]||-1===e&&0===r[aa]);)n[aa]+=e,r=n,n=n[Be]}const K={lFrame:rw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function YM(){return K.bindingsEnabled}function es(){return null!==K.skipHydrationRootTNode}function b(){return K.lFrame.lView}function he(){return K.lFrame.tView}function k2(t){return K.lFrame.contextLView=t,t[it]}function P2(t){return K.lFrame.contextLView=null,t}function Ut(){let t=QM();for(;null!==t&&64===t.type;)t=t.parent;return t}function QM(){return K.lFrame.currentTNode}function R2(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function Ju(){return K.lFrame.isParent}function Zu(){K.lFrame.isParent=!1}function pn(){const t=K.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ts(){return K.lFrame.bindingIndex++}function f1(t){const e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vK(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,e5(e)}function e5(t){K.lFrame.currentDirectiveIndex=t}function n5(t){K.lFrame.currentQueryIndex=t}function _K(t){const e=t[T];return 2===e.type?e.declTNode:1===e.type?t[Zt]:null}function tw(t,e,n){if(n&le.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&le.Host||(i=_K(s),null===i||(s=s[Qi],10&i.type))););if(null===i)return!1;e=i,t=s}const r=K.lFrame=nw();return r.currentTNode=e,r.lView=t,!0}function r5(t){const e=nw(),n=t[T];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function nw(){const t=K.lFrame,e=null===t?null:t.child;return null===e?rw(t):e}function rw(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function iw(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const sw=iw;function i5(){const t=iw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mn(){return K.lFrame.selectedIndex}function $r(t){K.lFrame.selectedIndex=t}function $e(){const t=K.lFrame;return jM(t.tView,t.selectedIndex)}let lw=!0;function xc(){return lw}function Z1(t){lw=t}function Dc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Lc(t,e,n){uw(t,e,3,n)}function Ac(t,e,n,r){(3&t[ne])===n&&uw(t,e,n,r)}function s5(t,e){let n=t[ne];(3&n)===e&&(n&=8191,n+=1,t[ne]=n)}function uw(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Xi]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Xi]+=65536),(a<s||-1==s)&&(HK(t,n,e,c),t[Xi]=(4294901760&t[Xi])+c+2),c++}function fw(t,e){N2(4,t,e);const n=It(null);try{e.call(t)}finally{It(n),N2(5,t,e)}}function HK(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ne]>>13<t[Xi]>>16&&(3&t[ne])===e&&(t[ne]+=8192,fw(a,s)):fw(a,s)}const ns=-1;class ha{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function a5(t){return t!==ns}function pa(t){return 32767&t}function ma(t,e){let n=function EK(t){return t>>16}(t),r=e;for(;n>0;)r=r[Qi],n--;return r}let c5=!0;function Tc(t){const e=c5;return c5=t,e}const dw=255,hw=5;let xK=0;const O2={};function Nc(t,e){const n=pw(t,e);if(-1!==n)return n;const r=e[T];r.firstCreatePass&&(t.injectorIndex=e.length,l5(r.data,t),l5(e,null),l5(r.blueprint,null));const i=kc(t,e),s=t.injectorIndex;if(a5(i)){const o=pa(i),a=ma(i,e),c=a[T].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function l5(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pw(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function kc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Mw(i),null===r)return ns;if(n++,i=i[Qi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ns}function u5(t,e,n){!function DK(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ia)&&(r=n[ia]),null==r&&(r=n[ia]=xK++);const i=r&dw;e.data[t+(i>>hw)]|=1<<i}(t,e,n)}function mw(t,e,n){if(n&le.Optional||void 0!==t)return t;Lu()}function gw(t,e,n,r){if(n&le.Optional&&void 0===r&&(r=null),!(n&(le.Self|le.Host))){const i=t[Q1],s=Sn(void 0);try{return i?i.get(e,r,n&le.Optional):uM(e,r,n&le.Optional)}finally{Sn(s)}}return mw(r,0,n)}function vw(t,e,n,r=le.Default,i){if(null!==t){if(2048&e[ne]&&!(r&le.Self)){const o=function PK(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ne]&&!(512&o[ne]);){const a=yw(s,o,n,r|le.Self,O2);if(a!==O2)return a;let c=s.parent;if(!c){const l=o[IM];if(l){const u=l.get(n,O2,r);if(u!==O2)return u}c=Mw(o),o=o[Qi]}s=c}return i}(t,e,n,r,O2);if(o!==O2)return o}const s=yw(t,e,n,r,O2);if(s!==O2)return s}return gw(e,n,r,i)}function yw(t,e,n,r,i){const s=function TK(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ia)?t[ia]:void 0;return"number"==typeof e?e>=0?e&dw:kK:e}(n);if("function"==typeof s){if(!tw(e,t,r))return r&le.Host?mw(i,0,r):gw(e,n,r,i);try{let o;if(o=s(r),null!=o||r&le.Optional)return o;Lu()}finally{sw()}}else if("number"==typeof s){let o=null,a=pw(t,e),c=ns,l=r&le.Host?e[st][Zt]:null;for((-1===a||r&le.SkipSelf)&&(c=-1===a?kc(t,e):e[a+8],c!==ns&&Cw(r,!1)?(o=e[T],a=pa(c),e=ma(c,e)):a=-1);-1!==a;){const u=e[T];if(_w(s,a,u.data)){const f=AK(a,e,n,o,r,l);if(f!==O2)return f}c=e[a+8],c!==ns&&Cw(r,e[T].data[a+8]===l)&&_w(s,a,e)?(o=u,a=pa(c),e=ma(c,e)):a=-1}}return i}function AK(t,e,n,r,i,s){const o=e[T],a=o.data[t+8],u=function Pc(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,d=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<d;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&g2(h)&&h.type===n)return c}return null}(a,o,n,null==r?Ur(a)&&c5:r!=o&&0!=(3&a.type),i&le.Host&&s===a);return null!==u?Gr(e,o,u,a):O2}function Gr(t,e,n,r){let i=t[n];const s=e.data;if(function SK(t){return t instanceof ha}(i)){const o=i;o.resolving&&function iW(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ce(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():X(t)}(s[n]));const a=Tc(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Sn(o.injectImpl):null;tw(t,r,le.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function VK(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=RM(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Sn(l),Tc(a),o.resolving=!1,sw()}}return i}function _w(t,e,n){return!!(n[e+(t>>hw)]&1<<t)}function Cw(t,e){return!(t&le.Self||t&le.Host&&e)}class gn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return vw(this._tNode,this._lView,e,yc(r),n)}}function kK(){return new gn(Ut(),b())}function f5(t){return xu(t)?()=>{const e=f5(Y(t));return e&&e()}:jr(t)}function Mw(t){const e=t[T],n=e.type;return 2===n?e.declTNode:1===n?t[Zt]:null}const is="__parameters__";function os(t,e,n){return a1(()=>{const r=function h5(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const f=c.hasOwnProperty(is)?c[is]:Object.defineProperty(c,is,{value:[]})[is];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function cs(t,e){t.forEach(n=>Array.isArray(n)?cs(n,e):e(n))}function bw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Rc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ya(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function jn(t,e,n){let r=ls(t,e);return r>=0?t[1|r]=n:(r=~r,function $K(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function p5(t,e){const n=ls(t,e);if(n>=0)return t[1|n]}function ls(t,e){return function Vw(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const xn=ra(os("Optional"),8),g5=ra(os("SkipSelf"),4);function $c(t){return 128==(128&t.flags)}var er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(er||{});const fY=/^>|^->|<!--|-->|--!>|<!-$/g,dY=/(<|>)/,hY="\u200b$1\u200b";const C5=new Map;let pY=0;const w5="__ngContext__";function tn(t,e){zn(e)?(t[w5]=e[ua],function gY(t){C5.set(t[ua],t)}(e)):t[w5]=e}let b5;function V5(t,e){return b5(t,e)}function Ma(t){const e=t[Be];return In(e)?e[Be]:e}function $w(t){return qw(t[ca])}function Gw(t){return qw(t[m2])}function qw(t){for(;null!==t&&!In(t);)t=t[m2];return t}function ds(t,e,n,r,i){if(null!=r){let s,o=!1;In(r)?s=r:zn(r)&&(o=!0,r=r[rt]);const a=Ie(r);0===t&&null!==n?null==i?Qw(e,n,a):qr(e,n,a,i||null,!0):1===t&&null!==n?qr(e,n,a,i||null,!0):2===t?function Xc(t,e,n){const r=Yc(t,e);r&&function NY(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function RY(t,e,n,r,i){const s=n[A2];s!==Ie(n)&&ds(e,t,r,s,i);for(let a=Bt;a<n.length;a++){const c=n[a];ba(c[T],c,t,e,r,s)}}(e,t,s,n,i)}}function H5(t,e){return t.createComment(function kw(t){return t.replace(fY,e=>e.replace(dY,hY))}(e))}function Wc(t,e,n){return t.createElement(e,n)}function Kw(t,e){const n=t[Ji],r=n.indexOf(e);GM(e),n.splice(r,1)}function Kc(t,e){if(t.length<=Bt)return;const n=Bt+e,r=t[n];if(r){const i=r[la];null!==i&&i!==t&&Kw(i,r),e>0&&(t[n-1][m2]=r[m2]);const s=Rc(t,Bt+e);!function zY(t,e){ba(t,e,e[Z],2,null,null),e[rt]=null,e[Zt]=null}(r[T],r);const o=s[L2];null!==o&&o.detachView(s[T]),r[Be]=null,r[m2]=null,r[ne]&=-129}return r}function S5(t,e){if(!(256&e[ne])){const n=e[Z];e[wc]?.destroy(),e[bc]?.destroy(),n.destroyNode&&ba(t,e,n,3,null,null),function xY(t){let e=t[ca];if(!e)return z5(t[T],t);for(;e;){let n=null;if(zn(e))n=e[ca];else{const r=e[Bt];r&&(n=r)}if(!n){for(;e&&!e[m2]&&e!==t;)zn(e)&&z5(e[T],e),e=e[Be];null===e&&(e=t),zn(e)&&z5(e[T],e),n=e&&e[m2]}e=n}}(e)}}function z5(t,e){if(!(256&e[ne])){e[ne]&=-129,e[ne]|=256,function TY(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ha)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];N2(4,a,c);try{c.call(a)}finally{N2(5,a,c)}}else{N2(4,i,s);try{s.call(i)}finally{N2(5,i,s)}}}}}(t,e),function AY(t,e){const n=t.cleanup,r=e[Ki];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ki]=null);const i=e[X1];if(null!==i){e[X1]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[T].type&&e[Z].destroy();const n=e[la];if(null!==n&&In(e[Be])){n!==e[Be]&&Kw(n,e);const r=e[L2];null!==r&&r.detachView(t)}!function vY(t){C5.delete(t[ua])}(e)}}function I5(t,e,n){return function Yw(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[rt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===h2.None||s===h2.Emulated)return null}return En(r,n)}}(t,e.parent,n)}function qr(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Qw(t,e,n){t.appendChild(e,n)}function Xw(t,e,n,r,i){null!==r?qr(t,e,n,r,i):Qw(t,e,n)}function Yc(t,e){return t.parentNode(e)}function Jw(t,e,n){return eb(t,e,n)}let E5,Jc,A5,Zc,eb=function Zw(t,e,n){return 40&t.type?En(t,n):null};function Qc(t,e,n,r){const i=I5(t,r,e),s=e[Z],a=Jw(r.parent||e[Zt],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Xw(s,i,n[c],a,!1);else Xw(s,i,n,a,!1);void 0!==E5&&E5(s,r,e,n,i)}function wa(t,e){if(null!==e){const n=e.type;if(3&n)return En(e,t);if(4&n)return x5(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return wa(t,r);{const i=t[e.index];return In(i)?x5(-1,i):Ie(i)}}if(32&n)return V5(e,t)()||Ie(t[e.index]);{const r=nb(t,e);return null!==r?Array.isArray(r)?r[0]:wa(Ma(t[st]),r):wa(t,e.next)}}return null}function nb(t,e){return null!==e?t[st][Zt].projection[e.projection]:null}function x5(t,e){const n=Bt+t+1;if(n<e.length){const r=e[n],i=r[T].firstChild;if(null!==i)return wa(r,i)}return e[A2]}function D5(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&tn(Ie(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)D5(t,e,n.child,r,i,s,!1),ds(e,t,i,a,s);else if(32&c){const l=V5(n,r);let u;for(;u=l();)ds(e,t,i,u,s);ds(e,t,i,a,s)}else 16&c?ib(t,e,r,n,i,s):ds(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ba(t,e,n,r,i,s){D5(n,r,t.firstChild,e,i,s,!1)}function ib(t,e,n,r,i,s){const o=n[st],c=o[Zt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ds(e,t,i,c[l],s);else{let l=c;const u=o[Be];$c(r)&&(l.flags|=128),D5(t,e,l,u,i,s,!0)}}function sb(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ob(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&ju(t,e,r),null!==i&&sb(t,e,i),null!==s&&function FY(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function hs(t){return function L5(){if(void 0===Jc&&(Jc=null,He.trustedTypes))try{Jc=He.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jc}()?.createHTML(t)||t}function ps(){if(void 0!==A5)return A5;if(typeof document<"u")return document;throw new z(210,!1)}function ab(t){return function T5(){if(void 0===Zc&&(Zc=null,He.trustedTypes))try{Zc=He.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zc}()?.createHTML(t)||t}class Wr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oM})`}}class GY extends Wr{getTypeName(){return"HTML"}}class qY extends Wr{getTypeName(){return"Style"}}class WY extends Wr{getTypeName(){return"Script"}}class KY extends Wr{getTypeName(){return"URL"}}class YY extends Wr{getTypeName(){return"ResourceURL"}}function $n(t){return t instanceof Wr?t.changingThisBreaksApplicationSecurity:t}function F2(t,e){const n=function QY(t){return t instanceof Wr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${oM})`)}return n===e}class nQ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(hs(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class rQ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=hs(e),n}}const sQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function e6(t){return(t=String(t)).match(sQ)?t:"unsafe:"+t}function d1(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Va(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const fb=d1("area,br,col,hr,img,wbr"),db=d1("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hb=d1("rp,rt"),N5=Va(fb,Va(db,d1("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Va(hb,d1("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Va(hb,db)),k5=d1("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pb=Va(k5,d1("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),d1("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oQ=d1("script,style,template");class aQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!N5.hasOwnProperty(n))return this.sanitizedSomething=!0,!oQ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!pb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;k5[a]&&(c=e6(c)),this.buf.push(" ",o,'="',mb(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();N5.hasOwnProperty(n)&&!fb.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(mb(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const cQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lQ=/([^\#-~ |!])/g;function mb(t){return t.replace(/&/g,"&amp;").replace(cQ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(lQ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let t6;function gb(t,e){let n=null;try{t6=t6||function ub(t){const e=new rQ(t);return function iQ(){try{return!!(new window.DOMParser).parseFromString(hs(""),"text/html")}catch{return!1}}()?new nQ(e):e}(t);let r=e?String(e):"";n=t6.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=t6.getInertBodyElement(r)}while(r!==s);return hs((new aQ).sanitizeChildren(P5(n)||n))}finally{if(n){const r=P5(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function P5(t){return"content"in t&&function uQ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var t2=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(t2||{});function vb(t){const e=function Ha(){const t=b();return t&&t[Yi].sanitizer}();return e?ab(e.sanitize(t2.HTML,t)||""):F2(t,"HTML")?ab($n(t)):gb(ps(),X(t))}class ${constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const n6=new $("ENVIRONMENT_INITIALIZER"),Cb=new $("INJECTOR",-1),Mb=new $("INJECTOR_DEF_TYPES");class R5{get(e,n=na){if(n===na){const r=new Error(`NullInjectorError: No provider for ${_t(e)}!`);throw r.name="NullInjectorError",r}return n}}function vQ(...t){return{\u0275providers:bb(0,t),\u0275fromNgModule:!0}}function bb(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return cs(e,o=>{const a=o;r6(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Vb(i,s),n}function Vb(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];O5(i,s=>{e(s,r)})}}function r6(t,e,n,r){if(!(t=Y(t)))return!1;let i=null,s=mc(t);const o=!s&&de(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=mc(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)r6(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{cs(s.imports,u=>{r6(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&Vb(l,e)}if(!a){const l=jr(i)||(()=>new i);e({provide:i,useFactory:l,deps:ve},i),e({provide:Mb,useValue:i,multi:!0},i),e({provide:n6,useValue:()=>oe(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;O5(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function O5(t,e){for(let n of t)Du(n)&&(n=n.\u0275providers),Array.isArray(n)?O5(n,e):e(n)}const yQ=Me({provide:String,useValue:Me});function F5(t){return null!==t&&"object"==typeof t&&yQ in t}function Kr(t){return"function"==typeof t}const B5=new $("Set Injector scope."),i6={},CQ={};let U5;function s6(){return void 0===U5&&(U5=new R5),U5}class h1{}class o6 extends h1{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$5(e,o=>this.processProvider(o)),this.records.set(Cb,ms(void 0,this)),i.has("environment")&&this.records.set(h1,ms(void 0,this));const s=this.records.get(B5);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Mb.multi,ve,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Y1(this),r=Sn(void 0);try{return e()}finally{Y1(n),Sn(r)}}get(e,n=na,r=le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mM))return e[mM](this);r=yc(r);const s=Y1(this),o=Sn(void 0);try{if(!(r&le.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function HQ(t){return"function"==typeof t||"object"==typeof t&&t instanceof $}(e)&&pc(e);c=l&&this.injectableDefInScope(l)?ms(j5(e),i6):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&le.Self?s6():this.parent).get(e,n=r&le.Optional&&n===na?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[vc]=a[vc]||[]).unshift(_t(e)),s)throw a;return function yW(t,e,n,r){const i=t[vc];throw e[dM]&&i.unshift(e[dM]),t.message=function _W(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=_t(e);if(Array.isArray(e))i=e.map(_t).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):_t(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(hW,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[vc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Sn(o),Y1(s)}}resolveInjectorInitializers(){const e=Y1(this),n=Sn(void 0);try{const i=this.get(n6.multi,ve,le.Self);for(const s of i)s()}finally{Y1(e),Sn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(_t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){let n=Kr(e=Y(e))?e:Y(e&&e.provide);const r=function wQ(t){return F5(t)?ms(void 0,t.useValue):ms(zb(t),i6)}(e);if(Kr(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ms(void 0,i6,!0),i.factory=()=>Fu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===i6&&(n.value=CQ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function VQ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function j5(t){const e=pc(t),n=null!==e?e.factory:jr(t);if(null!==n)return n;if(t instanceof $)throw new z(204,!1);if(t instanceof Function)return function MQ(t){const e=t.length;if(e>0)throw ya(e,"?"),new z(204,!1);const n=function lW(t){return t&&(t[gc]||t[cM])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new z(204,!1)}function zb(t,e,n){let r;if(Kr(t)){const i=Y(t);return jr(i)||j5(i)}if(F5(t))r=()=>Y(t.useValue);else if(function Sb(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Fu(t.deps||[]));else if(function Hb(t){return!(!t||!t.useExisting)}(t))r=()=>oe(Y(t.useExisting));else{const i=Y(t&&(t.useClass||t.provide));if(!function bQ(t){return!!t.deps}(t))return jr(i)||j5(i);r=()=>new i(...Fu(t.deps))}return r}function ms(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function $5(t,e){for(const n of t)Array.isArray(n)?$5(n,e):n&&Du(n)?$5(n.\u0275providers,e):e(n)}const a6=new $("AppId",{providedIn:"root",factory:()=>SQ}),SQ="ng",Ib=new $("Platform Initializer"),p1=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Eb=new $("CSP nonce",{providedIn:"root",factory:()=>ps().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Db=(t,e,n)=>null;function X5(t,e,n=!1){return Db(t,e,n)}class kQ{}class Tb{}class RQ{resolveComponentFactory(e){throw function PQ(t){const e=Error(`No component factory found for ${_t(t)}.`);return e.ngComponent=t,e}(e)}}let h6=(()=>{class e{}return e.NULL=new RQ,e})();function OQ(){return vs(Ut(),b())}function vs(t,e){return new Ln(En(t,e))}let Ln=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=OQ,e})();class kb{}let m1=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function BQ(){const t=b(),n=Un(Ut().index,t);return(zn(n)?n:t)[Z]}(),e})(),UQ=(()=>{var t;class e{}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:()=>null}),e})();class Ea{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Pb=new Ea("16.2.1"),e7={};function Bb(t,e=null,n=null,r){const i=Ub(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ub(t,e=null,n=null,r,i=new Set){const s=[n||ve,vQ(t)];return r=r||("object"==typeof t?void 0:_t(t)),new o6(s,e||s6(),r||null,i)}let nn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return Bb({name:""},i,r,"");{const s=r.name??"";return Bb({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=na,t.NULL=new R5,t.\u0275prov=J({token:t,providedIn:"any",factory:()=>oe(Cb)}),t.__NG_ELEMENT_ID__=-1,e})();let r7=(()=>{var t;class e{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new z(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const r of this.callbacks)r.invoke()}finally{this.runningCallbacks=!1;for(const r of this.deferredCallbacks)this.callbacks.add(r);this.deferredCallbacks.clear()}}register(r){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(r)}unregister(r){this.callbacks.delete(r),this.deferredCallbacks.delete(r)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:()=>new t}),e})();function xa(t){for(;t;){t[ne]|=64;const e=Ma(t);if(qu(t)&&!e)return t;t=e}return null}function i7(t){return t.ngOriginalError}class Yr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&i7(e);for(;n&&i7(n);)n=i7(n);return n||null}}const Wb=new $("",{providedIn:"root",factory:()=>!1});class Xb extends TM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){xa(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=It(this);this.trackingVersion++;try{e(n,r)}finally{It(i)}}destroy(){this.trackingVersion++}}let m6=null;function Jb(){return m6??=new Xb,m6}function Zb(t,e){return t[e]??Jb()}function eV(t,e){const n=Jb();n.hasReadASignal&&(t[e]=m6,n.lView=t,m6=new Xb)}const re={};function B(t){tV(he(),b(),mn()+t,!1)}function tV(t,e,n,r){if(!r)if(3==(3&e[ne])){const s=t.preOrderCheckHooks;null!==s&&Lc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Ac(e,s,0,n)}$r(n)}function S(t,e=le.Default){const n=b();return null===n?oe(t,e):vw(Ut(),n,Y(t),e)}function g6(t,e,n,r,i,s,o,a,c,l,u){const f=e.blueprint.slice();return f[rt]=i,f[ne]=140|r,(null!==l||t&&2048&t[ne])&&(f[ne]|=2048),$M(f),f[Be]=f[Qi]=t,f[it]=n,f[Yi]=o||t&&t[Yi],f[Z]=a||t&&t[Z],f[Q1]=c||t&&t[Q1]||null,f[Zt]=s,f[ua]=function mY(){return pY++}(),f[l1]=u,f[IM]=l,f[st]=2==e.type?t[st]:f,f}function Cs(t,e,n,r,i){let s=t.data[e];if(null===s)s=function s7(t,e,n,r,i){const s=QM(),o=Ju(),c=t.data[e]=function dX(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return es()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function gK(){return K.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function da(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return R2(s,!0),s}function Da(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function nV(t,e,n,r,i){const s=Zb(e,wc),o=mn(),a=2&r;try{if($r(-1),a&&e.length>ae&&tV(t,e,ae,!1),N2(a?2:0,i),a)s.runInContext(n,r,i);else{const l=It(null);try{n(r,i)}finally{It(l)}}}finally{a&&null===e[wc]&&eV(e,wc),$r(o),N2(a?3:1,i)}}function o7(t,e,n){if(Gu(e)){const r=It(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{It(r)}}}function a7(t,e,n){YM()&&(function _X(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ur(n)&&function SX(t,e,n){const r=En(e,t),i=rV(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=v6(t,g6(t,i,null,o,r,e,null,t[Yi].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Nc(n,e),tn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=Gr(e,t,a,n);tn(l,e),null!==o&&zX(0,a-i,l,c,0,o),g2(c)&&(Un(n.index,e)[it]=Gr(e,t,a,n))}}(t,e,n,En(n,e)),64==(64&n.flags)&&cV(t,e,n))}function c7(t,e,n=En){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function rV(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=l7(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function l7(t,e,n,r,i,s,o,a,c,l,u){const f=ae+r,d=f+i,h=function oX(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:re);return n}(f,d),p="function"==typeof l?l():l;return h[T]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let iV=t=>null;function sV(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?oV(n,e,i,s):r.hasOwnProperty(i)&&oV(n,e,r[i],s)}return n}function oV(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Gn(t,e,n,r,i,s,o,a){const c=En(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(p7(t,n,u,r,i),Ur(e)&&function mX(t,e){const n=Un(e,t);16&n[ne]||(n[ne]|=64)}(n,e.index)):3&e.type&&(r=function pX(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function u7(t,e,n,r){if(YM()){const i=null===r?null:{"":-1},s=function MX(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(wM(e,o.selectors,!1))if(r||(r=[]),g2(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),f7(t,e,a.length)}else r.unshift(o),f7(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&aV(t,e,n,o,i,a),i&&function wX(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new z(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=sa(n.mergedAttrs,n.attrs)}function aV(t,e,n,r,i,s){for(let l=0;l<r.length;l++)u5(Nc(n,e),t,r[l].type);!function VX(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Da(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=sa(n.mergedAttrs,u.hostAttrs),HX(t,n,e,c,u),bX(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function hX(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const f=s[u],d=n?n.get(f):null,p=d?d.outputs:null;c=sV(f.inputs,u,c,d?d.inputs:null),l=sV(f.outputs,u,l,p);const g=null===c||null===o||MM(e)?null:IX(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function cV(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function yK(){return K.lFrame.currentDirectiveIndex}();try{$r(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];e5(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&CX(c,l)}}finally{$r(-1),e5(o)}}function CX(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function f7(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bX(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;g2(e)&&(n[""]=t)}}function HX(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=jr(i.type)),o=new ha(s,g2(i),S);t.blueprint[r]=o,n[r]=o,function vX(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function yX(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Da(t,n,i.hostVars,re),i)}function B2(t,e,n,r,i,s){const o=En(t,e);!function d7(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?X(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[Z],o,s,t.value,n,r,i)}function zX(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)lV(r,n,o[a++],o[a++],o[a++])}function lV(t,e,n,r,i){const s=It(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{It(s)}}function IX(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function uV(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function fV(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];n5(n[r]),o.contentQueries(2,e[s],s)}}}function v6(t,e){return t[ca]?t[zM][m2]=e:t[ca]=e,t[zM]=e,e}function h7(t,e,n){n5(0);const r=It(null);try{e(t,n)}finally{It(r)}}function mV(t,e){const n=t[Q1],r=n?n.get(Yr,null):null;r&&r.handleError(e)}function p7(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];lV(t.data[o],e[o],r,a,i)}}function EX(t,e){const n=Un(e,t),r=n[T];!function xX(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[rt];null!==i&&null===n[l1]&&(n[l1]=X5(i,n[Q1])),m7(r,n,n[it])}function m7(t,e,n){r5(e);try{const r=t.viewQuery;null!==r&&h7(1,r,n);const i=t.template;null!==i&&nV(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fV(t,e),t.staticViewQueries&&h7(2,t.viewQuery,n);const s=t.components;null!==s&&function DX(t,e){for(let n=0;n<e.length;n++)EX(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,i5()}}let gV=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=new KW(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:()=>new t}),e})();function y6(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Eu(i,a):2==s&&(r=Eu(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function La(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ie(s)),In(s)){for(let a=Bt;a<s.length;a++){const c=s[a],l=c[T].firstChild;null!==l&&La(c[T],c,l,r)}s[A2]!==s[rt]&&r.push(s[A2])}const o=n.type;if(8&o)La(t,e,n.child,r);else if(32&o){const a=V5(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=nb(e,n);if(Array.isArray(a))r.push(...a);else{const c=Ma(e[st]);La(c[T],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function _6(t,e,n,r=!0){const i=e[Yi],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{vV(t,e,t.template,n)}catch(c){throw r&&mV(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function vV(t,e,n,r){const i=e[ne];if(256!=(256&i)){e[Yi].effectManager?.flush(),r5(e);try{$M(e),function JM(t){return K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&nV(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Lc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Ac(e,l,0,null),s5(e,0)}if(function TX(t){for(let e=$w(t);null!==e;e=Gw(e)){if(!e[EM])continue;const n=e[Ji];for(let r=0;r<n.length;r++){sK(n[r])}}}(e),yV(e,2),null!==t.contentQueries&&fV(t,e),o){const l=t.contentCheckHooks;null!==l&&Lc(e,l)}else{const l=t.contentHooks;null!==l&&Ac(e,l,1),s5(e,1)}!function sX(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=Zb(e,bc);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)$r(~s);else{const o=s,a=n[++i],c=n[++i];vK(a,o),r.runInContext(c,2,e[o])}}}finally{null===e[bc]&&eV(e,bc),$r(-1)}}(t,e);const a=t.components;null!==a&&CV(e,a,0);const c=t.viewQuery;if(null!==c&&h7(2,c,r),o){const l=t.viewCheckHooks;null!==l&&Lc(e,l)}else{const l=t.viewHooks;null!==l&&Ac(e,l,2),s5(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ne]&=-73,GM(e)}finally{i5()}}}function yV(t,e){for(let n=$w(t);null!==n;n=Gw(n))for(let r=Bt;r<n.length;r++)_V(n[r],e)}function NX(t,e,n){_V(Un(e,t),n)}function _V(t,e){if(!function rK(t){return 128==(128&t[ne])}(t))return;const n=t[T];if(80&t[ne]&&0===e||1024&t[ne]||2===e)vV(n,t,n.template,t[it]);else if(t[aa]>0){yV(t,1);const i=t[T].components;null!==i&&CV(t,i,1)}}function CV(t,e,n){for(let r=0;r<e.length;r++)NX(t,e[r],n)}class Aa{get rootNodes(){const e=this._lView,n=e[T];return La(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[it]}set context(e){this._lView[it]=e}get destroyed(){return 256==(256&this._lView[ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Be];if(In(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Kc(e,r),Rc(n,r))}this._attachedToViewContainer=!1}S5(this._lView[T],this._lView)}onDestroy(e){!function WM(t,e){if(256==(256&t[ne]))throw new z(911,!1);null===t[X1]&&(t[X1]=[]),t[X1].push(e)}(this._lView,e)}markForCheck(){xa(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){this._lView[ne]|=128}detectChanges(){_6(this._lView[T],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EY(t,e){ba(t,e,e[Z],2,null,null)}(this._lView[T],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e}}class kX extends Aa{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;_6(e[T],e,e[it],!1)}checkNoChanges(){}get context(){return null}}class MV extends h6{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=de(e);return new Ta(n,this.ngModule)}}function wV(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class RX{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yc(r);const i=this.injector.get(e,e7,r);return i!==e7||n===e7?i:this.parentInjector.get(e,n,r)}}class Ta extends Tb{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=wV(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return wV(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function EW(t){return t.map(IW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof h1?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new RX(e,s):e,a=o.get(kb,null);if(null===a)throw new z(407,!1);const f={rendererFactory:a,sanitizer:o.get(UQ,null),effectManager:o.get(gV,null),afterRenderEventManager:o.get(r7,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function aX(t,e,n,r){const s=r.get(Wb,!1)||n===h2.ShadowDom,o=t.selectRootElement(e,s);return function cX(t){iV(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Wc(d,h,function PX(t){const e=t.toLowerCase();return"svg"===e?BM:"math"===e?"math":null}(h)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=X5(p,o,!0));const w=l7(0,null,null,1,0,null,null,null,null,null,null),E=g6(null,w,null,C,null,null,f,d,o,null,y);let A,G;r5(E);try{const fe=this.componentDef;let yt,zt=null;fe.findHostDirectiveDefs?(yt=[],zt=new Map,fe.findHostDirectiveDefs(fe,yt,zt),yt.push(fe)):yt=[fe];const tc=function FX(t,e){const n=t[T],r=ae;return t[r]=e,Cs(n,r,2,"#host",null)}(E,p),zFe=function BX(t,e,n,r,i,s,o){const a=i[T];!function UX(t,e,n,r){for(const i of t)e.mergedAttrs=sa(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(y6(e,e.mergedAttrs,!0),null!==n&&ob(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=X5(e,i[Q1]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const f=g6(i,rV(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&f7(a,t,r.length-1),v6(i,f),i[t.index]=f}(tc,p,fe,yt,E,f,d);G=jM(w,ae),p&&function $X(t,e,n,r){if(r)ju(t,n,["ng-version",Pb.full]);else{const{attrs:i,classes:s}=function xW(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!p2(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&ju(t,n,i),s&&s.length>0&&sb(t,n,s.join(" "))}}(d,fe,p,r),void 0!==n&&function GX(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(G,this.ngContentSelectors,n),A=function jX(t,e,n,r,i,s){const o=Ut(),a=i[T],c=En(o,i);aV(a,i,o,n,null,r);for(let u=0;u<n.length;u++)tn(Gr(i,a,o.directiveStart+u,o),i);cV(a,i,o),c&&tn(c,i);const l=Gr(i,a,o.directiveStart+o.componentOffset,o);if(t[it]=i[it]=l,null!==s)for(const u of s)u(l,e);return o7(a,o,t),l}(zFe,fe,yt,zt,E,[qX]),m7(w,E,null)}finally{i5()}return new OX(this.componentType,A,vs(G,E),E,G)}}class OX extends kQ{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new kX(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;p7(s[T],s,i,e,n),this.previousInputValues.set(e,n),xa(Un(this._tNode.index,s))}}get injector(){return new gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function qX(){const t=Ut();Dc(b()[T],t)}function we(t){let e=function bV(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(g2(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=C6(t.inputs),o.inputTransforms=C6(t.inputTransforms),o.declaredInputs=C6(t.declaredInputs),o.outputs=C6(t.outputs);const a=i.hostBindings;a&&QX(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&KX(t,c),l&&YX(t,l),dc(t.inputs,i.inputs),dc(t.declaredInputs,i.declaredInputs),dc(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),dc(o.inputTransforms,i.inputTransforms)),g2(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===we&&(n=!1)}}e=Object.getPrototypeOf(e)}!function WX(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=sa(i.hostAttrs,n=sa(n,i.hostAttrs))}}(r)}function C6(t){return t===x2?{}:t===ve?[]:t}function KX(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function YX(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function QX(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function M6(t){return!!g7(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function g7(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function U2(t,e,n){return t[e]=n}function rn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Qr(t,e,n,r){const i=rn(t,e,n);return rn(t,e+1,r)||i}function j2(t,e,n,r){const i=b();return rn(i,ts(),e)&&(he(),B2($e(),i,t,e,n,r)),j2}function r2(t,e,n,r,i,s,o,a){const c=b(),l=he(),u=t+ae,f=l.firstCreatePass?function wJ(t,e,n,r,i,s,o,a,c){const l=e.consts,u=Cs(e,t,4,o||null,J1(l,a));u7(e,n,u,J1(l,c)),Dc(e,u);const f=u.tView=l7(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];R2(f,!1);const d=OV(l,c,f,t);xc()&&Qc(l,c,d,f),tn(d,c),v6(c,c[u]=uV(d,c,d,f)),Hc(f)&&a7(l,c,f),null!=o&&c7(c,f,a)}let OV=function FV(t,e,n,r){return Z1(!0),e[Z].createComment("")};function w7(t){return Zi(function mK(){return K.lFrame.contextLView}(),ae+t)}function ee(t,e,n){const r=b();return rn(r,ts(),e)&&Gn(he(),$e(),r,t,e,r[Z],n,!1),ee}function b7(t,e,n,r,i){const o=i?"class":"style";p7(t,n,e.inputs[o],o,r)}function N(t,e,n,r){const i=b(),s=he(),o=ae+t,a=i[Z],c=s.firstCreatePass?function SJ(t,e,n,r,i,s){const o=e.consts,c=Cs(e,t,2,r,J1(o,i));return u7(e,n,c,J1(o,s)),null!==c.attrs&&y6(c,c.attrs,!1),null!==c.mergedAttrs&&y6(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=BV(s,i,c,a,e,t);i[o]=l;const u=Hc(c);return R2(c,!0),ob(a,l,c),32!=(32&c.flags)&&xc()&&Qc(s,i,l,c),0===function aK(){return K.lFrame.elementDepthCount}()&&tn(l,i),function cK(){K.lFrame.elementDepthCount++}(),u&&(a7(s,i,c),o7(s,c,i)),null!==r&&c7(i,c),N}function j(){let t=Ut();Ju()?Zu():(t=t.parent,R2(t,!1));const e=t;(function uK(t){return K.skipHydrationRootTNode===t})(e)&&function pK(){K.skipHydrationRootTNode=null}(),function lK(){K.lFrame.elementDepthCount--}();const n=he();return n.firstCreatePass&&(Dc(n,t),Gu(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function zK(t){return 0!=(8&t.flags)}(e)&&b7(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function IK(t){return 0!=(16&t.flags)}(e)&&b7(n,e,b(),e.stylesWithoutHost,!1),j}function ht(t,e,n,r){return N(t,e,n,r),j(),ht}let BV=(t,e,n,r,i,s)=>(Z1(!0),Wc(r,i,function cw(){return K.lFrame.currentNamespace}()));function S6(t,e,n){const r=b(),i=he(),s=t+ae,o=i.firstCreatePass?function EJ(t,e,n,r,i){const s=e.consts,o=J1(s,r),a=Cs(e,t,8,"ng-container",o);return null!==o&&y6(a,o,!0),u7(e,n,a,J1(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];R2(o,!0);const a=jV(i,r,o,t);return r[s]=a,xc()&&Qc(i,r,a,o),tn(a,r),Hc(o)&&(a7(i,r,o),o7(i,o,r)),null!=n&&c7(r,o),S6}function z6(){let t=Ut();const e=he();return Ju()?Zu():(t=t.parent,R2(t,!1)),e.firstCreatePass&&(Dc(e,t),Gu(t)&&e.queries.elementEnd(t)),z6}let jV=(t,e,n,r)=>(Z1(!0),H5(e[Z],""));function xs(){return b()}function I6(t){return!!t&&"function"==typeof t.then}function $V(t){return!!t&&"function"==typeof t.subscribe}function Ye(t,e,n,r){const i=b(),s=he(),o=Ut();return function qV(t,e,n,r,i,s,o){const a=Hc(r),l=t.firstCreatePass&&function hV(t){return t.cleanup||(t.cleanup=[])}(t),u=e[it],f=function dV(t){return t[Ki]||(t[Ki]=[])}(e);let d=!0;if(3&r.type||o){const g=En(r,e),v=o?o(g):g,C=f.length,y=o?E=>o(Ie(E[r.index])):r.index;let w=null;if(!o&&a&&(w=function LJ(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ki],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,d=!1;else{s=KV(r,e,u,s,!1);const E=n.listen(v,i,s);f.push(s,E),l&&l.push(i,y,C,C+1)}}else s=KV(r,e,u,s,!1);const h=r.outputs;let p;if(d&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const A=e[p[v]][p[v+1]].subscribe(s),G=f.length;f.push(s,A),l&&l.push(i,r.index,G,-(G+1))}}}(s,i,i[Z],o,t,e,r),Ye}function WV(t,e,n,r){try{return N2(6,e,n),!1!==n(r)}catch(i){return mV(t,i),!1}finally{N2(7,e,n)}}function KV(t,e,n,r,i){return function s(o){if(o===Function)return r;xa(t.componentOffset>-1?Un(t.index,e):e);let c=WV(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=WV(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function vn(t=1){return function CK(t){return(K.lFrame.contextLView=function MK(t,e){for(;t>0;)e=e[Qi],t--;return e}(t,K.lFrame.contextLView))[it]}(t)}function AJ(t,e){let n=null;const r=function VW(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?wM(t,s,!0):zW(r,s))return i}else n=i}return n}function E6(t,e){return t<<17|e<<2}function tr(t){return t>>17&32767}function H7(t){return 2|t}function Xr(t){return(131068&t)>>2}function S7(t,e){return-131069&t|e<<2}function z7(t){return 1|t}function oH(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?tr(s):Xr(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];OJ(t[a],e)&&(c=!0,t[a+1]=r?z7(u):H7(u)),a=r?tr(u):Xr(u)}c&&(t[n+1]=r?H7(s):z7(s))}function OJ(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ls(t,e)>=0}const wt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aH(t){return t.substring(wt.key,wt.keyEnd)}function FJ(t){return t.substring(wt.value,wt.valueEnd)}function lH(t,e){const n=wt.textEnd;let r=wt.key=Ds(t,e,n);return n===r?-1:(r=wt.keyEnd=function $J(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=fH(t,r,n),r=wt.value=Ds(t,r,n),r=wt.valueEnd=function GJ(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const c=t.charCodeAt(o++);if(59===c)return a;34===c||39===c?a=o=dH(t,c,o,n):e===o-4&&85===s&&82===i&&76===r&&40===c?a=o=dH(t,41,o,n):c>32&&(a=o),s=i,i=r,r=-33&c}return a}(t,r,n),fH(t,r,n))}function Ds(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function fH(t,e,n,r){return(e=Ds(t,e,n))<n&&e++,e}function dH(t,e,n,r){let i=-1,s=n;for(;s<r;){const o=t.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function Oa(t,e){return function v2(t,e,n,r){const i=b(),s=he(),o=f1(2);s.firstUpdatePass&&mH(s,t,o,r),e!==re&&rn(i,o,e)&&vH(s,s.data[mn()],i,i[Z],t,i[o+1]=function tZ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=_t($n(t)))),t}(e,n),r,o)}(t,e,null,!0),Oa}function Et(t){!function y2(t,e,n,r){const i=he(),s=f1(2);i.firstUpdatePass&&mH(i,null,s,r);const o=b();if(n!==re&&rn(o,s,n)){const a=i.data[mn()];if(_H(a,r)&&!pH(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=Eu(c,n||"")),b7(i,a,o,n,r)}else!function eZ(t,e,n,r,i,s,o,a){i===re&&(i=ve);let c=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==u||null!==f;){const d=c<i.length?i[c+1]:void 0,h=l<s.length?s[l+1]:void 0;let g,p=null;u===f?(c+=2,l+=2,d!==h&&(p=f,g=h)):null===f||null!==u&&u<f?(c+=2,p=u):(l+=2,p=f,g=h),null!==p&&vH(t,e,n,r,p,g,o,a),u=c<i.length?i[c]:null,f=l<s.length?s[l]:null}}(i,a,o,o[Z],o[s+1],o[s+1]=function JJ(t,e,n){if(null==n||""===n)return ve;const r=[],i=$n(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(gH,qJ,t,!1)}function qJ(t,e){for(let n=function UJ(t){return function uH(t){wt.key=0,wt.keyEnd=0,wt.value=0,wt.valueEnd=0,wt.textEnd=t.length}(t),lH(t,Ds(t,0,wt.textEnd))}(e);n>=0;n=lH(e,n))gH(t,aH(e),FJ(e))}function pH(t,e){return e>=t.expandoStartIndex}function mH(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[mn()],o=pH(t,n);_H(s,r)&&null===e&&!o&&(e=!1),e=function KJ(t,e,n,r){const i=function t5(t){const e=K.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Fa(n=I7(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=I7(i,t,e,n,r),null===s){let c=function YJ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Xr(r))return t[tr(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=I7(null,t,e,c[1],r),c=Fa(c,e.attrs,r),function QJ(t,e,n,r){t[tr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function XJ(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Fa(r,t[s].hostAttrs,n);return Fa(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function PJ(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=tr(o),c=Xr(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||ls(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const d=tr(t[a+1]);t[r+1]=E6(d,a),0!==d&&(t[d+1]=S7(t[d+1],r)),t[a+1]=function NJ(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=E6(a,0),0!==a&&(t[a+1]=S7(t[a+1],r)),a=r;else t[r+1]=E6(c,0),0===a?a=r:t[c+1]=S7(t[c+1],r),c=r;l&&(t[r+1]=H7(t[r+1])),oH(t,u,r,!0),oH(t,u,r,!1),function RJ(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ls(s,e)>=0&&(n[r+1]=z7(n[r+1]))}(e,u,t,r,s),o=E6(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function I7(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Fa(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Fa(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jn(t,o,!!n||e[++s]))}return void 0===t?null:t}function gH(t,e,n){jn(t,e,$n(n))}function vH(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function kJ(t){return 1==(1&t)}(l)?yH(c,e,n,i,Xr(l),o):void 0;x6(u)||(x6(s)||function TJ(t){return 2==(2&t)}(l)&&(s=yH(c,null,n,i,a,o)),function OY(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:er.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=er.Important),t.setStyle(n,r,i,s))}}(r,o,Ec(mn(),n),i,s))}function yH(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let d=n[i+1];d===re&&(d=f?ve:void 0);let h=f?p5(d,r):u===r?d:void 0;if(l&&!x6(h)&&(h=p5(c,r)),x6(h)&&(a=h,o))return a;const p=t[i+1];i=o?tr(p):Xr(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=p5(c,r))}return a}function x6(t){return void 0!==t}function _H(t,e){return 0!=(t.flags&(e?8:16))}function ie(t,e=""){const n=b(),r=he(),i=t+ae,s=r.firstCreatePass?Cs(r,i,1,e,null):r.data[i],o=CH(r,n,s,e,t);n[i]=o,xc()&&Qc(r,n,o,s),R2(s,!1)}let CH=(t,e,n,r,i)=>(Z1(!0),function qc(t,e){return t.createText(e)}(e[Z],r));function Qe(t){return D6("",t,""),Qe}function D6(t,e,n){const r=b(),i=function ws(t,e,n,r){return rn(t,ts(),n)?e+X(n)+r:re}(r,t,e,n);return i!==re&&function v1(t,e,n){const r=Ec(e,t);!function Ww(t,e,n){t.setValue(e,n)}(t[Z],r,n)}(r,mn(),i),D6}function E7(t,e,n){const r=b();return rn(r,ts(),e)&&Gn(he(),$e(),r,t,e,r[Z],n,!0),E7}const Jr=void 0;var bZ=["en",[["a","p"],["AM","PM"],Jr],[["AM","PM"],Jr,Jr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jr,"{1} 'at' {0}",Jr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wZ(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ls={};function yn(t){const e=function VZ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=FH(e);if(n)return n;const r=e.split("-")[0];if(n=FH(r),n)return n;if("en"===r)return bZ;throw new z(701,!1)}function FH(t){return t in Ls||(Ls[t]=He.ng&&He.ng.common&&He.ng.common.locales&&He.ng.common.locales[t]),Ls[t]}var Ee=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ee||{});const As="en-US";let BH=As;function L7(t,e,n,r,i){if(t=Y(t),Array.isArray(t))for(let s=0;s<t.length;s++)L7(t[s],e,n,r,i);else{const s=he(),o=b(),a=Ut();let c=Kr(t)?t:Y(t.provide);const l=zb(t),u=1048575&a.providerIndexes,f=a.directiveStart,d=a.providerIndexes>>20;if(Kr(t)||!t.multi){const h=new ha(l,i,S),p=T7(c,e,i?u:u+d,f);-1===p?(u5(Nc(a,o),s,c),A7(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=T7(c,e,u+d,f),p=T7(c,e,u,u+d),v=p>=0&&n[p];if(i&&!v||!i&&!(h>=0&&n[h])){u5(Nc(a,o),s,c);const C=function wee(t,e,n,r,i){const s=new ha(t,n,S);return s.multi=[],s.index=e,s.componentProviders=0,dS(s,i,r&&!n),s}(i?Mee:Cee,n.length,i,r,l);!i&&v&&(n[p].providerFactory=C),A7(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else A7(s,t,h>-1?h:p,dS(n[i?p:h],l,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function A7(t,e,n,r){const i=Kr(e),s=function _Q(t){return!!t.useClass}(e);if(i||s){const c=(s?Y(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function dS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function T7(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Cee(t,e,n,r){return N7(this.multi,[])}function Mee(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Gr(n,n[T],this.providerFactory.index,r);s=a.slice(0,o),N7(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],N7(i,s);return s}function N7(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ue(t,e=[]){return n=>{n.providersResolver=(r,i)=>function _ee(t,e,n){const r=he();if(r.firstCreatePass){const i=g2(t);L7(n,r.data,r.blueprint,i,!0),L7(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Zr{}class bee{}class k7 extends Zr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new MV(this);const i=function Bn(t,e){const n=t[pM]||null;if(!n&&!0===e)throw new Error(`Type ${_t(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function g1(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=Ub(e,n,[{provide:Zr,useValue:this},{provide:h6,useValue:this.componentFactoryResolver},...r],_t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class P7 extends bee{constructor(e){super(),this.moduleType=e}create(e){return new k7(this.moduleType,e,[])}}function jt(t,e,n){const r=pn()+t,i=b();return i[r]===re?U2(i,r,n?e.call(n):e()):function Na(t,e){return t[e]}(i,r)}function Tn(t,e,n,r){return MS(b(),pn(),t,e,n,r)}function CS(t,e,n,r,i){return function wS(t,e,n,r,i,s,o){const a=e+n;return Qr(t,a,i,s)?U2(t,a+2,o?r.call(o,i,s):r(i,s)):qa(t,a+2)}(b(),pn(),t,e,n,r,i)}function qa(t,e){const n=t[e];return n===re?void 0:n}function MS(t,e,n,r,i,s){const o=e+n;return rn(t,o,i)?U2(t,o+1,s?r.call(s,i):r(i)):qa(t,o+1)}function bS(t,e,n,r,i,s,o,a){const c=e+n;return function w6(t,e,n,r,i){const s=Qr(t,e,n,r);return rn(t,e+2,i)||s}(t,c,i,s,o)?U2(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):qa(t,c+3)}function xt(t,e){const n=he();let r;const i=t+ae;n.firstCreatePass?(r=function $ee(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=jr(r.type)),a=Sn(S);try{const c=Tc(!1),l=s();return Tc(c),function HJ(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,b(),i,l),l}finally{Sn(a)}}function _2(t,e,n){const r=t+ae,i=b(),s=Zi(i,r);return Wa(i,r)?MS(i,pn(),e,s.transform,n,s):s.transform(n)}function nr(t,e,n,r,i){const s=t+ae,o=b(),a=Zi(o,s);return Wa(o,s)?bS(o,pn(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function Wa(t,e){return t[T].data[e].pure}function O7(t){return e=>{setTimeout(t,void 0,e)}}const $t=class Kee extends cc{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=O7(s),i&&(i=O7(i)),o&&(o=O7(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof d2&&e.add(a),a}};function Xee(t,e,n,r=!0){const i=e[T];if(function DY(t,e,n,r){const i=Bt+r,s=n.length;r>0&&(n[i-1][m2]=e),r<s-Bt?(e[m2]=n[i],bw(n,Bt+r,e)):(n.push(e),e[m2]=null),e[Be]=n;const o=e[la];null!==o&&n!==o&&function LY(t,e){const n=t[Ji];e[st]!==e[Be][Be][st]&&(t[EM]=!0),null===n?t[Ji]=[e]:n.push(e)}(o,e);const a=e[L2];null!==a&&a.insertView(t),e[ne]|=128}(i,e,t,n),r){const s=x5(n,t),o=e[Z],a=Yc(o,t[A2]);null!==a&&function IY(t,e,n,r,i,s){r[rt]=i,r[Zt]=e,ba(t,r,n,1,i,s)}(i,t[Zt],o,e,a,s)}}let y1=(()=>{class e{}return e.__NG_ELEMENT_ID__=ete,e})();const Jee=y1,Zee=class extends Jee{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Qee(t,e,n,r){const i=e.tView,a=g6(t,i,n,4096&t[ne]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[la]=t[e.index];const l=t[L2];return null!==l&&(a[L2]=l.createEmbeddedView(i)),m7(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Aa(i)}};function ete(){return function k6(t,e){return 4&t.type?new Zee(e,t,vs(t,e)):null}(Ut(),b())}let G2=(()=>{class e{}return e.__NG_ELEMENT_ID__=ote,e})();function ote(){return function LS(t,e){let n;const r=e[t.index];return In(r)?n=r:(n=uV(r,e,null,t),e[t.index]=n,v6(e,n)),AS(n,e,t,r),new xS(n,t,e)}(Ut(),b())}const ate=G2,xS=class extends ate{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return vs(this._hostTNode,this._hostLView)}get injector(){return new gn(this._hostTNode,this._hostLView)}get parentInjector(){const e=kc(this._hostTNode,this._hostLView);if(a5(e)){const n=ma(e,this._hostLView),r=pa(e);return new gn(n[T].data[r+8],n)}return new gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=DS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function va(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Ta(de(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const v=(o?l:this.parentInjector).get(h1,null);v&&(s=v)}de(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function iK(t){return In(t[Be])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Be],u=new xS(l,l[Zt],l[Be]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return Xee(a,i,o,!r),e.attachToViewContainerRef(),bw(B7(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=DS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Kc(this._lContainer,n);r&&(Rc(B7(this._lContainer),n),S5(r[T],r))}detach(e){const n=this._adjustIndex(e,-1),r=Kc(this._lContainer,n);return r&&null!=Rc(B7(this._lContainer),n)?new Aa(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function DS(t){return t[8]}function B7(t){return t[8]||(t[8]=[])}let AS=function TS(t,e,n,r){if(t[A2])return;let i;i=8&n.type?Ie(r):function cte(t,e){const n=t[Z],r=n.createComment(""),i=En(e,t);return qr(n,Yc(n,i),r,function kY(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[A2]=i};const Ute=new $("Application Initializer");let X7=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=R(Ute,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(I6(o))r.push(o);else if($V(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const _1=new $("LocaleId",{providedIn:"root",factory:()=>R(_1,le.Optional|le.SkipSelf)||function $te(){return typeof $localize<"u"&&$localize.locale||As}()});let Wte=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new uq(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function oz(...t){}class Ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $t(!1),this.onMicrotaskEmpty=new $t(!1),this.onStable=new $t(!1),this.onError=new $t(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function pne(){const t="function"==typeof He.requestAnimationFrame;let e=He[t?"requestAnimationFrame":"setTimeout"],n=He[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function vne(t){const e=()=>{!function gne(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(He,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tf(t),t.isCheckStableRunning=!0,ef(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return az(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),cz(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return az(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),cz(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,tf(t),ef(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ae.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(Ae.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,mne,oz,oz);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const mne={};function ef(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function az(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cz(t){t._nesting--,ef(t)}class yne{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $t,this.onMicrotaskEmpty=new $t,this.onStable=new $t,this.onError=new $t}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const lz=new $("",{providedIn:"root",factory:uz});function uz(){const t=R(Ae);let e=!0;return Jq(new Ke(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ke(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(sM()))}const fz=new $(""),F6=new $("");let sf,nf=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sf||(function _ne(t){sf=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(Ae),oe(rf),oe(F6))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})(),rf=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return sf?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),rr=null;const dz=new $("AllowMultipleToken"),af=new $("PlatformDestroyListeners"),hz=new $("appBootstrapListener");function gz(t,e,n=[]){const r=`Platform: ${e}`,i=new $(r);return(s=[])=>{let o=cf();if(!o||o.injector.get(dz,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function wne(t){if(rr&&!rr.get(dz,!1))throw new z(400,!1);(function pz(){!function qW(t){NM=t}(()=>{throw new z(600,!1)})})(),rr=t;const e=t.get(yz);(function mz(t){t.get(Ib,null)?.forEach(n=>n())})(t)}(function vz(t=[],e){return nn.create({name:e,providers:[{provide:B5,useValue:"platform"},{provide:af,useValue:new Set([()=>rr=null])},...t]})}(a,r))}return function Vne(t){const e=cf();if(!e)throw new z(401,!1);return e}()}}function cf(){return rr?.get(yz)??null}let yz=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function Hne(t="zone.js",e){return"noop"===t?new yne:"zone.js"===t?new Ae(e):t}(i?.ngZone,function _z(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function Hee(t,e,n){return new k7(t,e,n)}(r.moduleType,this.injector,function Vz(t){return[{provide:Ae,useFactory:t},{provide:n6,multi:!0,useFactory:()=>{const e=R(zne,{optional:!0});return()=>e.initialize()}},{provide:bz,useFactory:Sne},{provide:lz,useFactory:uz}]}(()=>s)),a=o.injector.get(Yr,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{B6(this._modules,o),c.unsubscribe()})}),function Cz(t,e,n){try{const r=n();return I6(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(X7);return c.runInitializers(),c.donePromise.then(()=>(function UH(t){Jn(t,"Expected localeId to be defined"),"string"==typeof t&&(BH=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(_1,As)||As),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=Mz({},i);return function Cne(t,e,n){const r=new P7(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(Qa);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new z(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(af,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(nn))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function Mz(t,e){return Array.isArray(e)?e.reduce(Mz,t):{...t,...e}}let Qa=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(bz),this.zoneIsStable=R(lz),this.componentTypes=[],this.components=[],this.isStable=R(Wte).hasPendingTasks.pipe(function eW(t,e){return q1((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(o1(r,c=>{i?.unsubscribe();let l=0;const u=s++;E2(t(c,u)).subscribe(i=o1(r,f=>r.next(e?e(c,f,u,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}(r=>r?function Zq(...t){return zu(t,rM(t))}(!1):this.zoneIsStable),function tW(t,e=ac){return t=t??nW,q1((n,r)=>{let i,s=!0;n.subscribe(o1(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),sM()),this._injector=R(h1)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof Tb;if(!this._injector.get(X7).done)throw!s&&function oa(t){const e=de(t)||Ft(t)||hn(t);return null!==e&&e.standalone}(r),new z(405,!1);let a;a=s?r:this._injector.get(h6).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function Mne(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Zr),u=a.create(nn.NULL,[],i||a.selector,c),f=u.location.nativeElement,d=u.injector.get(fz,null);return d?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),B6(this.components,u),d?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;B6(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(hz,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>B6(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new z(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function B6(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const bz=new $("",{providedIn:"root",factory:()=>R(Yr).handleError.bind(void 0)});function Sne(){const t=R(Ae),e=R(Yr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let zne=(()=>{var t;class e{constructor(){this.zone=R(Ae),this.applicationRef=R(Qa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Xa=(()=>{class e{}return e.__NG_ELEMENT_ID__=xne,e})();function xne(t){return function Dne(t,e,n){if(Ur(t)&&!n){const r=Un(t.index,e);return new Aa(r,r)}return 47&t.type?new Aa(e[st],e):null}(Ut(),b(),16==(16&t))}class Iz{constructor(){}supports(e){return M6(e)}create(e){return new Pne(e)}}const kne=(t,e)=>e;class Pne{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kne}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<xz(r,i,s)?n:r,a=xz(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let d=0;d<l;d++){const h=d<s.length?s[d]:s[d]=0,p=h+d;u<=p&&p<l&&(s[d]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!M6(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function iJ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Rne(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ez),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ez),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Rne{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class One{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Ez{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new One,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xz(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Dz{constructor(){}supports(e){return e instanceof Map||g7(e)}create(){return new Fne}}class Fne{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||g7(e)))throw new z(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Bne(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class Bne{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lz(){return new $6([new Iz])}let $6=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Lz()),deps:[[e,new g5,new xn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new z(901,!1)}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:Lz}),e})();function Az(){return new Ja([new Dz])}let Ja=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Az()),deps:[[e,new g5,new xn]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new z(901,!1)}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:Az}),e})();const $ne=gz(null,"core",[]);let Gne=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(Qa))},t.\u0275mod=Ct({type:t}),t.\u0275inj=dt({}),e})();let mf=null;function Za(){return mf}class i2e{}const C1=new $("DocumentToken");var q6=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(q6||{}),ot=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(ot||{});function s2(t,e){const n=yn(t),r=n[Ee.NumberSymbols][e];if(typeof r>"u"){if(e===ot.CurrencyDecimal)return n[Ee.NumberSymbols][ot.Decimal];if(e===ot.CurrencyGroup)return n[Ee.NumberSymbols][ot.Group]}return r}const A2e=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function bf(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const Hf=/\s+/,Yz=[];let Sf=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=Yz,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(Hf):Yz}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Hf):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(Hf).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(S($6),S(Ja),S(Ln),S(m1))},t.\u0275dir=W({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class q2e{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let n0=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new q2e(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),Xz(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{Xz(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(S(G2),S(y1),S($6))},t.\u0275dir=W({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Xz(t,e){t.context.$implicit=e.item}let ti=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new W2e,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Jz("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Jz("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(S(G2),S(y1))},t.\u0275dir=W({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class W2e{constructor(){this.$implicit=null,this.ngIf=null}}function Jz(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${_t(e)}'.`)}function M2(t,e){return new z(2100,!1)}class Q2e{createSubscription(e,n){return kM(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){kM(()=>e.unsubscribe())}}class X2e{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const J2e=new X2e,Z2e=new Q2e;let r0=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(I6(r))return J2e;if($V(r))return Z2e;throw M2()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Xa,16))},t.\u0275pipe=Jt({name:"async",type:t,pure:!1,standalone:!0}),e})(),eI=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=tI}transform(r,i=tI){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function d1e(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Ja,16))},t.\u0275pipe=Jt({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function tI(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Ps=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function Ef(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function O2e(t,e,n){return function Mf(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function B2e(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function F2e(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,f=e.minFrac,d=e.maxFrac;if(s){const y=s.match(A2e);if(null===y)throw new Error(`${s} is not a valid digit info`);const w=y[1],E=y[3],A=y[5];null!=w&&(u=bf(w)),null!=E&&(f=bf(E)),null!=A?d=bf(A):null!=E&&f>d&&(d=f)}!function U2e(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(f,d,h,p){return p[h]=(d+=f)<10?d:d-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),d>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,f,d);let h=l.digits,p=l.integerLen;const g=l.exponent;let v=[];for(c=h.every(y=>!y);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?v=h.splice(p,h.length):(v=h,h=[0]);const C=[];for(h.length>=e.lgSize&&C.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)C.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&C.unshift(h.join("")),a=C.join(s2(n,r)),v.length&&(a+=s2(n,i)+v.join("")),g&&(a+=s2(n,ot.Exponential)+"+"+g)}else a=s2(n,ot.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function wf(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const f=c.charAt(u);"0"===f?n.minFrac=n.maxFrac=u+1:"#"===f?n.maxFrac=u+1:n.posSuf+=f}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf("#");n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function gf(t,e){return yn(t)[Ee.NumberFormats][e]}(e,q6.Decimal),s2(e,ot.MinusSign)),e,ot.Group,ot.Decimal,n)}(function xf(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw M2()}}}return(t=e).\u0275fac=function(r){return new(r||t)(S(_1,16))},t.\u0275pipe=Jt({name:"number",type:t,pure:!0,standalone:!0}),e})();let m1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=dt({}),e})();const g1e="server";function Df(t){return t===g1e}class j1e extends i2e{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Tf extends j1e{static makeCurrent(){!function r2e(t){mf||(mf=t)}(new Tf)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function $1e(){return r3=r3||document.querySelector("base"),r3?r3.getAttribute("href"):null}();return null==n?null:function G1e(t){a0=a0||document.createElement("a"),a0.setAttribute("href",t);const e=a0.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){r3=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $2e(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let a0,r3=null,W1e=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const Nf=new $("EventManagerPlugins");let aI=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(Nf),oe(Ae))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();class cI{constructor(e){this._doc=e}}const kf="ng-app-id";let lI=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Df(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${kf}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(kf),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(kf,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(C1),oe(a6),oe(Eb,8),oe(p1))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const Pf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rf=/%COMP%/g,X1e=new $("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fI(t,e){return e.map(n=>n.replace(Rf,t))}let dI=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Df(c),this.defaultRenderer=new Of(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===h2.ShadowDom&&(i={...i,encapsulation:h2.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof pI?s.applyToHost(r):s instanceof Ff&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case h2.Emulated:o=new pI(l,u,i,this.appId,f,a,c,d);break;case h2.ShadowDom:return new tre(l,u,r,i,a,c,this.nonce,d);default:o=new Ff(l,u,i,f,a,c,d)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(aI),oe(lI),oe(a6),oe(X1e),oe(C1),oe(p1),oe(Ae),oe(Eb))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();class Of{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Pf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(hI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(hI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Pf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Pf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(er.DashCase|er.Important)?e.style.setProperty(n,r,i&er.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&er.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Za().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function hI(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class tre extends Of{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=fI(i.id,i.styles);for(const u of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ff extends Of{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?fI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class pI extends Ff{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function J1e(t){return"_ngcontent-%COMP%".replace(Rf,t)}(l),this.hostAttr=function Z1e(t){return"_nghost-%COMP%".replace(Rf,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let nre=(()=>{var t;class e extends cI{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(C1))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const mI=["alt","control","meta","shift"],rre={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ire={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let sre=(()=>{var t;class e extends cI{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Za().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),mI.forEach(u=>{const f=i.indexOf(u);f>-1&&(i.splice(f,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=rre[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),mI.forEach(a=>{a!==s&&(0,ire[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(C1))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const vI=[{provide:p1,useValue:"browser"},{provide:Ib,useValue:function ore(){Tf.makeCurrent()},multi:!0},{provide:C1,useFactory:function cre(){return function $Y(t){A5=t}(document),document},deps:[]}],lre=gz($ne,"browser",vI),ure=new $(""),yI=[{provide:F6,useClass:class q1e{addToWindow(e){He.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new z(5103,!1);return s},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements(),He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(r=>{const i=He.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Za().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:fz,useClass:nf,deps:[Ae,rf,F6]},{provide:nf,useClass:nf,deps:[Ae,rf,F6]}],_I=[{provide:B5,useValue:"root"},{provide:Yr,useFactory:function are(){return new Yr},deps:[]},{provide:Nf,useClass:nre,multi:!0,deps:[C1,Ae,p1]},{provide:Nf,useClass:sre,multi:!0,deps:[C1]},dI,lI,aI,{provide:kb,useExisting:dI},{provide:class C1e{},useClass:W1e,deps:[]},[]];let ni=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:a6,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(ure,12))},t.\u0275mod=Ct({type:t}),t.\u0275inj=dt({providers:[..._I,...yI],imports:[m1e,Gne]}),e})();typeof window<"u"&&window;let wI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:function(r){let i=null;return i=r?new(r||t):oe(bI),i},providedIn:"root"}),e})(),bI=(()=>{var t;class e extends wI{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case t2.NONE:return i;case t2.HTML:return F2(i,"HTML")?$n(i):gb(this._doc,String(i)).toString();case t2.STYLE:return F2(i,"Style")?$n(i):i;case t2.SCRIPT:if(F2(i,"Script"))return $n(i);throw new z(5200,!1);case t2.URL:return F2(i,"URL")?$n(i):e6(String(i));case t2.RESOURCE_URL:if(F2(i,"ResourceURL"))return $n(i);throw new z(5201,!1);default:throw new z(5202,!1)}}bypassSecurityTrustHtml(r){return function XY(t){return new GY(t)}(r)}bypassSecurityTrustStyle(r){return function JY(t){return new qY(t)}(r)}bypassSecurityTrustScript(r){return function ZY(t){return new WY(t)}(r)}bypassSecurityTrustUrl(r){return function eQ(t){return new KY(t)}(r)}bypassSecurityTrustResourceUrl(r){return function tQ(t){return new YY(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(oe(C1))},t.\u0275prov=J({token:t,factory:function(r){let i=null;return i=r?new r:function gre(t){return new bI(t.get(C1))}(oe(nn)),i},providedIn:"root"}),e})();var Wf={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},Yf={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},nL={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},ad={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},m0={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},Rs={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},zd={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},b0={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]},H0={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]};function QN(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){QN(s,r,i,o,a,"next",c)}function a(c){QN(s,r,i,o,a,"throw",c)}o(void 0)})}}const XN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Rd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let d=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(d=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==f)throw new Fwe;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==f&&r.push(l<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Fwe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S0=function(t){return function(t){const e=XN(t);return Rd.encodeByteArray(e,!0)}(t).replace(/\./g,"")},z0=function(t){try{return Rd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const I0=()=>{try{return ZN().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z0(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},ek=t=>{var e,n;return null===(n=null===(e=I0())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},tk=()=>{var t;return null===(t=I0())||void 0===t?void 0:t.config},nk=t=>{var e;return null===(e=I0())||void 0===e?void 0:e[`_${t}`]};class Os{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Od(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function sr(){try{return"object"==typeof indexedDB}catch{return!1}}function l3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Fd(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class a2 extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,a2.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q2.prototype.create)}}class q2{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Zwe(t,e){return t.replace(ebe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new a2(i,`${this.serviceName}: ${o} (${i}).`,r)}}const ebe=/\{\$([^}]+)}/g;function x0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ik(s)&&ik(o)){if(!x0(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ik(t){return null!==t&&"object"==typeof t}function u3(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function f3(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function d3(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class rbe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function ibe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Bd),void 0===i.error&&(i.error=Bd),void 0===i.complete&&(i.complete=Bd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bd(){}const sbe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},obe=1e3,abe=2,cbe=144e5,lbe=.5;function D0(t,e=obe,n=abe){const r=e*Math.pow(n,t),i=Math.round(lbe*r*(Math.random()-.5)*2);return Math.min(cbe,r+i)}function at(t){return t&&t._delegate?t._delegate:t}class sn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ri="[DEFAULT]";class fbe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Os;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function hbe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ri){return this.instances.has(e)}getOptions(e=ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ri?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ri){return this.component?this.component.multipleInstances?e:ri:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pbe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fbe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const jd=[];var ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{});const sk={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},mbe=ge.INFO,gbe={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},vbe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=gbe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Fs{constructor(e){this.name=e,this._logLevel=mbe,this._logHandler=vbe,this._userLogHandler=null,jd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const ybe=(t,e)=>e.some(n=>t instanceof n);let ok,ak;const ck=new WeakMap,$d=new WeakMap,lk=new WeakMap,Gd=new WeakMap,qd=new WeakMap;let Wd={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return $d.get(t);if("objectStoreNames"===e)return t.objectStoreNames||lk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Hbe(t){return"function"==typeof t?function Vbe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Cbe(){return ak||(ak=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Kd(this),e),or(ck.get(this))}:function(...e){return or(t.apply(Kd(this),e))}:function(e,...n){const r=t.call(Kd(this),e,...n);return lk.set(r,e.sort?e.sort():[e]),or(r)}}(t):(t instanceof IDBTransaction&&function wbe(t){if($d.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$d.set(t,e)}(t),ybe(t,function _be(){return ok||(ok=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Wd):t)}function or(t){if(t instanceof IDBRequest)return function Mbe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(or(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ck.set(n,t)}).catch(()=>{}),qd.set(e,t),e}(t);if(Gd.has(t))return Gd.get(t);const e=Hbe(t);return e!==t&&(Gd.set(t,e),qd.set(e,t)),e}const Kd=t=>qd.get(t),zbe=["get","getKey","getAll","getAllKeys","count"],Ibe=["put","add","delete","clear"],Yd=new Map;function uk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Yd.get(e))return Yd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ibe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!zbe.includes(n))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return Yd.set(e,s),s}!function bbe(t){Wd=t(Wd)}(t=>({...t,get:(e,n,r)=>uk(e,n)||t.get(e,n,r),has:(e,n)=>!!uk(e,n)||t.has(e,n)}));class Ebe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function xbe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Qd="@firebase/app",ii=new Fs("@firebase/app"),L0="[DEFAULT]",nVe={[Qd]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},si=new Map,A0=new Map;function rVe(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mn(t){const e=t.name;if(A0.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;A0.set(e,t);for(const n of si.values())rVe(n,t);return!0}function ar(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const b1=new q2("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sVe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw b1.create("app-deleted",{appName:this._name})}}const oi="9.23.0";function dk(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:L0,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw b1.create("bad-app-name",{appName:String(i)});if(n||(n=tk()),!n)throw b1.create("no-options");const s=si.get(i);if(s){if(x0(n,s.options)&&x0(r,s.config))return s;throw b1.create("duplicate-app",{appName:i})}const o=new pbe(i);for(const c of A0.values())o.addComponent(c);const a=new sVe(n,r,o);return si.set(i,a),a}function h3(t=L0){const e=si.get(t);if(!e&&t===L0&&tk())return dk();if(!e)throw b1.create("no-app",{appName:t});return e}function hk(){return Array.from(si.values())}function Ge(t,e,n){var r;let i=null!==(r=nVe[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ii.warn(a.join(" "))}Mn(new sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const oVe="firebase-heartbeat-database",aVe=1,p3="firebase-heartbeat-store";let Jd=null;function pk(){return Jd||(Jd=function Sbe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=or(o);return r&&o.addEventListener("upgradeneeded",c=>{r(or(o.result),c.oldVersion,c.newVersion,or(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(oVe,aVe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(p3)}}).catch(t=>{throw b1.create("idb-open",{originalErrorMessage:t.message})})),Jd}function Zd(){return(Zd=m(function*(t){try{return yield(yield pk()).transaction(p3).objectStore(p3).get(gk(t))}catch(e){if(e instanceof a2)ii.warn(e.message);else{const n=b1.create("idb-get",{originalErrorMessage:e?.message});ii.warn(n.message)}}})).apply(this,arguments)}function mk(t,e){return e9.apply(this,arguments)}function e9(){return(e9=m(function*(t,e){try{const r=(yield pk()).transaction(p3,"readwrite");yield r.objectStore(p3).put(e,gk(t)),yield r.done}catch(n){if(n instanceof a2)ii.warn(n.message);else{const r=b1.create("idb-set",{originalErrorMessage:n?.message});ii.warn(r.message)}}})).apply(this,arguments)}function gk(t){return`${t.name}!${t.options.appId}`}class fVe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hVe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=vk(),{heartbeatsToSend:r,unsentEntries:i}=function dVe(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=S0(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function vk(){return(new Date).toISOString().substring(0,10)}class hVe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!sr()&&l3().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function cVe(t){return Zd.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return mk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return mk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function yk(t){return S0(JSON.stringify({version:2,heartbeats:t})).length}!function pVe(t){Mn(new sn("platform-logger",e=>new Ebe(e),"PRIVATE")),Mn(new sn("heartbeat",e=>new fVe(e),"PRIVATE")),Ge(Qd,"0.9.13",t),Ge(Qd,"0.9.13","esm2017"),Ge("fire-js","")}(""),Ge("firebase","9.23.0","app");const vVe=(t,e)=>e.some(n=>t instanceof n);let _k,Ck;const Mk=new WeakMap,t9=new WeakMap,wk=new WeakMap,n9=new WeakMap,r9=new WeakMap;let i9={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return t9.get(t);if("objectStoreNames"===e)return t.objectStoreNames||wk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function VVe(t){return"function"==typeof t?function bVe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _Ve(){return Ck||(Ck=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(s9(this),e),cr(Mk.get(this))}:function(...e){return cr(t.apply(s9(this),e))}:function(e,...n){const r=t.call(s9(this),e,...n);return wk.set(r,e.sort?e.sort():[e]),cr(r)}}(t):(t instanceof IDBTransaction&&function MVe(t){if(t9.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});t9.set(t,e)}(t),vVe(t,function yVe(){return _k||(_k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,i9):t)}function cr(t){if(t instanceof IDBRequest)return function CVe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Mk.set(n,t)}).catch(()=>{}),r9.set(e,t),e}(t);if(n9.has(t))return n9.get(t);const e=VVe(t);return e!==t&&(n9.set(t,e),r9.set(e,t)),e}const s9=t=>r9.get(t),SVe=["get","getKey","getAll","getAllKeys","count"],zVe=["put","add","delete","clear"],o9=new Map;function bk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(o9.get(e))return o9.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zVe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!SVe.includes(n))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return o9.set(e,s),s}!function wVe(t){i9=t(i9)}(t=>({...t,get:(e,n,r)=>bk(e,n)||t.get(e,n,r),has:(e,n)=>!!bk(e,n)||t.has(e,n)}));const Vk="@firebase/installations",a9="0.6.4",Hk=1e4,Sk=`w:${a9}`,zk="FIS_v2",IVe="https://firebaseinstallations.googleapis.com/v1",EVe=36e5,V1=new q2("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ik(t){return t instanceof a2&&t.code.includes("request-failed")}function c9({projectId:t}){return`${IVe}/projects/${t}/installations`}function Ek(t){return{token:t.token,requestStatus:2,expiresIn:AVe(t.expiresIn),creationTime:Date.now()}}function l9(t,e){return u9.apply(this,arguments)}function u9(){return(u9=m(function*(t,e){const r=(yield e.json()).error;return V1.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function xk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function f9(t){return d9.apply(this,arguments)}function d9(){return(d9=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function AVe(t){return Number(t.replace("s","000"))}function h9(){return(h9=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=c9(t),i=xk(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:zk,appId:t.appId,sdkVersion:Sk})},c=yield f9(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Ek(l.authToken)}}throw yield l9("Create Installation",c)})).apply(this,arguments)}function Lk(t){return new Promise(e=>{setTimeout(e,t)})}const PVe=/^[cdef][\w-]{21}$/,p9="";function RVe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function OVe(t){return function kVe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return PVe.test(n)?n:p9}catch{return p9}}function Bs(t){return`${t.appName}!${t.appId}`}const Us=new Map;function Ak(t,e){const n=Bs(t);Tk(n,e),function UVe(t,e){const n=function Nk(){return!ai&&"BroadcastChannel"in self&&(ai=new BroadcastChannel("[Firebase] FID Change"),ai.onmessage=t=>{Tk(t.data.key,t.data.fid)}),ai}();n&&n.postMessage({key:t,fid:e}),function kk(){0===Us.size&&ai&&(ai.close(),ai=null)}()}(n,e)}function Tk(t,e){const n=Us.get(t);if(n)for(const r of n)r(e)}let ai=null;const jVe="firebase-installations-database",$Ve=1,ci="firebase-installations-store";let m9=null;function g9(){return m9||(m9=function HVe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=cr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(cr(o.result),c.oldVersion,c.newVersion,cr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(jVe,$Ve,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ci)}})),m9}function T0(t,e){return v9.apply(this,arguments)}function v9(){return(v9=m(function*(t,e){const n=Bs(t),i=(yield g9()).transaction(ci,"readwrite"),s=i.objectStore(ci),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&Ak(t,e.fid),e})).apply(this,arguments)}function y9(t){return _9.apply(this,arguments)}function _9(){return(_9=m(function*(t){const e=Bs(t),r=(yield g9()).transaction(ci,"readwrite");yield r.objectStore(ci).delete(e),yield r.done})).apply(this,arguments)}function m3(t,e){return C9.apply(this,arguments)}function C9(){return(C9=m(function*(t,e){const n=Bs(t),i=(yield g9()).transaction(ci,"readwrite"),s=i.objectStore(ci),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&Ak(t,a.fid),a})).apply(this,arguments)}function M9(t){return w9.apply(this,arguments)}function w9(){return w9=m(function*(t){let e;const n=yield m3(t.appConfig,r=>{const i=function GVe(t){return Rk(t||{fid:RVe(),registrationStatus:0})}(r),s=function qVe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(V1.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function WVe(t,e){return b9.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:KVe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===p9?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),w9.apply(this,arguments)}function b9(){return b9=m(function*(t,e){try{const n=yield function NVe(t,e){return h9.apply(this,arguments)}(t,e);return T0(t.appConfig,n)}catch(n){throw Ik(n)&&409===n.customData.serverCode?yield y9(t.appConfig):yield T0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),b9.apply(this,arguments)}function KVe(t){return V9.apply(this,arguments)}function V9(){return(V9=m(function*(t){let e=yield Pk(t.appConfig);for(;1===e.registrationStatus;)yield Lk(100),e=yield Pk(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield M9(t);return r||n}return e})).apply(this,arguments)}function Pk(t){return m3(t,e=>{if(!e)throw V1.create("installation-not-found");return Rk(e)})}function Rk(t){return function YVe(t){return 1===t.registrationStatus&&t.registrationTime+Hk<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function H9(){return(H9=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function XVe(t,{fid:e}){return`${c9(t)}/${e}/authTokens:generate`}(t,n),i=function Dk(t,{refreshToken:e}){const n=xk(t);return n.append("Authorization",function TVe(t){return`${zk} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Sk,appId:t.appId}})},c=yield f9(()=>fetch(r,a));if(c.ok)return Ek(yield c.json());throw yield l9("Generate Auth Token",c)})).apply(this,arguments)}function S9(t){return z9.apply(this,arguments)}function z9(){return z9=m(function*(t,e=!1){let n;const r=yield m3(t.appConfig,s=>{if(!Fk(s))throw V1.create("not-registered");const o=s.authToken;if(!e&&function eHe(t){return 2===t.requestStatus&&!function tHe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+EVe}(t)}(o))return s;if(1===o.requestStatus)return n=function JVe(t,e){return I9.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw V1.create("app-offline");const a=function nHe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function ZVe(t,e){return E9.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),z9.apply(this,arguments)}function I9(){return(I9=m(function*(t,e){let n=yield Ok(t.appConfig);for(;1===n.authToken.requestStatus;)yield Lk(100),n=yield Ok(t.appConfig);const r=n.authToken;return 0===r.requestStatus?S9(t,e):r})).apply(this,arguments)}function Ok(t){return m3(t,e=>{if(!Fk(e))throw V1.create("not-registered");return function rHe(t){return 1===t.requestStatus&&t.requestTime+Hk<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function E9(){return E9=m(function*(t,e){try{const n=yield function QVe(t,e){return H9.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield T0(t.appConfig,r),n}catch(n){if(!Ik(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield T0(t.appConfig,r)}else yield y9(t.appConfig);throw n}}),E9.apply(this,arguments)}function Fk(t){return void 0!==t&&2===t.registrationStatus}function x9(){return(x9=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield M9(e);return r?r.catch(console.error):S9(e).catch(console.error),n.fid})).apply(this,arguments)}function D9(){return D9=m(function*(t,e=!1){const n=t;return yield function oHe(t){return L9.apply(this,arguments)}(n),(yield S9(n,e)).token}),D9.apply(this,arguments)}function L9(){return(L9=m(function*(t){const{registrationPromise:e}=yield M9(t);e&&(yield e)})).apply(this,arguments)}function N9(t){return V1.create("missing-app-config-values",{valueName:t})}const Bk="installations",fHe=t=>{const e=t.getProvider("app").getImmediate(),n=function lHe(t){if(!t||!t.options)throw N9("App Configuration");if(!t.name)throw N9("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw N9(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ar(e,"heartbeat"),_delete:()=>Promise.resolve()}},dHe=t=>{const n=ar(t.getProvider("app").getImmediate(),Bk).getImmediate();return{getId:()=>function iHe(t){return x9.apply(this,arguments)}(n),getToken:i=>function sHe(t){return D9.apply(this,arguments)}(n,i)}};(function hHe(){Mn(new sn(Bk,fHe,"PUBLIC")),Mn(new sn("installations-internal",dHe,"PRIVATE"))})(),Ge(Vk,a9),Ge(Vk,a9,"esm2017");const k9="@firebase/remote-config",kn=new q2("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class VHe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function HHe(t=navigator){return t.languages&&t.languages[0]||t.language}class SHe{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:HHe()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(o,l),f=new Promise((C,y)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",y(w)})});let d;try{yield Promise.race([u,f]),d=yield u}catch(C){let y="fetch-client-network";throw"AbortError"===C?.name&&(y="fetch-timeout"),kn.create(y,{originalErrorMessage:C?.message})}let h=d.status;const p=d.headers.get("ETag")||void 0;let g,v;if(200===d.status){let C;try{C=yield d.json()}catch(y){throw kn.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=C.entries,v=C.state}if("INSTANCE_STATE_UNSPECIFIED"===v?h=500:"NO_CHANGE"===v?h=304:("NO_TEMPLATE"===v||"EMPTY_CONFIG"===v)&&(g={}),304!==h&&200!==h)throw kn.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:g}})()}}class EHe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function zHe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function IHe(t){if(!(t instanceof a2&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+D0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class LHe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function k0(t,e){const n=t.target.error||void 0;return kn.create(e,{originalErrorMessage:n&&n?.message})}const li="app_namespace_store";class kHe{constructor(e,n,r,i=function NHe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(k0(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(li,{keyPath:"compositeKey"})}}catch(n){e(kn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([li],"readonly").objectStore(li),c=n.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{s(k0(u,"storage-get"))},l.onsuccess=u=>{const f=u.target.result;i(f?f.value:void 0)}}catch(l){s(kn.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([li],"readwrite").objectStore(li),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:n});u.onerror=f=>{o(k0(f,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(kn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([li],"readwrite").objectStore(li),c=n.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{s(k0(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(kn.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class PHe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function OHe(){return B9.apply(this,arguments)}function B9(){return(B9=m(function*(){if(!sr())return!1;try{return yield l3()}catch{return!1}})).apply(this,arguments)}!function RHe(){Mn(new sn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kn.create("registration-window");if(!sr())throw kn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw kn.create("registration-project-id");if(!o)throw kn.create("registration-api-key");if(!a)throw kn.create("registration-app-id");const c=new kHe(a,r.name,n=n||"firebase"),l=new PHe(c),u=new Fs(k9);u.logLevel=ge.ERROR;const f=new SHe(i,oi,n,s,o,a),d=new EHe(f,c),h=new VHe(d,c,l,u),p=new LHe(r,h,l,c,u);return function MHe(t){const e=at(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ge(k9,"0.4.4"),Ge(k9,"0.4.4","esm2017")}();const FHe=(t,e)=>e.some(n=>t instanceof n);let Gk,qk;const Wk=new WeakMap,U9=new WeakMap,Kk=new WeakMap,j9=new WeakMap,$9=new WeakMap;let G9={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return U9.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Kk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return H1(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function WHe(t){return"function"==typeof t?function qHe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function UHe(){return qk||(qk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(q9(this),e),H1(Wk.get(this))}:function(...e){return H1(t.apply(q9(this),e))}:function(e,...n){const r=t.call(q9(this),e,...n);return Kk.set(r,e.sort?e.sort():[e]),H1(r)}}(t):(t instanceof IDBTransaction&&function $He(t){if(U9.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});U9.set(t,e)}(t),FHe(t,function BHe(){return Gk||(Gk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,G9):t)}function H1(t){if(t instanceof IDBRequest)return function jHe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(H1(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wk.set(n,t)}).catch(()=>{}),$9.set(e,t),e}(t);if(j9.has(t))return j9.get(t);const e=WHe(t);return e!==t&&(j9.set(t,e),$9.set(e,t)),e}const q9=t=>$9.get(t);function Yk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=H1(o);return r&&o.addEventListener("upgradeneeded",c=>{r(H1(o.result),c.oldVersion,c.newVersion,H1(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function W9(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),H1(n).then(()=>{})}const KHe=["get","getKey","getAll","getAllKeys","count"],YHe=["put","add","delete","clear"],K9=new Map;function Qk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(K9.get(e))return K9.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YHe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!KHe.includes(n))return;const s=function(){var o=m(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return K9.set(e,s),s}!function GHe(t){G9=t(G9)}(t=>({...t,get:(e,n,r)=>Qk(e,n)||t.get(e,n,r),has:(e,n)=>!!Qk(e,n)||t.has(e,n)}));const QHe="/firebase-messaging-sw.js",XHe="/firebase-cloud-messaging-push-scope",Xk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",JHe="https://fcmregistrations.googleapis.com/v1",Jk="google.c.a.c_id",ZHe="google.c.a.c_l",eSe="google.c.a.ts";var P0=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(P0||{});function S1(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rSe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Y9="fcm_token_details_db",iSe=5,Zk="fcm_token_object_Store";function Q9(){return Q9=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Y9))return null;let e=null;return(yield Yk(Y9,iSe,{upgrade:(r=m(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(Zk))return;const l=a.objectStore(Zk),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),u)if(2===s){const f=u;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:null!==(c=f.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:"string"==typeof f.vapidKey?f.vapidKey:S1(f.vapidKey)}}}else if(3===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:S1(f.auth),p256dh:S1(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:S1(f.vapidKey)}}}else if(4===s){const f=u;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:S1(f.auth),p256dh:S1(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:S1(f.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield W9(Y9),yield W9("fcm_vapid_details_db"),yield W9("undefined"),function oSe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Q9.apply(this,arguments)}const aSe="firebase-messaging-database",cSe=1,ui="firebase-messaging-store";let X9=null;function J9(){return X9||(X9=Yk(aSe,cSe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ui)}})),X9}function eP(t){return Z9.apply(this,arguments)}function Z9(){return Z9=m(function*(t){const e=rh(t),r=yield(yield J9()).transaction(ui).objectStore(ui).get(e);if(r)return r;{const i=yield function sSe(t){return Q9.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield eh(t,i),i}}),Z9.apply(this,arguments)}function eh(t,e){return th.apply(this,arguments)}function th(){return(th=m(function*(t,e){const n=rh(t),i=(yield J9()).transaction(ui,"readwrite");return yield i.objectStore(ui).put(e,n),yield i.done,e})).apply(this,arguments)}function nh(){return(nh=m(function*(t){const e=rh(t),r=(yield J9()).transaction(ui,"readwrite");yield r.objectStore(ui).delete(e),yield r.done})).apply(this,arguments)}function rh({appConfig:t}){return t.appId}const Gt=new q2("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fSe(t,e){return ih.apply(this,arguments)}function ih(){return(ih=m(function*(t,e){const n=yield ch(t),r=nP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(ah(t.appConfig),i)).json()}catch(o){throw Gt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Gt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Gt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function sh(){return(sh=m(function*(t,e){const n=yield ch(t),r=nP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${ah(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Gt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Gt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Gt.create("token-update-no-token");return s.token})).apply(this,arguments)}function tP(t,e){return oh.apply(this,arguments)}function oh(){return(oh=m(function*(t,e){const r={method:"DELETE",headers:yield ch(t)};try{const s=yield(yield fetch(`${ah(t.appConfig)}/${e}`,r)).json();if(s.error)throw Gt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Gt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function ah({projectId:t}){return`${JHe}/projects/${t}/registrations`}function ch(t){return lh.apply(this,arguments)}function lh(){return(lh=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function nP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Xk&&(i.web.applicationPubKey=r),i}const hSe=6048e5;function uh(){return uh=m(function*(t){const e=yield function gSe(t,e){return ph.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:S1(e.getKey("auth")),p256dh:S1(e.getKey("p256dh"))},r=yield eP(t.firebaseDependencies);if(r){if(function vSe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+hSe?function mSe(t,e){return dh.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield tP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return iP(t.firebaseDependencies,n)}return iP(t.firebaseDependencies,n)}),uh.apply(this,arguments)}function fh(){return fh=m(function*(t){const e=yield eP(t.firebaseDependencies);e&&(yield tP(t.firebaseDependencies,e.token),yield function lSe(t){return nh.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),fh.apply(this,arguments)}function dh(){return dh=m(function*(t,e){try{const n=yield function dSe(t,e){return sh.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield eh(t.firebaseDependencies,r),n}catch(n){throw yield function rP(t){return fh.apply(this,arguments)}(t),n}}),dh.apply(this,arguments)}function iP(t,e){return hh.apply(this,arguments)}function hh(){return(hh=m(function*(t,e){const r={token:yield fSe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield eh(t,r),r.token})).apply(this,arguments)}function ph(){return(ph=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rSe(e)})})).apply(this,arguments)}function sP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function ySe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function _Se(t,e){e.data&&(t.data=e.data)}(e,t),function CSe(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function oP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function mh(t){return Gt.create("missing-app-config-values",{valueName:t})}oP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),oP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bSe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function wSe(t){if(!t||!t.options)throw mh("App Configuration Object");if(!t.name)throw mh("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw mh(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function gh(){return(gh=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(QHe,{scope:XHe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Gt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function vh(){return(vh=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function aP(t){return gh.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Gt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function yh(){return(yh=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Xk)})).apply(this,arguments)}function _h(){return _h=m(function*(t,e){if(!navigator)throw Gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gt.create("permission-blocked");return yield function HSe(t,e){return yh.apply(this,arguments)}(t,e?.vapidKey),yield function VSe(t,e){return vh.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function pSe(t){return uh.apply(this,arguments)}(t)}),_h.apply(this,arguments)}function Ch(){return(Ch=m(function*(t,e,n){const r=function zSe(t){switch(t){case P0.NOTIFICATION_CLICKED:return"notification_open";case P0.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Jk],message_name:n[ZHe],message_time:n[eSe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mh(){return Mh=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===P0.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(sP(n)):t.onMessageHandler.next(sP(n)));const r=n.data;(function MSe(t){return"object"==typeof t&&!!t&&Jk in t})(r)&&"1"===r["google.c.a.e"]&&(yield function SSe(t,e,n){return Ch.apply(this,arguments)}(t,n.messageType,r))}),Mh.apply(this,arguments)}const lP="@firebase/messaging",ESe=t=>{const e=new bSe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function ISe(t,e){return Mh.apply(this,arguments)}(e,n)),e},xSe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function cP(t,e){return _h.apply(this,arguments)}(e,r)}};function fP(){return wh.apply(this,arguments)}function wh(){return(wh=m(function*(){try{yield l3()}catch{return!1}return typeof window<"u"&&sr()&&Fd()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function DSe(){Mn(new sn("messaging",ESe,"PUBLIC")),Mn(new sn("messaging-internal",xSe,"PRIVATE")),Ge(lP,"0.12.4"),Ge(lP,"0.12.4","esm2017")}();const R0="analytics",TSe="firebase_id",NSe="origin",kSe=6e4,PSe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hh="https://www.googletagmanager.com/gtag/js",Lt=new Fs("@firebase/analytics"),wn=new q2("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function OSe(t){if(!t.startsWith(Hh)){const e=wn.create("invalid-gtag-resource",{gtagURL:t});return Lt.warn(e.message),""}return t}function dP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Sh(){return(Sh=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield dP(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Lt.error(a)}t("config",i,s)})).apply(this,arguments)}function zh(){return(zh=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield dP(n);for(const c of o){const l=a.find(f=>f.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Lt.error(s)}})).apply(this,arguments)}const KSe=30,hP=new class QSe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function XSe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Ih(){return(Ih=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:XSe(r)},s=PSe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Eh(){return(Eh=m(function*(t,e=hP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw wn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw wn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new nze;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:kSe),pP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function pP(t,e,n){return xh.apply(this,arguments)}function xh(){return xh=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=hP){var s;const{appId:o,measurementId:a}=t;try{yield function eze(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function JSe(t){return Ih.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function tze(t){if(!(t instanceof a2&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return Lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?D0(n,i.intervalMillis,KSe):D0(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,f),Lt.debug(`Calling attemptFetch again in ${u} millis`),pP(t,f,r,i)}}),xh.apply(this,arguments)}class nze{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Dh,Rh;function Lh(){return(Lh=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Oh(){return(Oh=m(function*(){if(!sr())return Lt.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield l3()}catch(t){return Lt.warn(wn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fh(){return Fh=m(function*(t,e,n,r,i,s,o){var a;const c=function ZSe(t){return Eh.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Lt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Lt.error(h)),e.push(c);const l=function lze(){return Oh.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,f]=yield Promise.all([c,l]);(function WSe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Hh)&&n.src.includes(t))return n;return null})(s)||function BSe(t,e){const n=function FSe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:OSe}),r=document.createElement("script"),i=`${Hh}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),Rh&&(i("consent","default",Rh),function mP(t){Rh=t}(void 0)),i("js",new Date);const d=null!==(a=o?.config)&&void 0!==a?a:{};return d[NSe]="firebase",d.update=!0,null!=f&&(d[TSe]=f),i("config",u.measurementId,d),Dh&&(i("set",Dh),function gP(t){Dh=t}(void 0)),u.measurementId}),Fh.apply(this,arguments)}class fze{constructor(e){this.app=e}_delete(){return delete W2[this.app.options.appId],Promise.resolve()}}let W2={},vP=[];const yP={};let CP,K2,O0="dataLayer",Bh=!1;function hze(t,e,n){!function dze(){const t=[];if(Od()&&t.push("This is a browser extension environment."),Fd()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=wn.create("invalid-analytics-context",{errorInfo:e});Lt.warn(n.message)}}();const r=t.options.appId;if(!r)throw wn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw wn.create("no-api-key");Lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=W2[r])throw wn.create("already-exists",{id:r});if(!Bh){!function USe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(O0);const{wrappedGtag:s,gtagCore:o}=function qSe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function GSe(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function $Se(t,e,n,r,i){return zh.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function jSe(t,e,n,r,i,s){return Sh.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){Lt.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(W2,vP,yP,O0,"gtag");K2=s,CP=o,Bh=!0}return W2[r]=function uze(t,e,n,r,i,s,o){return Fh.apply(this,arguments)}(t,vP,yP,e,CP,O0,n),new fze(t)}function mze(){return Uh.apply(this,arguments)}function Uh(){return(Uh=m(function*(){if(Od()||!Fd()||!sr())return!1;try{return yield l3()}catch{return!1}})).apply(this,arguments)}const MP="@firebase/analytics";!function vze(){Mn(new sn(R0,(e,{options:n})=>hze(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Mn(new sn("analytics-internal",function t(e){try{const n=e.getProvider(R0).getImmediate();return{logEvent:(r,i,s)=>function gze(t,e,n,r){t=at(t),function rze(t,e,n,r,i){return Lh.apply(this,arguments)}(K2,W2[t.app.options.appId],e,n,r).catch(i=>Lt.error(i))}(n,r,i,s)}}catch(n){throw wn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ge(MP,"0.10.0"),Ge(MP,"0.10.0","esm2017")}();class yze extends d2{constructor(e,n){super()}schedule(e,n=0){return this}}const F0={setInterval(t,e,...n){const{delegate:r}=F0;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=F0;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class bP extends yze{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return F0.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&F0.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,qi(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const VP={now:()=>(VP.delegate||Date).now(),delegate:void 0};class g3{constructor(e,n=g3.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}g3.now=VP.now;class HP extends g3{constructor(e,n=g3.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Mze=new class Cze extends HP{}(class _ze extends bP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),wze=new HP(bP),v3=new Ea("7.6.1"),$h="__angularfire_symbol__analyticsIsSupportedValue",Gh="__angularfire_symbol__analyticsIsSupported",qh="__angularfire_symbol__remoteConfigIsSupportedValue",Wh="__angularfire_symbol__remoteConfigIsSupported",Kh="__angularfire_symbol__messagingIsSupportedValue",Yh="__angularfire_symbol__messagingIsSupported";function Xh(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Gh]||(globalThis[Gh]=mze().then(t=>globalThis[$h]=t).catch(()=>globalThis[$h]=!1)),globalThis[Yh]||(globalThis[Yh]=fP().then(t=>globalThis[Kh]=t).catch(()=>globalThis[Kh]=!1)),globalThis[Wh]||(globalThis[Wh]=OHe().then(t=>globalThis[qh]=t).catch(()=>globalThis[qh]=!1));const Jh=(t,e)=>{const n=e?[e]:hk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function js(){}class SP{constructor(e,n=Mze){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Vze{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",js,{},js,js)),n.pipe(function bze(t,e,n){const r=Fe(t)||e||n?{next:t,error:e,complete:n}:t;return r?q1((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(o1(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ac}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let B0=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new SP(Zone.current)),this.insideAngular=n.run(()=>new SP(Zone.current,wze)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(oe(Ae))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function di(t){return fi().ngZone.run(()=>t())}function Sze(t){return fi(),function zze(t){return function(n){return(n=n.lift(new Vze(t.ngZone))).pipe(fc(t.outsideAngular),uc(t.insideAngular))}}(fi())(t)}const Ize=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),di(()=>t.apply(void 0,r))},At=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=di(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",js,{},js,js)))),r[s]=Ize(r[s],n));const i=function Hze(t){return fi().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Ke){const s=fi();return i.pipe(fc(s.outsideAngular),uc(s.insideAngular))}return di(()=>i)}return i instanceof Ke?i.pipe(Sze):i instanceof Promise?di(()=>new Promise((s,o)=>i.then(a=>di(()=>s(a)),a=>di(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:di(()=>i)};class $s{constructor(e){return e}}class U0{constructor(){return hk()}}const Zh=new $("angularfire2._apps"),xze={provide:$s,useFactory:function Eze(t){return t&&1===t.length?t[0]:new $s(h3())},deps:[[new xn,Zh]]},Dze={provide:U0,deps:[[new xn,Zh]]};function Lze(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $s(r)}}let Aze=(()=>{class t{constructor(n){Ge("angularfire",v3.full,"core"),Ge("angularfire",v3.full,"app"),Ge("angular",Pb.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(oe(p1))},t.\u0275mod=Ct({type:t}),t.\u0275inj=dt({providers:[xze,Dze]}),t})();function Gs(t,...e){return{ngModule:Aze,providers:[{provide:Zh,useFactory:Lze(t),multi:!0,deps:[Ae,nn,B0,...e]}]}}const qs=At(h3,!0),Ws=At(dk,!0),ep=new Map,zP={activated:!1,tokenObservers:[]},Tze={initialized:!1,enabled:!1};function Je(t){return ep.get(t)||Object.assign({},zP)}function j0(){return Tze}const tp="https://content-firebaseappcheck.googleapis.com/v1",Rze="exchangeDebugToken",IP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Fze{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Os,yield function Bze(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Os,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const qt=new q2("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $0(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function np(t){if(!Je(t).activated)throw qt.create("use-before-activation",{appName:t.name})}function rp(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=G0(n)+"d:"),r&&(o+=G0(r)+"h:"),o+=G0(i)+"m:"+G0(s)+"s",o}function G0(t){return 0===t?"00":t>=10?t.toString():"0"+t}function q0(t,e){return ip.apply(this,arguments)}function ip(){return(ip=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=yield i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(f){throw qt.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==o.status)throw qt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(f){throw qt.create("fetch-parse-error",{originalErrorMessage:f?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw qt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function EP(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${tp}/projects/${n}/apps/${r}:${Rze}?key=${i}`,body:{debug_token:e}}}const Gze="firebase-app-check-database",qze=1,y3="firebase-app-check-store",xP="debug-token";let W0=null;function DP(){return W0||(W0=new Promise((t,e)=>{try{const n=indexedDB.open(Gze,qze);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(qt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(y3,{keyPath:"compositeKey"})}}catch(n){e(qt.create("storage-open",{originalErrorMessage:n?.message}))}}),W0)}function LP(t,e){return sp.apply(this,arguments)}function sp(){return(sp=m(function*(t,e){const r=(yield DP()).transaction(y3,"readwrite"),s=r.objectStore(y3).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(qt.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}function AP(t){return op.apply(this,arguments)}function op(){return(op=m(function*(t){const n=(yield DP()).transaction(y3,"readonly"),i=n.objectStore(y3).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(qt.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}function TP(t){return`${t.options.appId}-${t.name}`}const _3=new Fs("@firebase/app-check");function ap(){return(ap=m(function*(t){if(sr()){let e;try{e=yield function Wze(t){return AP(TP(t))}(t)}catch(n){_3.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}})).apply(this,arguments)}function cp(t,e){return sr()?function Kze(t,e){return LP(TP(t),e)}(t,e).catch(n=>{_3.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function lp(){return(lp=m(function*(){let t;try{t=yield function Qze(){return AP(xP)}()}catch{}if(t)return t;{const e=sbe();return function Yze(t){return LP(xP,t)}(e).catch(n=>_3.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}})).apply(this,arguments)}function up(){return j0().enabled}function fp(){return dp.apply(this,arguments)}function dp(){return(dp=m(function*(){const t=j0();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const eIe={error:"UNKNOWN_ERROR"};function tIe(t){return Rd.encodeString(JSON.stringify(t),!1)}function K0(t){return hp.apply(this,arguments)}function hp(){return(hp=m(function*(t,e=!1){const n=t.app;np(n);const r=Je(n);let s,i=r.token;if(i&&!Ks(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Ks(c)?i=c:yield cp(n,void 0))}if(!e&&i&&Ks(i))return{token:i.token};let a,o=!1;if(up()){r.exchangeTokenPromise||(r.exchangeTokenPromise=q0(EP(n,yield fp()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield cp(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Je(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?_3.warn(c.message):_3.error(c),s=c}return i?s?a=Ks(i)?{token:i.token,internalError:s}:RP(s):(a={token:i.token},r.token=i,yield cp(n,i)):a=RP(s),o&&PP(n,a),a})).apply(this,arguments)}function NP(t){return pp.apply(this,arguments)}function pp(){return(pp=m(function*(t){const e=t.app;np(e);const{provider:n}=Je(e);if(up()){const r=yield fp(),{token:i}=yield q0(EP(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function mp(t,e,n,r){const{app:i}=t,s=Je(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Ks(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),kP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>kP(t))}function gp(t,e){const n=Je(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function kP(t){const{app:e}=t,n=Je(e);let r=n.tokenRefresher;r||(r=function nIe(t){const{app:e}=t;return new Fze(m(function*(){let r;if(r=Je(e).token?yield K0(t,!0):yield K0(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Je(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},IP.RETRIAL_MIN_WAIT,IP.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function PP(t,e){const n=Je(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ks(t){return t.expireTimeMillis-Date.now()>0}function RP(t){return{token:tIe(eIe),error:t}}class rIe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Je(this.app);for(const n of e)gp(this.app,n.next);return Promise.resolve()}}function uIe(t,e){const n=new Os;Je(t).reCAPTCHAState={initialized:n};const i=function OP(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=$0(!1);return s?Y0(t,e,s,i,n):function hIe(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=$0(!1);if(!o)throw new Error("no recaptcha");Y0(t,e,o,i,n)}),n.promise}function Y0(t,e,n,r,i){n.ready(()=>{(function dIe(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Je(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Je(t).reCAPTCHAState.succeeded=!1}}),s=Je(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function FP(t){return vp.apply(this,arguments)}function vp(){return(vp=m(function*(t){np(t);const n=yield Je(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Je(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})})).apply(this,arguments)}class lr{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return m(function*(){var n,r,i;!function $P(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw qt.create("throttled",{time:rp(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield FP(e._app).catch(a=>{throw qt.create("recaptcha-error")});if(null===(n=Je(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw qt.create("recaptcha-error");let o;try{o=yield q0(function jze(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${tp}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function jP(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=D0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),qt.create("throttled",{time:rp(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=ar(e,"heartbeat"),uIe(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof lr&&this._siteKey===e._siteKey}}function mIe(t=h3(),e){const n=ar(t=at(t),"app-check");if(j0().initialized||function Zze(){const t=ZN(),e=j0();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Os;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function Jze(){return lp.apply(this,arguments)}())}(),up()&&fp().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw qt.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function gIe(t,e,n){const r=function Nze(t,e){return ep.set(t,e),ep.get(t)}(t,Object.assign({},zP));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Xze(t){return ap.apply(this,arguments)}(t).then(i=>(i&&Ks(i)&&(r.token=i,PP(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),Je(t).isTokenAutoRefreshEnabled&&mp(r,"INTERNAL",()=>{}),r}const GP="app-check-internal";!function yIe(){Mn(new sn("app-check",t=>function iIe(t,e){return new rIe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(GP).initialize()})),Mn(new sn(GP,t=>function sIe(t){return{getToken:e=>K0(t,e),getLimitedUseToken:()=>NP(t),addTokenListener:e=>mp(t,"INTERNAL",e),removeTokenListener:e=>gp(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ge("@firebase/app-check","0.8.0")}();const qP="app-check";class _p{constructor(e){return e}}class Cp{constructor(){return Jh(qP)}}const Mp=new $("angularfire2.app-check-instances"),CIe=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function MIe(t){return(e,n,r)=>{var i;!Df(r)&&CIe&&(null!==(i=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==i||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const s=e.runOutsideAngular(()=>t(n));return new _p(s)}}const wIe={provide:Cp,deps:[[new xn,Mp]]},bIe={provide:_p,useFactory:function _Ie(t,e){const n=Xh(qP,t,e);return n&&new _p(n)},deps:[[new xn,Mp],$s,p1]};let VIe=(()=>{class t{constructor(){Ge("angularfire",v3.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=dt({providers:[bIe,wIe]}),t})();function Ys(t,...e){return{ngModule:VIe,providers:[{provide:Mp,useFactory:MIe(t),multi:!0,deps:[Ae,nn,p1,B0,U0,...e]}]}}const Qs=At(mIe,!0);const HIe=function WP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},KP=new q2("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Q0=new Fs("@firebase/auth");function X0(t,...e){Q0.logLevel<=ge.ERROR&&Q0.error(`Auth (${oi}): ${t}`,...e)}function Pn(t,...e){throw wp(t,...e)}function Wn(t,...e){return wp(t,...e)}function YP(t,e,n){const r=Object.assign(Object.assign({},HIe()),{[e]:n});return new q2("auth","Firebase",r).create(e,{appName:t.name})}function wp(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KP.create(t,...e)}function I(t,e,...n){if(!t)throw wp(e,...n)}function Y2(t){const e="INTERNAL ASSERTION FAILED: "+t;throw X0(e),new Error(e)}function z1(t,e){t||Y2(e)}function C3(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function QP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class M3{constructor(e,n){this.shortDelay=e,this.longDelay=n,z1(n>e,"Short delay should be less than long delay!"),this.isMobile=function Kwe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}()||function Qwe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function zIe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function bp(){return"http:"===QP()||"https:"===QP()}()||Od()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vp(t,e){z1(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class XP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Y2("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Y2("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Y2("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EIe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xIe=new M3(3e4,6e4);function qe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ze(t,e,n,r){return Hp.apply(this,arguments)}function Hp(){return(Hp=m(function*(t,e,n,r,i={}){return JP(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=u3(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),XP.fetch()(ZP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function JP(t,e,n){return Sp.apply(this,arguments)}function Sp(){return(Sp=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},EIe),e);try{const i=new DIe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw w3(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw w3(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw w3(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw w3(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw YP(t,u,l);Pn(t,u)}}catch(i){if(i instanceof a2)throw i;Pn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function I1(t,e,n,r){return zp.apply(this,arguments)}function zp(){return(zp=m(function*(t,e,n,r,i={}){const s=yield Ze(t,e,n,r,i);return"mfaPendingCredential"in s&&Pn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function ZP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Vp(t.config,i):`${t.config.apiScheme}://${i}`}class DIe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),xIe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function w3(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wn(t,e,r);return i.customData._tokenResponse=n,i}function Ip(){return(Ip=m(function*(t,e){return Ze(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function xp(){return(xp=m(function*(t,e){return Ze(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function b3(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Dp(){return(Dp=m(function*(t,e=!1){const n=at(t),r=yield n.getIdToken(e),i=J0(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:b3(Lp(i.auth_time)),issuedAtTime:b3(Lp(i.iat)),expirationTime:b3(Lp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Lp(t){return 1e3*Number(t)}function J0(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return X0("JWT malformed, contained fewer than 3 sections"),null;try{const i=z0(n);return i?JSON.parse(i):(X0("Failed to decode base64 JWT payload"),null)}catch(i){return X0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function E1(t,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof a2&&function PIe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class RIe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class eR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=b3(this.lastLoginAt),this.creationTime=b3(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function V3(t){return Tp.apply(this,arguments)}function Tp(){return Tp=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield E1(t,function TIe(t,e){return xp.apply(this,arguments)}(n,{idToken:r}));I(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function BIe(t){return t.map(e=>{var{providerId:n}=e,r=lc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function FIe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}),Tp.apply(this,arguments)}function Np(){return(Np=m(function*(t){const e=at(t);yield V3(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function kp(){return(kp=m(function*(t,e){const n=yield JP(t,{},m(function*(){const r=u3({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ZP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class H3{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function kIe(t){const e=J0(t);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return I(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function UIe(t,e){return kp.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new H3;return r&&(I("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(I("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new H3,this.toJSON())}_performRefresh(){return Y2("not implemented")}}function ur(t,e){I("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class hi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RIe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield E1(n,n.stsTokenManager.getToken(n.auth,e));return I(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function NIe(t){return Dp.apply(this,arguments)}(this,e)}reload(){return function OIe(t){return Np.apply(this,arguments)}(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield V3(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield E1(e,function LIe(t,e){return Ip.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,C=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:E,isAnonymous:A,providerData:G,stsTokenManager:fe}=n;I(w&&fe,e,"internal-error");const yt=H3.fromJSON(this.name,fe);I("string"==typeof w,e,"internal-error"),ur(f,e.name),ur(d,e.name),I("boolean"==typeof E,e,"internal-error"),I("boolean"==typeof A,e,"internal-error"),ur(h,e.name),ur(p,e.name),ur(g,e.name),ur(v,e.name),ur(C,e.name),ur(y,e.name);const zt=new hi({uid:w,auth:e,email:d,emailVerified:E,displayName:f,isAnonymous:A,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:yt,createdAt:C,lastLoginAt:y});return G&&Array.isArray(G)&&(zt.providerData=G.map(tc=>Object.assign({},tc))),v&&(zt._redirectEventId=v),zt}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new H3;i.updateFromServerResponse(n);const s=new hi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield V3(s),s})()}}const tR=new Map;function x1(t){z1(t instanceof Function,"Expected a class definition");let e=tR.get(t);return e?(z1(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tR.set(t,e),e)}const nR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Z0(t,e,n){return`firebase:${t}:${e}:${n}`}class Js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Z0(this.userKey,i.apiKey,s),this.fullPersistenceKey=Z0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?hi._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Js(x1(nR),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||x1(nR);const o=Z0(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const f=hi._fromJSON(e,u);l!==s&&(a=f),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Js(s,e,r)):new Js(s,e,r)})()}}function rR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cR(e))return"Blackberry";if(lR(e))return"Webos";if(Pp(e))return"Safari";if((e.includes("chrome/")||sR(e))&&!e.includes("edge/"))return"Chrome";if(aR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function iR(t=Dt()){return/firefox\//i.test(t)}function Pp(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sR(t=Dt()){return/crios\//i.test(t)}function oR(t=Dt()){return/iemobile/i.test(t)}function aR(t=Dt()){return/android/i.test(t)}function cR(t=Dt()){return/blackberry/i.test(t)}function lR(t=Dt()){return/webos/i.test(t)}function el(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uR(t=Dt()){return el(t)||aR(t)||lR(t)||cR(t)||/windows phone/i.test(t)||oR(t)}function fR(t,e=[]){let n;switch(t){case"Browser":n=rR(Dt());break;case"Worker":n=`${rR(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oi}/${r}`}function dR(t,e){return Op.apply(this,arguments)}function Op(){return(Op=m(function*(t,e){return Ze(t,"GET","/v2/recaptchaConfig",qe(t,e))})).apply(this,arguments)}function pR(t){return void 0!==t&&void 0!==t.enterprise}class mR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function Fp(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function WIe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function gR(t){return`__${t}${Math.floor(1e6*Math.random())}`}class vR{constructor(e){this.type="recaptcha-enterprise",this.auth=Tt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=m(function*(l,u){dR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(void 0!==f.recaptchaKey){const d=new mR(f);return null==a.tenantId?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,l(d.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(f=>{u(f)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;pR(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(f=>{c(f)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&pR(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));Fp("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function fr(t,e,n){return Bp.apply(this,arguments)}function Bp(){return(Bp=m(function*(t,e,n,r=!1){const i=new vR(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class XIe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class JIe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yR(this),this.idTokenSubscription=new yR(this),this.beforeStateQueue=new XIe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=x1(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Js.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return I(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield V3(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function IIe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?at(e):null;return r&&I(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&I(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(x1(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield dR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new mR(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new vR(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new q2("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&x1(e)||n._popupRedirectResolver;I(r,n,"argument-error"),n.redirectPersistenceManager=yield Js.create(n,[x1(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return I(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function SIe(t,...e){Q0.logLevel<=ge.WARN&&Q0.warn(`Auth (${oi}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Tt(t){return at(t)}class yR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function nbe(t,e){const n=new rbe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _R(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Y2("not implemented")}_getIdTokenResponse(e){return Y2("not implemented")}_linkToIdToken(e,n){return Y2("not implemented")}_getReauthenticationResolver(e){return Y2("not implemented")}}function wR(t,e){return $p.apply(this,arguments)}function $p(){return($p=m(function*(t,e){return Ze(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function qp(t,e){return Wp.apply(this,arguments)}function Wp(){return(Wp=m(function*(t,e){return I1(t,"POST","/v1/accounts:signInWithPassword",qe(t,e))})).apply(this,arguments)}function tm(){return(tm=m(function*(t,e){return I1(t,"POST","/v1/accounts:signInWithEmailLink",qe(t,e))})).apply(this,arguments)}function nm(){return(nm=m(function*(t,e){return I1(t,"POST","/v1/accounts:signInWithEmailLink",qe(t,e))})).apply(this,arguments)}class S3 extends Up{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new S3(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new S3(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield fr(e,i,"signInWithPassword");return qp(e,s)}return qp(e,i).catch(function(){var s=m(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield fr(e,i,"signInWithPassword");return qp(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function aEe(t,e){return tm.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Pn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return wR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function cEe(t,e){return nm.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Pn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function D1(t,e){return rm.apply(this,arguments)}function rm(){return(rm=m(function*(t,e){return I1(t,"POST","/v1/accounts:signInWithIdp",qe(t,e))})).apply(this,arguments)}class Zs extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=lc(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return D1(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,D1(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,D1(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=u3(n)}return e}}class I3{constructor(e){var n,r,i,s,o,a;const c=f3(d3(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,f=function mEe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);I(l&&u&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function gEe(t){const e=f3(d3(t)).link,n=e?f3(d3(e)).deep_link_id:null,r=f3(d3(t)).deep_link_id;return(r?f3(d3(r)).link:null)||r||n||e||t}(e);try{return new I3(n)}catch{return null}}}let bR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return S3._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=I3.parseLink(r);return I(i,"argument-error"),S3._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class dr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class VR extends dr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let vEe=(()=>{class t extends VR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Zs._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class c2{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield hi._fromIdTokenResponse(e,r,i),o=HR(r);return new c2({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=HR(r);return new c2({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function HR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class il extends a2{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,il.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new il(e,n,r,i)}}function SR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?il._fromErrorAndOperation(t,s,e,r):s})}function hm(){return(hm=m(function*(t,e,n=!1){const r=yield E1(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return c2._forOperation(t,"link",r)})).apply(this,arguments)}function mm(){return(mm=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield E1(t,SR(r,i,e,t),n);I(s.idToken,r,"internal-error");const o=J0(s.idToken);I(o,r,"internal-error");const{sub:a}=o;return I(t.uid===a,r,"user-mismatch"),c2._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Pn(r,"user-mismatch"),s}})).apply(this,arguments)}function ER(t,e){return gm.apply(this,arguments)}function gm(){return(gm=m(function*(t,e,n=!1){const r="signIn",i=yield SR(t,r,e),s=yield c2._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function ym(){return(ym=m(function*(t,e){return ER(Tt(t),e)})).apply(this,arguments)}function VEe(t,e,n){return function vm(t,e){return ym.apply(this,arguments)}(at(t),bR.credential(e,n))}const ol="__sak";class DR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ol,"1"),this.storage.removeItem(ol),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const UEe=(()=>{class t extends DR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function OEe(){const t=Dt();return Pp(t)||el(t)}()&&function GIe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=uR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function $Ie(){return function Xwe(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),LR=(()=>{class t extends DR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let $Ee=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var f=m(function*(d){return d(i.origin,a)});return function(d){return f.apply(this,arguments)}}()),u=yield function jEe(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function al(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class GEe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=al("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function mt(){return window}function qm(){return typeof mt().WorkerGlobalScope<"u"&&"function"==typeof mt().importScripts}function Wm(){return(Wm=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const AR="firebaseLocalStorageDb",cl="firebaseLocalStorage",TR="fbase_key";class x3{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ll(t,e){return t.transaction([cl],e?"readwrite":"readonly").objectStore(cl)}function Km(){const t=indexedDB.open(AR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cl,{keyPath:TR})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(cl)?e(r):(r.close(),yield function XEe(){const t=indexedDB.deleteDatabase(AR);return new x3(t).toPromise()}(),e(yield Km()))}))})}function NR(t,e,n){return Ym.apply(this,arguments)}function Ym(){return(Ym=m(function*(t,e,n){const r=ll(t,!0).put({[TR]:e,value:n});return new x3(r).toPromise()})).apply(this,arguments)}function Qm(){return(Qm=m(function*(t,e){const n=ll(t,!1).get(e),r=yield new x3(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function kR(t,e){const n=ll(t,!0).delete(e);return new x3(n).toPromise()}const txe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield Km()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return qm()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=$Ee._getInstance(function YEe(){return qm()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function WEe(){return Wm.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new GEe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function KEe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield Km();return yield NR(n,ol,"1"),yield kR(n,ol),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>NR(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function JEe(t,e){return Qm.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>kR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(o=>{const a=ll(o,!1).getAll();return new x3(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function mi(t,e){return e?x1(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}gR("rcb"),new M3(3e4,6e4);class sg extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return D1(e,this._buildIdpRequest())}_linkToIdToken(e,n){return D1(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return D1(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vxe(t){return ER(t.auth,new sg(t),t.bypassAuthState)}function yxe(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function IR(t,e){return mm.apply(this,arguments)}(n,new sg(t),t.bypassAuthState)}function _xe(t){return og.apply(this,arguments)}function og(){return(og=m(function*(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function dm(t,e){return hm.apply(this,arguments)}(n,new sg(t),t.bypassAuthState)})).apply(this,arguments)}class RR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vxe;case"linkViaPopup":case"linkViaRedirect":return _xe;case"reauthViaPopup":case"reauthViaRedirect":return yxe;default:Pn(this.auth,"internal-error")}}resolve(e){z1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){z1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cxe=new M3(2e3,1e4);function Mxe(t,e,n){return ag.apply(this,arguments)}function ag(){return(ag=m(function*(t,e,n){const r=Tt(t);!function Xs(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Pn(t,"argument-error"),YP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,dr);const i=mi(r,n);return new ug(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let ug=(()=>{class t extends RR{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return I(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){z1(1===n.filter.length,"Popup operations only handle one event");const r=al();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Wn(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Cxe.get())};n()}}return t.currentPopupAction=null,t})();const wxe="pendingRedirect",D3=new Map;class bxe extends RR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=D3.get(n.auth._key());if(!r){try{const s=(yield function Vxe(t,e){return fg.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}D3.set(n.auth._key(),r)}return n.bypassAuthState||D3.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function fg(){return(fg=m(function*(t,e){const n=function FR(t){return Z0(wxe,t.config.apiKey,t.name)}(e),r=function OR(t){return x1(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Hxe(t,e){D3.set(t._key(),e)}function BR(t,e){return yg.apply(this,arguments)}function yg(){return(yg=m(function*(t,e,n=!1){const r=Tt(t),i=mi(r,e),o=yield new bxe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class xxe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Dxe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $R(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$R(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jR(e))}saveEventToCache(e){this.cachedEventUids.add(jR(e)),this.lastProcessedEventTime=Date.now()}}function jR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $R({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Cg(){return(Cg=m(function*(t,e={}){return Ze(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Axe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Txe=/^https?/;function Mg(){return Mg=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Lxe(t){return Cg.apply(this,arguments)}(t);for(const n of e)try{if(kxe(n))return}catch{}Pn(t,"unauthorized-domain")}),Mg.apply(this,arguments)}function kxe(t){const e=C3(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Txe.test(n))return!1;if(Axe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Pxe=new M3(3e4,6e4);function GR(){const t=mt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let fl=null;const Fxe=new M3(5e3,15e3),Bxe="__/auth/iframe",Uxe="emulator/auth/iframe",jxe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$xe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gxe(t){const e=t.config;I(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vp(e,Uxe):`https://${t.config.authDomain}/${Bxe}`,r={apiKey:e.apiKey,appName:t.name,v:oi},i=$xe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${u3(r).slice(1)}`}function wg(){return wg=m(function*(t){const e=yield function Oxe(t){return fl=fl||function Rxe(t){return new Promise((e,n)=>{var r,i,s;function o(){GR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GR(),n(Wn(t,"network-request-failed"))},timeout:Pxe.get()})}if(null!==(i=null===(r=mt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=mt().gapi)||void 0===s||!s.load){const a=gR("iframefcb");return mt()[a]=()=>{gapi.load?o():n(Wn(t,"network-request-failed"))},Fp(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw fl=null,e})}(t),fl}(t),n=mt().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:Gxe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jxe,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Wn(t,"network-request-failed"),c=mt().setTimeout(()=>{o(a)},Fxe.get());function l(){mt().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),wg.apply(this,arguments)}const Wxe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const eDe="__/auth/handler",tDe="emulator/auth/handler",nDe=encodeURIComponent("fac");function WR(t,e,n,r,i,s){return bg.apply(this,arguments)}function bg(){return(bg=m(function*(t,e,n,r,i,s){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oi,eventId:i};if(e instanceof dr){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function tbe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))o[u]=f}if(e instanceof VR){const u=e.getScopes().filter(f=>""!==f);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${nDe}=${encodeURIComponent(c)}`:"";return`${function rDe({config:t}){return t.emulator?Vp(t,tDe):`https://${t.authDomain}/${eDe}`}(t)}?${u3(a).slice(1)}${l}`})).apply(this,arguments)}const Vg="webStorageSupport",sDe=class iDe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LR,this._completeRedirectFn=BR,this._overrideRedirectResult=Hxe}_openPopup(e,n,r,i){var s=this;return m(function*(){var o;z1(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield WR(e,n,r,C3(),i);return function Jxe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Wxe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Dt().toLowerCase();n&&(a=sR(l)?"_blank":n),iR(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(function jIe(t=Dt()){var e;return el(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function Zxe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new qR(null);const f=window.open(e||"",a,u);I(f,t,"popup-blocked");try{f.focus()}catch{}return new qR(f)}(e,a,al())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function qEe(t){mt().location.href=t}(yield WR(e,n,r,C3(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(z1(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function qxe(t){return wg.apply(this,arguments)}(e),i=new xxe(e);return r.register("authEvent",s=>(I(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vg,{type:Vg},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Vg];void 0!==o&&n(!!o),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Nxe(t){return Mg.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uR()||Pp()||el()}};var QR="@firebase/auth";class oDe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const uDe=nk("authIdTokenMaxAge")||300;let JR=null;const fDe=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>uDe)return;const s=r?.token;JR!==s&&(JR=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function dDe(t=h3()){const e=ar(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function ZIe(t,e){const n=ar(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(x0(n.getOptions(),e??{}))return i;Pn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:sDe,persistence:[txe,UEe,LR]}),r=nk("authTokenSyncURL");if(r){const s=fDe(r);(function AEe(t,e,n){at(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function LEe(t,e,n,r){at(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=ek("auth");return i&&function tEe(t,e,n){const r=Tt(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=_R(e),{host:o,port:a}=function nEe(t){const e=_R(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:CR(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:CR(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function rEe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function hDe(t){return new Ke(function(e){var n=function TEe(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function cDe(t){Mn(new sn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;I(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fR(t)},l=new JIe(r,i,s,c);return function eEe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(x1);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mn(new sn("auth-internal",e=>{const n=Tt(e.getProvider("auth").getImmediate());return new oDe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(QR,"0.23.2",function aDe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ge(QR,"0.23.2","esm2017")}("Browser");class hl{constructor(e){return e}}class eO{constructor(){return Jh("auth")}}const Sg=new $("angularfire2.auth-instances");function gDe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new hl(r)}}const vDe={provide:eO,deps:[[new xn,Sg]]},yDe={provide:hl,useFactory:function mDe(t,e){const n=Xh("auth",t,e);return n&&new hl(n)},deps:[[new xn,Sg],$s]};let _De=(()=>{class t{constructor(){Ge("angularfire",v3.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=dt({providers:[yDe,vDe]}),t})();function to(t,...e){return{ngModule:_De,providers:[{provide:Sg,useFactory:gDe(t),multi:!0,deps:[Ae,nn,B0,U0,[new xn,Cp],...e]}]}}const CDe=At(hDe,!0),no=At(dDe,!0),MDe=At(VEe,!0),wDe=At(Mxe,!0);var L,bDe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},w2={},zg=zg||{},te=bDe||self;function pl(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function L3(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ig="closure_uid_"+(1e9*Math.random()>>>0),HDe=0;function SDe(t,e,n){return t.call.apply(t.bind,arguments)}function zDe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function on(t,e,n){return(on=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?SDe:zDe).apply(null,arguments)}function ml(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function hr(){this.s=this.s,this.o=this.o}hr.prototype.s=!1,hr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function VDe(t){Object.prototype.hasOwnProperty.call(t,Ig)&&t[Ig]||(t[Ig]=++HDe)}(this)},hr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Eg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function nO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(pl(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function an(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}an.prototype.h=function(){this.defaultPrevented=!0};var EDe=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",()=>{},e),te.removeEventListener("test",()=>{},e)}catch{}return t}();function A3(t){return/^[\s\xa0]*$/.test(t)}function gl(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Q2(t){return-1!=gl().indexOf(t)}function xg(t){return xg[" "](t),t}xg[" "]=function(){};var Lg,t,DDe=Q2("Opera"),ro=Q2("Trident")||Q2("MSIE"),rO=Q2("Edge"),Dg=rO||ro,iO=Q2("Gecko")&&!(-1!=gl().toLowerCase().indexOf("webkit")&&!Q2("Edge"))&&!(Q2("Trident")||Q2("MSIE"))&&!Q2("Edge"),LDe=-1!=gl().toLowerCase().indexOf("webkit")&&!Q2("Edge");function sO(){var t=te.document;return t?t.documentMode:void 0}e:{var Ag="",Tg=(t=gl(),iO?/rv:([^\);]+)(\)|;)/.exec(t):rO?/Edge\/([\d\.]+)/.exec(t):ro?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):LDe?/WebKit\/(\S+)/.exec(t):DDe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Tg&&(Ag=Tg?Tg[1]:""),ro){var Ng=sO();if(null!=Ng&&Ng>parseFloat(Ag)){Lg=String(Ng);break e}}Lg=Ag}var ADe=te.document&&ro&&(sO()||parseInt(Lg,10))||void 0;function T3(t,e){if(an.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(iO){e:{try{xg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:TDe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&T3.$.h.call(this)}}Nt(T3,an);var TDe={2:"touch",3:"pen",4:"mouse"};T3.prototype.h=function(){T3.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var N3="closure_listenable_"+(1e6*Math.random()|0),NDe=0;function kDe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++NDe,this.fa=this.ia=!1}function vl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Pg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function aO(t){const e={};for(const n in t)e[n]=t[n];return e}const cO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<cO.length;s++)n=cO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yl(t){this.src=t,this.g={},this.h=0}function Rg(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=tO(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vl(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Og(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}yl.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Og(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new kDe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Fg="closure_lm_"+(1e6*Math.random()|0),Bg={};function uO(t,e,n,r,i){if(r&&r.once)return dO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uO(t,e[s],n,r,i);return null}return n=Gg(n),t&&t[N3]?t.O(e,n,L3(r)?!!r.capture:!!r,i):fO(t,e,n,!1,r,i)}function fO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=L3(i)?!!i.capture:!!i,a=jg(t);if(a||(t[Fg]=a=new yl(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function RDe(){const e=ODe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)EDe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function dO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)dO(t,e[s],n,r,i);return null}return n=Gg(n),t&&t[N3]?t.P(e,n,L3(r)?!!r.capture:!!r,i):fO(t,e,n,!0,r,i)}function hO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)hO(t,e[s],n,r,i);else r=L3(r)?!!r.capture:!!r,n=Gg(n),t&&t[N3]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Og(s=t.g[e],n,r,i))&&(vl(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=jg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Og(e,n,r,i)),(n=-1<t?e[t]:null)&&Ug(n))}function Ug(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[N3])Rg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=jg(e))?(Rg(n,t),0==n.h&&(n.src=null,e[Fg]=null)):vl(t)}}}function pO(t){return t in Bg?Bg[t]:Bg[t]="on"+t}function ODe(t,e){if(t.fa)t=!0;else{e=new T3(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ug(t),t=n.call(r,e)}return t}function jg(t){return(t=t[Fg])instanceof yl?t:null}var $g="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gg(t){return"function"==typeof t?t:(t[$g]||(t[$g]=function(e){return t.handleEvent(e)}),t[$g])}function kt(){hr.call(this),this.i=new yl(this),this.S=this,this.J=null}function Wt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new an(e,t);else if(e instanceof an)e.target=e.target||t;else{var i=e;lO(e=new an(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=_l(o,r,!0,e)&&i}if(i=_l(o=e.g=t,r,!0,e)&&i,i=_l(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=_l(o=e.g=n[s],r,!1,e)&&i}function _l(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Rg(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Nt(kt,hr),kt.prototype[N3]=!0,kt.prototype.removeEventListener=function(t,e,n,r){hO(this,t,e,n,r)},kt.prototype.N=function(){if(kt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vl(n[r]);delete t.g[e],t.h--}}this.J=null},kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var qg=te.JSON.stringify;function BDe(){var t=Wg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var mO=new class FDe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new jDe,t=>t.reset());class jDe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $De(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function GDe(t){te.setTimeout(()=>{throw t},0)}let k3,P3=!1,Wg=new class UDe{constructor(){this.h=this.g=null}add(e,n){const r=mO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},gO=()=>{const t=te.Promise.resolve(void 0);k3=()=>{t.then(qDe)}};var qDe=()=>{for(var t;t=BDe();){try{t.h.call(t.g)}catch(n){GDe(n)}var e=mO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}P3=!1};function Cl(t,e){kt.call(this),this.h=t||1,this.g=e||te,this.j=on(this.qb,this),this.l=Date.now()}function Kg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function Yg(t,e,n){if("function"==typeof t)n&&(t=on(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=on(t.handleEvent,t)}return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function vO(t){t.g=Yg(()=>{t.g=null,t.i&&(t.i=!1,vO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Nt(Cl,kt),(L=Cl.prototype).ga=!1,L.T=null,L.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wt(this,"tick"),this.ga&&(Kg(this),this.start()))}},L.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},L.N=function(){Cl.$.N.call(this),Kg(this),delete this.g};class WDe extends hr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vO(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function R3(t){hr.call(this),this.h=t,this.g={}}Nt(R3,hr);var yO=[];function _O(t,e,n,r){Array.isArray(n)||(n&&(yO[0]=n.toString()),n=yO);for(var i=0;i<n.length;i++){var s=uO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function CO(t){Pg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ug(e)},t),t.g={}}function Ml(){this.g=!0}function io(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function XDe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return qg(n)}catch{return e}}(t,n)+(r?" "+r:"")})}R3.prototype.N=function(){R3.$.N.call(this),CO(this)},R3.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ml.prototype.Ea=function(){this.g=!1},Ml.prototype.info=function(){};var gi={},MO=null;function wl(){return MO=MO||new kt}function wO(t){an.call(this,gi.Ta,t)}function O3(t){const e=wl();Wt(e,new wO(e))}function bO(t,e){an.call(this,gi.STAT_EVENT,t),this.stat=e}function bn(t){const e=wl();Wt(e,new bO(e,t))}function VO(t,e){an.call(this,gi.Ua,t),this.size=e}function F3(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}gi.Ta="serverreachability",Nt(wO,an),gi.STAT_EVENT="statevent",Nt(bO,an),gi.Ua="timingevent",Nt(VO,an);var bl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qg(){}function zO(){}Qg.prototype.h=null;var Zg,B3={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xg(){an.call(this,"d")}function Jg(){an.call(this,"c")}function Vl(){}function U3(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new R3(this),this.P=JDe,this.V=new Cl(t=Dg?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new IO}function IO(){this.i=null,this.g="",this.h=!1}Nt(Xg,an),Nt(Jg,an),Nt(Vl,Qg),Vl.prototype.g=function(){return new XMLHttpRequest},Vl.prototype.i=function(){return{}},Zg=new Vl;var JDe=45e3,ev={},Hl={};function tv(t,e,n){t.L=1,t.v=El(L1(e)),t.s=n,t.S=!0,EO(t,null)}function EO(t,e){t.G=Date.now(),j3(t),t.A=L1(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),OO(n.i,"t",r),t.C=0,n=t.l.J,t.h=new IO,t.g=lF(t.l,n?e:null,!t.s),0<t.O&&(t.M=new WDe(on(t.Pa,t,t.g),t.O)),_O(t.U,t.g,"readystatechange",t.nb),e=t.I?aO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),O3(),function KDe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var f=u.split("_");o=2<=f.length&&"type"==f[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function xO(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function DO(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=ZDe(t,n),i==Hl){4==e&&(t.o=4,bn(14),r=!1),io(t.j,t.m,null,"[Incomplete Response]");break}if(i==ev){t.o=4,bn(15),io(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}io(t.j,t.m,i,null),nv(t,i)}xO(t)&&i!=Hl&&i!=ev&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,bn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),lv(e),e.M=!0,bn(11))):(io(t.j,t.m,n,"[Invalid Chunked Response]"),vi(t),$3(t))}function ZDe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Hl:(n=Number(e.substring(n,r)),isNaN(n)?ev:(r+=1)+n>e.length?Hl:(e=e.slice(r,r+n),t.C=r+n,e))}function j3(t){t.Y=Date.now()+t.P,LO(t,t.P)}function LO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=F3(on(t.lb,t),e)}function Sl(t){t.B&&(te.clearTimeout(t.B),t.B=null)}function $3(t){0==t.l.H||t.J||sF(t.l,t)}function vi(t){Sl(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Kg(t.V),CO(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function nv(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||rv(n.i,t)))if(!t.K&&rv(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Nl(n),Al(n)}cv(n),bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=F3(on(n.ib,n),6e3));if(1>=UO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _i(n,11)}else if((t.K||n.g==t)&&Nl(n),!A3(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const f=l[4];null!=f&&(n.Ga=f,n.l.info("SVER="+n.Ga));const d=l[5];null!=d&&"number"==typeof d&&0<d&&(n.L=r=1.5*d,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(iv(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Te(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=cF(r,r.J?r.pa:null,r.Y),o.K){jO(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Sl(a),j3(a)),r.g=o}else rF(r);0<n.j.length&&Tl(n)}else"stop"!=l[0]&&"close"!=l[0]||_i(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?_i(n,7):av(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}O3()}catch{}}function AO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(pl(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function tLe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(pl(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function eLe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(pl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(L=U3.prototype).setTimeout=function(t){this.P=t},L.nb=function(t){t=t.target;const e=this.M;e&&3==X2(t)?e.l():this.Pa(t)},L.Pa=function(t){try{if(t==this.g)e:{const u=X2(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Dg||this.g&&(this.h.h||this.g.ja()||XO(this.g)))){this.J||4!=u||7==e||O3(),Sl(this);var n=this.g.da();this.ca=n;t:if(xO(this)){var r=XO(this.g);t="";var i=r.length,s=4==X2(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vi(this),$3(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function YDe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A3(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,bn(12),vi(this),$3(this);break e}io(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nv(this,n)}this.S?(DO(this,u,o),Dg&&this.i&&3==u&&(_O(this.U,this.V,"tick",this.mb),this.V.start())):(io(this.j,this.m,o,null),nv(this,o)),4==u&&vi(this),this.i&&!this.J&&(4==u?sF(this.l,this):(this.i=!1,j3(this)))}else(function _Le(t){const e={};t=(t.g&&2<=X2(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(A3(t[r]))continue;var n=$De(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function PDe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,bn(12)):(this.o=0,bn(13)),vi(this),$3(this)}}}catch{}},L.mb=function(){if(this.g){var t=X2(this.g),e=this.g.ja();this.C<e.length&&(Sl(this),DO(this,t,e),this.i&&4!=t&&j3(this))}},L.cancel=function(){this.J=!0,vi(this)},L.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function QDe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(O3(),bn(17)),vi(this),this.o=2,$3(this)):LO(this,this.Y-t)};var TO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof yi){this.h=t.h,zl(this,t.j),this.s=t.s,this.g=t.g,Il(this,t.m),this.l=t.l;var e=t.i,n=new W3;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),NO(this,n),this.o=t.o}else t&&(e=String(t).match(TO))?(this.h=!1,zl(this,e[1]||"",!0),this.s=G3(e[2]||""),this.g=G3(e[3]||"",!0),Il(this,e[4]),this.l=G3(e[5]||"",!0),NO(this,e[6]||"",!0),this.o=G3(e[7]||"")):(this.h=!1,this.i=new W3(null,this.h))}function L1(t){return new yi(t)}function zl(t,e,n){t.j=n?G3(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Il(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function NO(t,e,n){e instanceof W3?(t.i=e,function cLe(t,e){e&&!t.j&&(pr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(PO(this,r),OO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=q3(e,oLe)),t.i=new W3(e,t.h))}function Te(t,e,n){t.i.set(e,n)}function El(t){return Te(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function G3(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function q3(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,rLe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rLe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(q3(e,kO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(q3(e,kO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(q3(n,"/"==n.charAt(0)?sLe:iLe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",q3(n,aLe)),t.join("")};var kO=/[#\/\?@]/g,iLe=/[#\?:]/g,sLe=/[#\?]/g,oLe=/[#\?@]/g,aLe=/#/g;function W3(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function pr(t){t.g||(t.g=new Map,t.h=0,t.i&&function nLe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function PO(t,e){pr(t),e=so(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function RO(t,e){return pr(t),e=so(t,e),t.g.has(e)}function OO(t,e,n){PO(t,e),0<n.length&&(t.i=null,t.g.set(so(t,e),Eg(n)),t.h+=n.length)}function so(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FO(t){this.l=t||uLe,t=te.PerformanceNavigationTiming?0<(t=te.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(L=W3.prototype).add=function(t,e){pr(this),this.i=null,t=so(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},L.forEach=function(t,e){pr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},L.ta=function(){pr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},L.Z=function(t){pr(this);let e=[];if("string"==typeof t)RO(this,t)&&(e=e.concat(this.g.get(so(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},L.set=function(t,e){return pr(this),this.i=null,RO(this,t=so(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},L.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},L.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var uLe=10;function BO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function UO(t){return t.h?1:t.g?t.g.size:0}function rv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function iv(t,e){t.g?t.g.add(e):t.h=e}function jO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function $O(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Eg(t.i)}FO.prototype.cancel=function(){if(this.i=$O(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var fLe=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function dLe(){this.g=new fLe}function hLe(t,e,n){const r=n||"";try{AO(t,function(i,s){let o=i;L3(i)&&(o=qg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function K3(t){this.l=t.fc||null,this.j=t.ob||!1}function Dl(t,e){kt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=sv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nt(K3,Qg),K3.prototype.g=function(){return new Dl(this.l,this.j)},K3.prototype.i=function(t){return function(){return t}}({}),Nt(Dl,kt);var sv=0;function GO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Y3(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Q3(t)}function Q3(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(L=Dl.prototype).open=function(t,e){if(this.readyState!=sv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Q3(this)},L.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},L.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Y3(this)),this.readyState=sv},L.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Q3(this)),this.g&&(this.readyState=3,Q3(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},L.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Y3(this):Q3(this),3==this.readyState&&GO(this)}},L.Za=function(t){this.g&&(this.response=this.responseText=t,Y3(this))},L.Ya=function(t){this.g&&(this.response=t,Y3(this))},L.ka=function(){this.g&&Y3(this)},L.setRequestHeader=function(t,e){this.v.append(t,e)},L.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},L.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Dl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var mLe=te.JSON.parse;function et(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qO,this.L=this.M=!1}Nt(et,kt);var qO="",gLe=/^https?$/i,vLe=["POST","PUT"];function WO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KO(t),Ll(t)}function KO(t){t.F||(t.F=!0,Wt(t,"complete"),Wt(t,"error"))}function YO(t){if(t.h&&typeof zg<"u"&&(!t.C[1]||4!=X2(t)||2!=t.da()))if(t.v&&4==X2(t))Yg(t.La,0,t);else if(Wt(t,"readystatechange"),4==X2(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(TO)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!gLe.test(i?i.toLowerCase():"")}n=r}if(n)Wt(t,"complete"),Wt(t,"success");else{t.m=6;try{var s=2<X2(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",KO(t)}}finally{Ll(t)}}}function Ll(t,e){if(t.g){QO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Wt(t,"ready");try{n.onreadystatechange=r}catch{}}}function QO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}function X2(t){return t.g?t.g.readyState:0}function XO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case qO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function JO(t){let e="";return Pg(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ov(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=JO(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Te(t,e,n))}function X3(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ZO(t){this.Ga=0,this.j=[],this.l=new Ml,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=X3("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=X3("baseRetryDelayMs",5e3,t),this.hb=X3("retryDelaySeedMs",1e4,t),this.eb=X3("forwardChannelMaxRetries",2,t),this.xa=X3("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FO(t&&t.concurrentRequestLimit),this.Ja=new dLe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function av(t){if(eF(t),3==t.H){var e=t.W++,n=L1(t.I);if(Te(n,"SID",t.K),Te(n,"RID",e),Te(n,"TYPE","terminate"),J3(t,n),(e=new U3(t,t.l,e)).L=2,e.v=El(L1(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&te.Image&&((new Image).src=e.v,n=!0),n||(e.g=lF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),j3(e)}aF(t)}function Al(t){t.g&&(lv(t),t.g.cancel(),t.g=null)}function eF(t){Al(t),t.u&&(te.clearTimeout(t.u),t.u=null),Nl(t),t.i.cancel(),t.m&&("number"==typeof t.m&&te.clearTimeout(t.m),t.m=null)}function Tl(t){if(!BO(t.i)&&!t.m){t.m=!0;var e=t.Na;k3||gO(),P3||(k3(),P3=!0),Wg.add(e,t),t.C=0}}function tF(t,e){var n;n=e?e.m:t.W++;const r=L1(t.I);Te(r,"SID",t.K),Te(r,"RID",n),Te(r,"AID",t.V),J3(t,r),t.o&&t.s&&ov(r,t.o,t.s),n=new U3(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),iv(t.i,n),tv(n,r,e)}function J3(t,e){t.na&&Pg(t.na,function(n,r){Te(e,r,n)}),t.h&&AO({},function(n,r){Te(e,r,n)})}function nF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?on(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{hLe(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rF(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;k3||gO(),P3||(k3(),P3=!0),Wg.add(e,t),t.A=0}}function cv(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=F3(on(t.Ma,t),oF(t,t.A)),t.A++,0))}function lv(t){null!=t.B&&(te.clearTimeout(t.B),t.B=null)}function iF(t){t.g=new U3(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=L1(t.wa);Te(e,"RID","rpc"),Te(e,"SID",t.K),Te(e,"AID",t.V),Te(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Te(e,"TO",t.qa),Te(e,"TYPE","xmlhttp"),J3(t,e),t.o&&t.s&&ov(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=El(L1(e)),n.s=null,n.S=!0,EO(n,t)}function Nl(t){null!=t.v&&(te.clearTimeout(t.v),t.v=null)}function sF(t,e){var n=null;if(t.g==e){Nl(t),lv(t),t.g=null;var r=2}else{if(!rv(t.i,e))return;n=e.F,jO(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Wt(r=wl(),new VO(r,n)),Tl(t)}else rF(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function CLe(t,e){return!(UO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=F3(on(t.Na,t,e),oF(t,t.C)),t.C++,0)))}(t,e)||2==r&&cv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:_i(t,5);break;case 4:_i(t,10);break;case 3:_i(t,6);break;default:_i(t,2)}}function oF(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function _i(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=on(t.pb,t);n||(n=new yi("//www.google.com/images/cleardot.gif"),te.location&&"http"==te.location.protocol||zl(n,"https"),El(n)),function pLe(t,e){const n=new Ml;if(te.Image){const r=new Image;r.onload=ml(xl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ml(xl,n,r,"TestLoadImage: error",!1,e),r.onabort=ml(xl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ml(xl,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else bn(2);t.H=0,t.h&&t.h.za(e),aF(t),eF(t)}function aF(t){if(t.H=0,t.ma=[],t.h){const e=$O(t.i);(0!=e.length||0!=t.j.length)&&(nO(t.ma,e),nO(t.ma,t.j),t.i.i.length=0,Eg(t.j),t.j.length=0),t.h.ya()}}function cF(t,e,n){var r=n instanceof yi?L1(n):new yi(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Il(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new yi(null);r&&zl(s,r),e&&(s.g=e),i&&Il(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Te(r,n,e),Te(r,"VER",t.ra),J3(t,r),r}function lF(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new et(n&&t.Ha&&!t.va?new K3({ob:!0}):t.va)).Oa(t.J),e}function uF(){}function kl(){if(ro&&!(10<=Number(ADe)))throw Error("Environmental error: no available transport.")}function Kn(t,e){kt.call(this),this.g=new ZO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!A3(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A3(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new oo(this)}function fF(t){Xg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function dF(){Jg.call(this),this.status=1}function oo(t){this.g=t}function b2(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function uv(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function be(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(L=et.prototype).Oa=function(t){this.M=t},L.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zg.g(),this.C=function SO(t){return t.h||(t.h=t.i())}(this.u?this.u:Zg),this.g.onreadystatechange=on(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void WO(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=te.FormData&&t instanceof te.FormData,!(0<=tO(vLe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QO(this),0<this.B&&((this.L=function yLe(t){return ro&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.ua,this)):this.A=Yg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){WO(this,s)}},L.ua=function(){typeof zg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wt(this,"timeout"),this.abort(8))},L.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wt(this,"complete"),Wt(this,"abort"),Ll(this))},L.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ll(this,!0)),et.$.N.call(this)},L.La=function(){this.s||(this.G||this.v||this.l?YO(this):this.kb())},L.kb=function(){YO(this)},L.isActive=function(){return!!this.g},L.da=function(){try{return 2<X2(this)?this.g.status:-1}catch{return-1}},L.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},L.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mLe(e)}},L.Ia=function(){return this.m},L.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(L=ZO.prototype).ra=8,L.H=1,L.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new U3(this,this.l,t);let s=this.s;if(this.U&&(s?(s=aO(s),lO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nF(this,i,e),Te(n=L1(this.I),"RID",t),Te(n,"CVER",22),this.F&&Te(n,"X-HTTP-Session-Id",this.F),J3(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(JO(s)))+"&"+e:this.o&&ov(n,this.o,s)),iv(this.i,i),this.bb&&Te(n,"TYPE","init"),this.P?(Te(n,"$req",e),Te(n,"SID","null"),i.aa=!0,tv(i,n,null)):tv(i,n,e),this.H=2}}else 3==this.H&&(t?tF(this,t):0==this.j.length||BO(this.i)||tF(this))},L.Ma=function(){if(this.u=null,iF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=F3(on(this.jb,this),t)}},L.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bn(10),Al(this),iF(this))},L.ib=function(){null!=this.v&&(this.v=null,Al(this),cv(this),bn(19))},L.pb=function(t){t?(this.l.info("Successfully pinged google.com"),bn(2)):(this.l.info("Failed to ping google.com"),bn(1))},L.isActive=function(){return!!this.h&&this.h.isActive(this)},(L=uF.prototype).Ba=function(){},L.Aa=function(){},L.za=function(){},L.ya=function(){},L.isActive=function(){return!0},L.Va=function(){},kl.prototype.g=function(t,e){return new Kn(t,e)},Nt(Kn,kt),Kn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cF(t,null,t.Y),Tl(t)},Kn.prototype.close=function(){av(this.g)},Kn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=qg(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Tl(e)},Kn.prototype.N=function(){this.g.h=null,delete this.j,av(this.g),delete this.g,Kn.$.N.call(this)},Nt(fF,Xg),Nt(dF,Jg),Nt(oo,uF),oo.prototype.Ba=function(){Wt(this.g,"a")},oo.prototype.Aa=function(t){Wt(this.g,new fF(t))},oo.prototype.za=function(t){Wt(this.g,new dF)},oo.prototype.ya=function(){Wt(this.g,"b")},Nt(b2,function MLe(){this.blockSize=-1}),b2.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},b2.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)uv(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){uv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){uv(this,r),i=0;break}}this.h=i,this.i+=e},b2.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var wLe={};function fv(t){return-128<=t&&128>t?function xDe(t,e){var n=wLe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new be([0|e],0>e?-1:0)}):new be([0|t],0>t?-1:0)}function J2(t){if(isNaN(t)||!isFinite(t))return ao;if(0>t)return Kt(J2(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=dv;return new be(e,0)}var dv=4294967296,ao=fv(0),hv=fv(1),pF=fv(16777216);function A1(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function l2(t){return-1==t.h}function Kt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new be(n,~t.h).add(hv)}function Pl(t,e){return t.add(Kt(e))}function Rl(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Z3(t,e){this.g=t,this.h=e}function Ol(t,e){if(A1(e))throw Error("division by zero");if(A1(t))return new Z3(ao,ao);if(l2(t))return e=Ol(Kt(t),e),new Z3(Kt(e.g),Kt(e.h));if(l2(e))return e=Ol(t,Kt(e)),new Z3(Kt(e.g),e.h);if(30<t.g.length){if(l2(t)||l2(e))throw Error("slowDivide_ only works with positive integers.");for(var n=hv,r=e;0>=r.X(t);)n=mF(n),r=mF(r);var i=co(n,1),s=co(r,1);for(r=co(r,2),n=co(n,2);!A1(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=co(r,1),n=co(n,1)}return e=Pl(t,i.R(e)),new Z3(i,e)}for(i=ao;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=J2(n)).R(e);l2(o)||0<o.X(t);)o=(s=J2(n-=r)).R(e);A1(s)&&(s=hv),i=i.add(s),t=Pl(t,o)}return new Z3(i,t)}function mF(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new be(n,t.h)}function co(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new be(i,t.h)}(L=be.prototype).ea=function(){if(l2(this))return-Kt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:dv+r)*e,e*=dv}return t},L.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(A1(this))return"0";if(l2(this))return"-"+Kt(this).toString(t);for(var e=J2(Math.pow(t,6)),n=this,r="";;){var i=Ol(n,e).g,s=((0<(n=Pl(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(A1(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},L.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},L.X=function(t){return l2(t=Pl(this,t))?-1:A1(t)?0:1},L.abs=function(){return l2(this)?Kt(this):this},L.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new be(n,-2147483648&n[n.length-1]?-1:0)},L.R=function(t){if(A1(this)||A1(t))return ao;if(l2(this))return l2(t)?Kt(this).R(Kt(t)):Kt(Kt(this).R(t));if(l2(t))return Kt(this.R(Kt(t)));if(0>this.X(pF)&&0>t.X(pF))return J2(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,Rl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Rl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Rl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Rl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new be(n,0)},L.gb=function(t){return Ol(this,t).h},L.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new be(n,this.h&t.h)},L.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new be(n,this.h|t.h)},L.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new be(n,this.h^t.h)},kl.prototype.createWebChannel=kl.prototype.g,Kn.prototype.send=Kn.prototype.u,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,bl.NO_ERROR=0,bl.TIMEOUT=8,bl.HTTP_ERROR=6,HO.COMPLETE="complete",zO.EventType=B3,B3.OPEN="a",B3.CLOSE="b",B3.ERROR="c",B3.MESSAGE="d",kt.prototype.listen=kt.prototype.O,et.prototype.listenOnce=et.prototype.P,et.prototype.getLastError=et.prototype.Sa,et.prototype.getLastErrorCode=et.prototype.Ia,et.prototype.getStatus=et.prototype.da,et.prototype.getResponseJson=et.prototype.Wa,et.prototype.getResponseText=et.prototype.ja,et.prototype.send=et.prototype.ha,et.prototype.setWithCredentials=et.prototype.Oa,b2.prototype.digest=b2.prototype.l,b2.prototype.reset=b2.prototype.reset,b2.prototype.update=b2.prototype.j,be.prototype.add=be.prototype.add,be.prototype.multiply=be.prototype.R,be.prototype.modulo=be.prototype.gb,be.prototype.compare=be.prototype.X,be.prototype.toNumber=be.prototype.ea,be.prototype.toString=be.prototype.toString,be.prototype.getBits=be.prototype.D,be.fromNumber=J2,be.fromString=function hF(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Kt(hF(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=J2(Math.pow(e,8)),r=ao,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=J2(Math.pow(e,s)),r=r.R(s).add(J2(o))):r=(r=r.R(n)).add(J2(o))}return r};var bLe=w2.createWebChannelTransport=function(){return new kl},VLe=w2.getStatEventTarget=function(){return wl()},pv=w2.ErrorCode=bl,HLe=w2.EventType=HO,SLe=w2.Event=gi,gF=w2.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zLe=w2.FetchXmlHttpFactory=K3,Fl=w2.WebChannel=zO,ILe=w2.XhrIo=et,ELe=w2.Md5=b2,lo=w2.Integer=be;const vF="@firebase/firestore";class Pt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");let uo="9.23.0";const mr=new Fs("@firebase/firestore");function mv(){return mr.logLevel}function H(t,...e){if(mr.logLevel<=ge.DEBUG){const n=e.map(gv);mr.debug(`Firestore (${uo}): ${t}`,...n)}}function ct(t,...e){if(mr.logLevel<=ge.ERROR){const n=e.map(gv);mr.error(`Firestore (${uo}): ${t}`,...n)}}function V2(t,...e){if(mr.logLevel<=ge.WARN){const n=e.map(gv);mr.warn(`Firestore (${uo}): ${t}`,...n)}}function gv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function k(t="Unexpected state"){const e=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: `+t;throw ct(e),new Error(e)}function O(t,e){t||k()}function D(t,e){return t}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends a2{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class yF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xLe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class DLe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LLe{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new bt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(O("string"==typeof r.accessToken),new yF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e),new Pt(e)}}class ALe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class TLe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new ALe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _F{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NLe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(O("string"==typeof n.token),this.T=n.token,new _F(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kLe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class CF{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=kLe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Q(t,e){return t<e?-1:t>e?1:0}function fo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class We{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new We(0,0))}static max(){return new U(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class e4{constructor(e,n,r){void 0===n?n=0:n>e.length&&k(),void 0===r?r=e.length-n:r>e.length-n&&k(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===e4.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof e4?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends e4{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const PLe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends e4{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return PLe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(pe.fromString(e))}static fromName(e){return new x(pe.fromString(e).popFirst(5))}static empty(){return new x(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new pe(e.slice()))}}function bF(t){return new Yn(t.readTime,t.key,-1)}class Yn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yn(U.min(),x.empty(),-1)}static max(){return new Yn(U.max(),x.empty(),-1)}}function yv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:Q(t.largestBatchId,e.largestBatchId))}const VF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FLe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gr(t){return _v.apply(this,arguments)}function _v(){return _v=m(function*(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==VF)throw t;H("LocalStore","Unexpectedly lost primary lease")}),_v.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new _((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function vr(t){return"IndexedDbTransactionError"===t.name}let Qn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function r4(t){return null==t}function i4(t){return 0===t&&1/t==-1/0}function AF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class De{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gl(this.root,e,this.comparator,!0)}}class Gl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=s??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();const e=this.left.check();if(e!==this.right.check())throw k();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1,Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Yt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ne{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NF(this.data.getIterator())}getIteratorFrom(e){return new NF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ne(this.comparator);return n.data=e,n}}class NF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Ne(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class kF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kF("Invalid base64 string: "+i):i}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const lAe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(t){if(O(!!t),"string"==typeof t){let e=0;const n=lAe.exec(t);if(O(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function T1(t){return"string"==typeof t?Vt.fromBase64String(t):Vt.fromUint8Array(t)}function ql(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wl(t){const e=t.mapValue.fields.__previous_value__;return ql(e)?Wl(e):e}function s4(t){const e=_r(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}class uAe{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class wi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wi&&e.projectId===this.projectId&&e.database===this.database}}const Cr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ql(t)?4:FF(t)?9007199254740991:10:k()}function e1(t,e){if(t===e)return!0;const n=Mr(t);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return s4(t).isEqual(s4(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=_r(r.timestampValue),o=_r(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,T1(t.bytesValue).isEqual(T1(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return tt(r.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tt(r.integerValue)===tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=tt(r.doubleValue),o=tt(i.doubleValue);return s===o?i4(s)===i4(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return fo(t.arrayValue.values||[],e.arrayValue.values||[],e1);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(AF(s)!==AF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!e1(s[a],o[a])))return!1;return!0}(t,e);default:return k()}var i}function o4(t,e){return void 0!==(t.values||[]).find(n=>e1(n,e))}function wr(t,e){if(t===e)return 0;const n=Mr(t),r=Mr(e);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=tt(i.integerValue||i.doubleValue),a=tt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return PF(t.timestampValue,e.timestampValue);case 4:return PF(s4(t),s4(e));case 5:return Q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=T1(i),a=T1(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=Q(o[c],a[c]);if(0!==l)return l}return Q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Q(tt(i.latitude),tt(s.latitude));return 0!==o?o:Q(tt(i.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=wr(o[c],a[c]);if(l)return l}return Q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Cr.mapValue&&s===Cr.mapValue)return 0;if(i===Cr.mapValue)return 1;if(s===Cr.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const f=Q(a[u],l[u]);if(0!==f)return f;const d=wr(o[a[u]],c[l[u]]);if(0!==d)return d}return Q(a.length,l.length)}(t.mapValue,e.mapValue);default:throw k()}}function PF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Q(t,e);const n=_r(t),r=_r(e),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function po(t){return wv(t)}function wv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=_r(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?T1(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=wv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${wv(r.fields[a])}`;return s+"}"}(t.mapValue):k();var e}function bi(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bv(t){return!!t&&"integerValue"in t}function a4(t){return!!t&&"arrayValue"in t}function RF(t){return!!t&&"nullValue"in t}function OF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ql(t){return!!t&&"mapValue"in t}function c4(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=c4(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=c4(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=c4(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=c4(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return e1(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ql(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qt(c4(this.value))}}function jF(t){const e=[];return yr(t.fields,(n,r)=>{const i=new lt([n]);if(Ql(r)){const s=jF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}class ke{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ke(e,0,U.min(),U.min(),U.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,i){return new ke(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new ke(e,2,n,U.min(),U.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new ke(e,3,n,U.min(),U.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class br{constructor(e,n){this.position=e,this.inclusive=n}}function $F(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):wr(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function GF(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!e1(t.position[n],e.position[n]))return!1;return!0}class mo{constructor(e,n="asc"){this.field=e,this.dir=n}}function hAe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class qF{}class ce extends qF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new pAe(e,n,r):"array-contains"===n?new vAe(e,r):"in"===n?new JF(e,r):"not-in"===n?new yAe(e,r):"array-contains-any"===n?new _Ae(e,r):new ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new mAe(e,r):new gAe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(wr(n,this.value)):null!==n&&Mr(this.value)===Mr(n)&&this.matchesComparison(wr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ve extends qF{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ve(e,n)}matches(e){return go(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function go(t){return"and"===t.op}function Hv(t){return function WF(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}(t)&&go(t)}function Sv(t){if(t instanceof ce)return t.field.canonicalString()+t.op.toString()+po(t.value);if(Hv(t))return t.filters.map(e=>Sv(e)).join(",");{const e=t.filters.map(n=>Sv(n)).join(",");return`${t.op}(${e})`}}function KF(t,e){return t instanceof ce?(n=t,(r=e)instanceof ce&&n.op===r.op&&n.field.isEqual(r.field)&&e1(n.value,r.value)):t instanceof Ve?function(n,r){return r instanceof Ve&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&KF(s,r.filters[o]),!0)}(t,e):void k();var n,r}function QF(t){return t instanceof ce?`${(e=t).field.canonicalString()} ${e.op} ${po(e.value)}`:t instanceof Ve?function(e){return e.op.toString()+" {"+e.getFilters().map(QF).join(" ,")+"}"}(t):"Filter";var e}class pAe extends ce{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class mAe extends ce{constructor(e,n){super(e,"in",n),this.keys=XF(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gAe extends ce{constructor(e,n){super(e,"not-in",n),this.keys=XF(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XF(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class vAe extends ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a4(n)&&o4(n.arrayValue,this.value)}}class JF extends ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&o4(this.value.arrayValue,n)}}class yAe extends ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(o4(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!o4(this.value.arrayValue,n)}}class _Ae extends ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a4(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>o4(this.value.arrayValue,r))}}class CAe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function zv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new CAe(t,e,n,r,i,s,o)}function Vi(t){const e=D(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),r4(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>po(r)).join(",")),e.dt=n}return e.dt}function l4(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hAe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GF(t.startAt,e.startAt)&&GF(t.endAt,e.endAt)}function Xl(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class N1{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function vo(t){return new N1(t)}function nB(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Iv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Zl(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Ev(t){return null!==t.collectionGroup}function Hi(t){const e=D(t);if(null===e.wt){e.wt=[];const n=Zl(e),r=Iv(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new mo(n)),e.wt.push(new mo(lt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new mo(lt.keyField(),s))}}}return e.wt}function Vn(t){const e=D(t);if(!e._t)if("F"===e.limitType)e._t=zv(e.path,e.collectionGroup,Hi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Hi(e))n.push(new mo(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new br(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new br(e.startAt.position,e.startAt.inclusive):null;e._t=zv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function xv(t,e){e.getFirstInequalityField(),Zl(t);const n=t.filters.concat([e]);return new N1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function e8(t,e,n){return new N1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function u4(t,e){return l4(Vn(t),Vn(e))&&t.limitType===e.limitType}function rB(t){return`${Vi(Vn(t))}|lt:${t.limitType}`}function Dv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>QF(r)).join(", ")}]`),r4(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>po(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>po(r)).join(",")),`Target(${n})`}(Vn(t))}; limitType=${t.limitType})`}function f4(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Hi(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=$F(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Hi(n),r)||n.endAt&&!function(i,s,o){const a=$F(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Hi(n),r)));var n,r}function sB(t){return(e,n)=>{let r=!1;for(const i of Hi(t)){const s=MAe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function MAe(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return null!==a&&null!==c?wr(a,c):k()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return k()}}class k1{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return TF(this.inner)}size(){return this.innerSize}}const wAe=new De(x.comparator);function On(){return wAe}const oB=new De(x.comparator);function d4(...t){let e=oB;for(const n of t)e=e.insert(n.key,n);return e}function aB(t){let e=oB;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function t1(){return h4()}function cB(){return h4()}function h4(){return new k1(t=>t.toString(),(t,e)=>t.isEqual(e))}const bAe=new De(x.comparator),VAe=new Ne(x.comparator);function se(...t){let e=VAe;for(const n of t)e=e.add(n);return e}const HAe=new Ne(Q);function lB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:i4(e)?"-0":e}}function uB(t){return{integerValue:""+t}}function fB(t,e){return function SF(t){return"number"==typeof t&&Number.isInteger(t)&&!i4(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?uB(e):lB(t,e)}class t8{constructor(){this._=void 0}}function SAe(t,e,n){return t instanceof yo?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ql(i)&&(i=Wl(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Si?hB(t,e):t instanceof zi?pB(t,e):function(r,i){const s=dB(r,i),o=mB(s)+mB(r.gt);return bv(s)&&bv(r.gt)?uB(o):lB(r.serializer,o)}(t,e)}function zAe(t,e,n){return t instanceof Si?hB(t,e):t instanceof zi?pB(t,e):n}function dB(t,e){return t instanceof _o?bv(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class yo extends t8{}class Si extends t8{constructor(e){super(),this.elements=e}}function hB(t,e){const n=gB(e);for(const r of t.elements)n.some(i=>e1(i,r))||n.push(r);return{arrayValue:{values:n}}}class zi extends t8{constructor(e){super(),this.elements=e}}function pB(t,e){let n=gB(e);for(const r of t.elements)n=n.filter(i=>!e1(i,r));return{arrayValue:{values:n}}}class _o extends t8{constructor(e,n){super(),this.serializer=e,this.gt=n}}function mB(t){return tt(t.integerValue||t.doubleValue)}function gB(t){return a4(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class EAe{constructor(e,n){this.version=e,this.transformResults=n}}class je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function n8(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class r8{}function vB(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Mo(t.key,je.none()):new Co(t.key,t.data,je.none());{const n=t.data,r=Qt.empty();let i=new Ne(lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new P1(t.key,r,new Rn(i.toArray()),je.none())}}function xAe(t,e,n){t instanceof Co?function(r,i,s){const o=r.value.clone(),a=CB(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof P1?function(r,i,s){if(!n8(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=CB(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(_B(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function m4(t,e,n,r){return t instanceof Co?function(i,s,o,a){if(!n8(i.precondition,s))return o;const c=i.value.clone(),l=MB(i.fieldTransforms,a,s);return c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof P1?function(i,s,o,a){if(!n8(i.precondition,s))return o;const c=MB(i.fieldTransforms,a,s),l=s.data;return l.setAll(_B(i)),l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):(o=n,n8(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function DAe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dB(r.transform,i||null);null!=s&&(null===n&&(n=Qt.empty()),n.set(r.field,s))}return n||null}function yB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&fo(n,r,(i,s)=>function IAe(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Si&&r instanceof Si||n instanceof zi&&r instanceof zi?fo(n.elements,r.elements,e1):n instanceof _o&&r instanceof _o?e1(n.gt,r.gt):n instanceof yo&&r instanceof yo);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Co extends r8{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class P1 extends r8{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _B(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CB(t,e,n){const r=new Map;O(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zAe(o,a,n[i]))}return r}function MB(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,SAe(s,o,e))}return r}class Mo extends r8{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Av extends r8{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xAe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=m4(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=m4(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=vB(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,r)=>yB(n,r))&&fo(this.baseMutations,e.baseMutations,(n,r)=>yB(n,r))}}class Nv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){O(e.mutations.length===r.length);let i=bAe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Nv(e,n,r,i)}}class kv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class AAe{constructor(e,n){this.count=e,this.unchangedNames=n}}var gt,me;function bB(t){if(void 0===t)return ct("GRPC error has no .code"),M.UNKNOWN;switch(t){case gt.OK:return M.OK;case gt.CANCELLED:return M.CANCELLED;case gt.UNKNOWN:return M.UNKNOWN;case gt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case gt.INTERNAL:return M.INTERNAL;case gt.UNAVAILABLE:return M.UNAVAILABLE;case gt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case gt.NOT_FOUND:return M.NOT_FOUND;case gt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case gt.ABORTED:return M.ABORTED;case gt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case gt.DATA_LOSS:return M.DATA_LOSS;default:return k()}}(me=gt||(gt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";class Pv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return i8}static getOrCreateInstance(){return null===i8&&(i8=new Pv),i8}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let i8=null;const TAe=new lo([4294967295,4294967295],0);function HB(t){const e=function VB(){return new TextEncoder}().encode(t),n=new ELe;return n.update(e),new Uint8Array(n.digest())}function SB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new lo([n,r],0),new lo([i,s],0)]}class Rv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new g4(`Invalid padding: ${n}`);if(r<0)throw new g4(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new g4(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new g4(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=lo.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(lo.fromNumber(r)));return 1===i.compare(TAe)&&(i=new lo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=HB(e),[r,i]=SB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Rv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=HB(e),[r,i]=SB(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class g4 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class v4{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,y4.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new v4(U.min(),i,new De(Q),On(),se())}}class y4{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new y4(r,n,se(),se(),se())}}class s8{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class zB{constructor(e,n){this.targetId=e,this.Vt=n}}class IB{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class EB{constructor(){this.St=0,this.Dt=DB(),this.Ct=Vt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=se(),n=se(),r=se();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:k()}}),new y4(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=DB()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class NAe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=On(),this.zt=xB(),this.Wt=new De(Q)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:k()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Xl(o))if(0===i){const a=new x(o.path);this.Yt(r,a,ke.newNoDocument(a,U.min()))}else O(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=Pv.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(l,u,f){var d,h,p,g,v,C;const y={localCacheCount:u,existenceFilterCount:f.count},w=f.unchangedNames;return w&&(y.bloomFilter={applied:0===l,hashCount:null!==(d=w?.hashCount)&&void 0!==d?d:0,bitmapLength:null!==(g=null===(p=null===(h=w?.bits)||void 0===h?void 0:h.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(C=null===(v=w?.bits)||void 0===v?void 0:v.padding)&&void 0!==C?C:0}),y}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,l;try{c=T1(s).toUint8Array()}catch(u){if(u instanceof kF)return V2("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new Rv(c,o,a)}catch(u){return V2(u instanceof g4?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Xl(a.target)){const c=new x(a.target.path);null!==this.jt.get(c)||this.ae(o,c)||this.Yt(o,c,ke.newNoDocument(c,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=se();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new v4(e,n,this.Wt,this.jt,r);return this.jt=On(),this.zt=xB(),this.Wt=new De(Q),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new EB,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ne(Q),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||H("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new EB),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function xB(){return new De(x.comparator)}function DB(){return new De(x.comparator)}const kAe={asc:"ASCENDING",desc:"DESCENDING"},PAe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RAe={and:"AND",or:"OR"};class OAe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ov(t,e){return t.useProto3Json||r4(e)?e:{value:e}}function wo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FAe(t,e){return wo(t,e.toTimestamp())}function ut(t){return O(!!t),U.fromTimestamp(function(e){const n=_r(e);return new We(n.seconds,n.nanos)}(t))}function Fv(t,e){return(n=t,new pe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function AB(t){const e=pe.fromString(t);return O(UB(e)),e}function _4(t,e){return Fv(t.databaseId,e.path)}function n1(t,e){const n=AB(e);if(n.get(1)!==t.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(NB(n))}function Bv(t,e){return Fv(t.databaseId,e)}function C4(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NB(t){return O(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function kB(t,e,n){return{name:_4(t,e),fields:n.value.mapValue.fields}}function RB(t,e){return{documents:[Bv(t,e.path)]}}function jv(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Bv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return BB(Ve.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Vr((u=l).field),direction:GAe(u.dir)};var u})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Ov(t,e.limit);var a,c;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),n}function OB(t){let e=function TB(t){const e=AB(t);return 4===e.length?pe.emptyPath():NB(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const f=FB(u);return f instanceof Ve&&Hv(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>{return new mo(bo((f=u).field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction));var f}));let a=null;n.limit&&(a=function(u){let f;return f="object"==typeof u?u.value:u,r4(f)?null:f}(n.limit));let c=null;var u;n.startAt&&(c=new br((u=n.startAt).values||[],!!u.before));let l=null;return n.endAt&&(l=function(u){return new br(u.values||[],!u.before)}(n.endAt)),function tB(t,e,n,r,i,s,o,a){return new N1(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function FB(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=bo(e.unaryFilter.field);return ce.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=bo(e.unaryFilter.field);return ce.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=bo(e.unaryFilter.field);return ce.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=bo(e.unaryFilter.field);return ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(t):void 0!==t.fieldFilter?ce.create(bo((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Ve.create(e.compositeFilter.filters.map(n=>FB(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return k()}}(e.compositeFilter.op))}(t):k();var e}function GAe(t){return kAe[t]}function qAe(t){return PAe[t]}function WAe(t){return RAe[t]}function Vr(t){return{fieldPath:t.canonicalString()}}function bo(t){return lt.fromServerFormat(t.fieldPath)}function BB(t){return t instanceof ce?function(e){if("=="===e.op){if(OF(e.value))return{unaryFilter:{field:Vr(e.field),op:"IS_NAN"}};if(RF(e.value))return{unaryFilter:{field:Vr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(OF(e.value))return{unaryFilter:{field:Vr(e.field),op:"IS_NOT_NAN"}};if(RF(e.value))return{unaryFilter:{field:Vr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vr(e.field),op:qAe(e.op),value:e.value}}}(t):t instanceof Ve?function(e){const n=e.getFilters().map(r=>BB(r));return 1===n.length?n[0]:{compositeFilter:{op:WAe(e.op),filters:n}}}(t):k()}function KAe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class R1{constructor(e,n,r,i,s=U.min(),o=U.min(),a=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new R1(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new R1(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new R1(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new R1(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jB{constructor(e){this.fe=e}}function $v(t){const e=OB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?e8(e,e.limit,"L"):e}class Di{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(tt(e.integerValue));else if("doubleValue"in e){const r=tt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),i4(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(T1(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?FF(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):k()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),x.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Di.Ve=new Di;class rTe{constructor(){this.rn=new Qv}addToCollectionParentIndex(e,n){return this.rn.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(Yn.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(Yn.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class Qv{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ne(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ne(pe.comparator)).toArray()}}new Uint8Array(0);class ln{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class Ai{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ai(0)}static Mn(){return new Ai(-1)}}class lTe{constructor(){this.changes=new k1(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ke.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dTe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class mU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&m4(r.mutation,i,Rn.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=t1();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=d4();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=t1();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=On();const o=h4(),a=h4();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof P1)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),m4(u.mutation,l,u.mutation.getFieldMask(),We.now())):o.set(l.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var f;return a.set(l,new dTe(u,null!==(f=o.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=h4();let i=new De((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||Rn.empty();u=a.applyToLocalView(l,u),r.set(c,u);const f=(i.get(a.batchId)||se()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,f=cB();u.forEach(d=>{if(!s.has(d)){const h=vB(n.get(d),r.get(d));null!==h&&f.set(d,h),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Ev(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(t1());let a=-1,c=s;return o.next(l=>_.forEach(l,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?_.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,se())).next(u=>({batchId:a,changes:aB(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=d4();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=d4();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const c=(l=n,u=a.child(i),new N1(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,f)=>{s=s.insert(u,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const l=c.getKey();null===s.get(l)&&(s=s.insert(l,ke.newInvalidDocument(l)))});let o=d4();return s.forEach((a,c)=>{const l=i.get(a);void 0!==l&&m4(l.mutation,c,Rn.empty(),We.now()),f4(n,c)&&(o=o.insert(a,c))}),o})}}class hTe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return _.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ut(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:$v(r.bundledQuery),readTime:ut(r.readTime)}),_.resolve();var r}}class pTe{constructor(){this.overlays=new De(x.comparator),this.ls=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const r=t1();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=t1(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=t1(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=t1(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return _.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kv(n,r));let s=this.ls.get(n);void 0===s&&(s=se(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class Xv{constructor(){this.fs=new Ne(Ot.ds),this.ws=new Ne(Ot._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ot(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new x(new pe([])),r=new Ot(n,e),i=new Ot(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new x(new pe([])),r=new Ot(n,e),i=new Ot(n,e+1);let s=se();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ot(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return x.comparator(e.key,n.key)||Q(e.As,n.As)}static _s(e,n){return Q(e.As,n.As)||x.comparator(e.key,n.key)}}class mTe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ne(Ot.ds)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new Tv(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(Q);return n.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),_.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new x(s),0);let a=new Ne(Q);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.As)),!0)},o),_.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){O(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return _.forEach(n.mutations,i=>{const s=new Ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ot(n,0),i=this.Rs.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gTe{constructor(e){this.Ds=e,this.docs=new De(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():ke.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ke.newInvalidDocument(i))}),_.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=On();const o=n.path,a=new x(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||yv(bF(u),r)<=0||(i.has(u.key)||f4(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return _.resolve(s)}getAllFromCollectionGroup(e,n,r,i){k()}Cs(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vTe(this)}getSize(e){return _.resolve(this.size)}}class vTe extends lTe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class yTe{constructor(e){this.persistence=e,this.xs=new k1(n=>Vi(n),l4),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Xv,this.targetCount=0,this.Ms=Ai.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),_.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ai(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Fn(n),_.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.ks.containsKey(n))}}class Jv{constructor(e,n){this.$s={},this.overlays={},this.Os=new Qn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new yTe(this),this.indexManager=new rTe,this.remoteDocumentCache=new gTe(r=>this.referenceDelegate.Ls(r)),this.serializer=new jB(n),this.qs=new hTe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pTe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new mTe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new _Te(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return _.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class _Te extends FLe{constructor(e){super(),this.currentSequenceNumber=e}}class p8{constructor(e){this.persistence=e,this.Qs=new Xv,this.js=null}static zs(e){return new p8(e)}get Ws(){if(this.js)return this.js;throw k()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),_.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ws,r=>{const i=x.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return _.or([()=>_.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class ny{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ny(e,n.fromCache,r,i)}}class vU{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(nB(n))return _.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=e8(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(n,a);return this.zi(n,l,o,c.readTime)?this.Ki(e,e8(n,null,"F")):this.Wi(e,l,n,c)}))})))}Gi(e,n,r,i){return nB(n)||i.isEqual(U.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(mv()<=ge.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dv(n)),this.Wi(e,o,n,function wF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new We(n+1,0):new We(n,r));return new Yn(i,x.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ne(sB(e));return n.forEach((i,s)=>{f4(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return mv()<=ge.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Dv(n)),this.Ui.getDocumentsMatchingQuery(e,n,Yn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class MTe{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new De(Q),this.Yi=new k1(s=>Vi(s),l4),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mU(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function _U(t,e){return ry.apply(this,arguments)}function ry(){return ry=m(function*(t,e){const n=D(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=se();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}),ry.apply(this,arguments)}function CU(t){const e=D(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function VTe(t,e){const n=D(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function zo(t,e,n){return iy.apply(this,arguments)}function iy(){return iy=m(function*(t,e,n){const r=D(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!vr(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),iy.apply(this,arguments)}function v8(t,e,n){const r=D(t);let i=U.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=D(a),f=u.Yi.get(l);return void 0!==f?_.resolve(u.Ji.get(f)):u.Bs.getTargetData(c,l)}(r,o,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:se())).next(a=>(function VU(t,e,n){let r=t.Xi.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function iB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class ly{constructor(){this.activeTargetIds=function Lv(){return HAe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zU{constructor(){this.Hr=new ly,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ly,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zTe{Yr(e){}shutdown(){}}class IU{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let C8=null;function fy(){return null===C8?C8=268435456+Math.round(2147483648*Math.random()):C8++,"0x"+C8.toString(16)}const ITe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ETe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const un="WebChannelConnection";class xTe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=fy(),a=this.To(e,n);H("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(l=>(H("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw V2("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+uo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${ITe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=fy();return new Promise((o,a)=>{const c=new ILe;c.setWithCredentials(!0),c.listenOnce(HLe.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case pv.NO_ERROR:const u=c.getResponseJson();H(un,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case pv.TIMEOUT:H(un,`RPC '${e}' ${s} timed out`),a(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case pv.HTTP_ERROR:const f=c.getStatus();if(H(un,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const p=function(g){const v=g.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(v)>=0?v:M.UNKNOWN}(h.status);a(new V(p,h.message))}else a(new V(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new V(M.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{H(un,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);H(un,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=fy(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bLe(),a=VLe(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new zLe({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");H(un,`Creating RPC '${e}' stream ${i}: ${u}`,c);const f=o.createWebChannel(u,c);let d=!1,h=!1;const p=new ETe({ro:v=>{h?H(un,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(H(un,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),H(un,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},oo:()=>f.close()}),g=(v,C,y)=>{v.listen(C,w=>{try{y(w)}catch(E){setTimeout(()=>{throw E},0)}})};return g(f,Fl.EventType.OPEN,()=>{h||H(un,`RPC '${e}' stream ${i} transport opened.`)}),g(f,Fl.EventType.CLOSE,()=>{h||(h=!0,H(un,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(f,Fl.EventType.ERROR,v=>{h||(h=!0,V2(un,`RPC '${e}' stream ${i} transport errored:`,v),p.wo(new V(M.UNAVAILABLE,"The operation could not be completed")))}),g(f,Fl.EventType.MESSAGE,v=>{var C;if(!h){const y=v.data[0];O(!!y);const E=y.error||(null===(C=y[0])||void 0===C?void 0:C.error);if(E){H(un,`RPC '${e}' stream ${i} received error:`,E);const A=E.status;let G=function(yt){const zt=gt[yt];if(void 0!==zt)return bB(zt)}(A),fe=E.message;void 0===G&&(G=M.INTERNAL,fe="Unknown error status: "+A+" with message "+E.message),h=!0,p.wo(new V(G,fe)),f.close()}else H(un,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,SLe.STAT_EVENT,v=>{v.stat===gF.PROXY?H(un,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===gF.NOPROXY&&H(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function M8(){return typeof document<"u"?document:null}function x4(t){return new OAe(t,!0)}class dy{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class xU{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new dy(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return m(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return m(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return m(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ct(n.toString()),ct("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(m(function*(){e.state=0,e.start()}))}tu(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DTe extends xU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function UAe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:k(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(O(void 0===l||"string"==typeof l),Vt.fromBase64String(l||"")):(O(void 0===l||l instanceof Uint8Array),Vt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?M.UNKNOWN:bB(c.code);return new V(l,c.message||"")}(o);n=new IB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=n1(t,r.document.name),s=ut(r.document.updateTime),o=r.document.createTime?ut(r.document.createTime):U.min(),a=new Qt({mapValue:{fields:r.document.fields}}),c=ke.newFoundDocument(i,s,o,a);n=new s8(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=n1(t,r.document),s=r.readTime?ut(r.readTime):U.min(),o=ke.newNoDocument(i,s);n=new s8([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=n1(t,r.document);n=new s8([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return k();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new AAe(i,s);n=new zB(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?ut(s.readTime):U.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=C4(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Xl(a)?{documents:RB(i,a)}:{query:jv(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=LB(i,s.resumeToken);const c=Ov(i,s.expectedCount);null!==c&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(U.min())>0){o.readTime=wo(i,s.snapshotVersion.toTimestamp());const c=Ov(i,s.expectedCount);null!==c&&(o.expectedCount=c)}return o}(this.serializer,e);const r=function $Ae(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=C4(this.serializer),n.removeTarget=e,this.Wo(n)}}class LTe extends xU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(O(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function jAe(t,e){return t&&t.length>0?(O(void 0!==e),t.map(n=>function(r,i){let s=ut(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=ut(i)),new EAe(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ut(e.commitTime);return this.listener.cu(r,n)}return O(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=C4(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function M4(t,e){let n;if(e instanceof Co)n={update:kB(t,e.key,e.value)};else if(e instanceof Mo)n={delete:_4(t,e.key)};else if(e instanceof P1)n={update:kB(t,e.key,e.data),updateMask:KAe(e.fieldMask)};else{if(!(e instanceof Av))return k();n={verify:_4(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof yo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Si)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof zi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof _o)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw k()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:FAe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:k()),n;var i}(this.serializer,r))};this.Wo(n)}}class ATe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new V(M.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class NTe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ct(n),this.mu=!1):H("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class kTe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(m(function*(){var c;Ir(o)&&(H("RemoteStore","Restarting streams for network reachability change."),yield(c=m(function*(l){const u=D(l);u.vu.add(4),yield Io(u),u.bu.set("Unknown"),u.vu.delete(4),yield D4(u)}),function(l){return c.apply(this,arguments)})(o))}))}),this.bu=new NTe(r,i)}}function D4(t){return py.apply(this,arguments)}function py(){return py=m(function*(t){if(Ir(t))for(const e of t.Ru)yield e(!0)}),py.apply(this,arguments)}function Io(t){return my.apply(this,arguments)}function my(){return my=m(function*(t){for(const e of t.Ru)yield e(!1)}),my.apply(this,arguments)}function w8(t,e){const n=D(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),yy(n)?vy(n):xo(n).Ko()&&gy(n,e))}function L4(t,e){const n=D(t),r=xo(n);n.Au.delete(e),r.Ko()&&DU(n,e),0===n.Au.size&&(r.Ko()?r.jo():Ir(n)&&n.bu.set("Unknown"))}function gy(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(U.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(t).su(e)}function DU(t,e){t.Vu.qt(e),xo(t).iu(e)}function vy(t){t.Vu=new NAe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),xo(t).start(),t.bu.gu()}function yy(t){return Ir(t)&&!xo(t).Uo()&&t.Au.size>0}function Ir(t){return 0===D(t).vu.size}function LU(t){t.Vu=void 0}function PTe(t){return _y.apply(this,arguments)}function _y(){return _y=m(function*(t){t.Au.forEach((e,n)=>{gy(t,e)})}),_y.apply(this,arguments)}function RTe(t,e){return Cy.apply(this,arguments)}function Cy(){return Cy=m(function*(t,e){LU(t),yy(t)?(t.bu.Iu(e),vy(t)):t.bu.set("Unknown")}),Cy.apply(this,arguments)}function OTe(t,e,n){return My.apply(this,arguments)}function My(){return My=m(function*(t,e,n){if(t.bu.set("Online"),e instanceof IB&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield b8(t,r)}else if(e instanceof s8?t.Vu.Ht(e):e instanceof zB?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(U.min()))try{const r=yield CU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(c);l&&i.Au.set(c,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(Vt.EMPTY_BYTE_STRING,l.snapshotVersion)),DU(i,a);const u=new R1(l.target,a,c,l.sequenceNumber);gy(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){H("RemoteStore","Failed to raise snapshot:",r),yield b8(t,r)}var r}),My.apply(this,arguments)}function b8(t,e,n){return wy.apply(this,arguments)}function wy(){return wy=m(function*(t,e,n){if(!vr(e))throw e;t.vu.add(1),yield Io(t),t.bu.set("Offline"),n||(n=()=>CU(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){H("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield D4(t)}))}),wy.apply(this,arguments)}function AU(t,e){return e().catch(n=>b8(t,n,e))}function Eo(t){return by.apply(this,arguments)}function by(){return by=m(function*(t){const e=D(t),n=Er(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;FTe(e);)try{const i=yield VTe(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,BTe(e,i)}catch(i){yield b8(e,i)}TU(e)&&NU(e)}),by.apply(this,arguments)}function FTe(t){return Ir(t)&&t.Eu.length<10}function BTe(t,e){t.Eu.push(e);const n=Er(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function TU(t){return Ir(t)&&!Er(t).Uo()&&t.Eu.length>0}function NU(t){Er(t).start()}function UTe(t){return Vy.apply(this,arguments)}function Vy(){return Vy=m(function*(t){Er(t).hu()}),Vy.apply(this,arguments)}function jTe(t){return Hy.apply(this,arguments)}function Hy(){return Hy=m(function*(t){const e=Er(t);for(const n of t.Eu)e.uu(n.mutations)}),Hy.apply(this,arguments)}function $Te(t,e,n){return Sy.apply(this,arguments)}function Sy(){return Sy=m(function*(t,e,n){const r=t.Eu.shift(),i=Nv.from(r,e,n);yield AU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Eo(t)}),Sy.apply(this,arguments)}function GTe(t,e){return zy.apply(this,arguments)}function zy(){return zy=m(function*(t,e){var n;e&&Er(t).ou&&(yield(n=m(function*(r,i){if(function wB(t){switch(t){default:return k();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}(s=i.code)&&s!==M.ABORTED){const o=r.Eu.shift();Er(r).Qo(),yield AU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Eo(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),TU(t)&&NU(t)}),zy.apply(this,arguments)}function kU(t,e){return Iy.apply(this,arguments)}function Iy(){return Iy=m(function*(t,e){const n=D(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Ir(n);n.vu.add(3),yield Io(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield D4(n)}),Iy.apply(this,arguments)}function xy(){return xy=m(function*(t,e){const n=D(t);e?(n.vu.delete(2),yield D4(n)):e||(n.vu.add(2),yield Io(n),n.bu.set("Unknown"))}),xy.apply(this,arguments)}function xo(t){return t.Su||(t.Su=function(e,n,r){const i=D(e);return i.fu(),new DTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:PTe.bind(null,t),ao:RTe.bind(null,t),nu:OTe.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Su.Qo(),yy(t)?vy(t):t.bu.set("Unknown")):(yield t.Su.stop(),LU(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Er(t){return t.Du||(t.Du=function(e,n,r){const i=D(e);return i.fu(),new LTe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:UTe.bind(null,t),ao:GTe.bind(null,t),au:jTe.bind(null,t),cu:$Te.bind(null,t)}),t.Ru.push(function(){var e=m(function*(n){n?(t.Du.Qo(),yield Eo(t)):(yield t.Du.stop(),t.Eu.length>0&&(H("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class Dy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Dy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Do(t,e){if(ct("AsyncQueue",`${e}: ${t}`),vr(t))return new V(M.UNAVAILABLE,`${e}: ${t}`);throw t}class Lo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=d4(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new Lo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class PU{constructor(){this.Cu=new De(x.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):k():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ao{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ao(e,n,Lo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&u4(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class qTe{constructor(){this.Nu=void 0,this.listeners=[]}}class WTe{constructor(){this.queries=new k1(e=>rB(e),u4),this.onlineState="Unknown",this.ku=new Set}}function Ay(){return Ay=m(function*(t,e){const n=D(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new qTe),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=Do(o,`Initialization of query '${Dv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&ky(n)}),Ay.apply(this,arguments)}function Ny(){return Ny=m(function*(t,e){const n=D(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Ny.apply(this,arguments)}function KTe(t,e){const n=D(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&ky(n)}function YTe(t,e,n){const r=D(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ky(t){t.ku.forEach(e=>{e.next()})}class Py{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class FU{constructor(e){this.key=e}}class BU{constructor(e){this.key=e}}class UU{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=se(),this.mutatedKeys=se(),this.tc=sB(e),this.ec=new Lo(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new PU,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const d=i.get(u),h=f4(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;d&&h?d.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),v=!0):this.rc(d,h)||(r.track({type:2,doc:h}),v=!0,(c&&this.tc(h,c)>0||l&&this.tc(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),v=!0):d&&!h&&(r.track({type:1,doc:d}),v=!0,(c||l)&&(a=!0)),v&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,u)=>function(f,d){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return h(f)-h(d)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==s.length||c?{snapshot:new Ao(this.query,e.ec,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new PU,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=se(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new BU(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new FU(r))}),n}hc(e){this.Yu=e.ir,this.Zu=se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ao.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class JTe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZTe{constructor(e){this.key=e,this.fc=!1}}class eNe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new k1(a=>rB(a),u4),this._c=new Map,this.mc=new Set,this.gc=new De(x.comparator),this.yc=new Map,this.Ic=new Xv,this.Tc={},this.Ec=new Map,this.Ac=Ai.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function tNe(t,e){return Ry.apply(this,arguments)}function Ry(){return Ry=m(function*(t,e){const n=function a_(t){const e=D(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uNe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iNe.bind(null,e),e.dc.nu=KTe.bind(null,e.eventManager),e.dc.Pc=YTe.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function So(t,e){const n=D(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new R1(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Vn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function Oy(t,e,n,r,i){return Fy.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&w8(n.remoteStore,o)}return i}),Ry.apply(this,arguments)}function Fy(){return Fy=m(function*(t,e,n,r,i){t.Rc=(f,d,h)=>{return(p=m(function*(g,v,C,y){let w=v.view.sc(C);w.zi&&(w=yield v8(g.localStore,v.query,!1).then(({documents:G})=>v.view.sc(G,w)));const E=y&&y.targetChanges.get(v.targetId),A=v.view.applyChanges(w,g.isPrimaryClient,E);return Qy(g,v.targetId,A.cc),A.snapshot}),function(g,v,C,y){return p.apply(this,arguments)})(t,f,d,h);var p};const s=yield v8(t.localStore,e,!0),o=new UU(e,s.ir),a=o.sc(s.documents),c=y4.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);Qy(t,n,l.cc);const u=new JTe(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}),Fy.apply(this,arguments)}function nNe(t,e){return By.apply(this,arguments)}function By(){return By=m(function*(t,e){const n=D(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!u4(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield zo(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),L4(n.remoteStore,r.targetId),To(n,r.targetId)}).catch(gr))):(To(n,r.targetId),yield zo(n.localStore,r.targetId,!0))}),By.apply(this,arguments)}function Uy(){return Uy=m(function*(t,e,n){const r=function c_(t){const e=D(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sNe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oNe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=D(s),c=We.now(),l=o.reduce((d,h)=>d.add(h.key),se());let u,f;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=On(),p=se();return a.Zi.getEntries(d,l).next(g=>{h=g,h.forEach((v,C)=>{C.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,h)).next(g=>{u=g;const v=[];for(const C of o){const y=DAe(C,u.get(C.key).overlayedDocument);null!=y&&v.push(new P1(C.key,y,jF(y.value.mapValue),je.exists(!0)))}return a.mutationQueue.addMutationBatch(d,c,v,o)}).next(g=>{f=g;const v=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:f.batchId,changes:aB(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new De(Q)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),yield O1(r,i.changes),yield Eo(r.remoteStore)}catch(i){const s=Do(i,"Failed to persist write");n.reject(s)}}),Uy.apply(this,arguments)}function jU(t,e){return jy.apply(this,arguments)}function jy(){return jy=m(function*(t,e){const n=D(t);try{const r=yield function bTe(t,e){const n=D(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;a.push(n.Bs.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,u.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);var p,g,v;null!==e.targetMismatches.get(f)?h=h.withResumeToken(Vt.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),g=h,v=u,(0===(p=d).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,h))});let c=On(),l=se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function MU(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=On();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(U.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!r.isEqual(U.min())){const u=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(O(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?O(o.fc):i.removedDocuments.size>0&&(O(o.fc),o.fc=!1))}),yield O1(n,r,e)}catch(r){yield gr(r)}}),jy.apply(this,arguments)}function $U(t,e,n){const r=D(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=D(s);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const f of u.listeners)f.Mu(o)&&(c=!0)}),c&&ky(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iNe(t,e,n){return $y.apply(this,arguments)}function $y(){return $y=m(function*(t,e,n){const r=D(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new De(x.comparator);o=o.insert(s,ke.newNoDocument(s,U.min()));const a=se().add(s),c=new v4(U.min(),new Map,new De(Q),o,a);yield jU(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),Xy(r)}else yield zo(r.localStore,e,!1).then(()=>To(r,e,n)).catch(gr)}),$y.apply(this,arguments)}function sNe(t,e){return Gy.apply(this,arguments)}function Gy(){return Gy=m(function*(t,e){const n=D(t),r=e.batch.batchId;try{const i=yield function wTe(t,e){const n=D(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,f=u.keys();let d=_.resolve();return f.forEach(h=>{d=d.next(()=>l.getEntry(a,h)).next(p=>{const g=c.docVersions.get(h);O(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),l.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=se();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Yy(n,r,null),Ky(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield O1(n,i)}catch(i){yield gr(i)}}),Gy.apply(this,arguments)}function oNe(t,e,n){return qy.apply(this,arguments)}function qy(){return qy=m(function*(t,e,n){const r=D(t);try{const i=yield function(s,o){const a=D(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(O(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);Yy(r,e,n),Ky(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield O1(r,i)}catch(i){yield gr(i)}}),qy.apply(this,arguments)}function Ky(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Yy(t,e,n){const r=D(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function To(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||GU(t,r)})}function GU(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(L4(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Xy(t))}function Qy(t,e,n){for(const r of n)r instanceof FU?(t.Ic.addReference(r.key,e),cNe(t,r)):r instanceof BU?(H("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||GU(t,r.key)):k()}function cNe(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(H("SyncEngine","New document in limbo: "+n),t.mc.add(r),Xy(t))}function Xy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new x(pe.fromString(e)),r=t.Ac.next();t.yc.set(r,new ZTe(n)),t.gc=t.gc.insert(n,r),w8(t.remoteStore,new R1(Vn(vo(n.path)),r,"TargetPurposeLimboResolution",Qn.ct))}}function O1(t,e,n){return Jy.apply(this,arguments)}function Jy(){return Jy=m(function*(t,e,n){const r=D(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=ny.Li(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=m(function*(c,l){const u=D(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>_.forEach(l,d=>_.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>_.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!vr(f))throw f;H("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=u.Ji.get(d),g=h.withLastLimboFreeSnapshotVersion(h.snapshotVersion);u.Ji=u.Ji.insert(d,g)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,s))}),Jy.apply(this,arguments)}function lNe(t,e){return Zy.apply(this,arguments)}function Zy(){return Zy=m(function*(t,e){const n=D(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=yield _U(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new V(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield O1(n,r.er)}var i}),Zy.apply(this,arguments)}function uNe(t,e){const n=D(t),r=n.yc.get(e);if(r&&r.fc)return se().add(r.key);{let i=se();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class V8{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=x4(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function yU(t,e,n,r){return new MTe(t,e,n,r)}(this.persistence,new vU,e.initialUser,this.serializer)}createPersistence(e){return new Jv(p8.zs,this.serializer)}createSharedClientState(e){return new zU}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class No{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>$U(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=lNe.bind(null,r.syncEngine),yield function Ey(t,e){return xy.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new WTe}createDatastore(e){const n=x4(e.databaseInfo.databaseId),r=new xTe(e.databaseInfo);return new ATe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>$U(this.syncEngine,a,0),o=IU.D()?new IU:new zTe,new kTe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,l){const u=new eNe(r,i,s,o,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=D(n);H("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Io(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class H8{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ct("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class bNe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=CF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){H("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Do(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function S8(t,e){return l_.apply(this,arguments)}function l_(){return l_=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield _U(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),l_.apply(this,arguments)}function u_(t,e){return f_.apply(this,arguments)}function f_(){return f_=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function d_(t){return h_.apply(this,arguments)}(t);H("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>kU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>kU(e.remoteStore,s)),t._onlineComponents=e}),f_.apply(this,arguments)}function h_(){return h_=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield S8(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function XU(t){return"FirebaseError"===t.name?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;V2("Error using user provided cache. Falling back to memory cache: "+n),yield S8(t,new V8)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield S8(t,new V8);return t._offlineComponents}),h_.apply(this,arguments)}function z8(t){return p_.apply(this,arguments)}function p_(){return p_=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield u_(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield u_(t,new No))),t._onlineComponents}),p_.apply(this,arguments)}function ko(t){return g_.apply(this,arguments)}function g_(){return g_=m(function*(t){const e=yield z8(t),n=e.eventManager;return n.onListen=tNe.bind(null,e.syncEngine),n.onUnlisten=nNe.bind(null,e.syncEngine),n}),g_.apply(this,arguments)}function rj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const ij=new Map;function v_(t,e,n){if(!n)throw new V(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sj(t){if(!x.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oj(t){if(x.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function E8(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":k()}function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=E8(t);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class cj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function LNe(t,e,n,r){if(!0===e&&!0===r)throw new V(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class A4{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cj(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new xLe;switch(n.type){case"firstParty":return new TLe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=ij.get(e);n&&(H("ComponentProvider","Removing Datastore"),ij.delete(e),n.terminate())}(this),Promise.resolve()}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new r1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}}class Xt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xt(this.firestore,e,this._query)}}class r1 extends Xt{constructor(e,n,r){super(e,n,vo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new x(e))}withConverter(e){return new r1(this.firestore,e,this._path)}}function TNe(t,e,...n){if(t=at(t),v_("collection","path",e),t instanceof A4){const r=pe.fromString(e,...n);return oj(r),new r1(t,null,r)}{if(!(t instanceof ft||t instanceof r1))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return oj(r),new r1(t.firestore,null,r)}}function lj(t,e,...n){if(t=at(t),1===arguments.length&&(e=CF.A()),v_("doc","path",e),t instanceof A4){const r=pe.fromString(e,...n);return sj(r),new ft(t,null,new x(r))}{if(!(t instanceof ft||t instanceof r1))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return sj(r),new ft(t.firestore,t instanceof r1?t.converter:null,new x(r))}}class NNe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new dy(this,"async_queue_retry"),this.Xc=()=>{const n=M8();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=M8();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=M8();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new bt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!vr(n))throw n;H("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ct("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Dy.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&k()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function y_(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Pe extends A4{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new NNe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fj(this),this._firestoreClient.terminate()}}function PNe(t,e){const r="string"==typeof t?t:e||"(default)",i=ar("object"==typeof t?t:h3(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=ek("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function ANe(t,e,n,r={}){var i;const s=(t=ue(t,A4))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&V2("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Pt.MOCK_USER;else{a=function Wwe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[S0(JSON.stringify({alg:"none",type:"JWT"})),S0(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Pt(l)}t._authCredentials=new DLe(new yF(a,c))}}(i,...s)}return i}function vt(t){return t._firestoreClient||fj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fj(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new uAe(t._databaseId,a,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,rj(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;t._firestoreClient=new bNe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(Vt.fromBase64String(e))}catch(n){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ni(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Po{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class __{constructor(e){this._methodName=e}}class C_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}const ONe=/^__.*__$/;class FNe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new P1(e,this.data,this.fieldMask,n,this.fieldTransforms):new Co(e,this.data,n,this.fieldTransforms)}}class pj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new P1(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}class x8{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new x8(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return L8(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(mj(this.ca)&&ONe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class BNe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||x4(e)}ya(e,n,r,i=!1){return new x8({ca:e,methodName:n,ga:r,path:lt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ro(t){const e=t._freezeSettings(),n=x4(t._databaseId);return new BNe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M_(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);b_("Data must be an object, but it was:",o,r);const a=Cj(r,o);let c,l;if(s.merge)c=new Rn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const d=k4(e,f,n);if(!o.contains(d))throw new V(M.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);wj(u,d)||u.push(d)}c=new Rn(u),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new FNe(new Qt(a),c,l)}class N4 extends __{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof N4}}function ki(t,e){if(Mj(t=at(t)))return b_("Unsupported field value:",e,t),Cj(t,e);if(t instanceof __)return function(n,r){if(!mj(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ki(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=at(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return fB(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=We.fromDate(n);return{timestampValue:wo(r.serializer,i)}}if(n instanceof We){const i=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:wo(r.serializer,i)}}if(n instanceof C_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ni)return{bytesValue:LB(r.serializer,n._byteString)};if(n instanceof ft){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${E8(n)}`)}(t,e)}function Cj(t,e){const n={};return TF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yr(t,(r,i)=>{const s=ki(i,e.ha(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function Mj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof We||t instanceof C_||t instanceof Ni||t instanceof ft||t instanceof __)}function b_(t,e,n){if(!Mj(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=E8(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function k4(t,e,n){if((e=at(e))instanceof Po)return e._internalPath;if("string"==typeof e)return D8(t,e);throw L8("Field path arguments must be of type string or ",t,!1,void 0,n)}const GNe=new RegExp("[~\\*/\\[\\]]");function D8(t,e,n){if(e.search(GNe)>=0)throw L8(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Po(...e.split("."))._internalPath}catch{throw L8(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function L8(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new V(M.INVALID_ARGUMENT,a+t+c)}function wj(t,e){return t.some(n=>n.isEqual(e))}class V_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qNe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A8("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class qNe extends V_{data(){return super.data()}}function A8(t,e){return"string"==typeof e?D8(t,e):e instanceof Po?e._internalPath:e._delegate._internalPath}class H_{}class S_ extends H_{}function WNe(t,e,...n){let r=[];e instanceof H_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Oo).length,o=i.filter(a=>a instanceof P4).length;if(s>1||s>0&&o>0)throw new V(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class P4 extends S_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new P4(e,n,r)}_apply(e){const n=this._parse(e);return zj(e._query,n),new Xt(e.firestore,e.converter,xv(e._query,n))}_parse(e){const n=Ro(e.firestore);return function(i,s,o,a,c,l,u){let f;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new V(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){Sj(u,l);const d=[];for(const h of u)d.push(Hj(a,i,h));f={arrayValue:{values:d}}}else f=Hj(a,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||Sj(u,l),f=function _j(t,e,n,r=!1){return ki(n,t.ya(r?4:3,e))}(o,"where",u,"in"===l||"not-in"===l);return ce.create(c,l,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function KNe(t,e,n){const r=e,i=A8("where",t);return P4._create(i,r,n)}class Oo extends H_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Oo(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ve.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)zj(s,a),s=xv(s,a)}(e._query,n),new Xt(e.firestore,e.converter,xv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class z_ extends S_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new z_(e,n)}_apply(e){const n=function(r,i,s){if(null!==r.startAt)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new mo(i,s);return function(a,c){if(null===Iv(a)){const l=Zl(a);null!==l&&Ij(0,l,c.field)}}(r,o),o}(e._query,this._field,this._direction);return new Xt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new N1(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function YNe(t,e="asc"){const n=e,r=A8("orderBy",t);return z_._create(r,n)}class T8 extends S_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new T8(e,n,r)}_apply(e){return new Xt(e.firestore,e.converter,e8(e._query,this._limit,this._limitType))}}function QNe(t){return function aj(t,e){if(e<=0)throw new V(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),T8._create("limit",t,"F")}function Hj(t,e,n){if("string"==typeof(n=at(n))){if(""===n)throw new V(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ev(e)&&-1!==n.indexOf("/"))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pe.fromString(n));if(!x.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bi(t,new x(r))}if(n instanceof ft)return bi(t,n._key);throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${E8(n)}.`)}function Sj(t,e){if(!Array.isArray(t)||0===t.length)throw new V(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zj(t,e){if(e.isInequality()){const r=Zl(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new V(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Iv(t);null!==s&&Ij(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new V(M.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Ij(t,e,n){if(!n.isEqual(e))throw new V(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class XNe{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(T1(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw k()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new C_(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wl(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(s4(e));default:return null}}convertTimestamp(e){const n=_r(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);O(UB(r));const i=new wi(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||ct(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Pi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fo extends V_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new P8(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A8("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class P8 extends Fo{data(e={}){return super.data(e)}}class Bo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new P8(this._firestore,this._userDataWriter,r.key,r,new Pi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new P8(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Pi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new P8(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Pi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==o.type&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:ZNe(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZNe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}class xr extends XNe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function eke(t,e,n,...r){t=ue(t,ft);const i=ue(t.firestore,Pe),s=Ro(i);let o;return o="string"==typeof(e=at(e))||e instanceof Po?function yj(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[k4(e,r,n)],c=[i];if(s.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(k4(e,s[d])),c.push(s[d+1]);const l=[],u=Qt.empty();for(let d=a.length-1;d>=0;--d)if(!wj(l,a[d])){const h=a[d];let p=c[d];p=at(p);const g=o.da(h);if(p instanceof N4)l.push(h);else{const v=ki(p,g);null!=v&&(l.push(h),u.set(h,v))}}const f=new Rn(l);return new pj(u,f,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function vj(t,e,n,r){const i=t.ya(1,e,n);b_("Data must be an object, but it was:",i,r);const s=[],o=Qt.empty();yr(r,(c,l)=>{const u=D8(e,c,n);l=at(l);const f=i.da(u);if(l instanceof N4)s.push(u);else{const d=ki(l,f);null!=d&&(s.push(u),o.set(u,d))}});const a=new Rn(s);return new pj(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),R4(i,[o.toMutation(t._key,je.exists(!0))])}function tke(t){return R4(ue(t.firestore,Pe),[new Mo(t._key,je.none())])}function nke(t,e){const n=ue(t.firestore,Pe),r=lj(t),i=function I_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return R4(n,[M_(Ro(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,je.exists(!1))]).then(()=>r)}function R4(t,e){return function(n,r){const i=new bt;return n.asyncQueue.enqueueAndForget(m(function*(){return function rNe(t,e,n){return Uy.apply(this,arguments)}(yield function m_(t){return z8(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(vt(t),e)}!function(t,e=!0){uo=oi,Mn(new sn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Pe(new LLe(n.getProvider("auth-internal")),new NLe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wi(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ge(vF,"3.13.0",t),Ge(vF,"3.13.0","esm2017")}();var mke={includeMetadataChanges:!1};function x_(t,e){return void 0===e&&(e=mke),new Ke(function(n){var r=function rke(t,...e){var n,r,i;t=at(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||y_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(y_(e[o])){const f=e[o];e[o]=null===(n=f.next)||void 0===n?void 0:n.bind(f),e[o+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[o+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,l,u;if(t instanceof ft)l=ue(t.firestore,Pe),u=vo(t._key.path),c={next:f=>{e[o]&&e[o](function E_(t,e,n){const r=n.docs.get(e._key),i=new xr(t);return new Fo(t,i,e._key,r,new Pi(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,f))},error:e[o+1],complete:e[o+2]};else{const f=ue(t,Xt);l=ue(f.firestore,Pe),u=f._query;const d=new xr(l);c={next:h=>{e[o]&&e[o](new Bo(l,d,f,h))},error:e[o+1],complete:e[o+2]},function bj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,d,h,p){const g=new H8(p),v=new Py(d,g,h);return f.asyncQueue.enqueueAndForget(m(function*(){return function Ly(t,e){return Ay.apply(this,arguments)}(yield ko(f),v)})),()=>{g.Dc(),f.asyncQueue.enqueueAndForget(m(function*(){return function Ty(t,e){return Ny.apply(this,arguments)}(yield ko(f),v)}))}}(vt(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function wke(t,e){return void 0===e&&(e={}),function Mke(t){return x_(t,{includeMetadataChanges:!0}).pipe(ta(function(e){return e.docs}))}(t).pipe(ta(function(n){return n.map(function(r){return function Dj(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class F1{constructor(e){return e}}const Nj="firestore",A_=new $("angularfire2.firestore-instances");function Hke(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new F1(r)}}const Ske={provide:class bke{constructor(){return Jh(Nj)}},deps:[[new xn,A_]]},zke={provide:F1,useFactory:function Vke(t,e){const n=Xh(Nj,t,e);return n&&new F1(n)},deps:[[new xn,A_],$s]};let Ike=(()=>{class t{constructor(){Ge("angularfire",v3.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=dt({providers:[zke,Ske]}),t})();function Uo(t,...e){return{ngModule:Ike,providers:[{provide:A_,useFactory:Hke(t),multi:!0,deps:[Ae,nn,B0,U0,[new xn,eO],[new xn,Cp],...e]}]}}const jo=At(wke,!0),kj=At(nke,!0),B1=At(TNe,!0),Eke=At(tke,!0),T_=At(lj,!0),$o=At(PNe,!0),Pj=At(QNe,!0),xke=At(YNe,!0),Go=At(WNe,!0),Rj=At(eke,!0),Dr=At(KNe,!0);let Oj=(()=>{var t;class e{constructor(){this.firestore=R(F1)}subscribeToFleetOrders(r,i,s){let o=B1(this.firestore,"orders");jo(Go(o,Dr("user","==",r),Dr("executed","==",!1)),{idField:"id"}).forEach(a=>{i.next(a.length),s.detectChanges()}).catch(a=>{console.log(a)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class N_{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class Fj{constructor(){this._orbit=0,this._ground=0,this._workers=new N_,this._soldiers=new N_,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class k_{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Dke=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new Fj,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),f=new k_;f.name=l.parentElement.className.split(/\s+/)[2],f.stored=parseInt(u[0].replace(/,/g,"")),f.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),f.abundance=parseInt(u[2].replace(/,/g,"")),a.push(f)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Bj{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new N_,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var fn=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(fn||{});class Lke{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Ake{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Le=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Le||{});class Tke{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let Nke=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new Bj,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:s=fn.SURFACE;break;case 2:s=fn.RESOURCE;break;case 0:s=fn.FLEET;break;default:s=fn.UNKNOWN}let o=new Lke(r,s);if(s!==fn.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";o.planetScan.owner=new Tke(i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),a.substring(1,a.length-1))}if((s===fn.RESOURCE||s===fn.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===fn.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new k_;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===fn.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new k_;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.workers.available=parseInt(a.substring(1,a.length).replace(/,/g,"")),o.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new Ake(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Le.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Le.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Le.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Le.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Le.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Le.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Le.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Le.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Le.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Le.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Le.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Le.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Le.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),kke=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new Fj;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Pke{constructor(e,n){this._name=e,this._note=n}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}}let Rke=(()=>{var t;class e{constructor(){}extract(){let r=[];return document.querySelector('[action="/alliances/join/"]')||document.querySelectorAll(".allianceBox .playerList .player").forEach(i=>{let s=i.querySelector(".name").childNodes[0].textContent.trim(),o=null;null!=i.querySelector(".note")&&(o=i.querySelector(".note").childNodes[0].textContent.trim()),r.push(new Pke(s,o))}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),S2=(()=>{var t;class e{constructor(){this.planetListExtractor=R(Dke),this.planetScanExtractor=R(Nke),this.navigationSystemPlanetsExtractor=R(kke),this.allianceMembersExtractor=R(Rke)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(){return this.allianceMembersExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(){let r=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==r.indexOf("[")&&4==r.indexOf("]")&&(r=r.substring(5,r.length)),r.toLowerCase()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class P_{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Uj=function(t){return t.USER="user",t.ADMIN="admin",t}(Uj||{});let qo=(()=>{var t;class e{constructor(){this._authState=new $t,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}setUpFirebaseAuthSubscription(r,i){null!=this.authSubscription&&this.authSubscription.unsubscribe(),this.authSubscription=CDe(r).subscribe(s=>{null!=s?jo(Go(B1(i,"valid-users"),Dr("email","==",s.email),Pj(1))).subscribe(o=>{if(o.length>0){let a=Object.assign({email:"",enabled:!1,role:Uj.USER},o[0]);a.enabled?(localStorage.setItem("user",JSON.stringify(s)),this._authState.emit(new P_(!0,a.role))):this.signOut(r,!1)}else this.signOut(r,!1)}):(localStorage.removeItem("user"),this._authState.emit(new P_(!1,null)))})}signInWithEmailAndPassword(r,i,s,o){MDe(r,i,s).then(()=>{o&&location.reload()}).catch(a=>{window.alert(a.message)})}signInWithGoogle(r,i){wDe(r,new vEe).then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}signOut(r,i){this._authState.emit(new P_(!0,null)),localStorage.removeItem("user"),this._refreshInProgress=i,r.signOut().then(()=>{i&&location.reload()}).catch(s=>{window.alert(s.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jj(Object(n),!0).forEach(function(r){Ht(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O8(t){return(O8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R_(t,e){return function jke(t){if(Array.isArray(t))return t}(t)||function Gke(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||Gj(t,e)||function Wke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F4(t){return function Uke(t){if(Array.isArray(t))return O_(t)}(t)||function $ke(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Gj(t)||function qke(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gj(t,e){if(t){if("string"==typeof t)return O_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O_(t,e)}}function O_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qj=function(){},F_={},Wj={},Kj=null,Yj={mark:qj,measure:qj};try{typeof window<"u"&&(F_=window),typeof document<"u"&&(Wj=document),typeof MutationObserver<"u"&&(Kj=MutationObserver),typeof performance<"u"&&(Yj=performance)}catch{}var U8,j8,$8,G8,q8,Qj=(F_.navigator||{}).userAgent,Xj=void 0===Qj?"":Qj,Lr=F_,Re=Wj,Jj=Kj,B8=Yj,U1=!!Re.documentElement&&!!Re.head&&"function"==typeof Re.addEventListener&&"function"==typeof Re.createElement,Zj=~Xj.indexOf("MSIE")||~Xj.indexOf("Trident/"),j1="___FONT_AWESOME___",e$="fa",t$="svg-inline--fa",Ri="data-fa-i2svg",U_="data-fa-pseudo-element",Yke="data-fa-pseudo-element-pending",j_="data-prefix",$_="data-icon",n$="fontawesome-i2svg",Qke="async",Xke=["HTML","HEAD","STYLE","SCRIPT"],r$=function(){try{return!0}catch{return!1}}(),Oe="classic",nt="sharp",G_=[Oe,nt];function B4(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Oe]}})}var U4=B4((Ht(U8={},Oe,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Ht(U8,nt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),U8)),j4=B4((Ht(j8={},Oe,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Ht(j8,nt,{solid:"fass",regular:"fasr",light:"fasl"}),j8)),$4=B4((Ht($8={},Oe,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Ht($8,nt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),$8)),Jke=B4((Ht(G8={},Oe,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Ht(G8,nt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),G8)),Zke=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,i$="fa-layers-text",ePe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,tPe=B4((Ht(q8={},Oe,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Ht(q8,nt,{900:"fass",400:"fasr",300:"fasl"}),q8)),s$=[1,2,3,4,5,6,7,8,9,10],nPe=s$.concat([11,12,13,14,15,16,17,18,19,20]),rPe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Oi={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},G4=new Set;Object.keys(j4[Oe]).map(G4.add.bind(G4)),Object.keys(j4[nt]).map(G4.add.bind(G4));var iPe=[].concat(G_,F4(G4),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Oi.GROUP,Oi.SWAP_OPACITY,Oi.PRIMARY,Oi.SECONDARY]).concat(s$.map(function(t){return"".concat(t,"x")})).concat(nPe.map(function(t){return"w-".concat(t)})),q4=Lr.FontAwesomeConfig||{};Re&&"function"==typeof Re.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=R_(t,2),r=e[1],i=function oPe(t){return""===t||"false"!==t&&("true"===t||t)}(function sPe(t){var e=Re.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(q4[r]=i)});var o$={styleDefault:"solid",familyDefault:"classic",cssPrefix:e$,replacementClass:t$,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};q4.familyPrefix&&(q4.cssPrefix=q4.familyPrefix);var Wo=P(P({},o$),q4);Wo.autoReplaceSvg||(Wo.observeMutations=!1);var F={};Object.keys(o$).forEach(function(t){Object.defineProperty(F,t,{enumerable:!0,set:function(n){Wo[t]=n,W4.forEach(function(r){return r(F)})},get:function(){return Wo[t]}})}),Object.defineProperty(F,"familyPrefix",{enumerable:!0,set:function(e){Wo.cssPrefix=e,W4.forEach(function(n){return n(F)})},get:function(){return Wo.cssPrefix}}),Lr.FontAwesomeConfig=F;var W4=[],i1={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},uPe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function K4(){for(var t=12,e="";t-- >0;)e+=uPe[62*Math.random()|0];return e}function Ko(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function q_(t){return t.classList?Ko(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function a$(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function W8(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function W_(t){return t.size!==i1.size||t.x!==i1.x||t.y!==i1.y||t.rotate!==i1.rotate||t.flipX||t.flipY}var pPe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function c$(){var t=e$,e=t$,n=F.cssPrefix,r=F.replacementClass,i=pPe;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var l$=!1;function K_(){F.autoAddCss&&!l$&&(function lPe(t){if(t&&U1){var e=Re.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Re.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Re.head.insertBefore(e,r)}}(c$()),l$=!0)}var mPe={mixout:function(){return{dom:{css:c$,insertCss:K_}}},hooks:function(){return{beforeDOMElementCreation:function(){K_()},beforeI2svg:function(){K_()}}}},$1=Lr||{};$1[j1]||($1[j1]={}),$1[j1].styles||($1[j1].styles={}),$1[j1].hooks||($1[j1].hooks={}),$1[j1].shims||($1[j1].shims=[]);var z2=$1[j1],u$=[],K8=!1;function Y4(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?a$(t):"<".concat(e," ").concat(function fPe(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(a$(t[n]),'" ')},"").trim()}(r),">").concat(s.map(Y4).join(""),"</").concat(e,">")}function f$(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}U1&&((K8=(Re.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Re.readyState))||Re.addEventListener("DOMContentLoaded",function t(){Re.removeEventListener("DOMContentLoaded",t),K8=1,u$.map(function(e){return e()})}));var Y_=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function Q_(t){var e=function _Pe(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function d$(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function X_(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=d$(e);"function"!=typeof z2.hooks.addPack||i?z2.styles[t]=P(P({},z2.styles[t]||{}),s):z2.hooks.addPack(t,d$(e)),"fas"===t&&X_("fa",e)}var Y8,Q8,X8,Yo=z2.styles,MPe=z2.shims,wPe=(Ht(Y8={},Oe,Object.values($4[Oe])),Ht(Y8,nt,Object.values($4[nt])),Y8),J_=null,h$={},p$={},m$={},g$={},v$={},bPe=(Ht(Q8={},Oe,Object.keys(U4[Oe])),Ht(Q8,nt,Object.keys(U4[nt])),Q8);var y$=function(){var e=function(s){return Y_(Yo,function(o,a,c){return o[c]=Y_(a,s,{}),o},{})};h$=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),p$=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),v$=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Yo||F.autoFetchSvg,r=Y_(MPe,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});m$=r.names,g$=r.unicodes,J_=J8(F.styleDefault,{family:F.familyDefault})};function Z_(t,e){return(h$[t]||{})[e]}function Fi(t,e){return(v$[t]||{})[e]}function _$(t){return m$[t]||{prefix:null,iconName:null}}function Tr(){return J_}(function cPe(t){W4.push(t)})(function(t){J_=J8(t.styleDefault,{family:F.familyDefault})}),y$();var eC=function(){return{prefix:null,iconName:null,rest:[]}};function J8(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Oe:n;return j4[r][t]||j4[r][U4[r][t]]||(t in z2.styles?t:null)||null}var C$=(Ht(X8={},Oe,Object.keys($4[Oe])),Ht(X8,nt,Object.keys($4[nt])),X8);function Z8(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Ht(e={},Oe,"".concat(F.cssPrefix,"-").concat(Oe)),Ht(e,nt,"".concat(F.cssPrefix,"-").concat(nt)),e),o=null,a=Oe;(t.includes(s[Oe])||t.some(function(l){return C$[Oe].includes(l)}))&&(a=Oe),(t.includes(s[nt])||t.some(function(l){return C$[nt].includes(l)}))&&(a=nt);var c=t.reduce(function(l,u){var f=function HPe(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function VPe(t){return~iPe.indexOf(t)}(i)?null:i}(F.cssPrefix,u);if(Yo[u]?(u=wPe[a].includes(u)?Jke[a][u]:u,o=u,l.prefix=u):bPe[a].indexOf(u)>-1?(o=u,l.prefix=J8(u,{family:a})):f?l.iconName=f:u!==F.replacementClass&&u!==s[Oe]&&u!==s[nt]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var d="fa"===o?_$(l.iconName):{},h=Fi(l.prefix,l.iconName);d.prefix&&(o=null),l.iconName=d.iconName||h||l.iconName,l.prefix=d.prefix||l.prefix,"far"===l.prefix&&!Yo.far&&Yo.fas&&!F.autoFetchSvg&&(l.prefix="fas")}return l},eC());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===nt&&(Yo.fass||F.autoFetchSvg)&&(c.prefix="fass",c.iconName=Fi(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=Tr()||"fas"),c}var IPe=function(){function t(){(function Oke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function Fke(t,e,n){e&&$j(t.prototype,e),n&&$j(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=P(P({},n.definitions[a]||{}),o[a]),X_(a,o[a]);var c=$4[Oe][a];c&&X_(c,o[a]),y$()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(f){"string"==typeof f&&(n[a][f]=l)}),n[a][c]=l}),n}}]),t}(),M$=[],Qo={},Xo={},EPe=Object.keys(Xo);function tC(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Qo[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Bi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Qo[t]||[]).forEach(function(s){s.apply(null,n)})}function G1(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Xo[t]?Xo[t].apply(null,e):void 0}function nC(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Tr();if(e)return e=Fi(n,e)||e,f$(w$.definitions,n,e)||f$(z2.styles,n,e)}var w$=new IPe,LPe={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U1?(Bi("beforeI2svg",e),G1("pseudoElements2svg",e),G1("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===F.autoReplaceSvg&&(F.autoReplaceSvg=!0),F.observeMutations=!0,function vPe(t){U1&&(K8?setTimeout(t,0):u$.push(t))}(function(){TPe({autoReplaceSvgRoot:n}),Bi("watch",e)})}},Xn={noAuto:function(){F.autoReplaceSvg=!1,F.observeMutations=!1,Bi("noAuto")},config:F,dom:LPe,parse:{icon:function(e){if(null===e)return null;if("object"===O8(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Fi(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=J8(e[0]);return{prefix:r,iconName:Fi(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(F.cssPrefix,"-"))>-1||e.match(Zke))){var i=Z8(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Tr(),iconName:Fi(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=Tr();return{prefix:s,iconName:Fi(s,e)||e}}}},library:w$,findIconDefinition:nC,toHtml:Y4},TPe=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Re:n;(Object.keys(z2.styles).length>0||F.autoFetchSvg)&&U1&&F.autoReplaceSvg&&Xn.dom.i2svg({node:r})};function eu(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Y4(r)})}}),Object.defineProperty(t,"node",{get:function(){if(U1){var r=Re.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function rC(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,f=t.extra,d=t.watchable,h=void 0!==d&&d,p=r.found?r:n,g=p.width,v=p.height,C="fak"===i,y=[F.replacementClass,s?"".concat(F.cssPrefix,"-").concat(s):""].filter(function(zt){return-1===f.classes.indexOf(zt)}).filter(function(zt){return""!==zt||!!zt}).concat(f.classes).join(" "),w={children:[],attributes:P(P({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},E=C&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};h&&(w.attributes[Ri]=""),c&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||K4())},children:[c]}),delete w.attributes.title);var A=P(P({},w),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:P(P({},E),f.styles)}),G=r.found&&n.found?G1("generateAbstractMask",A)||{children:[],attributes:{}}:G1("generateAbstractIcon",A)||{children:[],attributes:{}},yt=G.attributes;return A.children=G.children,A.attributes=yt,a?function kPe(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(F.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:P(P({},i),{},{id:o}),children:r}]}]}(A):function NPe(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(W_(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=W8(P(P({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(A)}function b$(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=P(P(P({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[Ri]="");var u=P({},o.styles);W_(i)&&(u.transform=function hPe(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&Zj?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var f=W8(u);f.length>0&&(l.style=f);var d=[];return d.push({tag:"span",attributes:l,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}var iC=z2.styles;function sC(t){var e=t[0],n=t[1],s=R_(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(F.cssPrefix,"-").concat(Oi.GROUP)},children:[{tag:"path",attributes:{class:"".concat(F.cssPrefix,"-").concat(Oi.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(F.cssPrefix,"-").concat(Oi.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var RPe={found:!1,width:512,height:512};function oC(t,e){var n=e;return"fa"===e&&null!==F.styleDefault&&(e=Tr()),new Promise(function(r,i){if(G1("missingIconAbstract"),"fa"===n){var o=_$(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&iC[e]&&iC[e][t])return r(sC(iC[e][t]));(function OPe(t,e){!r$&&!F.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(P(P({},RPe),{},{icon:F.showMissingIcons&&t&&G1("missingIconAbstract")||{}}))})}var V$=function(){},aC=F.measurePerformance&&B8&&B8.mark&&B8.measure?B8:{mark:V$,measure:V$},Q4='FA "6.4.2"',H$=function(e){aC.mark("".concat(Q4," ").concat(e," ends")),aC.measure("".concat(Q4," ").concat(e),"".concat(Q4," ").concat(e," begins"),"".concat(Q4," ").concat(e," ends"))},cC={begin:function(e){return aC.mark("".concat(Q4," ").concat(e," begins")),function(){return H$(e)}},end:H$},tu=function(){};function S$(t){return"string"==typeof(t.getAttribute?t.getAttribute(Ri):null)}function $Pe(t){return Re.createElementNS("http://www.w3.org/2000/svg",t)}function GPe(t){return Re.createElement(t)}function z$(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?$Pe:GPe:n;if("string"==typeof t)return Re.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(z$(o,{ceFn:r}))}),i}var nu={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(z$(i),n)}),null===n.getAttribute(Ri)&&F.keepOriginalSource){var r=Re.createComment(function qPe(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~q_(n).indexOf(F.replacementClass))return nu.replace(e);var i=new RegExp("".concat(F.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===F.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Y4(a)}).join("\n");n.setAttribute(Ri,""),n.innerHTML=o}};function I$(t){t()}function E$(t,e){var n="function"==typeof e?e:tu;if(0===t.length)n();else{var r=I$;F.mutateApproach===Qke&&(r=Lr.requestAnimationFrame||I$),r(function(){var i=function jPe(){return!0===F.autoReplaceSvg?nu.replace:nu[F.autoReplaceSvg]||nu.replace}(),s=cC.begin("mutate");t.map(i),s(),n()})}}var lC=!1;function x$(){lC=!0}function uC(){lC=!1}var ru=null;function D$(t){if(Jj&&F.observeMutations){var e=t.treeCallback,n=void 0===e?tu:e,r=t.nodeCallback,i=void 0===r?tu:r,s=t.pseudoElementsCallback,o=void 0===s?tu:s,a=t.observeMutationsRoot,c=void 0===a?Re:a;ru=new Jj(function(l){if(!lC){var u=Tr();Ko(l).forEach(function(f){if("childList"===f.type&&f.addedNodes.length>0&&!S$(f.addedNodes[0])&&(F.searchPseudoElements&&o(f.target),n(f.target)),"attributes"===f.type&&f.target.parentNode&&F.searchPseudoElements&&o(f.target.parentNode),"attributes"===f.type&&S$(f.target)&&~rPe.indexOf(f.attributeName))if("class"===f.attributeName&&function BPe(t){var e=t.getAttribute?t.getAttribute(j_):null,n=t.getAttribute?t.getAttribute($_):null;return e&&n}(f.target)){var d=Z8(q_(f.target)),p=d.iconName;f.target.setAttribute(j_,d.prefix||u),p&&f.target.setAttribute($_,p)}else(function UPe(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(F.replacementClass)})(f.target)&&i(f.target)})}}),U1&&ru.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function L$(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function YPe(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=Z8(q_(t));return i.prefix||(i.prefix=Tr()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function SPe(t,e){return(p$[t]||{})[e]}(i.prefix,t.innerText)||Z_(i.prefix,Q_(t.innerText))),!i.iconName&&F.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function QPe(t){var e=Ko(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return F.autoA11y&&(n?e["aria-labelledby"]="".concat(F.replacementClass,"-title-").concat(r||K4()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=tC("parseNodeAttributes",{},t),c=e.styleParser?function KPe(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return P({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:i1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var JPe=z2.styles;function A$(t){var e="nest"===F.autoReplaceSvg?L$(t,{styleParser:!1}):L$(t);return~e.extra.classes.indexOf(i$)?G1("generateLayersText",t,e):G1("generateSvgReplacementMutation",t,e)}var Nr=new Set;function T$(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!U1)return Promise.resolve();var n=Re.documentElement.classList,r=function(f){return n.add("".concat(n$,"-").concat(f))},i=function(f){return n.remove("".concat(n$,"-").concat(f))},s=F.autoFetchSvg?Nr:G_.map(function(u){return"fa-".concat(u)}).concat(Object.keys(JPe));s.includes("fa")||s.push("fa");var o=[".".concat(i$,":not([").concat(Ri,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Ri,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Ko(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=cC.begin("onTree"),l=a.reduce(function(u,f){try{var d=A$(f);d&&u.push(d)}catch(h){r$||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(d){E$(d,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(d){c(),f(d)})})}function ZPe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;A$(t).then(function(n){n&&E$([n],e)})}function eRe(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:nC(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:nC(i||{})),t(r,P(P({},n),{},{mask:i}))}}G_.map(function(t){Nr.add("fa-".concat(t))}),Object.keys(U4[Oe]).map(Nr.add.bind(Nr)),Object.keys(U4[nt]).map(Nr.add.bind(Nr)),Nr=F4(Nr);var tRe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?i1:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,f=n.title,d=void 0===f?null:f,h=n.titleId,p=void 0===h?null:h,g=n.classes,v=void 0===g?[]:g,C=n.attributes,y=void 0===C?{}:C,w=n.styles,E=void 0===w?{}:w;if(e){var A=e.prefix,G=e.iconName,fe=e.icon;return eu(P({type:"icon"},e),function(){return Bi("beforeDOMElementCreation",{iconDefinition:e,params:n}),F.autoA11y&&(d?y["aria-labelledby"]="".concat(F.replacementClass,"-title-").concat(p||K4()):(y["aria-hidden"]="true",y.focusable="false")),rC({icons:{main:sC(fe),mask:c?sC(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:A,iconName:G,transform:P(P({},i1),i),symbol:o,title:d,maskId:u,titleId:p,extra:{attributes:y,styles:E,classes:v}})})}},nRe={mixout:function(){return{icon:eRe(tRe)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=T$,n.nodeCallback=ZPe,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return T$(void 0===r?Re:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,p){Promise.all([oC(i,a),u.iconName?oC(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=R_(g,2);h([n,rC({icons:{main:v[0],mask:v[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:f,title:s,titleId:o,extra:d,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=W8(n.styles);return c.length>0&&(i.style=c),W_(o)&&(l=G1("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},rRe={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return eu({type:"layer"},function(){Bi("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(F.cssPrefix,"-layers")].concat(F4(s)).join(" ")},children:o}]})}}}},iRe={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,f=void 0===u?{}:u;return eu({type:"counter",content:n},function(){return Bi("beforeDOMElementCreation",{content:n,params:r}),function PPe(t){var e=t.content,n=t.title,r=t.extra,i=P(P(P({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=W8(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat(F.cssPrefix,"-layers-counter")].concat(F4(a))}})})}}}},sRe={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?i1:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,f=void 0===u?{}:u,d=r.styles,h=void 0===d?{}:d;return eu({type:"text",content:n},function(){return Bi("beforeDOMElementCreation",{content:n,params:r}),b$({content:n,transform:P(P({},i1),s),title:a,extra:{attributes:f,styles:h,classes:["".concat(F.cssPrefix,"-layers-text")].concat(F4(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(Zj){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return F.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,b$({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},oRe=new RegExp('"',"ug"),N$=[1105920,1112319];function k$(t,e){var n="".concat(Yke).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=Ko(t.children).filter(function(fe){return fe.getAttribute(U_)===e})[0],a=Lr.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(ePe),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var f=a.getPropertyValue("content"),d=~["Sharp"].indexOf(c[2])?nt:Oe,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?j4[d][c[2].toLowerCase()]:tPe[d][l],p=function aRe(t){var e=t.replace(oRe,""),n=function CPe(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=N$[0]&&n<=N$[1],i=2===e.length&&e[0]===e[1];return{value:Q_(i?e[0]:e),isSecondary:r||i}}(f),g=p.value,v=p.isSecondary,C=c[0].startsWith("FontAwesome"),y=Z_(h,g),w=y;if(C){var E=function zPe(t){var e=g$[t],n=Z_("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);E.iconName&&E.prefix&&(y=E.iconName,h=E.prefix)}if(!y||v||o&&o.getAttribute(j_)===h&&o.getAttribute($_)===w)r();else{t.setAttribute(n,w),o&&t.removeChild(o);var A=function XPe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:i1,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),G=A.extra;G.attributes[U_]=e,oC(y,h).then(function(fe){var yt=rC(P(P({},A),{},{icons:{main:fe,mask:eC()},prefix:h,iconName:w,extra:G,watchable:!0})),zt=Re.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(zt,t.firstChild):t.appendChild(zt),zt.outerHTML=yt.map(function(tc){return Y4(tc)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function cRe(t){return Promise.all([k$(t,"::before"),k$(t,"::after")])}function lRe(t){return!(t.parentNode===document.head||~Xke.indexOf(t.tagName.toUpperCase())||t.getAttribute(U_)||t.parentNode&&"svg"===t.parentNode.tagName)}function P$(t){if(U1)return new Promise(function(e,n){var r=Ko(t.querySelectorAll("*")).filter(lRe).map(cRe),i=cC.begin("searchPseudoElements");x$(),Promise.all(r).then(function(){i(),uC(),e()}).catch(function(){i(),uC(),n()})})}var R$=!1,O$=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},fC={x:0,y:0,width:"100%",height:"100%"};function F$(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function hRe(t){return"g"===t.tag?t.children:[t]}var pRe={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?Z8(i.split(" ").map(function(o){return o.trim()})):eC();return s.prefix||(s.prefix=Tr()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,d=o.icon,h=function dPe(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:P(P({},fC),{},{fill:"white"})},g=u.children?{children:u.children.map(F$)}:{},v={tag:"g",attributes:P({},h.inner),children:[F$(P({tag:u.tag,attributes:P(P({},u.attributes),h.path)},g))]},C={tag:"g",attributes:P({},h.outer),children:[v]},y="mask-".concat(a||K4()),w="clip-".concat(a||K4()),E={tag:"mask",attributes:P(P({},fC),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,C]},A={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:hRe(d)},E]};return r.push(A,{tag:"rect",attributes:P({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(y,")")},fC)}),{children:r,attributes:i}}}};!function xPe(t,e){var n=e.mixoutsTo;M$=t,Qo={},Object.keys(Xo).forEach(function(r){-1===EPe.indexOf(r)&&delete Xo[r]}),M$.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===O8(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Qo[o]||(Qo[o]=[]),Qo[o].push(s[o])})}r.provides&&r.provides(Xo)})}([mPe,nRe,rRe,iRe,sRe,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=P$,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;F.searchPseudoElements&&P$(void 0===r?Re:r)}}},{mixout:function(){return{dom:{unwatch:function(){x$(),R$=!0}}}},hooks:function(){return{bootstrap:function(){D$(tC("mutationObserverCallbacks",{}))},noAuto:function(){!function WPe(){ru&&ru.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;R$?uC():D$(tC("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return O$(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=O$(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:P({},h.outer),children:[{tag:"g",attributes:P({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:P(P({},r.icon.attributes),h.path)}]}]}}}},pRe,{provides:function(e){var n=!1;Lr.matchMedia&&(n=Lr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:P(P({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=P(P({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:P(P({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:P(P({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:P(P({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:P(P({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:P(P({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:P(P({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:P(P({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:Xn});var yRe=Xn.parse,_Re=Xn.icon;const CRe=["*"],bRe=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let SRe=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),iu=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),zRe=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=W({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Zn]}),e})(),IRe=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(S(m1),S(Ln))},t.\u0275cmp=D2({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Zn],ngContentSelectors:CRe,decls:1,vars:0,template:function(r,i){1&r&&(function YV(t){const e=b()[st][Zt];if(!e.projection){const r=e.projection=ya(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?AJ(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function QV(t,e=0,n){const r=b(),i=he(),s=Cs(i,ae+t,16,null,n||null);null===s.projection&&(s.projection=e),Zu(),(!r[l1]||es())&&32!=(32&s.flags)&&function PY(t,e,n){ib(e[Z],0,e,n,I5(t,n,e),Jw(n.parent||e[Zt],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),B$=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?yRe.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...bRe(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=_Re(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(S(wI),S(SRe),S(iu),S(zRe,8),S(IRe,8))},t.\u0275cmp=D2({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(E7("innerHTML",i.renderedIconHTML,vb),j2("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Zn],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),su=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=dt({}),e})(),ERe=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=W({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Oa("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function xRe(t,e){if(1&t&&(N(0,"span",13),ie(1),xt(2,"async"),j()),2&t){const n=vn();B(1),Qe(_2(2,1,n.fleetOrdersNotification))}}const Ui=function(){return{color:"#eee"}},DRe=function(){return["fas","house-chimney"]},LRe=function(){return["fas","earth-americas"]},ARe=function(){return["fas","satellite-dish"]},TRe=function(){return["fas","jet-fighter-up"]},NRe=function(){return["fas","chess-board"]},kRe=function(){return["fas","flask-vial"]},PRe=function(){return["fas","hand-fist"]};let RRe=(()=>{var t;class e{constructor(r){this.renderer=R(m1),this.badgeService=R(Oj),this.dgAPI=R(S2),this.changeDetection=R(Xa),this.authService=R(qo),r.addIcons(m0,Rs,ad,zd,Yf,Wf,b0),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.fleetOrdersNotification=new Ke(s=>{this.badgeService.subscribeToFleetOrders(this.dgAPI.username(),s,this.changeDetection)})),this.changeDetection.detectChanges()})}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(S(iu))},t.\u0275cmp=D2({type:t,selectors:[["dgt-navbar"]],decls:39,vars:45,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"],[1,"notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),ht(4,"fa-icon",4),N(5,"span",5),ie(6,"home"),j()()(),N(7,"li",2)(8,"a",6),ht(9,"fa-icon",4),N(10,"span",5),ie(11,"planets"),j()()(),N(12,"li",2)(13,"a",7),ht(14,"fa-icon",4),N(15,"span",5),ie(16,"radar"),j()()(),N(17,"li",2),r2(18,xRe,3,3,"span",8),xt(19,"async"),N(20,"a",9),ht(21,"fa-icon",4),N(22,"span",5),ie(23,"fleets"),j()()(),N(24,"li",2)(25,"a",10),ht(26,"fa-icon",4),N(27,"span",5),ie(28,"navigation"),j()()(),N(29,"li",2)(30,"a",11),ht(31,"fa-icon",4),N(32,"span",5),ie(33,"research"),j()()(),N(34,"li",2)(35,"a",12),ht(36,"fa-icon",4),N(37,"span",5),ie(38,"alliances"),j()()()()()),2&r&&(B(2),ee("tabName","home"),B(2),Et(jt(31,Ui)),ee("icon",jt(32,DRe)),B(3),ee("tabName","planets"),B(2),Et(jt(33,Ui)),ee("icon",jt(34,LRe)),B(3),ee("tabName","radar"),B(2),Et(jt(35,Ui)),ee("icon",jt(36,ARe)),B(3),ee("tabName","fleets"),B(1),ee("ngIf",i.active&&_2(19,29,i.fleetOrdersNotification)),B(3),Et(jt(37,Ui)),ee("icon",jt(38,TRe)),B(3),ee("tabName","navigation"),B(2),Et(jt(39,Ui)),ee("icon",jt(40,NRe)),B(3),ee("tabName","research"),B(2),Et(jt(41,Ui)),ee("icon",jt(42,kRe)),B(3),ee("tabName","alliances"),B(2),Et(jt(43,Ui)),ee("icon",jt(44,PRe)))},dependencies:[ti,B$,ERe,r0],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const u2_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}};let ORe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t,bootstrap:[RRe]}),t.\u0275inj=dt({providers:[Oj],imports:[ni,su,Gs(()=>Ws(u2_firebase)),to(()=>no()),Uo(()=>$o()),Ys(()=>Qs(qs(),{provider:new lr(u2_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class FRe{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class BRe{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class U${constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class j${constructor(){this._resources=new BRe,this._workers=new U$,this._soldiers=new U$}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var St=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(St||{});let $$=(()=>{var t;class e{constructor(){this.dgAPI=R(S2)}extractStats(){let r=new FRe;return r.stats.set(St.ALL,new j$),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new j$),r.stats.get(St.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(St.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(St.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(St.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(St.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case St.METAL:r.stats.get(St.ALL).resources.metalStored+=s.stored,r.stats.get(St.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case St.MINERAL:r.stats.get(St.ALL).resources.mineralStored+=s.stored,r.stats.get(St.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case St.FOOD:r.stats.get(St.ALL).resources.foodStored+=s.stored,r.stats.get(St.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case St.ENERGY:r.stats.get(St.ALL).resources.energyStored+=s.stored,r.stats.get(St.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),URe=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Jt({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),dC=(()=>{var t;class e{constructor(){this.decimalPipe=R(Ps)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Jt({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const jRe=function(t){return{"dgt-stats-totals-last-row":t}},f2=function(t){return{"dgt-padding-bottom-xs":t}};function $Re(t,e){if(1&t&&(N(0,"tr",4)(1,"th",5),ie(2),xt(3,"galaxyNameFormatter"),j(),N(4,"td",6)(5,"div",7),ht(6,"img",8),N(7,"span",9),ie(8),xt(9,"number"),j()()(),N(10,"td",10)(11,"div",7)(12,"span",9),ie(13),xt(14,"resourceProductionFormatter"),j()()(),N(15,"td",11)(16,"div",12),ht(17,"img",13),N(18,"span",9),ie(19),xt(20,"number"),j()()(),N(21,"td",10)(22,"div",12)(23,"span",9),ie(24),xt(25,"resourceProductionFormatter"),j()()(),N(26,"td",11)(27,"div",14),ht(28,"img",15),N(29,"span",9),ie(30),xt(31,"number"),j()()(),N(32,"td",10)(33,"div",14)(34,"span",9),ie(35),xt(36,"resourceProductionFormatter"),j()()(),N(37,"td",11)(38,"div",16),ht(39,"img",17),N(40,"span",9),ie(41),xt(42,"number"),j()()(),N(43,"td",18)(44,"div",16)(45,"span",9),ie(46),xt(47,"resourceProductionFormatter"),j()()(),N(48,"td",19)(49,"div",20),ht(50,"img",21),N(51,"span",9),ie(52),xt(53,"number"),j()()(),N(54,"td",22)(55,"div",23),ht(56,"img",24),N(57,"span",9),ie(58),xt(59,"number"),j()()(),N(60,"td",25)(61,"div",26),ht(62,"img",27),N(63,"span",9),ie(64),xt(65,"number"),j()()()()),2&t){const n=e.$implicit,r=e.index,i=vn();ee("ngClass",Tn(63,jRe,r==i.panel.stats.size-1)),B(1),ee("ngClass",Tn(65,f2,r==i.panel.stats.size-2)),B(1),Qe(_2(3,25,n.key)),B(2),ee("ngClass",Tn(67,f2,r==i.panel.stats.size-2)),B(4),Qe(nr(9,27,n.value.resources.metalStored,"1.0","en-US")),B(2),ee("ngClass",Tn(69,f2,r==i.panel.stats.size-2)),B(3),Qe(_2(14,31,n.value.resources.metalProduction)),B(2),ee("ngClass",Tn(71,f2,r==i.panel.stats.size-2)),B(4),Qe(nr(20,33,n.value.resources.mineralStored,"1.0","en-US")),B(2),ee("ngClass",Tn(73,f2,r==i.panel.stats.size-2)),B(3),Qe(_2(25,37,n.value.resources.mineralProduction)),B(2),ee("ngClass",Tn(75,f2,r==i.panel.stats.size-2)),B(4),Qe(nr(31,39,n.value.resources.foodStored,"1.0","en-US")),B(2),ee("ngClass",Tn(77,f2,r==i.panel.stats.size-2)),B(3),Qe(_2(36,43,n.value.resources.foodProduction)),B(2),ee("ngClass",Tn(79,f2,r==i.panel.stats.size-2)),B(4),Qe(nr(42,45,n.value.resources.energyStored,"1.0","en-US")),B(2),ee("ngClass",Tn(81,f2,r==i.panel.stats.size-2)),B(3),Qe(_2(47,49,n.value.resources.energyProduction)),B(2),ee("ngClass",Tn(83,f2,r==i.panel.stats.size-2)),B(4),Qe(nr(53,51,n.value.resources.ground,"1.0","en-US")),B(2),ee("ngClass",Tn(85,f2,r==i.panel.stats.size-2)),B(4),Qe(nr(59,55,n.value.resources.orbit,"1.0","en-US")),B(2),ee("ngClass",Tn(87,f2,r==i.panel.stats.size-2)),B(4),Qe(nr(65,59,n.value.soldiers.total,"1.0","en-US"))}}let GRe=(()=>{var t;class e{constructor(){this.statsPanelService=R($$)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D2({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/FPuGoOV.png","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OTTk4eY.png","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/7gmDfoF.png","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/DEv8NW9.png","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/HesibsH.png","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/KKdM7BA.png","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/FHlHgxL.png","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1)(2,"table",2),r2(3,$Re,66,89,"tr",3),xt(4,"keyvalue"),j()()()),2&r&&(B(3),ee("ngForOf",_2(4,1,i.panel.stats)))},dependencies:[Sf,n0,Ps,eI,URe,dC],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #626262;height:15px;width:15px;vertical-align:middle}"]}),e})(),qRe=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t,bootstrap:[GRe]}),t.\u0275inj=dt({providers:[Ps,$$,S2],imports:[ni,su]}),e})(),G$=(()=>{var t;class e{constructor(){this.firestore=R(F1),this.dgAPI=R(S2)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){let i=B1(this.firestore,"scans");jo(Go(i,Dr("location","==",r.planetScan.location),Pj(1)),{idField:"id"}).forEach(s=>{let o=Object.assign(new Bj,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==fn.RESOURCE||r.type==fn.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==fn.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==fn.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==fn.FLEET&&(o.fleets=r.planetScan.fleets),0==s.length?kj(i,JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):Rj(T_(i,o.id),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function WRe(t,e){1&t&&(N(0,"p",1),ie(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),j())}let KRe=(()=>{var t;class e{constructor(){this.scanService=R(G$),this.authService=R(qo),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D2({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&r2(0,WRe,2,0,"p",0),2&r&&ee("ngIf",i.active)},dependencies:[ti]}),e})(),YRe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t,bootstrap:[KRe]}),t.\u0275inj=dt({providers:[G$,S2],imports:[ni,Gs(()=>Ws(u2_firebase)),to(()=>no()),Uo(()=>$o()),Ys(()=>Qs(qs(),{provider:new lr(u2_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),q$=(()=>{var t;class e{constructor(){this.firestore=R(F1),this.dgAPI=R(S2),this.resourceProductionFormatterPipe=R(dC),this.decimalPipe=R(Ps)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let i=r.map(s=>s.location.join("."));jo(Go(B1(this.firestore,"scans"),Dr("location","in",i))).forEach(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector(".dgt-navigation-scan-turn").style.display="contents",c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector(".dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(u.turn,"1.0","en_US"),u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let f=u.structures.map(h=>h.name);f.includes(Le.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),f.includes(Le.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),f.includes(Le.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),f.includes(Le.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),f.includes(Le.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),f.includes(Le.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),f.includes(Le.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),f.includes(Le.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),f.includes(Le.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let d=1;if(f.includes(Le.MEDICAL_CENTRE)&&(d+=.3),f.includes(Le.LEISURE_CENTRE)&&(d+=.4),f.includes(Le.HOSPITAL)&&(d+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(d,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}}else c.querySelector(".dgt-navigation-scan-turn-value").textContent="N/A",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="-",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="-"})}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function QRe(t,e){1&t&&(N(0,"p",1),ie(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),j())}let XRe=(()=>{var t;class e{constructor(){this.scanService=R(q$),this.authService=R(qo),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractSummaries();i.length>0&&this.scanService.fillScans(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D2({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&r2(0,QRe,2,0,"p",0),2&r&&ee("ngIf",i.active)},dependencies:[ti]}),e})(),JRe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t,bootstrap:[XRe]}),t.\u0275inj=dt({providers:[Ps,dC,q$,S2],imports:[ni,Gs(()=>Ws(u2_firebase)),to(()=>no()),Uo(()=>$o()),Ys(()=>Qs(qs(),{provider:new lr(u2_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function ZRe(t,e){if(1&t){const n=xs();N(0,"div",2)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"span"),ie(6,"DGT Login"),j()()(),N(7,"tr",4)(8,"td"),ht(9,"input",5,6),j(),N(11,"td"),ht(12,"input",7,8),j()(),N(14,"tr",9)(15,"td",3)(16,"button",10),Ye("click",function(){k2(n);const i=w7(10),s=w7(13);return P2(vn().signInWithEmailAndPassword(i.value,s.value,!0))}),ie(17,"Login"),j(),N(18,"button",11),Ye("click",function(){return k2(n),P2(vn().signInWithGoogle(!0))}),ht(19,"img",12),j()()()()()()}}function eOe(t,e){if(1&t){const n=xs();N(0,"div",13)(1,"table")(2,"tbody")(3,"tr")(4,"td",3)(5,"button",14),Ye("click",function(){return k2(n),P2(vn().signOut(!0))}),ie(6,"Logout"),j()()()()()()}}let tOe=(()=>{var t;class e{constructor(){this.authService=R(qo),this.auth=R(hl),this.firestore=R(F1),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore)}signInWithEmailAndPassword(r,i,s){this.authService.signInWithEmailAndPassword(this.auth,r,i,s)}signInWithGoogle(r){this.authService.signInWithGoogle(this.auth,r)}signOut(r){this.authService.signOut(this.auth,r)}displayLogin(){return null==localStorage.getItem("user")&&!this.authService.refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=D2({type:t,selectors:[["dgt-authentication"]],decls:2,vars:2,consts:[["class","login","id","dgt-login",4,"ngIf"],["class","logout","id","dgt-logout",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"],["id","dgt-logout",1,"logout"],[1,"dgt-logout-button",3,"click"]],template:function(r,i){1&r&&(r2(0,ZRe,20,0,"div",0),r2(1,eOe,7,0,"div",1)),2&r&&(ee("ngIf",i.displayLogin()),B(1),ee("ngIf",!i.displayLogin()))},dependencies:[ti],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-logout-button[_ngcontent-%COMP%]{display:none!important}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),nOe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t,bootstrap:[tOe]}),t.\u0275inj=dt({imports:[ni,Gs(()=>Ws(u2_firebase)),to(()=>no()),Uo(()=>$o()),Ys(()=>Qs(qs(),{provider:new lr(u2_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),W$=(()=>{var t;class e{constructor(){this.firestore=R(F1)}updateOrder(r){let i=B1(this.firestore,"orders");kj(i,JSON.parse(JSON.stringify(r))).catch(s=>{console.log(s)})}deleteOrder(r){Eke(T_(B1(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,s,o){let a=B1(this.firestore,"orders");jo(Go(a,Dr("user","==",r),xke("executed","asc")),{idField:"id"}).forEach(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),o.next(l),s.detectChanges()}).catch(c=>{console.log(c)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class rOe{get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target}}}const{isArray:iOe}=Array,{getPrototypeOf:sOe,prototype:oOe,keys:aOe}=Object;const{isArray:uOe}=Array;function hOe(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function pOe(...t){const e=function $q(t){return Fe(Su(t))?t.pop():void 0}(t),{args:n,keys:r}=function cOe(t){if(1===t.length){const e=t[0];if(iOe(e))return{args:e,keys:null};if(function lOe(t){return t&&"object"==typeof t&&sOe(t)===oOe}(e)){const n=aOe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new Ke(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let f=!1;E2(n[u]).subscribe(o1(s,d=>{f||(f=!0,l--),a[u]=d},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?hOe(r,a):a),s.complete())}))}});return e?i.pipe(function dOe(t){return ta(e=>function fOe(t,e){return uOe(e)?t(...e):t(e)}(t,e))}(e)):i}let K$=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(m1),S(Ln))},t.\u0275dir=W({type:t}),e})(),ji=(()=>{var t;class e extends K${}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=function en(t){return a1(()=>{const e=t.prototype.constructor,n=e[c1]||f5(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[c1]||f5(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(t)))(i||t)}}(),t.\u0275dir=W({type:t,features:[we]}),e})();const s1=new $("NgValueAccessor"),gOe={provide:s1,useExisting:ze(()=>ou),multi:!0},yOe=new $("CompositionEventMode");let ou=(()=>{var t;class e extends K${constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vOe(){const t=Za()?Za().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(m1),S(Ln),S(yOe,8))},t.\u0275dir=W({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ye("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ue([gOe]),we]}),e})();const dn=new $("NgValidators"),Pr=new $("NgAsyncValidators");function sG(t){return null!=t}function oG(t){return I6(t)?zu(t):t}function aG(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function cG(t,e){return e.map(n=>n(t))}function lG(t){return t.map(e=>function COe(t){return!t.validate}(e)?e:n=>e.validate(n))}function hC(t){return null!=t?function uG(t){if(!t)return null;const e=t.filter(sG);return 0==e.length?null:function(n){return aG(cG(n,e))}}(lG(t)):null}function pC(t){return null!=t?function fG(t){if(!t)return null;const e=t.filter(sG);return 0==e.length?null:function(n){return pOe(cG(n,e).map(oG)).pipe(ta(aG))}}(lG(t)):null}function dG(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function mC(t){return t?Array.isArray(t)?t:[t]:[]}function cu(t,e){return Array.isArray(t)?t.includes(e):t===e}function mG(t,e){const n=mC(e);return mC(t).forEach(i=>{cu(n,i)||n.push(i)}),n}function gG(t,e){return mC(e).filter(n=>!cu(t,n))}class vG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Hn extends vG{get formDirective(){return null}get path(){return null}}class Rr extends vG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _G=(()=>{var t;class e extends yG{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Rr,2))},t.\u0275dir=W({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Oa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[we]}),e})();const X4="VALID",uu="INVALID",Jo="PENDING",J4="DISABLED";function fu(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class bG{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===X4}get invalid(){return this.status===uu}get pending(){return this.status==Jo}get disabled(){return this.status===J4}get enabled(){return this.status!==J4}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gG(e,this._rawAsyncValidators))}hasValidator(e){return cu(this._rawValidators,e)}hasAsyncValidator(e){return cu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Jo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=J4,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=X4,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===X4||this.status===Jo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?J4:X4}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Jo,this._hasOwnPendingAsyncValidator=!0;const n=oG(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $t,this.statusChanges=new $t}_calculateStatus(){return this._allControlsDisabled()?J4:this.errors?uu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jo)?Jo:this._anyControlsHaveStatus(uu)?uu:X4}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function HOe(t){return Array.isArray(t)?hC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function SOe(t){return Array.isArray(t)?pC(t):t||null}(this._rawAsyncValidators)}}const Zo=new $("CallSetDisabledState",{providedIn:"root",factory:()=>du}),du="always";function Z4(t,e,n=du){(function MC(t,e){const n=function hG(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(dG(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function pG(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(dG(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();mu(e._rawValidators,i),mu(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function EOe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&VG(t,e)})}(t,e),function DOe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function xOe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&VG(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function IOe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function mu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function VG(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zG(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function IG(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const EG=class extends bG{constructor(e=null,n,r){super(function yC(t){return(fu(t)?t.validators:t)||null}(n),function _C(t,e){return(fu(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=IG(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zG(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zG(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){IG(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},OOe={provide:Rr,useExisting:ze(()=>SC)},LG=(()=>Promise.resolve())();let SC=(()=>{var t;class e extends Rr{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new EG,this._registered=!1,this.name="",this.update=new $t,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function VC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ou?n=s:function TOe(t){return Object.getPrototypeOf(t.constructor)===ji}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function bC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Z4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){LG.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function pf(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);LG.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function hu(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Hn,9),S(dn,10),S(Pr,10),S(s1,10),S(Xa,8),S(Zo,8))},t.\u0275dir=W({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ue([OOe]),we,Zn]}),e})(),TG=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=dt({}),e})(),uFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=dt({imports:[TG]}),e})(),dFe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Zo,useValue:r.callSetDisabledState??du}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=dt({imports:[uFe]}),e})(),hFe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Ln))},t.\u0275dir=W({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&Ye("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})(),pFe=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Ln))},t.\u0275dir=W({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&Ye("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();function mFe(t,e){if(1&t&&(N(0,"span",17),ie(1),j()),2&t){const n=vn().$implicit;B(1),D6("[note: ",n.note,"]")}}const gFe=function(t,e){return{executed:t,"in-progress":e}},vFe=function(){return{color:"#fff"}},yFe=function(){return["fas","circle-xmark"]};function _Fe(t,e){if(1&t){const n=xs();N(0,"div",18)(1,"div",7)(2,"span",19),ie(3,"Target:"),j(),N(4,"span",20),ie(5),j()(),N(6,"div",9)(7,"span",19),ie(8,"Wait:"),j(),N(9,"span",20),ie(10),j()(),N(11,"div",11)(12,"span",19),ie(13,"Instructions:"),j(),N(14,"span",20),ie(15),j()(),N(16,"div",21)(17,"button")(18,"fa-icon",22),Ye("click",function(){const s=k2(n).$implicit;return P2(vn(2).deleteOrder(s.id))}),j()()()()}if(2&t){const n=e.$implicit;ee("ngClass",CS(7,gFe,n.executed,!n.executed)),B(5),Qe(n.target),B(5),Qe(n.wait),B(5),Qe(n.instructions),B(3),Et(jt(10,vFe)),ee("icon",jt(11,yFe))}}function CFe(t,e){if(1&t){const n=xs();N(0,"div",2)(1,"div",3)(2,"span",4),ie(3),j(),r2(4,mFe,2,1,"span",5),j(),N(5,"div",6)(6,"div",7)(7,"span",7),ie(8,"Target:"),j(),N(9,"input",8),Ye("ngModelChange",function(i){const o=k2(n).index;return P2(vn().controls.target[o]=i)}),j()(),N(10,"div",9)(11,"span",9),ie(12,"Wait:"),j(),N(13,"input",10),Ye("ngModelChange",function(i){const o=k2(n).index;return P2(vn().controls.wait[o]=i)}),j()(),N(14,"div",11)(15,"span",11),ie(16,"Instructions:"),j(),N(17,"textarea",12),Ye("ngModelChange",function(i){const o=k2(n).index;return P2(vn().controls.instructions[o]=i)}),j()(),N(18,"div",13)(19,"button",14),Ye("click",function(){const s=k2(n).index;return P2(vn().createOrder(s))}),ie(20,"Create"),j()()(),N(21,"div",15),r2(22,_Fe,19,12,"div",16),xt(23,"async"),j()()}if(2&t){const n=e.$implicit,r=e.index,i=vn();B(3),Qe(n.name),B(1),ee("ngIf",null!=n.note),B(5),ee("ngModel",i.controls.target[r]),B(4),ee("ngModel",i.controls.wait[r]),B(4),ee("ngModel",i.controls.instructions[r]),B(5),ee("ngForOf",_2(23,6,i.orders.get(n.name.toLowerCase())))}}let MFe=(()=>{var t;class e{constructor(r){this.orderService=R(W$),this.dgAPI=R(S2),this.authService=R(qo),this.changeDetection=R(Xa),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},r.addIcons(H0,nL),this.allianceMembers=this.dgAPI.allianceMembers(),this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.allianceMembers.forEach(i=>{this.orders.set(i.name.toLowerCase(),new Ke(s=>{this.orderService.getAllOrders(i.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,s)}))})}createOrder(r){let i=new rOe;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(S(iu))},t.\u0275cmp=D2({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:2,vars:1,consts:[[1,"dgt-orders-manager-panel"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-member"],[1,"player"],[1,"name"],["class","note",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[1,"dgt-orders-history"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"note"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"label"],[1,"value"],[1,"delete"],[3,"icon","click"]],template:function(r,i){1&r&&(N(0,"div",0),r2(1,CFe,24,8,"div",1),j()),2&r&&(B(1),ee("ngForOf",i.allianceMembers))},dependencies:[Sf,n0,ti,ou,_G,SC,B$,hFe,pFe,r0],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:25px;font-size:11px;background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;text-align:left;margin:0;border-radius:2px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:18px;width:310px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:80px!important;cursor:pointer;border:1px solid #6a6a6a!important}span[_ngcontent-%COMP%]{float:left;line-height:23px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{padding:5px;width:calc(100% - 10px)}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);border-radius:5px;margin-bottom:10px;padding:5px}.dgt-orders-history-details[_ngcontent-%COMP%]{width:100%}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{padding:5px;width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:18px;color:#ffd46f}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffd46f;font-weight:400!important}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid #fff;width:calc(100% - 20px);border-radius:5px;padding:5px;margin:4px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{margin-right:20px}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px;margin-left:3px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#ffd46f!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#c8a960!important}.dgt-orders-history[_ngcontent-%COMP%]{width:100%}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{border-color:#7bbd1a;background:#7BBD1A2E}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{border-color:#ff3b30;background:#FF3B302B}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffd46f;font-weight:700}"]}),e})(),wFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t,bootstrap:[MFe]}),t.\u0275inj=dt({providers:[W$,S2],imports:[ni,dFe,su,Gs(()=>Ws(u2_firebase)),to(()=>no()),Uo(()=>$o()),Ys(()=>Qs(qs(),{provider:new lr(u2_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),su]}),e})(),JG=(()=>{var t;class e{constructor(){this.firestore=R(F1)}getActiveOrders(r,i,s,o){let a=B1(this.firestore,"orders");jo(Go(a,Dr("user","==",r),Dr("executed","==",!1)),{idField:"id"}).forEach(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),o.next(l),s.detectChanges()}).catch(c=>{console.log(c)})}completeOrder(r){let i=B1(this.firestore,"orders");Rj(T_(i,r),{executed:!0}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bFe(t,e){if(1&t){const n=xs();N(0,"div",2)(1,"div",3)(2,"button",4),Ye("click",function(){const s=k2(n).$implicit;return P2(vn(2).onCompleteClick(s.id))}),function ow(){K.lFrame.currentNamespace=BM}(),N(3,"svg",5),ht(4,"path",6),j()()(),function aw(){!function bK(){K.lFrame.currentNamespace=null}()}(),N(5,"div",7)(6,"span",8),ie(7,"Target:"),j(),N(8,"span",9),ie(9),j()(),N(10,"div",10)(11,"span",8),ie(12,"Wait:"),j(),N(13,"span",9),ie(14),j()(),N(15,"div",11)(16,"span",8),ie(17,"Instructions:"),j(),N(18,"span",9),ie(19),j()()()}if(2&t){const n=e.$implicit;B(9),Qe(n.target),B(5),Qe(n.wait),B(5),Qe(n.instructions)}}function VFe(t,e){if(1&t&&(S6(0),r2(1,bFe,20,3,"div",1),xt(2,"async"),z6()),2&t){const n=vn();B(1),ee("ngForOf",_2(2,1,n.orders))}}let HFe=(()=>{var t;class e{constructor(r){this.orderService=R(JG),this.dgAPI=R(S2),this.changeDetection=R(Xa),this.authService=R(qo),this.active=!1,r.addIcons(m0,Rs,ad,zd,Yf,Wf,b0),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.orders=new Ke(s=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,s)})),this.changeDetection.detectChanges()})}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(S(iu))},t.\u0275cmp=D2({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","alert-animation dgt-fleet-order",4,"ngFor","ngForOf"],[1,"alert-animation","dgt-fleet-order"],[1,"complete"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 512 512"],["d","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"],[1,"target"],[1,"label"],[1,"value"],[1,"wait"],[1,"instructions"]],template:function(r,i){1&r&&r2(0,VFe,3,3,"ng-container",0),2&r&&ee("ngIf",i.active)},dependencies:[n0,ti,r0],styles:[".dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#FF3B302B;border:1px solid #FF3B30;margin:5px 10px;width:calc(100% - 20px);border-radius:5px;height:40px;line-height:40px}.dgt-fleet-order[_ngcontent-%COMP%]:first-child{margin-top:10px!important}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:10px!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;line-height:40px;width:20px;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{fill:#7a7a7a;height:20px;align-content:center;display:flex}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover > svg[_ngcontent-%COMP%]{fill:#7bbd1a!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:40px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;font-weight:700;color:#ffd46f;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}"]}),e})(),SFe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ct({type:t,bootstrap:[HFe]}),t.\u0275inj=dt({providers:[JG,S2],imports:[ni,Gs(()=>Ws(u2_firebase)),to(()=>no()),Uo(()=>$o()),Ys(()=>Qs(qs(),{provider:new lr(u2_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Gi=lre();let I2=window.location.pathname.split(/\//g);Gi.bootstrapModule(nOe).catch(t=>console.error(t)),Gi.bootstrapModule(ORe).catch(t=>console.error(t)),"planets"===I2[1]&&Gi.bootstrapModule(qRe).catch(t=>console.error(t)),"planet"===I2[1]&&"comms"===(5===I2.length&&I2[3])&&Gi.bootstrapModule(YRe).catch(t=>console.error(t)),"navigation"===I2[1]&&6===I2.length&&!isNaN(+I2[2])&&!isNaN(+I2[3])&&!isNaN(+I2[4])&&Gi.bootstrapModule(JRe).catch(t=>console.error(t)),"alliances"===I2[1]&&Gi.bootstrapModule(wFe).catch(t=>console.error(t)),"fleets"===I2[1]&&Gi.bootstrapModule(SFe).catch(t=>console.error(t))}},Fe=>{Fe(Fe.s=157)}]);