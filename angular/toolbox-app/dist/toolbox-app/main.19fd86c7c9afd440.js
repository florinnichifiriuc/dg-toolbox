(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{851:(ye,xe,V)=>{"use strict";function S(t){return"function"==typeof t}function C(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const j=C(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function z(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class W{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(S(r))try{r()}catch(o){e=o instanceof j?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{m(o)}catch(s){e=e??[],s instanceof j?e=[...e,...s.errors]:e.push(s)}}if(e)throw new j(e)}}add(e){var n;if(e&&e!==this)if(this.closed)m(e);else{if(e instanceof W){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&z(n,e)}remove(e){const{_finalizers:n}=this;n&&z(n,e),e instanceof W&&e._removeParent(this)}}W.EMPTY=(()=>{const t=new W;return t.closed=!0,t})();const k=W.EMPTY;function G(t){return t instanceof W||t&&"closed"in t&&S(t.remove)&&S(t.add)&&S(t.unsubscribe)}function m(t){S(t)?t():t.unsubscribe()}const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},M={setTimeout(t,e,...n){const{delegate:r}=M;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=M;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function v(t){M.setTimeout(()=>{const{onUnhandledError:e}=I;if(!e)throw t;e(t)})}function D(){}const y=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let N=null;function g(t){if(I.useDeprecatedSynchronousErrorHandling){const e=!N;if(e&&(N={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=N;if(N=null,n)throw r}}else t()}class L extends W{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,G(e)&&e.add(this)):this.destination=q}static create(e,n,r){return new le(e,n,r)}next(e){this.isStopped?Ie(function b(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ie(function T(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ie(y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function H(t,e){return O.call(t,e)}class U{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ae(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ae(r)}else ae(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ae(n)}}}class le extends L{constructor(e,n,r){let i;if(super(),S(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&I.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&H(e.next,o),error:e.error&&H(e.error,o),complete:e.complete&&H(e.complete,o)}):i=e}this.destination=new U(i)}}function ae(t){I.useDeprecatedSynchronousErrorHandling?function x(t){I.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=t)}(t):v(t)}function Ie(t,e){const{onStoppedNotification:n}=I;n&&M.setTimeout(()=>n(t,e))}const q={closed:!0,next:D,error:function fe(t){throw t},complete:D},ce="function"==typeof Symbol&&Symbol.observable||"@@observable";function ve(t){return t}function Fe(t){return 0===t.length?ve:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function K(t){return t&&t instanceof L||function et(t){return t&&S(t.next)&&S(t.error)&&S(t.complete)}(t)&&G(t)}(n)?n:new le(n,r,i);return g(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=We(r))((i,o)=>{const s=new le({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ce](){return this}pipe(...n){return Fe(n)(this)}toPromise(n){return new(n=We(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function We(t){var e;return null!==(e=t??I.Promise)&&void 0!==e?e:Promise}const oe=C(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Z=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ne(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oe}next(n){g(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){g(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){g(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?k:(this.currentObservers=null,o.push(n),new W(()=>{this.currentObservers=null,z(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new de;return n.source=this,n}}return t.create=(e,n)=>new ne(e,n),t})();class ne extends Z{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:k}}function wt(t){return S(t?.lift)}function Ve(t){return e=>{if(wt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(t,e,n,r,i){return new Xe(t,e,n,r,i)}class Xe extends L{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Je(t,e){return Ve((n,r)=>{let i=0;n.subscribe(tt(r,o=>{r.next(t.call(e,o,i++))}))})}function tr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Rn(t,e,n,r){var s,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function Do(t,e){return function(n,r){e(n,r,t)}}function yi(t){return this instanceof yi?(this.v=t,this):new yi(t)}function S0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Dc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const O0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Zu(t){return S(t?.then)}function F0(t){return S(t[ce])}function V0(t){return Symbol.asyncIterator&&S(t?.[Symbol.asyncIterator])}function Ju(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ed=function H2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nr(t){return S(t?.[ed])}function Ei(t){return function So(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,_){o.push([f,h,p,_])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof yi?Promise.resolve(f.value.v).then(l,u):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield yi(n.read());if(i)return yield yi(void 0);yield yield yi(r)}}finally{n.releaseLock()}})}function td(t){return S(t?.getReader)}function rr(t){if(t instanceof de)return t;if(null!=t){if(F0(t))return function pU(t){return new de(e=>{const n=t[ce]();if(S(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(O0(t))return function gU(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Zu(t))return function mU(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,v)})}(t);if(V0(t))return Gw(t);if(nr(t))return function _U(t){return new de(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(td(t))return function vU(t){return Gw(Ei(t))}(t)}throw Ju(t)}function Gw(t){return new de(e=>{(function yU(t,e){var n,r,i,o;return function Rr(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=S0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Mo(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Un(t,e,n=1/0){return S(e)?Un((r,i)=>Je((o,s)=>e(r,o,i,s))(rr(t(r,i))),n):("number"==typeof e&&(n=e),Ve((r,i)=>function EU(t,e,n,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=_=>l<r?p(_):c.push(_),p=_=>{o&&e.next(_),l++;let w=!1;rr(n(_,u++)).subscribe(tt(e,R=>{i?.(R),o?h(R):e.next(R)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){const R=c.shift();s?Mo(e,s,()=>p(R)):p(R)}f()}catch(R){e.error(R)}}))};return t.subscribe(tt(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function L0(t=1/0){return Un(ve,t)}const Gi=new de(t=>t.complete());function z2(t){return t[t.length-1]}function qw(t){return S(z2(t))?t.pop():void 0}function nd(t){return function CU(t){return t&&S(t.schedule)}(z2(t))?t.pop():void 0}function B0(t,e=0){return Ve((n,r)=>{n.subscribe(tt(r,i=>Mo(r,t,()=>r.next(i),e),()=>Mo(r,t,()=>r.complete(),e),i=>Mo(r,t,()=>r.error(i),e)))})}function H0(t,e=0){return Ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ww(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{Mo(n,e,()=>{const r=t[Symbol.asyncIterator]();Mo(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ir(t,e){return e?function SU(t,e){if(null!=t){if(F0(t))return function wU(t,e){return rr(t).pipe(H0(e),B0(e))}(t,e);if(O0(t))return function AU(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Zu(t))return function bU(t,e){return rr(t).pipe(H0(e),B0(e))}(t,e);if(V0(t))return Ww(t,e);if(nr(t))return function DU(t,e){return new de(n=>{let r;return Mo(n,e,()=>{r=t[ed](),Mo(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>S(r?.return)&&r.return()})}(t,e);if(td(t))return function TU(t,e){return Ww(Ei(t),e)}(t,e)}throw Ju(t)}(t,e):rr(t)}class ai extends Z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ze(...t){return ir(t,nd(t))}function Kw(t={}){const{connector:e=(()=>new Z),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},p=()=>{const _=s;h(),_?.unsubscribe()};return Ve((_,w)=>{l++,!d&&!u&&f();const R=c=c??e();w.add(()=>{l--,0===l&&!d&&!u&&(a=U2(p,i))}),R.subscribe(w),!s&&l>0&&(s=new le({next:A=>R.next(A),error:A=>{d=!0,f(),a=U2(h,n,A),R.error(A)},complete:()=>{u=!0,f(),a=U2(h,r),R.complete()}}),rr(_).subscribe(s))})(o)}}function U2(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new le({next:()=>{r.unsubscribe(),t()}});return rr(e(...n)).subscribe(r)}function xi(t,e){return Ve((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(tt(r,c=>{i?.unsubscribe();let l=0;const u=o++;rr(t(c,u)).subscribe(i=tt(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qw(t,e=ve){return t=t??PU,Ve((n,r)=>{let i,o=!0;n.subscribe(tt(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function PU(t,e){return t===e}function vt(t){for(let e in t)if(t[e]===vt)return e;throw Error("Could not find renamed property on target object.")}function z0(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j2(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const RU=vt({__forward_ref__:vt});function At(t){return t.__forward_ref__=At,t.toString=function(){return wn(this())},t}function He(t){return $2(t)?t():t}function $2(t){return"function"==typeof t&&t.hasOwnProperty(RU)&&t.__forward_ref__===At}function G2(t){return t&&!!t.\u0275providers}const Yw="https://g.co/ng/security#xss";class ee extends Error{constructor(e,n){super(function U0(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function je(t){return"string"==typeof t?t:null==t?"":String(t)}function q2(t,e){throw new ee(-201,!1)}function ci(t,e){null==t&&function Le(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function De(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ot(t){return{providers:t.providers||[],imports:t.imports||[]}}function j0(t){return Xw(t,G0)||Xw(t,Zw)}function Xw(t,e){return t.hasOwnProperty(e)?t[e]:null}function $0(t){return t&&(t.hasOwnProperty(W2)||t.hasOwnProperty(HU))?t[W2]:null}const G0=vt({\u0275prov:vt}),W2=vt({\u0275inj:vt}),Zw=vt({ngInjectableDef:vt}),HU=vt({ngInjectorDef:vt});var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ot||{});let K2;function kr(t){const e=K2;return K2=t,e}function eb(t,e,n){const r=j0(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ot.Optional?null:void 0!==e?e:void q2(wn(t))}const Dt=globalThis;class we{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=De({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const rd={},J2="__NG_DI_FLAG__",q0="ngTempTokenPath",jU=/\n/gm,nb="__source";let Tc;function ps(t){const e=Tc;return Tc=t,e}function qU(t,e=ot.Default){if(void 0===Tc)throw new ee(-203,!1);return null===Tc?eb(t,void 0,e):Tc.get(t,e&ot.Optional?null:void 0,e)}function Re(t,e=ot.Default){return(function Jw(){return K2}()||qU)(He(t),e)}function Y(t,e=ot.Default){return Re(t,W0(e))}function W0(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function e_(t){const e=[];for(let n=0;n<t.length;n++){const r=He(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ee(900,!1);let i,o=ot.Default;for(let s=0;s<r.length;s++){const a=r[s],c=WU(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(Re(i,o))}else e.push(Re(r))}return e}function id(t,e){return t[J2]=e,t.prototype[J2]=e,t}function WU(t){return t[J2]}function Po(t){return{toString:t}.toString()}var K0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(K0||{}),Ci=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ci||{});const qi={},ft=[],Q0=vt({\u0275cmp:vt}),t_=vt({\u0275dir:vt}),n_=vt({\u0275pipe:vt}),ib=vt({\u0275mod:vt}),Ro=vt({\u0275fac:vt}),od=vt({__NG_ELEMENT_ID__:vt}),ob=vt({__NG_ENV_ID__:vt});function sb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function r_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];cb(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function ab(t){return 3===t||4===t||6===t}function cb(t){return 64===t.charCodeAt(0)}function sd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||lb(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function lb(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const ub="ng-template";function YU(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==sb(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function db(t){return 4===t.type&&t.value!==ub}function XU(t,e,n){return e===(4!==t.type||n?t.value:ub)}function ZU(t,e,n){let r=4;const i=t.attrs||[],o=function tj(t){for(let e=0;e<t.length;e++)if(ab(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!XU(t,c,n)||""===c&&1===e.length){if(Ii(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!YU(t.attrs,l,n)){if(Ii(r))return!1;s=!0}continue}const d=JU(8&r?"class":c,i,db(t),n);if(-1===d){if(Ii(r))return!1;s=!0;continue}if(""!==l){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==sb(h,l,0)||2&r&&l!==f){if(Ii(r))return!1;s=!0}}}}else{if(!s&&!Ii(r)&&!Ii(c))return!1;if(s&&Ii(c))continue;s=!1,r=c|1&r}}return Ii(r)||s}function Ii(t){return 0==(1&t)}function JU(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function nj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function fb(t,e,n=!1){for(let r=0;r<e.length;r++)if(ZU(t,e[r],n))return!0;return!1}function rj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function hb(t,e){return t?":not("+e.trim()+")":e}function ij(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ii(s)&&(e+=hb(o,i),i=""),r=s,o=o||!Ii(r);n++}return""!==i&&(e+=hb(o,i)),e}function vr(t){return Po(()=>{const e=gb(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===K0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ci.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""};mb(n);const r=t.dependencies;return n.directiveDefs=Y0(r,!1),n.pipeDefs=Y0(r,!0),n.id=function fj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function cj(t){return at(t)||jn(t)}function lj(t){return null!==t}function Ht(t){return Po(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pb(t,e){if(null==t)return qi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Oe(t){return Po(()=>{const e=gb(t);return mb(e),e})}function Nn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[Q0]||null}function jn(t){return t[t_]||null}function yr(t){return t[n_]||null}function Gr(t,e){const n=t[ib]||null;if(!n&&!0===e)throw new Error(`Type ${wn(t)} does not have '\u0275mod' property.`);return n}function gb(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pb(t.inputs,e),outputs:pb(t.outputs)}}function mb(t){t.features?.forEach(e=>e(t))}function Y0(t,e){if(!t)return null;const n=e?yr:cj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(lj)}const en=0,Ce=1,Ke=2,zt=3,wi=4,ad=5,or=6,Mc=7,dn=8,gs=9,Pc=10,$e=11,cd=12,_b=13,Rc=14,fn=15,ld=16,Nc=17,Wi=18,ud=19,vb=20,ms=21,No=22,dd=23,fd=24,nt=25,i_=1,yb=2,Ki=7,kc=9,$n=11;function Or(t){return Array.isArray(t)&&"object"==typeof t[i_]}function Er(t){return Array.isArray(t)&&!0===t[i_]}function o_(t){return 0!=(4&t.flags)}function ya(t){return t.componentOffset>-1}function Z0(t){return 1==(1&t.flags)}function bi(t){return!!t.template}function s_(t){return 0!=(512&t[Ke])}function Ea(t,e){return t.hasOwnProperty(Ro)?t[Ro]:null}let Gn=null,J0=!1;function li(t){const e=Gn;return Gn=t,e}const Cb={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function wb(t){if(!pd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Db(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ab(t){t.dirty=!0,function bb(t){if(void 0===t.liveConsumerNode)return;const e=J0;J0=!0;try{for(const n of t.liveConsumerNode)n.dirty||Ab(n)}finally{J0=e}}(t),t.consumerMarkedDirty?.(t)}function c_(t){return t&&(t.nextProducerIndex=0),li(t)}function l_(t,e){if(li(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(pd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ep(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Db(t){Oc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(wb(n),r!==n.version))return!0}return!1}function Tb(t){if(Oc(t),pd(t))for(let e=0;e<t.producerNode.length;e++)ep(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ep(t,e){if(function Mb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Oc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)ep(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Oc(i),i.producerIndexOfThis[r]=e}}function pd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Pb=null;function kb(t){const e=li(null);try{return t()}finally{li(e)}}const Ob=()=>{},bj=(()=>({...Cb,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Ob}))();class Aj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function xr(){return Fb}function Fb(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tj),Dj}function Dj(){const t=Lb(this),e=t?.current;if(e){const n=t.previous;if(n===qi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Tj(t,e,n,r){const i=this.declaredInputs[n],o=Lb(t)||function Sj(t,e){return t[Vb]=e}(t,{previous:qi,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new Aj(c&&c.currentValue,e,a===qi),t[r]=e}xr.ngInherit=!0;const Vb="__ngSimpleChanges__";function Lb(t){return t[Vb]||null}const Qi=function(t,e,n){};function Tt(t){for(;Array.isArray(t);)t=t[en];return t}function tp(t,e){return Tt(e[t])}function Fr(t,e){return Tt(e[t.index])}function zb(t,e){return t.data[e]}function Fc(t,e){return t[e]}function qr(t,e){const n=e[t];return Or(n)?n:n[en]}function vs(t,e){return null==e?null:t[e]}function Ub(t){t[Nc]=0}function Oj(t){1024&t[Ke]||(t[Ke]|=1024,$b(t,1))}function jb(t){1024&t[Ke]&&(t[Ke]&=-1025,$b(t,-1))}function $b(t,e){let n=t[zt];if(null===n)return;n[ad]+=e;let r=n;for(n=n[zt];null!==n&&(1===e&&1===r[ad]||-1===e&&0===r[ad]);)n[ad]+=e,r=n,n=n[zt]}const Be={lFrame:t5(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wb(){return Be.bindingsEnabled}function Vc(){return null!==Be.skipHydrationRootTNode}function Q(){return Be.lFrame.lView}function ct(){return Be.lFrame.tView}function Ai(t){return Be.lFrame.contextLView=t,t[dn]}function Di(t){return Be.lFrame.contextLView=null,t}function qn(){let t=Kb();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kb(){return Be.lFrame.currentTNode}function Yi(t,e){const n=Be.lFrame;n.currentTNode=t,n.isParent=e}function p_(){return Be.lFrame.isParent}function g_(){Be.lFrame.isParent=!1}function Cr(){const t=Be.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Lc(){return Be.lFrame.bindingIndex++}function Wj(t,e){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,m_(e)}function m_(t){Be.lFrame.currentDirectiveIndex=t}function v_(t){Be.lFrame.currentQueryIndex=t}function Qj(t){const e=t[Ce];return 2===e.type?e.declTNode:1===e.type?t[or]:null}function Jb(t,e,n){if(n&ot.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&ot.Host||(i=Qj(o),null===i||(o=o[Rc],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Be.lFrame=e5();return r.currentTNode=e,r.lView=t,!0}function y_(t){const e=e5(),n=t[Ce];Be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function e5(){const t=Be.lFrame,e=null===t?null:t.child;return null===e?t5(t):e}function t5(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function n5(){const t=Be.lFrame;return Be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const r5=n5;function E_(){const t=n5();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ir(){return Be.lFrame.selectedIndex}function xa(t){Be.lFrame.selectedIndex=t}function Kt(){const t=Be.lFrame;return zb(t.tView,t.selectedIndex)}let o5=!0;function np(){return o5}function ys(t){o5=t}function rp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function ip(t,e,n){s5(t,e,3,n)}function op(t,e,n,r){(3&t[Ke])===n&&s5(t,e,n,r)}function x_(t,e){let n=t[Ke];(3&n)===e&&(n&=8191,n+=1,t[Ke]=n)}function s5(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Nc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Nc]+=65536),(a<o||-1==o)&&(r$(t,n,e,c),t[Nc]=(4294901760&t[Nc])+c+2),c++}function a5(t,e){Qi(4,t,e);const n=li(null);try{e.call(t)}finally{li(n),Qi(5,t,e)}}function r$(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Ke]>>13<t[Nc]>>16&&(3&t[Ke])===e&&(t[Ke]+=8192,a5(a,o)):a5(a,o)}const Bc=-1;class md{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function I_(t){return t!==Bc}function _d(t){return 32767&t}function vd(t,e){let n=function a$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Rc],n--;return r}let w_=!0;function sp(t){const e=w_;return w_=t,e}const c5=255,l5=5;let c$=0;const Xi={};function ap(t,e){const n=u5(t,e);if(-1!==n)return n;const r=e[Ce];r.firstCreatePass&&(t.injectorIndex=e.length,b_(r.data,t),b_(e,null),b_(r.blueprint,null));const i=cp(t,e),o=t.injectorIndex;if(I_(i)){const s=_d(i),a=vd(i,e),c=a[Ce].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function b_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function u5(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function cp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=_5(i),null===r)return Bc;if(n++,i=i[Rc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Bc}function A_(t,e,n){!function l$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(od)&&(r=n[od]),null==r&&(r=n[od]=c$++);const i=r&c5;e.data[t+(i>>l5)]|=1<<i}(t,e,n)}function d5(t,e,n){if(n&ot.Optional||void 0!==t)return t;q2()}function f5(t,e,n,r){if(n&ot.Optional&&void 0===r&&(r=null),!(n&(ot.Self|ot.Host))){const i=t[gs],o=kr(void 0);try{return i?i.get(e,r,n&ot.Optional):eb(e,r,n&ot.Optional)}finally{kr(o)}}return d5(r,0,n)}function h5(t,e,n,r=ot.Default,i){if(null!==t){if(2048&e[Ke]&&!(r&ot.Self)){const s=function g$(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Ke]&&!(512&s[Ke]);){const a=p5(o,s,n,r|ot.Self,Xi);if(a!==Xi)return a;let c=o.parent;if(!c){const l=s[vb];if(l){const u=l.get(n,Xi,r);if(u!==Xi)return u}c=_5(s),s=s[Rc]}o=c}return i}(t,e,n,r,Xi);if(s!==Xi)return s}const o=p5(t,e,n,r,Xi);if(o!==Xi)return o}return f5(e,n,r,i)}function p5(t,e,n,r,i){const o=function f$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(od)?t[od]:void 0;return"number"==typeof e?e>=0?e&c5:p$:e}(n);if("function"==typeof o){if(!Jb(e,t,r))return r&ot.Host?d5(i,0,r):f5(e,n,r,i);try{let s;if(s=o(r),null!=s||r&ot.Optional)return s;q2()}finally{r5()}}else if("number"==typeof o){let s=null,a=u5(t,e),c=Bc,l=r&ot.Host?e[fn][or]:null;for((-1===a||r&ot.SkipSelf)&&(c=-1===a?cp(t,e):e[a+8],c!==Bc&&m5(r,!1)?(s=e[Ce],a=_d(c),e=vd(c,e)):a=-1);-1!==a;){const u=e[Ce];if(g5(o,a,u.data)){const d=d$(a,e,n,s,r,l);if(d!==Xi)return d}c=e[a+8],c!==Bc&&m5(r,e[Ce].data[a+8]===l)&&g5(o,a,e)?(s=u,a=_d(c),e=vd(c,e)):a=-1}}return i}function d$(t,e,n,r,i,o){const s=e[Ce],a=s.data[t+8],u=function lp(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=s[c];if(h&&bi(h)&&h.type===n)return c}return null}(a,s,n,null==r?ya(a)&&w_:r!=s&&0!=(3&a.type),i&ot.Host&&o===a);return null!==u?Ca(e,s,u,a):Xi}function Ca(t,e,n,r){let i=t[n];const o=e.data;if(function i$(t){return t instanceof md}(i)){const s=i;s.resolving&&function NU(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ee(-200,`Circular dependency in DI detected for ${t}${n}`)}(function _t(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():je(t)}(o[n]));const a=sp(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?kr(s.injectImpl):null;Jb(t,r,ot.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function n$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Fb(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==l&&kr(l),sp(a),s.resolving=!1,r5()}}return i}function g5(t,e,n){return!!(n[e+(t>>l5)]&1<<t)}function m5(t,e){return!(t&ot.Self||t&ot.Host&&e)}class wr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return h5(this._tNode,this._lView,e,W0(r),n)}}function p$(){return new wr(qn(),Q())}function Wn(t){return Po(()=>{const e=t.prototype.constructor,n=e[Ro]||D_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Ro]||D_(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function D_(t){return $2(t)?()=>{const e=D_(He(t));return e&&e()}:Ea(t)}function _5(t){const e=t[Ce],n=e.type;return 2===n?e.declTNode:1===n?t[or]:null}const zc="__parameters__";function jc(t,e,n){return Po(()=>{const r=function T_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(zc)?c[zc]:Object.defineProperty(c,zc,{value:[]})[zc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Gc(t,e){t.forEach(n=>Array.isArray(n)?Gc(n,e):e(n))}function y5(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function xd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Wr(t,e,n){let r=qc(t,e);return r>=0?t[1|r]=n:(r=~r,function C$(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function S_(t,e){const n=qc(t,e);if(n>=0)return t[1|n]}function qc(t,e){return function E5(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const An=id(jc("Optional"),8),P_=id(jc("SkipSelf"),4);function _p(t){return 128==(128&t.flags)}var Es=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Es||{});const j$=/^>|^->|<!--|-->|--!>|<!-$/g,$$=/(<|>)/g,G$="\u200b$1\u200b";const O_=new Map;let q$=0;const V_="__ngContext__";function sr(t,e){Or(e)?(t[V_]=e[ud],function K$(t){O_.set(t[ud],t)}(e)):t[V_]=e}let L_;function B_(t,e){return L_(t,e)}function wd(t){const e=t[zt];return Er(e)?e[zt]:e}function H5(t){return U5(t[cd])}function z5(t){return U5(t[wi])}function U5(t){for(;null!==t&&!Er(t);)t=t[wi];return t}function Qc(t,e,n,r,i){if(null!=r){let o,s=!1;Er(r)?o=r:Or(r)&&(s=!0,r=r[en]);const a=Tt(r);0===t&&null!==n?null==i?q5(e,n,a):Ia(e,n,a,i||null,!0):1===t&&null!==n?Ia(e,n,a,i||null,!0):2===t?function wp(t,e,n){const r=Cp(t,e);r&&function hG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function mG(t,e,n,r,i){const o=n[Ki];o!==Tt(n)&&Qc(e,t,r,o,i);for(let a=$n;a<n.length;a++){const c=n[a];Ad(c[Ce],c,t,e,r,o)}}(e,t,o,n,i)}}function H_(t,e){return t.createComment(function R5(t){return t.replace(j$,e=>e.replace($$,G$))}(e))}function Ep(t,e,n){return t.createElement(e,n)}function $5(t,e){const n=t[kc],r=n.indexOf(e);jb(e),n.splice(r,1)}function xp(t,e){if(t.length<=$n)return;const n=$n+e,r=t[n];if(r){const i=r[ld];null!==i&&i!==t&&$5(i,r),e>0&&(t[n-1][wi]=r[wi]);const o=dp(t,$n+e);!function oG(t,e){Ad(t,e,e[$e],2,null,null),e[en]=null,e[or]=null}(r[Ce],r);const s=o[Wi];null!==s&&s.detachView(o[Ce]),r[zt]=null,r[wi]=null,r[Ke]&=-129}return r}function z_(t,e){if(!(256&e[Ke])){const n=e[$e];e[dd]&&Tb(e[dd]),e[fd]&&Tb(e[fd]),n.destroyNode&&Ad(t,e,n,3,null,null),function cG(t){let e=t[cd];if(!e)return U_(t[Ce],t);for(;e;){let n=null;if(Or(e))n=e[cd];else{const r=e[$n];r&&(n=r)}if(!n){for(;e&&!e[wi]&&e!==t;)Or(e)&&U_(e[Ce],e),e=e[zt];null===e&&(e=t),Or(e)&&U_(e[Ce],e),n=e&&e[wi]}e=n}}(e)}}function U_(t,e){if(!(256&e[Ke])){e[Ke]&=-129,e[Ke]|=256,function fG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof md)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Qi(4,a,c);try{c.call(a)}finally{Qi(5,a,c)}}else{Qi(4,i,o);try{o.call(i)}finally{Qi(5,i,o)}}}}}(t,e),function dG(t,e){const n=t.cleanup,r=e[Mc];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Mc]=null);const i=e[ms];if(null!==i){e[ms]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[Ce].type&&e[$e].destroy();const n=e[ld];if(null!==n&&Er(e[zt])){n!==e[zt]&&$5(n,e);const r=e[Wi];null!==r&&r.detachView(t)}!function Q$(t){O_.delete(t[ud])}(e)}}function j_(t,e,n){return function G5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[en];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ci.None||o===Ci.Emulated)return null}return Fr(r,n)}}(t,e.parent,n)}function Ia(t,e,n,r,i){t.insertBefore(e,n,r,i)}function q5(t,e,n){t.appendChild(e,n)}function W5(t,e,n,r,i){null!==r?Ia(t,e,n,r,i):q5(t,e,n)}function Cp(t,e){return t.parentNode(e)}function K5(t,e,n){return Y5(t,e,n)}let $_,bp,K_,Ap,Y5=function Q5(t,e,n){return 40&t.type?Fr(t,n):null};function Ip(t,e,n,r){const i=j_(t,r,e),o=e[$e],a=K5(r.parent||e[or],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)W5(o,i,n[c],a,!1);else W5(o,i,n,a,!1);void 0!==$_&&$_(o,r,e,n,i)}function bd(t,e){if(null!==e){const n=e.type;if(3&n)return Fr(e,t);if(4&n)return G_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return bd(t,r);{const i=t[e.index];return Er(i)?G_(-1,i):Tt(i)}}if(32&n)return B_(e,t)()||Tt(t[e.index]);{const r=Z5(t,e);return null!==r?Array.isArray(r)?r[0]:bd(wd(t[fn]),r):bd(t,e.next)}}return null}function Z5(t,e){return null!==e?t[fn][or].projection[e.projection]:null}function G_(t,e){const n=$n+t+1;if(n<e.length){const r=e[n],i=r[Ce].firstChild;if(null!==i)return bd(r,i)}return e[Ki]}function q_(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&sr(Tt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)q_(t,e,n.child,r,i,o,!1),Qc(e,t,i,a,o);else if(32&c){const l=B_(n,r);let u;for(;u=l();)Qc(e,t,i,u,o);Qc(e,t,i,a,o)}else 16&c?eA(t,e,r,n,i,o):Qc(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Ad(t,e,n,r,i,o){q_(n,r,t.firstChild,e,i,o,!1)}function eA(t,e,n,r,i,o){const s=n[fn],c=s[or].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Qc(e,t,i,c[l],o);else{let l=c;const u=s[zt];_p(r)&&(l.flags|=128),q_(t,e,l,u,i,o,!0)}}function tA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function nA(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&r_(t,e,r),null!==i&&tA(t,e,i),null!==o&&function vG(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function Yc(t){return function W_(){if(void 0===bp&&(bp=null,Dt.trustedTypes))try{bp=Dt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return bp}()?.createHTML(t)||t}function Xc(){if(void 0!==K_)return K_;if(typeof document<"u")return document;throw new ee(210,!1)}function rA(t){return function Q_(){if(void 0===Ap&&(Ap=null,Dt.trustedTypes))try{Ap=Dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ap}()?.createHTML(t)||t}class wa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yw})`}}class IG extends wa{getTypeName(){return"HTML"}}class wG extends wa{getTypeName(){return"Style"}}class bG extends wa{getTypeName(){return"Script"}}class AG extends wa{getTypeName(){return"URL"}}class DG extends wa{getTypeName(){return"ResourceURL"}}function Kr(t){return t instanceof wa?t.changingThisBreaksApplicationSecurity:t}function Zi(t,e){const n=function TG(t){return t instanceof wa&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Yw})`)}return n===e}class kG{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Yc(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class OG{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Yc(e),n}}const VG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dp(t){return(t=String(t)).match(VG)?t:"unsafe:"+t}function Fo(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Dd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const aA=Fo("area,br,col,hr,img,wbr"),cA=Fo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lA=Fo("rp,rt"),Y_=Dd(aA,Dd(cA,Fo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dd(lA,Fo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dd(lA,cA)),X_=Fo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uA=Dd(X_,Fo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),LG=Fo("script,style,template");class BG{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Y_.hasOwnProperty(n))return this.sanitizedSomething=!0,!LG.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!uA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;X_[a]&&(c=Dp(c)),this.buf.push(" ",s,'="',dA(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Y_.hasOwnProperty(n)&&!aA.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(dA(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const HG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zG=/([^\#-~ |!])/g;function dA(t){return t.replace(/&/g,"&amp;").replace(HG,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(zG,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tp;function fA(t,e){let n=null;try{Tp=Tp||function sA(t){const e=new OG(t);return function FG(){try{return!!(new window.DOMParser).parseFromString(Yc(""),"text/html")}catch{return!1}}()?new kG(e):e}(t);let r=e?String(e):"";n=Tp.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Tp.getInertBodyElement(r)}while(r!==o);return Yc((new BG).sanitizeChildren(Z_(n)||n))}finally{if(n){const r=Z_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Z_(t){return"content"in t&&function UG(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var di=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(di||{});function hA(t){const e=Td();return e?rA(e.sanitize(di.HTML,t)||""):Zi(t,"HTML")?rA(Kr(t)):fA(Xc(),je(t))}function J_(t){const e=Td();return e?e.sanitize(di.URL,t)||"":Zi(t,"URL")?Kr(t):Dp(je(t))}function Td(){const t=Q();return t&&t[Pc].sanitizer}const Sd=new we("ENVIRONMENT_INITIALIZER"),mA=new we("INJECTOR",-1),_A=new we("INJECTOR_DEF_TYPES");class ev{get(e,n=rd){if(n===rd){const r=new Error(`NullInjectorError: No provider for ${wn(e)}!`);throw r.name="NullInjectorError",r}return n}}function KG(...t){return{\u0275providers:yA(0,t),\u0275fromNgModule:!0}}function yA(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Gc(e,s=>{const a=s;Sp(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&EA(i,o),n}function EA(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];tv(i,o=>{e(o,r)})}}function Sp(t,e,n,r){if(!(t=He(t)))return!1;let i=null,o=$0(t);const s=!o&&at(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=$0(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Sp(l,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Gc(o.imports,u=>{Sp(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&EA(l,e)}if(!a){const l=Ea(i)||(()=>new i);e({provide:i,useFactory:l,deps:ft},i),e({provide:_A,useValue:i,multi:!0},i),e({provide:Sd,useValue:()=>Re(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=t;tv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function tv(t,e){for(let n of t)G2(n)&&(n=n.\u0275providers),Array.isArray(n)?tv(n,e):e(n)}const QG=vt({provide:String,useValue:vt});function nv(t){return null!==t&&"object"==typeof t&&QG in t}function ba(t){return"function"==typeof t}const rv=new we("Set Injector scope."),Mp={},XG={};let iv;function Pp(){return void 0===iv&&(iv=new ev),iv}class Ti{}class Zc extends Ti{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sv(e,s=>this.processProvider(s)),this.records.set(mA,Jc(void 0,this)),i.has("environment")&&this.records.set(Ti,Jc(void 0,this));const o=this.records.get(rv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_A.multi,ft,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ps(this),r=kr(void 0);try{return e()}finally{ps(n),kr(r)}}get(e,n=rd,r=ot.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ob))return e[ob](this);r=W0(r);const o=ps(this),s=kr(void 0);try{if(!(r&ot.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function nq(t){return"function"==typeof t||"object"==typeof t&&t instanceof we}(e)&&j0(e);c=l&&this.injectableDefInScope(l)?Jc(ov(e),Mp):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ot.Self?Pp():this.parent).get(e,n=r&ot.Optional&&n===rd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[q0]=a[q0]||[]).unshift(wn(e)),o)throw a;return function KU(t,e,n,r){const i=t[q0];throw e[nb]&&i.unshift(e[nb]),t.message=function QU(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=wn(e);if(Array.isArray(e))i=e.map(wn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):wn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jU,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[q0]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{kr(s),ps(o)}}resolveInjectorInitializers(){const e=ps(this),n=kr(void 0);try{const i=this.get(Sd.multi,ft,ot.Self);for(const o of i)o()}finally{ps(e),kr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(wn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){let n=ba(e=He(e))?e:He(e&&e.provide);const r=function JG(t){return nv(t)?Jc(void 0,t.useValue):Jc(IA(t),Mp)}(e);if(ba(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Jc(void 0,Mp,!0),i.factory=()=>e_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Mp&&(n.value=XG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function tq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=He(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ov(t){const e=j0(t),n=null!==e?e.factory:Ea(t);if(null!==n)return n;if(t instanceof we)throw new ee(204,!1);if(t instanceof Function)return function ZG(t){const e=t.length;if(e>0)throw xd(e,"?"),new ee(204,!1);const n=function BU(t){return t&&(t[G0]||t[Zw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ee(204,!1)}function IA(t,e,n){let r;if(ba(t)){const i=He(t);return Ea(i)||ov(i)}if(nv(t))r=()=>He(t.useValue);else if(function CA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...e_(t.deps||[]));else if(function xA(t){return!(!t||!t.useExisting)}(t))r=()=>Re(He(t.useExisting));else{const i=He(t&&(t.useClass||t.provide));if(!function eq(t){return!!t.deps}(t))return Ea(i)||ov(i);r=()=>new i(...e_(t.deps))}return r}function Jc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sv(t,e){for(const n of t)Array.isArray(n)?sv(n,e):n&&G2(n)?sv(n.\u0275providers,e):e(n)}const Rp=new we("AppId",{providedIn:"root",factory:()=>rq}),rq="ng",wA=new we("Platform Initializer"),Vo=new we("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bA=new we("CSP nonce",{providedIn:"root",factory:()=>Xc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let AA=(t,e,n)=>null;function pv(t,e,n=!1){return AA(t,e,n)}class hq{}class SA{}class gq{resolveComponentFactory(e){throw function pq(t){const e=Error(`No component factory found for ${wn(t)}.`);return e.ngComponent=t,e}(e)}}let Rd=(()=>{class e{}return e.NULL=new gq,e})();function mq(){return nl(qn(),Q())}function nl(t,e){return new ar(Fr(t,e))}let ar=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=mq,e})();class PA{}let Ji=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function vq(){const t=Q(),n=qr(qn().index,t);return(Or(n)?n:t)[$e]}(),e})(),yq=(()=>{var t;class e{}return(t=e).\u0275prov=De({token:t,providedIn:"root",factory:()=>null}),e})();class rl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const RA=new rl("16.2.12"),_v={};function FA(t,e=null,n=null,r){const i=VA(t,e,n,r);return i.resolveInjectorInitializers(),i}function VA(t,e=null,n=null,r,i=new Set){const o=[n||ft,KG(t)];return r=r||("object"==typeof t?void 0:wn(t)),new Zc(o,e||Pp(),r||null,i)}let Dn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return FA({name:""},i,r,"");{const o=r.name??"";return FA({name:o},r.parent,r.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=rd,t.NULL=new ev,t.\u0275prov=De({token:t,providedIn:"any",factory:()=>Re(mA)}),t.__NG_ELEMENT_ID__=-1,e})();function yv(t){return t.ngOriginalError}class Lo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&yv(e);for(;n&&yv(n);)n=yv(n);return n||null}}function xv(t){return e=>{setTimeout(t,void 0,e)}}const Qt=class Aq extends Z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=xv(o),i&&(i=xv(i)),s&&(s=xv(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof W&&e.add(a),a}};function BA(...t){}class dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qt(!1),this.onMicrotaskEmpty=new Qt(!1),this.onStable=new Qt(!1),this.onError=new Qt(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Dq(){const t="function"==typeof Dt.requestAnimationFrame;let e=Dt[t?"requestAnimationFrame":"setTimeout"],n=Dt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Mq(t){const e=()=>{!function Sq(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Iv(t),t.isCheckStableRunning=!0,Cv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Iv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function Rq(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return HA(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),zA(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return HA(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),zA(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Iv(t),Cv(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new ee(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Tq,BA,BA);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Tq={};function Cv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Iv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function HA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zA(t){t._nesting--,Cv(t)}class Pq{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qt,this.onMicrotaskEmpty=new Qt,this.onStable=new Qt,this.onError=new Qt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const UA=new we("",{providedIn:"root",factory:jA});function jA(){const t=Y(dt);let e=!0;return function MU(...t){const e=nd(t),n=function IU(t,e){return"number"==typeof z2(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?rr(r[0]):L0(n)(ir(r,e)):Gi}(new de(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new de(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{dt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Kw()))}function Bo(t){return t instanceof Function?t():t}let wv=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=De({token:t,providedIn:"root",factory:()=>new t}),e})();function Nd(t){for(;t;){t[Ke]|=64;const e=wd(t);if(s_(t)&&!e)return t;t=e}return null}const KA=new we("",{providedIn:"root",factory:()=>!1});let Bp=null;function ZA(t,e){return t[e]??tD()}function JA(t,e){const n=tD();n.producerNode?.length&&(t[e]=Bp,n.lView=t,Bp=eD())}const Uq={...Cb,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Nd(t.lView)},lView:null};function eD(){return Object.create(Uq)}function tD(){return Bp??=eD(),Bp}const qe={};function me(t){nD(ct(),Q(),Ir()+t,!1)}function nD(t,e,n,r){if(!r)if(3==(3&e[Ke])){const o=t.preOrderCheckHooks;null!==o&&ip(e,o,n)}else{const o=t.preOrderHooks;null!==o&&op(e,o,0,n)}xa(n)}function X(t,e=ot.Default){const n=Q();return null===n?Re(t,e):h5(qn(),n,He(t),e)}function Hp(t,e,n,r,i,o,s,a,c,l,u){const d=e.blueprint.slice();return d[en]=i,d[Ke]=140|r,(null!==l||t&&2048&t[Ke])&&(d[Ke]|=2048),Ub(d),d[zt]=d[Rc]=t,d[dn]=n,d[Pc]=s||t&&t[Pc],d[$e]=a||t&&t[$e],d[gs]=c||t&&t[gs]||null,d[or]=o,d[ud]=function W$(){return q$++}(),d[No]=u,d[vb]=l,d[fn]=2==e.type?t[fn]:d,d}function sl(t,e,n,r,i){let o=t.data[e];if(null===o)o=function bv(t,e,n,r,i){const o=Kb(),s=p_(),c=t.data[e]=function Xq(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Vc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function qj(){return Be.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function gd(){const t=Be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Yi(o,!0),o}function kd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function rD(t,e,n,r,i){const o=ZA(e,dd),s=Ir(),a=2&r;try{xa(-1),a&&e.length>nt&&nD(t,e,nt,!1),Qi(a?2:0,i);const l=a?o:null,u=c_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{l_(l,u)}}finally{a&&null===e[dd]&&JA(e,dd),xa(s),Qi(a?3:1,i)}}function Av(t,e,n){if(o_(e)){const r=li(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{li(r)}}}function Dv(t,e,n){Wb()&&(function iW(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;ya(n)&&function dW(t,e,n){const r=Fr(e,t),i=iD(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=zp(t,Hp(t,i,null,s,r,e,null,t[Pc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ap(n,e),sr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],l=Ca(e,t,a,n);sr(l,e),null!==s&&fW(0,a-i,l,c,0,s),bi(c)&&(qr(n.index,e)[dn]=Ca(e,t,a,n))}}(t,e,n,Fr(n,e)),64==(64&n.flags)&&lD(t,e,n))}function Tv(t,e,n=Fr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function iD(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Sv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Sv(t,e,n,r,i,o,s,a,c,l,u){const d=nt+r,f=d+i,h=function Gq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:qe);return n}(d,f),p="function"==typeof l?l():l;return h[Ce]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let oD=t=>null;function sD(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?aD(n,e,i,o):r.hasOwnProperty(i)&&aD(n,e,r[i],o)}return n}function aD(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Qr(t,e,n,r,i,o,s,a){const c=Fr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(kv(t,n,u,r,i),ya(e)&&function eW(t,e){const n=qr(e,t);16&n[Ke]||(n[Ke]|=64)}(n,e.index)):3&e.type&&(r=function Jq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function Mv(t,e,n,r){if(Wb()){const i=null===r?null:{"":-1},o=function sW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(fb(e,s.selectors,!1))if(r||(r=[]),bi(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Pv(t,e,a.length)}else r.unshift(s),Pv(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&cD(t,e,n,s,i,a),i&&function aW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new ee(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=sd(n.mergedAttrs,n.attrs)}function cD(t,e,n,r,i,o){for(let l=0;l<r.length;l++)A_(ap(n,e),t,r[l].type);!function lW(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=kd(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=sd(n.mergedAttrs,u.hostAttrs),uW(t,n,e,c,u),cW(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function Zq(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],f=n?n.get(d):null,p=f?f.outputs:null;c=sD(d.inputs,u,c,f?f.inputs:null),l=sD(d.outputs,u,l,p);const _=null===c||null===s||db(e)?null:hW(c,u,s);a.push(_)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,o)}function lD(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Kj(){return Be.lFrame.currentDirectiveIndex}();try{xa(o);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];m_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&oW(c,l)}}finally{xa(-1),m_(s)}}function oW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Pv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function cW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bi(e)&&(n[""]=t)}}function uW(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ea(i.type)),s=new md(o,bi(i),X);t.blueprint[r]=s,n[r]=s,function nW(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function rW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,kd(t,n,i.hostVars,qe),i)}function eo(t,e,n,r,i,o){const s=Fr(t,e);!function Rv(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?je(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[$e],s,o,t.value,n,r,i)}function fW(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)uD(r,n,s[a++],s[a++],s[a++])}function uD(t,e,n,r,i){const o=li(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{li(o)}}function hW(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function dD(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function fD(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];v_(n[r]),s.contentQueries(2,e[o],o)}}}function zp(t,e){return t[cd]?t[_b][wi]=e:t[cd]=e,t[_b]=e,e}function Nv(t,e,n){v_(0);const r=li(null);try{e(t,n)}finally{li(r)}}function mD(t,e){const n=t[gs],r=n?n.get(Lo,null):null;r&&r.handleError(e)}function kv(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];uD(t.data[s],e[s],r,a,i)}}function pW(t,e){const n=qr(e,t),r=n[Ce];!function gW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[en];null!==i&&null===n[No]&&(n[No]=pv(i,n[gs])),Ov(r,n,n[dn])}function Ov(t,e,n){y_(e);try{const r=t.viewQuery;null!==r&&Nv(1,r,n);const i=t.template;null!==i&&rD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fD(t,e),t.staticViewQueries&&Nv(2,t.viewQuery,n);const o=t.components;null!==o&&function mW(t,e){for(let n=0;n<e.length;n++)pW(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ke]&=-5,E_()}}let _D=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,o){const s=typeof Zone>"u"?null:Zone.current,a=function wj(t,e,n){const r=Object.create(bj);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>Ab(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Db(r))return;r.hasRun=!0;const s=c_(r);try{r.cleanupFn(),r.cleanupFn=Ob,r.fn(i)}finally{l_(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,s)},o);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=De({token:t,providedIn:"root",factory:()=>new t}),e})();function Up(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=j2(i,a):2==o&&(r=j2(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Od(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Tt(o)),Er(o)&&vD(o,r);const s=n.type;if(8&s)Od(t,e,n.child,r);else if(32&s){const a=B_(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Z5(e,n);if(Array.isArray(a))r.push(...a);else{const c=wd(e[fn]);Od(c[Ce],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function vD(t,e){for(let n=$n;n<t.length;n++){const r=t[n],i=r[Ce].firstChild;null!==i&&Od(r[Ce],r,i,e)}t[Ki]!==t[en]&&e.push(t[Ki])}function jp(t,e,n,r=!0){const i=e[Pc],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{yD(t,e,t.template,n)}catch(c){throw r&&mD(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function yD(t,e,n,r){const i=e[Ke];if(256!=(256&i)){e[Pc].effectManager?.flush(),y_(e);try{Ub(e),function Yb(t){return Be.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&rD(t,e,n,2,r);const s=3==(3&i);if(s){const l=t.preOrderCheckHooks;null!==l&&ip(e,l,null)}else{const l=t.preOrderHooks;null!==l&&op(e,l,0,null),x_(e,0)}if(function yW(t){for(let e=H5(t);null!==e;e=z5(e)){if(!e[yb])continue;const n=e[kc];for(let r=0;r<n.length;r++){Oj(n[r])}}}(e),ED(e,2),null!==t.contentQueries&&fD(t,e),s){const l=t.contentCheckHooks;null!==l&&ip(e,l)}else{const l=t.contentHooks;null!==l&&op(e,l,1),x_(e,1)}!function $q(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=ZA(e,fd);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)xa(~o);else{const s=o,a=n[++i],c=n[++i];Wj(a,s),r.dirty=!1;const l=c_(r);try{c(2,e[s])}finally{l_(r,l)}}}}finally{null===e[fd]&&JA(e,fd),xa(-1)}}(t,e);const a=t.components;null!==a&&CD(e,a,0);const c=t.viewQuery;if(null!==c&&Nv(2,c,r),s){const l=t.viewCheckHooks;null!==l&&ip(e,l)}else{const l=t.viewHooks;null!==l&&op(e,l,2),x_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Ke]&=-73,jb(e)}finally{E_()}}}function ED(t,e){for(let n=H5(t);null!==n;n=z5(n))for(let r=$n;r<n.length;r++)xD(n[r],e)}function EW(t,e,n){xD(qr(e,t),n)}function xD(t,e){if(!function Nj(t){return 128==(128&t[Ke])}(t))return;const n=t[Ce],r=t[Ke];if(80&r&&0===e||1024&r||2===e)yD(n,t,n.template,t[dn]);else if(t[ad]>0){ED(t,1);const i=n.components;null!==i&&CD(t,i,1)}}function CD(t,e,n){for(let r=0;r<e.length;r++)EW(t,e[r],n)}class Fd{get rootNodes(){const e=this._lView,n=e[Ce];return Od(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dn]}set context(e){this._lView[dn]=e}get destroyed(){return 256==(256&this._lView[Ke])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[zt];if(Er(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(xp(e,r),dp(n,r))}this._attachedToViewContainer=!1}z_(this._lView[Ce],this._lView)}onDestroy(e){!function Gb(t,e){if(256==(256&t[Ke]))throw new ee(911,!1);null===t[ms]&&(t[ms]=[]),t[ms].push(e)}(this._lView,e)}markForCheck(){Nd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ke]&=-129}reattach(){this._lView[Ke]|=128}detectChanges(){jp(this._lView[Ce],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function aG(t,e){Ad(t,e,e[$e],2,null,null)}(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e}}class xW extends Fd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;jp(e[Ce],e,e[dn],!1)}checkNoChanges(){}get context(){return null}}class ID extends Rd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=at(e);return new Vd(n,this.ngModule)}}function wD(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class IW{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=W0(r);const i=this.injector.get(e,_v,r);return i!==_v||n===_v?i:this.parentInjector.get(e,n,r)}}class Vd extends SA{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=wD(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return wD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function oj(t){return t.map(ij).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Ti?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new IW(e,o):e,a=s.get(PA,null);if(null===a)throw new ee(407,!1);const d={rendererFactory:a,sanitizer:s.get(yq,null),effectManager:s.get(_D,null),afterRenderEventManager:s.get(wv,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function qq(t,e,n,r){const o=r.get(KA,!1)||n===Ci.ShadowDom,s=t.selectRootElement(e,o);return function Wq(t){oD(t)}(s),s}(f,r,this.componentDef.encapsulation,s):Ep(f,h,function CW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),R=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let A=null;null!==p&&(A=pv(p,s,!0));const $=Sv(0,null,null,1,0,null,null,null,null,null,null),ie=Hp(null,$,null,R,null,null,d,f,s,null,A);let pe,Ne;y_(ie);try{const Ze=this.componentDef;let Jt,zn=null;Ze.findHostDirectiveDefs?(Jt=[],zn=new Map,Ze.findHostDirectiveDefs(Ze,Jt,zn),Jt.push(Ze)):Jt=[Ze];const pa=function bW(t,e){const n=t[Ce],r=nt;return t[r]=e,sl(n,r,2,"#host",null)}(ie,p),M4e=function AW(t,e,n,r,i,o,s){const a=i[Ce];!function DW(t,e,n,r){for(const i of t)e.mergedAttrs=sd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Up(e,e.mergedAttrs,!0),null!==n&&nA(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=pv(e,i[gs]));const l=o.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Hp(i,iD(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Pv(a,t,r.length-1),zp(i,d),i[t.index]=d}(pa,p,Ze,Jt,ie,d,f);Ne=zb($,nt),p&&function SW(t,e,n,r){if(r)r_(t,n,["ng-version",RA.full]);else{const{attrs:i,classes:o}=function sj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ii(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&r_(t,n,i),o&&o.length>0&&tA(t,n,o.join(" "))}}(f,Ze,p,r),void 0!==n&&function MW(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Ne,this.ngContentSelectors,n),pe=function TW(t,e,n,r,i,o){const s=qn(),a=i[Ce],c=Fr(s,i);cD(a,i,s,n,null,r);for(let u=0;u<n.length;u++)sr(Ca(i,a,s.directiveStart+u,s),i);lD(a,i,s),c&&sr(c,i);const l=Ca(i,a,s.directiveStart+s.componentOffset,s);if(t[dn]=i[dn]=l,null!==o)for(const u of o)u(l,e);return Av(a,s,t),l}(M4e,Ze,Jt,zn,ie,[PW]),Ov($,ie,null)}finally{E_()}return new wW(this.componentType,pe,nl(Ne,ie),ie,Ne)}}class wW extends hq{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new xW(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;kv(o[Ce],o,i,e,n),this.previousInputValues.set(e,n),Nd(qr(this._tNode.index,o))}}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function PW(){const t=qn();rp(Q()[Ce],t)}function yt(t){let e=function bD(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(bi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=$p(t.inputs),s.inputTransforms=$p(t.inputTransforms),s.declaredInputs=$p(t.declaredInputs),s.outputs=$p(t.outputs);const a=i.hostBindings;a&&OW(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&NW(t,c),l&&kW(t,l),z0(t.inputs,i.inputs),z0(t.declaredInputs,i.declaredInputs),z0(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),z0(s.inputTransforms,i.inputTransforms)),bi(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===yt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function RW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=sd(i.hostAttrs,n=sd(n,i.hostAttrs))}}(r)}function $p(t){return t===qi?{}:t===ft?[]:t}function NW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function kW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function OW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Gp(t){return!!Fv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function to(t,e,n){return t[e]=n}function cr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Aa(t,e,n,r){const i=cr(t,e,n);return cr(t,e+1,r)||i}function Si(t,e,n,r){const i=Q();return cr(i,Lc(),e)&&(ct(),eo(Kt(),i,t,e,n,r)),Si}function cl(t,e,n,r){return cr(t,Lc(),n)?e+je(n)+r:qe}function tn(t,e,n,r,i,o,s,a){const c=Q(),l=ct(),u=t+nt,d=l.firstCreatePass?function sK(t,e,n,r,i,o,s,a,c){const l=e.consts,u=sl(e,t,4,s||null,vs(l,a));Mv(e,n,u,vs(l,c)),rp(e,u);const d=u.tView=Sv(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,o,s):l.data[u];Yi(d,!1);const f=UD(l,c,d,t);np()&&Ip(l,c,f,d),sr(f,c),zp(c,c[u]=dD(f,c,f,d)),Z0(d)&&Dv(l,c,d),null!=s&&Tv(c,d,a)}let UD=function jD(t,e,n,r){return ys(!0),e[$e].createComment("")};function Uv(t){return Fc(function Gj(){return Be.lFrame.contextLView}(),nt+t)}function ke(t,e,n){const r=Q();return cr(r,Lc(),e)&&Qr(ct(),Kt(),r,t,e,r[$e],n,!1),ke}function jv(t,e,n,r,i){const s=i?"class":"style";kv(t,n,e.inputs[s],s,r)}function re(t,e,n,r){const i=Q(),o=ct(),s=nt+t,a=i[$e],c=o.firstCreatePass?function uK(t,e,n,r,i,o){const s=e.consts,c=sl(e,t,2,r,vs(s,i));return Mv(e,n,c,vs(s,o)),null!==c.attrs&&Up(c,c.attrs,!1),null!==c.mergedAttrs&&Up(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],l=$D(o,i,c,a,e,t);i[s]=l;const u=Z0(c);return Yi(c,!0),nA(a,l,c),32!=(32&c.flags)&&np()&&Ip(o,i,l,c),0===function Vj(){return Be.lFrame.elementDepthCount}()&&sr(l,i),function Lj(){Be.lFrame.elementDepthCount++}(),u&&(Dv(o,i,c),Av(o,c,i)),null!==r&&Tv(i,c),re}function ue(){let t=qn();p_()?g_():(t=t.parent,Yi(t,!1));const e=t;(function Hj(t){return Be.skipHydrationRootTNode===t})(e)&&function $j(){Be.skipHydrationRootTNode=null}(),function Bj(){Be.lFrame.elementDepthCount--}();const n=ct();return n.firstCreatePass&&(rp(n,t),o_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function o$(t){return 0!=(8&t.flags)}(e)&&jv(n,e,Q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function s$(t){return 0!=(16&t.flags)}(e)&&jv(n,e,Q(),e.stylesWithoutHost,!1),ue}function ht(t,e,n,r){return re(t,e,n,r),ue(),ht}let $D=(t,e,n,r,i,o)=>(ys(!0),Ep(r,i,function i5(){return Be.lFrame.currentNamespace}()));function Ud(t,e,n){const r=Q(),i=ct(),o=t+nt,s=i.firstCreatePass?function hK(t,e,n,r,i){const o=e.consts,s=vs(o,r),a=sl(e,t,8,"ng-container",s);return null!==s&&Up(a,s,!0),Mv(e,n,a,vs(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Yi(s,!0);const a=qD(i,r,s,t);return r[o]=a,np()&&Ip(i,r,a,s),sr(a,r),Z0(s)&&(Dv(i,r,s),Av(i,s,r)),null!=n&&Tv(r,s),Ud}function jd(){let t=qn();const e=ct();return p_()?g_():(t=t.parent,Yi(t,!1)),e.firstCreatePass&&(rp(e,t),o_(t)&&e.queries.elementEnd(t)),jd}let qD=(t,e,n,r)=>(ys(!0),H_(e[$e],""));function Da(){return Q()}function $d(t){return!!t&&"function"==typeof t.then}function WD(t){return!!t&&"function"==typeof t.subscribe}function Ut(t,e,n,r){const i=Q(),o=ct(),s=qn();return function QD(t,e,n,r,i,o,s){const a=Z0(r),l=t.firstCreatePass&&function pD(t){return t.cleanup||(t.cleanup=[])}(t),u=e[dn],d=function hD(t){return t[Mc]||(t[Mc]=[])}(e);let f=!0;if(3&r.type||s){const _=Fr(r,e),w=s?s(_):_,R=d.length,A=s?ie=>s(Tt(ie[r.index])):r.index;let $=null;if(!s&&a&&($=function mK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Mc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,f=!1;else{o=XD(r,e,u,o,!1);const ie=n.listen(w,i,o);d.push(o,ie),l&&l.push(i,A,R,R+1)}}else o=XD(r,e,u,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const _=p.length;if(_)for(let w=0;w<_;w+=2){const pe=e[p[w]][p[w+1]].subscribe(o),Ne=d.length;d.push(o,pe),l&&l.push(i,r.index,Ne,-(Ne+1))}}}(o,i,i[$e],s,t,e,r),Ut}function YD(t,e,n,r){try{return Qi(6,e,n),!1!==n(r)}catch(i){return mD(t,i),!1}finally{Qi(7,e,n)}}function XD(t,e,n,r,i){return function o(s){if(s===Function)return r;Nd(t.componentOffset>-1?qr(t.index,e):e);let c=YD(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=YD(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function jt(t=1){return function Yj(t){return(Be.lFrame.contextLView=function Xj(t,e){for(;t>0;)e=e[Rc],t--;return e}(t,Be.lFrame.contextLView))[dn]}(t)}function _K(t,e){let n=null;const r=function ej(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?fb(t,o,!0):rj(r,o))return i}else n=i}return n}function Gd(t,e,n){return $v(t,"",e,"",n),Gd}function $v(t,e,n,r,i){const o=Q(),s=cl(o,e,n,r);return s!==qe&&Qr(ct(),Kt(),o,t,s,o[$e],i,!1),$v}function Yp(t,e){return t<<17|e<<2}function xs(t){return t>>17&32767}function Gv(t){return 2|t}function Ta(t){return(131068&t)>>2}function qv(t,e){return-131069&t|e<<2}function Wv(t){return 1|t}function cT(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?xs(o):Ta(o),c=!1;for(;0!==a&&(!1===c||s);){const u=t[a+1];IK(t[a],e)&&(c=!0,t[a+1]=r?Wv(u):Gv(u)),a=r?xs(u):Ta(u)}c&&(t[n+1]=r?Gv(o):Wv(o))}function IK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&qc(t,e)>=0}function qd(t,e){return function Mi(t,e,n,r){const i=Q(),o=ct(),s=function Oo(t){const e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function _T(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ir()],s=function mT(t,e){return e>=t.expandoStartIndex}(t,n);(function xT(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function RK(t,e,n,r){const i=function __(t){const e=Be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Wd(n=Kv(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Kv(i,t,e,n,r),null===o){let c=function NK(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ta(r))return t[xs(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=Kv(null,t,e,c[1],r),c=Wd(c,e.attrs,r),function kK(t,e,n,r){t[xs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function OK(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Wd(r,t[o].hostAttrs,n);return Wd(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function xK(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=xs(s),c=Ta(s);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||qc(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=xs(t[a+1]);t[r+1]=Yp(f,a),0!==f&&(t[f+1]=qv(t[f+1],r)),t[a+1]=function yK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Yp(a,0),0!==a&&(t[a+1]=qv(t[a+1],r)),a=r;else t[r+1]=Yp(c,0),0===a?a=r:t[c+1]=qv(t[c+1],r),c=r;l&&(t[r+1]=Gv(t[r+1])),cT(t,u,r,!0),cT(t,u,r,!1),function CK(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&qc(o,e)>=0&&(n[r+1]=Wv(n[r+1]))}(e,u,t,r,o),s=Yp(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==qe&&cr(i,s,e)&&function yT(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function EK(t){return 1==(1&t)}(l)?ET(c,e,n,i,Ta(l),s):void 0;Xp(u)||(Xp(o)||function vK(t){return 2==(2&t)}(l)&&(o=ET(c,null,n,i,a,s)),function _G(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Es.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Es.Important),t.setStyle(n,r,i,o))}}(r,s,tp(Ir(),n),i,o))}(o,o.data[Ir()],i,i[$e],t,i[s+1]=function BK(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=wn(Kr(t)))),t}(e,n),r,s)}(t,e,null,!0),qd}function Kv(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Wd(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Wd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Wr(t,s,!!n||e[++o]))}return void 0===t?null:t}function ET(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===qe&&(f=d?ft:void 0);let h=d?S_(f,r):u===r?f:void 0;if(l&&!Xp(h)&&(h=S_(c,r)),Xp(h)&&(a=h,s))return a;const p=t[i+1];i=s?xs(p):Ta(p)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=S_(c,r))}return a}function Xp(t){return void 0!==t}function Te(t,e=""){const n=Q(),r=ct(),i=t+nt,o=r.firstCreatePass?sl(r,i,1,e,null):r.data[i],s=CT(r,n,o,e,t);n[i]=s,np()&&Ip(r,n,s,o),Yi(o,!1)}let CT=(t,e,n,r,i)=>(ys(!0),function yp(t,e){return t.createText(e)}(e[$e],r));function St(t){return Sa("",t,""),St}function Sa(t,e,n){const r=Q(),i=cl(r,t,e,n);return i!==qe&&function Ho(t,e,n){const r=tp(e,t);!function j5(t,e,n){t.setValue(e,n)}(t[$e],r,n)}(r,Ir(),i),Sa}function Qv(t,e,n){const r=Q();return cr(r,Lc(),e)&&Qr(ct(),Kt(),r,t,e,r[$e],n,!0),Qv}const Ma=void 0;var aQ=["en",[["a","p"],["AM","PM"],Ma],[["AM","PM"],Ma,Ma],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ma,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ma,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ma,"{1} 'at' {0}",Ma],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sQ(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let _l={};function br(t){const e=function cQ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=UT(e);if(n)return n;const r=e.split("-")[0];if(n=UT(r),n)return n;if("en"===r)return aQ;throw new ee(701,!1)}function UT(t){return t in _l||(_l[t]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[t]),_l[t]}var Mt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Mt||{});const vl="en-US";let jT=vl;function Zv(t,e,n,r,i){if(t=He(t),Array.isArray(t))for(let o=0;o<t.length;o++)Zv(t[o],e,n,r,i);else{const o=ct(),s=Q(),a=qn();let c=ba(t)?t:He(t.provide);const l=IA(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(ba(t)||!t.multi){const h=new md(l,i,X),p=ey(c,e,i?u:u+f,d);-1===p?(A_(ap(a,s),o,c),Jv(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{const h=ey(c,e,u+f,d),p=ey(c,e,u,u+f),w=p>=0&&n[p];if(i&&!w||!i&&!(h>=0&&n[h])){A_(ap(a,s),o,c);const R=function sY(t,e,n,r,i){const o=new md(t,n,X);return o.multi=[],o.index=e,o.componentProviders=0,pS(o,i,r&&!n),o}(i?oY:iY,n.length,i,r,l);!i&&w&&(n[p].providerFactory=R),Jv(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(R),s.push(R)}else Jv(o,t,h>-1?h:p,pS(n[i?p:h],l,!i&&r));!i&&r&&w&&n[p].componentProviders++}}}function Jv(t,e,n,r){const i=ba(e),o=function YG(t){return!!t.useClass}(e);if(i||o){const c=(o?He(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function pS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ey(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function iY(t,e,n,r){return ty(this.multi,[])}function oY(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ca(n,n[Ce],this.providerFactory.index,r);o=a.slice(0,s),ty(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],ty(i,o);return o}function ty(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $t(t,e=[]){return n=>{n.providersResolver=(r,i)=>function rY(t,e,n){const r=ct();if(r.firstCreatePass){const i=bi(t);Zv(n,r.data,r.blueprint,i,!0),Zv(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Pa{}class gS{}class ny extends Pa{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ID(this);const i=Gr(e);this._bootstrapComponents=Bo(i.bootstrap),this._r3Injector=VA(e,n,[{provide:Pa,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver},...r],wn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ry extends gS{constructor(e){super(),this.moduleType=e}create(e){return new ny(this.moduleType,e,[])}}class mS extends Pa{constructor(e){super(),this.componentFactoryResolver=new ID(this),this.instance=null;const n=new Zc([...e.providers,{provide:Pa,useValue:this},{provide:Rd,useValue:this.componentFactoryResolver}],e.parent||Pp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function _S(t,e,n=null){return new mS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let lY=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=yA(0,r.type),o=i.length>0?_S([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=De({token:t,providedIn:"environment",factory:()=>new t(Re(Ti))}),e})();function vS(t){t.getStandaloneInjector=e=>e.get(lY).getOrCreateStandaloneInjector(t)}function yl(t,e,n){const r=Cr()+t,i=Q();return i[r]===qe?to(i,r,n?e.call(n):e()):function Ld(t,e){return t[e]}(i,r)}function Br(t,e,n,r){return AS(Q(),Cr(),t,e,n,r)}function bS(t,e,n,r,i){return function DS(t,e,n,r,i,o,s){const a=e+n;return Aa(t,a,i,o)?to(t,a+2,s?r.call(s,i,o):r(i,o)):Jd(t,a+2)}(Q(),Cr(),t,e,n,r,i)}function Jd(t,e){const n=t[e];return n===qe?void 0:n}function AS(t,e,n,r,i,o){const s=e+n;return cr(t,s,i)?to(t,s+1,o?r.call(o,i):r(i)):Jd(t,s+1)}function TS(t,e,n,r,i,o,s,a){const c=e+n;return function qp(t,e,n,r,i){const o=Aa(t,e,n,r);return cr(t,e+2,i)||o}(t,c,i,o,s)?to(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Jd(t,c+3)}function Yt(t,e){const n=ct();let r;const i=t+nt;n.firstCreatePass?(r=function bY(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Ea(r.type)),a=kr(X);try{const c=sp(!1),l=o();return sp(c),function lK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Q(),i,l),l}finally{kr(a)}}function lr(t,e,n){const r=t+nt,i=Q(),o=Fc(i,r);return ef(i,r)?AS(i,Cr(),e,o.transform,n,o):o.transform(n)}function Cs(t,e,n,r,i){const o=t+nt,s=Q(),a=Fc(s,o);return ef(s,o)?TS(s,Cr(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function ef(t,e){return t[Ce].data[e].pure}function PY(t,e,n,r=!0){const i=e[Ce];if(function lG(t,e,n,r){const i=$n+r,o=n.length;r>0&&(n[i-1][wi]=e),r<o-$n?(e[wi]=n[i],y5(n,$n+r,e)):(n.push(e),e[wi]=null),e[zt]=n;const s=e[ld];null!==s&&n!==s&&function uG(t,e){const n=t[kc];e[fn]!==e[zt][zt][fn]&&(t[yb]=!0),null===n?t[kc]=[e]:n.push(e)}(s,e);const a=e[Wi];null!==a&&a.insertView(t),e[Ke]|=128}(i,e,t,n),r){const o=G_(n,t),s=e[$e],a=Cp(s,t[Ki]);null!==a&&function sG(t,e,n,r,i,o){r[en]=i,r[or]=e,Ad(t,r,n,1,i,o)}(i,t[or],s,e,a,o)}}let zo=(()=>{class e{}return e.__NG_ELEMENT_ID__=kY,e})();const RY=zo,NY=class extends RY{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function MY(t,e,n,r){const i=e.tView,a=Hp(t,i,n,4096&t[Ke]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ld]=t[e.index];const l=t[Wi];return null!==l&&(a[Wi]=l.createEmbeddedView(i)),Ov(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Fd(i)}};function kY(){return function ng(t,e){return 4&t.type?new NY(e,t,nl(t,e)):null}(qn(),Q())}let Ri=(()=>{class e{}return e.__NG_ELEMENT_ID__=HY,e})();function HY(){return function VS(t,e){let n;const r=e[t.index];return Er(r)?n=r:(n=dD(r,e,null,t),e[t.index]=n,zp(e,n)),LS(n,e,t,r),new OS(n,t,e)}(qn(),Q())}const zY=Ri,OS=class extends zY{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return nl(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){const e=cp(this._hostTNode,this._hostLView);if(I_(e)){const n=vd(e,this._hostLView),r=_d(e);return new wr(n[Ce].data[r+8],n)}return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=FS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function Ed(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}const c=s?e:new Vd(at(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const w=(s?l:this.parentInjector).get(Ti,null);w&&(o=w)}at(c.componentType??{});const h=c.create(l,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function kj(t){return Er(t[zt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[zt],u=new OS(l,l[or],l[zt]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return PY(a,i,s,!r),e.attachToViewContainerRef(),y5(sy(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=FS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=xp(this._lContainer,n);r&&(dp(sy(this._lContainer),n),z_(r[Ce],r))}detach(e){const n=this._adjustIndex(e,-1),r=xp(this._lContainer,n);return r&&null!=dp(sy(this._lContainer),n)?new Fd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function FS(t){return t[8]}function sy(t){return t[8]||(t[8]=[])}let LS=function BS(t,e,n,r){if(t[Ki])return;let i;i=8&n.type?Tt(r):function UY(t,e){const n=t[$e],r=n.createComment(""),i=Fr(e,t);return Ia(n,Cp(n,i),r,function pG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Ki]=i};const u7=new we("Application Initializer");let _y=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=Y(u7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if($d(s))r.push(s);else if(WD(s)){const a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),d7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Uo=new we("LocaleId",{providedIn:"root",factory:()=>Y(Uo,ot.Optional|ot.SkipSelf)||function yX(){return typeof $localize<"u"&&$localize.locale||vl}()});let f7=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ai(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class CX{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let IX=(()=>{var t;class e{compileModuleSync(r){return new ry(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Bo(Gr(r).declarations).reduce((a,c)=>{const l=at(c);return l&&a.push(new Vd(l)),a},[]);return new CX(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const m7=new we(""),sg=new we("");let Cy,Ey=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cy||(function GX(t){Cy=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(dt),Re(xy),Re(sg))},t.\u0275prov=De({token:t,factory:t.\u0275fac}),e})(),xy=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Cy?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Is=null;const _7=new we("AllowMultipleToken"),Iy=new we("PlatformDestroyListeners"),v7=new we("appBootstrapListener");function x7(t,e,n=[]){const r=`Platform: ${e}`,i=new we(r);return(o=[])=>{let s=wy();if(!s||s.injector.get(_7,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function KX(t){if(Is&&!Is.get(_7,!1))throw new ee(400,!1);(function y7(){!function yj(t){Pb=t}(()=>{throw new ee(600,!1)})})(),Is=t;const e=t.get(I7);(function E7(t){t.get(wA,null)?.forEach(n=>n())})(t)}(function C7(t=[],e){return Dn.create({name:e,providers:[{provide:rv,useValue:"platform"},{provide:Iy,useValue:new Set([()=>Is=null])},...t]})}(a,r))}return function YX(t){const e=wy();if(!e)throw new ee(401,!1);return e}()}}function wy(){return Is?.get(I7)??null}let I7=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function XX(t="zone.js",e){return"noop"===t?new Pq:"zone.js"===t?new dt(e):t}(i?.ngZone,function w7(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function cY(t,e,n){return new ny(t,e,n)}(r.moduleType,this.injector,function S7(t){return[{provide:dt,useFactory:t},{provide:Sd,multi:!0,useFactory:()=>{const e=Y(JX,{optional:!0});return()=>e.initialize()}},{provide:T7,useFactory:ZX},{provide:UA,useFactory:jA}]}(()=>o)),a=s.injector.get(Lo,null);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{ag(this._modules,s),c.unsubscribe()})}),function b7(t,e,n){try{const r=n();return $d(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const c=s.injector.get(_y);return c.runInitializers(),c.donePromise.then(()=>(function $T(t){ci(t,"Expected localeId to be defined"),"string"==typeof t&&(jT=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Uo,vl)||vl),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=A7({},i);return function qX(t,e,n){const r=new ry(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(rf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new ee(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Iy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Dn))},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function A7(t,e){return Array.isArray(e)?e.reduce(A7,t):{...t,...e}}let rf=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Y(T7),this.zoneIsStable=Y(UA),this.componentTypes=[],this.components=[],this.isStable=Y(f7).hasPendingTasks.pipe(xi(r=>r?ze(!1):this.zoneIsStable),Qw(),Kw()),this._injector=Y(Ti)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof SA;if(!this._injector.get(_y).done)throw!o&&function Sc(t){const e=at(t)||jn(t)||yr(t);return null!==e&&e.standalone}(r),new ee(405,!1);let a;a=o?r:this._injector.get(Rd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function WX(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Pa),u=a.create(Dn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(m7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ag(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;ag(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(v7,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ag(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ee(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ag(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const T7=new we("",{providedIn:"root",factory:()=>Y(Lo).handleError.bind(void 0)});function ZX(){const t=Y(dt),e=Y(Lo);return n=>t.runOutsideAngular(()=>e.handleError(n))}let JX=(()=>{var t;class e{constructor(){this.zone=Y(dt),this.applicationRef=Y(rf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let io=(()=>{class e{}return e.__NG_ELEMENT_ID__=nZ,e})();function nZ(t){return function rZ(t,e,n){if(ya(t)&&!n){const r=qr(t.index,e);return new Fd(r,r)}return 47&t.type?new Fd(e[fn],e):null}(qn(),Q(),16==(16&t))}class N7{constructor(){}supports(e){return Gp(e)}create(e){return new lZ(e)}}const cZ=(t,e)=>e;class lZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cZ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<O7(r,i,o)?n:r,a=O7(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Gp(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function UW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new uZ(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new k7),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k7),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class uZ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class k7{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new dZ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function O7(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class F7{constructor(){}supports(e){return e instanceof Map||Fv(e)}create(){return new fZ}}class fZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Fv(e)))throw new ee(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new hZ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class hZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function V7(){return new ug([new N7])}let ug=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||V7()),deps:[[e,new P_,new An]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=De({token:t,providedIn:"root",factory:V7}),e})();function L7(){return new sf([new F7])}let sf=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||L7()),deps:[[e,new P_,new An]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=De({token:t,providedIn:"root",factory:L7}),e})();const mZ=x7(null,"core",[]);let _Z=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(rf))},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({}),e})();let My=null;function ws(){return My}class MZ{}const Yr=new we("DocumentToken");let W7=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:function(){return Y(PZ)},providedIn:"platform"}),e})(),PZ=(()=>{var t;class e extends W7{constructor(){super(),this._doc=Y(Yr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ws().getBaseHref(this._doc)}onPopState(r){const i=ws().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=ws().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function K7(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Q7(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Na(t){return t&&"?"!==t[0]?"?"+t:t}let fg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:function(){return Y(NZ)},providedIn:"root"}),e})();const RZ=new we("appBaseHref");let NZ=(()=>{var t;class e extends fg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Y(Yr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return K7(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Na(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Na(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Na(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(W7),Re(RZ,8))},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Py=(()=>{var t;class e{constructor(r){this._subject=new Qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function FZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Q7(Y7(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Na(i))}normalize(r){return e.stripTrailingSlash(function OZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Y7(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Na(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Na(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Na,t.joinWithSlash=K7,t.stripTrailingSlash=Q7,t.\u0275fac=function(r){return new(r||t)(Re(fg))},t.\u0275prov=De({token:t,factory:function(){return function kZ(){return new Py(Re(fg))}()},providedIn:"root"}),e})();function Y7(t){return t.replace(/\/index.html$/,"")}var hg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(hg||{}),hn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(hn||{});function hi(t,e){const n=br(t),r=n[Mt.NumberSymbols][e];if(typeof r>"u"){if(e===hn.CurrencyDecimal)return n[Mt.NumberSymbols][hn.Decimal];if(e===hn.CurrencyGroup)return n[Mt.NumberSymbols][hn.Group]}return r}const lJ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function By(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const zy=/\s+/,o9=[];let Uy=(()=>{var t;class e{constructor(r,i,o,s){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=o9,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(zy):o9}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(zy):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(zy).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(X(ug),X(sf),X(ar),X(Ji))},t.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class CJ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ig=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new CJ(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),a9(c,o)}});for(let o=0,s=i.length;o<s;o++){const c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{a9(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ri),X(zo),X(ug))},t.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function a9(t,e){t.context.$implicit=e.item}let bs=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new IJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){c9("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){c9("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ri),X(zo))},t.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class IJ{constructor(){this.$implicit=null,this.ngIf=null}}function c9(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wn(e)}'.`)}function ki(t,e){return new ee(2100,!1)}class AJ{createSubscription(e,n){return kb(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){kb(()=>e.unsubscribe())}}class DJ{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const TJ=new DJ,SJ=new AJ;let wl=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if($d(r))return TJ;if(WD(r))return SJ;throw ki()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(X(io,16))},t.\u0275pipe=Nn({name:"async",type:t,pure:!1,standalone:!0}),e})(),u9=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=d9}transform(r,i=d9){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const o=this.differ.diff(r),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(function UJ(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(X(sf,16))},t.\u0275pipe=Nn({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function d9(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let bl=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,o){if(!function Gy(t){return!(null==t||""===t||t!=t)}(r))return null;o=o||this._locale;try{return function gJ(t,e,n){return function Vy(t,e,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(t)){let l=function _J(t){let r,i,o,s,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);s&&(l=function mJ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(o){const A=o.match(lJ);if(null===A)throw new Error(`${o} is not a valid digit info`);const $=A[1],ie=A[3],pe=A[5];null!=$&&(u=By($)),null!=ie&&(d=By(ie)),null!=pe?f=By(pe):null!=ie&&d>f&&(f=d)}!function vJ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const _=l.exponent;let w=[];for(c=h.every(A=>!A);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?w=h.splice(p,h.length):(w=h,h=[0]);const R=[];for(h.length>=e.lgSize&&R.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)R.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&R.unshift(h.join("")),a=R.join(hi(n,r)),w.length&&(a+=hi(n,i)+w.join("")),_&&(a+=hi(n,hn.Exponential)+"+"+_)}else a=hi(n,hn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function Ly(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const u=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Ry(t,e){return br(t)[Mt.NumberFormats][e]}(e,hg.Decimal),hi(e,hn.MinusSign)),e,hn.Group,hn.Decimal,n)}(function qy(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),o,i)}catch(s){throw ki()}}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Uo,16))},t.\u0275pipe=Nn({name:"number",type:t,pure:!0,standalone:!0}),e})();let GJ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({}),e})();const qJ="server";function Wy(t){return t===qJ}class yee extends MZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yy extends yee{static makeCurrent(){!function SZ(t){My||(My=t)}(new Yy)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Eee(){return uf=uf||document.querySelector("base"),uf?uf.getAttribute("href"):null}();return null==n?null:function xee(t){Ag=Ag||document.createElement("a"),Ag.setAttribute("href",t);const e=Ag.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){uf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function EJ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Ag,uf=null,Iee=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac}),e})();const Xy=new we("EventManagerPlugins");let _9=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new ee(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Xy),Re(dt))},t.\u0275prov=De({token:t,factory:t.\u0275fac}),e})();class v9{constructor(e){this._doc=e}}const Zy="ng-app-id";let y9=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wy(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Zy}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Zy),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Zy,this.appId),a}}addStyleToHost(r,i){const o=this.getStyleElement(r,i);r.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Yr),Re(Rp),Re(bA,8),Re(Vo))},t.\u0275prov=De({token:t,factory:t.\u0275fac}),e})();const Jy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},e4=/%COMP%/g,Dee=new we("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function x9(t,e){return e.map(n=>n.replace(e4,t))}let C9=(()=>{var t;class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Wy(c),this.defaultRenderer=new t4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ci.ShadowDom&&(i={...i,encapsulation:Ci.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof w9?o.applyToHost(r):o instanceof n4&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ci.Emulated:s=new w9(l,u,i,this.appId,d,a,c,f);break;case Ci.ShadowDom:return new Pee(l,u,r,i,a,c,this.nonce,f);default:s=new n4(l,u,i,d,a,c,f)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(_9),Re(y9),Re(Rp),Re(Dee),Re(Yr),Re(Vo),Re(dt),Re(bA))},t.\u0275prov=De({token:t,factory:t.\u0275fac}),e})();class t4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Jy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(I9(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(I9(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Jy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Jy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Es.DashCase|Es.Important)?e.style.setProperty(n,r,i&Es.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Es.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ws().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function I9(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Pee extends t4{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=x9(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class n4 extends t4{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?x9(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class w9 extends n4{constructor(e,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=function Tee(t){return"_ngcontent-%COMP%".replace(e4,t)}(l),this.hostAttr=function See(t){return"_nghost-%COMP%".replace(e4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Ree=(()=>{var t;class e extends v9{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Yr))},t.\u0275prov=De({token:t,factory:t.\u0275fac}),e})();const b9=["alt","control","meta","shift"],Nee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kee={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Oee=(()=>{var t;class e extends v9{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ws().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),b9.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=Nee[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),b9.forEach(a=>{a!==o&&(0,kee[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Yr))},t.\u0275prov=De({token:t,factory:t.\u0275fac}),e})();const D9=[{provide:Vo,useValue:"browser"},{provide:wA,useValue:function Fee(){Yy.makeCurrent()},multi:!0},{provide:Yr,useFactory:function Lee(){return function CG(t){K_=t}(document),document},deps:[]}],Bee=x7(mZ,"browser",D9),Hee=new we(""),T9=[{provide:sg,useClass:class Cee{addToWindow(e){Dt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new ee(5103,!1);return o},Dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Dt.getAllAngularRootElements=()=>e.getAllRootElements(),Dt.frameworkStabilizers||(Dt.frameworkStabilizers=[]),Dt.frameworkStabilizers.push(r=>{const i=Dt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ws().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:m7,useClass:Ey,deps:[dt,xy,sg]},{provide:Ey,useClass:Ey,deps:[dt,xy,sg]}],S9=[{provide:rv,useValue:"root"},{provide:Lo,useFactory:function Vee(){return new Lo},deps:[]},{provide:Xy,useClass:Ree,multi:!0,deps:[Yr,dt,Vo]},{provide:Xy,useClass:Oee,multi:!0,deps:[Yr]},C9,y9,_9,{provide:PA,useExisting:C9},{provide:class YJ{},useClass:Iee,deps:[]},[]];let Oi=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Rp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Hee,12))},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({providers:[...S9,...T9],imports:[GJ,_Z]}),e})(),r4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Yr))},t.\u0275prov=De({token:t,factory:function(r){let i=null;return i=r?new r:function Uee(){return new r4(Re(Yr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let R9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:function(r){let i=null;return i=r?new(r||t):Re(N9),i},providedIn:"root"}),e})(),N9=(()=>{var t;class e extends R9{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case di.NONE:return i;case di.HTML:return Zi(i,"HTML")?Kr(i):fA(this._doc,String(i)).toString();case di.STYLE:return Zi(i,"Style")?Kr(i):i;case di.SCRIPT:if(Zi(i,"Script"))return Kr(i);throw new ee(5200,!1);case di.URL:return Zi(i,"URL")?Kr(i):Dp(String(i));case di.RESOURCE_URL:if(Zi(i,"ResourceURL"))return Kr(i);throw new ee(5201,!1);default:throw new ee(5202,!1)}}bypassSecurityTrustHtml(r){return function SG(t){return new IG(t)}(r)}bypassSecurityTrustStyle(r){return function MG(t){return new wG(t)}(r)}bypassSecurityTrustScript(r){return function PG(t){return new bG(t)}(r)}bypassSecurityTrustUrl(r){return function RG(t){return new AG(t)}(r)}bypassSecurityTrustResourceUrl(r){return function NG(t){return new DG(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(Yr))},t.\u0275prov=De({token:t,factory:function(r){let i=null;return i=r?new r:function qee(t){return new N9(t.get(Yr))}(Re(Dn)),i},providedIn:"root"}),e})();function df(t){return(df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function mt(t,e,n){return(e=function Kee(t){var e=function Wee(t,e){if("object"!==df(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==df(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===df(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O9(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function E(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){O9(o,r,i,s,a,"next",c)}function a(c){O9(o,r,i,s,a,"throw",c)}s(void 0)})}}const F9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new Zee;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dg=function(t){return function(t){const e=F9(t);return s4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Tg=function(t){try{return s4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function L9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Sg=()=>{try{return L9().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},B9=t=>{var e,n;return null===(n=null===(e=Sg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},H9=()=>{var t;return null===(t=Sg())||void 0===t?void 0:t.config},z9=t=>{var e;return null===(e=Sg())||void 0===e?void 0:e[`_${t}`]};class Al{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function kn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function ff(){try{return"object"==typeof indexedDB}catch{return!1}}function c4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function U9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ds.prototype.create)}}class Ds{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function dte(t,e){return t.replace(fte,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Fi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const fte=/\{\$([^}]+)}/g;function hf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if($9(o)&&$9(s)){if(!hf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $9(t){return null!==t&&"object"==typeof t}function pf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function mf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class gte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function mte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=l4),void 0===i.error&&(i.error=l4),void 0===i.complete&&(i.complete=l4);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l4(){}const _te=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},vte=1e3,yte=2,Ete=144e5,xte=.5;function d4(t,e=vte,n=yte){const r=e*Math.pow(n,t),i=Math.round(xte*r*(Math.random()-.5)*2);return Math.min(Ete,r+i)}function rn(t){return t&&t._delegate?t._delegate:t}class Zr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ka="[DEFAULT]";class Ite{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Al;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function bte(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return E(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ka?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ate{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ite(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const f4=[];var st=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(st||{});const G9={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},Dte=st.INFO,Tte={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},Ste=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Tte[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class _f{constructor(e){this.name=e,this._logLevel=Dte,this._logHandler=Ste,this._userLogHandler=null,f4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?G9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const Mte=(t,e)=>e.some(n=>t instanceof n);let q9,W9;const K9=new WeakMap,h4=new WeakMap,Q9=new WeakMap,p4=new WeakMap,g4=new WeakMap;let m4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return h4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Q9.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Vte(t){return"function"==typeof t?function Fte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rte(){return W9||(W9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(_4(this),e),Ts(K9.get(this))}:function(...e){return Ts(t.apply(_4(this),e))}:function(e,...n){const r=t.call(_4(this),e,...n);return Q9.set(r,e.sort?e.sort():[e]),Ts(r)}}(t):(t instanceof IDBTransaction&&function kte(t){if(h4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});h4.set(t,e)}(t),Mte(t,function Pte(){return q9||(q9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,m4):t)}function Ts(t){if(t instanceof IDBRequest)return function Nte(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ts(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&K9.set(n,t)}).catch(()=>{}),g4.set(e,t),e}(t);if(p4.has(t))return p4.get(t);const e=Vte(t);return e!==t&&(p4.set(t,e),g4.set(e,t)),e}const _4=t=>g4.get(t),Bte=["get","getKey","getAll","getAllKeys","count"],Hte=["put","add","delete","clear"],v4=new Map;function Y9(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(v4.get(e))return v4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Hte.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Bte.includes(n))return;const o=function(){var s=E(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return v4.set(e,o),o}!function Ote(t){m4=t(m4)}(t=>({...t,get:(e,n,r)=>Y9(e,n)||t.get(e,n,r),has:(e,n)=>!!Y9(e,n)||t.has(e,n)}));class zte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Ute(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const y4="@firebase/app",Oa=new _f("@firebase/app"),Pg="[DEFAULT]",pne={[y4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fa=new Map,Rg=new Map;function gne(t,e){try{t.container.addComponent(e)}catch(n){Oa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gi(t){const e=t.name;if(Rg.has(e))return Oa.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,t);for(const n of Fa.values())gne(n,t);return!0}function oo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Go=new Ds("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _ne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Go.create("app-deleted",{appName:this._name})}}const Dl="10.5.2";function Z9(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Pg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Go.create("bad-app-name",{appName:String(i)});if(n||(n=H9()),!n)throw Go.create("no-options");const o=Fa.get(i);if(o){if(hf(n,o.options)&&hf(r,o.config))return o;throw Go.create("duplicate-app",{appName:i})}const s=new Ate(i);for(const c of Rg.values())s.addComponent(c);const a=new _ne(n,r,s);return Fa.set(i,a),a}function Tl(t=Pg){const e=Fa.get(t);if(!e&&t===Pg&&H9())return Z9();if(!e)throw Go.create("no-app",{appName:t});return e}function J9(){return Array.from(Fa.values())}function on(t,e,n){var r;let i=null!==(r=pne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Oa.warn(a.join(" "))}gi(new Zr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const vne="firebase-heartbeat-database",yne=1,vf="firebase-heartbeat-store";let x4=null;function eM(){return x4||(x4=function Lte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ts(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ts(s.result),c.oldVersion,c.newVersion,Ts(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(vne,yne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(vf)}}).catch(t=>{throw Go.create("idb-open",{originalErrorMessage:t.message})})),x4}function C4(){return(C4=E(function*(t){try{return yield(yield eM()).transaction(vf).objectStore(vf).get(nM(t))}catch(e){if(e instanceof Fi)Oa.warn(e.message);else{const n=Go.create("idb-get",{originalErrorMessage:e?.message});Oa.warn(n.message)}}})).apply(this,arguments)}function tM(t,e){return I4.apply(this,arguments)}function I4(){return(I4=E(function*(t,e){try{const r=(yield eM()).transaction(vf,"readwrite");yield r.objectStore(vf).put(e,nM(t)),yield r.done}catch(n){if(n instanceof Fi)Oa.warn(n.message);else{const r=Go.create("idb-set",{originalErrorMessage:n?.message});Oa.warn(r.message)}}})).apply(this,arguments)}function nM(t){return`${t.name}!${t.options.appId}`}class Ine{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return E(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rM();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return E(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=rM(),{heartbeatsToSend:r,unsentEntries:i}=function wne(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),iM(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Dg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function rM(){return(new Date).toISOString().substring(0,10)}class bne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(function*(){return!!ff()&&c4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return E(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Ene(t){return C4.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return tM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return E(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return tM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function iM(t){return Dg(JSON.stringify({version:2,heartbeats:t})).length}!function Ane(t){gi(new Zr("platform-logger",e=>new zte(e),"PRIVATE")),gi(new Zr("heartbeat",e=>new Ine(e),"PRIVATE")),on(y4,"0.9.22",t),on(y4,"0.9.22","esm2017"),on("fire-js","")}(""),on("firebase","10.5.2","app");class Sne extends W{constructor(e,n){super()}schedule(e,n=0){return this}}const Ng={setInterval(t,e,...n){const{delegate:r}=Ng;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Ng;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class oM extends Sne{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ng.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Ng.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,z(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const sM={now:()=>(sM.delegate||Date).now(),delegate:void 0};class yf{constructor(e,n=yf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}yf.now=sM.now;class aM extends yf{constructor(e,n=yf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Rne=new class Pne extends aM{}(class Mne extends oM{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Nne=new aM(oM);function Kn(t,e,n){const r=S(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ve((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(tt(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ve}const Ss=new rl("ANGULARFIRE2_VERSION");function kg(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Og=(t,e)=>{const n=e?[e]:J9(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class w4{constructor(){return Og(cM)}}const cM="app-check";function Sl(){}class lM{constructor(e,n=Rne){mt(this,"zone",void 0),mt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class One{constructor(e){mt(this,"zone",void 0),mt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sl,{},Sl,Sl)),n.pipe(Kn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ef=(()=>{var t;class e{constructor(r){mt(this,"ngZone",void 0),mt(this,"outsideAngular",void 0),mt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new lM(Zone.current)),this.insideAngular=r.run(()=>new lM(Zone.current,Nne)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)(Re(dt))}),mt(e,"\u0275prov",De({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Ml(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Va(t){return Ml().ngZone.run(()=>t())}function Vne(t){return function Lne(t){return function(n){return(n=n.lift(new One(t.ngZone))).pipe(H0(t.outsideAngular),B0(t.insideAngular))}}(Ml())(t)}const Bne=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Va(()=>t.apply(void 0,r))},sn=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Va(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sl,{},Sl,Sl))),r[o]=Bne(r[o],n));const i=function Fne(t){return Ml().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof de){const o=Ml();return i.pipe(H0(o.outsideAngular),B0(o.insideAngular))}return Va(()=>i)}return i instanceof de?i.pipe(Vne):i instanceof Promise?Va(()=>new Promise((o,s)=>i.then(a=>Va(()=>o(a)),a=>Va(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Va(()=>i)};class La{constructor(e){return e}}class xf{constructor(){return J9()}}const b4=new we("angularfire2._apps"),zne={provide:La,useFactory:function Hne(t){return t&&1===t.length?t[0]:new La(Tl())},deps:[[new An,b4]]},Une={provide:xf,deps:[[new An,b4]]};function jne(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new La(r)}}let $ne=(()=>{var t;class e{constructor(r){on("angularfire",Ss.full,"core"),on("angularfire",Ss.full,"app"),on("angular",RA.full,r.toString())}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)(Re(Vo))}),mt(e,"\u0275mod",Ht({type:t})),mt(e,"\u0275inj",Ot({providers:[zne,Une]})),e})();function Ms(t,...e){return{ngModule:$ne,providers:[{provide:b4,useFactory:jne(t),multi:!0,deps:[dt,Dn,Ef,...e]}]}}const Ps=sn(Tl,!0),Rs=sn(Z9,!0);const Gne=function uM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dM=new Ds("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fg=new _f("@firebase/auth");function Vg(t,...e){Fg.logLevel<=st.ERROR&&Fg.error(`Auth (${Dl}): ${t}`,...e)}function zr(t,...e){throw A4(t,...e)}function Jr(t,...e){return A4(t,...e)}function fM(t,e,n){const r=Object.assign(Object.assign({},Gne()),{[e]:n});return new Ds("auth","Firebase",r).create(e,{appName:t.name})}function A4(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dM.create(t,...e)}function he(t,e,...n){if(!t)throw A4(e,...n)}function so(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vg(e),new Error(e)}function qo(t,e){t||so(e)}function Cf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function hM(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class If{constructor(e,n){this.shortDelay=e,this.longDelay=n,qo(n>e,"Short delay should be less than long delay!"),this.isMobile=function ste(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}()||function cte(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Wne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function D4(){return"http:"===hM()||"https:"===hM()}()||a4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function T4(t,e){qo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class pM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Yne=new If(3e4,6e4);function Gt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Xt(t,e,n,r){return S4.apply(this,arguments)}function S4(){return(S4=E(function*(t,e,n,r,i={}){return gM(t,i,E(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=pf(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),pM.fetch()(mM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function gM(t,e,n){return M4.apply(this,arguments)}function M4(){return(M4=E(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qne),e);try{const i=new Zne(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw wf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw wf(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw wf(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw wf(t,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw fM(t,u,l);zr(t,u)}}catch(i){if(i instanceof Fi)throw i;zr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Wo(t,e,n,r){return P4.apply(this,arguments)}function P4(){return(P4=E(function*(t,e,n,r,i={}){const o=yield Xt(t,e,n,r,i);return"mfaPendingCredential"in o&&zr(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function mM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?T4(t.config,i):`${t.config.apiScheme}://${i}`}function Xne(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),Yne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jr(t,e,r);return i.customData._tokenResponse=n,i}function vM(t){return void 0!==t&&void 0!==t.enterprise}class yM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Xne(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function EM(t,e){return N4.apply(this,arguments)}function N4(){return(N4=E(function*(t,e){return Xt(t,"GET","/v2/recaptchaConfig",Gt(t,e))})).apply(this,arguments)}function k4(){return(k4=E(function*(t,e){return Xt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function F4(){return(F4=E(function*(t,e){return Xt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function bf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function V4(){return(V4=E(function*(t,e=!1){const n=rn(t),r=yield n.getIdToken(e),i=Lg(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:bf(L4(i.auth_time)),issuedAtTime:bf(L4(i.iat)),expirationTime:bf(L4(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function L4(t){return 1e3*Number(t)}function Lg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Vg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Tg(n);return i?JSON.parse(i):(Vg("Failed to decode base64 JWT payload"),null)}catch(i){return Vg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ko(t,e){return B4.apply(this,arguments)}function B4(){return(B4=E(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Fi&&function ore({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class sre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(E(function*(){yield n.iteration()}),r)}iteration(){var e=this;return E(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class xM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bf(this.lastLoginAt),this.creationTime=bf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Af(t){return H4.apply(this,arguments)}function H4(){return H4=E(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ko(t,function nre(t,e){return F4.apply(this,arguments)}(n,{idToken:r}));he(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function lre(t){return t.map(e=>{var{providerId:n}=e,r=tr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function cre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),u=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xM(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),H4.apply(this,arguments)}function z4(){return(z4=E(function*(t){const e=rn(t);yield Af(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function U4(){return(U4=E(function*(t,e){const n=yield gM(t,{},E(function*(){const r=pf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=mM(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pM.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Df{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function ire(t){const e=Lg(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return E(function*(){return he(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return E(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function ure(t,e){return U4.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Df;return r&&(he("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(he("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(he("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Df,this.toJSON())}_performRefresh(){return so("not implemented")}}function Ns(t,e){he("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ba{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=tr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xM(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return E(function*(){const r=yield Ko(n,n.stsTokenManager.getToken(n.auth,e));return he(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function rre(t){return V4.apply(this,arguments)}(this,e)}reload(){return function are(t){return z4.apply(this,arguments)}(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ba(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return E(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Af(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return E(function*(){const n=yield e.getIdToken();return yield Ko(e,function ere(t,e){return k4.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,_=null!==(a=n.tenantId)&&void 0!==a?a:void 0,w=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,R=null!==(l=n.createdAt)&&void 0!==l?l:void 0,A=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:$,emailVerified:ie,isAnonymous:pe,providerData:Ne,stsTokenManager:Ze}=n;he($&&Ze,e,"internal-error");const Jt=Df.fromJSON(this.name,Ze);he("string"==typeof $,e,"internal-error"),Ns(d,e.name),Ns(f,e.name),he("boolean"==typeof ie,e,"internal-error"),he("boolean"==typeof pe,e,"internal-error"),Ns(h,e.name),Ns(p,e.name),Ns(_,e.name),Ns(w,e.name),Ns(R,e.name),Ns(A,e.name);const zn=new Ba({uid:$,auth:e,email:f,emailVerified:ie,displayName:d,isAnonymous:pe,photoURL:p,phoneNumber:h,tenantId:_,stsTokenManager:Jt,createdAt:R,lastLoginAt:A});return Ne&&Array.isArray(Ne)&&(zn.providerData=Ne.map(pa=>Object.assign({},pa))),w&&(zn._redirectEventId=w),zn}static _fromIdTokenResponse(e,n,r=!1){return E(function*(){const i=new Df;i.updateFromServerResponse(n);const o=new Ba({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Af(o),o})()}}const CM=new Map;function Qo(t){qo(t instanceof Function,"Expected a class definition");let e=CM.get(t);return e?(qo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CM.set(t,e),e)}const IM=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(function*(){return!0})()}_set(n,r){var i=this;return E(function*(){i.storage[n]=r})()}_get(n){var r=this;return E(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return E(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Bg(t,e,n){return`firebase:${t}:${e}:${n}`}class Rl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Bg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Bg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return E(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ba._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return E(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(function*(){if(!n.length)return new Rl(Qo(IM),e,r);const i=(yield Promise.all(n.map(function(){var l=E(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||Qo(IM);const s=Bg(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(s);if(u){const d=Ba._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=E(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Rl(o,e,r)):new Rl(o,e,r)})()}}function wM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SM(e))return"Blackberry";if(MM(e))return"Webos";if(j4(e))return"Safari";if((e.includes("chrome/")||AM(e))&&!e.includes("edge/"))return"Chrome";if(TM(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function bM(t=kn()){return/firefox\//i.test(t)}function j4(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AM(t=kn()){return/crios\//i.test(t)}function DM(t=kn()){return/iemobile/i.test(t)}function TM(t=kn()){return/android/i.test(t)}function SM(t=kn()){return/blackberry/i.test(t)}function MM(t=kn()){return/webos/i.test(t)}function Hg(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PM(t=kn()){return Hg(t)||TM(t)||MM(t)||SM(t)||/windows phone/i.test(t)||DM(t)}function RM(t,e=[]){let n;switch(t){case"Browser":n=wM(kn());break;case"Worker":n=`${wM(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dl}/${r}`}class pre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return E(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function $4(){return($4=E(function*(t,e={}){return Xt(t,"GET","/v2/passwordPolicy",Gt(t,e))})).apply(this,arguments)}class _re{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class vre{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NM(this),this.idTokenSubscription=new NM(this),this.beforeStateQueue=new pre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Qo(n)),this._initializationPromise=this.queue(E(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Rl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return E(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return E(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return he(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return E(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return E(function*(){try{yield Af(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Kne(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return E(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return E(function*(){const r=e?rn(e):null;return r&&he(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return E(function*(){if(!r._deleted)return e&&he(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(E(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return E(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(E(function*(){yield n.assertedPersistence.setPersistence(Qo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return E(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return E(function*(){const n=yield function gre(t){return $4.apply(this,arguments)}(e),r=new _re(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ds("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return E(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return E(function*(){if(!n.redirectPersistenceManager){const r=e&&Qo(e)||n._popupRedirectResolver;he(r,n,"argument-error"),n.redirectPersistenceManager=yield Rl.create(n,[Qo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return E(function*(){var r,i;return n._isInitialized&&(yield n.queue(E(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return E(function*(){if(e===n.currentUser)return n.queue(E(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return E(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return E(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return E(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function qne(t,...e){Fg.logLevel<=st.WARN&&Fg.warn(`Auth (${Dl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function En(t){return rn(t)}class NM{constructor(e){this.auth=e,this.observer=null,this.addObserver=function pte(t,e){const n=new gte(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function G4(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Jr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function yre(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function kM(t){return`__${t}${Math.floor(1e6*Math.random())}`}class OM{constructor(e){this.type="recaptcha-enterprise",this.auth=En(e)}verify(e="verify",n=!1){var r=this;return E(function*(){function o(){return o=E(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=E(function*(l,u){EM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new yM(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;vM(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(l=>{if(!n&&vM(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));G4("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function FM(t,e,n){return q4.apply(this,arguments)}function q4(){return(q4=E(function*(t,e,n,r=!1){const i=new OM(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function W4(){return W4=E(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield FM(t,e,n,"getOobCode"===n);return r(t,o)}return r(t,e).catch(function(){var o=E(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield FM(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),W4.apply(this,arguments)}function VM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Q4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return so("not implemented")}_getIdTokenResponse(e){return so("not implemented")}_linkToIdToken(e,n){return so("not implemented")}_getReauthenticationResolver(e){return so("not implemented")}}function HM(t,e){return X4.apply(this,arguments)}function X4(){return(X4=E(function*(t,e){return Xt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Mre(t,e){return J4.apply(this,arguments)}function J4(){return(J4=E(function*(t,e){return Wo(t,"POST","/v1/accounts:signInWithPassword",Gt(t,e))})).apply(this,arguments)}function o6(){return(o6=E(function*(t,e){return Wo(t,"POST","/v1/accounts:signInWithEmailLink",Gt(t,e))})).apply(this,arguments)}function s6(){return(s6=E(function*(t,e){return Wo(t,"POST","/v1/accounts:signInWithEmailLink",Gt(t,e))})).apply(this,arguments)}class Tf extends Q4{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return E(function*(){switch(n.signInMethod){case"password":return function zg(t,e,n,r){return W4.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Mre);case"emailLink":return function Ore(t,e){return o6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:zr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return E(function*(){switch(r.signInMethod){case"password":return HM(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Fre(t,e){return s6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:zr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Yo(t,e){return a6.apply(this,arguments)}function a6(){return(a6=E(function*(t,e){return Wo(t,"POST","/v1/accounts:signInWithIdp",Gt(t,e))})).apply(this,arguments)}class Nl extends Q4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Nl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=tr(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Nl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return Yo(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pf(n)}return e}}class Mf{constructor(e){var n,r,i,o,s,a;const c=gf(mf(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function jre(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);he(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function $re(t){const e=gf(mf(t)).link,n=e?gf(mf(e)).deep_link_id:null,r=gf(mf(t)).deep_link_id;return(r?gf(mf(r)).link:null)||r||n||e||t}(e);try{return new Mf(n)}catch{return null}}}let zM=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Tf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Mf.parseLink(r);return he(i,"argument-error"),Tf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ks{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class UM extends ks{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Gre=(()=>{class t extends UM{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Nl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(function*(){const o=yield Ba._fromIdTokenResponse(e,r,i),s=$M(r);return new mi({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return E(function*(){yield e._updateTokensIfNecessary(r,!0);const i=$M(r);return new mi({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function $M(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class $g extends Fi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$g.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $g(e,n,r,i)}}function GM(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?$g._fromErrorAndOperation(t,o,e,r):o})}function _6(){return(_6=E(function*(t,e,n=!1){const r=yield Ko(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return mi._forOperation(t,"link",r)})).apply(this,arguments)}function y6(){return(y6=E(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Ko(t,GM(r,i,e,t),n);he(o.idToken,r,"internal-error");const s=Lg(o.idToken);he(s,r,"internal-error");const{sub:a}=s;return he(t.uid===a,r,"user-mismatch"),mi._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&zr(r,"user-mismatch"),o}})).apply(this,arguments)}function KM(t,e){return E6.apply(this,arguments)}function E6(){return(E6=E(function*(t,e,n=!1){const r="signIn",i=yield GM(t,r,e),o=yield mi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function C6(){return(C6=E(function*(t,e){return KM(En(t),e)})).apply(this,arguments)}function P6(){return(P6=E(function*(t){const e=En(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Zre(t,e,n){return function x6(t,e){return C6.apply(this,arguments)}(rn(t),zM.credential(e,n)).catch(function(){var r=E(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function M6(t){return P6.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const Wg="__sak";class YM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wg,"1"),this.storage.removeItem(Wg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const mie=(()=>{class t extends YM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hie(){const t=kn();return j4(t)||Hg(t)}()&&function hre(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=PM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function fre(){return function lte(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return E(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return E(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return E(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),XM=(()=>{class t extends YM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let vie=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return E(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=E(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function _ie(t){return Promise.all(t.map(function(){var e=E(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Kg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class yie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return E(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=Kg("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function xn(){return window}function J6(){return typeof xn().WorkerGlobalScope<"u"&&"function"==typeof xn().importScripts}function e3(){return(e3=E(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ZM="firebaseLocalStorageDb",Qg="firebaseLocalStorage",JM="fbase_key";class Rf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yg(t,e){return t.transaction([Qg],e?"readwrite":"readonly").objectStore(Qg)}function t3(){const t=indexedDB.open(ZM,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qg,{keyPath:JM})}catch(i){n(i)}}),t.addEventListener("success",E(function*(){const r=t.result;r.objectStoreNames.contains(Qg)?e(r):(r.close(),yield function bie(){const t=indexedDB.deleteDatabase(ZM);return new Rf(t).toPromise()}(),e(yield t3()))}))})}function eP(t,e,n){return n3.apply(this,arguments)}function n3(){return(n3=E(function*(t,e,n){const r=Yg(t,!0).put({[JM]:e,value:n});return new Rf(r).toPromise()})).apply(this,arguments)}function r3(){return(r3=E(function*(t,e){const n=Yg(t,!1).get(e),r=yield new Rf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function tP(t,e){const n=Yg(t,!0).delete(e);return new Rf(n).toPromise()}const Sie=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return E(function*(){return n.db||(n.db=yield t3()),n.db})()}_withRetries(n){var r=this;return E(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return E(function*(){return J6()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return E(function*(){n.receiver=vie._getInstance(function Iie(){return J6()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=E(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=E(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return E(function*(){var r,i;if(n.activeServiceWorker=yield function xie(){return e3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new yie(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return E(function*(){if(r.sender&&r.activeServiceWorker&&function Cie(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return E(function*(){try{if(!indexedDB)return!1;const n=yield t3();return yield eP(n,Wg,"1"),yield tP(n,Wg),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return E(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return E(function*(){return i._withPendingWrite(E(function*(){return yield i._withRetries(o=>eP(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return E(function*(){const i=yield r._withRetries(o=>function Aie(t,e){return r3.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return E(function*(){return r._withPendingWrite(E(function*(){return yield r._withRetries(i=>tP(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return E(function*(){const r=yield n._withRetries(s=>{const a=Yg(s,!1).getAll();return new Rf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(E(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function za(t,e){return e?Qo(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}kM("rcb"),new If(3e4,6e4);class f3 extends Q4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Gie(t){return KM(t.auth,new f3(t),t.bypassAuthState)}function qie(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),function WM(t,e){return y6.apply(this,arguments)}(n,new f3(t),t.bypassAuthState)}function Wie(t){return h3.apply(this,arguments)}function h3(){return(h3=E(function*(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),function m6(t,e){return _6.apply(this,arguments)}(n,new f3(t),t.bypassAuthState)})).apply(this,arguments)}class rP{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=E(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return E(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gie;case"linkViaPopup":case"linkViaRedirect":return Wie;case"reauthViaPopup":case"reauthViaRedirect":return qie;default:zr(this.auth,"internal-error")}}resolve(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kie=new If(2e3,1e4);function Qie(t,e,n){return p3.apply(this,arguments)}function p3(){return(p3=E(function*(t,e,n){const r=En(t);!function Pl(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&zr(t,"argument-error"),fM(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,ks);const i=za(r,n);return new _3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let _3=(()=>{class t extends rP{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return E(function*(){const r=yield n.execute();return he(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return E(function*(){qo(1===n.filter.length,"Popup operations only handle one event");const r=Kg();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Jr(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Kie.get())};n()}}return t.currentPopupAction=null,t})();const Yie="pendingRedirect",Nf=new Map;class Xie extends rP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return E(function*(){let r=Nf.get(n.auth._key());if(!r){try{const o=(yield function Zie(t,e){return v3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Nf.set(n.auth._key(),r)}return n.bypassAuthState||Nf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return E(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return E(function*(){})()}cleanUp(){}}function v3(){return(v3=E(function*(t,e){const n=function oP(t){return Bg(Yie,t.config.apiKey,t.name)}(e),r=function iP(t){return Qo(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Jie(t,e){Nf.set(t._key(),e)}function sP(t,e){return b3.apply(this,arguments)}function b3(){return(b3=E(function*(t,e,n=!1){const r=En(t),i=za(r,e),s=yield new Xie(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class ioe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function ooe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lP(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lP(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cP(e))}saveEventToCache(e){this.cachedEventUids.add(cP(e)),this.lastProcessedEventTime=Date.now()}}function cP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lP({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function D3(){return(D3=E(function*(t,e={}){return Xt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const aoe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,coe=/^https?/;function T3(){return T3=E(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function soe(t){return D3.apply(this,arguments)}(t);for(const n of e)try{if(uoe(n))return}catch{}zr(t,"unauthorized-domain")}),T3.apply(this,arguments)}function uoe(t){const e=Cf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!coe.test(n))return!1;if(aoe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const doe=new If(3e4,6e4);function uP(){const t=xn().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Zg=null;const poe=new If(5e3,15e3),goe="__/auth/iframe",moe="emulator/auth/iframe",_oe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},voe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yoe(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?T4(e,moe):`https://${t.config.authDomain}/${goe}`,r={apiKey:e.apiKey,appName:t.name,v:Dl},i=voe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${pf(r).slice(1)}`}function S3(){return S3=E(function*(t){const e=yield function hoe(t){return Zg=Zg||function foe(t){return new Promise((e,n)=>{var r,i,o;function s(){uP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uP(),n(Jr(t,"network-request-failed"))},timeout:doe.get()})}if(null!==(i=null===(r=xn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=xn().gapi)||void 0===o||!o.load){const a=kM("iframefcb");return xn()[a]=()=>{gapi.load?s():n(Jr(t,"network-request-failed"))},G4(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}s()}}).catch(e=>{throw Zg=null,e})}(t),Zg}(t),n=xn().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:yoe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_oe,dontclear:!0},r=>new Promise(function(){var i=E(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Jr(t,"network-request-failed"),c=xn().setTimeout(()=>{s(a)},poe.get());function l(){xn().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),S3.apply(this,arguments)}const xoe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Toe="__/auth/handler",Soe="emulator/auth/handler",Moe=encodeURIComponent("fac");function fP(t,e,n,r,i,o){return M3.apply(this,arguments)}function M3(){return(M3=E(function*(t,e,n,r,i,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dl,eventId:i};if(e instanceof ks){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function hte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof UM){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${Moe}=${encodeURIComponent(c)}`:"";return`${function Poe({config:t}){return t.emulator?T4(t,Soe):`https://${t.authDomain}/${Toe}`}(t)}?${pf(a).slice(1)}${l}`})).apply(this,arguments)}const P3="webStorageSupport",Noe=class Roe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XM,this._completeRedirectFn=sP,this._overrideRedirectResult=Jie}_openPopup(e,n,r,i){var o=this;return E(function*(){var s;qo(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield fP(e,n,r,Cf(),i);return function Aoe(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},xoe),{width:r.toString(),height:i.toString(),top:o,left:s}),l=kn().toLowerCase();n&&(a=AM(l)?"_blank":n),bM(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function dre(t=kn()){var e;return Hg(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function Doe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new dP(null);const d=window.open(e||"",a,u);he(d,t,"popup-blocked");try{d.focus()}catch{}return new dP(d)}(e,a,Kg())})()}_openRedirect(e,n,r,i){var o=this;return E(function*(){return yield o._originValidation(e),function Eie(t){xn().location.href=t}(yield fP(e,n,r,Cf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(qo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return E(function*(){const r=yield function Eoe(t){return S3.apply(this,arguments)}(e),i=new ioe(e);return r.register("authEvent",o=>(he(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(P3,{type:P3},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[P3];void 0!==s&&n(!!s),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function loe(t){return T3.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PM()||j4()||Hg()}};var gP="@firebase/auth";class koe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return E(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Loe=z9("authIdTokenMaxAge")||300;let _P=null;const Boe=t=>function(){var e=E(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Loe)return;const o=r?.token;_P!==o&&(_P=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Hoe(t=Tl()){const e=oo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function wre(t,e){const n=oo(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(hf(n.getOptions(),e??{}))return i;zr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Noe,persistence:[Sie,mie,XM]}),r=z9("authTokenSyncURL");if(r){const o=Boe(r);(function aie(t,e,n){rn(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function sie(t,e,n,r){rn(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=B9("auth");return i&&function Are(t,e,n){const r=En(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=VM(e),{host:s,port:a}=function Dre(t){const e=VM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:LM(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:LM(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Tre(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function zoe(t){return new de(function(e){var n=function cie(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Foe(t){gi(new Zr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RM(t)},l=new vre(r,i,o,c);return function bre(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gi(new Zr("auth-internal",e=>{const n=En(e.getProvider("auth").getImmediate());return new koe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),on(gP,"1.3.2",function Ooe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),on(gP,"1.3.2","esm2017")}("Browser");class kf{constructor(e){return e}}class yP{constructor(){return Og("auth")}}const N3=new we("angularfire2.auth-instances");function $oe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new kf(r)}}const Goe={provide:yP,deps:[[new An,N3]]},qoe={provide:kf,useFactory:function joe(t,e){const n=kg("auth",t,e);return n&&new kf(n)},deps:[[new An,N3],La]};let Woe=(()=>{var t;class e{constructor(){on("angularfire",Ss.full,"auth")}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)}),mt(e,"\u0275mod",Ht({type:t})),mt(e,"\u0275inj",Ot({providers:[qoe,Goe]})),e})();function Ua(t,...e){return{ngModule:Woe,providers:[{provide:N3,useFactory:$oe(t),multi:!0,deps:[dt,Dn,Ef,xf,[new An,w4],...e]}]}}const EP=sn(zoe,!0),ja=sn(Hoe,!0),Koe=sn(Zre,!0),Qoe=sn(Qie,!0);var Ee,Yoe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vi={},k3=k3||{},Ge=Yoe||self;function e1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Of(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var O3="closure_uid_"+(1e9*Math.random()>>>0),Zoe=0;function Joe(t,e,n){return t.call.apply(t.bind,arguments)}function ese(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ur(t,e,n){return(ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Joe:ese).apply(null,arguments)}function t1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function On(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Os(){this.s=this.s,this.o=this.o}Os.prototype.s=!1,Os.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Xoe(t){Object.prototype.hasOwnProperty.call(t,O3)&&t[O3]||(t[O3]=++Zoe)}(this)},Os.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function F3(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function CP(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(e1(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function dr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}dr.prototype.h=function(){this.defaultPrevented=!0};var nse=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ge.addEventListener("test",()=>{},e),Ge.removeEventListener("test",()=>{},e)}catch{}return t}();function Ff(t){return/^[\s\xa0]*$/.test(t)}function n1(){var t=Ge.navigator;return t&&(t=t.userAgent)?t:""}function ao(t){return-1!=n1().indexOf(t)}function V3(t){return V3[" "](t),t}V3[" "]=function(){};var B3,t,ise=ao("Opera"),kl=ao("Trident")||ao("MSIE"),IP=ao("Edge"),L3=IP||kl,wP=ao("Gecko")&&!(-1!=n1().toLowerCase().indexOf("webkit")&&!ao("Edge"))&&!(ao("Trident")||ao("MSIE"))&&!ao("Edge"),ose=-1!=n1().toLowerCase().indexOf("webkit")&&!ao("Edge");function bP(){var t=Ge.document;return t?t.documentMode:void 0}e:{var H3="",z3=(t=n1(),wP?/rv:([^\);]+)(\)|;)/.exec(t):IP?/Edge\/([\d\.]+)/.exec(t):kl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ose?/WebKit\/(\S+)/.exec(t):ise?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(z3&&(H3=z3?z3[1]:""),kl){var U3=bP();if(null!=U3&&U3>parseFloat(H3)){B3=String(U3);break e}}B3=H3}var sse=Ge.document&&kl&&(bP()||parseInt(B3,10))||void 0;function Vf(t,e){if(dr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(wP){e:{try{V3(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ase[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Vf.$.h.call(this)}}On(Vf,dr);var ase={2:"touch",3:"pen",4:"mouse"};Vf.prototype.h=function(){Vf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Lf="closure_listenable_"+(1e6*Math.random()|0),cse=0;function lse(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++cse,this.fa=this.ia=!1}function r1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $3(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function DP(t){const e={};for(const n in t)e[n]=t[n];return e}const TP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SP(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<TP.length;o++)n=TP[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function i1(t){this.src=t,this.g={},this.h=0}function G3(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=xP(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(r1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function q3(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}i1.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=q3(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new lse(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var W3="closure_lm_"+(1e6*Math.random()|0),K3={};function MP(t,e,n,r,i){if(r&&r.once)return RP(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)MP(t,e[o],n,r,i);return null}return n=Z3(n),t&&t[Lf]?t.O(e,n,Of(r)?!!r.capture:!!r,i):PP(t,e,n,!1,r,i)}function PP(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Of(i)?!!i.capture:!!i,a=Y3(t);if(a||(t[W3]=a=new i1(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function dse(){const e=fse;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nse||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(kP(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function RP(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)RP(t,e[o],n,r,i);return null}return n=Z3(n),t&&t[Lf]?t.P(e,n,Of(r)?!!r.capture:!!r,i):PP(t,e,n,!0,r,i)}function NP(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)NP(t,e[o],n,r,i);else r=Of(r)?!!r.capture:!!r,n=Z3(n),t&&t[Lf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=q3(o=t.g[e],n,r,i))&&(r1(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Y3(t))&&(e=t.g[e.toString()],t=-1,e&&(t=q3(e,n,r,i)),(n=-1<t?e[t]:null)&&Q3(n))}function Q3(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Lf])G3(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(kP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Y3(e))?(G3(n,t),0==n.h&&(n.src=null,e[W3]=null)):r1(t)}}}function kP(t){return t in K3?K3[t]:K3[t]="on"+t}function fse(t,e){if(t.fa)t=!0;else{e=new Vf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Q3(t),t=n.call(r,e)}return t}function Y3(t){return(t=t[W3])instanceof i1?t:null}var X3="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z3(t){return"function"==typeof t?t:(t[X3]||(t[X3]=function(e){return t.handleEvent(e)}),t[X3])}function Fn(){Os.call(this),this.i=new i1(this),this.S=this,this.J=null}function Qn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new dr(e,t);else if(e instanceof dr)e.target=e.target||t;else{var i=e;SP(e=new dr(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=o1(s,r,!0,e)&&i}if(i=o1(s=e.g=t,r,!0,e)&&i,i=o1(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=o1(s=e.g=n[o],r,!1,e)&&i}function o1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&G3(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}On(Fn,Os),Fn.prototype[Lf]=!0,Fn.prototype.removeEventListener=function(t,e,n,r){NP(this,t,e,n,r)},Fn.prototype.N=function(){if(Fn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)r1(n[r]);delete t.g[e],t.h--}}this.J=null},Fn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Fn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var J3=Ge.JSON.stringify;function pse(){var t=e8;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var OP=new class hse{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new mse,t=>t.reset());class mse{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function _se(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function vse(t){Ge.setTimeout(()=>{throw t},0)}let Bf,Hf=!1,e8=new class gse{constructor(){this.h=this.g=null}add(e,n){const r=OP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},FP=()=>{const t=Ge.Promise.resolve(void 0);Bf=()=>{t.then(yse)}};var yse=()=>{for(var t;t=pse();){try{t.h.call(t.g)}catch(n){vse(n)}var e=OP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hf=!1};function s1(t,e){Fn.call(this),this.h=t||1,this.g=e||Ge,this.j=ur(this.qb,this),this.l=Date.now()}function t8(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function n8(t,e,n){if("function"==typeof t)n&&(t=ur(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ur(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ge.setTimeout(t,e||0)}function VP(t){t.g=n8(()=>{t.g=null,t.i&&(t.i=!1,VP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}On(s1,Fn),(Ee=s1.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qn(this,"tick"),this.ga&&(t8(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){s1.$.N.call(this),t8(this),delete this.g};class Ese extends Os{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VP(this)}N(){super.N(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zf(t){Os.call(this),this.h=t,this.g={}}On(zf,Os);var LP=[];function BP(t,e,n,r){Array.isArray(n)||(n&&(LP[0]=n.toString()),n=LP);for(var i=0;i<n.length;i++){var o=MP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function HP(t){$3(t.g,function(e,n){this.g.hasOwnProperty(n)&&Q3(e)},t),t.g={}}function a1(){this.g=!0}function Ol(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wse(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return J3(n)}catch{return e}}(t,n)+(r?" "+r:"")})}zf.prototype.N=function(){zf.$.N.call(this),HP(this)},zf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},a1.prototype.Ea=function(){this.g=!1},a1.prototype.info=function(){};var $a={},zP=null;function c1(){return zP=zP||new Fn}function UP(t){dr.call(this,$a.Ta,t)}function Uf(t){const e=c1();Qn(e,new UP(e))}function jP(t,e){dr.call(this,$a.STAT_EVENT,t),this.stat=e}function Tr(t){const e=c1();Qn(e,new jP(e,t))}function $P(t,e){dr.call(this,$a.Ua,t),this.size=e}function jf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){t()},e)}$a.Ta="serverreachability",On(UP,dr),$a.STAT_EVENT="statevent",On(jP,dr),$a.Ua="timingevent",On($P,dr);var l1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},GP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function r8(){}function WP(){}r8.prototype.h=null;var s8,$f={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function i8(){dr.call(this,"d")}function o8(){dr.call(this,"c")}function u1(){}function Gf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zf(this),this.P=bse,this.V=new s1(t=L3?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new KP}function KP(){this.i=null,this.g="",this.h=!1}On(i8,dr),On(o8,dr),On(u1,r8),u1.prototype.g=function(){return new XMLHttpRequest},u1.prototype.i=function(){return{}},s8=new u1;var bse=45e3,a8={},d1={};function c8(t,e,n){t.L=1,t.v=g1(Xo(e)),t.s=n,t.S=!0,QP(t,null)}function QP(t,e){t.G=Date.now(),qf(t),t.A=Xo(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),oR(n.i,"t",r),t.C=0,n=t.l.J,t.h=new KP,t.g=SR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Ese(ur(t.Pa,t,t.g),t.O)),BP(t.U,t.g,"readystatechange",t.nb),e=t.I?DP(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Uf(),function xse(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function YP(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function XP(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Ase(t,n),i==d1){4==e&&(t.o=4,Tr(14),r=!1),Ol(t.j,t.m,null,"[Incomplete Response]");break}if(i==a8){t.o=4,Tr(15),Ol(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ol(t.j,t.m,i,null),l8(t,i)}YP(t)&&i!=d1&&i!=a8&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Tr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),m8(e),e.M=!0,Tr(11))):(Ol(t.j,t.m,n,"[Invalid Chunked Response]"),Ga(t),Wf(t))}function Ase(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?d1:(n=Number(e.substring(n,r)),isNaN(n)?a8:(r+=1)+n>e.length?d1:(e=e.slice(r,r+n),t.C=r+n,e))}function qf(t){t.Y=Date.now()+t.P,ZP(t,t.P)}function ZP(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=jf(ur(t.lb,t),e)}function f1(t){t.B&&(Ge.clearTimeout(t.B),t.B=null)}function Wf(t){0==t.l.H||t.J||bR(t.l,t)}function Ga(t){f1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,t8(t.V),HP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function l8(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||u8(n.i,t)))if(!t.K&&u8(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;x1(n),y1(n)}g8(n),Tr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=jf(ur(n.ib,n),6e3));if(1>=cR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wa(n,11)}else if((t.K||n.g==t)&&x1(n),!Ff(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(d8(o,o.h),o.h=null))}if(r.F){const _=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Ft(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=TR(r,r.J?r.pa:null,r.Y),s.K){lR(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(f1(a),qf(a)),r.g=s}else IR(r);0<n.j.length&&E1(n)}else"stop"!=l[0]&&"close"!=l[0]||Wa(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Wa(n,7):p8(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Uf()}catch{}}function JP(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(e1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Tse(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(e1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Dse(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(e1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Ee=Gf.prototype).setTimeout=function(t){this.P=t},Ee.nb=function(t){t=t.target;const e=this.M;e&&3==co(t)?e.l():this.Pa(t)},Ee.Pa=function(t){try{if(t==this.g)e:{const u=co(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||L3||this.g&&(this.h.h||this.g.ja()||_R(this.g)))){this.J||4!=u||7==e||Uf(),f1(this);var n=this.g.da();this.ca=n;t:if(YP(this)){var r=_R(this.g);t="";var i=r.length,o=4==co(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ga(this),Wf(this);var s="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function Cse(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ff(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Tr(12),Ga(this),Wf(this);break e}Ol(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,l8(this,n)}this.S?(XP(this,u,s),L3&&this.i&&3==u&&(BP(this.U,this.V,"tick",this.mb),this.V.start())):(Ol(this.j,this.m,s,null),l8(this,s)),4==u&&Ga(this),this.i&&!this.J&&(4==u?bR(this.l,this):(this.i=!1,qf(this)))}else(function qse(t){const e={};t=(t.g&&2<=co(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ff(t[r]))continue;var n=_se(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function use(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Tr(12)):(this.o=0,Tr(13)),Ga(this),Wf(this)}}}catch{}},Ee.mb=function(){if(this.g){var t=co(this.g),e=this.g.ja();this.C<e.length&&(f1(this),XP(this,t,e),this.i&&4!=t&&qf(this))}},Ee.cancel=function(){this.J=!0,Ga(this)},Ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Ise(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Uf(),Tr(17)),Ga(this),this.o=2,Wf(this)):ZP(this,this.Y-t)};var eR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof qa){this.h=t.h,h1(this,t.j),this.s=t.s,this.g=t.g,p1(this,t.m),this.l=t.l;var e=t.i,n=new Yf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),tR(this,n),this.o=t.o}else t&&(e=String(t).match(eR))?(this.h=!1,h1(this,e[1]||"",!0),this.s=Kf(e[2]||""),this.g=Kf(e[3]||"",!0),p1(this,e[4]),this.l=Kf(e[5]||"",!0),tR(this,e[6]||"",!0),this.o=Kf(e[7]||"")):(this.h=!1,this.i=new Yf(null,this.h))}function Xo(t){return new qa(t)}function h1(t,e,n){t.j=n?Kf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function p1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tR(t,e,n){e instanceof Yf?(t.i=e,function Ose(t,e){e&&!t.j&&(Fs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(rR(this,r),oR(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Qf(e,Nse)),t.i=new Yf(e,t.h))}function Ft(t,e,n){t.i.set(e,n)}function g1(t){return Ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Kf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Mse),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Mse(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qf(e,nR,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Qf(e,nR,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Qf(n,"/"==n.charAt(0)?Rse:Pse,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qf(n,kse)),t.join("")};var nR=/[#\/\?@]/g,Pse=/[#\?:]/g,Rse=/[#\?]/g,Nse=/[#\?@]/g,kse=/#/g;function Yf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fs(t){t.g||(t.g=new Map,t.h=0,t.i&&function Sse(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function rR(t,e){Fs(t),e=Fl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iR(t,e){return Fs(t),e=Fl(t,e),t.g.has(e)}function oR(t,e,n){rR(t,e),0<n.length&&(t.i=null,t.g.set(Fl(t,e),F3(n)),t.h+=n.length)}function Fl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sR(t){this.l=t||Vse,t=Ge.PerformanceNavigationTiming?0<(t=Ge.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ge.g&&Ge.g.Ka&&Ge.g.Ka()&&Ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=Yf.prototype).add=function(t,e){Fs(this),this.i=null,t=Fl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ee.forEach=function(t,e){Fs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ee.ta=function(){Fs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},Ee.Z=function(t){Fs(this);let e=[];if("string"==typeof t)iR(this,t)&&(e=e.concat(this.g.get(Fl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ee.set=function(t,e){return Fs(this),this.i=null,iR(this,t=Fl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ee.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Vse=10;function aR(t){return!!t.h||!!t.g&&t.g.size>=t.j}function cR(t){return t.h?1:t.g?t.g.size:0}function u8(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function d8(t,e){t.g?t.g.add(e):t.h=e}function lR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function uR(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return F3(t.i)}sR.prototype.cancel=function(){if(this.i=uR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Lse=class{stringify(t){return Ge.JSON.stringify(t,void 0)}parse(t){return Ge.JSON.parse(t,void 0)}};function Bse(){this.g=new Lse}function Hse(t,e,n){const r=n||"";try{JP(t,function(i,o){let s=i;Of(i)&&(s=J3(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function m1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Xf(t){this.l=t.ec||null,this.j=t.ob||!1}function _1(t,e){Fn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=f8,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}On(Xf,r8),Xf.prototype.g=function(){return new _1(this.l,this.j)},Xf.prototype.i=function(t){return function(){return t}}({}),On(_1,Fn);var f8=0;function dR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Zf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jf(t)}function Jf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ee=_1.prototype).open=function(t,e){if(this.readyState!=f8)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jf(this)},Ee.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zf(this)),this.readyState=f8},Ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jf(this)),this.g&&(this.readyState=3,Jf(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zf(this):Jf(this),3==this.readyState&&dR(this)}},Ee.Za=function(t){this.g&&(this.response=this.responseText=t,Zf(this))},Ee.Ya=function(t){this.g&&(this.response=t,Zf(this))},Ee.ka=function(){this.g&&Zf(this)},Ee.setRequestHeader=function(t,e){this.v.append(t,e)},Ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(_1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Use=Ge.JSON.parse;function an(t){Fn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fR,this.L=this.M=!1}On(an,Fn);var fR="",jse=/^https?$/i,$se=["POST","PUT"];function hR(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pR(t),v1(t)}function pR(t){t.F||(t.F=!0,Qn(t,"complete"),Qn(t,"error"))}function gR(t){if(t.h&&typeof k3<"u"&&(!t.C[1]||4!=co(t)||2!=t.da()))if(t.v&&4==co(t))n8(t.La,0,t);else if(Qn(t,"readystatechange"),4==co(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(eR)[1]||null;!i&&Ge.self&&Ge.self.location&&(i=Ge.self.location.protocol.slice(0,-1)),r=!jse.test(i?i.toLowerCase():"")}n=r}if(n)Qn(t,"complete"),Qn(t,"success");else{t.m=6;try{var o=2<co(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",pR(t)}}finally{v1(t)}}}function v1(t,e){if(t.g){mR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qn(t,"ready");try{n.onreadystatechange=r}catch{}}}function mR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ge.clearTimeout(t.A),t.A=null)}function co(t){return t.g?t.g.readyState:0}function _R(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function vR(t){let e="";return $3(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function h8(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=vR(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ft(t,e,n))}function eh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yR(t){this.Ga=0,this.j=[],this.l=new a1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=eh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=eh("baseRetryDelayMs",5e3,t),this.hb=eh("retryDelaySeedMs",1e4,t),this.eb=eh("forwardChannelMaxRetries",2,t),this.xa=eh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new sR(t&&t.concurrentRequestLimit),this.Ja=new Bse,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function p8(t){if(ER(t),3==t.H){var e=t.W++,n=Xo(t.I);if(Ft(n,"SID",t.K),Ft(n,"RID",e),Ft(n,"TYPE","terminate"),th(t,n),(e=new Gf(t,t.l,e)).L=2,e.v=g1(Xo(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon)try{n=Ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ge.Image&&((new Image).src=e.v,n=!0),n||(e.g=SR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),qf(e)}DR(t)}function y1(t){t.g&&(m8(t),t.g.cancel(),t.g=null)}function ER(t){y1(t),t.u&&(Ge.clearTimeout(t.u),t.u=null),x1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ge.clearTimeout(t.m),t.m=null)}function E1(t){if(!aR(t.i)&&!t.m){t.m=!0;var e=t.Na;Bf||FP(),Hf||(Bf(),Hf=!0),e8.add(e,t),t.C=0}}function xR(t,e){var n;n=e?e.m:t.W++;const r=Xo(t.I);Ft(r,"SID",t.K),Ft(r,"RID",n),Ft(r,"AID",t.V),th(t,r),t.o&&t.s&&h8(r,t.o,t.s),n=new Gf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=CR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),d8(t.i,n),c8(n,r,e)}function th(t,e){t.na&&$3(t.na,function(n,r){Ft(e,r,n)}),t.h&&JP({},function(n,r){Ft(e,r,n)})}function CR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ur(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{Hse(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function IR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Bf||FP(),Hf||(Bf(),Hf=!0),e8.add(e,t),t.A=0}}function g8(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=jf(ur(t.Ma,t),AR(t,t.A)),t.A++,0))}function m8(t){null!=t.B&&(Ge.clearTimeout(t.B),t.B=null)}function wR(t){t.g=new Gf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Xo(t.wa);Ft(e,"RID","rpc"),Ft(e,"SID",t.K),Ft(e,"AID",t.V),Ft(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ft(e,"TO",t.qa),Ft(e,"TYPE","xmlhttp"),th(t,e),t.o&&t.s&&h8(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=g1(Xo(e)),n.s=null,n.S=!0,QP(n,t)}function x1(t){null!=t.v&&(Ge.clearTimeout(t.v),t.v=null)}function bR(t,e){var n=null;if(t.g==e){x1(t),m8(t),t.g=null;var r=2}else{if(!u8(t.i,e))return;n=e.F,lR(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Qn(r=c1(),new $P(r,n)),E1(t)}else IR(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Wse(t,e){return!(cR(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=jf(ur(t.Na,t,e),AR(t,t.C)),t.C++,0)))}(t,e)||2==r&&g8(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wa(t,5);break;case 4:Wa(t,10);break;case 3:Wa(t,6);break;default:Wa(t,2)}}function AR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wa(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=ur(t.pb,t);n||(n=new qa("//www.google.com/images/cleardot.gif"),Ge.location&&"http"==Ge.location.protocol||h1(n,"https"),g1(n)),function zse(t,e){const n=new a1;if(Ge.Image){const r=new Image;r.onload=t1(m1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=t1(m1,n,r,"TestLoadImage: error",!1,e),r.onabort=t1(m1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=t1(m1,n,r,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Tr(2);t.H=0,t.h&&t.h.za(e),DR(t),ER(t)}function DR(t){if(t.H=0,t.ma=[],t.h){const e=uR(t.i);(0!=e.length||0!=t.j.length)&&(CP(t.ma,e),CP(t.ma,t.j),t.i.i.length=0,F3(t.j),t.j.length=0),t.h.ya()}}function TR(t,e,n){var r=n instanceof qa?Xo(n):new qa(n);if(""!=r.g)e&&(r.g=e+"."+r.g),p1(r,r.m);else{var i=Ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new qa(null);r&&h1(o,r),e&&(o.g=e),i&&p1(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&Ft(r,n,e),Ft(r,"VER",t.ra),th(t,r),r}function SR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new an(n&&t.Ha&&!t.va?new Xf({ob:!0}):t.va)).Oa(t.J),e}function MR(){}function C1(){if(kl&&!(10<=Number(sse)))throw Error("Environmental error: no available transport.")}function ei(t,e){Fn.call(this),this.g=new yR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ff(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ff(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Vl(this)}function PR(t){i8.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function RR(){o8.call(this),this.status=1}function Vl(t){this.g=t}function Li(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _8(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Et(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(Ee=an.prototype).Oa=function(t){this.M=t},Ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():s8.g(),this.C=function qP(t){return t.h||(t.h=t.i())}(this.u?this.u:s8),this.g.onreadystatechange=ur(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void hR(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Ge.FormData&&t instanceof Ge.FormData,!(0<=xP($se,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mR(this),0<this.B&&((this.L=function Gse(t){return kl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.ua,this)):this.A=n8(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){hR(this,o)}},Ee.ua=function(){typeof k3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qn(this,"timeout"),this.abort(8))},Ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qn(this,"complete"),Qn(this,"abort"),v1(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),v1(this,!0)),an.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?gR(this):this.kb())},Ee.kb=function(){gR(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<co(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Use(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=yR.prototype).ra=8,Ee.H=1,Ee.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Gf(this,this.l,t);let o=this.s;if(this.U&&(o?(o=DP(o),SP(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=CR(this,i,e),Ft(n=Xo(this.I),"RID",t),Ft(n,"CVER",22),this.F&&Ft(n,"X-HTTP-Session-Id",this.F),th(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(vR(o)))+"&"+e:this.o&&h8(n,this.o,o)),d8(this.i,i),this.bb&&Ft(n,"TYPE","init"),this.P?(Ft(n,"$req",e),Ft(n,"SID","null"),i.aa=!0,c8(i,n,null)):c8(i,n,e),this.H=2}}else 3==this.H&&(t?xR(this,t):0==this.j.length||aR(this.i)||xR(this))},Ee.Ma=function(){if(this.u=null,wR(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=jf(ur(this.jb,this),t)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tr(10),y1(this),wR(this))},Ee.ib=function(){null!=this.v&&(this.v=null,y1(this),g8(this),Tr(19))},Ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Tr(2)):(this.l.info("Failed to ping google.com"),Tr(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=MR.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},C1.prototype.g=function(t,e){return new ei(t,e)},On(ei,Fn),ei.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Tr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=TR(t,null,t.Y),E1(t)},ei.prototype.close=function(){p8(this.g)},ei.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=J3(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&E1(e)},ei.prototype.N=function(){this.g.h=null,delete this.j,p8(this.g),delete this.g,ei.$.N.call(this)},On(PR,i8),On(RR,o8),On(Vl,MR),Vl.prototype.Ba=function(){Qn(this.g,"a")},Vl.prototype.Aa=function(t){Qn(this.g,new PR(t))},Vl.prototype.za=function(t){Qn(this.g,new RR)},Vl.prototype.ya=function(){Qn(this.g,"b")},On(Li,function Kse(){this.blockSize=-1}),Li.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Li.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)_8(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){_8(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){_8(this,r),i=0;break}}this.h=i,this.i+=e},Li.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Qse={};function v8(t){return-128<=t&&128>t?function rse(t,e){var n=Qse;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Et([0|e],0>e?-1:0)}):new Et([0|t],0>t?-1:0)}function lo(t){if(isNaN(t)||!isFinite(t))return Ll;if(0>t)return Yn(lo(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=y8;return new Et(e,0)}var y8=4294967296,Ll=v8(0),E8=v8(1),kR=v8(16777216);function Zo(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function _i(t){return-1==t.h}function Yn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Et(n,~t.h).add(E8)}function I1(t,e){return t.add(Yn(e))}function w1(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function nh(t,e){this.g=t,this.h=e}function b1(t,e){if(Zo(e))throw Error("division by zero");if(Zo(t))return new nh(Ll,Ll);if(_i(t))return e=b1(Yn(t),e),new nh(Yn(e.g),Yn(e.h));if(_i(e))return e=b1(t,Yn(e)),new nh(Yn(e.g),e.h);if(30<t.g.length){if(_i(t)||_i(e))throw Error("slowDivide_ only works with positive integers.");for(var n=E8,r=e;0>=r.X(t);)n=OR(n),r=OR(r);var i=Bl(n,1),o=Bl(r,1);for(r=Bl(r,2),n=Bl(n,2);!Zo(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Bl(r,1),n=Bl(n,1)}return e=I1(t,i.R(e)),new nh(i,e)}for(i=Ll;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=lo(n)).R(e);_i(s)||0<s.X(t);)s=(o=lo(n-=r)).R(e);Zo(o)&&(o=E8),i=i.add(o),t=I1(t,s)}return new nh(i,t)}function OR(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Et(n,t.h)}function Bl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Et(i,t.h)}(Ee=Et.prototype).ea=function(){if(_i(this))return-Yn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:y8+r)*e,e*=y8}return t},Ee.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Zo(this))return"0";if(_i(this))return"-"+Yn(this).toString(t);for(var e=lo(Math.pow(t,6)),n=this,r="";;){var i=b1(n,e).g,o=((0<(n=I1(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Zo(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ee.X=function(t){return _i(t=I1(this,t))?-1:Zo(t)?0:1},Ee.abs=function(){return _i(this)?Yn(this):this},Ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Et(n,-2147483648&n[n.length-1]?-1:0)},Ee.R=function(t){if(Zo(this)||Zo(t))return Ll;if(_i(this))return _i(t)?Yn(this).R(Yn(t)):Yn(Yn(this).R(t));if(_i(t))return Yn(this.R(Yn(t)));if(0>this.X(kR)&&0>t.X(kR))return lo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,w1(n,2*r+2*i),n[2*r+2*i+1]+=o*c,w1(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,w1(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,w1(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Et(n,0)},Ee.gb=function(t){return b1(this,t).h},Ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Et(n,this.h&t.h)},Ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Et(n,this.h|t.h)},Ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Et(n,this.h^t.h)},C1.prototype.createWebChannel=C1.prototype.g,ei.prototype.send=ei.prototype.u,ei.prototype.open=ei.prototype.m,ei.prototype.close=ei.prototype.close,l1.NO_ERROR=0,l1.TIMEOUT=8,l1.HTTP_ERROR=6,GP.COMPLETE="complete",WP.EventType=$f,$f.OPEN="a",$f.CLOSE="b",$f.ERROR="c",$f.MESSAGE="d",Fn.prototype.listen=Fn.prototype.O,an.prototype.listenOnce=an.prototype.P,an.prototype.getLastError=an.prototype.Sa,an.prototype.getLastErrorCode=an.prototype.Ia,an.prototype.getStatus=an.prototype.da,an.prototype.getResponseJson=an.prototype.Wa,an.prototype.getResponseText=an.prototype.ja,an.prototype.send=an.prototype.ha,an.prototype.setWithCredentials=an.prototype.Oa,Li.prototype.digest=Li.prototype.l,Li.prototype.reset=Li.prototype.reset,Li.prototype.update=Li.prototype.j,Et.prototype.add=Et.prototype.add,Et.prototype.multiply=Et.prototype.R,Et.prototype.modulo=Et.prototype.gb,Et.prototype.compare=Et.prototype.X,Et.prototype.toNumber=Et.prototype.ea,Et.prototype.toString=Et.prototype.toString,Et.prototype.getBits=Et.prototype.D,Et.fromNumber=lo,Et.fromString=function NR(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Yn(NR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=lo(Math.pow(e,8)),r=Ll,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=lo(Math.pow(e,o)),r=r.R(o).add(lo(s))):r=(r=r.R(n)).add(lo(s))}return r};var Yse=Vi.createWebChannelTransport=function(){return new C1},Xse=Vi.getStatEventTarget=function(){return c1()},x8=Vi.ErrorCode=l1,Zse=Vi.EventType=GP,Jse=Vi.Event=$a,FR=Vi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},eae=Vi.FetchXmlHttpFactory=Xf,A1=Vi.WebChannel=WP,tae=Vi.XhrIo=an,nae=Vi.Md5=Li,Hl=Vi.Integer=Et;const VR="@firebase/firestore";class Vn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");let zl="10.5.2";const Vs=new _f("@firebase/firestore");function Ul(){return Vs.logLevel}function J(t,...e){if(Vs.logLevel<=st.DEBUG){const n=e.map(C8);Vs.debug(`Firestore (${zl}): ${t}`,...n)}}function pn(t,...e){if(Vs.logLevel<=st.ERROR){const n=e.map(C8);Vs.error(`Firestore (${zl}): ${t}`,...n)}}function ti(t,...e){if(Vs.logLevel<=st.WARN){const n=e.map(C8);Vs.warn(`Firestore (${zl}): ${t}`,...n)}}function C8(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function be(t="Unexpected state"){const e=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: `+t;throw pn(e),new Error(e)}function Se(t,e){t||be()}function ge(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class LR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class iae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oae{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(E(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se("string"==typeof r.accessToken),new LR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Se(null===e||"string"==typeof e),new Vn(e)}}class sae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class aae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,J("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se("string"==typeof n.token),this.R=n.token,new BR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class HR{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=lae(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function jl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Zt(0,0))}static max(){return new Pe(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rh{constructor(e,n,r){void 0===n?n=0:n>e.length&&be(),void 0===r?r=e.length-n:r>e.length-n&&be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===rh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends rh{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const uae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends rh{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return uae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(lt.fromString(e))}static fromName(e){return new _e(lt.fromString(e).popFirst(5))}static empty(){return new _e(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new lt(e.slice()))}}function jR(t){return new ni(t.readTime,t.key,-1)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(Pe.min(),_e.empty(),-1)}static max(){return new ni(Pe.max(),_e.empty(),-1)}}function w8(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=_e.comparator(t.documentKey,e.documentKey),0!==n?n:Ue(t.largestBatchId,e.largestBatchId))}const $R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ls(t){return b8.apply(this,arguments)}function b8(){return b8=E(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==$R)throw t;J("LocalStore","Unexpectedly lost primary lease")}),b8.apply(this,arguments)}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new P((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function Bs(t){return"IndexedDbTransactionError"===t.name}let ri=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function oh(t){return null==t}function sh(t){return 0===t&&1/t==-1/0}function JR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Rt{constructor(e,n){this.comparator=e,this.root=n||Xn.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new S1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new S1(this.root,e,this.comparator,!1)}getReverseIterator(){return new S1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new S1(this.root,e,this.comparator,!0)}}class S1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Xn.RED,this.left=i??Xn.EMPTY,this.right=o??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Xn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1,Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class It{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tN(this.data.getIterator())}getIteratorFrom(e){return new tN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class tN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ur{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Ur([])}unionWith(e){let n=new It(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class nN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nN("Invalid base64 string: "+o):o}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const Fae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(Se(!!t),"string"==typeof t){let e=0;const n=Fae.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cn(t.seconds),nanos:cn(t.nanos)}}function cn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Jo(t){return"string"==typeof t?Mn.fromBase64String(t):Mn.fromUint8Array(t)}function M1(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function P1(t){const e=t.mapValue.fields.__previous_value__;return M1(e)?P1(e):e}function ah(t){const e=zs(t.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}class Vae{constructor(e,n,r,i,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Xa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}const Us={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?M1(t)?4:sN(t)?9007199254740991:10:be()}function fo(t,e){if(t===e)return!0;const n=js(t);if(n!==js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ah(t).isEqual(ah(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=zs(i.timestampValue),a=zs(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Jo(t.bytesValue).isEqual(Jo(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return cn(i.geoPointValue.latitude)===cn(o.geoPointValue.latitude)&&cn(i.geoPointValue.longitude)===cn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return cn(i.integerValue)===cn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=cn(i.doubleValue),a=cn(o.doubleValue);return s===a?sh(s)===sh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return jl(t.arrayValue.values||[],e.arrayValue.values||[],fo);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(JR(s)!==JR(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!fo(s[c],a[c])))return!1;return!0}(t,e);default:return be()}var o}function ch(t,e){return void 0!==(t.values||[]).find(n=>fo(n,e))}function $s(t,e){if(t===e)return 0;const n=js(t),r=js(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=cn(o.integerValue||o.doubleValue),c=cn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return rN(t.timestampValue,e.timestampValue);case 4:return rN(ah(t),ah(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Jo(o),c=Jo(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Ue(a[l],c[l]);if(0!==u)return u}return Ue(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ue(cn(o.latitude),cn(s.latitude));return 0!==a?a:Ue(cn(o.longitude),cn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=$s(a[l],c[l]);if(u)return u}return Ue(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Us.mapValue&&s===Us.mapValue)return 0;if(o===Us.mapValue)return 1;if(s===Us.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=Ue(c[d],u[d]);if(0!==f)return f;const h=$s(a[c[d]],l[u[d]]);if(0!==h)return h}return Ue(c.length,u.length)}(t.mapValue,e.mapValue);default:throw be()}}function rN(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ue(t,e);const n=zs(t),r=zs(e),i=Ue(n.seconds,r.seconds);return 0!==i?i:Ue(n.nanos,r.nanos)}function Wl(t){return T8(t)}function T8(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jo(t.bytesValue).toBase64():"referenceValue"in t?_e.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=T8(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${T8(n.fields[s])}`;return i+"}"}(t.mapValue):be()}function Za(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function S8(t){return!!t&&"integerValue"in t}function lh(t){return!!t&&"arrayValue"in t}function iN(t){return!!t&&"nullValue"in t}function oN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function k1(t){return!!t&&"mapValue"in t}function uh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sN(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!k1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uh(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=uh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());k1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];k1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Zn(uh(this.value))}}function lN(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new qt([n]);if(k1(r)){const o=lN(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ur(e)}class Vt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,Pe.min(),Pe.min(),Pe.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,i){return new Vt(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new Vt(e,2,n,Pe.min(),Pe.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,Pe.min(),Pe.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gs{constructor(e,n){this.position=e,this.inclusive=n}}function uN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?_e.comparator(_e.fromName(s.referenceValue),n.key):$s(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function dN(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fo(t.position[n],e.position[n]))return!1;return!0}class dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Hae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class fN{}class rt extends fN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new zae(e,n,r):"array-contains"===n?new $ae(e,r):"in"===n?new vN(e,r):"not-in"===n?new Gae(e,r):"array-contains-any"===n?new qae(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Uae(e,r):new jae(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison($s(n,this.value)):null!==n&&js(this.value)===js(n)&&this.matchesComparison($s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xt extends fN{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new xt(e,n)}matches(e){return Kl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Kl(t){return"and"===t.op}function P8(t){return function hN(t){for(const e of t.filters)if(e instanceof xt)return!1;return!0}(t)&&Kl(t)}function R8(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Wl(t.value);if(P8(t))return t.filters.map(e=>R8(e)).join(",");{const e=t.filters.map(n=>R8(n)).join(",");return`${t.op}(${e})`}}function pN(t,e){return t instanceof rt?(r=t,(i=e)instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&fo(r.value,i.value)):t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&pN(s,i.filters[a]),!0)}(t,e):void be();var r,i}function mN(t){return t instanceof rt?`${(n=t).field.canonicalString()} ${n.op} ${Wl(n.value)}`:t instanceof xt?function(n){return n.op.toString()+" {"+n.getFilters().map(mN).join(" ,")+"}"}(t):"Filter";var n}class zae extends rt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Uae extends rt{constructor(e,n){super(e,"in",n),this.keys=_N(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jae extends rt{constructor(e,n){super(e,"not-in",n),this.keys=_N(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _N(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class $ae extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lh(n)&&ch(n.arrayValue,this.value)}}class vN extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ch(this.value.arrayValue,n)}}class Gae extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ch(this.value.arrayValue,n)}}class qae extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ch(this.value.arrayValue,r))}}class Wae{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function N8(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Wae(t,e,n,r,i,o,s)}function Ja(t){const e=ge(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>R8(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wl(r)).join(",")),e.ce=n}return e.ce}function fh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Hae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dN(t.startAt,e.startAt)&&dN(t.endAt,e.endAt)}function O1(t){return _e.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class es{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function Ql(t){return new es(t)}function CN(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function k8(t){return null!==t.collectionGroup}function Yl(t){const e=ge(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new It(qt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new dh(o,r))}),n.has(qt.keyField().canonicalString())||e.le.push(new dh(qt.keyField(),r))}return e.le}function Sr(t){const e=ge(t);return e.he||(e.he=function IN(t,e){if("F"===t.limitType)return N8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new dh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Gs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gs(t.startAt.position,t.startAt.inclusive):null;return N8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Yl(t))),e.he}function O8(t,e){const n=t.filters.concat([e]);return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function V1(t,e,n){return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return fh(Sr(t),Sr(e))&&t.limitType===e.limitType}function wN(t){return`${Ja(Sr(t))}|lt:${t.limitType}`}function Xl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mN(i)).join(", ")}]`),oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wl(i)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Yl(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,c){const l=uN(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Yl(r),i)||r.endAt&&!function(s,a,c){const l=uN(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Yl(r),i)));var r,i}function AN(t){return(e,n)=>{let r=!1;for(const i of Yl(t)){const o=Kae(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Kae(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?$s(c,l):be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}class ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return eN(this.inner)}size(){return this.innerSize}}const Qae=new Rt(_e.comparator);function jr(){return Qae}const DN=new Rt(_e.comparator);function gh(...t){let e=DN;for(const n of t)e=e.insert(n.key,n);return e}function TN(t){let e=DN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ho(){return mh()}function SN(){return mh()}function mh(){return new ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const Yae=new Rt(_e.comparator),Xae=new It(_e.comparator);function Qe(...t){let e=Xae;for(const n of t)e=e.add(n);return e}const Zae=new It(Ue);function MN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function PN(t){return{integerValue:""+t}}function RN(t,e){return function qR(t){return"number"==typeof t&&Number.isInteger(t)&&!sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?PN(e):MN(t,e)}class L1{constructor(){this._=void 0}}function Jae(t,e,n){return t instanceof Zl?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&M1(o)&&(o=P1(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ec?kN(t,e):t instanceof tc?ON(t,e):function(i,o){const s=NN(i,o),a=FN(s)+FN(i.Ie);return S8(s)&&S8(i.Ie)?PN(a):MN(i.serializer,a)}(t,e)}function ece(t,e,n){return t instanceof ec?kN(t,e):t instanceof tc?ON(t,e):n}function NN(t,e){return t instanceof Jl?S8(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Zl extends L1{}class ec extends L1{constructor(e){super(),this.elements=e}}function kN(t,e){const n=VN(e);for(const r of t.elements)n.some(i=>fo(i,r))||n.push(r);return{arrayValue:{values:n}}}class tc extends L1{constructor(e){super(),this.elements=e}}function ON(t,e){let n=VN(e);for(const r of t.elements)n=n.filter(i=>!fo(i,r));return{arrayValue:{values:n}}}class Jl extends L1{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function FN(t){return cn(t.integerValue||t.doubleValue)}function VN(t){return lh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class nce{constructor(e,n){this.version=e,this.transformResults=n}}class Wt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wt}static exists(e){return new Wt(void 0,e)}static updateTime(e){return new Wt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function B1(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class H1{}function LN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new tu(t.key,Wt.none()):new eu(t.key,t.data,Wt.none());{const n=t.data,r=Zn.empty();let i=new It(qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ns(t.key,r,new Ur(i.toArray()),Wt.none())}}function rce(t,e,n){t instanceof eu?function(i,o,s){const a=i.value.clone(),c=zN(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(i,o,s){if(!B1(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=zN(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(HN(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function vh(t,e,n,r){return t instanceof eu?function(o,s,a,c){if(!B1(o.precondition,s))return a;const l=o.value.clone(),u=UN(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ns?function(o,s,a,c){if(!B1(o.precondition,s))return a;const l=UN(o.fieldTransforms,c,s),u=s.data;return u.setAll(HN(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,B1(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function ice(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=NN(r.transform,i||null);null!=o&&(null===n&&(n=Zn.empty()),n.set(r.field,o))}return n||null}function BN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&jl(r,i,(o,s)=>function tce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof ec&&i instanceof ec||r instanceof tc&&i instanceof tc?jl(r.elements,i.elements,fo):r instanceof Jl&&i instanceof Jl?fo(r.Ie,i.Ie):r instanceof Zl&&i instanceof Zl);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class eu extends H1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ns extends H1{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zN(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,ece(s,a,n[i]))}return r}function UN(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Jae(o,s,e))}return r}class tu extends H1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V8 extends H1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class L8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&rce(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SN();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=LN(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,(n,r)=>BN(n,r))&&jl(this.baseMutations,e.baseMutations,(n,r)=>BN(n,r))}}class B8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=Yae;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new B8(e,n,r,i)}}class H8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sce{constructor(e,n){this.count=e,this.unchangedNames=n}}var Cn,ut;function $N(t){if(void 0===t)return pn("GRPC error has no .code"),B.UNKNOWN;switch(t){case Cn.OK:return B.OK;case Cn.CANCELLED:return B.CANCELLED;case Cn.UNKNOWN:return B.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return B.INTERNAL;case Cn.UNAVAILABLE:return B.UNAVAILABLE;case Cn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Cn.NOT_FOUND:return B.NOT_FOUND;case Cn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Cn.ABORTED:return B.ABORTED;case Cn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Cn.DATA_LOSS:return B.DATA_LOSS;default:return be()}}(ut=Cn||(Cn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";const ace=new Hl([4294967295,4294967295],0);function qN(t){const e=function GN(){return new TextEncoder}().encode(t),n=new nae;return n.update(e),new Uint8Array(n.digest())}function WN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hl([n,r],0),new Hl([i,o],0)]}class z8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yh(`Invalid padding: ${n}`);if(r<0)throw new yh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new yh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new yh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Hl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Hl.fromNumber(r)));return 1===i.compare(ace)&&(i=new Hl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=qN(e),[r,i]=WN(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new z8(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=qN(e),[r,i]=WN(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class yh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Eh(Pe.min(),i,new Rt(Ue),jr(),Qe())}}class xh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xh(r,n,Qe(),Qe(),Qe())}}class U1{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class KN{constructor(e,n){this.targetId=e,this.fe=n}}class QN{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YN{constructor(){this.ge=0,this.pe=ZN(),this.ye=Mn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:be()}}),new xh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=ZN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class cce{constructor(e){this.Le=e,this.ke=new Map,this.qe=jr(),this.Qe=XN(),this.Ke=new Rt(Ue)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(O1(o))if(0===r){const s=new _e(o.path);this.We(n,s,Vt.newNoDocument(s,Pe.min()))}else Se(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Jo(r).toUint8Array()}catch(c){if(c instanceof nN)return ti("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new z8(s,i,o)}catch(c){return ti(c instanceof yh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&O1(a.target)){const c=new _e(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,Vt.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Qe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Eh(e,n,this.Ke,this.qe,r);return this.qe=jr(),this.Qe=XN(),this.Ke=new Rt(Ue),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new YN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new It(Ue),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||J("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new YN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function XN(){return new Rt(_e.comparator)}function ZN(){return new Rt(_e.comparator)}const lce={asc:"ASCENDING",desc:"DESCENDING"},uce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dce={and:"AND",or:"OR"};class fce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function U8(t,e){return t.useProto3Json||oh(e)?e:{value:e}}function nu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hce(t,e){return nu(t,e.toTimestamp())}function gn(t){return Se(!!t),Pe.fromTimestamp(function(n){const r=zs(n);return new Zt(r.seconds,r.nanos)}(t))}function j8(t,e){return(r=t,new lt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function ek(t){const e=lt.fromString(t);return Se(lk(e)),e}function Ch(t,e){return j8(t.databaseId,e.path)}function po(t,e){const n=ek(e);if(n.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(nk(n))}function $8(t,e){return j8(t.databaseId,e)}function Ih(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nk(t){return Se(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function rk(t,e,n){return{name:Ch(t,e),fields:n.value.mapValue.fields}}function ok(t,e){return{documents:[$8(t,e.path)]}}function q8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=$8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return ck(xt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:qs((d=l).field),direction:vce(d.dir)};var d})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=U8(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function sk(t){let e=function tk(t){const e=ek(t);return 4===e.length?lt.emptyPath():nk(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){const f=ak(d);return f instanceof xt&&P8(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(f=>{return new dh(ru((p=f).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,oh(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new Gs((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new Gs(d.values||[],!d.before)}(n.endAt)),function xN(t,e,n,r,i,o,s,a){return new es(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",c,l)}function ak(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ru(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ru(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ru(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ru(n.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):void 0!==t.fieldFilter?rt.create(ru((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return xt.create(n.compositeFilter.filters.map(r=>ak(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(t):be();var n}function vce(t){return lce[t]}function yce(t){return uce[t]}function Ece(t){return dce[t]}function qs(t){return{fieldPath:t.canonicalString()}}function ru(t){return qt.fromServerFormat(t.fieldPath)}function ck(t){return t instanceof rt?function(n){if("=="===n.op){if(oN(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NAN"}};if(iN(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(oN(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NAN"}};if(iN(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(n.field),op:yce(n.op),value:n.value}}}(t):t instanceof xt?function(n){const r=n.getFilters().map(i=>ck(i));return 1===r.length?r[0]:{compositeFilter:{op:Ece(n.op),filters:r}}}(t):be()}function xce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lk(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class rs{constructor(e,n,r,i,o=Pe.min(),s=Pe.min(),a=Mn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uk{constructor(e){this.ut=e}}function W8(t){const e=sk({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?V1(e,e.limit,"L"):e}class oc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(cn(e.integerValue));else if("doubleValue"in e){const r=cn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),sh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Jo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?sN(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):be()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),_e.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}oc.St=new oc;class Sce{constructor(){this.on=new J8}addToCollectionParentIndex(e,n){return this.on.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(ni.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class J8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(lt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(lt.comparator)).toArray()}}new Uint8Array(0);class hr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(41943040,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);class ac{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ac(0)}static Nn(){return new ac(-1)}}class Oce{constructor(){this.changes=new ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lce{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Vk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&vh(r.mutation,i,Ur.empty(),Zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=ho();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=gh();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ho();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=jr();const s=mh(),a=mh();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof ns)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),vh(u.mutation,l,u.mutation.getFieldMask(),Zt.now())):s.set(l.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Lce(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=mh();let i=new Rt((s,a)=>s-a),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||Ur.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Qe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=SN();u.forEach(f=>{if(!o.has(f)){const h=LN(n.get(f),r.get(f));null!==h&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return _e.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):k8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(ho());let a=-1,c=o;return s.next(l=>P.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?P.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Qe())).next(u=>({batchId:a,changes:TN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=gh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=gh();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,c=>{const l=(d=n,f=c.child(o),new es(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,l)=>{const u=l.getKey();null===s.get(u)&&(s=s.insert(u,Vt.newInvalidDocument(u)))});let a=gh();return s.forEach((c,l)=>{const u=o.get(c);void 0!==u&&vh(u.mutation,l,Ur.empty(),Zt.now()),ph(n,l)&&(a=a.insert(c,l))}),a})}}class Bce{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return P.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:gn(i.createTime)}),P.resolve();var i}getNamedQuery(e,n){return P.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:W8(i.bundledQuery),readTime:gn(i.readTime)}),P.resolve();var i}}class Hce{constructor(){this.overlays=new Rt(_e.comparator),this.lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ho();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=ho(),o=n.length+1,s=new _e(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Rt((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=o.get(l.largestBatchId);null===u&&(u=ho(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=ho(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return P.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new H8(n,r));let o=this.lr.get(n);void 0===o&&(o=Qe(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class eE{constructor(){this.hr=new It(Bn.Pr),this.Ir=new It(Bn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Bn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Bn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new _e(new lt([])),r=new Bn(n,e),i=new Bn(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new _e(new lt([])),r=new Bn(n,e),i=new Bn(n,e+1);let o=Qe();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Bn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Bn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return _e.comparator(e.key,n.key)||Ue(e.gr,n.gr)}static Tr(e,n){return Ue(e.gr,n.gr)||_e.comparator(e.key,n.key)}}class zce{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new It(Bn.Pr)}checkEmpty(e){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new L8(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Bn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bn(n,0),i=new Bn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(Ue);return n.forEach(i=>{const o=new Bn(i,0),s=new Bn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),P.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const s=new Bn(new _e(o),0);let a=new It(Ue);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},s),P.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Se(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return P.forEach(n.mutations,i=>{const o=new Bn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Bn(n,0),i=this.yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return P.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Uce{constructor(e){this.Cr=e,this.docs=new Rt(_e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=jr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Vt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=jr();const s=n.path,a=new _e(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||w8(jR(u),r)<=0||(i.has(u.key)||ph(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){be()}vr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jce(this)}getSize(e){return P.resolve(this.size)}}class jce extends Oce{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class $ce{constructor(e){this.persistence=e,this.Fr=new ts(n=>Ja(n),fh),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new eE,this.targetCount=0,this.Nr=ac.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),P.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ac(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.kn(n),P.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Or.containsKey(n))}}class tE{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ri(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new $ce(this),this.indexManager=new Sce,this.remoteDocumentCache=new Uce(r=>this.referenceDelegate.Qr(r)),this.serializer=new uk(n),this.Kr=new Bce(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hce,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new zce(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new Gce(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return P.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Gce extends hae{constructor(e){super(),this.currentSequenceNumber=e}}class Y1{constructor(e){this.persistence=e,this.Gr=new eE,this.zr=null}static jr(e){return new Y1(e)}get Hr(){if(this.zr)return this.zr;throw be()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,r=>{const i=_e.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,Pe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return P.or([()=>P.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class oE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Qe(),i=Qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new oE(e,n.fromCache,r,i)}}class Wce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Bk{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Wce;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Ul()<=st.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(Ul()<=st.DEBUG&&J("QueryEngine","Query:",Xl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ul()<=st.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):P.resolve())}zi(e,n){if(CN(n))return P.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=V1(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Qe(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,V1(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return CN(n)||i.isEqual(Pe.min())?P.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?P.resolve(null):(Ul()<=st.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xl(n)),this.Xi(e,s,n,function UR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(1e9===r?new Zt(n+1,0):new Zt(n,r));return new ni(i,_e.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new It(AN(e));return n.forEach((i,o)=>{ph(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Ul()<=st.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Xl(n)),this.Gi.getDocumentsMatchingQuery(e,n,ni.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Kce{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Rt(Ue),this.ns=new ts(o=>Ja(o),fh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vk(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function zk(t,e){return sE.apply(this,arguments)}function sE(){return sE=E(function*(t,e){const n=ge(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=Qe();for(const l of i){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),sE.apply(this,arguments)}function Uk(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Xce(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lu(t,e,n){return aE.apply(this,arguments)}function aE(){return aE=E(function*(t,e,n){const r=ge(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Bs(s))throw s;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),aE.apply(this,arguments)}function J1(t,e,n){const r=ge(t);let i=Pe.min(),o=Qe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){const d=ge(c),f=d.ns.get(u);return void 0!==f?P.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,s,Sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:Pe.min(),n?o:Qe())).next(a=>(function qk(t,e,n){let r=t.rs.get(e)||Pe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}(r,function bN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:o})))}class fE{constructor(){this.activeTargetIds=function F8(){return Zae}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qk{constructor(){this.eo=new fE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new fE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ele{ro(e){}shutdown(){}}class Yk{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let nm=null;function pE(){return null===nm?nm=268435456+Math.round(2147483648*Math.random()):nm++,"0x"+nm.toString(16)}const tle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nle{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const pr="WebChannelConnection";class rle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=pE(),c=this.So(n,r);J("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,i).then(u=>(J("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ti("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+zl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${tle[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=pE();return new Promise((s,a)=>{const c=new tae;c.setWithCredentials(!0),c.listenOnce(Zse.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case x8.NO_ERROR:const u=c.getResponseJson();J(pr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case x8.TIMEOUT:J(pr,`RPC '${e}' ${o} timed out`),a(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case x8.HTTP_ERROR:const d=c.getStatus();if(J(pr,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(w){const R=w.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(R)>=0?R:B.UNKNOWN}(h.status);a(new te(p,h.message))}else a(new te(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new te(B.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{J(pr,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);J(pr,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=pE(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Yse(),a=Xse(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new eae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=o.join("");J(pr,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=s.createWebChannel(u,c);let f=!1,h=!1;const p=new nle({co:w=>{h?J(pr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(J(pr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),J(pr,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},lo:()=>d.close()}),_=(w,R,A)=>{w.listen(R,$=>{try{A($)}catch(ie){setTimeout(()=>{throw ie},0)}})};return _(d,A1.EventType.OPEN,()=>{h||J(pr,`RPC '${e}' stream ${i} transport opened.`)}),_(d,A1.EventType.CLOSE,()=>{h||(h=!0,J(pr,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),_(d,A1.EventType.ERROR,w=>{h||(h=!0,ti(pr,`RPC '${e}' stream ${i} transport errored:`,w),p.Ro(new te(B.UNAVAILABLE,"The operation could not be completed")))}),_(d,A1.EventType.MESSAGE,w=>{var R;if(!h){const A=w.data[0];Se(!!A);const ie=A.error||(null===(R=A[0])||void 0===R?void 0:R.error);if(ie){J(pr,`RPC '${e}' stream ${i} received error:`,ie);const pe=ie.status;let Ne=function(zn){const pa=Cn[zn];if(void 0!==pa)return $N(pa)}(pe),Ze=ie.message;void 0===Ne&&(Ne=B.INTERNAL,Ze="Unknown error status: "+pe+" with message "+ie.message),h=!0,p.Ro(new te(Ne,Ze)),d.close()}else J(pr,`RPC '${e}' stream ${i} received:`,A),p.Vo(A)}}),_(a,Jse.STAT_EVENT,w=>{w.stat===FR.PROXY?J(pr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===FR.NOPROXY&&J(pr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function rm(){return typeof document<"u"?document:null}function Rh(t){return new fce(t,!0)}class gE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Zk{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new gE(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return E(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return E(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return E(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(pn(n.toString()),pn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new te(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(E(function*(){e.state=0,e.start()}))}o_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ile extends Zk{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function gce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:be(),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Se(void 0===u||"string"==typeof u),Mn.fromBase64String(u||"")):(Se(void 0===u||u instanceof Uint8Array),Mn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=void 0===l.code?B.UNKNOWN:$N(l.code);return new te(u,l.message||"")}(s);n=new QN(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=po(t,r.document.name),o=gn(r.document.updateTime),s=r.document.createTime?gn(r.document.createTime):Pe.min(),a=new Zn({mapValue:{fields:r.document.fields}}),c=Vt.newFoundDocument(i,o,s,a);n=new U1(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=po(t,r.document),o=r.readTime?gn(r.readTime):Pe.min(),s=Vt.newNoDocument(i,o);n=new U1([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=po(t,r.document);n=new U1([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return be();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new sce(i,o);n=new KN(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Pe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Pe.min():s.readTime?gn(s.readTime):Pe.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Ih(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=O1(c)?{documents:ok(o,c)}:{query:q8(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JN(o,s.resumeToken);const l=U8(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Pe.min())>0){a.readTime=nu(o,s.snapshotVersion.toTimestamp());const l=U8(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function _ce(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Ih(this.serializer),n.removeTarget=e,this.e_(n)}}class ole extends Zk{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function mce(t,e){return t&&t.length>0?(Se(void 0!==e),t.map(n=>function(i,o){let s=gn(i.updateTime?i.updateTime:o);return s.isEqual(Pe.min())&&(s=gn(o)),new nce(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.I_(r,n)}return Se(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ih(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function wh(t,e){let n;if(e instanceof eu)n={update:rk(t,e.key,e.value)};else if(e instanceof tu)n={delete:Ch(t,e.key)};else if(e instanceof ns)n={update:rk(t,e.key,e.data),updateMask:xce(e.fieldMask)};else{if(!(e instanceof V8))return be();n={verify:Ch(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Zl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ec)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jl)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw be()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:hce(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:be()),n;var o}(this.serializer,r))};this.e_(n)}}class sle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(B.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class cle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(pn(n),this.f_=!1):J("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class lle{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget(E(function*(){var c;Ys(s)&&(J("RemoteStore","Restarting streams for network reachability change."),yield(c=E(function*(u){const d=ge(u);d.C_.add(4),yield uu(d),d.M_.set("Unknown"),d.C_.delete(4),yield Nh(d)}),function l(u){return c.apply(this,arguments)})(s))}))}),this.M_=new cle(r,i)}}function Nh(t){return _E.apply(this,arguments)}function _E(){return _E=E(function*(t){if(Ys(t))for(const e of t.v_)yield e(!0)}),_E.apply(this,arguments)}function uu(t){return vE.apply(this,arguments)}function vE(){return vE=E(function*(t){for(const e of t.v_)yield e(!1)}),vE.apply(this,arguments)}function im(t,e){const n=ge(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),xE(n)?EE(n):fu(n).Ho()&&yE(n,e))}function kh(t,e){const n=ge(t),r=fu(n);n.D_.delete(e),r.Ho()&&Jk(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Ys(n)&&n.M_.set("Unknown"))}function yE(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fu(t).u_(e)}function Jk(t,e){t.x_.Oe(e),fu(t).c_(e)}function EE(t){t.x_=new cce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),fu(t).start(),t.M_.g_()}function xE(t){return Ys(t)&&!fu(t).jo()&&t.D_.size>0}function Ys(t){return 0===ge(t).C_.size}function eO(t){t.x_=void 0}function ule(t){return CE.apply(this,arguments)}function CE(){return CE=E(function*(t){t.D_.forEach((e,n)=>{yE(t,e)})}),CE.apply(this,arguments)}function dle(t,e){return IE.apply(this,arguments)}function IE(){return IE=E(function*(t,e){eO(t),xE(t)?(t.M_.w_(e),EE(t)):t.M_.set("Unknown")}),IE.apply(this,arguments)}function fle(t,e,n){return wE.apply(this,arguments)}function wE(){return wE=E(function*(t,e,n){if(t.M_.set("Online"),e instanceof QN&&2===e.state&&e.cause)try{yield(r=E(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield om(t,r)}else if(e instanceof U1?t.x_.$e(e):e instanceof KN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Pe.min()))try{const r=yield Uk(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(Mn.EMPTY_BYTE_STRING,u.snapshotVersion)),Jk(o,c);const d=new rs(u.target,c,l,u.sequenceNumber);yE(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){J("RemoteStore","Failed to raise snapshot:",r),yield om(t,r)}var r}),wE.apply(this,arguments)}function om(t,e,n){return bE.apply(this,arguments)}function bE(){return bE=E(function*(t,e,n){if(!Bs(e))throw e;t.C_.add(1),yield uu(t),t.M_.set("Offline"),n||(n=()=>Uk(t.localStore)),t.asyncQueue.enqueueRetryable(E(function*(){J("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Nh(t)}))}),bE.apply(this,arguments)}function tO(t,e){return e().catch(n=>om(t,n,e))}function du(t){return AE.apply(this,arguments)}function AE(){return AE=E(function*(t){const e=ge(t),n=Xs(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;hle(e);)try{const i=yield Xce(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,ple(e,i)}catch(i){yield om(e,i)}nO(e)&&rO(e)}),AE.apply(this,arguments)}function hle(t){return Ys(t)&&t.b_.length<10}function ple(t,e){t.b_.push(e);const n=Xs(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function nO(t){return Ys(t)&&!Xs(t).jo()&&t.b_.length>0}function rO(t){Xs(t).start()}function gle(t){return DE.apply(this,arguments)}function DE(){return DE=E(function*(t){Xs(t).E_()}),DE.apply(this,arguments)}function mle(t){return TE.apply(this,arguments)}function TE(){return TE=E(function*(t){const e=Xs(t);for(const n of t.b_)e.P_(n.mutations)}),TE.apply(this,arguments)}function _le(t,e,n){return SE.apply(this,arguments)}function SE(){return SE=E(function*(t,e,n){const r=t.b_.shift(),i=B8.from(r,e,n);yield tO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield du(t)}),SE.apply(this,arguments)}function vle(t,e){return ME.apply(this,arguments)}function ME(){return ME=E(function*(t,e){var n;e&&Xs(t).h_&&(yield(n=E(function*(i,o){if(function jN(t){switch(t){default:return be();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}(a=o.code)&&a!==B.ABORTED){const s=i.b_.shift();Xs(i).Yo(),yield tO(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield du(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),nO(t)&&rO(t)}),ME.apply(this,arguments)}function iO(t,e){return PE.apply(this,arguments)}function PE(){return PE=E(function*(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Ys(n);n.C_.add(3),yield uu(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Nh(n)}),PE.apply(this,arguments)}function NE(){return NE=E(function*(t,e){const n=ge(t);e?(n.C_.delete(2),yield Nh(n)):e||(n.C_.add(2),yield uu(n),n.M_.set("Unknown"))}),NE.apply(this,arguments)}function fu(t){return t.O_||(t.O_=function(n,r,i){const o=ge(n);return o.A_(),new ile(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:ule.bind(null,t),Io:dle.bind(null,t),a_:fle.bind(null,t)}),t.v_.push(function(){var e=E(function*(n){n?(t.O_.Yo(),xE(t)?EE(t):t.M_.set("Unknown")):(yield t.O_.stop(),eO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Xs(t){return t.N_||(t.N_=function(n,r,i){const o=ge(n);return o.A_(),new ole(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:gle.bind(null,t),Io:vle.bind(null,t),T_:mle.bind(null,t),I_:_le.bind(null,t)}),t.v_.push(function(){var e=E(function*(n){n?(t.N_.Yo(),yield du(t)):(yield t.N_.stop(),t.b_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class kE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new kE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hu(t,e){if(pn("AsyncQueue",`${e}: ${t}`),Bs(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}class pu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=gh(),this.sortedSet=new Rt(this.comparator)}static emptySet(e){return new pu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class oO{constructor(){this.B_=new Rt(_e.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):be():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class gu{constructor(e,n,r,i,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new gu(e,n,pu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class yle{constructor(){this.k_=void 0,this.listeners=[]}}class Ele{constructor(){this.queries=new ts(e=>wN(e),hh),this.onlineState="Unknown",this.q_=new Set}}function FE(){return FE=E(function*(t,e){const n=ge(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new yle),i)try{o.k_=yield n.onListen(r)}catch(s){const a=hu(s,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&BE(n)}),FE.apply(this,arguments)}function LE(){return LE=E(function*(t,e){const n=ge(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),LE.apply(this,arguments)}function xle(t,e){const n=ge(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&BE(n)}function Cle(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function BE(t){t.q_.forEach(e=>{e.next()})}class HE{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class cO{constructor(e){this.key=e}}class lO{constructor(e){this.key=e}}class uO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Qe(),this.mutatedKeys=Qe(),this._a=AN(e),this.aa=new pu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new oO,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=ph(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),_=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let w=!1;f&&h?f.data.isEqual(h.data)?p!==_&&(r.track({type:3,doc:h}),w=!0):this.ha(f,h)||(r.track({type:2,doc:h}),w=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),w=!0):f&&!h&&(r.track({type:1,doc:f}),w=!0,(c||l)&&(a=!0)),w&&(h?(s=s.add(h),o=_?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((l,u)=>function(f,h){const p=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new gu(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new oO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Qe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new lO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new cO(r))}),n}da(e){this.ia=e.ls,this.oa=Qe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return gu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class ble{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ale{constructor(e){this.key=e,this.Ra=!1}}class Dle{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ts(a=>wN(a),hh),this.fa=new Map,this.ga=new Set,this.pa=new Rt(_e.comparator),this.ya=new Map,this.wa=new eE,this.Sa={},this.ba=new Map,this.Da=ac.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Tle(t,e){return zE.apply(this,arguments)}function zE(){return zE=E(function*(t,e){const n=function ux(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ple.bind(null,e),e.Va.a_=xle.bind(null,e.eventManager),e.Va.Fa=Cle.bind(null,e.eventManager),e}(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function cu(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new rs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Sr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function UE(t,e,n,r,i){return jE.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&im(n.remoteStore,s)}return i}),zE.apply(this,arguments)}function jE(){return jE=E(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=E(function*(w,R,A,$){let ie=R.view.ca(A);ie.Zi&&(ie=yield J1(w.localStore,R.query,!1).then(({documents:Ze})=>R.view.ca(Ze,ie)));const pe=$&&$.targetChanges.get(R.targetId),Ne=R.view.applyChanges(ie,w.isPrimaryClient,pe);return JE(w,R.targetId,Ne.Ta),Ne.snapshot}),function _(w,R,A,$){return p.apply(this,arguments)})(t,d,f,h);var p};const o=yield J1(t.localStore,e,!0),s=new uO(e,o.ls),a=s.ca(o.documents),c=xh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=s.applyChanges(a,t.isPrimaryClient,c);JE(t,n,l.Ta);const u=new ble(e,n,s);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),jE.apply(this,arguments)}function Sle(t,e){return $E.apply(this,arguments)}function $E(){return $E=E(function*(t,e){const n=ge(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!hh(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield lu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kh(n.remoteStore,r.targetId),mu(n,r.targetId)}).catch(Ls))):(mu(n,r.targetId),yield lu(n.localStore,r.targetId,!0))}),$E.apply(this,arguments)}function GE(){return GE=E(function*(t,e,n){const r=function dx(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nle.bind(null,e),e}(t);try{const i=yield function(s,a){const c=ge(s),l=Zt.now(),u=a.reduce((h,p)=>h.add(p.key),Qe());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=jr(),_=Qe();return c.ss.getEntries(h,u).next(w=>{p=w,p.forEach((R,A)=>{A.isValidDocument()||(_=_.add(R))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(w=>{d=w;const R=[];for(const A of a){const $=ice(A,d.get(A.key).overlayedDocument);null!=$&&R.push(new ns(A.key,$,lN($.value.mapValue),Wt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,R,a)}).next(w=>{f=w;const R=w.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(h,w.batchId,R)})}).then(()=>({batchId:f.batchId,changes:TN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Rt(Ue)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield is(r,i.changes),yield du(r.remoteStore)}catch(i){const o=hu(i,"Failed to persist write");n.reject(o)}}),GE.apply(this,arguments)}function dO(t,e){return qE.apply(this,arguments)}function qE(){return qE=E(function*(t,e){const n=ge(t);try{const r=yield function Yce(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);var _,w,R;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Mn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),w=h,R=u,(0===(_=f).resumeToken.approximateByteSize()||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8||R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,h))});let c=jr(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function jk(t,e,n){let r=Qe(),i=Qe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=jr();return n.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Pe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(Pe.min())){const u=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?Se(s.Ra):i.removedDocuments.size>0&&(Se(s.Ra),s.Ra=!1))}),yield is(n,r,e)}catch(r){yield Ls(r)}}),qE.apply(this,arguments)}function fO(t,e,n){const r=ge(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=ge(s);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&BE(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ple(t,e,n){return WE.apply(this,arguments)}function WE(){return WE=E(function*(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new Rt(_e.comparator);s=s.insert(o,Vt.newNoDocument(o,Pe.min()));const a=Qe().add(o),c=new Eh(Pe.min(),new Map,new Rt(Ue),s,a);yield dO(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),ex(r)}else yield lu(r.localStore,e,!1).then(()=>mu(r,e,n)).catch(Ls)}),WE.apply(this,arguments)}function Rle(t,e){return KE.apply(this,arguments)}function KE(){return KE=E(function*(t,e){const n=ge(t),r=e.batch.batchId;try{const i=yield function Qce(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=P.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(_=>{const w=l.docVersions.get(p);Se(null!==w),_.version.compareTo(w)<0&&(d.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),u.addEntry(_)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);ZE(n,r,null),XE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield is(n,i)}catch(i){yield Ls(i)}}),KE.apply(this,arguments)}function Nle(t,e,n){return QE.apply(this,arguments)}function QE(){return QE=E(function*(t,e,n){const r=ge(t);try{const i=yield function(s,a){const c=ge(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Se(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);ZE(r,e,n),XE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield is(r,i)}catch(i){yield Ls(i)}}),QE.apply(this,arguments)}function XE(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function ZE(t,e,n){const r=ge(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function mu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||hO(t,r)})}function hO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(kh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),ex(t))}function JE(t,e,n){for(const r of n)r instanceof cO?(t.wa.addReference(r.key,e),Ole(t,r)):r instanceof lO?(J("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||hO(t,r.key)):be()}function Ole(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(J("SyncEngine","New document in limbo: "+n),t.ga.add(r),ex(t))}function ex(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new _e(lt.fromString(e)),r=t.Da.next();t.ya.set(r,new Ale(n)),t.pa=t.pa.insert(n,r),im(t.remoteStore,new rs(Sr(Ql(n.path)),r,"TargetPurposeLimboResolution",ri._e))}}function is(t,e,n){return tx.apply(this,arguments)}function tx(){return tx=E(function*(t,e,n){const r=ge(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=oE.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=E(function*(l,u){const d=ge(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>P.forEach(u,h=>P.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>P.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Bs(f))throw f;J("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),w=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,w)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,o))}),tx.apply(this,arguments)}function Fle(t,e){return nx.apply(this,arguments)}function nx(){return nx=E(function*(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=yield zk(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new te(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield is(n,r._s)}var o}),nx.apply(this,arguments)}function Vle(t,e){const n=ge(t),r=n.ya.get(e);if(r&&r.Ra)return Qe().add(r.key);{let i=Qe();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class sm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return E(function*(){n.serializer=Rh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Hk(t,e,n,r){return new Kce(t,e,n,r)}(this.persistence,new Bk,e.initialUser,this.serializer)}createPersistence(e){return new tE(Y1.jr,this.serializer)}createSharedClientState(e){return new Qk}terminate(){var e=this;return E(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _u{initialize(e,n){var r=this;return E(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>fO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Fle.bind(null,r.syncEngine),yield function RE(t,e){return NE.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ele}createDatastore(e){const n=Rh(e.databaseInfo.databaseId),r=new rle(e.databaseInfo);return new sle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>fO(this.syncEngine,n,0),a=Yk.D()?new Yk:new ele,new lle(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,c,l,u){const d=new Dle(i,o,s,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=E(function*(r){const i=ge(r);J("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield uu(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class am{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):pn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Yle{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=HR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=E(function*(a){J("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return E(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(E(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=hu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function cm(t,e){return fx.apply(this,arguments)}function fx(){return fx=E(function*(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=E(function*(o){r.isEqual(o)||(yield zk(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),fx.apply(this,arguments)}function hx(t,e){return px.apply(this,arguments)}function px(){return px=E(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function gx(t){return mx.apply(this,arguments)}(t);J("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>iO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>iO(e.remoteStore,o)),t._onlineComponents=e}),px.apply(this,arguments)}function mx(){return mx=E(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function yO(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ti("Error using user provided cache. Falling back to memory cache: "+n),yield cm(t,new sm)}}else J("FirestoreClient","Using default OfflineComponentProvider"),yield cm(t,new sm);return t._offlineComponents}),mx.apply(this,arguments)}function lm(t){return _x.apply(this,arguments)}function _x(){return _x=E(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),yield hx(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),yield hx(t,new _u))),t._onlineComponents}),_x.apply(this,arguments)}function yu(t){return yx.apply(this,arguments)}function yx(){return yx=E(function*(t){const e=yield lm(t),n=e.eventManager;return n.onListen=Tle.bind(null,e.syncEngine),n.onUnlisten=Sle.bind(null,e.syncEngine),n}),yx.apply(this,arguments)}function bO(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const AO=new Map;function Ex(t,e,n){if(!n)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DO(t){if(!_e.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TO(t){if(_e.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function um(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":be()}function it(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=um(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class MO{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function aue(t,e,n,r){if(!0===e&&!0===r)throw new te(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=bO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MO(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new rae;switch(r.type){case"firstParty":return new aae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=AO.get(n);r&&(J("ComponentProvider","Removing Datastore"),AO.delete(n),r.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jn(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class go extends Jn{constructor(e,n,r){super(e,n,Ql(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new _e(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function lue(t,e,...n){if(t=rn(t),Ex("collection","path",e),t instanceof Oh){const r=lt.fromString(e,...n);return TO(r),new go(t,null,r)}{if(!(t instanceof mn||t instanceof go))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return TO(r),new go(t.firestore,null,r)}}function PO(t,e,...n){if(t=rn(t),1===arguments.length&&(e=HR.newId()),Ex("doc","path",e),t instanceof Oh){const r=lt.fromString(e,...n);return DO(r),new mn(t,null,new _e(r))}{if(!(t instanceof mn||t instanceof go))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return DO(r),new mn(t.firestore,t instanceof go?t.converter:null,new _e(r))}}class uue{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new gE(this,"async_queue_retry"),this.iu=()=>{const n=rm();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=rm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=rm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Sn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return E(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Bs(n))throw n;J("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,pn("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=kE.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&be()}verifyOperationInProgress(){}uu(){var e=this;return E(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function xx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class Nt extends Oh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||NO(this),this._firestoreClient.terminate()}}function fue(t,e){const r="string"==typeof t?t:e||"(default)",i=oo("object"==typeof t?t:Tl(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=B9("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();o&&function cue(t,e,n,r={}){var i;const o=(t=it(t,Oh))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Vn.MOCK_USER;else{a=function ote(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dg(JSON.stringify({alg:"none",type:"JWT"})),Dg(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Vn(l)}t._authCredentials=new iae(new LR(a,c))}}(i,...o)}return i}function _n(t){return t._firestoreClient||NO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function NO(t){var e,n,r;const i=t._freezeSettings(),o=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Vae(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,bO(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new Yle(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class lc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lc(Mn.fromBase64String(e))}catch(n){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lc(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Eu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cx{constructor(e){this._methodName=e}}class Ix{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}const pue=/^__.*__$/;class gue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new eu(e,this.data,n,this.fieldTransforms)}}class FO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class dm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return hm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(VO(this.Iu)&&pue.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class mue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rh(e)}pu(e,n,r,i=!1){return new dm({Iu:e,methodName:n,gu:r,path:qt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xu(t){const e=t._freezeSettings(),n=Rh(t._databaseId);return new mue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wx(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);Ax("Data must be an object, but it was:",s,r);const a=UO(r,s);let c,l;if(o.merge)c=new Ur(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const f=Lh(e,d,n);if(!s.contains(f))throw new te(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);$O(u,f)||u.push(f)}c=new Ur(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new gue(new Zn(a),c,l)}class Vh extends Cx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function uc(t,e){if(jO(t=rn(t)))return Ax("Unsupported field value:",e,t),UO(t,e);if(t instanceof Cx)return function(r,i){if(!VO(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=uc(a,i.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=rn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return RN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Zt.fromDate(r);return{timestampValue:nu(i.serializer,o)}}if(r instanceof Zt){const o=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nu(i.serializer,o)}}if(r instanceof Ix)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lc)return{bytesValue:JN(i.serializer,r._byteString)};if(r instanceof mn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:j8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${um(r)}`)}(t,e)}function UO(t,e){const n={};return eN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const o=uc(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function jO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof Ix||t instanceof lc||t instanceof mn||t instanceof Cx)}function Ax(t,e,n){if(!jO(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=um(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Lh(t,e,n){if((e=rn(e))instanceof Eu)return e._internalPath;if("string"==typeof e)return fm(t,e);throw hm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Eue=new RegExp("[~\\*/\\[\\]]");function fm(t,e,n){if(e.search(Eue)>=0)throw hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eu(...e.split("."))._internalPath}catch{throw hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new te(B.INVALID_ARGUMENT,a+t+c)}function $O(t,e){return t.some(n=>n.isEqual(e))}class Dx{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class xue extends Dx{data(){return super.data()}}function pm(t,e){return"string"==typeof e?fm(t,e):e instanceof Eu?e._internalPath:e._delegate._internalPath}class Tx{}class Sx extends Tx{}function Cue(t,e,...n){let r=[];e instanceof Tx&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof Cu).length,a=o.filter(c=>c instanceof Bh).length;if(s>1||s>0&&a>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Bh extends Sx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bh(e,n,r)}_apply(e){const n=this._parse(e);return QO(e._query,n),new Jn(e.firestore,e.converter,O8(e._query,n))}_parse(e){const n=xu(e.firestore);return function(o,s,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){KO(d,u);const h=[];for(const p of d)h.push(WO(c,o,p));f={arrayValue:{values:h}}}else f=WO(c,o,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||KO(d,u),f=function zO(t,e,n,r=!1){return uc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return rt.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Iue(t,e,n){const r=e,i=pm("where",t);return Bh._create(i,r,n)}class Cu extends Tx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:xt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)QO(s,c),s=O8(s,c)}(e._query,n),new Jn(e.firestore,e.converter,O8(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Mx extends Sx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mx(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dh(o,s)}(e._query,this._field,this._direction);return new Jn(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new es(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function wue(t,e="asc"){const n=e,r=pm("orderBy",t);return Mx._create(r,n)}class gm extends Sx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new gm(e,n,r)}_apply(e){return new Jn(e.firestore,e.converter,V1(e._query,this._limit,this._limitType))}}function bue(t){return function SO(t,e){if(e<=0)throw new te(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),gm._create("limit",t,"F")}function WO(t,e,n){if("string"==typeof(n=rn(n))){if(""===n)throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k8(e)&&-1!==n.indexOf("/"))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!_e.isDocumentKey(r))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Za(t,new _e(r))}if(n instanceof mn)return Za(t,n._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${um(n)}.`)}function KO(t,e){if(!Array.isArray(t)||0===t.length)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QO(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new te(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Aue{convertValue(e,n="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Ix(cn(e.latitude),cn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=P1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ah(e));default:return null}}convertTimestamp(e){const n=zs(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Se(lk(r));const i=new Xa(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||pn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iu extends Dx{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vm extends Iu{data(e={}){return super.data(e)}}class wu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vm(this._firestore,this._userDataWriter,r.key,r,new dc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new vm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new vm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:Tue(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Tue(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class Zs extends Aue{constructor(e){super(),this.firestore=e}convertBytes(e){return new lc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function Sue(t,e,n,...r){t=it(t,mn);const i=it(t.firestore,Nt),o=xu(i);let s;return s="string"==typeof(e=rn(e))||e instanceof Eu?function HO(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[Lh(e,r,n)],c=[i];if(o.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(Lh(e,o[f])),c.push(o[f+1]);const l=[],u=Zn.empty();for(let f=a.length-1;f>=0;--f)if(!$O(l,a[f])){const h=a[f];let p=c[f];p=rn(p);const _=s.Ru(h);if(p instanceof Vh)l.push(h);else{const w=uc(p,_);null!=w&&(l.push(h),u.set(h,w))}}const d=new Ur(l);return new FO(u,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function BO(t,e,n,r){const i=t.pu(1,e,n);Ax("Data must be an object, but it was:",i,r);const o=[],s=Zn.empty();Hs(r,(c,l)=>{const u=fm(e,c,n);l=rn(l);const d=i.Ru(u);if(l instanceof Vh)o.push(u);else{const f=uc(l,d);null!=f&&(o.push(u),s.set(u,f))}});const a=new Ur(o);return new FO(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),Hh(i,[s.toMutation(t._key,Wt.exists(!0))])}function Mue(t){return Hh(it(t.firestore,Nt),[new tu(t._key,Wt.none())])}function Pue(t,e){const n=it(t.firestore,Nt),r=PO(t),i=function Px(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Hh(n,[wx(xu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Wt.exists(!1))]).then(()=>r)}function Hh(t,e){return function(r,i){const o=new Sn;return r.asyncQueue.enqueueAndForget(E(function*(){return function Mle(t,e,n){return GE.apply(this,arguments)}(yield function vx(t){return lm(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(_n(t),e)}!function(e,n=!0){zl=Dl,gi(new Zr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Nt(new oae(r.getProvider("auth-internal")),new cae(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),on(VR,"4.3.2",e),on(VR,"4.3.2","esm2017")}();var xm=function(){return xm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},xm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Gue={includeMetadataChanges:!1};function Ox(t,e){return void 0===e&&(e=Gue),new de(function(n){var r=function Rue(t,...e){var n,r,i;t=rn(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||xx(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(xx(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof mn)l=it(t.firestore,Nt),u=Ql(t._key.path),c={next:d=>{e[s]&&e[s](function Rx(t,e,n){const r=n.docs.get(e._key),i=new Zs(t);return new Iu(t,i,e._key,r,new dc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[s+1],complete:e[s+2]};else{const d=it(t,Jn);l=it(d.firestore,Nt),u=d._query;const f=new Zs(l);c={next:h=>{e[s]&&e[s](new wu(l,f,d,h))},error:e[s+1],complete:e[s+2]},function GO(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,_){const w=new am(_),R=new HE(h,w,p);return f.asyncQueue.enqueueAndForget(E(function*(){return function OE(t,e){return FE.apply(this,arguments)}(yield yu(f),R)})),()=>{w.Na(),f.asyncQueue.enqueueAndForget(E(function*(){return function VE(t,e){return LE.apply(this,arguments)}(yield yu(f),R)}))}}(_n(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Wue(t,e){return void 0===e&&(e={}),function que(t){return Ox(t,{includeMetadataChanges:!0})}(t).pipe(Je(function(n){return eF(n,e)}))}function eF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?xm(xm({},r),((n={})[e.idField]=t.id,n)):r}function Jue(t,e){return void 0===e&&(e={}),function Zue(t){return Ox(t,{includeMetadataChanges:!0}).pipe(Je(function(e){return e.docs}))}(t).pipe(Je(function(n){return n.map(function(r){return eF(r,e)})}))}class mo{constructor(e){return e}}const iF="firestore",Lx=new we("angularfire2.firestore-instances");function rde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new mo(r)}}const ide={provide:class tde{constructor(){return Og(iF)}},deps:[[new An,Lx]]},ode={provide:mo,useFactory:function nde(t,e){const n=kg(iF,t,e);return n&&new mo(n)},deps:[[new An,Lx],La]};let sde=(()=>{var t;class e{constructor(){on("angularfire",Ss.full,"fst")}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)}),mt(e,"\u0275mod",Ht({type:t})),mt(e,"\u0275inj",Ot({providers:[ode,ide]})),e})();function Js(t,...e){return{ngModule:sde,providers:[{provide:Lx,useFactory:rde(t),multi:!0,deps:[dt,Dn,Ef,xf,[new An,yP],[new An,w4],...e]}]}}const bu=sn(Jue,!0),ade=sn(Wue,!0),oF=sn(Pue,!0),_o=sn(lue,!0),cde=sn(Mue,!0),Cm=sn(PO,!0),ea=sn(fue,!0),sF=sn(bue,!0),Im=sn(wue,!0),Au=sn(Cue,!0),aF=sn(Sue,!0),ta=sn(Iue,!0);class cF{constructor(e,n,r){this._user=e,this._value=JSON.stringify(n),this._ttl=r,this._expiry=Date.now()+r}get user(){return this._user}set user(e){this._user=e}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{user:this.user,ttl:this.ttl,expiry:this.expiry,value:this.value}}}var Du,vn=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.ACTIVE_ORDERS="active-orders",t.VERSION="version",t.UPDATE_AVAILABLE="update-available",t}(vn||{});class vo{constructor(){this.cachedUsername=null}cache(e,n,r=0){const i=new cF(this.username(),n,r);localStorage.setItem(e,JSON.stringify(i))}getVersion(){return localStorage.getItem(vn.VERSION)}get(e){const n=localStorage.getItem(e);if(!n)return null;const r=Object.assign(cF,JSON.parse(n));return this.username()!==r.user||r.ttl>0&&Date.now()>r.expiry?(localStorage.removeItem(e),null):JSON.parse(r.value)}remove(e){localStorage.removeItem(e)}username(){if(null==this.cachedUsername){let e=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();0==e.indexOf("[")&&4==e.indexOf("]")&&(e=e.substring(5,e.length)),this.cachedUsername=e.toLowerCase()}return this.cachedUsername}}(Du=vo).\u0275fac=function(e){return new(e||Du)},Du.\u0275prov=De({token:Du,factory:Du.\u0275fac,providedIn:"platform"}),Rn([Do(2,An())],vo.prototype,"cache",null);let lF=(()=>{var t;class e{constructor(){this.firestore=Y(mo),this.localStorageService=Y(vo)}checkFleetOrders(r,i,o){if(null!=this.ordersSubscription)return;let s=_o(this.firestore,"orders");this.ordersSubscription=bu(Au(s,ta("user","==",r),ta("executed","==",!1)),{idField:"id"}).subscribe(a=>{i.next(a.length),a.length>0?this.localStorageService.cache(vn.ACTIVE_ORDERS,a.length):this.localStorageService.remove(vn.ACTIVE_ORDERS),document.querySelector(".local-orders-badge")&&(document.querySelector(".local-orders-badge").style.display="none"),o.detectChanges()})}ngOnDestroy(){this.ordersSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Bx{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class uF{constructor(){this._orbit=0,this._ground=0,this._workers=new Bx,this._soldiers=new Bx,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class Hx{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let lde=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let o=new uF,s=i.querySelectorAll(".resourceLine .left > span"),a=[];s.forEach(l=>{let u=l.textContent.split(/\s+/),d=new Hx;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),o.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];o.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),o.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),o.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),o.name=i.querySelectorAll(".planetName > a")[0].innerHTML,o.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),o.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),o.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(o)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class dF{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new Bx,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var gr=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(gr||{});class ude{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class dde{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var kt=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(kt||{});class fF{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let fde=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let o,r=new dF,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:o=gr.SURFACE;break;case 2:o=gr.RESOURCE;break;case 0:o=gr.FLEET;break;default:o=gr.UNKNOWN}let s=new ude(r,o);if(o!==gr.UNKNOWN){s.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();s.planetScan.owner="This planet is unoccupied."!==c?new fF(c.split("Owner:")[1].trim(),""):new fF("Uninhabited Planet",a.substring(1,a.length-1))}if((o===gr.RESOURCE||o===gr.SURFACE)&&(s.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),s.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),s.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),o===gr.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new Hx;c.name=a.textContent.trim().toLowerCase(),s.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{s.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),o===gr.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new Hx;l.name=c.textContent.trim().toLowerCase(),s.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{s.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{s.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];s.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),s.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),s.planetScan.workers.available=parseInt(a.substring(1,a.length).replace(/,/g,"")),s.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{s.planetScan.structures.push(new dde(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),s.planetScan.structures.forEach(c=>{switch(c.name){case kt.OUTPOST:s.planetScan.resources[0].production+=300,s.planetScan.resources[1].production+=200,s.planetScan.resources[2].production+=100;break;case kt.METAL_MINE:s.planetScan.resources[0].production+=300*c.quantity;break;case kt.MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=200*c.quantity;break;case kt.FARM:s.planetScan.resources[2].production+=300*c.quantity;break;case kt.SOLAR_GENERATOR:s.planetScan.resources[3].production+=100*c.quantity;break;case kt.CORE_METAL_MINE:s.planetScan.resources[0].production+=900*c.quantity;break;case kt.CORE_MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=600*c.quantity;break;case kt.HYDROPONICS_LAB:s.planetScan.resources[2].production+=900*c.quantity;break;case kt.SOLAR_ARRAY:s.planetScan.resources[3].production+=300*c.quantity;break;case kt.STRIP_METAL_MINE:s.planetScan.resources[0].production+=9e3*c.quantity;break;case kt.STRIP_MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=6e3*c.quantity;break;case kt.HYDROPONICS_DOME:s.planetScan.resources[2].production+=9e3*c.quantity;break;case kt.SOLAR_STATION:s.planetScan.resources[3].production+=3e3*c.quantity}})}return s.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),s}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),hde=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let o=new uF;o.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(o)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class pde{get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,note:this.note,dgId:this.dgId,kickEta:this.kickEta}}}let gde=(()=>{var t;class e{constructor(){this.localStorageService=Y(vo)}extract(){let r=this.localStorageService.get(vn.ALLIANCE_MEMBERS)||[];return 0==r.length&&!document.querySelector('[action="/alliances/join/"]')&&(document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(o=>{let s=new pde;if(null!=o.querySelector("div.note")?s.note=o.querySelector("div.note").childNodes[0].textContent.trim():null!=o.querySelector('input[name="note"]')&&(s.note=o.querySelector('input[name="note"]').value.trim()),null!=o.querySelector('[action^="/alliances/note/"]')){let a=o.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);s.dgId=a[a.length-2]}null==o.querySelector('[action="/alliances/kick/"] input')&&null!=o.querySelector(".right>b")&&(s.kickEta=o.querySelector(".right>b").textContent.trim().toLowerCase()),null!=o.querySelector("div.name")&&(s.name=o.querySelector("div.name").childNodes[0].textContent.trim(),r.push(s))})}),this.localStorageService.cache(vn.ALLIANCE_MEMBERS,r,432e5)),r}cleanAfterExtract(){document.querySelector(".dgt-orders-manager-panel.user")&&document.querySelector(".dgt-orders-manager-panel.user").remove(),document.querySelectorAll(".allianceBox").forEach(r=>{r.querySelector(".plainHeader")&&"member list"===r.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(r.querySelector(".plainHeader").remove(),r.querySelector(".playerList").remove())})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Tu;class os{constructor(){this.planetListExtractor=Y(lde),this.planetScanExtractor=Y(fde),this.navigationSystemPlanetsExtractor=Y(hde),this.allianceMembersExtractor=Y(gde),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(e){let n=this.allianceMembersExtractor.extract();return e&&this.allianceMembersExtractor.cleanAfterExtract(),n}cleanAlianceMembers(){this.allianceMembersExtractor.cleanAfterExtract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}(Tu=os).\u0275fac=function(e){return new(e||Tu)},Tu.\u0275prov=De({token:Tu,factory:Tu.\u0275fac,providedIn:"platform"}),Rn([Do(0,An())],os.prototype,"username",null);class wm{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Su,zh=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(zh||{}),zx=V(874);class na{constructor(){this.localStorageService=Y(vo),this._authState=new Qt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(vn.USER))return!1;let n=this.localStorageService.get(vn.USER).session.timeToken,r=this.localStorageService.get(vn.USER).session.refreshToken,i=Date.parse(zx.AES.decrypt(n,r).toString(zx.enc.Utf8)),o=Date.now()-i<=36e5;return o&&e&&this._authState.emit(new wm(o,this.localStorageService.get(vn.USER).session.role)),o}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(vn.USER)&&this.signOut(e,!1),null!=this.authSubscription)return;this.authSubscription=EP(e).subscribe(r=>{null!=r?bu(Au(_o(n,"valid-users"),ta("email","==",r.email),sF(1))).subscribe(i=>{if(i.length>0){let o=Object.assign({email:"",enabled:!1,role:zh.USER},i[0]);o.enabled?(this.localStorageService.cache(vn.USER,{session:{timeToken:zx.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:o.role}}),this._authState.emit(new wm(!0,o.role))):this.signOut(e,!1)}else this.signOut(e,!1)}):(this.localStorageService.remove(vn.USER),this._authState.emit(new wm(!1,null)))})}}signInWithEmailAndPassword(e,n,r,i){Koe(e,n,r).then(()=>{i&&location.reload()}).catch(o=>{window.alert(o.message)})}signInWithGoogle(e,n){Qoe(e,new Gre).then(()=>{n&&location.reload()}).catch(r=>{window.alert(r.message)})}signOut(e,n){this.localStorageService.remove(vn.USER),this._refreshInProgress=n,this._authState.emit(new wm(!0,null)),e.signOut().then(()=>{n&&location.reload()}).catch(r=>{window.alert(r.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function ss(t,e){return Ve((n,r)=>{let i=0;n.subscribe(tt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ux(...t){return function _de(){return L0(1)}()(ir(t,nd(t)))}function hF(...t){const e=nd(t);return Ve((n,r)=>{(e?Ux(t,n,e):Ux(t,n)).subscribe(r)})}(Su=na).\u0275fac=function(e){return new(e||Su)},Su.\u0275prov=De({token:Su,factory:Su.\u0275fac,providedIn:"platform"}),Rn([Do(0,An())],na.prototype,"checkLoginValidity",null);const yde=(t,e)=>e.some(n=>t instanceof n);let pF,gF;const mF=new WeakMap,jx=new WeakMap,_F=new WeakMap,$x=new WeakMap,Gx=new WeakMap;let qx={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return jx.get(t);if("objectStoreNames"===e)return t.objectStoreNames||_F.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ade(t){return"function"==typeof t?function bde(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xde(){return gF||(gF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Wx(this),e),ra(mF.get(this))}:function(...e){return ra(t.apply(Wx(this),e))}:function(e,...n){const r=t.call(Wx(this),e,...n);return _F.set(r,e.sort?e.sort():[e]),ra(r)}}(t):(t instanceof IDBTransaction&&function Ide(t){if(jx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});jx.set(t,e)}(t),yde(t,function Ede(){return pF||(pF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,qx):t)}function ra(t){if(t instanceof IDBRequest)return function Cde(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ra(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&mF.set(n,t)}).catch(()=>{}),Gx.set(e,t),e}(t);if($x.has(t))return $x.get(t);const e=Ade(t);return e!==t&&($x.set(t,e),Gx.set(e,t)),e}const Wx=t=>Gx.get(t),Tde=["get","getKey","getAll","getAllKeys","count"],Sde=["put","add","delete","clear"],Kx=new Map;function vF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Kx.get(e))return Kx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sde.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Tde.includes(n))return;const o=function(){var s=E(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return Kx.set(e,o),o}!function wde(t){qx=t(qx)}(t=>({...t,get:(e,n,r)=>vF(e,n)||t.get(e,n,r),has:(e,n)=>!!vF(e,n)||t.has(e,n)}));const yF="@firebase/installations",Qx="0.6.4",EF=1e4,xF=`w:${Qx}`,CF="FIS_v2",Mde="https://firebaseinstallations.googleapis.com/v1",Pde=36e5,as=new Ds("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function IF(t){return t instanceof Fi&&t.code.includes("request-failed")}function Yx({projectId:t}){return`${Mde}/projects/${t}/installations`}function wF(t){return{token:t.token,requestStatus:2,expiresIn:Ode(t.expiresIn),creationTime:Date.now()}}function Xx(t,e){return Zx.apply(this,arguments)}function Zx(){return Zx=E(function*(t,e){const r=(yield e.json()).error;return as.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),Zx.apply(this,arguments)}function bF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Jx(t){return eC.apply(this,arguments)}function eC(){return eC=E(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),eC.apply(this,arguments)}function Ode(t){return Number(t.replace("s","000"))}function tC(){return tC=E(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Yx(t),i=bF(t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:CF,appId:t.appId,sdkVersion:xF})},c=yield Jx(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:wF(l.authToken)}}throw yield Xx("Create Installation",c)}),tC.apply(this,arguments)}function DF(t){return new Promise(e=>{setTimeout(e,t)})}const Bde=/^[cdef][\w-]{21}$/,nC="";function Hde(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function zde(t){return function Lde(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Bde.test(n)?n:nC}catch{return nC}}function Mu(t){return`${t.appName}!${t.appId}`}const Pu=new Map;function TF(t,e){const n=Mu(t);SF(n,e),function $de(t,e){const n=function MF(){return!fc&&"BroadcastChannel"in self&&(fc=new BroadcastChannel("[Firebase] FID Change"),fc.onmessage=t=>{SF(t.data.key,t.data.fid)}),fc}();n&&n.postMessage({key:t,fid:e}),function PF(){0===Pu.size&&fc&&(fc.close(),fc=null)}()}(n,e)}function SF(t,e){const n=Pu.get(t);if(n)for(const r of n)r(e)}let fc=null;const Gde="firebase-installations-database",qde=1,hc="firebase-installations-store";let rC=null;function iC(){return rC||(rC=function Dde(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ra(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ra(s.result),c.oldVersion,c.newVersion,ra(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Gde,qde,{upgrade:(t,e)=>{0===e&&t.createObjectStore(hc)}})),rC}function bm(t,e){return oC.apply(this,arguments)}function oC(){return oC=E(function*(t,e){const n=Mu(t),i=(yield iC()).transaction(hc,"readwrite"),o=i.objectStore(hc),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&TF(t,e.fid),e}),oC.apply(this,arguments)}function sC(t){return aC.apply(this,arguments)}function aC(){return aC=E(function*(t){const e=Mu(t),r=(yield iC()).transaction(hc,"readwrite");yield r.objectStore(hc).delete(e),yield r.done}),aC.apply(this,arguments)}function Uh(t,e){return cC.apply(this,arguments)}function cC(){return cC=E(function*(t,e){const n=Mu(t),i=(yield iC()).transaction(hc,"readwrite"),o=i.objectStore(hc),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&TF(t,a.fid),a}),cC.apply(this,arguments)}function lC(t){return uC.apply(this,arguments)}function uC(){return uC=E(function*(t){let e;const n=yield Uh(t.appConfig,r=>{const i=function Wde(t){return NF(t||{fid:Hde(),registrationStatus:0})}(r),o=function Kde(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(as.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Qde(t,e){return dC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Yde(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===nC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),uC.apply(this,arguments)}function dC(){return dC=E(function*(t,e){try{const n=yield function Vde(t,e){return tC.apply(this,arguments)}(t,e);return bm(t.appConfig,n)}catch(n){throw IF(n)&&409===n.customData.serverCode?yield sC(t.appConfig):yield bm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),dC.apply(this,arguments)}function Yde(t){return fC.apply(this,arguments)}function fC(){return fC=E(function*(t){let e=yield RF(t.appConfig);for(;1===e.registrationStatus;)yield DF(100),e=yield RF(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield lC(t);return r||n}return e}),fC.apply(this,arguments)}function RF(t){return Uh(t,e=>{if(!e)throw as.create("installation-not-found");return NF(e)})}function NF(t){return function Xde(t){return 1===t.registrationStatus&&t.registrationTime+EF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function hC(){return hC=E(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Jde(t,{fid:e}){return`${Yx(t)}/${e}/authTokens:generate`}(t,n),i=function AF(t,{refreshToken:e}){const n=bF(t);return n.append("Authorization",function Fde(t){return`${CF} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:xF,appId:t.appId}})},c=yield Jx(()=>fetch(r,a));if(c.ok)return wF(yield c.json());throw yield Xx("Generate Auth Token",c)}),hC.apply(this,arguments)}function pC(t){return gC.apply(this,arguments)}function gC(){return gC=E(function*(t,e=!1){let n;const r=yield Uh(t.appConfig,o=>{if(!OF(o))throw as.create("not-registered");const s=o.authToken;if(!e&&function nfe(t){return 2===t.requestStatus&&!function rfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Pde}(t)}(s))return o;if(1===s.requestStatus)return n=function efe(t,e){return mC.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw as.create("app-offline");const a=function ife(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function tfe(t,e){return _C.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),gC.apply(this,arguments)}function mC(){return mC=E(function*(t,e){let n=yield kF(t.appConfig);for(;1===n.authToken.requestStatus;)yield DF(100),n=yield kF(t.appConfig);const r=n.authToken;return 0===r.requestStatus?pC(t,e):r}),mC.apply(this,arguments)}function kF(t){return Uh(t,e=>{if(!OF(e))throw as.create("not-registered");return function ofe(t){return 1===t.requestStatus&&t.requestTime+EF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function _C(){return _C=E(function*(t,e){try{const n=yield function Zde(t,e){return hC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield bm(t.appConfig,r),n}catch(n){if(!IF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield bm(t.appConfig,r)}else yield sC(t.appConfig);throw n}}),_C.apply(this,arguments)}function OF(t){return void 0!==t&&2===t.registrationStatus}function vC(){return vC=E(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield lC(e);return r?r.catch(console.error):pC(e).catch(console.error),n.fid}),vC.apply(this,arguments)}function yC(){return yC=E(function*(t,e=!1){const n=t;return yield function cfe(t){return EC.apply(this,arguments)}(n),(yield pC(n,e)).token}),yC.apply(this,arguments)}function EC(){return EC=E(function*(t){const{registrationPromise:e}=yield lC(t);e&&(yield e)}),EC.apply(this,arguments)}function IC(t){return as.create("missing-app-config-values",{valueName:t})}const FF="installations",hfe=t=>{const e=t.getProvider("app").getImmediate(),n=function dfe(t){if(!t||!t.options)throw IC("App Configuration");if(!t.name)throw IC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw IC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:oo(e,"heartbeat"),_delete:()=>Promise.resolve()}},pfe=t=>{const n=oo(t.getProvider("app").getImmediate(),FF).getImmediate();return{getId:()=>function sfe(t){return vC.apply(this,arguments)}(n),getToken:i=>function afe(t){return yC.apply(this,arguments)}(n,i)}};(function gfe(){gi(new Zr(FF,hfe,"PUBLIC")),gi(new Zr("installations-internal",pfe,"PRIVATE"))})(),on(yF,Qx),on(yF,Qx,"esm2017");const Am="analytics",mfe="firebase_id",_fe="origin",vfe=6e4,yfe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wC="https://www.googletagmanager.com/gtag/js",Hn=new _f("@firebase/analytics"),Mr=new Ds("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xfe(t){if(!t.startsWith(wC)){const e=Mr.create("invalid-gtag-resource",{gtagURL:t});return Hn.warn(e.message),""}return t}function VF(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function bC(){return bC=E(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield VF(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Hn.error(a)}t("config",i,o)}),bC.apply(this,arguments)}function AC(){return AC=E(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield VF(n);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Hn.error(o)}}),AC.apply(this,arguments)}const Mfe=30,LF=new class Rfe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Nfe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function DC(){return DC=E(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Nfe(r)},o=yfe.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Mr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}),DC.apply(this,arguments)}function TC(){return TC=E(function*(t,e=LF,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Mr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Mr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Lfe;return setTimeout(E(function*(){a.abort()}),void 0!==n?n:vfe),BF({appId:r,apiKey:i,measurementId:o},s,a,e)}),TC.apply(this,arguments)}function BF(t,e,n){return SC.apply(this,arguments)}function SC(){return SC=E(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=LF){var o;const{appId:s,measurementId:a}=t;try{yield function Ffe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function kfe(t){return DC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function Vfe(t){if(!(t instanceof Fi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(s),a)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?d4(n,i.intervalMillis,Mfe):d4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,d),Hn.debug(`Calling attemptFetch again in ${u} millis`),BF(t,d,r,i)}}),SC.apply(this,arguments)}class Lfe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let MC,VC;function PC(){return PC=E(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}}),PC.apply(this,arguments)}function NC(){return NC=E(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),NC.apply(this,arguments)}function LC(){return LC=E(function*(){if(!ff())return Hn.warn(Mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield c4()}catch(t){return Hn.warn(Mr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),LC.apply(this,arguments)}function BC(){return BC=E(function*(t,e,n,r,i,o,s){var a;const c=function Ofe(t){return TC.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Hn.error(h)),e.push(c);const l=function Gfe(){return LC.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function Sfe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wC)&&n.src.includes(t))return n;return null})(o)||function Ife(t,e){const n=function Cfe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:xfe}),r=document.createElement("script"),i=`${wC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,u.measurementId),VC&&(i("consent","default",VC),function HF(t){VC=t}(void 0)),i("js",new Date);const f=null!==(a=s?.config)&&void 0!==a?a:{};return f[_fe]="firebase",f.update=!0,null!=d&&(f[mfe]=d),i("config",u.measurementId,f),MC&&(i("set",MC),function zF(t){MC=t}(void 0)),u.measurementId}),BC.apply(this,arguments)}class Wfe{constructor(e){this.app=e}_delete(){return delete yo[this.app.options.appId],Promise.resolve()}}let yo={},UF=[];const jF={};let GF,Eo,Dm="dataLayer",HC=!1;function Qfe(t,e,n){!function Kfe(){const t=[];if(a4()&&t.push("This is a browser extension environment."),U9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mr.create("invalid-analytics-context",{errorInfo:e});Hn.warn(n.message)}}();const r=t.options.appId;if(!r)throw Mr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Mr.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yo[r])throw Mr.create("already-exists",{id:r});if(!HC){!function wfe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Dm);const{wrappedGtag:o,gtagCore:s}=function Tfe(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Dfe(t,e,n,r){function o(){return o=E(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function Afe(t,e,n,r,i){return AC.apply(this,arguments)}(t,e,n,c,l)}else if("config"===s){const[c,l]=a;yield function bfe(t,e,n,r,i,o){return bC.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===s){const[c]=a;t("consent","update",c)}else if("get"===s){const[c,l,u]=a;t("get",c,l,u)}else if("set"===s){const[c]=a;t("set",c)}else t(s,...a)}catch(c){Hn.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(yo,UF,jF,Dm,"gtag");Eo=o,GF=s,HC=!0}return yo[r]=function qfe(t,e,n,r,i,o,s){return BC.apply(this,arguments)}(t,UF,jF,e,GF,Dm,n),new Wfe(t)}function Yfe(t=Tl()){const e=oo(t=rn(t),Am);return e.isInitialized()?e.getImmediate():function Xfe(t,e={}){const n=oo(t,Am);if(n.isInitialized()){const i=n.getImmediate();if(hf(e,n.getOptions()))return i;throw Mr.create("already-initialized")}return n.initialize({options:e})}(t)}function Zfe(){return zC.apply(this,arguments)}function zC(){return(zC=E(function*(){if(a4()||!U9()||!ff())return!1;try{return yield c4()}catch{return!1}})).apply(this,arguments)}function Jfe(t,e,n){t=rn(t),function zfe(t,e,n,r){return NC.apply(this,arguments)}(Eo,yo[t.app.options.appId],e,n).catch(r=>Hn.error(r))}function qF(t,e,n,r){t=rn(t),function Bfe(t,e,n,r,i){return PC.apply(this,arguments)}(Eo,yo[t.app.options.appId],e,n,r).catch(i=>Hn.error(i))}const WF="@firebase/analytics";!function ehe(){gi(new Zr(Am,(e,{options:n})=>Qfe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),gi(new Zr("analytics-internal",function t(e){try{const n=e.getProvider(Am).getImmediate();return{logEvent:(r,i,o)=>qF(n,r,i,o)}}catch(n){throw Mr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),on(WF,"0.10.0"),on(WF,"0.10.0","esm2017")}();const Tm=C(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:nhe}=Array,{getPrototypeOf:rhe,prototype:ihe,keys:ohe}=Object;function QF(t){if(1===t.length){const e=t[0];if(nhe(e))return{args:e,keys:null};if(function she(t){return t&&"object"==typeof t&&rhe(t)===ihe}(e)){const n=ohe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:ahe}=Array;function YF(t){return Je(e=>function che(t,e){return ahe(e)?t(...e):t(e)}(t,e))}function XF(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ZF(...t){const e=nd(t),n=qw(t),{args:r,keys:i}=QF(t);if(0===r.length)return ir([],e);const o=new de(function lhe(t,e,n=ve){return r=>{JF(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)JF(e,()=>{const l=ir(t[c],e);let u=!1;l.subscribe(tt(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>XF(i,s):ve));return n?o.pipe(YF(n)):o}function JF(t,e,n){t?Mo(n,t,e):e()}function eV(t){return new de(e=>{rr(t()).subscribe(e)})}function jh(t,e){const n=S(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function jC(){return Ve((t,e)=>{let n=null;t._refCount++;const r=tt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class tV extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new W;const n=this.getSubject();e.add(this.source.subscribe(tt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=W.EMPTY)}return e}refCount(){return jC()(this)}}function Ru(t){return t<=0?()=>Gi:Ve((e,n)=>{let r=0;e.subscribe(tt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Sm(t){return Ve((e,n)=>{let r=!1;e.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function nV(t=uhe){return Ve((e,n)=>{let r=!1;e.subscribe(tt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function uhe(){return new Tm}function pc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ss((i,o)=>t(i,o,r)):ve,Ru(1),n?Sm(e):nV(()=>new Tm))}function Mm(t,e){return S(e)?Un(t,e,1):Un(t,1)}function gc(t){return Ve((e,n)=>{let o,r=null,i=!1;r=e.subscribe(tt(n,void 0,void 0,s=>{o=rr(t(s,gc(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function $C(t){return t<=0?()=>Gi:Ve((e,n)=>{let r=[];e.subscribe(tt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function GC(t){return Ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Ye="primary",$h=Symbol("RouteTitle");class mhe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Nu(t){return new mhe(t)}function _he(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xo(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!rV(t[i],e[i]))return!1;return!0}function rV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function iV(t){return t.length>0?t[t.length-1]:null}function ia(t){return function the(t){return!!t&&(t instanceof de||S(t.lift)&&S(t.subscribe))}(t)?t:$d(t)?ir(Promise.resolve(t)):ze(t)}const yhe={exact:function aV(t,e,n){if(!mc(t.segments,e.segments)||!Pm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!aV(t.children[r],e.children[r],n))return!1;return!0},subset:cV},oV={exact:function Ehe(t,e){return xo(t,e)},subset:function xhe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rV(t[n],e[n]))},ignored:()=>!0};function sV(t,e,n){return yhe[n.paths](t.root,e.root,n.matrixParams)&&oV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function cV(t,e,n){return lV(t,e,e.segments,n)}function lV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!mc(i,n)||e.hasChildren()||!Pm(i,n,r))}if(t.segments.length===n.length){if(!mc(t.segments,n)||!Pm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!cV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(mc(t.segments,i)&&Pm(t.segments,i,r)&&t.children[Ye])&&lV(t.children[Ye],e,o,r)}}function Pm(t,e,n){return e.every((r,i)=>oV[n](t[i].parameters,r.parameters))}class ku{constructor(e=new Ct([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nu(this.queryParams)),this._queryParamMap}toString(){return whe.serialize(this)}}class Ct{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rm(this)}}class Gh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Nu(this.parameters)),this._parameterMap}toString(){return fV(this)}}function mc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let qh=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:function(){return new qC},providedIn:"root"}),e})();class qC{parse(e){const n=new Ohe(e);return new ku(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Wh(e.root,!0)}`,r=function Dhe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Nm(n)}=${Nm(i)}`).join("&"):`${Nm(n)}=${Nm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function bhe(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const whe=new qC;function Rm(t){return t.segments.map(e=>fV(e)).join("/")}function Wh(t,e){if(!t.hasChildren())return Rm(t);if(e){const n=t.children[Ye]?Wh(t.children[Ye],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Ye&&r.push(`${i}:${Wh(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Ihe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ye&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ye&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Ye?[Wh(t.children[Ye],!1)]:[`${i}:${Wh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ye]?`${Rm(t)}/${n[0]}`:`${Rm(t)}/(${n.join("//")})`}}function uV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nm(t){return uV(t).replace(/%3B/gi,";")}function WC(t){return uV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function km(t){return decodeURIComponent(t)}function dV(t){return km(t.replace(/\+/g,"%20"))}function fV(t){return`${WC(t.path)}${function Ahe(t){return Object.keys(t).map(e=>`;${WC(e)}=${WC(t[e])}`).join("")}(t.parameters)}`}const The=/^[^\/()?;#]+/;function KC(t){const e=t.match(The);return e?e[0]:""}const She=/^[^\/()?;=#]+/,Phe=/^[^=?&#]+/,Nhe=/^[^&#]+/;class Ohe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ye]=new Ct(e,n)),r}parseSegment(){const e=KC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new Gh(km(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Mhe(t){const e=t.match(She);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=KC(this.remaining);i&&(r=i,this.capture(r))}e[km(n)]=km(r)}parseQueryParam(e){const n=function Rhe(t){const e=t.match(Phe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function khe(t){const e=t.match(Nhe);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=dV(n),o=dV(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=KC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ee(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ye);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Ye]:new Ct([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}}function hV(t){return t.segments.length>0?new Ct([],{[Ye]:t}):t}function pV(t){const e={};for(const r of Object.keys(t.children)){const o=pV(t.children[r]);if(r===Ye&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Fhe(t){if(1===t.numberOfChildren&&t.children[Ye]){const e=t.children[Ye];return new Ct(t.segments.concat(e.segments),e.children)}return t}(new Ct(t.segments,e))}function _c(t){return t instanceof ku}function gV(t){let e;const i=hV(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new Ct(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function mV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return QC(i,i,i,n,r);const o=function Lhe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new vV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new vV(n,e,r)}(e);if(o.toRoot())return QC(i,i,new Ct([],{}),n,r);const s=function Bhe(t,e,n){if(t.isAbsolute)return new Fm(e,!0,0);if(!n)return new Fm(e,!1,NaN);if(null===n.parent)return new Fm(n,!0,0);const r=Om(t.commands[0])?0:1;return function Hhe(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new Fm(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Qh(s.segmentGroup,s.index,o.commands):yV(s.segmentGroup,s.index,o.commands);return QC(i,s.segmentGroup,a,n,r)}function Om(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Kh(t){return"object"==typeof t&&null!=t&&t.outlets}function QC(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=t===e?n:_V(t,e,n);const a=hV(pV(s));return new ku(a,o,i)}function _V(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:_V(o,e,n)}),new Ct(t.segments,r)}class vV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Om(r[0]))throw new ee(4003,!1);const i=r.find(Kh);if(i&&i!==iV(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function yV(t,e,n){if(t||(t=new Ct([],{})),0===t.segments.length&&t.hasChildren())return Qh(t,e,n);const r=function Uhe(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Kh(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!xV(c,l,s))return o;r+=2}else{if(!xV(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new Ct(t.segments.slice(0,r.pathIndex),{});return o.children[Ye]=new Ct(t.segments.slice(r.pathIndex),t.children),Qh(o,0,i)}return r.match&&0===i.length?new Ct(t.segments,{}):r.match&&!t.hasChildren()?YC(t,e,n):r.match?Qh(t,0,i):YC(t,e,n)}function Qh(t,e,n){if(0===n.length)return new Ct(t.segments,{});{const r=function zhe(t){return Kh(t[0])?t[0].outlets:{[Ye]:t}}(n),i={};if(Object.keys(r).some(o=>o!==Ye)&&t.children[Ye]&&1===t.numberOfChildren&&0===t.children[Ye].segments.length){const o=Qh(t.children[Ye],e,n);return new Ct(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=yV(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Ct(t.segments,i)}}function YC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Kh(o)){const c=jhe(o.outlets);return new Ct(r,c)}if(0===i&&Om(n[0])){r.push(new Gh(t.segments[e].path,EV(n[0]))),i++;continue}const s=Kh(o)?o.outlets[Ye]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Om(a)?(r.push(new Gh(s,EV(a))),i+=2):(r.push(new Gh(s,{})),i++)}return new Ct(r,{})}function jhe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=YC(new Ct([],{}),0,r))}),e}function EV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function xV(t,e,n){return t==n.path&&xo(e,n.parameters)}const Yh="imperative";class Co{constructor(e,n){this.id=e,this.url=n}}class XC extends Co{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ou extends Co{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xh extends Co{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zh extends Co{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Vm extends Co{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class CV extends Co{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $he extends Co{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ghe extends Co{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qhe extends Co{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Whe extends Co{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Khe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qhe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yhe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xhe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zhe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IV{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZC{}class JC{constructor(e){this.url=e}}class Jhe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jh,this.attachRef=null}}let Jh=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Jhe,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class wV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=eI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=eI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=tI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tI(e,this._root).map(n=>n.value)}}function eI(t,e){if(t===e.value)return e;for(const n of e.children){const r=eI(t,n);if(r)return r}return null}function tI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=tI(t,n);if(r.length)return r.unshift(e),r}return[]}class cs{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Fu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class bV extends wV{constructor(e,n){super(e),this.snapshot=n,nI(this,e)}toString(){return this.snapshot.toString()}}function AV(t,e){const n=function e0e(t,e){const s=new Lm([],{},{},"",{},Ye,e,null,{});return new TV("",new cs(s,[]))}(0,e),r=new ai([new Gh("",{})]),i=new ai({}),o=new ai({}),s=new ai({}),a=new ai(""),c=new Vu(r,i,s,a,o,Ye,e,n.root);return c.snapshot=n.root,new bV(new cs(c,[]),n)}class Vu{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Je(l=>l[$h]))??ze(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Je(e=>Nu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Je(e=>Nu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function t0e(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Lm{get title(){return this.data?.[$h]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class TV extends wV{constructor(e,n){super(n),this.url=e,nI(this,n)}toString(){return SV(this._root)}}function nI(t,e){e.value._routerState=t,e.children.forEach(n=>nI(t,n))}function SV(t){const e=t.children.length>0?` { ${t.children.map(SV).join(", ")} } `:"";return`${t.value}${e}`}function rI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xo(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xo(e.params,n.params)||t.paramsSubject.next(n.params),function vhe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),xo(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function iI(t,e){const n=xo(t.params,e.params)&&function Che(t,e){return mc(t,e)&&t.every((n,r)=>xo(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||iI(t.parent,e.parent))}let MV=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new Qt,this.deactivateEvents=new Qt,this.attachEvents=new Qt,this.detachEvents=new Qt,this.parentContexts=Y(Jh),this.location=Y(Ri),this.changeDetector=Y(io),this.environmentInjector=Y(Ti),this.inputBinder=Y(Bm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=r;const o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new n0e(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xr]}),e})();class n0e{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Vu?this.route:e===Jh?this.childContexts:this.parent.get(e,n)}}const Bm=new we("");function e0(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function i0e(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return e0(t,r,i);return e0(t,r)})}(t,e,n);return new cs(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>e0(t,a)),s}}const r=function o0e(t){return new Vu(new ai(t.url),new ai(t.params),new ai(t.queryParams),new ai(t.fragment),new ai(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>e0(t,o));return new cs(r,i)}}const oI="ngNavigationCancelingError";function RV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=_c(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NV(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function NV(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[oI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function kV(t){return t&&t[oI]}let sI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["ng-component"]],standalone:!0,features:[vS],decls:1,vars:0,template:function(r,i){1&r&&ht(0,"router-outlet")},dependencies:[MV],encapsulation:2}),e})();function aI(t){const e=t.children&&t.children.map(aI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ye&&(n.component=sI),n}function Hi(t){return t.outlet||Ye}function t0(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class h0e{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Fu(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Fu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Fu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Fu(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new IV(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Xhe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(rI(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rI(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=t0(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class OV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hm{constructor(e,n){this.component=e,this.route=n}}function p0e(t,e,n){const r=t._root;return n0(r,e?e._root:null,n,[r.value])}function Lu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function LU(t){return null!==j0(t)}(t)?e.get(t):t:r}function n0(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Fu(e);return t.children.forEach(s=>{(function m0e(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function _0e(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!mc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mc(t.url,e.url)||!xo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iI(t,e)||!xo(t.queryParams,e.queryParams);default:return!iI(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new OV(r)):(o.data=s.data,o._resolvedData=s._resolvedData),n0(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hm(a.outlet.component,s))}else s&&r0(e,a,i),i.canActivateChecks.push(new OV(r)),n0(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>r0(a,n.getContext(s),i)),i}function r0(t,e,n){const r=Fu(t),i=t.value;Object.entries(r).forEach(([o,s])=>{r0(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Hm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function o0(t){return"function"==typeof t}function FV(t){return t instanceof Tm||"EmptyError"===t?.name}const zm=Symbol("INITIAL_VALUE");function Bu(){return xi(t=>ZF(t.map(e=>e.pipe(Ru(1),hF(zm)))).pipe(Je(e=>{for(const n of e)if(!0!==n){if(n===zm)return zm;if(!1===n||n instanceof ku)return n}return!0}),ss(e=>e!==zm),Ru(1)))}function VV(t){return function se(...t){return Fe(t)}(Kn(e=>{if(_c(e))throw RV(0,e)}),Je(e=>!0===e))}class Um{constructor(e){this.segmentGroup=e||null}}class LV{constructor(e){this.urlTree=e}}function Hu(t){return jh(new Um(t))}function BV(t){return jh(new LV(t))}class V0e{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new ee(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ze(r);if(i.numberOfChildren>1||!i.children[Ye])return jh(new ee(4e3,!1));i=i.children[Ye]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new ku(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ct(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const cI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function L0e(t,e,n,r,i){const o=lI(t,e,n);return o.matched?(r=function a0e(t,e){return t.providers&&!t._injector&&(t._injector=_S(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function k0e(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ze(i.map(s=>{const a=Lu(s,t);return ia(function I0e(t){return t&&o0(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Bu(),VV()):ze(!0)}(r,e,n).pipe(Je(s=>!0===s?o:{...cI}))):ze(o)}function lI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...cI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||_he)(n,t,e);if(!i)return{...cI};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HV(t,e,n,r){return n.length>0&&function z0e(t,e,n){return n.some(r=>jm(t,e,r)&&Hi(r)!==Ye)}(t,n,r)?{segmentGroup:new Ct(e,H0e(r,new Ct(n,t.children))),slicedSegments:[]}:0===n.length&&function U0e(t,e,n){return n.some(r=>jm(t,e,r))}(t,n,r)?{segmentGroup:new Ct(t.segments,B0e(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ct(t.segments,t.children),slicedSegments:n}}function B0e(t,e,n,r,i){const o={};for(const s of r)if(jm(t,n,s)&&!i[Hi(s)]){const a=new Ct([],{});o[Hi(s)]=a}return{...i,...o}}function H0e(t,e){const n={};n[Ye]=e;for(const r of t)if(""===r.path&&Hi(r)!==Ye){const i=new Ct([],{});n[Hi(r)]=i}return n}function jm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class q0e{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new V0e(this.urlSerializer,this.urlTree)}noMatchError(e){return new ee(4002,!1)}recognize(){const e=HV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ye).pipe(gc(n=>{if(n instanceof LV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Um?this.noMatchError(n):n}),Je(n=>{const r=new Lm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),i=new cs(r,n),o=new TV("",i),s=function Vhe(t,e,n=null,r=null){return mV(gV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ye).pipe(gc(r=>{throw r instanceof Um?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=DV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ir(i).pipe(Mm(o=>{const s=r.children[o],a=function d0e(t,e){const n=t.filter(r=>Hi(r)===e);return n.push(...t.filter(r=>Hi(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function fhe(t,e){return Ve(function dhe(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(tt(s,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Sm(null),function hhe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ss((i,o)=>t(i,o,r)):ve,$C(1),n?Sm(e):nV(()=>new Tm))}(),Un(o=>{if(null===o)return Hu(r);const s=zV(o);return function W0e(t){t.sort((e,n)=>e.value.outlet===Ye?-1:n.value.outlet===Ye?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ze(s)}))}processSegment(e,n,r,i,o,s){return ir(n).pipe(Mm(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(gc(c=>{if(c instanceof Um)return ze(null);throw c}))),pc(a=>!!a),gc(a=>{if(FV(a))return function $0e(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ze([]):Hu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function j0e(t,e,n,r){return!!(Hi(t)===r||r!==Ye&&jm(e,n,t))&&("**"===t.path||lI(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Hu(i):Hu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?BV(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Un(s=>{const a=new Ct(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=lI(n,i,o);if(!a)return Hu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?BV(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Un(f=>this.processSegment(e,r,n,f.concat(l),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?iV(i).parameters:{};a=ze({snapshot:new Lm(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UV(r),Hi(r),r.component??r._loadedComponent??null,r,jV(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=L0e(n,r,i,e).pipe(Je(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new Lm(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,UV(r),Hi(r),r.component??r._loadedComponent??null,r,jV(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(xi(c=>null===c?Hu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(xi(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:_}=HV(n,f,h,l);if(0===_.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Je(R=>null===R?null:[new cs(d,R)]));if(0===l.length&&0===_.length)return ze([new cs(d,[])]);const w=Hi(r)===o;return this.processSegment(u,l,p,_,w?Ye:o,!0).pipe(Je(R=>[new cs(d,R)]))}))))}getChildConfig(e,n,r){return n.children?ze({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ze({routes:n._loadedRoutes,injector:n._loadedInjector}):function N0e(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ze(!0):ze(i.map(s=>{const a=Lu(s,t);return ia(function y0e(t){return t&&o0(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Bu(),VV())}(e,n,r).pipe(Un(i=>i?this.configLoader.loadChildren(e,n).pipe(Kn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function F0e(t){return jh(NV(!1,3))}())):ze({routes:[],injector:e})}}function K0e(t){const e=t.value.routeConfig;return e&&""===e.path}function zV(t){const e=[],n=new Set;for(const r of t){if(!K0e(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=zV(r.children);e.push(new cs(r.value,i))}return e.filter(r=>!n.has(r))}function UV(t){return t.data||{}}function jV(t){return t.resolve||{}}function $V(t){return"string"==typeof t.title||null===t.title}function uI(t){return xi(e=>{const n=t(e);return n?ir(n).pipe(Je(()=>e)):ze(e)})}const $m=new we("ROUTES");let GV=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Y(IX)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ze(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ia(r.loadComponent()).pipe(Je(qV),Kn(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),GC(()=>{this.componentLoaders.delete(r)})),o=new tV(i,()=>new Z).pipe(jC());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ze({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function tpe(t,e,n,r){return ia(t.loadChildren()).pipe(Je(qV),Un(i=>i instanceof gS||Array.isArray(i)?ze(i):ir(e.compileModuleAsync(i))),Je(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get($m,[],{optional:!0,self:!0}).flat()),{routes:s.map(aI),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(GC(()=>{this.childrenLoaders.delete(i)})),a=new tV(s,()=>new Z).pipe(jC());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function qV(t){return function npe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Gm=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Z,this.transitionAbortSubject=new Z,this.configLoader=Y(GV),this.environmentInjector=Y(Ti),this.urlSerializer=Y(qh),this.rootContexts=Y(Jh),this.inputBindingEnabled=null!==Y(Bm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ze(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Qhe(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Khe(o))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,o){return this.transitions=new ai({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yh,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ss(s=>0!==s.id),Je(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),xi(s=>{this.currentTransition=s;let a=!1,c=!1;return ze(s).pipe(Kn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xi(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new Zh(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Gi}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ze(l).pipe(xi(h=>{const p=this.transitions?.getValue();return this.events.next(new XC(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Gi:Promise.resolve(h)}),function Q0e(t,e,n,r,i,o){return Un(s=>function G0e(t,e,n,r,i,o,s="emptyOnly"){return new q0e(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Je(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Kn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new CV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:_,restoredState:w,extras:R}=l,A=new XC(h,this.urlSerializer.serialize(p),_,w);this.events.next(A);const $=AV(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:$,urlAfterRedirects:p,extras:{...R,skipLocationChange:!1,replaceUrl:!1}},ze(s)}{const h="";return this.events.next(new Zh(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Gi}}),Kn(l=>{const u=new $he(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Je(l=>(this.currentTransition=s={...l,guards:p0e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function b0e(t,e){return Un(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ze({...n,guardsResult:!0}):function A0e(t,e,n,r){return ir(t).pipe(Un(i=>function R0e(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ze(o.map(a=>{const c=t0(e)??i,l=Lu(a,c);return ia(function C0e(t){return t&&o0(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(pc())})).pipe(Bu()):ze(!0)}(i.component,i.route,n,e,r)),pc(i=>!0!==i,!0))}(s,r,i,t).pipe(Un(a=>a&&function v0e(t){return"boolean"==typeof t}(a)?function D0e(t,e,n,r){return ir(e).pipe(Mm(i=>Ux(function S0e(t,e){return null!==t&&e&&e(new Yhe(t)),ze(!0)}(i.route.parent,r),function T0e(t,e){return null!==t&&e&&e(new Zhe(t)),ze(!0)}(i.route,r),function P0e(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function g0e(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>eV(()=>ze(s.guards.map(c=>{const l=t0(s.node)??n,u=Lu(c,l);return ia(function x0e(t){return t&&o0(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(pc())})).pipe(Bu())));return ze(o).pipe(Bu())}(t,i.path,n),function M0e(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ze(!0);const i=r.map(o=>eV(()=>{const s=t0(e)??n,a=Lu(o,s);return ia(function E0e(t){return t&&o0(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(pc())}));return ze(i).pipe(Bu())}(t,i.route,n))),pc(i=>!0!==i,!0))}(r,o,t,e):ze(a)),Je(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Kn(l=>{if(s.guardsResult=l.guardsResult,_c(l.guardsResult))throw RV(0,l.guardsResult);const u=new Ghe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),ss(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),uI(l=>{if(l.guards.canActivateChecks.length)return ze(l).pipe(Kn(u=>{const d=new qhe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),xi(u=>{let d=!1;return ze(u).pipe(function Y0e(t,e){return Un(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ze(n);let o=0;return ir(i).pipe(Mm(s=>function X0e(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!$V(i)&&(o[$h]=i.title),function Z0e(t,e,n,r){const i=function J0e(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ze({});const o={};return ir(i).pipe(Un(s=>function epe(t,e,n,r){const i=t0(e)??r,o=Lu(t,i);return ia(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(pc(),Kn(a=>{o[s]=a}))),$C(1),function phe(t){return Je(()=>t)}(o),gc(s=>FV(s)?Gi:jh(s)))}(o,t,e,r).pipe(Je(s=>(t._resolvedData=s,t.data=DV(t,n).resolve,i&&$V(i)&&(t.data[$h]=i.title),null)))}(s.route,r,t,e)),Kn(()=>o++),$C(1),Un(s=>o===i.length?ze(n):Gi))})}(r.paramsInheritanceStrategy,this.environmentInjector),Kn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Kn(u=>{const d=new Whe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),uI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Kn(h=>{d.component=h}),Je(()=>{})));for(const h of d.children)f.push(...u(h));return f};return ZF(u(l.targetSnapshot.root)).pipe(Sm(),Ru(1))}),uI(()=>this.afterPreactivation()),Je(l=>{const u=function r0e(t,e,n){const r=e0(t,e._root,n?n._root:void 0);return new bV(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},s}),Kn(()=>{this.events.next(new ZC)}),((t,e,n,r)=>Je(i=>(new h0e(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ru(1),Kn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ou(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function ghe(t){return Ve((e,n)=>{rr(t).subscribe(tt(n,()=>n.complete(),D)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Kn(l=>{throw l}))),GC(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),gc(l=>{if(c=!0,kV(l))this.events.next(new Xh(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function s0e(t){return kV(t)&&_c(t.url)}(l)?this.events.next(new JC(l.url)):s.resolve(!1);else{this.events.next(new Vm(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){s.reject(u)}}return Gi}))}))}cancelNavigationTransition(r,i,o){const s=new Xh(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function WV(t){return t!==Yh}let KV=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Ye);return i}getResolvedTitleForRoute(r){return r.data[$h]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:function(){return Y(rpe)},providedIn:"root"}),e})(),rpe=(()=>{var t;class e extends KV{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Re(r4))},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ipe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:function(){return Y(spe)},providedIn:"root"}),e})();class ope{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let spe=(()=>{var t;class e extends ope{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Wn(t)))(i||t)}}(),t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const dI=new we("",{providedIn:"root",factory:()=>({})});let ape=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:function(){return Y(cpe)},providedIn:"root"}),e})(),cpe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var s0=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(s0||{});function lpe(t){throw t}function upe(t,e,n){return e.parse("/")}const dpe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zi=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Y(d7),this.isNgZoneEnabled=!1,this._events=new Z,this.options=Y(dI,{optional:!0})||{},this.pendingTasks=Y(f7),this.errorHandler=this.options.errorHandler||lpe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||upe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Y(ape),this.routeReuseStrategy=Y(ipe),this.titleStrategy=Y(KV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Y($m,{optional:!0})?.flat()??[],this.navigationTransitions=Y(Gm),this.urlSerializer=Y(qh),this.location=Y(Py),this.componentInputBindingEnabled=!!Y(Bm,{optional:!0}),this.eventsSubscription=new W,this.isNgZoneEnabled=Y(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ku,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=AV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(YV(i)&&this._events.next(i));if(i instanceof XC)WV(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof Zh)this.rawUrlTree=o.rawUrl;else if(i instanceof CV){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(s,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof ZC)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof Xh)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof JC){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||WV(o.source)};this.scheduleNavigation(s,Yh,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Vm&&this.restoreHistory(o,!0),i instanceof Ou&&(this.navigated=!0),YV(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yh,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(aI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{f=gV(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return mV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=_c(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Yh,null,i)}navigate(r,i={skipLocationChange:!1}){return function hpe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new ee(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}isActive(r,i){let o;if(o=!0===i?{...dpe}:!1===i?{...fpe}:i,_c(r))return sV(this.currentUrlTree,r,o);const s=this.parseUrl(r);return sV(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{const s=r[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function QV(t,e){t.events.pipe(ss(n=>n instanceof Ou||n instanceof Xh||n instanceof Vm||n instanceof Zh),Je(n=>n instanceof Ou||n instanceof Zh?s0.COMPLETE:n instanceof Xh&&(0===n.code||1===n.code)?s0.REDIRECTING:s0.FAILED),ss(n=>n!==s0.REDIRECTING),Ru(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function YV(t){return!(t instanceof ZC||t instanceof JC)}class zu{constructor(e){return e}}const rL="analytics",gI="__angularfire_symbol__analyticsIsSupportedValue",iL="__angularfire_symbol__analyticsIsSupported";globalThis[iL]||=Zfe().then(t=>globalThis[gI]=t).catch(()=>globalThis[gI]=!1);const qm={async:()=>globalThis[iL],sync:()=>{const t=globalThis[gI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},oL=qm.async,sL=sn(Yfe,!0),a0=sn(qF,!0),Cpe=sn(Jfe,!0);let mI=(()=>{var t;class e{constructor(r,i,o){let s;mt(this,"initialized",void 0),mt(this,"disposables",[]),on("angularfire",Ss.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{s=a})),oL().then(()=>{const a=o.get(zu);a?this.disposables=[EP(r).subscribe(c=>{Cpe(a,c?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)(Re(kf),Re(dt),Re(Dn))}),mt(e,"\u0275prov",De({token:t,factory:t.\u0275fac})),e})();const aL="firebase_screen_id",_I="outlet",c0="screen_class",cL="screen_name";let kpe=Math.floor(Math.random()*(2**32-1))-2**31;const vI={},Ope=t=>{const e=[t[c0],t[_I]].join("#");if(vI.hasOwnProperty(e))return vI[e];{const n=kpe++;return vI[e]=n,n}},Fpe=(t,e,n)=>t.events.pipe(ss(i=>i instanceof IV)).pipe(xi(i=>{const s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return ze(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[cL]:l,page_path:`/${s}`,firebase_event_origin:"auto",firebase_screen:l,[_I]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===sI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return ze({...u,[c0]:d});if(d){const f=n.resolveComponentFactory(d);return ze({...u,[c0]:f.selector})}return ze(null)}),ss(i=>!!i),Je(i=>({firebase_screen_class:i[c0],[aL]:Ope(i),...i})),function mde(t,e,n,r){return Ve((i,o)=>{let s;e&&"function"!=typeof e?({duration:n,element:s,connector:r}=e):s=e;const a=new Map,c=p=>{a.forEach(p),p(o)},l=p=>c(_=>_.error(p));let u=0,d=!1;const f=new Xe(o,p=>{try{const _=t(p);let w=a.get(_);if(!w){a.set(_,w=r?r():new Z);const R=function h(p,_){const w=new de(R=>{u++;const A=_.subscribe(R);return()=>{A.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return w.key=p,w}(_,w);if(o.next(R),n){const A=tt(w,()=>{w.complete(),A?.unsubscribe()},void 0,void 0,()=>a.delete(_));f.add(rr(n(R)).subscribe(A))}}w.next(s?s(p):p)}catch(_){l(_)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[_I]),Un(i=>i.pipe(Qw((o,s)=>JSON.stringify(o)===JSON.stringify(s)),hF(void 0),function vde(){return Ve((t,e)=>{let n,r=!1;t.subscribe(tt(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}(),Je(([o,s])=>o?{firebase_previous_class:o[c0],firebase_previous_screen:o[cL],firebase_previous_id:o[aL],...s}:s))));let lL=(()=>{var t;class e{constructor(r,i,o,s,a,c){mt(this,"disposable",void 0),on("angularfire",Ss.full,"screen-tracking"),oL().then(()=>{const l=c.get(zu);!r||!l||s.runOutsideAngular(()=>{this.disposable=Fpe(r,i,o).pipe(xi(function(){var u=E(function*(d){return a&&(yield a.initialized),a0(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)(Re(zi,8),Re(r4,8),Re(Rd),Re(dt),Re(mI,8),Re(Dn))}),mt(e,"\u0275prov",De({token:t,factory:t.\u0275fac})),e})();const yI=new we("angularfire2.analytics-instances");function Lpe(t){return(e,n)=>{if(!qm.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new zu(r)}}const Bpe={provide:class xpe{constructor(){return Og(rL)}},deps:[[new An,yI]]},Hpe={provide:zu,useFactory:function Vpe(t,e){if(!qm.sync())return null;const n=kg(rL,t,e);return n&&new zu(n)},deps:[[new An,yI],La]};let zpe=(()=>{var t;class e{constructor(r,i){on("angularfire",Ss.full,"analytics")}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)(Re(lL,8),Re(mI,8))}),mt(e,"\u0275mod",Ht({type:t})),mt(e,"\u0275inj",Ot({providers:[Hpe,Bpe,{provide:u7,useValue:qm.async,multi:!0}]})),e})();function uL(t,...e){return{ngModule:zpe,providers:[{provide:yI,useFactory:Lpe(t),multi:!0,deps:[dt,Dn,Ef,xf,...e]}]}}let Upe=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&qd("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function jpe(t,e){1&t&&(re(0,"span",26),Te(1,"1"),ue())}function $pe(t,e){if(1&t&&(re(0,"span",27),Te(1),ue()),2&t){const n=jt();me(1),St(n.localOrdersBadge)}}function Gpe(t,e){if(1&t&&(re(0,"span",26),Te(1),ue()),2&t){const n=e.ngIf;me(1),St(n)}}let qpe=(()=>{var t;class e{constructor(){this.badgeService=Y(lF),this.dgAPI=Y(os),this.changeDetection=Y(io),this.authService=Y(na),this.localStorageService=Y(vo),this.analytics=Y(zu),this.localOrdersBadge=0,this.updateAvailable=!1;let r=window.location.pathname.split("/");a0(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),a0(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailable=this.localStorageService.get(vn.UPDATE_AVAILABLE),this.localOrdersBadge=this.localStorageService.get(vn.ACTIVE_ORDERS),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.fleetOrdersNotification=new de(o=>{this.badgeService.checkFleetOrders(this.dgAPI.username(),o,this.changeDetection)}))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-navbar"]],decls:41,vars:12,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["style","z-index: 0","class","local-orders-badge notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],[1,"local-orders-badge","notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"ul",1)(2,"li",2),tn(3,jpe,2,0,"span",3),re(4,"a",4),ht(5,"img",5),re(6,"span",6),Te(7,"home"),ue()()(),re(8,"li",7)(9,"a",8),ht(10,"img",9),re(11,"span",6),Te(12,"planets"),ue()()(),re(13,"li",10)(14,"a",11),ht(15,"img",12),re(16,"span",6),Te(17,"radar"),ue()()(),re(18,"li",13),tn(19,$pe,2,1,"span",14),tn(20,Gpe,2,1,"span",3),Yt(21,"async"),re(22,"a",15),ht(23,"img",16),re(24,"span",6),Te(25,"fleets"),ue()()(),re(26,"li",17)(27,"a",18),ht(28,"img",19),re(29,"span",6),Te(30,"navigation"),ue()()(),re(31,"li",20)(32,"a",21),ht(33,"img",22),re(34,"span",6),Te(35,"research"),ue()()(),re(36,"li",23)(37,"a",24),ht(38,"img",25),re(39,"span",6),Te(40,"alliances"),ue()()()()()),2&r&&(me(2),ke("tabName","home"),me(1),ke("ngIf",i.updateAvailable),me(5),ke("tabName","planets"),me(5),ke("tabName","radar"),me(5),ke("tabName","fleets"),me(1),ke("ngIf",i.localOrdersBadge>0),me(1),ke("ngIf",i.active&&lr(21,10,i.fleetOrdersNotification)),me(6),ke("tabName","navigation"),me(5),ke("tabName","research"),me(5),ke("tabName","alliances"))},dependencies:[bs,Upe,wl],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const mr_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},EI=new Map,dL={activated:!1,tokenObservers:[]},Wpe={initialized:!1,enabled:!1};function ln(t){return EI.get(t)||Object.assign({},dL)}function Wm(){return Wpe}const xI="https://content-firebaseappcheck.googleapis.com/v1",Xpe="exchangeDebugToken",fL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Jpe{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return E(function*(){n.stop();try{n.pending=new Al,yield function ege(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Al,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const er=new Ds("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Km(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function CI(t){if(!ln(t).activated)throw er.create("use-before-activation",{appName:t.name})}function II(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),o=e-3600*n*24-3600*r-60*i;let s="";return n&&(s+=Qm(n)+"d:"),r&&(s+=Qm(r)+"h:"),s+=Qm(i)+"m:"+Qm(o)+"s",s}function Qm(t){return 0===t?"00":t>=10?t.toString():"0"+t}function Ym(t,e){return wI.apply(this,arguments)}function wI(){return wI=E(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw er.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw er.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw er.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),wI.apply(this,arguments)}function hL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${xI}/projects/${n}/apps/${r}:${Xpe}?key=${i}`,body:{debug_token:e}}}const ige="firebase-app-check-database",oge=1,l0="firebase-app-check-store",pL="debug-token";let Xm=null;function gL(){return Xm||(Xm=new Promise((t,e)=>{try{const n=indexedDB.open(ige,oge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(er.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(l0,{keyPath:"compositeKey"})}}catch(n){e(er.create("storage-open",{originalErrorMessage:n?.message}))}}),Xm)}function mL(t,e){return bI.apply(this,arguments)}function bI(){return bI=E(function*(t,e){const r=(yield gL()).transaction(l0,"readwrite"),o=r.objectStore(l0).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(er.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),bI.apply(this,arguments)}function _L(t){return AI.apply(this,arguments)}function AI(){return AI=E(function*(t){const n=(yield gL()).transaction(l0,"readonly"),i=n.objectStore(l0).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{const c=a.target.result;o(c?c.value:void 0)},n.onerror=a=>{var c;s(er.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),AI.apply(this,arguments)}function vL(t){return`${t.options.appId}-${t.name}`}const u0=new _f("@firebase/app-check");function DI(){return DI=E(function*(t){if(ff()){let e;try{e=yield function sge(t){return _L(vL(t))}(t)}catch(n){u0.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),DI.apply(this,arguments)}function TI(t,e){return ff()?function age(t,e){return mL(vL(t),e)}(t,e).catch(n=>{u0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function SI(){return SI=E(function*(){let t;try{t=yield function lge(){return _L(pL)}()}catch{}if(t)return t;{const e=_te();return function cge(t){return mL(pL,t)}(e).catch(n=>u0.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),SI.apply(this,arguments)}function MI(){return Wm().enabled}function PI(){return RI.apply(this,arguments)}function RI(){return RI=E(function*(){const t=Wm();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),RI.apply(this,arguments)}const hge={error:"UNKNOWN_ERROR"};function pge(t){return s4.encodeString(JSON.stringify(t),!1)}function Zm(t){return NI.apply(this,arguments)}function NI(){return NI=E(function*(t,e=!1){const n=t.app;CI(n);const r=ln(n);let o,i=r.token;if(i&&!Uu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Uu(c)?i=c:yield TI(n,void 0))}if(!e&&i&&Uu(i))return{token:i.token};let a,s=!1;if(MI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ym(hL(n,yield PI()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield TI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield ln(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?u0.warn(c.message):u0.error(c),o=c}return i?o?a=Uu(i)?{token:i.token,internalError:o}:CL(o):(a={token:i.token},r.token=i,yield TI(n,i)):a=CL(o),s&&xL(n,a),a}),NI.apply(this,arguments)}function kI(){return kI=E(function*(t){const e=t.app;CI(e);const{provider:n}=ln(e);if(MI()){const r=yield PI(),{token:i}=yield Ym(hL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),kI.apply(this,arguments)}function OI(t,e,n,r){const{app:i}=t,o=ln(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Uu(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),EL(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>EL(t))}function FI(t,e){const n=ln(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function EL(t){const{app:e}=t,n=ln(e);let r=n.tokenRefresher;r||(r=function gge(t){const{app:e}=t;return new Jpe(E(function*(){let r;if(r=ln(e).token?yield Zm(t,!0):yield Zm(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=ln(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},fL.RETRIAL_MIN_WAIT,fL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function xL(t,e){const n=ln(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Uu(t){return t.expireTimeMillis-Date.now()>0}function CL(t){return{token:pge(hge),error:t}}class mge{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ln(this.app);for(const n of e)FI(this.app,n.next);return Promise.resolve()}}function Ige(t,e){const n=new Al;ln(t).reCAPTCHAState={initialized:n};const i=function IL(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),o=Km(!1);return o?Jm(t,e,o,i,n):function Age(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const s=Km(!1);if(!s)throw new Error("no recaptcha");Jm(t,e,s,i,n)}),n.promise}function Jm(t,e,n,r,i){n.ready(()=>{(function bge(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{ln(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ln(t).reCAPTCHAState.succeeded=!1}}),o=ln(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function VI(){return VI=E(function*(t){CI(t);const n=yield ln(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=ln(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}),VI.apply(this,arguments)}class Io{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return E(function*(){var n,r,i;!function TL(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw er.create("throttled",{time:II(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const o=yield function wL(t){return VI.apply(this,arguments)}(e._app).catch(a=>{throw er.create("recaptcha-error")});if(null===(n=ln(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw er.create("recaptcha-error");let s;try{s=yield Ym(function nge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${xI}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,o),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function DL(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=d4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),er.create("throttled",{time:II(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,s})()}initialize(e){this._app=e,this._heartbeatServiceProvider=oo(e,"heartbeat"),Ige(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Io&&this._siteKey===e._siteKey}}function Tge(t=Tl(),e){const n=oo(t=rn(t),"app-check");if(Wm().initialized||function fge(){const t=L9(),e=Wm();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Al;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function dge(){return SI.apply(this,arguments)}())}(),MI()&&PI().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw er.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function Sge(t,e,n){const r=function Kpe(t,e){return EI.set(t,e),EI.get(t)}(t,Object.assign({},dL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function uge(t){return DI.apply(this,arguments)}(t).then(i=>(i&&Uu(i)&&(r.token=i,xL(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),ln(t).isTokenAutoRefreshEnabled&&OI(r,"INTERNAL",()=>{}),r}const SL="app-check-internal";!function Pge(){gi(new Zr("app-check",t=>function _ge(t,e){return new mge(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(SL).initialize()})),gi(new Zr(SL,t=>function vge(t){return{getToken:e=>Zm(t,e),getLimitedUseToken:()=>function yL(t){return kI.apply(this,arguments)}(t),addTokenListener:e=>OI(t,"INTERNAL",e),removeTokenListener:e=>FI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),on("@firebase/app-check","0.8.0")}();class BI{constructor(e){return e}}const HI=new we("angularfire2.app-check-instances"),Nge=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function kge(t){return(e,n,r)=>{!Wy(r)&&Nge&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new BI(i)}}const Oge={provide:w4,deps:[[new An,HI]]},Fge={provide:BI,useFactory:function Rge(t,e){const n=kg(cM,t,e);return n&&new BI(n)},deps:[[new An,HI],La,Vo]};let Vge=(()=>{var t;class e{constructor(){on("angularfire",Ss.full,"app-check")}}return t=e,mt(e,"\u0275fac",function(r){return new(r||t)}),mt(e,"\u0275mod",Ht({type:t})),mt(e,"\u0275inj",Ot({providers:[Fge,Oge]})),e})();function oa(t,...e){return{ngModule:Vge,providers:[{provide:HI,useFactory:kge(t),multi:!0,deps:[dt,Dn,Vo,Ef,xf,...e]}]}}const sa=sn(Tge,!0);let Lge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[qpe]}),t.\u0275inj=Ot({providers:[lF],imports:[Oi,Ms(()=>Rs(mr_firebase)),Ua(()=>ja()),Js(()=>ea()),oa(()=>sa(Ps(),{provider:new Io(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),uL(()=>sL())]}),e})();class Bge{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class Hge{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class ML{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class PL{constructor(){this._resources=new Hge,this._workers=new ML,this._soldiers=new ML,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var In=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(In||{});let RL=(()=>{var t;class e{constructor(){this.dgAPI=Y(os)}extractStats(){let r=new Bge;return r.stats.set(In.ALL,new PL),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new PL),r.stats.get(In.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(In.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(In.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(In.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(In.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(In.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(o=>{switch(o.name){case In.METAL:r.stats.get(In.ALL).resources.metalStored+=o.stored,r.stats.get(In.ALL).resources.metalProduction+=o.production,r.stats.get(i.location[0]).resources.metalStored+=o.stored,r.stats.get(i.location[0]).resources.metalProduction+=o.production;break;case In.MINERAL:r.stats.get(In.ALL).resources.mineralStored+=o.stored,r.stats.get(In.ALL).resources.mineralProduction+=o.production,r.stats.get(i.location[0]).resources.mineralStored+=o.stored,r.stats.get(i.location[0]).resources.mineralProduction+=o.production;break;case In.FOOD:r.stats.get(In.ALL).resources.foodStored+=o.stored,r.stats.get(In.ALL).resources.foodProduction+=o.production,r.stats.get(i.location[0]).resources.foodStored+=o.stored,r.stats.get(i.location[0]).resources.foodProduction+=o.production;break;case In.ENERGY:r.stats.get(In.ALL).resources.energyStored+=o.stored,r.stats.get(In.ALL).resources.energyProduction+=o.production,r.stats.get(i.location[0]).resources.energyStored+=o.stored,r.stats.get(i.location[0]).resources.energyProduction+=o.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),zge=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),zI=(()=>{var t;class e{constructor(){this.decimalPipe=Y(bl)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const Uge=function(t){return{"dgt-stats-totals-last-row":t}},vi=function(t){return{"dgt-padding-bottom-xs":t}};function jge(t,e){if(1&t&&(re(0,"tr",4)(1,"th",5)(2,"span",6),Te(3),Yt(4,"galaxyNameFormatter"),ue(),re(5,"span",7),Te(6),ue()(),re(7,"td",8)(8,"div",9),ht(9,"img",10),re(10,"span",11),Te(11),Yt(12,"number"),ue()()(),re(13,"td",12)(14,"div",9)(15,"span",11),Te(16),Yt(17,"resourceProductionFormatter"),ue()()(),re(18,"td",13)(19,"div",14),ht(20,"img",15),re(21,"span",11),Te(22),Yt(23,"number"),ue()()(),re(24,"td",12)(25,"div",14)(26,"span",11),Te(27),Yt(28,"resourceProductionFormatter"),ue()()(),re(29,"td",13)(30,"div",16),ht(31,"img",17),re(32,"span",11),Te(33),Yt(34,"number"),ue()()(),re(35,"td",12)(36,"div",16)(37,"span",11),Te(38),Yt(39,"resourceProductionFormatter"),ue()()(),re(40,"td",13)(41,"div",18),ht(42,"img",19),re(43,"span",11),Te(44),Yt(45,"number"),ue()()(),re(46,"td",20)(47,"div",18)(48,"span",11),Te(49),Yt(50,"resourceProductionFormatter"),ue()()(),re(51,"td",21)(52,"div",22),ht(53,"img",23),re(54,"span",11),Te(55),Yt(56,"number"),ue()()(),re(57,"td",24)(58,"div",25),ht(59,"img",26),re(60,"span",11),Te(61),Yt(62,"number"),ue()()(),re(63,"td",27)(64,"div",28),ht(65,"img",29),re(66,"span",11),Te(67),Yt(68,"number"),ue()()()()),2&t){const n=e.$implicit,r=e.index,i=jt();ke("ngClass",Br(64,Uge,r==i.panel.stats.size-1)),me(1),ke("ngClass",Br(66,vi,r==i.panel.stats.size-2)),me(2),St(lr(4,26,n.key)),me(3),Sa("[",n.value.count,"]"),me(1),ke("ngClass",Br(68,vi,r==i.panel.stats.size-2)),me(4),St(Cs(12,28,n.value.resources.metalStored,"1.0","en-US")),me(2),ke("ngClass",Br(70,vi,r==i.panel.stats.size-2)),me(3),St(lr(17,32,n.value.resources.metalProduction)),me(2),ke("ngClass",Br(72,vi,r==i.panel.stats.size-2)),me(4),St(Cs(23,34,n.value.resources.mineralStored,"1.0","en-US")),me(2),ke("ngClass",Br(74,vi,r==i.panel.stats.size-2)),me(3),St(lr(28,38,n.value.resources.mineralProduction)),me(2),ke("ngClass",Br(76,vi,r==i.panel.stats.size-2)),me(4),St(Cs(34,40,n.value.resources.foodStored,"1.0","en-US")),me(2),ke("ngClass",Br(78,vi,r==i.panel.stats.size-2)),me(3),St(lr(39,44,n.value.resources.foodProduction)),me(2),ke("ngClass",Br(80,vi,r==i.panel.stats.size-2)),me(4),St(Cs(45,46,n.value.resources.energyStored,"1.0","en-US")),me(2),ke("ngClass",Br(82,vi,r==i.panel.stats.size-2)),me(3),St(lr(50,50,n.value.resources.energyProduction)),me(2),ke("ngClass",Br(84,vi,r==i.panel.stats.size-2)),me(4),St(Cs(56,52,n.value.resources.ground,"1.0","en-US")),me(2),ke("ngClass",Br(86,vi,r==i.panel.stats.size-2)),me(4),St(Cs(62,56,n.value.resources.orbit,"1.0","en-US")),me(2),ke("ngClass",Br(88,vi,r==i.panel.stats.size-2)),me(4),St(Cs(68,60,n.value.soldiers.total,"1.0","en-US"))}}let $ge=(()=>{var t;class e{constructor(){this.statsPanelService=Y(RL)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1)(2,"table",2),tn(3,jge,69,90,"tr",3),Yt(4,"keyvalue"),ue()()()),2&r&&(me(3),ke("ngForOf",lr(4,1,i.panel.stats)))},dependencies:[Uy,Ig,bl,u9,zge,zI],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function NL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?NL(Object(n),!0).forEach(function(r){Pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e2(t){return(e2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function kL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UI(t,e){return function Qge(t){if(Array.isArray(t))return t}(t)||function Xge(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,a,r=[],i=!0,o=!1;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(c){o=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(o)throw a}}return r}}(t,e)||OL(t,e)||function Jge(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f0(t){return function Kge(t){if(Array.isArray(t))return jI(t)}(t)||function Yge(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||OL(t)||function Zge(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OL(t,e){if(t){if("string"==typeof t)return jI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jI(t,e)}}function jI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var FL=function(){},$I={},VL={},LL=null,BL={mark:FL,measure:FL};try{typeof window<"u"&&($I=window),typeof document<"u"&&(VL=document),typeof MutationObserver<"u"&&(LL=MutationObserver),typeof performance<"u"&&(BL=performance)}catch{}var r2,o2,s2,a2,c2,HL=($I.navigator||{}).userAgent,zL=void 0===HL?"":HL,aa=$I,Lt=VL,UL=LL,n2=BL,us=!!Lt.documentElement&&!!Lt.head&&"function"==typeof Lt.addEventListener&&"function"==typeof Lt.createElement,jL=~zL.indexOf("MSIE")||~zL.indexOf("Trident/"),ds="___FONT_AWESOME___",$L="fa",GL="svg-inline--fa",vc="data-fa-i2svg",qI="data-fa-pseudo-element",t1e="data-fa-pseudo-element-pending",WI="data-prefix",KI="data-icon",qL="fontawesome-i2svg",n1e="async",r1e=["HTML","HEAD","STYLE","SCRIPT"],WL=function(){try{return!0}catch{return!1}}(),Bt="classic",un="sharp",QI=[Bt,un];function h0(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Bt]}})}var p0=h0((Pn(r2={},Bt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Pn(r2,un,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),r2)),g0=h0((Pn(o2={},Bt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Pn(o2,un,{solid:"fass",regular:"fasr",light:"fasl"}),o2)),m0=h0((Pn(s2={},Bt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Pn(s2,un,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),s2)),i1e=h0((Pn(a2={},Bt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Pn(a2,un,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),a2)),o1e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,KL="fa-layers-text",s1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,a1e=h0((Pn(c2={},Bt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Pn(c2,un,{900:"fass",400:"fasr",300:"fasl"}),c2)),QL=[1,2,3,4,5,6,7,8,9,10],c1e=QL.concat([11,12,13,14,15,16,17,18,19,20]),l1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],yc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},_0=new Set;Object.keys(g0[Bt]).map(_0.add.bind(_0)),Object.keys(g0[un]).map(_0.add.bind(_0));var u1e=[].concat(QI,f0(_0),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",yc.GROUP,yc.SWAP_OPACITY,yc.PRIMARY,yc.SECONDARY]).concat(QL.map(function(t){return"".concat(t,"x")})).concat(c1e.map(function(t){return"w-".concat(t)})),v0=aa.FontAwesomeConfig||{};Lt&&"function"==typeof Lt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=UI(t,2),r=e[1],i=function f1e(t){return""===t||"false"!==t&&("true"===t||t)}(function d1e(t){var e=Lt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(v0[r]=i)});var YL={styleDefault:"solid",familyDefault:"classic",cssPrefix:$L,replacementClass:GL,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};v0.familyPrefix&&(v0.cssPrefix=v0.familyPrefix);var ju=Ae(Ae({},YL),v0);ju.autoReplaceSvg||(ju.observeMutations=!1);var Me={};Object.keys(YL).forEach(function(t){Object.defineProperty(Me,t,{enumerable:!0,set:function(n){ju[t]=n,y0.forEach(function(r){return r(Me)})},get:function(){return ju[t]}})}),Object.defineProperty(Me,"familyPrefix",{enumerable:!0,set:function(e){ju.cssPrefix=e,y0.forEach(function(n){return n(Me)})},get:function(){return ju.cssPrefix}}),aa.FontAwesomeConfig=Me;var y0=[],wo={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},m1e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function E0(){for(var t=12,e="";t-- >0;)e+=m1e[62*Math.random()|0];return e}function $u(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function YI(t){return t.classList?$u(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function XL(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function XI(t){return t.size!==wo.size||t.x!==wo.x||t.y!==wo.y||t.rotate!==wo.rotate||t.flipX||t.flipY}var E1e=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function ZL(){var t=$L,e=GL,n=Me.cssPrefix,r=Me.replacementClass,i=E1e;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var JL=!1;function ZI(){Me.autoAddCss&&!JL&&(function g1e(t){if(t&&us){var e=Lt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Lt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}Lt.head.insertBefore(e,r)}}(ZL()),JL=!0)}var x1e={mixout:function(){return{dom:{css:ZL,insertCss:ZI}}},hooks:function(){return{beforeDOMElementCreation:function(){ZI()},beforeI2svg:function(){ZI()}}}},fs=aa||{};fs[ds]||(fs[ds]={}),fs[ds].styles||(fs[ds].styles={}),fs[ds].hooks||(fs[ds].hooks={}),fs[ds].shims||(fs[ds].shims=[]);var Ui=fs[ds],eB=[],u2=!1;function x0(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?XL(t):"<".concat(e," ").concat(function _1e(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(XL(t[n]),'" ')},"").trim()}(r),">").concat(o.map(x0).join(""),"</").concat(e,">")}function tB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}us&&((u2=(Lt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Lt.readyState))||Lt.addEventListener("DOMContentLoaded",function t(){Lt.removeEventListener("DOMContentLoaded",t),u2=1,eB.map(function(e){return e()})}));var JI=function(e,n,r,i){var c,l,u,o=Object.keys(e),s=o.length,a=void 0!==i?function(e,n){return function(r,i,o,s){return e.call(n,r,i,o,s)}}(n,i):n;for(void 0===r?(c=1,u=e[o[0]]):(c=0,u=r);c<s;c++)u=a(u,e[l=o[c]],l,e);return u};function ew(t){var e=function b1e(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function nB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function tw(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,o=nB(e);"function"!=typeof Ui.hooks.addPack||i?Ui.styles[t]=Ae(Ae({},Ui.styles[t]||{}),o):Ui.hooks.addPack(t,nB(e)),"fas"===t&&tw("fa",e)}var d2,f2,h2,Gu=Ui.styles,D1e=Ui.shims,T1e=(Pn(d2={},Bt,Object.values(m0[Bt])),Pn(d2,un,Object.values(m0[un])),d2),nw=null,rB={},iB={},oB={},sB={},aB={},S1e=(Pn(f2={},Bt,Object.keys(p0[Bt])),Pn(f2,un,Object.keys(p0[un])),f2);var cB=function(){var e=function(o){return JI(Gu,function(s,a,c){return s[c]=JI(a,o,{}),s},{})};rB=e(function(i,o,s){return o[3]&&(i[o[3]]=s),o[2]&&o[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=s}),i}),iB=e(function(i,o,s){return i[s]=s,o[2]&&o[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=s}),i}),aB=e(function(i,o,s){var a=o[2];return i[s]=s,a.forEach(function(c){i[c]=s}),i});var n="far"in Gu||Me.autoFetchSvg,r=JI(D1e,function(i,o){var s=o[0],a=o[1],c=o[2];return"far"===a&&!n&&(a="fas"),"string"==typeof s&&(i.names[s]={prefix:a,iconName:c}),"number"==typeof s&&(i.unicodes[s.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});oB=r.names,sB=r.unicodes,nw=p2(Me.styleDefault,{family:Me.familyDefault})};function rw(t,e){return(rB[t]||{})[e]}function Ec(t,e){return(aB[t]||{})[e]}function lB(t){return oB[t]||{prefix:null,iconName:null}}function la(){return nw}(function p1e(t){y0.push(t)})(function(t){nw=p2(t.styleDefault,{family:Me.familyDefault})}),cB();var iw=function(){return{prefix:null,iconName:null,rest:[]}};function p2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Bt:n;return g0[r][t]||g0[r][p0[r][t]]||(t in Ui.styles?t:null)||null}var uB=(Pn(h2={},Bt,Object.keys(m0[Bt])),Pn(h2,un,Object.keys(m0[un])),h2);function g2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,o=(Pn(e={},Bt,"".concat(Me.cssPrefix,"-").concat(Bt)),Pn(e,un,"".concat(Me.cssPrefix,"-").concat(un)),e),s=null,a=Bt;(t.includes(o[Bt])||t.some(function(l){return uB[Bt].includes(l)}))&&(a=Bt),(t.includes(o[un])||t.some(function(l){return uB[un].includes(l)}))&&(a=un);var c=t.reduce(function(l,u){var d=function P1e(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function M1e(t){return~u1e.indexOf(t)}(i)?null:i}(Me.cssPrefix,u);if(Gu[u]?(u=T1e[a].includes(u)?i1e[a][u]:u,s=u,l.prefix=u):S1e[a].indexOf(u)>-1?(s=u,l.prefix=p2(u,{family:a})):d?l.iconName=d:u!==Me.replacementClass&&u!==o[Bt]&&u!==o[un]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===s?lB(l.iconName):{},h=Ec(l.prefix,l.iconName);f.prefix&&(s=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Gu.far&&Gu.fas&&!Me.autoFetchSvg&&(l.prefix="fas")}return l},iw());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===un&&(Gu.fass||Me.autoFetchSvg)&&(c.prefix="fass",c.iconName=Ec(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===s)&&(c.prefix=la()||"fas"),c}var k1e=function(){function t(){(function Gge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function qge(t,e,n){e&&kL(t.prototype,e),n&&kL(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(a){n.definitions[a]=Ae(Ae({},n.definitions[a]||{}),s[a]),tw(a,s[a]);var c=m0[Bt][a];c&&tw(c,s[a]),cB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var s=i[o],a=s.prefix,c=s.iconName,l=s.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),dB=[],qu={},Wu={},O1e=Object.keys(Wu);function ow(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(qu[t]||[]).forEach(function(s){e=s.apply(null,[e].concat(r))}),e}function xc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(qu[t]||[]).forEach(function(o){o.apply(null,n)})}function hs(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Wu[t]?Wu[t].apply(null,e):void 0}function sw(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||la();if(e)return e=Ec(n,e)||e,tB(fB.definitions,n,e)||tB(Ui.styles,n,e)}var fB=new k1e,L1e={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return us?(xc("beforeI2svg",e),hs("pseudoElements2svg",e),hs("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Me.autoReplaceSvg&&(Me.autoReplaceSvg=!0),Me.observeMutations=!0,function I1e(t){us&&(u2?setTimeout(t,0):eB.push(t))}(function(){H1e({autoReplaceSvgRoot:n}),xc("watch",e)})}},ii={noAuto:function(){Me.autoReplaceSvg=!1,Me.observeMutations=!1,xc("noAuto")},config:Me,dom:L1e,parse:{icon:function(e){if(null===e)return null;if("object"===e2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ec(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=p2(e[0]);return{prefix:r,iconName:Ec(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Me.cssPrefix,"-"))>-1||e.match(o1e))){var i=g2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||la(),iconName:Ec(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var o=la();return{prefix:o,iconName:Ec(o,e)||e}}}},library:fB,findIconDefinition:sw,toHtml:x0},H1e=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Lt:n;(Object.keys(Ui.styles).length>0||Me.autoFetchSvg)&&us&&Me.autoReplaceSvg&&ii.dom.i2svg({node:r})};function m2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return x0(r)})}}),Object.defineProperty(t,"node",{get:function(){if(us){var r=Lt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function aw(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,_=p.width,w=p.height,R="fak"===i,A=[Me.replacementClass,o?"".concat(Me.cssPrefix,"-").concat(o):""].filter(function(zn){return-1===d.classes.indexOf(zn)}).filter(function(zn){return""!==zn||!!zn}).concat(d.classes).join(" "),$={children:[],attributes:Ae(Ae({},d.attributes),{},{"data-prefix":i,"data-icon":o,class:A,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(_," ").concat(w)})},ie=R&&!~d.classes.indexOf("fa-fw")?{width:"".concat(_/w*16*.0625,"em")}:{};h&&($.attributes[vc]=""),c&&($.children.push({tag:"title",attributes:{id:$.attributes["aria-labelledby"]||"title-".concat(u||E0())},children:[c]}),delete $.attributes.title);var pe=Ae(Ae({},$),{},{prefix:i,iconName:o,main:n,mask:r,maskId:l,transform:s,symbol:a,styles:Ae(Ae({},ie),d.styles)}),Ne=r.found&&n.found?hs("generateAbstractMask",pe)||{children:[],attributes:{}}:hs("generateAbstractIcon",pe)||{children:[],attributes:{}},Jt=Ne.attributes;return pe.children=Ne.children,pe.attributes=Jt,a?function U1e(t){var n=t.iconName,r=t.children,i=t.attributes,o=t.symbol,s=!0===o?"".concat(t.prefix,"-").concat(Me.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ae(Ae({},i),{},{id:s}),children:r}]}]}(pe):function z1e(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(XI(s)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=l2(Ae(Ae({},o),{},{"transform-origin":"".concat(l.x+s.x/16,"em ").concat(l.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(pe)}function hB(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,s=t.extra,a=t.watchable,c=void 0!==a&&a,l=Ae(Ae(Ae({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});c&&(l[vc]="");var u=Ae({},s.styles);XI(i)&&(u.transform=function y1e(t){var e=t.transform,n=t.width,i=t.height,o=void 0===i?16:i,s=t.startCentered,a=void 0!==s&&s,c="";return c+=a&&jL?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-o/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=l2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),o&&f.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),f}var cw=Ui.styles;function lw(t){var e=t[0],n=t[1],o=UI(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(Me.cssPrefix,"-").concat(yc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Me.cssPrefix,"-").concat(yc.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(Me.cssPrefix,"-").concat(yc.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var $1e={found:!1,width:512,height:512};function uw(t,e){var n=e;return"fa"===e&&null!==Me.styleDefault&&(e=la()),new Promise(function(r,i){if(hs("missingIconAbstract"),"fa"===n){var s=lB(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&cw[e]&&cw[e][t])return r(lw(cw[e][t]));(function G1e(t,e){!WL&&!Me.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(Ae(Ae({},$1e),{},{icon:Me.showMissingIcons&&t&&hs("missingIconAbstract")||{}}))})}var pB=function(){},dw=Me.measurePerformance&&n2&&n2.mark&&n2.measure?n2:{mark:pB,measure:pB},C0='FA "6.4.2"',gB=function(e){dw.mark("".concat(C0," ").concat(e," ends")),dw.measure("".concat(C0," ").concat(e),"".concat(C0," ").concat(e," begins"),"".concat(C0," ").concat(e," ends"))},fw={begin:function(e){return dw.mark("".concat(C0," ").concat(e," begins")),function(){return gB(e)}},end:gB},_2=function(){};function mB(t){return"string"==typeof(t.getAttribute?t.getAttribute(vc):null)}function Y1e(t){return Lt.createElementNS("http://www.w3.org/2000/svg",t)}function X1e(t){return Lt.createElement(t)}function _B(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Y1e:X1e:n;if("string"==typeof t)return Lt.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){i.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){i.appendChild(_B(s,{ceFn:r}))}),i}var v2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(_B(i),n)}),null===n.getAttribute(vc)&&Me.keepOriginalSource){var r=Lt.createComment(function Z1e(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~YI(n).indexOf(Me.replacementClass))return v2.replace(e);var i=new RegExp("".concat(Me.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Me.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var s=r.map(function(a){return x0(a)}).join("\n");n.setAttribute(vc,""),n.innerHTML=s}};function vB(t){t()}function yB(t,e){var n="function"==typeof e?e:_2;if(0===t.length)n();else{var r=vB;Me.mutateApproach===n1e&&(r=aa.requestAnimationFrame||vB),r(function(){var i=function Q1e(){return!0===Me.autoReplaceSvg?v2.replace:v2[Me.autoReplaceSvg]||v2.replace}(),o=fw.begin("mutate");t.map(i),o(),n()})}}var hw=!1;function EB(){hw=!0}function pw(){hw=!1}var y2=null;function xB(t){if(UL&&Me.observeMutations){var e=t.treeCallback,n=void 0===e?_2:e,r=t.nodeCallback,i=void 0===r?_2:r,o=t.pseudoElementsCallback,s=void 0===o?_2:o,a=t.observeMutationsRoot,c=void 0===a?Lt:a;y2=new UL(function(l){if(!hw){var u=la();$u(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!mB(d.addedNodes[0])&&(Me.searchPseudoElements&&s(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Me.searchPseudoElements&&s(d.target.parentNode),"attributes"===d.type&&mB(d.target)&&~l1e.indexOf(d.attributeName))if("class"===d.attributeName&&function W1e(t){var e=t.getAttribute?t.getAttribute(WI):null,n=t.getAttribute?t.getAttribute(KI):null;return e&&n}(d.target)){var f=g2(YI(d.target)),p=f.iconName;d.target.setAttribute(WI,f.prefix||u),p&&d.target.setAttribute(KI,p)}else(function K1e(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Me.replacementClass)})(d.target)&&i(d.target)})}}),us&&y2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function CB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function tme(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=g2(YI(t));return i.prefix||(i.prefix=la()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function R1e(t,e){return(iB[t]||{})[e]}(i.prefix,t.innerText)||rw(i.prefix,ew(t.innerText))),!i.iconName&&Me.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,o=n.rest,s=function nme(t){var e=$u(t.attributes).reduce(function(i,o){return"class"!==i.name&&"style"!==i.name&&(i[o.name]=o.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Me.autoA11y&&(n?e["aria-labelledby"]="".concat(Me.replacementClass,"-title-").concat(r||E0()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=ow("parseNodeAttributes",{},t),c=e.styleParser?function eme(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var o=i.split(":"),s=o[0],a=o.slice(1);return s&&a.length>0&&(r[s]=a.join(":").trim()),r},{})),n}(t):[];return Ae({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:wo,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:c,attributes:s}},a)}var ime=Ui.styles;function IB(t){var e="nest"===Me.autoReplaceSvg?CB(t,{styleParser:!1}):CB(t);return~e.extra.classes.indexOf(KL)?hs("generateLayersText",t,e):hs("generateSvgReplacementMutation",t,e)}var ua=new Set;function wB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!us)return Promise.resolve();var n=Lt.documentElement.classList,r=function(d){return n.add("".concat(qL,"-").concat(d))},i=function(d){return n.remove("".concat(qL,"-").concat(d))},o=Me.autoFetchSvg?ua:QI.map(function(u){return"fa-".concat(u)}).concat(Object.keys(ime));o.includes("fa")||o.push("fa");var s=[".".concat(KL,":not([").concat(vc,"])")].concat(o.map(function(u){return".".concat(u,":not([").concat(vc,"])")})).join(", ");if(0===s.length)return Promise.resolve();var a=[];try{a=$u(t.querySelectorAll(s))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=fw.begin("onTree"),l=a.reduce(function(u,d){try{var f=IB(d);f&&u.push(f)}catch(h){WL||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){yB(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function ome(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;IB(t).then(function(n){n&&yB([n],e)})}function sme(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:sw(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:sw(i||{})),t(r,Ae(Ae({},n),{},{mask:i}))}}QI.map(function(t){ua.add("fa-".concat(t))}),Object.keys(p0[Bt]).map(ua.add.bind(ua)),Object.keys(p0[un]).map(ua.add.bind(ua)),ua=f0(ua);var ame=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?wo:r,o=n.symbol,s=void 0!==o&&o,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,_=n.classes,w=void 0===_?[]:_,R=n.attributes,A=void 0===R?{}:R,$=n.styles,ie=void 0===$?{}:$;if(e){var pe=e.prefix,Ne=e.iconName,Ze=e.icon;return m2(Ae({type:"icon"},e),function(){return xc("beforeDOMElementCreation",{iconDefinition:e,params:n}),Me.autoA11y&&(f?A["aria-labelledby"]="".concat(Me.replacementClass,"-title-").concat(p||E0()):(A["aria-hidden"]="true",A.focusable="false")),aw({icons:{main:lw(Ze),mask:c?lw(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:pe,iconName:Ne,transform:Ae(Ae({},wo),i),symbol:s,title:f,maskId:u,titleId:p,extra:{attributes:A,styles:ie,classes:w}})})}},cme={mixout:function(){return{icon:sme(ame)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=wB,n.nodeCallback=ome,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,o=n.callback;return wB(void 0===r?Lt:r,void 0===o?function(){}:o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,o=r.title,s=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([uw(i,a),u.iconName?uw(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(_){var w=UI(_,2);h([n,aw({icons:{main:w[0],mask:w[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:o,titleId:s,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,o=n.main,s=n.transform,c=l2(n.styles);return c.length>0&&(i.style=c),XI(s)&&(l=hs("generateAbstractTransformGrouping",{main:o,transform:s,containerWidth:o.width,iconWidth:o.width})),r.push(l||o.icon),{children:r,attributes:i}}}},lme={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,o=void 0===i?[]:i;return m2({type:"layer"},function(){xc("beforeDOMElementCreation",{assembler:n,params:r});var s=[];return n(function(a){Array.isArray(a)?a.map(function(c){s=s.concat(c.abstract)}):s=s.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Me.cssPrefix,"-layers")].concat(f0(o)).join(" ")},children:s}]})}}}},ume={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,o=void 0===i?null:i,s=r.classes,a=void 0===s?[]:s,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return m2({type:"counter",content:n},function(){return xc("beforeDOMElementCreation",{content:n,params:r}),function j1e(t){var e=t.content,n=t.title,r=t.extra,i=Ae(Ae(Ae({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=l2(r.styles);o.length>0&&(i.style=o);var s=[];return s.push({tag:"span",attributes:i,children:[e]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:n.toString(),title:o,extra:{attributes:l,styles:d,classes:["".concat(Me.cssPrefix,"-layers-counter")].concat(f0(a))}})})}}}},dme={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,o=void 0===i?wo:i,s=r.title,a=void 0===s?null:s,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return m2({type:"text",content:n},function(){return xc("beforeDOMElementCreation",{content:n,params:r}),hB({content:n,transform:Ae(Ae({},wo),o),title:a,extra:{attributes:d,styles:h,classes:["".concat(Me.cssPrefix,"-layers-text")].concat(f0(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,o=r.transform,s=r.extra,a=null,c=null;if(jL){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Me.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),Promise.resolve([n,hB({content:n.innerHTML,width:a,height:c,transform:o,title:i,extra:s,watchable:!0})])}}},fme=new RegExp('"',"ug"),bB=[1105920,1112319];function AB(t,e){var n="".concat(t1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var s=$u(t.children).filter(function(Ze){return Ze.getAttribute(qI)===e})[0],a=aa.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(s1e),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(s&&!c)return t.removeChild(s),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?un:Bt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?g0[f][c[2].toLowerCase()]:a1e[f][l],p=function hme(t){var e=t.replace(fme,""),n=function A1e(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=bB[0]&&n<=bB[1],i=2===e.length&&e[0]===e[1];return{value:ew(i?e[0]:e),isSecondary:r||i}}(d),_=p.value,w=p.isSecondary,R=c[0].startsWith("FontAwesome"),A=rw(h,_),$=A;if(R){var ie=function N1e(t){var e=sB[t],n=rw("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(_);ie.iconName&&ie.prefix&&(A=ie.iconName,h=ie.prefix)}if(!A||w||s&&s.getAttribute(WI)===h&&s.getAttribute(KI)===$)r();else{t.setAttribute(n,$),s&&t.removeChild(s);var pe=function rme(){return{iconName:null,title:null,titleId:null,prefix:null,transform:wo,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Ne=pe.extra;Ne.attributes[qI]=e,uw(A,h).then(function(Ze){var Jt=aw(Ae(Ae({},pe),{},{icons:{main:Ze,mask:iw()},prefix:h,iconName:$,extra:Ne,watchable:!0})),zn=Lt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(zn,t.firstChild):t.appendChild(zn),zn.outerHTML=Jt.map(function(pa){return x0(pa)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function pme(t){return Promise.all([AB(t,"::before"),AB(t,"::after")])}function gme(t){return!(t.parentNode===document.head||~r1e.indexOf(t.tagName.toUpperCase())||t.getAttribute(qI)||t.parentNode&&"svg"===t.parentNode.tagName)}function DB(t){if(us)return new Promise(function(e,n){var r=$u(t.querySelectorAll("*")).filter(gme).map(pme),i=fw.begin("searchPseudoElements");EB(),Promise.all(r).then(function(){i(),pw(),e()}).catch(function(){i(),pw(),n()})})}var TB=!1,SB=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),s=o[0],a=o.slice(1).join("-");if(s&&"h"===a)return r.flipX=!0,r;if(s&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(s){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},gw={x:0,y:0,width:"100%",height:"100%"};function MB(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function yme(t){return"g"===t.tag?t.children:[t]}var Eme={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),o=i?g2(i.split(" ").map(function(s){return s.trim()})):iw();return o.prefix||(o.prefix=la()),n.mask=o,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.mask,a=n.maskId,u=o.icon,f=s.icon,h=function v1e(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:s.width,iconWidth:o.width}),p={tag:"rect",attributes:Ae(Ae({},gw),{},{fill:"white"})},_=u.children?{children:u.children.map(MB)}:{},w={tag:"g",attributes:Ae({},h.inner),children:[MB(Ae({tag:u.tag,attributes:Ae(Ae({},u.attributes),h.path)},_))]},R={tag:"g",attributes:Ae({},h.outer),children:[w]},A="mask-".concat(a||E0()),$="clip-".concat(a||E0()),ie={tag:"mask",attributes:Ae(Ae({},gw),{},{id:A,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,R]},pe={tag:"defs",children:[{tag:"clipPath",attributes:{id:$},children:yme(f)},ie]};return r.push(pe,{tag:"rect",attributes:Ae({fill:"currentColor","clip-path":"url(#".concat($,")"),mask:"url(#".concat(A,")")},gw)}),{children:r,attributes:i}}}};!function F1e(t,e){var n=e.mixoutsTo;dB=t,qu={},Object.keys(Wu).forEach(function(r){-1===O1e.indexOf(r)&&delete Wu[r]}),dB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(s){"function"==typeof i[s]&&(n[s]=i[s]),"object"===e2(i[s])&&Object.keys(i[s]).forEach(function(a){n[s]||(n[s]={}),n[s][a]=i[s][a]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(s){qu[s]||(qu[s]=[]),qu[s].push(o[s])})}r.provides&&r.provides(Wu)})}([x1e,cme,lme,ume,dme,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=DB,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Me.searchPseudoElements&&DB(void 0===r?Lt:r)}}},{mixout:function(){return{dom:{unwatch:function(){EB(),TB=!0}}}},hooks:function(){return{bootstrap:function(){xB(ow("mutationObserverCallbacks",{}))},noAuto:function(){!function J1e(){y2&&y2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;TB?pw():xB(ow("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return SB(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=SB(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(s/2*-1," -256)")}};return{tag:"g",attributes:Ae({},h.outer),children:[{tag:"g",attributes:Ae({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Ae(Ae({},r.icon.attributes),h.path)}]}]}}}},Eme,{provides:function(e){var n=!1;aa.matchMedia&&(n=aa.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Ae(Ae({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=Ae(Ae({},o),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Ae(Ae({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Ae(Ae({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ae(Ae({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Ae(Ae({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Ae(Ae({},s),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Ae(Ae({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ae(Ae({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:ii});var wme=ii.parse,bme=ii.icon;const Ame=["*"],Sme=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let Rme=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),mw=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const o of i.icon[2])"string"==typeof o&&(this.definitions[i.prefix][o]=i)}}addIconPacks(...r){for(const i of r){const o=Object.keys(i).map(s=>i[s]);this.addIcons(...o)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Nme=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[xr]}),e})(),kme=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ji),X(ar))},t.\u0275cmp=vr({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[xr],ngContentSelectors:Ame,decls:1,vars:0,template:function(r,i){1&r&&(function ZD(t){const e=Q()[fn][or];if(!e.projection){const r=e.projection=xd(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?_K(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),function JD(t,e=0,n){const r=Q(),i=ct(),o=sl(i,nt+t,16,null,n||null);null===o.projection&&(o.projection=e),g_(),(!r[No]||Vc())&&32!=(32&o.flags)&&function gG(t,e,n){eA(e[$e],0,e,n,j_(t,n,e),K5(n.parent||e[or],n,e))}(i,r,o)}(0))},encapsulation:2}),e})(),PB=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,o,s,a){this.sanitizer=r,this.config=i,this.iconLibrary=o,this.stackItem=s,this.classes=[],null!=a&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const o=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=o){const s=this.buildParams();this.renderIcon(o,s)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?wme.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...Sme(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const o=bme(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(X(R9),X(Rme),X(mw),X(Nme,8),X(kme,8))},t.\u0275cmp=vr({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(Qv("innerHTML",i.renderedIconHTML,hA),Si("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[xr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),_w=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({}),e})(),Ome=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[$ge]}),t.\u0275inj=Ot({providers:[bl,RL],imports:[Oi,_w]}),e})(),RB=(()=>{var t;class e{constructor(){this.firestore=Y(mo),this.dgAPI=Y(os)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){null!=this.planetScanSubscription&&this.planetScanSubscription.unsubscribe();let i=_o(this.firestore,"scans");this.planetScanSubscription=bu(Au(i,ta("location","==",r.planetScan.location),sF(1)),{idField:"id"}).subscribe(o=>{let s=Object.assign(new dF,o[0]);s.location=r.planetScan.location,s.turn=r.planetScan.turn,s.owner=r.planetScan.owner,(r.type==gr.RESOURCE||r.type==gr.SURFACE)&&(s.orbit=r.planetScan.orbit,s.ground=r.planetScan.ground),r.type==gr.RESOURCE&&(s.resources.length>0?s.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):s.resources=r.planetScan.resources),r.type==gr.SURFACE&&(s.resources=r.planetScan.resources,s.workers=r.planetScan.workers,s.soldiers=r.planetScan.soldiers,s.structures=r.planetScan.structures),r.type==gr.FLEET?s.fleets=r.planetScan.fleets:0==o.length?oF(i,JSON.parse(JSON.stringify(s))).catch(a=>{console.log(a)}):aF(Cm(i,s.id),JSON.parse(JSON.stringify(s))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe()})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Fme(t,e){1&t&&(re(0,"p",3),Te(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),ue())}let Vme=(()=>{var t;class e{constructor(){this.scanService=Y(RB),this.authService=Y(na),this.changeDetection=Y(io),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.changeDetection.detectChanges()}document.querySelector("dgt-shared-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.remove("show"))})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-shared-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&(re(0,"div",0),ht(1,"span",1),ue(),tn(2,Fme,2,0,"p",2)),2&r&&(me(2),ke("ngIf",i.active))},dependencies:[bs],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}"]}),e})(),Lme=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[Vme]}),t.\u0275inj=Ot({providers:[RB],imports:[Oi,Ms(()=>Rs(mr_firebase)),Ua(()=>ja()),Js(()=>ea()),oa(()=>sa(Ps(),{provider:new Io(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),NB=(()=>{var t;class e{constructor(){this.firestore=Y(mo),this.dgAPI=Y(os),this.resourceProductionFormatterPipe=Y(zI),this.decimalPipe=Y(bl)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(null!==this.scansSubscription)return;let i=r.map(o=>o.location.join("."));this.scansSubscription=bu(Au(_o(this.firestore,"scans"),ta("location","in",i))).subscribe(o=>{let a=Object.assign([],o).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(kt.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(kt.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(kt.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(kt.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(kt.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(kt.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(kt.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),d.includes(kt.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(kt.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(kt.MEDICAL_CENTRE)&&(f+=.3),d.includes(kt.LEISURE_CENTRE)&&(f+=.4),d.includes(kt.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"})})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Bme(t,e){1&t&&(re(0,"p",1),Te(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),ue())}let Hme=(()=>{var t;class e{constructor(){this.scanService=Y(NB),this.authService=Y(na),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractSummaries();console.log(i),i.length>0&&this.scanService.fillScans(i)}}),this.authService.checkLoginValidity(!0)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&tn(0,Bme,2,0,"p",0),2&r&&ke("ngIf",i.active)},dependencies:[bs]}),e})(),zme=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[Hme]}),t.\u0275inj=Ot({providers:[bl,zI,NB],imports:[Oi,Ms(()=>Rs(mr_firebase)),Ua(()=>ja()),Js(()=>ea()),oa(()=>sa(Ps(),{provider:new Io(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function Ume(t,e){if(1&t){const n=Da();re(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),Te(6,"DGT Login"),ue()()(),re(7,"tr",3)(8,"td"),ht(9,"input",4,5),ue(),re(11,"td"),ht(12,"input",6,7),ue()(),re(14,"tr",8)(15,"td",2)(16,"button",9),Ut("click",function(){Ai(n);const i=Uv(10),o=Uv(13);return Di(jt().signInWithEmailAndPassword(i.value,o.value,!0))}),Te(17,"Login"),ue(),re(18,"button",10),Ut("click",function(){return Ai(n),Di(jt().signInWithGoogle(!0))}),ht(19,"img",11),ue()()()()()()}}let jme=(()=>{var t;class e{constructor(){this.authService=Y(na),this.auth=Y(kf),this.firestore=Y(mo),this.localStorageService=Y(vo),this.changeDetection=Y(io),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new de(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(vn.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i,o){this.authService.signInWithEmailAndPassword(this.auth,r,i,o)}signInWithGoogle(r){this.authService.signInWithGoogle(this.auth,r)}signOut(r){this.authService.signOut(this.auth,r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(tn(0,Ume,20,0,"div",0),Yt(1,"async")),2&r&&ke("ngIf",lr(1,1,i.displayLogin))},dependencies:[bs,wl],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),$me=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[jme]}),t.\u0275inj=Ot({imports:[Oi,Ms(()=>Rs(mr_firebase)),Ua(()=>ja()),Js(()=>ea()),oa(()=>sa(Ps(),{provider:new Io(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),kB=(()=>{var t;class e{constructor(){this.firestore=Y(mo),this.dgApi=Y(os),this.ordersSubscriptions=new Map}updateOrder(r){r.from=this.dgApi.username(!1);let i=_o(this.firestore,"orders");oF(i,JSON.parse(JSON.stringify(r))).catch(o=>{console.log(o)})}deleteOrder(r){cde(Cm(_o(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,o,s){if(this.ordersSubscriptions.has(r))return;document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(c=>{c.classList.add("show"),c.classList.remove("hide")});let a=_o(this.firestore,"orders");this.ordersSubscriptions.set(r,bu(Au(a,ta("user","==",r),Im("executed","asc"),Im("wait","asc")),{idField:"id"}).subscribe(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),s.next(l),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(u=>{u.classList.add("hide"),u.classList.remove("show")}),o.detectChanges()}))}ngOnDestroy(){this.ordersSubscriptions.forEach(r=>{r.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Gme{get from(){return this._from}set from(e){this._from=e}get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target,from:this.from}}}var Ew={prefix:"far",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"]},Iw={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 135.1c-4.2-4.5-10.1-7.1-16.3-7.1C266 128 256 138 256 150.3V208H160c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h96v57.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.3-7.1l99.9-107.1c3.5-3.8 5.5-8.7 5.5-13.8s-2-10.1-5.5-13.8L294.6 135.1z"]},x2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let iz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ji),X(ar))},t.\u0275dir=Oe({type:t}),e})(),Cc=(()=>{var t;class e extends iz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Wn(t)))(i||t)}}(),t.\u0275dir=Oe({type:t,features:[yt]}),e})();const bo=new we("NgValueAccessor"),rye={provide:bo,useExisting:At(()=>C2),multi:!0},oye=new we("CompositionEventMode");let C2=(()=>{var t;class e extends iz{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iye(){const t=ws()?ws().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Ji),X(ar),X(oye,8))},t.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ut("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[$t([rye]),yt]}),e})();const _r=new we("NgValidators"),fa=new we("NgAsyncValidators");function gz(t){return null!=t}function mz(t){return $d(t)?ir(t):t}function _z(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function vz(t,e){return e.map(n=>n(t))}function yz(t){return t.map(e=>function aye(t){return!t.validate}(e)?e:n=>e.validate(n))}function bw(t){return null!=t?function Ez(t){if(!t)return null;const e=t.filter(gz);return 0==e.length?null:function(n){return _z(vz(n,e))}}(yz(t)):null}function Aw(t){return null!=t?function xz(t){if(!t)return null;const e=t.filter(gz);return 0==e.length?null:function(n){return function tye(...t){const e=qw(t),{args:n,keys:r}=QF(t),i=new de(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;rr(n[u]).subscribe(tt(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?XF(r,a):a),o.complete())}))}});return e?i.pipe(YF(e)):i}(vz(n,e).map(mz)).pipe(Je(_z))}}(yz(t)):null}function Cz(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Dw(t){return t?Array.isArray(t)?t:[t]:[]}function w2(t,e){return Array.isArray(t)?t.includes(e):t===e}function bz(t,e){const n=Dw(e);return Dw(t).forEach(i=>{w2(n,i)||n.push(i)}),n}function Az(t,e){return Dw(e).filter(n=>!w2(t,n))}class Dz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Aw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Pr extends Dz{get formDirective(){return null}get path(){return null}}class ha extends Dz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sz=(()=>{var t;class e extends Tz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(ha,2))},t.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[yt]}),e})(),Mz=(()=>{var t;class e extends Tz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Pr,10))},t.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[yt]}),e})();const I0="VALID",A2="INVALID",Ku="PENDING",w0="DISABLED";function Mw(t){return(D2(t)?t.validators:t)||null}function Pw(t,e){return(D2(e)?e.asyncValidators:t)||null}function D2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class kz{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===I0}get invalid(){return this.status===A2}get pending(){return this.status==Ku}get disabled(){return this.status===w0}get enabled(){return this.status!==w0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Az(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Az(e,this._rawAsyncValidators))}hasValidator(e){return w2(this._rawValidators,e)}hasAsyncValidator(e){return w2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ku,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=w0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=I0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===I0||this.status===Ku)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?w0:I0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ku,this._hasOwnPendingAsyncValidator=!0;const n=mz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qt,this.statusChanges=new Qt}_calculateStatus(){return this._allControlsDisabled()?w0:this.errors?A2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ku)?Ku:this._anyControlsHaveStatus(A2)?A2:I0}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){D2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function dye(t){return Array.isArray(t)?bw(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function fye(t){return Array.isArray(t)?Aw(t):t||null}(this._rawAsyncValidators)}}class Rw extends kz{constructor(e,n,r){super(Mw(n),Pw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function Nz(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new ee(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Rz(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[n])throw new ee(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Qu=new we("CallSetDisabledState",{providedIn:"root",factory:()=>T2}),T2="always";function b0(t,e,n=T2){Nw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function gye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Oz(t,e)})}(t,e),function _ye(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function mye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Oz(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function pye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function P2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Nw(t,e){const n=function Iz(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Cz(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function wz(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Cz(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();P2(e._rawValidators,i),P2(e._rawAsyncValidators,i)}function Oz(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Cye={provide:Pr,useExisting:At(()=>N2)},A0=(()=>Promise.resolve())();let N2=(()=>{var t;class e extends Pr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Qt,this.form=new Rw({},bw(r),Aw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){A0.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),b0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){A0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){A0.then(()=>{const i=this._findContainer(r.path),o=new Rw({});(function Fz(t,e){Nw(t,e)})(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){A0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){A0.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function Vz(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(X(_r,10),X(fa,10),X(Qu,8))},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Ut("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([Cye]),yt]}),e})();function Lz(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Bz(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Hz=class extends kz{constructor(e=null,n,r){super(Mw(n),Pw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),D2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Bz(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Bz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},bye={provide:ha,useExisting:At(()=>Vw)},jz=(()=>Promise.resolve())();let Vw=(()=>{var t;class e extends ha{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Hz,this._registered=!1,this.name="",this.update=new Qt,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function Fw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===C2?n=o:function Eye(t){return Object.getPrototypeOf(t.constructor)===Cc}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function Ow(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){b0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){jz.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&function Cl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);jz.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function S2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(X(Pr,9),X(_r,10),X(fa,10),X(bo,10),X(io,8),X(Qu,8))},t.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$t([bye]),yt,xr]}),e})(),$z=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),qz=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({}),e})(),Qye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({imports:[qz]}),e})(),Xye=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Qu,useValue:r.callSetDisabledState??T2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Ot({imports:[Qye]}),e})(),Zye=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(X(ar))},t.\u0275dir=Oe({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&Ut("keypress",function(s){return i.validateInput(s)})("paste",function(s){return i.validatePaste(s)})}}),e})(),Jye=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(X(ar))},t.\u0275dir=Oe({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&Ut("keypress",function(s){return i.validateInput(s)})("paste",function(s){return i.validatePaste(s)})}}),e})(),e4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"kickMemberFormatter",type:t,pure:!0}),e})(),t4e=(()=>{var t;class e{transform(r){return"/alliances/note/"+r+"/"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Nn({name:"updateNoteFormatter",type:t,pure:!0}),e})();function n4e(t,e){if(1&t&&(re(0,"span",9),Te(1),ue()),2&t){const n=jt().$implicit;me(1),Sa("Note: ",n.note,"")}}function r4e(t,e){if(1&t&&(re(0,"div",5)(1,"div",6)(2,"span",7),Te(3),ue(),tn(4,n4e,2,1,"span",8),ue()()),2&t){const n=e.$implicit;me(3),St(n.name),me(1),ke("ngIf",null!=n.note)}}const uU=function(){return["far","circle-xmark"]};function i4e(t,e){if(1&t){const n=Da();re(0,"div",28)(1,"form",29,30),Ut("ngSubmit",function(i){return Ai(n),Di(jt(4).onSubmitKickMember(i))}),ht(3,"input",31),Yt(4,"kickMemberFormatter"),re(5,"button",32),ht(6,"fa-icon",24),ue()()()}if(2&t){const n=jt().$implicit;me(3),Gd("name",lr(4,2,n.dgId)),me(3),ke("icon",yl(4,uU))}}function o4e(t,e){if(1&t&&(re(0,"span",33),Te(1),ue()),2&t){const n=jt().$implicit;me(1),Sa("[",n.kickEta,"]")}}function s4e(t,e){if(1&t&&(re(0,"span",9),Te(1),ue()),2&t){const n=jt().$implicit;me(1),Sa("Note: ",n.note,"")}}const dU=function(){return["far","circle-right"]};function a4e(t,e){if(1&t){const n=Da();re(0,"div",34)(1,"span",35),Te(2,"Note:"),ue(),re(3,"form",36,30),Ut("ngSubmit",function(i){return Ai(n),Di(jt(4).onSubmitUpdateNote(i))}),Yt(5,"updateNoteFormatter"),ht(6,"input",37),re(7,"button",32),ht(8,"fa-icon",24),ue()()()}if(2&t){const n=jt().$implicit;me(3),Gd("action",lr(5,3,n.dgId),J_),me(3),Gd("value",n.note),me(2),ke("icon",yl(5,dU))}}const c4e=function(t,e){return{executed:t,"in-progress":e}};function l4e(t,e){if(1&t){const n=Da();re(0,"div",38)(1,"div",16)(2,"span",35),Te(3,"Target:"),ue(),re(4,"span",39),Te(5),ue()(),re(6,"div",18)(7,"span",35),Te(8,"Wait:"),ue(),re(9,"span",39),Te(10),ue()(),re(11,"div",20)(12,"span",35),Te(13,"Instructions:"),ue(),re(14,"span",39),Te(15),ue()(),re(16,"div",40)(17,"button",23),Ut("click",function(){const o=Ai(n).$implicit;return Di(jt(4).deleteOrder(o.id))}),ht(18,"fa-icon",24),ue()()()}if(2&t){const n=e.$implicit;ke("ngClass",bS(5,c4e,n.executed,!n.executed)),me(5),St(n.target),me(5),St(n.wait),me(5),St(n.instructions),me(3),ke("icon",yl(8,uU))}}function u4e(t,e){if(1&t){const n=Da();re(0,"div",5)(1,"div",6)(2,"span",7),Te(3),ue(),tn(4,i4e,7,5,"div",12),tn(5,o4e,2,1,"span",13),tn(6,s4e,2,1,"span",8),tn(7,a4e,9,6,"div",14),ue(),re(8,"div",15)(9,"div",16)(10,"span",16),Te(11,"Target:"),ue(),re(12,"input",17),Ut("ngModelChange",function(i){const s=Ai(n).index;return Di(jt(3).controls.target[s]=i)}),ue()(),re(13,"div",18)(14,"span",18),Te(15,"Wait:"),ue(),re(16,"input",19),Ut("ngModelChange",function(i){const s=Ai(n).index;return Di(jt(3).controls.wait[s]=i)}),ue()(),re(17,"div",20)(18,"span",20),Te(19,"Instructions:"),ue(),re(20,"textarea",21),Ut("ngModelChange",function(i){const s=Ai(n).index;return Di(jt(3).controls.instructions[s]=i)}),ue()(),re(21,"div",22)(22,"button",23),Ut("click",function(){const o=Ai(n).index;return Di(jt(3).createOrder(o))}),ht(23,"fa-icon",24),ue()()(),re(24,"div",25)(25,"div",26),ht(26,"span",1),ue(),tn(27,l4e,19,9,"div",27),Yt(28,"async"),ue()()}if(2&t){const n=e.$implicit,r=e.index,i=jt(2).ngIf,o=jt();me(3),St(n.name),me(1),ke("ngIf",null==n.kickEta&&i===o.UserRole.ADMIN),me(1),ke("ngIf",null!=n.kickEta),me(1),ke("ngIf",null!=n.note&&n.note.length>0&&i===o.UserRole.TEAM_LEADER),me(1),ke("ngIf",i===o.UserRole.ADMIN),me(5),ke("ngModel",o.controls.target[r]),me(4),ke("ngModel",o.controls.wait[r]),me(4),ke("ngModel",o.controls.instructions[r]),me(3),ke("icon",yl(12,dU)),me(4),ke("ngForOf",lr(28,10,o.orders.get(n.name.toLowerCase())))}}function d4e(t,e){if(1&t&&(re(0,"div",11),tn(1,u4e,29,13,"div",3),ue()),2&t){const n=jt(2);me(1),ke("ngForOf",n.allianceMembers)}}function f4e(t,e){if(1&t&&(Ud(0),tn(1,d4e,2,1,"div",10),jd()),2&t){const n=e.ngIf,r=jt();me(1),ke("ngIf",n===r.UserRole.TEAM_LEADER||n===r.UserRole.ADMIN)}}let h4e=(()=>{var t;class e{constructor(r){this.UserRole=zh,this.orderService=Y(kB),this.dgAPI=Y(os),this.authService=Y(na),this.changeDetection=Y(io),this.localStorageService=Y(vo),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},r.addIcons(x2,Iw),this.allianceMembers=this.dgAPI.allianceMembers(!0),this.authService.authState.subscribe(i=>{document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("show"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("hide")),i.status&&(this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.role=new de(o=>{o.next(i.role),o.complete()}),(i.role===zh.ADMIN||i.role===zh.TEAM_LEADER)&&(this.dgAPI.cleanAlianceMembers(),0===this.orders.size&&(this.allianceMembers=this.dgAPI.allianceMembers(!0),this.allianceMembers.forEach(o=>{this.orders.set(o.name.toLowerCase(),new de(s=>{this.orderService.getAllOrders(o.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,s)}))})))),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("hide"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("show"))}),this.authService.checkLoginValidity()}createOrder(r){let i=new Gme;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(vn.ALLIANCE_MEMBERS),r.target.submit()}onSubmitUpdateNote(r){this.localStorageService.remove(vn.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(X(mw))},t.\u0275cmp=vr({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:6,vars:4,consts:[[1,"dgt-spinner-container","main"],[1,"dgt-spinner"],[1,"dgt-orders-manager-panel","user"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"dgt-orders-manager-member"],[1,"player"],[1,"name"],["class","note",4,"ngIf"],[1,"note"],["class","dgt-orders-manager-panel admin",4,"ngIf"],[1,"dgt-orders-manager-panel","admin"],["class","dgt-orders-manager-kick",4,"ngIf"],["class","kick-eta",4,"ngIf"],["class","note-update",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[3,"icon"],[1,"dgt-orders-history"],[1,"dgt-spinner-container","member"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[1,"kick-eta"],[1,"note-update"],[1,"label"],["method","post",3,"action","ngSubmit"],["type","text","name","note","placeholder","Player Note",3,"value"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"value"],[1,"delete"]],template:function(r,i){1&r&&(re(0,"div",0),ht(1,"span",1),ue(),re(2,"div",2),tn(3,r4e,5,2,"div",3),ue(),tn(4,f4e,2,1,"ng-container",4),Yt(5,"async")),2&r&&(me(3),ke("ngForOf",i.allianceMembers),me(1),ke("ngIf",lr(5,2,i.role)))},dependencies:[Uy,Ig,bs,$z,C2,Sz,Mz,Vw,N2,PB,Zye,Jye,wl,e4e,t4e],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:28px;font-size:12px;background:rgba(0,0,0,.4);color:#fff;border:none!important;text-align:left;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:5px;width:370px}span.target[_ngcontent-%COMP%], span.wait[_ngcontent-%COMP%], span.instructions[_ngcontent-%COMP%]{float:left;line-height:26px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-left:5px;margin-right:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:#ffd46f;float:left}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400!important;float:right}.dgt-orders-manager-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid transparent;width:calc(100% - 12px);border-radius:5px;padding:3px 5px;margin-top:5px}.dgt-orders-history-details[_ngcontent-%COMP%]:nth-child(2){margin-top:10px!important}.dgt-orders-history-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:22px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#ffffffad;margin-right:20px}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{background:#7BBD1A3D}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{background:#FF3B303B}.dgt-orders-history[_ngcontent-%COMP%]{width:calc(100% - 10px)!important;margin-left:5px;margin-right:5px;position:relative}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px;margin-left:2px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px}.create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:20px!important;line-height:22px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.note-update[_ngcontent-%COMP%]{float:right!important}.note-update[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{float:left;font-weight:400;line-height:22px;margin-right:5px}.note-update[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{float:left}.note-update[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:22px;margin-right:5px;border-radius:4px}span.note[_ngcontent-%COMP%]{line-height:20px}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.name[_ngcontent-%COMP%]{color:#ffffffad!important;font-weight:400!important;width:35%!important;font-size:1em!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.note[_ngcontent-%COMP%]{line-height:16px!important;width:65%;text-align:left;font-size:1em!important}.dgt-spinner-container.member[_ngcontent-%COMP%]{position:relative;margin-top:5px}.dgt-spinner-container.member[_ngcontent-%COMP%]   .dgt-spinner[_ngcontent-%COMP%]{top:10px!important}"]}),e})(),p4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[h4e]}),t.\u0275inj=Ot({providers:[kB],imports:[Oi,Xye,_w,Ms(()=>Rs(mr_firebase)),Ua(()=>ja()),Js(()=>ea()),oa(()=>sa(Ps(),{provider:new Io(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),fU=(()=>{var t;class e{constructor(){this.firestore=Y(mo)}getActiveOrders(r,i,o,s){let a=_o(this.firestore,"orders");bu(Au(a,ta("user","==",r),ta("executed","==",!1),Im("executed","asc"),Im("wait","asc")),{idField:"id"}).forEach(c=>{let l=Object.assign([],c);l.forEach(u=>{u.wait-=i-u.turn}),s.next(l),o.detectChanges()}).catch(c=>{console.log(c)})}completeOrder(r){let i=_o(this.firestore,"orders");aF(Cm(i,r),{executed:!0}).catch(o=>{console.log(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const g4e=function(){return["far","circle-check"]};function m4e(t,e){if(1&t){const n=Da();re(0,"div",6)(1,"div",7)(2,"span",8),Te(3,"From:"),ue(),re(4,"span",9),Te(5),ue()(),re(6,"div",10)(7,"span",8),Te(8,"Target:"),ue(),re(9,"span",9),Te(10),ue()(),re(11,"div",11)(12,"span",8),Te(13,"Wait:"),ue(),re(14,"span",9),Te(15),ue()(),re(16,"div",12)(17,"span",8),Te(18,"Instructions:"),ue(),re(19,"span",9),Te(20),ue()(),re(21,"div",13)(22,"button",14),Ut("click",function(){const o=Ai(n).$implicit;return Di(jt(3).onCompleteClick(o.id))}),ht(23,"fa-icon",15),ue()()()}if(2&t){const n=e.$implicit;me(5),St(n.from),me(5),St(n.target),me(5),St(n.wait),me(5),St(n.instructions),me(3),ke("icon",yl(5,g4e))}}function _4e(t,e){if(1&t&&(re(0,"div",4),tn(1,m4e,24,6,"div",5),Yt(2,"async"),ue()),2&t){const n=jt(2);me(1),ke("ngForOf",lr(2,1,n.orders))}}function v4e(t,e){if(1&t&&(Ud(0),tn(1,_4e,3,3,"div",3),Yt(2,"async"),jd()),2&t){const n=jt();let r;me(1),ke("ngIf",(null==(r=lr(2,1,n.orders))?null:r.length)>0)}}let y4e=(()=>{var t;class e{constructor(r){this.orderService=Y(fU),this.dgAPI=Y(os),this.changeDetection=Y(io),this.authService=Y(na),this.active=!1,r.addIcons(Ew),this.authService.authState.subscribe(i=>{document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("show"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("hide")),this.active=i.status,i.status&&(this.orders=new de(o=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,o)})),this.changeDetection.detectChanges(),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("show"))})}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(X(mw))},t.\u0275cmp=vr({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-fleet-order-container",4,"ngIf"],[1,"dgt-fleet-order-container"],["class","dgt-fleet-order",4,"ngFor","ngForOf"],[1,"dgt-fleet-order"],[1,"from"],[1,"label"],[1,"value"],[1,"target"],[1,"wait"],[1,"instructions"],[1,"complete"],[3,"click"],[3,"icon"]],template:function(r,i){1&r&&(re(0,"div",0),ht(1,"span",1),ue(),tn(2,v4e,3,3,"ng-container",2)),2&r&&(me(2),ke("ngIf",i.active))},dependencies:[Ig,bs,PB,wl],styles:[".dgt-fleet-order-container[_ngcontent-%COMP%]{margin:5px 5px 0!important;background:rgb(75,75,75);padding:7px;border-radius:5px;border:1px solid #5e5e5e}.dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#784946;border:none;width:calc(100% - 10px);border-radius:5px;height:22px;line-height:22px;padding:5px;margin-bottom:5px}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;color:#dcdcdc;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#dcdcdc}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:145px}.dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:85px}.dgt-fleet-order[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{float:right;margin-right:2px}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{margin-left:2px;min-width:150px}.dgt-spinner-container[_ngcontent-%COMP%]{border:1px solid #5e5e5e;margin:5px 5px 0!important;width:calc(100% - 12px)!important;height:calc(100% - 12px)!important;position:relative}"]}),e})(),E4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[y4e]}),t.\u0275inj=Ot({providers:[fU],imports:[Oi,_w,Ms(()=>Rs(mr_firebase)),Ua(()=>ja()),Js(()=>ea()),oa(()=>sa(Ps(),{provider:new Io(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),x4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),C4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[x4e]}),t.\u0275inj=Ot({imports:[Oi]}),e})(),I4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),w4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[I4e]}),t.\u0275inj=Ot({providers:[lL,mI],imports:[Oi,Ms(()=>Rs(mr_firebase)),Ua(()=>ja()),uL(()=>sL()),oa(()=>sa(Ps(),{provider:new Io(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),Js(()=>ea())]}),e})(),hU=(()=>{var t;class e{constructor(){this.firestore=Y(mo),this.localStorageService=Y(vo)}checkVersion(r,i){let o=_o(this.firestore,"config");ade(Cm(o,"version")).forEach(s=>{let a=Object.assign({value:""},s).value;this.localStorageService.getVersion()!==a?(this.localStorageService.cache(vn.UPDATE_AVAILABLE,!0),i.next(!0)):(this.localStorageService.cache(vn.UPDATE_AVAILABLE,!1),i.next(!1)),i.complete(),r.detectChanges(),document.querySelector("dgt-changelog .dgt-spinner-container")&&(document.querySelector("dgt-changelog .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-changelog .dgt-spinner-container").classList.remove("show"))}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=De({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function b4e(t,e){1&t&&(re(0,"div",6)(1,"span"),Te(2,"There is a new update for DarkGalaxy Toolbox. "),re(3,"a",7),Te(4,"Click here"),ue(),Te(5," to install it."),ue()())}let A4e=(()=>{var t;class e{constructor(){this.changeLogService=Y(hU),this.changeDetection=Y(io),this.localStorageService=Y(vo),this.changed=new de(r=>{this.changeLogService.checkVersion(this.changeDetection,r)}),this.version=this.localStorageService.getVersion()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-changelog"]],decls:25,vars:4,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container"],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-important"],["id","dgt-update"],["target","_blank","href","https://github.com/vberezan/dg-toolbox/raw/main/tampermonkey/dg-toolbox.user.js"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"h2"),Te(2,"DarkGalaxy Tools "),re(3,"span"),Te(4),ue()(),re(5,"div",1),ht(6,"span",2),ue(),tn(7,b4e,6,0,"div",3),Yt(8,"async"),re(9,"div",4)(10,"div")(11,"span"),Te(12,"Changelog:"),ue()(),re(13,"ul")(14,"li"),Te(15,"fix - scan screen"),ue()()(),re(16,"div",5)(17,"div")(18,"span"),Te(19,"Important:"),ue()(),re(20,"ul")(21,"li")(22,"b"),Te(23,"disable browser ads-blocking plugins on game domain"),ue(),Te(24," - some of them are interfering with Firebase communication"),ue()()()()),2&r&&(me(4),St(i.version),me(3),ke("ngIf",lr(8,2,i.changed)))},dependencies:[bs,wl],styles:["#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border:1px solid #5e5e5e;border-radius:5px;background:rgb(75,75,75)}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin-top:0;font-size:18px;font-weight:700;border-bottom:1px solid #5e5e5e;margin-bottom:6px;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{background:#576740;margin:5px;border-radius:3px;padding:5px 10px!important;color:#ffffffad}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#784946;border-radius:3px;display:block;margin:0 5px;color:#ffffffad}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}"]}),e})(),D4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[A4e]}),t.\u0275inj=Ot({providers:[hU],imports:[Oi,Ms(()=>Rs(mr_firebase)),Js(()=>ea()),oa(()=>sa(Ps(),{provider:new Io(mr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),T4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=vr({type:t,selectors:[["dgt-admin-load-data-panel"]],decls:11,vars:0,consts:[[1,"opacBackground","lightBorder","noPadding","seperatorLarge"],[1,"opacDarkBackground","padding"],[1,"noPadding","ofHidden"],[2,"padding","3px","font-weight","bold"],["href","#"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1)(2,"b"),Te(3,"DGT Admin Panel"),ue()(),re(4,"div",2)(5,"div",3)(6,"a",4),Te(7,"Load Planets"),ue()(),re(8,"div",3)(9,"a",4),Te(10,"Load Rankings"),ue()()()())}}),e})(),S4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[T4e]}),t.\u0275inj=Ot({imports:[Oi]}),e})();const ji=Bee();let oi=window.location.pathname.split(/\//g);ji.bootstrapModule(w4e).catch(t=>console.error(t)),ji.bootstrapModule(C4e).catch(t=>console.error(t)),ji.bootstrapModule($me).catch(t=>console.error(t)),ji.bootstrapModule(Lge).catch(t=>console.error(t)),2===oi.length&&0===oi[1].trim().length&&(ji.bootstrapModule(D4e).catch(t=>console.error(t)),ji.bootstrapModule(S4e).catch(t=>console.error(t))),"planets"===oi[1]&&ji.bootstrapModule(Ome).catch(t=>console.error(t)),"planet"===oi[1]&&"comms"===(5===oi.length&&oi[3])&&ji.bootstrapModule(Lme).catch(t=>console.error(t)),"navigation"===oi[1]&&6===oi.length&&!isNaN(+oi[2])&&!isNaN(+oi[3])&&!isNaN(+oi[4])&&ji.bootstrapModule(zme).catch(t=>console.error(t)),"alliances"===oi[1]&&ji.bootstrapModule(p4e).catch(t=>console.error(t)),"fleets"===oi[1]&&ji.bootstrapModule(E4e).catch(t=>console.error(t))},42:function(ye,xe,V){var S;ye.exports=(S=V(12),V(506),V(873),V(66),V(270),function(){var C=S,z=C.lib.BlockCipher,W=C.algo,k=[],G=[],m=[],I=[],M=[],v=[],D=[],y=[],T=[],b=[];!function(){for(var g=[],x=0;x<256;x++)g[x]=x<128?x<<1:x<<1^283;var L=0,O=0;for(x=0;x<256;x++){var H=O^O<<1^O<<2^O<<3^O<<4;k[L]=H=H>>>8^255&H^99,G[H]=L;var fe,U=g[L],le=g[U],ae=g[le];m[L]=(fe=257*g[H]^16843008*H)<<24|fe>>>8,I[L]=fe<<16|fe>>>16,M[L]=fe<<8|fe>>>24,v[L]=fe,D[H]=(fe=16843009*ae^65537*le^257*U^16843008*L)<<24|fe>>>8,y[H]=fe<<16|fe>>>16,T[H]=fe<<8|fe>>>24,b[H]=fe,L?(L=U^g[g[g[ae^U]]],O^=g[g[O]]):L=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],N=W.AES=z.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var x=this._keyPriorReset=this._key,L=x.words,O=x.sigBytes/4,U=4*((this._nRounds=O+6)+1),le=this._keySchedule=[],ae=0;ae<U;ae++)ae<O?le[ae]=L[ae]:(g=le[ae-1],ae%O?O>6&&ae%O==4&&(g=k[g>>>24]<<24|k[g>>>16&255]<<16|k[g>>>8&255]<<8|k[255&g]):(g=k[(g=g<<8|g>>>24)>>>24]<<24|k[g>>>16&255]<<16|k[g>>>8&255]<<8|k[255&g],g^=F[ae/O|0]<<24),le[ae]=le[ae-O]^g);for(var fe=this._invKeySchedule=[],Ie=0;Ie<U;Ie++){if(ae=U-Ie,Ie%4)var g=le[ae];else g=le[ae-4];fe[Ie]=Ie<4||ae<=4?g:D[k[g>>>24]]^y[k[g>>>16&255]]^T[k[g>>>8&255]]^b[k[255&g]]}}},encryptBlock:function(g,x){this._doCryptBlock(g,x,this._keySchedule,m,I,M,v,k)},decryptBlock:function(g,x){var L=g[x+1];g[x+1]=g[x+3],g[x+3]=L,this._doCryptBlock(g,x,this._invKeySchedule,D,y,T,b,G),L=g[x+1],g[x+1]=g[x+3],g[x+3]=L},_doCryptBlock:function(g,x,L,O,H,U,le,ae){for(var fe=this._nRounds,Ie=g[x]^L[0],q=g[x+1]^L[1],ce=g[x+2]^L[2],ve=g[x+3]^L[3],se=4,Fe=1;Fe<fe;Fe++){var de=O[Ie>>>24]^H[q>>>16&255]^U[ce>>>8&255]^le[255&ve]^L[se++],We=O[q>>>24]^H[ce>>>16&255]^U[ve>>>8&255]^le[255&Ie]^L[se++],et=O[ce>>>24]^H[ve>>>16&255]^U[Ie>>>8&255]^le[255&q]^L[se++],K=O[ve>>>24]^H[Ie>>>16&255]^U[q>>>8&255]^le[255&ce]^L[se++];Ie=de,q=We,ce=et,ve=K}de=(ae[Ie>>>24]<<24|ae[q>>>16&255]<<16|ae[ce>>>8&255]<<8|ae[255&ve])^L[se++],We=(ae[q>>>24]<<24|ae[ce>>>16&255]<<16|ae[ve>>>8&255]<<8|ae[255&Ie])^L[se++],et=(ae[ce>>>24]<<24|ae[ve>>>16&255]<<16|ae[Ie>>>8&255]<<8|ae[255&q])^L[se++],K=(ae[ve>>>24]<<24|ae[Ie>>>16&255]<<16|ae[q>>>8&255]<<8|ae[255&ce])^L[se++],g[x]=de,g[x+1]=We,g[x+2]=et,g[x+3]=K},keySize:8});C.AES=z._createHelper(N)}(),S.AES)},172:function(ye,xe,V){var S;ye.exports=(S=V(12),V(506),V(873),V(66),V(270),function(){var C=S,z=C.lib.BlockCipher;const k=16,G=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],m=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var I={pbox:[],sbox:[]};function M(b,F){let O=b.sbox[0][F>>24&255]+b.sbox[1][F>>16&255];return O^=b.sbox[2][F>>8&255],O+=b.sbox[3][255&F],O}function v(b,F,N){let L,g=F,x=N;for(let O=0;O<k;++O)g^=b.pbox[O],x=M(b,g)^x,L=g,g=x,x=L;return L=g,g=x,x=L,x^=b.pbox[k],g^=b.pbox[k+1],{left:g,right:x}}var T=C.algo.Blowfish=z.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var b=this._keyPriorReset=this._key;!function y(b,F,N){for(let H=0;H<4;H++){b.sbox[H]=[];for(let U=0;U<256;U++)b.sbox[H][U]=m[H][U]}let g=0;for(let H=0;H<k+2;H++)b.pbox[H]=G[H]^F[g],g++,g>=N&&(g=0);let x=0,L=0,O=0;for(let H=0;H<k+2;H+=2)O=v(b,x,L),x=O.left,L=O.right,b.pbox[H]=x,b.pbox[H+1]=L;for(let H=0;H<4;H++)for(let U=0;U<256;U+=2)O=v(b,x,L),x=O.left,L=O.right,b.sbox[H][U]=x,b.sbox[H][U+1]=L;return!0}(I,b.words,b.sigBytes/4)}},encryptBlock:function(b,F){var N=v(I,b[F],b[F+1]);b[F]=N.left,b[F+1]=N.right},decryptBlock:function(b,F){var N=function D(b,F,N){let L,g=F,x=N;for(let O=k+1;O>1;--O)g^=b.pbox[O],x=M(b,g)^x,L=g,g=x,x=L;return L=g,g=x,x=L,x^=b.pbox[1],g^=b.pbox[0],{left:g,right:x}}(I,b[F],b[F+1]);b[F]=N.left,b[F+1]=N.right},blockSize:2,keySize:4,ivSize:2});C.Blowfish=z._createHelper(T)}(),S.Blowfish)},270:function(ye,xe,V){var j,z,W,k,G,m,M,D,y,b,F,N,x,O,U,le,fe,Ie,S;ye.exports=(S=V(12),V(66),void(S.lib.Cipher||(j=S,z=j.lib,W=z.Base,k=z.WordArray,G=z.BufferedBlockAlgorithm,m=j.enc,M=m.Base64,D=j.algo.EvpKDF,y=z.Cipher=G.extend({cfg:W.extend(),createEncryptor:function(q,ce){return this.create(this._ENC_XFORM_MODE,q,ce)},createDecryptor:function(q,ce){return this.create(this._DEC_XFORM_MODE,q,ce)},init:function(q,ce,ve){this.cfg=this.cfg.extend(ve),this._xformMode=q,this._key=ce,this.reset()},reset:function(){G.reset.call(this),this._doReset()},process:function(q){return this._append(q),this._process()},finalize:function(q){return q&&this._append(q),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function q(ce){return"string"==typeof ce?Ie:le}return function(ce){return{encrypt:function(ve,se,Fe){return q(se).encrypt(ce,ve,se,Fe)},decrypt:function(ve,se,Fe){return q(se).decrypt(ce,ve,se,Fe)}}}}()}),z.StreamCipher=y.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),b=j.mode={},F=z.BlockCipherMode=W.extend({createEncryptor:function(q,ce){return this.Encryptor.create(q,ce)},createDecryptor:function(q,ce){return this.Decryptor.create(q,ce)},init:function(q,ce){this._cipher=q,this._iv=ce}}),N=b.CBC=function(){var q=F.extend();function ce(ve,se,Fe){var de,We=this._iv;We?(de=We,this._iv=undefined):de=this._prevBlock;for(var et=0;et<Fe;et++)ve[se+et]^=de[et]}return q.Encryptor=q.extend({processBlock:function(ve,se){var Fe=this._cipher,de=Fe.blockSize;ce.call(this,ve,se,de),Fe.encryptBlock(ve,se),this._prevBlock=ve.slice(se,se+de)}}),q.Decryptor=q.extend({processBlock:function(ve,se){var Fe=this._cipher,de=Fe.blockSize,We=ve.slice(se,se+de);Fe.decryptBlock(ve,se),ce.call(this,ve,se,de),this._prevBlock=We}}),q}(),x=(j.pad={}).Pkcs7={pad:function(q,ce){for(var ve=4*ce,se=ve-q.sigBytes%ve,Fe=se<<24|se<<16|se<<8|se,de=[],We=0;We<se;We+=4)de.push(Fe);var et=k.create(de,se);q.concat(et)},unpad:function(q){q.sigBytes-=255&q.words[q.sigBytes-1>>>2]}},z.BlockCipher=y.extend({cfg:y.cfg.extend({mode:N,padding:x}),reset:function(){var q;y.reset.call(this);var ce=this.cfg,ve=ce.iv,se=ce.mode;this._xformMode==this._ENC_XFORM_MODE?q=se.createEncryptor:(q=se.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==q?this._mode.init(this,ve&&ve.words):(this._mode=q.call(se,this,ve&&ve.words),this._mode.__creator=q)},_doProcessBlock:function(q,ce){this._mode.processBlock(q,ce)},_doFinalize:function(){var q,ce=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ce.pad(this._data,this.blockSize),q=this._process(!0)):(q=this._process(!0),ce.unpad(q)),q},blockSize:4}),O=z.CipherParams=W.extend({init:function(q){this.mixIn(q)},toString:function(q){return(q||this.formatter).stringify(this)}}),U=(j.format={}).OpenSSL={stringify:function(q){var ve=q.ciphertext,se=q.salt;return(se?k.create([1398893684,1701076831]).concat(se).concat(ve):ve).toString(M)},parse:function(q){var ce,ve=M.parse(q),se=ve.words;return 1398893684==se[0]&&1701076831==se[1]&&(ce=k.create(se.slice(2,4)),se.splice(0,4),ve.sigBytes-=16),O.create({ciphertext:ve,salt:ce})}},le=z.SerializableCipher=W.extend({cfg:W.extend({format:U}),encrypt:function(q,ce,ve,se){se=this.cfg.extend(se);var Fe=q.createEncryptor(ve,se),de=Fe.finalize(ce),We=Fe.cfg;return O.create({ciphertext:de,key:ve,iv:We.iv,algorithm:q,mode:We.mode,padding:We.padding,blockSize:q.blockSize,formatter:se.format})},decrypt:function(q,ce,ve,se){return se=this.cfg.extend(se),ce=this._parse(ce,se.format),q.createDecryptor(ve,se).finalize(ce.ciphertext)},_parse:function(q,ce){return"string"==typeof q?ce.parse(q,this):q}}),fe=(j.kdf={}).OpenSSL={execute:function(q,ce,ve,se,Fe){if(se||(se=k.random(8)),Fe)var de=D.create({keySize:ce+ve,hasher:Fe}).compute(q,se);else de=D.create({keySize:ce+ve}).compute(q,se);var We=k.create(de.words.slice(ce),4*ve);return de.sigBytes=4*ce,O.create({key:de,iv:We,salt:se})}},Ie=z.PasswordBasedCipher=le.extend({cfg:le.cfg.extend({kdf:fe}),encrypt:function(q,ce,ve,se){var Fe=(se=this.cfg.extend(se)).kdf.execute(ve,q.keySize,q.ivSize,se.salt,se.hasher);se.iv=Fe.iv;var de=le.encrypt.call(this,q,ce,Fe.key,se);return de.mixIn(Fe),de},decrypt:function(q,ce,ve,se){se=this.cfg.extend(se),ce=this._parse(ce,se.format);var Fe=se.kdf.execute(ve,q.keySize,q.ivSize,ce.salt,se.hasher);return se.iv=Fe.iv,le.decrypt.call(this,q,ce,Fe.key,se)}}))))},12:function(ye,xe,V){var S;ye.exports=(S=S||function(C,j){var z;if(typeof window<"u"&&window.crypto&&(z=window.crypto),typeof self<"u"&&self.crypto&&(z=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(z=globalThis.crypto),!z&&typeof window<"u"&&window.msCrypto&&(z=window.msCrypto),!z&&typeof global<"u"&&global.crypto&&(z=global.crypto),!z)try{z=V(480)}catch{}var W=function(){if(z){if("function"==typeof z.getRandomValues)try{return z.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof z.randomBytes)try{return z.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},k=Object.create||function(){function g(){}return function(x){var L;return g.prototype=x,L=new g,g.prototype=null,L}}(),G={},m=G.lib={},I=m.Base={extend:function(g){var x=k(this);return g&&x.mixIn(g),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var x in g)g.hasOwnProperty(x)&&(this[x]=g[x]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}},M=m.WordArray=I.extend({init:function(g,x){g=this.words=g||[],this.sigBytes=null!=x?x:4*g.length},toString:function(g){return(g||D).stringify(this)},concat:function(g){var x=this.words,L=g.words,O=this.sigBytes,H=g.sigBytes;if(this.clamp(),O%4)for(var U=0;U<H;U++)x[O+U>>>2]|=(L[U>>>2]>>>24-U%4*8&255)<<24-(O+U)%4*8;else for(var ae=0;ae<H;ae+=4)x[O+ae>>>2]=L[ae>>>2];return this.sigBytes+=H,this},clamp:function(){var g=this.words,x=this.sigBytes;g[x>>>2]&=4294967295<<32-x%4*8,g.length=C.ceil(x/4)},clone:function(){var g=I.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var x=[],L=0;L<g;L+=4)x.push(W());return new M.init(x,g)}}),v=G.enc={},D=v.Hex={stringify:function(g){for(var x=g.words,L=g.sigBytes,O=[],H=0;H<L;H++){var U=x[H>>>2]>>>24-H%4*8&255;O.push((U>>>4).toString(16)),O.push((15&U).toString(16))}return O.join("")},parse:function(g){for(var x=g.length,L=[],O=0;O<x;O+=2)L[O>>>3]|=parseInt(g.substr(O,2),16)<<24-O%8*4;return new M.init(L,x/2)}},y=v.Latin1={stringify:function(g){for(var x=g.words,L=g.sigBytes,O=[],H=0;H<L;H++)O.push(String.fromCharCode(x[H>>>2]>>>24-H%4*8&255));return O.join("")},parse:function(g){for(var x=g.length,L=[],O=0;O<x;O++)L[O>>>2]|=(255&g.charCodeAt(O))<<24-O%4*8;return new M.init(L,x)}},T=v.Utf8={stringify:function(g){try{return decodeURIComponent(escape(y.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return y.parse(unescape(encodeURIComponent(g)))}},b=m.BufferedBlockAlgorithm=I.extend({reset:function(){this._data=new M.init,this._nDataBytes=0},_append:function(g){"string"==typeof g&&(g=T.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var x,L=this._data,O=L.words,H=L.sigBytes,U=this.blockSize,ae=H/(4*U),fe=(ae=g?C.ceil(ae):C.max((0|ae)-this._minBufferSize,0))*U,Ie=C.min(4*fe,H);if(fe){for(var q=0;q<fe;q+=U)this._doProcessBlock(O,q);x=O.splice(0,fe),L.sigBytes-=Ie}return new M.init(x,Ie)},clone:function(){var g=I.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0}),N=(m.Hasher=b.extend({cfg:I.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){return g&&this._append(g),this._doFinalize()},blockSize:16,_createHelper:function(g){return function(x,L){return new g.init(L).finalize(x)}},_createHmacHelper:function(g){return function(x,L){return new N.HMAC.init(g,L).finalize(x)}}}),G.algo={});return G}(Math),S)},506:function(ye,xe,V){var S,z;ye.exports=(S=V(12),z=S.lib.WordArray,S.enc.Base64={stringify:function(m){var I=m.words,M=m.sigBytes,v=this._map;m.clamp();for(var D=[],y=0;y<M;y+=3)for(var N=(I[y>>>2]>>>24-y%4*8&255)<<16|(I[y+1>>>2]>>>24-(y+1)%4*8&255)<<8|I[y+2>>>2]>>>24-(y+2)%4*8&255,g=0;g<4&&y+.75*g<M;g++)D.push(v.charAt(N>>>6*(3-g)&63));var x=v.charAt(64);if(x)for(;D.length%4;)D.push(x);return D.join("")},parse:function(m){var I=m.length,M=this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var D=0;D<M.length;D++)v[M.charCodeAt(D)]=D}var y=M.charAt(64);if(y){var T=m.indexOf(y);-1!==T&&(I=T)}return function G(m,I,M){for(var v=[],D=0,y=0;y<I;y++)if(y%4){var T=M[m.charCodeAt(y-1)]<<y%4*2,b=M[m.charCodeAt(y)]>>>6-y%4*2;v[D>>>2]|=(T|b)<<24-D%4*8,D++}return z.create(v,D)}(m,I,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},S.enc.Base64)},523:function(ye,xe,V){var S,z;ye.exports=(S=V(12),z=S.lib.WordArray,S.enc.Base64url={stringify:function(m,I){void 0===I&&(I=!0);var M=m.words,v=m.sigBytes,D=I?this._safe_map:this._map;m.clamp();for(var y=[],T=0;T<v;T+=3)for(var g=(M[T>>>2]>>>24-T%4*8&255)<<16|(M[T+1>>>2]>>>24-(T+1)%4*8&255)<<8|M[T+2>>>2]>>>24-(T+2)%4*8&255,x=0;x<4&&T+.75*x<v;x++)y.push(D.charAt(g>>>6*(3-x)&63));var L=D.charAt(64);if(L)for(;y.length%4;)y.push(L);return y.join("")},parse:function(m,I){void 0===I&&(I=!0);var M=m.length,v=I?this._safe_map:this._map,D=this._reverseMap;if(!D){D=this._reverseMap=[];for(var y=0;y<v.length;y++)D[v.charCodeAt(y)]=y}var T=v.charAt(64);if(T){var b=m.indexOf(T);-1!==b&&(M=b)}return function G(m,I,M){for(var v=[],D=0,y=0;y<I;y++)if(y%4){var T=M[m.charCodeAt(y-1)]<<y%4*2,b=M[m.charCodeAt(y)]>>>6-y%4*2;v[D>>>2]|=(T|b)<<24-D%4*8,D++}return z.create(v,D)}(m,M,D)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},S.enc.Base64url)},454:function(ye,xe,V){var S;ye.exports=(S=V(12),function(){var z=S.lib.WordArray,W=S.enc;function G(m){return m<<8&4278255360|m>>>8&16711935}W.Utf16=W.Utf16BE={stringify:function(m){for(var I=m.words,M=m.sigBytes,v=[],D=0;D<M;D+=2)v.push(String.fromCharCode(I[D>>>2]>>>16-D%4*8&65535));return v.join("")},parse:function(m){for(var I=m.length,M=[],v=0;v<I;v++)M[v>>>1]|=m.charCodeAt(v)<<16-v%2*16;return z.create(M,2*I)}},W.Utf16LE={stringify:function(m){for(var I=m.words,M=m.sigBytes,v=[],D=0;D<M;D+=2){var y=G(I[D>>>2]>>>16-D%4*8&65535);v.push(String.fromCharCode(y))}return v.join("")},parse:function(m){for(var I=m.length,M=[],v=0;v<I;v++)M[v>>>1]|=G(m.charCodeAt(v)<<16-v%2*16);return z.create(M,2*I)}}}(),S.enc.Utf16)},66:function(ye,xe,V){var C,j,z,W,k,m,S;ye.exports=(S=V(12),V(446),V(990),W=(j=(C=S).lib).WordArray,m=(k=C.algo).EvpKDF=(z=j.Base).extend({cfg:z.extend({keySize:4,hasher:k.MD5,iterations:1}),init:function(I){this.cfg=this.cfg.extend(I)},compute:function(I,M){for(var v,D=this.cfg,y=D.hasher.create(),T=W.create(),b=T.words,F=D.keySize,N=D.iterations;b.length<F;){v&&y.update(v),v=y.update(I).finalize(M),y.reset();for(var g=1;g<N;g++)v=y.finalize(v),y.reset();T.concat(v)}return T.sigBytes=4*F,T}}),C.EvpKDF=function(I,M,v){return m.create(v).compute(I,M)},S.EvpKDF)},826:function(ye,xe,V){var S,W,G;ye.exports=(S=V(12),V(270),W=S.lib.CipherParams,G=S.enc.Hex,S.format.Hex={stringify:function(M){return M.ciphertext.toString(G)},parse:function(M){var v=G.parse(M);return W.create({ciphertext:v})}},S.format.Hex)},990:function(ye,xe,V){var S,k;ye.exports=(S=V(12),k=S.enc.Utf8,void(S.algo.HMAC=S.lib.Base.extend({init:function(I,M){I=this._hasher=new I.init,"string"==typeof M&&(M=k.parse(M));var v=I.blockSize,D=4*v;M.sigBytes>D&&(M=I.finalize(M)),M.clamp();for(var y=this._oKey=M.clone(),T=this._iKey=M.clone(),b=y.words,F=T.words,N=0;N<v;N++)b[N]^=1549556828,F[N]^=909522486;y.sigBytes=T.sigBytes=D,this.reset()},reset:function(){var I=this._hasher;I.reset(),I.update(this._iKey)},update:function(I){return this._hasher.update(I),this},finalize:function(I){var M=this._hasher,v=M.finalize(I);return M.reset(),M.finalize(this._oKey.clone().concat(v))}})))},874:function(ye,xe,V){var S;ye.exports=(S=V(12),V(802),V(37),V(454),V(506),V(523),V(873),V(446),V(78),V(811),V(870),V(913),V(545),V(558),V(990),V(538),V(66),V(270),V(228),V(392),V(584),V(15),V(594),V(237),V(501),V(4),V(297),V(738),V(826),V(42),V(769),V(195),V(969),V(848),V(172),S)},37:function(ye,xe,V){var S;ye.exports=(S=V(12),function(){if("function"==typeof ArrayBuffer){var z=S.lib.WordArray,W=z.init,k=z.init=function(G){if(G instanceof ArrayBuffer&&(G=new Uint8Array(G)),(G instanceof Int8Array||typeof Uint8ClampedArray<"u"&&G instanceof Uint8ClampedArray||G instanceof Int16Array||G instanceof Uint16Array||G instanceof Int32Array||G instanceof Uint32Array||G instanceof Float32Array||G instanceof Float64Array)&&(G=new Uint8Array(G.buffer,G.byteOffset,G.byteLength)),G instanceof Uint8Array){for(var m=G.byteLength,I=[],M=0;M<m;M++)I[M>>>2]|=G[M]<<24-M%4*8;W.call(this,I,m)}else W.apply(this,arguments)};k.prototype=z}}(),S.lib.WordArray)},873:function(ye,xe,V){var S;ye.exports=(S=V(12),function(C){var j=S,z=j.lib,W=z.WordArray,k=z.Hasher,G=j.algo,m=[];!function(){for(var T=0;T<64;T++)m[T]=4294967296*C.abs(C.sin(T+1))|0}();var I=G.MD5=k.extend({_doReset:function(){this._hash=new W.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(T,b){for(var F=0;F<16;F++){var N=b+F,g=T[N];T[N]=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8)}var x=this._hash.words,L=T[b+0],O=T[b+1],H=T[b+2],U=T[b+3],le=T[b+4],ae=T[b+5],fe=T[b+6],Ie=T[b+7],q=T[b+8],ce=T[b+9],ve=T[b+10],se=T[b+11],Fe=T[b+12],de=T[b+13],We=T[b+14],et=T[b+15],K=x[0],oe=x[1],Z=x[2],ne=x[3];K=M(K,oe,Z,ne,L,7,m[0]),ne=M(ne,K,oe,Z,O,12,m[1]),Z=M(Z,ne,K,oe,H,17,m[2]),oe=M(oe,Z,ne,K,U,22,m[3]),K=M(K,oe,Z,ne,le,7,m[4]),ne=M(ne,K,oe,Z,ae,12,m[5]),Z=M(Z,ne,K,oe,fe,17,m[6]),oe=M(oe,Z,ne,K,Ie,22,m[7]),K=M(K,oe,Z,ne,q,7,m[8]),ne=M(ne,K,oe,Z,ce,12,m[9]),Z=M(Z,ne,K,oe,ve,17,m[10]),oe=M(oe,Z,ne,K,se,22,m[11]),K=M(K,oe,Z,ne,Fe,7,m[12]),ne=M(ne,K,oe,Z,de,12,m[13]),Z=M(Z,ne,K,oe,We,17,m[14]),K=v(K,oe=M(oe,Z,ne,K,et,22,m[15]),Z,ne,O,5,m[16]),ne=v(ne,K,oe,Z,fe,9,m[17]),Z=v(Z,ne,K,oe,se,14,m[18]),oe=v(oe,Z,ne,K,L,20,m[19]),K=v(K,oe,Z,ne,ae,5,m[20]),ne=v(ne,K,oe,Z,ve,9,m[21]),Z=v(Z,ne,K,oe,et,14,m[22]),oe=v(oe,Z,ne,K,le,20,m[23]),K=v(K,oe,Z,ne,ce,5,m[24]),ne=v(ne,K,oe,Z,We,9,m[25]),Z=v(Z,ne,K,oe,U,14,m[26]),oe=v(oe,Z,ne,K,q,20,m[27]),K=v(K,oe,Z,ne,de,5,m[28]),ne=v(ne,K,oe,Z,H,9,m[29]),Z=v(Z,ne,K,oe,Ie,14,m[30]),K=D(K,oe=v(oe,Z,ne,K,Fe,20,m[31]),Z,ne,ae,4,m[32]),ne=D(ne,K,oe,Z,q,11,m[33]),Z=D(Z,ne,K,oe,se,16,m[34]),oe=D(oe,Z,ne,K,We,23,m[35]),K=D(K,oe,Z,ne,O,4,m[36]),ne=D(ne,K,oe,Z,le,11,m[37]),Z=D(Z,ne,K,oe,Ie,16,m[38]),oe=D(oe,Z,ne,K,ve,23,m[39]),K=D(K,oe,Z,ne,de,4,m[40]),ne=D(ne,K,oe,Z,L,11,m[41]),Z=D(Z,ne,K,oe,U,16,m[42]),oe=D(oe,Z,ne,K,fe,23,m[43]),K=D(K,oe,Z,ne,ce,4,m[44]),ne=D(ne,K,oe,Z,Fe,11,m[45]),Z=D(Z,ne,K,oe,et,16,m[46]),K=y(K,oe=D(oe,Z,ne,K,H,23,m[47]),Z,ne,L,6,m[48]),ne=y(ne,K,oe,Z,Ie,10,m[49]),Z=y(Z,ne,K,oe,We,15,m[50]),oe=y(oe,Z,ne,K,ae,21,m[51]),K=y(K,oe,Z,ne,Fe,6,m[52]),ne=y(ne,K,oe,Z,U,10,m[53]),Z=y(Z,ne,K,oe,ve,15,m[54]),oe=y(oe,Z,ne,K,O,21,m[55]),K=y(K,oe,Z,ne,q,6,m[56]),ne=y(ne,K,oe,Z,et,10,m[57]),Z=y(Z,ne,K,oe,fe,15,m[58]),oe=y(oe,Z,ne,K,de,21,m[59]),K=y(K,oe,Z,ne,le,6,m[60]),ne=y(ne,K,oe,Z,se,10,m[61]),Z=y(Z,ne,K,oe,H,15,m[62]),oe=y(oe,Z,ne,K,ce,21,m[63]),x[0]=x[0]+K|0,x[1]=x[1]+oe|0,x[2]=x[2]+Z|0,x[3]=x[3]+ne|0},_doFinalize:function(){var T=this._data,b=T.words,F=8*this._nDataBytes,N=8*T.sigBytes;b[N>>>5]|=128<<24-N%32;var g=C.floor(F/4294967296),x=F;b[15+(N+64>>>9<<4)]=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8),b[14+(N+64>>>9<<4)]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),T.sigBytes=4*(b.length+1),this._process();for(var L=this._hash,O=L.words,H=0;H<4;H++){var U=O[H];O[H]=16711935&(U<<8|U>>>24)|4278255360&(U<<24|U>>>8)}return L},clone:function(){var T=k.clone.call(this);return T._hash=this._hash.clone(),T}});function M(T,b,F,N,g,x,L){var O=T+(b&F|~b&N)+g+L;return(O<<x|O>>>32-x)+b}function v(T,b,F,N,g,x,L){var O=T+(b&N|F&~N)+g+L;return(O<<x|O>>>32-x)+b}function D(T,b,F,N,g,x,L){var O=T+(b^F^N)+g+L;return(O<<x|O>>>32-x)+b}function y(T,b,F,N,g,x,L){var O=T+(F^(b|~N))+g+L;return(O<<x|O>>>32-x)+b}j.MD5=k._createHelper(I),j.HmacMD5=k._createHmacHelper(I)}(Math),S.MD5)},228:function(ye,xe,V){var S;ye.exports=(S=V(12),V(270),S.mode.CFB=function(){var C=S.lib.BlockCipherMode.extend();function j(z,W,k,G){var m,I=this._iv;I?(m=I.slice(0),this._iv=void 0):m=this._prevBlock,G.encryptBlock(m,0);for(var M=0;M<k;M++)z[W+M]^=m[M]}return C.Encryptor=C.extend({processBlock:function(z,W){var k=this._cipher,G=k.blockSize;j.call(this,z,W,G,k),this._prevBlock=z.slice(W,W+G)}}),C.Decryptor=C.extend({processBlock:function(z,W){var k=this._cipher,G=k.blockSize,m=z.slice(W,W+G);j.call(this,z,W,G,k),this._prevBlock=m}}),C}(),S.mode.CFB)},584:function(ye,xe,V){var S;ye.exports=(S=V(12),V(270),S.mode.CTRGladman=function(){var C=S.lib.BlockCipherMode.extend();function j(k){if(255==(k>>24&255)){var G=k>>16&255,m=k>>8&255,I=255&k;255===G?(G=0,255===m?(m=0,255===I?I=0:++I):++m):++G,k=0,k+=G<<16,k+=m<<8,k+=I}else k+=1<<24;return k}var W=C.Encryptor=C.extend({processBlock:function(k,G){var m=this._cipher,I=m.blockSize,M=this._iv,v=this._counter;M&&(v=this._counter=M.slice(0),this._iv=void 0),function z(k){return 0===(k[0]=j(k[0]))&&(k[1]=j(k[1])),k}(v);var D=v.slice(0);m.encryptBlock(D,0);for(var y=0;y<I;y++)k[G+y]^=D[y]}});return C.Decryptor=W,C}(),S.mode.CTRGladman)},392:function(ye,xe,V){var C,j,S;ye.exports=(S=V(12),V(270),S.mode.CTR=(j=(C=S.lib.BlockCipherMode.extend()).Encryptor=C.extend({processBlock:function(z,W){var k=this._cipher,G=k.blockSize,m=this._iv,I=this._counter;m&&(I=this._counter=m.slice(0),this._iv=void 0);var M=I.slice(0);k.encryptBlock(M,0),I[G-1]=I[G-1]+1|0;for(var v=0;v<G;v++)z[W+v]^=M[v]}}),C.Decryptor=j,C),S.mode.CTR)},594:function(ye,xe,V){var C,S;ye.exports=(S=V(12),V(270),S.mode.ECB=((C=S.lib.BlockCipherMode.extend()).Encryptor=C.extend({processBlock:function(j,z){this._cipher.encryptBlock(j,z)}}),C.Decryptor=C.extend({processBlock:function(j,z){this._cipher.decryptBlock(j,z)}}),C),S.mode.ECB)},15:function(ye,xe,V){var C,j,S;ye.exports=(S=V(12),V(270),S.mode.OFB=(j=(C=S.lib.BlockCipherMode.extend()).Encryptor=C.extend({processBlock:function(z,W){var k=this._cipher,G=k.blockSize,m=this._iv,I=this._keystream;m&&(I=this._keystream=m.slice(0),this._iv=void 0),k.encryptBlock(I,0);for(var M=0;M<G;M++)z[W+M]^=I[M]}}),C.Decryptor=j,C),S.mode.OFB)},237:function(ye,xe,V){var S;ye.exports=(S=V(12),V(270),S.pad.AnsiX923={pad:function(C,j){var z=C.sigBytes,W=4*j,k=W-z%W,G=z+k-1;C.clamp(),C.words[G>>>2]|=k<<24-G%4*8,C.sigBytes+=k},unpad:function(C){C.sigBytes-=255&C.words[C.sigBytes-1>>>2]}},S.pad.Ansix923)},501:function(ye,xe,V){var S;ye.exports=(S=V(12),V(270),S.pad.Iso10126={pad:function(C,j){var z=4*j,W=z-C.sigBytes%z;C.concat(S.lib.WordArray.random(W-1)).concat(S.lib.WordArray.create([W<<24],1))},unpad:function(C){C.sigBytes-=255&C.words[C.sigBytes-1>>>2]}},S.pad.Iso10126)},4:function(ye,xe,V){var S;ye.exports=(S=V(12),V(270),S.pad.Iso97971={pad:function(C,j){C.concat(S.lib.WordArray.create([2147483648],1)),S.pad.ZeroPadding.pad(C,j)},unpad:function(C){S.pad.ZeroPadding.unpad(C),C.sigBytes--}},S.pad.Iso97971)},738:function(ye,xe,V){var S;ye.exports=(S=V(12),V(270),S.pad.NoPadding={pad:function(){},unpad:function(){}},S.pad.NoPadding)},297:function(ye,xe,V){var S;ye.exports=(S=V(12),V(270),S.pad.ZeroPadding={pad:function(C,j){var z=4*j;C.clamp(),C.sigBytes+=z-(C.sigBytes%z||z)},unpad:function(C){var j=C.words,z=C.sigBytes-1;for(z=C.sigBytes-1;z>=0;z--)if(j[z>>>2]>>>24-z%4*8&255){C.sigBytes=z+1;break}}},S.pad.ZeroPadding)},538:function(ye,xe,V){var C,j,z,W,k,m,I,S;ye.exports=(S=V(12),V(78),V(990),W=(j=(C=S).lib).WordArray,m=(k=C.algo).HMAC,I=k.PBKDF2=(z=j.Base).extend({cfg:z.extend({keySize:4,hasher:k.SHA256,iterations:25e4}),init:function(M){this.cfg=this.cfg.extend(M)},compute:function(M,v){for(var D=this.cfg,y=m.create(D.hasher,M),T=W.create(),b=W.create([1]),F=T.words,N=b.words,g=D.keySize,x=D.iterations;F.length<g;){var L=y.update(v).finalize(b);y.reset();for(var O=L.words,H=O.length,U=L,le=1;le<x;le++){U=y.finalize(U),y.reset();for(var ae=U.words,fe=0;fe<H;fe++)O[fe]^=ae[fe]}T.concat(L),N[0]++}return T.sigBytes=4*g,T}}),C.PBKDF2=function(M,v,D){return I.create(D).compute(M,v)},S.PBKDF2)},848:function(ye,xe,V){var S;ye.exports=(S=V(12),V(506),V(873),V(66),V(270),function(){var C=S,z=C.lib.StreamCipher,k=[],G=[],m=[],I=C.algo.RabbitLegacy=z.extend({_doReset:function(){var v=this._key.words,D=this.cfg.iv,y=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],T=this._C=[v[2]<<16|v[2]>>>16,4294901760&v[0]|65535&v[1],v[3]<<16|v[3]>>>16,4294901760&v[1]|65535&v[2],v[0]<<16|v[0]>>>16,4294901760&v[2]|65535&v[3],v[1]<<16|v[1]>>>16,4294901760&v[3]|65535&v[0]];this._b=0;for(var b=0;b<4;b++)M.call(this);for(b=0;b<8;b++)T[b]^=y[b+4&7];if(D){var F=D.words,N=F[0],g=F[1],x=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8),L=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8),O=x>>>16|4294901760&L,H=L<<16|65535&x;for(T[0]^=x,T[1]^=O,T[2]^=L,T[3]^=H,T[4]^=x,T[5]^=O,T[6]^=L,T[7]^=H,b=0;b<4;b++)M.call(this)}},_doProcessBlock:function(v,D){var y=this._X;M.call(this),k[0]=y[0]^y[5]>>>16^y[3]<<16,k[1]=y[2]^y[7]>>>16^y[5]<<16,k[2]=y[4]^y[1]>>>16^y[7]<<16,k[3]=y[6]^y[3]>>>16^y[1]<<16;for(var T=0;T<4;T++)k[T]=16711935&(k[T]<<8|k[T]>>>24)|4278255360&(k[T]<<24|k[T]>>>8),v[D+T]^=k[T]},blockSize:4,ivSize:2});function M(){for(var v=this._X,D=this._C,y=0;y<8;y++)G[y]=D[y];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<G[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<G[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<G[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<G[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<G[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<G[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<G[6]>>>0?1:0)|0,this._b=D[7]>>>0<G[7]>>>0?1:0,y=0;y<8;y++){var T=v[y]+D[y],b=65535&T,F=T>>>16;m[y]=((b*b>>>17)+b*F>>>15)+F*F^((4294901760&T)*T|0)+((65535&T)*T|0)}v[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,v[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,v[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,v[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,v[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,v[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,v[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,v[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}C.RabbitLegacy=z._createHelper(I)}(),S.RabbitLegacy)},969:function(ye,xe,V){var S;ye.exports=(S=V(12),V(506),V(873),V(66),V(270),function(){var C=S,z=C.lib.StreamCipher,k=[],G=[],m=[],I=C.algo.Rabbit=z.extend({_doReset:function(){for(var v=this._key.words,D=this.cfg.iv,y=0;y<4;y++)v[y]=16711935&(v[y]<<8|v[y]>>>24)|4278255360&(v[y]<<24|v[y]>>>8);var T=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],b=this._C=[v[2]<<16|v[2]>>>16,4294901760&v[0]|65535&v[1],v[3]<<16|v[3]>>>16,4294901760&v[1]|65535&v[2],v[0]<<16|v[0]>>>16,4294901760&v[2]|65535&v[3],v[1]<<16|v[1]>>>16,4294901760&v[3]|65535&v[0]];for(this._b=0,y=0;y<4;y++)M.call(this);for(y=0;y<8;y++)b[y]^=T[y+4&7];if(D){var F=D.words,N=F[0],g=F[1],x=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8),L=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8),O=x>>>16|4294901760&L,H=L<<16|65535&x;for(b[0]^=x,b[1]^=O,b[2]^=L,b[3]^=H,b[4]^=x,b[5]^=O,b[6]^=L,b[7]^=H,y=0;y<4;y++)M.call(this)}},_doProcessBlock:function(v,D){var y=this._X;M.call(this),k[0]=y[0]^y[5]>>>16^y[3]<<16,k[1]=y[2]^y[7]>>>16^y[5]<<16,k[2]=y[4]^y[1]>>>16^y[7]<<16,k[3]=y[6]^y[3]>>>16^y[1]<<16;for(var T=0;T<4;T++)k[T]=16711935&(k[T]<<8|k[T]>>>24)|4278255360&(k[T]<<24|k[T]>>>8),v[D+T]^=k[T]},blockSize:4,ivSize:2});function M(){for(var v=this._X,D=this._C,y=0;y<8;y++)G[y]=D[y];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<G[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<G[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<G[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<G[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<G[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<G[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<G[6]>>>0?1:0)|0,this._b=D[7]>>>0<G[7]>>>0?1:0,y=0;y<8;y++){var T=v[y]+D[y],b=65535&T,F=T>>>16;m[y]=((b*b>>>17)+b*F>>>15)+F*F^((4294901760&T)*T|0)+((65535&T)*T|0)}v[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,v[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,v[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,v[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,v[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,v[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,v[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,v[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}C.Rabbit=z._createHelper(I)}(),S.Rabbit)},195:function(ye,xe,V){var S;ye.exports=(S=V(12),V(506),V(873),V(66),V(270),function(){var C=S,z=C.lib.StreamCipher,W=C.algo,k=W.RC4=z.extend({_doReset:function(){for(var I=this._key,M=I.words,v=I.sigBytes,D=this._S=[],y=0;y<256;y++)D[y]=y;y=0;for(var T=0;y<256;y++){var b=y%v,N=D[y];D[y]=D[T=(T+D[y]+(M[b>>>2]>>>24-b%4*8&255))%256],D[T]=N}this._i=this._j=0},_doProcessBlock:function(I,M){I[M]^=G.call(this)},keySize:8,ivSize:0});function G(){for(var I=this._S,M=this._i,v=this._j,D=0,y=0;y<4;y++){var T=I[M=(M+1)%256];I[M]=I[v=(v+I[M])%256],I[v]=T,D|=I[(I[M]+I[v])%256]<<24-8*y}return this._i=M,this._j=v,D}C.RC4=z._createHelper(k);var m=W.RC4Drop=k.extend({cfg:k.cfg.extend({drop:192}),_doReset:function(){k._doReset.call(this);for(var I=this.cfg.drop;I>0;I--)G.call(this)}});C.RC4Drop=z._createHelper(m)}(),S.RC4)},558:function(ye,xe,V){var S;ye.exports=(S=V(12),function(C){var j=S,z=j.lib,W=z.WordArray,k=z.Hasher,G=j.algo,m=W.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),I=W.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),M=W.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),v=W.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),D=W.create([0,1518500249,1859775393,2400959708,2840853838]),y=W.create([1352829926,1548603684,1836072691,2053994217,0]),T=G.RIPEMD160=k.extend({_doReset:function(){this._hash=W.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,H){for(var U=0;U<16;U++){var le=H+U,ae=O[le];O[le]=16711935&(ae<<8|ae>>>24)|4278255360&(ae<<24|ae>>>8)}var de,We,et,K,oe,Z,ne,wt,Ve,tt,Xe,fe=this._hash.words,Ie=D.words,q=y.words,ce=m.words,ve=I.words,se=M.words,Fe=v.words;for(Z=de=fe[0],ne=We=fe[1],wt=et=fe[2],Ve=K=fe[3],tt=oe=fe[4],U=0;U<80;U+=1)Xe=de+O[H+ce[U]]|0,Xe+=U<16?b(We,et,K)+Ie[0]:U<32?F(We,et,K)+Ie[1]:U<48?N(We,et,K)+Ie[2]:U<64?g(We,et,K)+Ie[3]:x(We,et,K)+Ie[4],Xe=(Xe=L(Xe|=0,se[U]))+oe|0,de=oe,oe=K,K=L(et,10),et=We,We=Xe,Xe=Z+O[H+ve[U]]|0,Xe+=U<16?x(ne,wt,Ve)+q[0]:U<32?g(ne,wt,Ve)+q[1]:U<48?N(ne,wt,Ve)+q[2]:U<64?F(ne,wt,Ve)+q[3]:b(ne,wt,Ve)+q[4],Xe=(Xe=L(Xe|=0,Fe[U]))+tt|0,Z=tt,tt=Ve,Ve=L(wt,10),wt=ne,ne=Xe;Xe=fe[1]+et+Ve|0,fe[1]=fe[2]+K+tt|0,fe[2]=fe[3]+oe+Z|0,fe[3]=fe[4]+de+ne|0,fe[4]=fe[0]+We+wt|0,fe[0]=Xe},_doFinalize:function(){var O=this._data,H=O.words,U=8*this._nDataBytes,le=8*O.sigBytes;H[le>>>5]|=128<<24-le%32,H[14+(le+64>>>9<<4)]=16711935&(U<<8|U>>>24)|4278255360&(U<<24|U>>>8),O.sigBytes=4*(H.length+1),this._process();for(var ae=this._hash,fe=ae.words,Ie=0;Ie<5;Ie++){var q=fe[Ie];fe[Ie]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8)}return ae},clone:function(){var O=k.clone.call(this);return O._hash=this._hash.clone(),O}});function b(O,H,U){return O^H^U}function F(O,H,U){return O&H|~O&U}function N(O,H,U){return(O|~H)^U}function g(O,H,U){return O&U|H&~U}function x(O,H,U){return O^(H|~U)}function L(O,H){return O<<H|O>>>32-H}j.RIPEMD160=k._createHelper(T),j.HmacRIPEMD160=k._createHmacHelper(T)}(Math),S.RIPEMD160)},446:function(ye,xe,V){var C,j,z,W,G,m,S;ye.exports=(S=V(12),z=(j=(C=S).lib).WordArray,G=[],m=C.algo.SHA1=(W=j.Hasher).extend({_doReset:function(){this._hash=new z.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(I,M){for(var v=this._hash.words,D=v[0],y=v[1],T=v[2],b=v[3],F=v[4],N=0;N<80;N++){if(N<16)G[N]=0|I[M+N];else{var g=G[N-3]^G[N-8]^G[N-14]^G[N-16];G[N]=g<<1|g>>>31}var x=(D<<5|D>>>27)+F+G[N];x+=N<20?1518500249+(y&T|~y&b):N<40?1859775393+(y^T^b):N<60?(y&T|y&b|T&b)-1894007588:(y^T^b)-899497514,F=b,b=T,T=y<<30|y>>>2,y=D,D=x}v[0]=v[0]+D|0,v[1]=v[1]+y|0,v[2]=v[2]+T|0,v[3]=v[3]+b|0,v[4]=v[4]+F|0},_doFinalize:function(){var I=this._data,M=I.words,v=8*this._nDataBytes,D=8*I.sigBytes;return M[D>>>5]|=128<<24-D%32,M[14+(D+64>>>9<<4)]=Math.floor(v/4294967296),M[15+(D+64>>>9<<4)]=v,I.sigBytes=4*M.length,this._process(),this._hash},clone:function(){var I=W.clone.call(this);return I._hash=this._hash.clone(),I}}),C.SHA1=W._createHelper(m),C.HmacSHA1=W._createHmacHelper(m),S.SHA1)},811:function(ye,xe,V){var C,z,W,k,G,S;ye.exports=(S=V(12),V(78),z=(C=S).lib.WordArray,G=(W=C.algo).SHA224=(k=W.SHA256).extend({_doReset:function(){this._hash=new z.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var m=k._doFinalize.call(this);return m.sigBytes-=4,m}}),C.SHA224=k._createHelper(G),C.HmacSHA224=k._createHmacHelper(G),S.SHA224)},78:function(ye,xe,V){var S;ye.exports=(S=V(12),function(C){var j=S,z=j.lib,W=z.WordArray,k=z.Hasher,G=j.algo,m=[],I=[];!function(){function D(F){for(var N=C.sqrt(F),g=2;g<=N;g++)if(!(F%g))return!1;return!0}function y(F){return 4294967296*(F-(0|F))|0}for(var T=2,b=0;b<64;)D(T)&&(b<8&&(m[b]=y(C.pow(T,.5))),I[b]=y(C.pow(T,1/3)),b++),T++}();var M=[],v=G.SHA256=k.extend({_doReset:function(){this._hash=new W.init(m.slice(0))},_doProcessBlock:function(D,y){for(var T=this._hash.words,b=T[0],F=T[1],N=T[2],g=T[3],x=T[4],L=T[5],O=T[6],H=T[7],U=0;U<64;U++){if(U<16)M[U]=0|D[y+U];else{var le=M[U-15],fe=M[U-2];M[U]=((le<<25|le>>>7)^(le<<14|le>>>18)^le>>>3)+M[U-7]+((fe<<15|fe>>>17)^(fe<<13|fe>>>19)^fe>>>10)+M[U-16]}var ce=b&F^b&N^F&N,Fe=H+((x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25))+(x&L^~x&O)+I[U]+M[U];H=O,O=L,L=x,x=g+Fe|0,g=N,N=F,F=b,b=Fe+(((b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22))+ce)|0}T[0]=T[0]+b|0,T[1]=T[1]+F|0,T[2]=T[2]+N|0,T[3]=T[3]+g|0,T[4]=T[4]+x|0,T[5]=T[5]+L|0,T[6]=T[6]+O|0,T[7]=T[7]+H|0},_doFinalize:function(){var D=this._data,y=D.words,T=8*this._nDataBytes,b=8*D.sigBytes;return y[b>>>5]|=128<<24-b%32,y[14+(b+64>>>9<<4)]=C.floor(T/4294967296),y[15+(b+64>>>9<<4)]=T,D.sigBytes=4*y.length,this._process(),this._hash},clone:function(){var D=k.clone.call(this);return D._hash=this._hash.clone(),D}});j.SHA256=k._createHelper(v),j.HmacSHA256=k._createHmacHelper(v)}(Math),S.SHA256)},545:function(ye,xe,V){var S;ye.exports=(S=V(12),V(802),function(C){var j=S,z=j.lib,W=z.WordArray,k=z.Hasher,m=j.x64.Word,I=j.algo,M=[],v=[],D=[];!function(){for(var b=1,F=0,N=0;N<24;N++){M[b+5*F]=(N+1)*(N+2)/2%64;var x=(2*b+3*F)%5;b=F%5,F=x}for(b=0;b<5;b++)for(F=0;F<5;F++)v[b+5*F]=F+(2*b+3*F)%5*5;for(var L=1,O=0;O<24;O++){for(var H=0,U=0,le=0;le<7;le++){if(1&L){var ae=(1<<le)-1;ae<32?U^=1<<ae:H^=1<<ae-32}128&L?L=L<<1^113:L<<=1}D[O]=m.create(H,U)}}();var y=[];!function(){for(var b=0;b<25;b++)y[b]=m.create()}();var T=I.SHA3=k.extend({cfg:k.cfg.extend({outputLength:512}),_doReset:function(){for(var b=this._state=[],F=0;F<25;F++)b[F]=new m.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(b,F){for(var N=this._state,g=this.blockSize/2,x=0;x<g;x++){var L=b[F+2*x],O=b[F+2*x+1];L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),(H=N[x]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),H.low^=L}for(var U=0;U<24;U++){for(var le=0;le<5;le++){for(var ae=0,fe=0,Ie=0;Ie<5;Ie++)ae^=(H=N[le+5*Ie]).high,fe^=H.low;var q=y[le];q.high=ae,q.low=fe}for(le=0;le<5;le++){var ce=y[(le+4)%5],ve=y[(le+1)%5],se=ve.high,Fe=ve.low;for(ae=ce.high^(se<<1|Fe>>>31),fe=ce.low^(Fe<<1|se>>>31),Ie=0;Ie<5;Ie++)(H=N[le+5*Ie]).high^=ae,H.low^=fe}for(var de=1;de<25;de++){var We=(H=N[de]).high,et=H.low,K=M[de];K<32?(ae=We<<K|et>>>32-K,fe=et<<K|We>>>32-K):(ae=et<<K-32|We>>>64-K,fe=We<<K-32|et>>>64-K);var oe=y[v[de]];oe.high=ae,oe.low=fe}var Z=y[0],ne=N[0];for(Z.high=ne.high,Z.low=ne.low,le=0;le<5;le++)for(Ie=0;Ie<5;Ie++){var wt=y[de=le+5*Ie],Ve=y[(le+1)%5+5*Ie],tt=y[(le+2)%5+5*Ie];(H=N[de]).high=wt.high^~Ve.high&tt.high,H.low=wt.low^~Ve.low&tt.low}var H,Xe=D[U];(H=N[0]).high^=Xe.high,H.low^=Xe.low}},_doFinalize:function(){var b=this._data,F=b.words,g=8*b.sigBytes,x=32*this.blockSize;F[g>>>5]|=1<<24-g%32,F[(C.ceil((g+1)/x)*x>>>5)-1]|=128,b.sigBytes=4*F.length,this._process();for(var L=this._state,O=this.cfg.outputLength/8,H=O/8,U=[],le=0;le<H;le++){var ae=L[le],fe=ae.high,Ie=ae.low;fe=16711935&(fe<<8|fe>>>24)|4278255360&(fe<<24|fe>>>8),U.push(Ie=16711935&(Ie<<8|Ie>>>24)|4278255360&(Ie<<24|Ie>>>8)),U.push(fe)}return new W.init(U,O)},clone:function(){for(var b=k.clone.call(this),F=b._state=this._state.slice(0),N=0;N<25;N++)F[N]=F[N].clone();return b}});j.SHA3=k._createHelper(T),j.HmacSHA3=k._createHmacHelper(T)}(Math),S.SHA3)},913:function(ye,xe,V){var C,j,z,W,k,G,m,S;ye.exports=(S=V(12),V(802),V(870),z=(j=(C=S).x64).Word,W=j.WordArray,m=(k=C.algo).SHA384=(G=k.SHA512).extend({_doReset:function(){this._hash=new W.init([new z.init(3418070365,3238371032),new z.init(1654270250,914150663),new z.init(2438529370,812702999),new z.init(355462360,4144912697),new z.init(1731405415,4290775857),new z.init(2394180231,1750603025),new z.init(3675008525,1694076839),new z.init(1203062813,3204075428)])},_doFinalize:function(){var I=G._doFinalize.call(this);return I.sigBytes-=16,I}}),C.SHA384=G._createHelper(m),C.HmacSHA384=G._createHmacHelper(m),S.SHA384)},870:function(ye,xe,V){var S;ye.exports=(S=V(12),V(802),function(){var C=S,z=C.lib.Hasher,W=C.x64,k=W.Word,G=W.WordArray,m=C.algo;function I(){return k.create.apply(k,arguments)}var M=[I(1116352408,3609767458),I(1899447441,602891725),I(3049323471,3964484399),I(3921009573,2173295548),I(961987163,4081628472),I(1508970993,3053834265),I(2453635748,2937671579),I(2870763221,3664609560),I(3624381080,2734883394),I(310598401,1164996542),I(607225278,1323610764),I(1426881987,3590304994),I(1925078388,4068182383),I(2162078206,991336113),I(2614888103,633803317),I(3248222580,3479774868),I(3835390401,2666613458),I(4022224774,944711139),I(264347078,2341262773),I(604807628,2007800933),I(770255983,1495990901),I(1249150122,1856431235),I(1555081692,3175218132),I(1996064986,2198950837),I(2554220882,3999719339),I(2821834349,766784016),I(2952996808,2566594879),I(3210313671,3203337956),I(3336571891,1034457026),I(3584528711,2466948901),I(113926993,3758326383),I(338241895,168717936),I(666307205,1188179964),I(773529912,1546045734),I(1294757372,1522805485),I(1396182291,2643833823),I(1695183700,2343527390),I(1986661051,1014477480),I(2177026350,1206759142),I(2456956037,344077627),I(2730485921,1290863460),I(2820302411,3158454273),I(3259730800,3505952657),I(3345764771,106217008),I(3516065817,3606008344),I(3600352804,1432725776),I(4094571909,1467031594),I(275423344,851169720),I(430227734,3100823752),I(506948616,1363258195),I(659060556,3750685593),I(883997877,3785050280),I(958139571,3318307427),I(1322822218,3812723403),I(1537002063,2003034995),I(1747873779,3602036899),I(1955562222,1575990012),I(2024104815,1125592928),I(2227730452,2716904306),I(2361852424,442776044),I(2428436474,593698344),I(2756734187,3733110249),I(3204031479,2999351573),I(3329325298,3815920427),I(3391569614,3928383900),I(3515267271,566280711),I(3940187606,3454069534),I(4118630271,4000239992),I(116418474,1914138554),I(174292421,2731055270),I(289380356,3203993006),I(460393269,320620315),I(685471733,587496836),I(852142971,1086792851),I(1017036298,365543100),I(1126000580,2618297676),I(1288033470,3409855158),I(1501505948,4234509866),I(1607167915,987167468),I(1816402316,1246189591)],v=[];!function(){for(var y=0;y<80;y++)v[y]=I()}();var D=m.SHA512=z.extend({_doReset:function(){this._hash=new G.init([new k.init(1779033703,4089235720),new k.init(3144134277,2227873595),new k.init(1013904242,4271175723),new k.init(2773480762,1595750129),new k.init(1359893119,2917565137),new k.init(2600822924,725511199),new k.init(528734635,4215389547),new k.init(1541459225,327033209)])},_doProcessBlock:function(y,T){for(var b=this._hash.words,F=b[0],N=b[1],g=b[2],x=b[3],L=b[4],O=b[5],H=b[6],U=b[7],le=F.high,ae=F.low,fe=N.high,Ie=N.low,q=g.high,ce=g.low,ve=x.high,se=x.low,Fe=L.high,de=L.low,We=O.high,et=O.low,K=H.high,oe=H.low,Z=U.high,ne=U.low,wt=le,Ve=ae,tt=fe,Xe=Ie,Je=q,$i=ce,Yu=ve,Ao=se,tr=Fe,Rn=de,Do=We,wc=et,Xu=K,bc=oe,D0=Z,ga=ne,Rr=0;Rr<80;Rr++){var Nr,si,Ac=v[Rr];if(Rr<16)si=Ac.high=0|y[T+2*Rr],Nr=Ac.low=0|y[T+2*Rr+1];else{var Dc=v[Rr-15],To=Dc.high,ma=Dc.low,T0=(ma>>>1|To<<31)^(ma>>>8|To<<24)^(ma>>>7|To<<25),yi=v[Rr-2],So=yi.high,_a=yi.low,M0=(_a>>>19|So<<13)^(_a<<3|So>>>29)^(_a>>>6|So<<26),P0=v[Rr-7],R0=v[Rr-16],N0=R0.low;Ac.high=si=(si=(si=((To>>>1|ma<<31)^(To>>>8|ma<<24)^To>>>7)+P0.high+((Nr=T0+P0.low)>>>0<T0>>>0?1:0))+((So>>>19|_a<<13)^(So<<3|_a>>>29)^So>>>6)+((Nr+=M0)>>>0<M0>>>0?1:0))+R0.high+((Nr+=N0)>>>0<N0>>>0?1:0),Ac.low=Nr}var nr,L2=tr&Do^~tr&Xu,k0=Rn&wc^~Rn&bc,B2=wt&tt^wt&Je^tt&Je,Zu=(Ve>>>28|wt<<4)^(Ve<<30|wt>>>2)^(Ve<<25|wt>>>7),Ju=M[Rr],ed=Ju.low,Ei=D0+((tr>>>14|Rn<<18)^(tr>>>18|Rn<<14)^(tr<<23|Rn>>>9))+((nr=ga+((Rn>>>14|tr<<18)^(Rn>>>18|tr<<14)^(Rn<<23|tr>>>9)))>>>0<ga>>>0?1:0),td=Zu+(Ve&Xe^Ve&$i^Xe&$i);D0=Xu,ga=bc,Xu=Do,bc=wc,Do=tr,wc=Rn,tr=Yu+(Ei=(Ei=(Ei=Ei+L2+((nr+=k0)>>>0<k0>>>0?1:0))+Ju.high+((nr+=ed)>>>0<ed>>>0?1:0))+si+((nr+=Nr)>>>0<Nr>>>0?1:0))+((Rn=Ao+nr|0)>>>0<Ao>>>0?1:0)|0,Yu=Je,Ao=$i,Je=tt,$i=Xe,tt=wt,Xe=Ve,wt=Ei+(((wt>>>28|Ve<<4)^(wt<<30|Ve>>>2)^(wt<<25|Ve>>>7))+B2+(td>>>0<Zu>>>0?1:0))+((Ve=nr+td|0)>>>0<nr>>>0?1:0)|0}ae=F.low=ae+Ve,F.high=le+wt+(ae>>>0<Ve>>>0?1:0),Ie=N.low=Ie+Xe,N.high=fe+tt+(Ie>>>0<Xe>>>0?1:0),ce=g.low=ce+$i,g.high=q+Je+(ce>>>0<$i>>>0?1:0),se=x.low=se+Ao,x.high=ve+Yu+(se>>>0<Ao>>>0?1:0),de=L.low=de+Rn,L.high=Fe+tr+(de>>>0<Rn>>>0?1:0),et=O.low=et+wc,O.high=We+Do+(et>>>0<wc>>>0?1:0),oe=H.low=oe+bc,H.high=K+Xu+(oe>>>0<bc>>>0?1:0),ne=U.low=ne+ga,U.high=Z+D0+(ne>>>0<ga>>>0?1:0)},_doFinalize:function(){var y=this._data,T=y.words,b=8*this._nDataBytes,F=8*y.sigBytes;return T[F>>>5]|=128<<24-F%32,T[30+(F+128>>>10<<5)]=Math.floor(b/4294967296),T[31+(F+128>>>10<<5)]=b,y.sigBytes=4*T.length,this._process(),this._hash.toX32()},clone:function(){var y=z.clone.call(this);return y._hash=this._hash.clone(),y},blockSize:32});C.SHA512=z._createHelper(D),C.HmacSHA512=z._createHmacHelper(D)}(),S.SHA512)},769:function(ye,xe,V){var S;ye.exports=(S=V(12),V(506),V(873),V(66),V(270),function(){var C=S,j=C.lib,z=j.WordArray,W=j.BlockCipher,k=C.algo,G=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],m=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],I=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],M=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],v=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],D=k.DES=W.extend({_doReset:function(){for(var N=this._key.words,g=[],x=0;x<56;x++){var L=G[x]-1;g[x]=N[L>>>5]>>>31-L%32&1}for(var O=this._subKeys=[],H=0;H<16;H++){var U=O[H]=[],le=I[H];for(x=0;x<24;x++)U[x/6|0]|=g[(m[x]-1+le)%28]<<31-x%6,U[4+(x/6|0)]|=g[28+(m[x+24]-1+le)%28]<<31-x%6;for(U[0]=U[0]<<1|U[0]>>>31,x=1;x<7;x++)U[x]=U[x]>>>4*(x-1)+3;U[7]=U[7]<<5|U[7]>>>27}var ae=this._invSubKeys=[];for(x=0;x<16;x++)ae[x]=O[15-x]},encryptBlock:function(F,N){this._doCryptBlock(F,N,this._subKeys)},decryptBlock:function(F,N){this._doCryptBlock(F,N,this._invSubKeys)},_doCryptBlock:function(F,N,g){this._lBlock=F[N],this._rBlock=F[N+1],y.call(this,4,252645135),y.call(this,16,65535),T.call(this,2,858993459),T.call(this,8,16711935),y.call(this,1,1431655765);for(var x=0;x<16;x++){for(var L=g[x],O=this._lBlock,H=this._rBlock,U=0,le=0;le<8;le++)U|=M[le][((H^L[le])&v[le])>>>0];this._lBlock=H,this._rBlock=O^U}var ae=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ae,y.call(this,1,1431655765),T.call(this,8,16711935),T.call(this,2,858993459),y.call(this,16,65535),y.call(this,4,252645135),F[N]=this._lBlock,F[N+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function y(F,N){var g=(this._lBlock>>>F^this._rBlock)&N;this._rBlock^=g,this._lBlock^=g<<F}function T(F,N){var g=(this._rBlock>>>F^this._lBlock)&N;this._lBlock^=g,this._rBlock^=g<<F}C.DES=W._createHelper(D);var b=k.TripleDES=W.extend({_doReset:function(){var N=this._key.words;if(2!==N.length&&4!==N.length&&N.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var g=N.slice(0,2),x=N.length<4?N.slice(0,2):N.slice(2,4),L=N.length<6?N.slice(0,2):N.slice(4,6);this._des1=D.createEncryptor(z.create(g)),this._des2=D.createEncryptor(z.create(x)),this._des3=D.createEncryptor(z.create(L))},encryptBlock:function(F,N){this._des1.encryptBlock(F,N),this._des2.decryptBlock(F,N),this._des3.encryptBlock(F,N)},decryptBlock:function(F,N){this._des3.decryptBlock(F,N),this._des2.encryptBlock(F,N),this._des1.decryptBlock(F,N)},keySize:6,ivSize:2,blockSize:2});C.TripleDES=W._createHelper(b)}(),S.TripleDES)},802:function(ye,xe,V){var z,W,k,G,S;ye.exports=(S=V(12),W=(z=S.lib).Base,k=z.WordArray,(G=S.x64={}).Word=W.extend({init:function(M,v){this.high=M,this.low=v}}),G.WordArray=W.extend({init:function(M,v){M=this.words=M||[],this.sigBytes=null!=v?v:8*M.length},toX32:function(){for(var M=this.words,v=M.length,D=[],y=0;y<v;y++){var T=M[y];D.push(T.high),D.push(T.low)}return k.create(D,this.sigBytes)},clone:function(){for(var M=W.clone.call(this),v=M.words=this.words.slice(0),D=v.length,y=0;y<D;y++)v[y]=v[y].clone();return M}}),S)},480:()=>{}},ye=>{ye(ye.s=851)}]);