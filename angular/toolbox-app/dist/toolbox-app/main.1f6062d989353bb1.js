"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{6304:(ht,ze,T)=>{T.d(ze,{Dh:()=>Te,GT:()=>me,cc:()=>xe,hO:()=>qe,on:()=>R,pX:()=>ne,xv:()=>we});var g=T(7989),X=T(7142),N=T(5781);ht=T.hmd(ht);const se=["ngOnDestroy"],ne=(Oe,at,rt,Y={})=>new Proxy(Oe,{get:(he,Q)=>rt.runOutsideAngular(()=>{var He;if(Oe[Q])return!(null===(He=Y?.spy)||void 0===He)&&He.get&&Y.spy.get(Q,Oe[Q]),Oe[Q];if(se.indexOf(Q)>-1)return()=>{};const De=at.toPromise().then(We=>{const re=We&&We[Q];return"function"==typeof re?re.bind(We):re&&re.then?re.then(ct=>rt.run(()=>ct)):rt.run(()=>re)});return new Proxy(()=>{},{get:(We,re)=>De[re],apply:(We,re,ct)=>De.then(Pt=>{var e1;const z1=Pt&&Pt(...ct);return!(null===(e1=Y?.spy)||void 0===e1)&&e1.apply&&Y.spy.apply(Q,ct,z1),z1})})})}),me=(Oe,at)=>{at.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Y=>{Object.defineProperty(Oe.prototype,Y,Object.getOwnPropertyDescriptor(rt.prototype||rt,Y))})})};class ge{constructor(at){return at}}const Te=new g.OlP("angularfire2.app.options"),we=new g.OlP("angularfire2.app.name");function R(Oe,at,rt){const he="object"==typeof rt&&rt||{};he.name=he.name||"string"==typeof rt&&rt||"[DEFAULT]";const He=X.Z.apps.filter(De=>De&&De.name===he.name)[0]||at.runOutsideAngular(()=>X.Z.initializeApp(Oe,he));try{JSON.stringify(Oe)!==JSON.stringify(He.options)&&j("error",`${He.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(He)}const j=(Oe,...at)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Oe](...at)},ie={provide:ge,useFactory:R,deps:[Te,g.R0b,[new g.FiY,we]]};let qe=(()=>{class Oe{constructor(rt){X.Z.registerVersion("angularfire",N.q4.full,"core"),X.Z.registerVersion("angularfire",N.q4.full,"app-compat"),X.Z.registerVersion("angular",g.q4F.full,rt.toString())}static initializeApp(rt,Y){return{ngModule:Oe,providers:[{provide:Te,useValue:rt},{provide:we,useValue:Y}]}}}return Oe.\u0275fac=function(rt){return new(rt||Oe)(g.LFG(g.Lbi))},Oe.\u0275mod=g.oAB({type:Oe}),Oe.\u0275inj=g.cJS({providers:[ie]}),Oe})();function xe(Oe,at,rt,Y,he){const[,Q,He]=globalThis.\u0275AngularfireInstanceCache.find(De=>De[0]===Oe)||[];if(Q)return function dt(Oe,at){try{return Oe.toString()===at.toString()}catch{return Oe===at}}(he,He)||(Be("error",`${at} was already initialized on the ${rt} Firebase App with different settings.${ve?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:he,was:He})),Q;{const De=Y();return globalThis.\u0275AngularfireInstanceCache.push([Oe,De,he]),De}}const ve=!!ht.hot,Be=(Oe,...at)=>{(0,g.X6Q)()&&typeof console<"u"&&console[Oe](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5781:(ht,ze,T)=>{T.d(ze,{q4:()=>ka,iC:()=>D2,HU:()=>b0,vb:()=>Ra,JM:()=>Ic});var g=T(7989),X=T(3182),N=T(5861),se=T(534),ne=T(9058),me=T(4537),ge=T(7879);const Te=(w,H)=>H.some(z=>w instanceof z);let we,R;const qe=new WeakMap,xe=new WeakMap,dt=new WeakMap,ve=new WeakMap,Be=new WeakMap;let rt={get(w,H,z){if(w instanceof IDBTransaction){if("done"===H)return xe.get(w);if("objectStoreNames"===H)return w.objectStoreNames||dt.get(w);if("store"===H)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return He(w[H])},set:(w,H,z)=>(w[H]=z,!0),has:(w,H)=>w instanceof IDBTransaction&&("done"===H||"store"===H)||H in w};function Q(w){return"function"==typeof w?function he(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...H){return w.apply(De(this),H),He(qe.get(this))}:function(...H){return He(w.apply(De(this),H))}:function(H,...z){const A=w.call(De(this),H,...z);return dt.set(A,H.sort?H.sort():[H]),He(A)}}(w):(w instanceof IDBTransaction&&function at(w){if(xe.has(w))return;const H=new Promise((z,A)=>{const U=()=>{w.removeEventListener("complete",W),w.removeEventListener("error",le),w.removeEventListener("abort",le)},W=()=>{z(),U()},le=()=>{A(w.error||new DOMException("AbortError","AbortError")),U()};w.addEventListener("complete",W),w.addEventListener("error",le),w.addEventListener("abort",le)});xe.set(w,H)}(w),Te(w,function j(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,rt):w)}function He(w){if(w instanceof IDBRequest)return function Oe(w){const H=new Promise((z,A)=>{const U=()=>{w.removeEventListener("success",W),w.removeEventListener("error",le)},W=()=>{z(He(w.result)),U()},le=()=>{A(w.error),U()};w.addEventListener("success",W),w.addEventListener("error",le)});return H.then(z=>{z instanceof IDBCursor&&qe.set(z,w)}).catch(()=>{}),Be.set(H,w),H}(w);if(ve.has(w))return ve.get(w);const H=Q(w);return H!==w&&(ve.set(w,H),Be.set(H,w)),H}const De=w=>Be.get(w),ct=["get","getKey","getAll","getAllKeys","count"],Pt=["put","add","delete","clear"],e1=new Map;function z1(w,H){if(!(w instanceof IDBDatabase)||H in w||"string"!=typeof H)return;if(e1.get(H))return e1.get(H);const z=H.replace(/FromIndex$/,""),A=H!==z,U=Pt.includes(z);if(!(z in(A?IDBIndex:IDBObjectStore).prototype)||!U&&!ct.includes(z))return;const W=function(){var le=(0,N.Z)(function*($e,...Ne){const Fe=this.transaction($e,U?"readwrite":"readonly");let Et=Fe.store;return A&&(Et=Et.index(Ne.shift())),(yield Promise.all([Et[z](...Ne),U&&Fe.done]))[0]});return function(Ne){return le.apply(this,arguments)}}();return e1.set(H,W),W}!function Y(w){rt=w(rt)}(w=>({...w,get:(H,z,A)=>z1(H,z)||w.get(H,z,A),has:(H,z)=>!!z1(H,z)||w.has(H,z)}));const Gn="@firebase/installations",V2="0.6.4",li=1e4,qn=`w:${V2}`,ae="FIS_v2",ue="https://firebaseinstallations.googleapis.com/v1",ye=36e5,Xe=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(w){return w instanceof ne.ZR&&w.code.includes("request-failed")}function w2({projectId:w}){return`${ue}/projects/${w}/installations`}function pt(w){return{token:w.token,requestStatus:2,expiresIn:v1(w.expiresIn),creationTime:Date.now()}}function Wt(w,H){return xt.apply(this,arguments)}function xt(){return(xt=(0,N.Z)(function*(w,H){const A=(yield H.json()).error;return Xe.create("request-failed",{requestName:w,serverCode:A.code,serverMessage:A.message,serverStatus:A.status})})).apply(this,arguments)}function c2({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function t1(w){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,N.Z)(function*(w){const H=yield w();return H.status>=500&&H.status<600?w():H})).apply(this,arguments)}function v1(w){return Number(w.replace("s","000"))}function F1(){return(F1=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:H},{fid:z}){const A=w2(w),U=c2(w),W=H.getImmediate({optional:!0});if(W){const Fe=yield W.getHeartbeatsHeader();Fe&&U.append("x-firebase-client",Fe)}const $e={method:"POST",headers:U,body:JSON.stringify({fid:z,authVersion:ae,appId:w.appId,sdkVersion:qn})},Ne=yield t1(()=>fetch(A,$e));if(Ne.ok){const Fe=yield Ne.json();return{fid:Fe.fid||z,registrationStatus:2,refreshToken:Fe.refreshToken,authToken:pt(Fe.authToken)}}throw yield Wt("Create Installation",Ne)})).apply(this,arguments)}function B1(w){return new Promise(H=>{setTimeout(H,w)})}const Bi=/^[cdef][\w-]{21}$/,mt="";function Rt(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const z=function zt(w){return function ar(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Bi.test(z)?z:mt}catch{return mt}}function r2(w){return`${w.appName}!${w.appId}`}const m2=new Map;function L1(w,H){const z=r2(w);Ui(z,H),function Kt(w,H){const z=function Ot(){return!x1&&"BroadcastChannel"in self&&(x1=new BroadcastChannel("[Firebase] FID Change"),x1.onmessage=w=>{Ui(w.data.key,w.data.fid)}),x1}();z&&z.postMessage({key:w,fid:H}),function Wn(){0===m2.size&&x1&&(x1.close(),x1=null)}()}(z,H)}function Ui(w,H){const z=m2.get(w);if(z)for(const A of z)A(H)}let x1=null;const Sr="firebase-installations-database",zr=1,J1="firebase-installations-store";let or=null;function gn(){return or||(or=function We(w,H,{blocked:z,upgrade:A,blocking:U,terminated:W}={}){const le=indexedDB.open(w,H),$e=He(le);return A&&le.addEventListener("upgradeneeded",Ne=>{A(He(le.result),Ne.oldVersion,Ne.newVersion,He(le.transaction))}),z&&le.addEventListener("blocked",()=>z()),$e.then(Ne=>{W&&Ne.addEventListener("close",()=>W()),U&&Ne.addEventListener("versionchange",()=>U())}).catch(()=>{}),$e}(Sr,zr,{upgrade:(w,H)=>{0===H&&w.createObjectStore(J1)}})),or}function U2(w,H){return j2.apply(this,arguments)}function j2(){return(j2=(0,N.Z)(function*(w,H){const z=r2(w),U=(yield gn()).transaction(J1,"readwrite"),W=U.objectStore(J1),le=yield W.get(z);return yield W.put(H,z),yield U.done,(!le||le.fid!==H.fid)&&L1(w,H.fid),H})).apply(this,arguments)}function D1(w){return I2.apply(this,arguments)}function I2(){return(I2=(0,N.Z)(function*(w){const H=r2(w),A=(yield gn()).transaction(J1,"readwrite");yield A.objectStore(J1).delete(H),yield A.done})).apply(this,arguments)}function X1(w,H){return en.apply(this,arguments)}function en(){return(en=(0,N.Z)(function*(w,H){const z=r2(w),U=(yield gn()).transaction(J1,"readwrite"),W=U.objectStore(J1),le=yield W.get(z),$e=H(le);return void 0===$e?yield W.delete(z):yield W.put($e,z),yield U.done,$e&&(!le||le.fid!==$e.fid)&&L1(w,$e.fid),$e})).apply(this,arguments)}function F(w){return P.apply(this,arguments)}function P(){return P=(0,N.Z)(function*(w){let H;const z=yield X1(w.appConfig,A=>{const U=function G(w){return Lt(w||{fid:Rt(),registrationStatus:0})}(A),W=function _e(w,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(Xe.create("app-offline"))};const z={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},A=function ee(w,H){return Ke.apply(this,arguments)}(w,z);return{installationEntry:z,registrationPromise:A}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:St(w)}:{installationEntry:H}}(w,U);return H=W.registrationPromise,W.installationEntry});return z.fid===mt?{installationEntry:yield H}:{installationEntry:z,registrationPromise:H}}),P.apply(this,arguments)}function Ke(){return Ke=(0,N.Z)(function*(w,H){try{const z=yield function Er(w,H){return F1.apply(this,arguments)}(w,H);return U2(w.appConfig,z)}catch(z){throw je(z)&&409===z.customData.serverCode?yield D1(w.appConfig):yield U2(w.appConfig,{fid:H.fid,registrationStatus:0}),z}}),Ke.apply(this,arguments)}function St(w){return wt.apply(this,arguments)}function wt(){return(wt=(0,N.Z)(function*(w){let H=yield $2(w.appConfig);for(;1===H.registrationStatus;)yield B1(100),H=yield $2(w.appConfig);if(0===H.registrationStatus){const{installationEntry:z,registrationPromise:A}=yield F(w);return A||z}return H})).apply(this,arguments)}function $2(w){return X1(w,H=>{if(!H)throw Xe.create("installation-not-found");return Lt(H)})}function Lt(w){return function C2(w){return 1===w.registrationStatus&&w.registrationTime+li<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function T2(){return(T2=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:H},z){const A=function Ln(w,{fid:H}){return`${w2(w)}/${H}/authTokens:generate`}(w,z),U=function p2(w,{refreshToken:H}){const z=c2(w);return z.append("Authorization",function O1(w){return`${ae} ${w}`}(H)),z}(w,z),W=H.getImmediate({optional:!0});if(W){const Fe=yield W.getHeartbeatsHeader();Fe&&U.append("x-firebase-client",Fe)}const $e={method:"POST",headers:U,body:JSON.stringify({installation:{sdkVersion:qn,appId:w.appId}})},Ne=yield t1(()=>fetch(A,$e));if(Ne.ok)return pt(yield Ne.json());throw yield Wt("Generate Auth Token",Ne)})).apply(this,arguments)}function Zn(w){return ji.apply(this,arguments)}function ji(){return ji=(0,N.Z)(function*(w,H=!1){let z;const A=yield X1(w.appConfig,W=>{if(!Dt(W))throw Xe.create("not-registered");const le=W.authToken;if(!H&&function Zt(w){return 2===w.requestStatus&&!function E2(w){const H=Date.now();return H<w.creationTime||w.creationTime+w.expiresIn<H+ye}(w)}(le))return W;if(1===le.requestStatus)return z=function oe(w,H){return J.apply(this,arguments)}(w,H),W;{if(!navigator.onLine)throw Xe.create("app-offline");const $e=function S2(w){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:H})}(W);return z=function it(w,H){return Ge.apply(this,arguments)}(w,$e),$e}});return z?yield z:A.authToken}),ji.apply(this,arguments)}function J(){return(J=(0,N.Z)(function*(w,H){let z=yield Ee(w.appConfig);for(;1===z.authToken.requestStatus;)yield B1(100),z=yield Ee(w.appConfig);const A=z.authToken;return 0===A.requestStatus?Zn(w,H):A})).apply(this,arguments)}function Ee(w){return X1(w,H=>{if(!Dt(H))throw Xe.create("not-registered");return function r1(w){return 1===w.requestStatus&&w.requestTime+li<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function Ge(){return Ge=(0,N.Z)(function*(w,H){try{const z=yield function Ut(w,H){return T2.apply(this,arguments)}(w,H),A=Object.assign(Object.assign({},H),{authToken:z});return yield U2(w.appConfig,A),z}catch(z){if(!je(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const A=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield U2(w.appConfig,A)}else yield D1(w.appConfig);throw z}}),Ge.apply(this,arguments)}function Dt(w){return void 0!==w&&2===w.registrationStatus}function ui(){return(ui=(0,N.Z)(function*(w){const H=w,{installationEntry:z,registrationPromise:A}=yield F(H);return A?A.catch(console.error):Zn(H).catch(console.error),z.fid})).apply(this,arguments)}function fi(){return fi=(0,N.Z)(function*(w,H=!1){const z=w;return yield function R3(w){return tn.apply(this,arguments)}(z),(yield Zn(z,H)).token}),fi.apply(this,arguments)}function tn(){return(tn=(0,N.Z)(function*(w){const{registrationPromise:H}=yield F(w);H&&(yield H)})).apply(this,arguments)}function di(w){return Xe.create("missing-app-config-values",{valueName:w})}const F3="installations",f0=w=>{const H=w.getProvider("app").getImmediate(),z=function A1(w){if(!w||!w.options)throw di("App Configuration");if(!w.name)throw di("App Name");const H=["projectId","apiKey","appId"];for(const z of H)if(!w.options[z])throw di(z);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(H);return{app:H,appConfig:z,heartbeatServiceProvider:(0,se._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},xr=w=>{const H=w.getProvider("app").getImmediate(),z=(0,se._getProvider)(H,F3).getImmediate();return{getId:()=>function xn(w){return ui.apply(this,arguments)}(z),getToken:U=>function P3(w){return fi.apply(this,arguments)}(z,U)}};(function ic(){(0,se._registerComponent)(new me.wA(F3,f0,"PUBLIC")),(0,se._registerComponent)(new me.wA("installations-internal",xr,"PRIVATE"))})(),(0,se.registerVersion)(Gn,V2),(0,se.registerVersion)(Gn,V2,"esm2017");const qi="@firebase/remote-config",l1=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _t{constructor(H,z,A,U){this.client=H,this.storage=z,this.storageCache=A,this.logger=U}isCachedDataFresh(H,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const A=Date.now()-z,U=A<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${A}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${U}.`),U}fetch(H){var z=this;return(0,N.Z)(function*(){const[A,U]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(U&&z.isCachedDataFresh(H.cacheMaxAgeMillis,A))return U;H.eTag=U&&U.eTag;const W=yield z.client.fetch(H),le=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&le.push(z.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(le),W})()}}function l2(w=navigator){return w.languages&&w.languages[0]||w.language}class _1{constructor(H,z,A,U,W,le){this.firebaseInstallations=H,this.sdkVersion=z,this.namespace=A,this.projectId=U,this.apiKey=W,this.appId=le}fetch(H){var z=this;return(0,N.Z)(function*(){const[A,U]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},Ne={sdk_version:z.sdkVersion,app_instance_id:A,app_instance_id_token:U,app_id:z.appId,language_code:l2()},Fe={method:"POST",headers:$e,body:JSON.stringify(Ne)},Et=fetch(le,Fe),bt=new Promise((cn,Qr)=>{H.signal.addEventListener(()=>{const v3=new Error("The operation was aborted.");v3.name="AbortError",Qr(v3)})});let G1;try{yield Promise.race([Et,bt]),G1=yield Et}catch(cn){let Qr="fetch-client-network";throw"AbortError"===cn?.name&&(Qr="fetch-timeout"),l1.create(Qr,{originalErrorMessage:cn?.message})}let Y2=G1.status;const Di=G1.headers.get("ETag")||void 0;let v4,Yr;if(200===G1.status){let cn;try{cn=yield G1.json()}catch(Qr){throw l1.create("fetch-client-parse",{originalErrorMessage:Qr?.message})}v4=cn.entries,Yr=cn.state}if("INSTANCE_STATE_UNSPECIFIED"===Yr?Y2=500:"NO_CHANGE"===Yr?Y2=304:("NO_TEMPLATE"===Yr||"EMPTY_CONFIG"===Yr)&&(v4={}),304!==Y2&&200!==Y2)throw l1.create("fetch-status",{httpStatus:Y2});return{status:Y2,eTag:Di,config:v4}})()}}class Ki{constructor(H,z){this.client=H,this.storage=z}fetch(H){var z=this;return(0,N.Z)(function*(){const A=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(H,A)})()}attemptFetch(H,{throttleEndTimeMillis:z,backoffCount:A}){var U=this;return(0,N.Z)(function*(){yield function Ar(w,H){return new Promise((z,A)=>{const U=Math.max(H-Date.now(),0),W=setTimeout(z,U);w.addEventListener(()=>{clearTimeout(W),A(l1.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,z);try{const W=yield U.client.fetch(H);return yield U.storage.deleteThrottleMetadata(),W}catch(W){if(!function i1(w){if(!(w instanceof ne.ZR&&w.customData))return!1;const H=Number(w.customData.httpStatus);return 429===H||500===H||503===H||504===H}(W))throw W;const le={throttleEndTimeMillis:Date.now()+(0,ne.$s)(A),backoffCount:A+1};return yield U.storage.setThrottleMetadata(le),U.attemptFetch(H,le)}})()}}class pi{constructor(H,z,A,U,W){this.app=H,this._client=z,this._storageCache=A,this._storage=U,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vt(w,H){const z=w.target.error||void 0;return l1.create(H,{originalErrorMessage:z&&z?.message})}const s1="app_namespace_store";class $3{constructor(H,z,A,U=function f2(){return new Promise((w,H)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=A=>{H(Vt(A,"storage-open"))},z.onsuccess=A=>{w(A.target.result)},z.onupgradeneeded=A=>{0===A.oldVersion&&A.target.result.createObjectStore(s1,{keyPath:"compositeKey"})}}catch(z){H(l1.create("storage-open",{originalErrorMessage:z?.message}))}})}()){this.appId=H,this.appName=z,this.namespace=A,this.openDbPromise=U}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var z=this;return(0,N.Z)(function*(){const A=yield z.openDbPromise;return new Promise((U,W)=>{const $e=A.transaction([s1],"readonly").objectStore(s1),Ne=z.createCompositeKey(H);try{const Fe=$e.get(Ne);Fe.onerror=Et=>{W(Vt(Et,"storage-get"))},Fe.onsuccess=Et=>{const bt=Et.target.result;U(bt?bt.value:void 0)}}catch(Fe){W(l1.create("storage-get",{originalErrorMessage:Fe?.message}))}})})()}set(H,z){var A=this;return(0,N.Z)(function*(){const U=yield A.openDbPromise;return new Promise((W,le)=>{const Ne=U.transaction([s1],"readwrite").objectStore(s1),Fe=A.createCompositeKey(H);try{const Et=Ne.put({compositeKey:Fe,value:z});Et.onerror=bt=>{le(Vt(bt,"storage-set"))},Et.onsuccess=()=>{W()}}catch(Et){le(l1.create("storage-set",{originalErrorMessage:Et?.message}))}})})()}delete(H){var z=this;return(0,N.Z)(function*(){const A=yield z.openDbPromise;return new Promise((U,W)=>{const $e=A.transaction([s1],"readwrite").objectStore(s1),Ne=z.createCompositeKey(H);try{const Fe=$e.delete(Ne);Fe.onerror=Et=>{W(Vt(Et,"storage-delete"))},Fe.onsuccess=()=>{U()}}catch(Fe){W(l1.create("storage-delete",{originalErrorMessage:Fe?.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class Tr{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,N.Z)(function*(){const z=H.storage.getLastFetchStatus(),A=H.storage.getLastSuccessfulFetchTimestampMillis(),U=H.storage.getActiveConfig(),W=yield z;W&&(H.lastFetchStatus=W);const le=yield A;le&&(H.lastSuccessfulFetchTimestampMillis=le);const $e=yield U;$e&&(H.activeConfig=$e)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function lr(){return rn.apply(this,arguments)}function rn(){return(rn=(0,N.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function a1(){(0,se._registerComponent)(new me.wA("remote-config",function w(H,{instanceIdentifier:z}){const A=H.getProvider("app").getImmediate(),U=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw l1.create("registration-window");if(!(0,ne.hl)())throw l1.create("indexed-db-unavailable");const{projectId:W,apiKey:le,appId:$e}=A.options;if(!W)throw l1.create("registration-project-id");if(!le)throw l1.create("registration-api-key");if(!$e)throw l1.create("registration-app-id");const Ne=new $3($e,A.name,z=z||"firebase"),Fe=new Tr(Ne),Et=new ge.Yd(qi);Et.logLevel=ge.in.ERROR;const bt=new _1(U,se.SDK_VERSION,z,W,le,$e),G1=new Ki(bt,Ne),Y2=new _t(G1,Ne,Fe,Et),Di=new pi(A,Y2,Fe,Ne,Et);return function y1(w){const H=(0,ne.m9)(w);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(Di),Di},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(qi,"0.4.4"),(0,se.registerVersion)(qi,"0.4.4","esm2017")}();const Ps=(w,H)=>H.some(z=>w instanceof z);let Nr,Tt;const Rs=new WeakMap,G2=new WeakMap,kr=new WeakMap,q2=new WeakMap,ur=new WeakMap;let W2={get(w,H,z){if(w instanceof IDBTransaction){if("done"===H)return G2.get(w);if("objectStoreNames"===H)return w.objectStoreNames||kr.get(w);if("store"===H)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return j1(w[H])},set:(w,H,z)=>(w[H]=z,!0),has:(w,H)=>w instanceof IDBTransaction&&("done"===H||"store"===H)||H in w};function Pr(w){return"function"==typeof w?function Os(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mi(){return Tt||(Tt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...H){return w.apply(T1(this),H),j1(Rs.get(this))}:function(...H){return j1(w.apply(T1(this),H))}:function(H,...z){const A=w.call(T1(this),H,...z);return kr.set(A,H.sort?H.sort():[H]),j1(A)}}(w):(w instanceof IDBTransaction&&function oc(w){if(G2.has(w))return;const H=new Promise((z,A)=>{const U=()=>{w.removeEventListener("complete",W),w.removeEventListener("error",le),w.removeEventListener("abort",le)},W=()=>{z(),U()},le=()=>{A(w.error||new DOMException("AbortError","AbortError")),U()};w.addEventListener("complete",W),w.addEventListener("error",le),w.addEventListener("abort",le)});G2.set(w,H)}(w),Ps(w,function d0(){return Nr||(Nr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,W2):w)}function j1(w){if(w instanceof IDBRequest)return function o1(w){const H=new Promise((z,A)=>{const U=()=>{w.removeEventListener("success",W),w.removeEventListener("error",le)},W=()=>{z(j1(w.result)),U()},le=()=>{A(w.error),U()};w.addEventListener("success",W),w.addEventListener("error",le)});return H.then(z=>{z instanceof IDBCursor&&Rs.set(z,w)}).catch(()=>{}),ur.set(H,w),H}(w);if(q2.has(w))return q2.get(w);const H=Pr(w);return H!==w&&(q2.set(w,H),ur.set(H,w)),H}const T1=w=>ur.get(w);function gi(w,H,{blocked:z,upgrade:A,blocking:U,terminated:W}={}){const le=indexedDB.open(w,H),$e=j1(le);return A&&le.addEventListener("upgradeneeded",Ne=>{A(j1(le.result),Ne.oldVersion,Ne.newVersion,j1(le.transaction))}),z&&le.addEventListener("blocked",()=>z()),$e.then(Ne=>{W&&Ne.addEventListener("close",()=>W()),U&&Ne.addEventListener("versionchange",()=>U())}).catch(()=>{}),$e}function vi(w,{blocked:H}={}){const z=indexedDB.deleteDatabase(w);return H&&z.addEventListener("blocked",()=>H()),j1(z).then(()=>{})}const G3=["get","getKey","getAll","getAllKeys","count"],h0=["put","add","delete","clear"],Fs=new Map;function q3(w,H){if(!(w instanceof IDBDatabase)||H in w||"string"!=typeof H)return;if(Fs.get(H))return Fs.get(H);const z=H.replace(/FromIndex$/,""),A=H!==z,U=h0.includes(z);if(!(z in(A?IDBIndex:IDBObjectStore).prototype)||!U&&!G3.includes(z))return;const W=function(){var le=(0,N.Z)(function*($e,...Ne){const Fe=this.transaction($e,U?"readwrite":"readonly");let Et=Fe.store;return A&&(Et=Et.index(Ne.shift())),(yield Promise.all([Et[z](...Ne),U&&Fe.done]))[0]});return function(Ne){return le.apply(this,arguments)}}();return Fs.set(H,W),W}!function M1(w){W2=w(W2)}(w=>({...w,get:(H,z,A)=>q3(H,z)||w.get(H,z,A),has:(H,z)=>!!q3(H,z)||w.has(H,z)}));const sa="/firebase-messaging-sw.js",W3="/firebase-cloud-messaging-push-scope",aa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",p0="https://fcmregistrations.googleapis.com/v1",d2="google.c.a.c_id",m0="google.c.a.c_l",cc="google.c.a.ts";var oa=function(w){return w.PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",w}(oa||{});function Jn(w){const H=new Uint8Array(w);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Z3(w){const z=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),A=atob(z),U=new Uint8Array(A.length);for(let W=0;W<A.length;++W)U[W]=A.charCodeAt(W);return U}const yi="fcm_token_details_db",K3=5,Yi="fcm_token_object_Store";function Qi(){return Qi=(0,N.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(yi))return null;let H=null;return(yield gi(yi,K3,{upgrade:(A=(0,N.Z)(function*(U,W,le,$e){var Ne;if(W<2||!U.objectStoreNames.contains(Yi))return;const Fe=$e.objectStore(Yi),Et=yield Fe.index("fcmSenderId").get(w);if(yield Fe.clear(),Et)if(2===W){const bt=Et;if(!bt.auth||!bt.p256dh||!bt.endpoint)return;H={token:bt.fcmToken,createTime:null!==(Ne=bt.createTime)&&void 0!==Ne?Ne:Date.now(),subscriptionOptions:{auth:bt.auth,p256dh:bt.p256dh,endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:"string"==typeof bt.vapidKey?bt.vapidKey:Jn(bt.vapidKey)}}}else if(3===W){const bt=Et;H={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Jn(bt.auth),p256dh:Jn(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Jn(bt.vapidKey)}}}else if(4===W){const bt=Et;H={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Jn(bt.auth),p256dh:Jn(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Jn(bt.vapidKey)}}}}),function(W,le,$e,Ne){return A.apply(this,arguments)})})).close(),yield vi(yi),yield vi("fcm_vapid_details_db"),yield vi("undefined"),function Rr(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:H}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}(H)?H:null;var A}),Qi.apply(this,arguments)}const Bs="firebase-messaging-database",ca=1,w1="firebase-messaging-store";let Us=null;function js(){return Us||(Us=gi(Bs,ca,{upgrade:(w,H)=>{0===H&&w.createObjectStore(w1)}})),Us}function Y3(w){return Ci.apply(this,arguments)}function Ci(){return Ci=(0,N.Z)(function*(w){const H=H2(w),A=yield(yield js()).transaction(w1).objectStore(w1).get(H);if(A)return A;{const U=yield function X8(w){return Qi.apply(this,arguments)}(w.appConfig.senderId);if(U)return yield uc(w,U),U}}),Ci.apply(this,arguments)}function uc(w,H){return $s.apply(this,arguments)}function $s(){return($s=(0,N.Z)(function*(w,H){const z=H2(w),U=(yield js()).transaction(w1,"readwrite");return yield U.objectStore(w1).put(H,z),yield U.done,H})).apply(this,arguments)}function Or(){return(Or=(0,N.Z)(function*(w){const H=H2(w),A=(yield js()).transaction(w1,"readwrite");yield A.objectStore(w1).delete(H),yield A.done})).apply(this,arguments)}function H2({appConfig:w}){return w.appId}const b1=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gs(w,H){return qs.apply(this,arguments)}function qs(){return(qs=(0,N.Z)(function*(w,H){const z=yield Q3(w),A=dc(H),U={method:"POST",headers:z,body:JSON.stringify(A)};let W;try{W=yield(yield fetch(_i(w.appConfig),U)).json()}catch(le){throw b1.create("token-subscribe-failed",{errorInfo:le?.toString()})}if(W.error)throw b1.create("token-subscribe-failed",{errorInfo:W.error.message});if(!W.token)throw b1.create("token-subscribe-no-token");return W.token})).apply(this,arguments)}function la(){return(la=(0,N.Z)(function*(w,H){const z=yield Q3(w),A=dc(H.subscriptionOptions),U={method:"PATCH",headers:z,body:JSON.stringify(A)};let W;try{W=yield(yield fetch(`${_i(w.appConfig)}/${H.token}`,U)).json()}catch(le){throw b1.create("token-update-failed",{errorInfo:le?.toString()})}if(W.error)throw b1.create("token-update-failed",{errorInfo:W.error.message});if(!W.token)throw b1.create("token-update-no-token");return W.token})).apply(this,arguments)}function ua(w,H){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,N.Z)(function*(w,H){const A={method:"DELETE",headers:yield Q3(w)};try{const W=yield(yield fetch(`${_i(w.appConfig)}/${H}`,A)).json();if(W.error)throw b1.create("token-unsubscribe-failed",{errorInfo:W.error.message})}catch(U){throw b1.create("token-unsubscribe-failed",{errorInfo:U?.toString()})}})).apply(this,arguments)}function _i({projectId:w}){return`${p0}/projects/${w}/registrations`}function Q3(w){return fr.apply(this,arguments)}function fr(){return(fr=(0,N.Z)(function*({appConfig:w,installations:H}){const z=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function dc({p256dh:w,auth:H,endpoint:z,vapidKey:A}){const U={web:{endpoint:z,auth:H,p256dh:w}};return A!==aa&&(U.web.applicationPubKey=A),U}const hc=6048e5;function Zs(){return Zs=(0,N.Z)(function*(w){const H=yield function Xi(w,H){return Ks.apply(this,arguments)}(w.swRegistration,w.vapidKey),z={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:H.endpoint,auth:Jn(H.getKey("auth")),p256dh:Jn(H.getKey("p256dh"))},A=yield Y3(w.firebaseDependencies);if(A){if(function Ys(w,H){return H.vapidKey===w.vapidKey&&H.endpoint===w.endpoint&&H.auth===w.auth&&H.p256dh===w.p256dh}(A.subscriptionOptions,z))return Date.now()>=A.createTime+hc?function pc(w,H){return Mi.apply(this,arguments)}(w,{token:A.token,createTime:Date.now(),subscriptionOptions:z}):A.token;try{yield ua(w.firebaseDependencies,A.token)}catch(U){console.warn(U)}return ha(w.firebaseDependencies,z)}return ha(w.firebaseDependencies,z)}),Zs.apply(this,arguments)}function da(){return da=(0,N.Z)(function*(w){const H=yield Y3(w.firebaseDependencies);H&&(yield ua(w.firebaseDependencies,H.token),yield function Dn(w){return Or.apply(this,arguments)}(w.firebaseDependencies));const z=yield w.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()}),da.apply(this,arguments)}function Mi(){return Mi=(0,N.Z)(function*(w,H){try{const z=yield function Ji(w,H){return la.apply(this,arguments)}(w.firebaseDependencies,H),A=Object.assign(Object.assign({},H),{token:z,createTime:Date.now()});return yield uc(w.firebaseDependencies,A),z}catch(z){throw yield function fa(w){return da.apply(this,arguments)}(w),z}}),Mi.apply(this,arguments)}function ha(w,H){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,N.Z)(function*(w,H){const A={token:yield Gs(w,H),createTime:Date.now(),subscriptionOptions:H};return yield uc(w,A),A.token})).apply(this,arguments)}function Ks(){return(Ks=(0,N.Z)(function*(w,H){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Z3(H)})})).apply(this,arguments)}function wi(w){const H={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function J3(w,H){if(!H.notification)return;w.notification={};const z=H.notification.title;z&&(w.notification.title=z);const A=H.notification.body;A&&(w.notification.body=A);const U=H.notification.image;U&&(w.notification.image=U);const W=H.notification.icon;W&&(w.notification.icon=W)}(H,w),function Qs(w,H){H.data&&(w.data=H.data)}(H,w),function Xn(w,H){var z,A,U,W,le;if(!(H.fcmOptions||null!==(z=H.notification)&&void 0!==z&&z.click_action))return;w.fcmOptions={};const $e=null!==(U=null===(A=H.fcmOptions)||void 0===A?void 0:A.link)&&void 0!==U?U:null===(W=H.notification)||void 0===W?void 0:W.click_action;$e&&(w.fcmOptions.link=$e);const Ne=null===(le=H.fcmOptions)||void 0===le?void 0:le.analytics_label;Ne&&(w.fcmOptions.analyticsLabel=Ne)}(H,w),H}function X3(w,H){const z=[];for(let A=0;A<w.length;A++)z.push(w.charAt(A)),A<H.length&&z.push(H.charAt(A));return z.join("")}function e4(w){return b1.create("missing-app-config-values",{valueName:w})}X3("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),X3("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Js{constructor(H,z,A){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const U=function e2(w){if(!w||!w.options)throw e4("App Configuration Object");if(!w.name)throw e4("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:z}=w;for(const A of H)if(!z[A])throw e4(A);return{appName:w.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:U,installations:z,analyticsProvider:A}}_delete(){return Promise.resolve()}}function t4(){return(t4=(0,N.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(sa,{scope:W3}),w.swRegistration.update().catch(()=>{})}catch(H){throw b1.create("failed-service-worker-registration",{browserErrorMessage:H?.message})}})).apply(this,arguments)}function sn(){return(sn=(0,N.Z)(function*(w,H){if(!H&&!w.swRegistration&&(yield function u1(w){return t4.apply(this,arguments)}(w)),H||!w.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw b1.create("invalid-sw-registration");w.swRegistration=H}})).apply(this,arguments)}function es(){return(es=(0,N.Z)(function*(w,H){H?w.vapidKey=H:w.vapidKey||(w.vapidKey=aa)})).apply(this,arguments)}function r4(){return r4=(0,N.Z)(function*(w,H){if(!navigator)throw b1.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw b1.create("permission-blocked");return yield function L2(w,H){return es.apply(this,arguments)}(w,H?.vapidKey),yield function n4(w,H){return sn.apply(this,arguments)}(w,H?.serviceWorkerRegistration),function e5(w){return Zs.apply(this,arguments)}(w)}),r4.apply(this,arguments)}function i4(){return(i4=(0,N.Z)(function*(w,H,z){const A=function gc(w){switch(w){case oa.NOTIFICATION_CLICKED:return"notification_open";case oa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(H);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(A,{message_id:z[d2],message_name:z[m0],message_time:z[cc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Br(){return Br=(0,N.Z)(function*(w,H){const z=H.data;if(!z.isFirebaseMessaging)return;w.onMessageHandler&&z.messageType===oa.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(wi(z)):w.onMessageHandler.next(wi(z)));const A=z.data;(function mc(w){return"object"==typeof w&&!!w&&d2 in w})(A)&&"1"===A["google.c.a.e"]&&(yield function dr(w,H,z){return i4.apply(this,arguments)}(w,z.messageType,A))}),Br.apply(this,arguments)}const Ur="@firebase/messaging",It=w=>{const H=new Js(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function s4(w,H){return Br.apply(this,arguments)}(H,z)),H},Xs=w=>{const H=w.getProvider("messaging").getImmediate();return{getToken:A=>function pa(w,H){return r4.apply(this,arguments)}(H,A)}};function e3(){return t3.apply(this,arguments)}function t3(){return(t3=(0,N.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function g0(){(0,se._registerComponent)(new me.wA("messaging",It,"PUBLIC")),(0,se._registerComponent)(new me.wA("messaging-internal",Xs,"PRIVATE")),(0,se.registerVersion)(Ur,"0.12.4"),(0,se.registerVersion)(Ur,"0.12.4","esm2017")}();const fe="analytics",qt="firebase_id",o4="origin",yc=6e4,x2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",n3="https://www.googletagmanager.com/gtag/js",_2=new ge.Yd("@firebase/analytics"),Z2=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function pr(w){if(!w.startsWith(n3)){const H=Z2.create("invalid-gtag-resource",{gtagURL:w});return _2.warn(H.message),""}return w}function va(w){return Promise.all(w.map(H=>H.catch(z=>z)))}function bi(){return(bi=(0,N.Z)(function*(w,H,z,A,U,W){const le=A[U];try{if(le)yield H[le];else{const Ne=(yield va(z)).find(Fe=>Fe.measurementId===U);Ne&&(yield H[Ne.appId])}}catch($e){_2.error($e)}w("config",U,W)})).apply(this,arguments)}function yn(){return(yn=(0,N.Z)(function*(w,H,z,A,U){try{let W=[];if(U&&U.send_to){let le=U.send_to;Array.isArray(le)||(le=[le]);const $e=yield va(z);for(const Ne of le){const Fe=$e.find(bt=>bt.measurementId===Ne),Et=Fe&&H[Fe.appId];if(!Et){W=[];break}W.push(Et)}}0===W.length&&(W=Object.values(H)),yield Promise.all(W),w("event",A,U||{})}catch(W){_2.error(W)}})).apply(this,arguments)}const C0=30,l4=new class $r{constructor(H={},z=1e3){this.throttleMetadata=H,this.intervalMillis=z}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,z){this.throttleMetadata[H]=z}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function Ca(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function u4(){return(u4=(0,N.Z)(function*(w){var H;const{appId:z,apiKey:A}=w,U={method:"GET",headers:Ca(A)},W=x2.replace("{app-id}",z),le=yield fetch(W,U);if(200!==le.status&&304!==le.status){let $e="";try{const Ne=yield le.json();null!==(H=Ne.error)&&void 0!==H&&H.message&&($e=Ne.error.message)}catch{}throw Z2.create("config-fetch-failed",{httpStatus:le.status,responseMessage:$e})}return le.json()})).apply(this,arguments)}function Hi(){return(Hi=(0,N.Z)(function*(w,H=l4,z){const{appId:A,apiKey:U,measurementId:W}=w.options;if(!A)throw Z2.create("no-app-id");if(!U){if(W)return{measurementId:W,appId:A};throw Z2.create("no-api-key")}const le=H.getThrottleMetadata(A)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new ba;return setTimeout((0,N.Z)(function*(){$e.abort()}),void 0!==z?z:yc),Ma({appId:A,apiKey:U,measurementId:W},le,$e,H)})).apply(this,arguments)}function Ma(w,H,z){return rs.apply(this,arguments)}function rs(){return rs=(0,N.Z)(function*(w,{throttleEndTimeMillis:H,backoffCount:z},A,U=l4){var W;const{appId:le,measurementId:$e}=w;try{yield function wa(w,H){return new Promise((z,A)=>{const U=Math.max(H-Date.now(),0),W=setTimeout(z,U);w.addEventListener(()=>{clearTimeout(W),A(Z2.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(A,H)}catch(Ne){if($e)return _2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${Ne?.message}]`),{appId:le,measurementId:$e};throw Ne}try{const Ne=yield function _0(w){return u4.apply(this,arguments)}(w);return U.deleteThrottleMetadata(le),Ne}catch(Ne){const Fe=Ne;if(!function Vi(w){if(!(w instanceof ne.ZR&&w.customData))return!1;const H=Number(w.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Fe)){if(U.deleteThrottleMetadata(le),$e)return _2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${Fe?.message}]`),{appId:le,measurementId:$e};throw Ne}const Et=503===Number(null===(W=Fe?.customData)||void 0===W?void 0:W.httpStatus)?(0,ne.$s)(z,U.intervalMillis,C0):(0,ne.$s)(z,U.intervalMillis),bt={throttleEndTimeMillis:Date.now()+Et,backoffCount:z+1};return U.setThrottleMetadata(le,bt),_2.debug(`Calling attemptFetch again in ${Et} millis`),Ma(w,bt,A,U)}}),rs.apply(this,arguments)}class ba{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let Ha,Ei;function mr(){return(mr=(0,N.Z)(function*(w,H,z,A,U){if(U&&U.global)w("event",z,A);else{const W=yield H;w("event",z,Object.assign(Object.assign({},A),{send_to:W}))}})).apply(this,arguments)}function s3(){return(s3=(0,N.Z)(function*(){if(!(0,ne.hl)())return _2.warn(Z2.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(w){return _2.warn(Z2.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function qr(){return qr=(0,N.Z)(function*(w,H,z,A,U,W,le){var $e;const Ne=function _a(w){return Hi.apply(this,arguments)}(w);Ne.then(Y2=>{z[Y2.measurementId]=Y2.appId,w.options.measurementId&&Y2.measurementId!==w.options.measurementId&&_2.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Y2.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Y2=>_2.error(Y2)),H.push(Ne);const Fe=function ss(){return s3.apply(this,arguments)}().then(Y2=>{if(Y2)return A.getId()}),[Et,bt]=yield Promise.all([Ne,Fe]);(function ya(w){const H=window.document.getElementsByTagName("script");for(const z of Object.values(H))if(z.src&&z.src.includes(n3)&&z.src.includes(w))return z;return null})(W)||function i3(w,H){const z=function r3(w,H){let z;return window.trustedTypes&&(z=window.trustedTypes.createPolicy(w,H)),z}("firebase-js-sdk-policy",{createScriptURL:pr}),A=document.createElement("script"),U=`${n3}?l=${w}&id=${H}`;A.src=z?z?.createScriptURL(U):U,A.async=!0,document.head.appendChild(A)}(W,Et.measurementId),Ei&&(U("consent","default",Ei),function Gr(w){Ei=w}(void 0)),U("js",new Date);const G1=null!==($e=le?.config)&&void 0!==$e?$e:{};return G1[o4]="firebase",G1.update=!0,null!=bt&&(G1[qt]=bt),U("config",Et.measurementId,G1),Ha&&(U("set",Ha),function yr(w){Ha=w}(void 0)),Et.measurementId}),qr.apply(this,arguments)}class $1{constructor(H){this.app=H}_delete(){return delete f1[this.app.options.appId],Promise.resolve()}}let f1={},Ea=[];const Sa={};let o3,An,Si="dataLayer",za=!1;function Wr(w,H,z){!function h4(){const w=[];if((0,ne.ru)()&&w.push("This is a browser extension environment."),(0,ne.zI)()||w.push("Cookies are not available."),w.length>0){const H=w.map((A,U)=>`(${U+1}) ${A}`).join(" "),z=Z2.create("invalid-analytics-context",{errorInfo:H});_2.warn(z.message)}}();const A=w.options.appId;if(!A)throw Z2.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Z2.create("no-api-key");_2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=f1[A])throw Z2.create("already-exists",{id:A});if(!za){!function N1(w){let H=[];Array.isArray(window[w])?H=window[w]:window[w]=H}(Si);const{wrappedGtag:W,gtagCore:le}=function ns(w,H,z,A,U){let W=function(...le){window[A].push(arguments)};return window[U]&&"function"==typeof window[U]&&(W=window[U]),window[U]=function c4(w,H,z,A){function W(){return W=(0,N.Z)(function*(le,...$e){try{if("event"===le){const[Ne,Fe]=$e;yield function H1(w,H,z,A,U){return yn.apply(this,arguments)}(w,H,z,Ne,Fe)}else if("config"===le){const[Ne,Fe]=$e;yield function vn(w,H,z,A,U,W){return bi.apply(this,arguments)}(w,H,z,A,Ne,Fe)}else if("consent"===le){const[Ne]=$e;w("consent","update",Ne)}else if("get"===le){const[Ne,Fe,Et]=$e;w("get",Ne,Fe,Et)}else if("set"===le){const[Ne]=$e;w("set",Ne)}else w(le,...$e)}catch(Ne){_2.error(Ne)}}),W.apply(this,arguments)}return function U(le){return W.apply(this,arguments)}}(W,w,H,z),{gtagCore:W,wrappedGtag:window[U]}}(f1,Ea,Sa,Si,"gtag");An=W,o3=le,za=!0}return f1[A]=function a3(w,H,z,A,U,W,le){return qr.apply(this,arguments)}(w,Ea,Sa,H,o3,Si,z),new $1(w)}function as(){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,N.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const zi="@firebase/analytics";!function wc(){(0,se._registerComponent)(new me.wA(fe,(H,{options:z})=>Wr(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,se._registerComponent)(new me.wA("analytics-internal",function w(H){try{const z=H.getProvider(fe).getImmediate();return{logEvent:(A,U,W)=>function os(w,H,z,A){w=(0,ne.m9)(w),function k1(w,H,z,A,U){return mr.apply(this,arguments)}(An,f1[w.app.options.appId],H,z,A).catch(U=>_2.error(U))}(z,A,U,W)}}catch(z){throw Z2.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,se.registerVersion)(zi,"0.10.0"),(0,se.registerVersion)(zi,"0.10.0","esm2017")}();var u3=T(1954),Ta=T(2631);const bc=new class ls extends Ta.v{}(class m4 extends u3.o{constructor(H,z){super(H,z),this.scheduler=H,this.work=z}schedule(H,z=0){return z>0?super.schedule(H,z):(this.delay=z,this.state=H,this.scheduler.flush(this),this)}execute(H,z){return z>0||this.closed?super.execute(H,z):this._execute(H,z)}requestAsyncId(H,z,A=0){return null!=A&&A>0||null==A&&this.delay>0?super.requestAsyncId(H,z,A):(H.flush(this),0)}});var Tn=T(6321),Hc=T(4674),f3=T(9360),us=T(8251),_r=T(2737),K2=T(5137),Vc=T(3093);const ka=new g.GfV("7.6.1"),Li="__angularfire_symbol__analyticsIsSupportedValue",d3="__angularfire_symbol__analyticsIsSupported",h3="__angularfire_symbol__remoteConfigIsSupportedValue",Kr="__angularfire_symbol__remoteConfigIsSupported",Nn="__angularfire_symbol__messagingIsSupportedValue",er="__angularfire_symbol__messagingIsSupported";function Ic(w,H,z){if(H){if(1===H.length)return H[0];const W=H.filter(le=>le.app===z);if(1===W.length)return W[0]}return z.container.getProvider(w).getImmediate({optional:!0})}globalThis[d3]||(globalThis[d3]=as().then(w=>globalThis[Li]=w).catch(()=>globalThis[Li]=!1)),globalThis[er]||(globalThis[er]=e3().then(w=>globalThis[Nn]=w).catch(()=>globalThis[Nn]=!1)),globalThis[Kr]||(globalThis[Kr]=lr().then(w=>globalThis[h3]=w).catch(()=>globalThis[h3]=!1));const Ra=(w,H)=>{const z=H?[H]:(0,X.C6)(),A=[];return z.forEach(U=>{U.container.getProvider(w).instances.forEach(le=>{A.includes(le)||A.push(le)})}),A};function ds(){}class m3{constructor(H,z=bc){this.zone=H,this.delegate=z}now(){return this.delegate.now()}schedule(H,z,A){const U=this.zone;return this.delegate.schedule(function(le){U.runGuarded(()=>{H.apply(this,[le])})},z,A)}}class Ec{constructor(H){this.zone=H,this.task=null}call(H,z){const A=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ds,{},ds,ds)),z.pipe(function Na(w,H,z){const A=(0,Hc.m)(w)||H||z?{next:w,error:H,complete:z}:w;return A?(0,f3.e)((U,W)=>{var le;null===(le=A.subscribe)||void 0===le||le.call(A);let $e=!0;U.subscribe((0,us.x)(W,Ne=>{var Fe;null===(Fe=A.next)||void 0===Fe||Fe.call(A,Ne),W.next(Ne)},()=>{var Ne;$e=!1,null===(Ne=A.complete)||void 0===Ne||Ne.call(A),W.complete()},Ne=>{var Fe;$e=!1,null===(Fe=A.error)||void 0===Fe||Fe.call(A,Ne),W.error(Ne)},()=>{var Ne,Fe;$e&&(null===(Ne=A.unsubscribe)||void 0===Ne||Ne.call(A)),null===(Fe=A.finalize)||void 0===Fe||Fe.call(A)}))}):_r.y}({next:A,complete:A,error:A})).subscribe(H).add(A)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let b0=(()=>{class w{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new m3(Zone.current)),this.insideAngular=z.run(()=>new m3(Zone.current,Tn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(z){return new(z||w)(g.LFG(g.R0b))},w.\u0275prov=g.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function xi(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function D2(w){return xi(),function g3(w){return function(z){return(z=z.lift(new Ec(w.ngZone))).pipe((0,K2.R)(w.outsideAngular),(0,Vc.Q)(w.insideAngular))}}(xi())(w)}},9058:(ht,ze,T)=>{T.d(ze,{$s:()=>D1,BH:()=>Q,G6:()=>qn,L:()=>we,LL:()=>Ve,Pz:()=>he,Sg:()=>He,UG:()=>re,US:()=>me,ZB:()=>ie,ZR:()=>be,aH:()=>Y,b$:()=>e1,eu:()=>ue,hl:()=>ae,jU:()=>ct,m9:()=>en,ne:()=>r2,pd:()=>Rt,r3:()=>Xt,ru:()=>Pt,tV:()=>R,uI:()=>We,vZ:()=>F1,w1:()=>Gn,xO:()=>Bi,xb:()=>O1,z$:()=>De,zI:()=>ye,zd:()=>mt});const se=function(F){const P=[];let G=0;for(let _e=0;_e<F.length;_e++){let ee=F.charCodeAt(_e);ee<128?P[G++]=ee:ee<2048?(P[G++]=ee>>6|192,P[G++]=63&ee|128):55296==(64512&ee)&&_e+1<F.length&&56320==(64512&F.charCodeAt(_e+1))?(ee=65536+((1023&ee)<<10)+(1023&F.charCodeAt(++_e)),P[G++]=ee>>18|240,P[G++]=ee>>12&63|128,P[G++]=ee>>6&63|128,P[G++]=63&ee|128):(P[G++]=ee>>12|224,P[G++]=ee>>6&63|128,P[G++]=63&ee|128)}return P},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,P){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let ee=0;ee<F.length;ee+=3){const Ke=F[ee],St=ee+1<F.length,wt=St?F[ee+1]:0,$2=ee+2<F.length,Lt=$2?F[ee+2]:0;let T2=(15&wt)<<2|Lt>>6,Ln=63&Lt;$2||(Ln=64,St||(T2=64)),_e.push(G[Ke>>2],G[(3&Ke)<<4|wt>>4],G[T2],G[Ln])}return _e.join("")},encodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(F):this.encodeByteArray(se(F),P)},decodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(F):function(F){const P=[];let G=0,_e=0;for(;G<F.length;){const ee=F[G++];if(ee<128)P[_e++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Ke=F[G++];P[_e++]=String.fromCharCode((31&ee)<<6|63&Ke)}else if(ee>239&&ee<365){const $2=((7&ee)<<18|(63&F[G++])<<12|(63&F[G++])<<6|63&F[G++])-65536;P[_e++]=String.fromCharCode(55296+($2>>10)),P[_e++]=String.fromCharCode(56320+(1023&$2))}else{const Ke=F[G++],St=F[G++];P[_e++]=String.fromCharCode((15&ee)<<12|(63&Ke)<<6|63&St)}}return P.join("")}(this.decodeStringToByteArray(F,P))},decodeStringToByteArray(F,P){this.init_();const G=P?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let ee=0;ee<F.length;){const Ke=G[F.charAt(ee++)],wt=ee<F.length?G[F.charAt(ee)]:0;++ee;const Lt=ee<F.length?G[F.charAt(ee)]:64;++ee;const Ut=ee<F.length?G[F.charAt(ee)]:64;if(++ee,null==Ke||null==wt||null==Lt||null==Ut)throw new ge;_e.push(Ke<<2|wt>>4),64!==Lt&&(_e.push(wt<<4&240|Lt>>2),64!==Ut&&_e.push(Lt<<6&192|Ut))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(F){return function(F){const P=se(F);return me.encodeByteArray(P,!0)}(F).replace(/\./g,"")},R=function(F){try{return me.decodeString(F,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function ie(F,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return P}for(const G in P)!P.hasOwnProperty(G)||!qe(G)||(F[G]=ie(F[G],P[G]));return F}function qe(F){return"__proto__"!==F}const Oe=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=F&&R(F[1]);return P&&JSON.parse(P)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Y=()=>{var F;return null===(F=Oe())||void 0===F?void 0:F.config},he=F=>{var P;return null===(P=Oe())||void 0===P?void 0:P[`_${F}`]};class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,G)=>{this.resolve=P,this.reject=G})}wrapCallback(P){return(G,_e)=>{G?this.reject(G):this.resolve(_e),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(G):P(G,_e))}}}function He(F,P){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=P||"demo-project",ee=F.iat||0,Ke=F.sub||F.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:ee,exp:ee+3600,auth_time:ee,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},F);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(St)),""].join(".")}function De(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function We(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function re(){var F;const P=null===(F=Oe())||void 0===F?void 0:F.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ct(){return"object"==typeof self&&self.self===self}function Pt(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function e1(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Gn(){const F=De();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function qn(){return!re()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function ue(){return new Promise((F,P)=>{try{let G=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(_e);ee.onsuccess=()=>{ee.result.close(),G||self.indexedDB.deleteDatabase(_e),F(!0)},ee.onupgradeneeded=()=>{G=!1},ee.onerror=()=>{var Ke;P((null===(Ke=ee.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(G){P(G)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class be extends Error{constructor(P,G,_e){super(G),this.code=P,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(P,G,_e){this.service=P,this.serviceName=G,this.errors=_e}create(P,...G){const _e=G[0]||{},ee=`${this.service}/${P}`,Ke=this.errors[P],St=Ke?function Xe(F,P){return F.replace(je,(G,_e)=>{const ee=P[_e];return null!=ee?String(ee):`<${_e}?>`})}(Ke,_e):"Error";return new be(ee,`${this.serviceName}: ${St} (${ee}).`,_e)}}const je=/\{\$([^}]+)}/g;function Xt(F,P){return Object.prototype.hasOwnProperty.call(F,P)}function O1(F){for(const P in F)if(Object.prototype.hasOwnProperty.call(F,P))return!1;return!0}function F1(F,P){if(F===P)return!0;const G=Object.keys(F),_e=Object.keys(P);for(const ee of G){if(!_e.includes(ee))return!1;const Ke=F[ee],St=P[ee];if(B1(Ke)&&B1(St)){if(!F1(Ke,St))return!1}else if(Ke!==St)return!1}for(const ee of _e)if(!G.includes(ee))return!1;return!0}function B1(F){return null!==F&&"object"==typeof F}function Bi(F){const P=[];for(const[G,_e]of Object.entries(F))Array.isArray(_e)?_e.forEach(ee=>{P.push(encodeURIComponent(G)+"="+encodeURIComponent(ee))}):P.push(encodeURIComponent(G)+"="+encodeURIComponent(_e));return P.length?"&"+P.join("&"):""}function mt(F){const P={};return F.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[ee,Ke]=_e.split("=");P[decodeURIComponent(ee)]=decodeURIComponent(Ke)}}),P}function Rt(F){const P=F.indexOf("?");if(!P)return"";const G=F.indexOf("#",P);return F.substring(P,G>0?G:void 0)}function r2(F,P){const G=new m2(F,P);return G.subscribe.bind(G)}class m2{constructor(P,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{P(this)}).catch(_e=>{this.error(_e)})}next(P){this.forEachObserver(G=>{G.next(P)})}error(P){this.forEachObserver(G=>{G.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,G,_e){let ee;if(void 0===P&&void 0===G&&void 0===_e)throw new Error("Missing Observer.");ee=function Yt(F,P){if("object"!=typeof F||null===F)return!1;for(const G of P)if(G in F&&"function"==typeof F[G])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:G,complete:_e},void 0===ee.next&&(ee.next=n1),void 0===ee.error&&(ee.error=n1),void 0===ee.complete&&(ee.complete=n1);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Ke}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,P)}sendOne(P,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{G(this.observers[P])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n1(){}const or=1e3,gn=2,U2=144e5,j2=.5;function D1(F,P=or,G=gn){const _e=P*Math.pow(G,F),ee=Math.round(j2*_e*(Math.random()-.5)*2);return Math.min(U2,_e+ee)}function en(F){return F&&F._delegate?F._delegate:F}},2013:(ht,ze,T)=>{var g=T(7989);let X=null;function N(){return X}class ne{}const me=new g.OlP("DocumentToken");var Q=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Q||{}),ct=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(ct||{});function be(t,e){const n=(0,g.cg1)(t),r=n[g.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ct.CurrencyDecimal)return n[g.wAp.NumberSymbols][ct.Decimal];if(e===ct.CurrencyGroup)return n[g.wAp.NumberSymbols][ct.Group]}return r}const ee=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Dt(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const ui=/\s+/,P3=[];let fi=(()=>{var t;class e{constructor(r,a,l,f){this._iterableDiffers=r,this._keyValueDiffers=a,this._ngEl=l,this._renderer=f,this.initialClasses=P3,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(ui):P3}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(ui):r}ngDoCheck(){for(const a of this.initialClasses)this._updateState(a,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const a of r)this._updateState(a,!0);else if(null!=r)for(const a of Object.keys(r))this._updateState(a,!!r[a]);this._applyStateDiff()}_updateState(r,a){const l=this.stateMap.get(r);void 0!==l?(l.enabled!==a&&(l.changed=!0,l.enabled=a),l.touched=!0):this.stateMap.set(r,{enabled:a,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const a=r[0],l=r[1];l.changed?(this._toggleClass(a,l.enabled),l.changed=!1):l.touched||(l.enabled&&this._toggleClass(a,!1),this.stateMap.delete(a)),l.touched=!1}}_toggleClass(r,a){(r=r.trim()).length>0&&r.split(ui).forEach(l=>{a?this._renderer.addClass(this._ngEl.nativeElement,l):this._renderer.removeClass(this._ngEl.nativeElement,l)})}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},t.\u0275dir=g.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Lr{constructor(e,n,r,a){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $i=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,a,l){this._viewContainer=r,this._template=a,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=this._viewContainer;r.forEachOperation((l,f,m)=>{if(null==l.previousIndex)a.createEmbeddedView(this._template,new Lr(l.item,this._ngForOf,-1,-1),null===m?void 0:m);else if(null==m)a.remove(null===f?void 0:f);else if(null!==f){const M=a.get(f);a.move(M,m),O3(M,l)}});for(let l=0,f=a.length;l<f;l++){const M=a.get(l).context;M.index=l,M.count=f,M.ngForOf=this._ngForOf}r.forEachIdentityChange(l=>{O3(a.get(l.currentIndex),l)})}static ngTemplateContextGuard(r,a){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},t.\u0275dir=g.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function O3(t,e){t.context.$implicit=e.item}let U1=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=g2}transform(r,a=g2){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const l=this.differ.diff(r),f=a!==this.compareFn;return l&&(this.keyValues=[],l.forEachItem(m=>{this.keyValues.push(function ks(t,e){return{key:t,value:e}}(m.key,m.currentValue))})),(l||f)&&(this.keyValues.sort(a),this.compareFn=a),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(g.aQg,16))},t.\u0275pipe=g.Yjl({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function g2(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const a=String(n),l=String(r);return a==l?0:a<l?-1:1}let Ze=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,a,l){if(!function _1(t){return!(null==t||""===t||t!=t)}(r))return null;l=l||this._locale;try{return function oe(t,e,n){return function Ln(t,e,n,r,a,l,f=!1){let m="",M=!1;if(isFinite(t)){let V=function it(t){let r,a,l,f,m,e=Math.abs(t)+"",n=0;for((a=e.indexOf("."))>-1&&(e=e.replace(".","")),(l=e.search(/e/i))>0?(a<0&&(a=l),a+=+e.slice(l+1),e=e.substring(0,l)):a<0&&(a=e.length),l=0;"0"===e.charAt(l);l++);if(l===(m=e.length))r=[0],a=1;else{for(m--;"0"===e.charAt(m);)m--;for(a-=l,r=[],f=0;l<=m;l++,f++)r[f]=Number(e.charAt(l))}return a>22&&(r=r.splice(0,21),n=a-1,a=1),{digits:r,exponent:n,integerLen:a}}(t);f&&(V=function Ee(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(V));let S=e.minInt,D=e.minFrac,O=e.maxFrac;if(l){const lt=l.match(ee);if(null===lt)throw new Error(`${l} is not a valid digit info`);const st=lt[1],vt=lt[3],Ht=lt[5];null!=st&&(S=Dt(st)),null!=vt&&(D=Dt(vt)),null!=Ht?O=Dt(Ht):null!=vt&&D>O&&(O=D)}!function Ge(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,a=r.length-t.integerLen;const l=Math.min(Math.max(e,a),n);let f=l+t.integerLen,m=r[f];if(f>0){r.splice(Math.max(t.integerLen,f));for(let D=f;D<r.length;D++)r[D]=0}else{a=Math.max(0,a),t.integerLen=1,r.length=Math.max(1,f=l+1),r[0]=0;for(let D=1;D<f;D++)r[D]=0}if(m>=5)if(f-1<0){for(let D=0;D>f;D--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[f-1]++;for(;a<Math.max(0,l);a++)r.push(0);let M=0!==l;const V=e+t.integerLen,S=r.reduceRight(function(D,O,q,de){return de[q]=(O+=D)<10?O:O-10,M&&(0===de[q]&&q>=V?de.pop():M=!1),O>=10?1:0},0);S&&(r.unshift(S),t.integerLen++)}(V,D,O);let q=V.digits,de=V.integerLen;const Ae=V.exponent;let Pe=[];for(M=q.every(lt=>!lt);de<S;de++)q.unshift(0);for(;de<0;de++)q.unshift(0);de>0?Pe=q.splice(de,q.length):(Pe=q,q=[0]);const ft=[];for(q.length>=e.lgSize&&ft.unshift(q.splice(-e.lgSize,q.length).join(""));q.length>e.gSize;)ft.unshift(q.splice(-e.gSize,q.length).join(""));q.length&&ft.unshift(q.join("")),m=ft.join(be(n,r)),Pe.length&&(m+=be(n,a)+Pe.join("")),Ae&&(m+=be(n,ct.Exponential)+"+"+Ae)}else m=be(n,ct.Infinity);return m=t<0&&!M?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(t,function J(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),a=r[0],l=r[1],f=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],m=f[0],M=f[1]||"";n.posPre=m.substring(0,m.indexOf("#"));for(let S=0;S<M.length;S++){const D=M.charAt(S);"0"===D?n.minFrac=n.maxFrac=S+1:"#"===D?n.maxFrac=S+1:n.posSuf+=D}const V=m.split(",");if(n.gSize=V[1]?V[1].length:0,n.lgSize=V[2]||V[1]?(V[2]||V[1]).length:0,l){const S=a.length-n.posPre.length-n.posSuf.length,D=l.indexOf("#");n.negPre=l.substring(0,D).replace(/'/g,""),n.negSuf=l.slice(D+S).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Ve(t,e){return(0,g.cg1)(t)[g.wAp.NumberFormats][e]}(e,Q.Decimal),be(e,ct.MinusSign)),e,ct.Group,ct.Decimal,n)}(function Ar(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),l,a)}catch(f){throw function nn(t,e){return new g.vHH(2100,!1)}()}}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(g.soG,16))},t.\u0275pipe=g.Yjl({name:"number",type:t,pure:!0,standalone:!0}),e})();let u2=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({}),e})();function Yn(t){return"server"===t}class Ks extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ys extends Ks{static makeCurrent(){!function se(t){X||(X=t)}(new Ys)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function J3(){return wi=wi||document.querySelector("base"),wi?wi.getAttribute("href"):null}();return null==n?null:function Xn(t){Qs=Qs||document.createElement("a"),Qs.setAttribute("href",t);const e=Qs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){wi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function xn(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[a,l]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Qs,wi=null,X3=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();const e2=new g.OlP("EventManagerPlugins");let e4=(()=>{var t;class e{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(l=>{l.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,a,l){return this._findPluginFor(a).addEventListener(r,a,l)}getZone(){return this._zone}_findPluginFor(r){let a=this._eventNameToPlugin.get(r);if(a)return a;if(a=this._plugins.find(f=>f.supports(r)),!a)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(r,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(e2),g.LFG(g.R0b))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();class Js{constructor(e){this._doc=e}}const u1="ng-app-id";let t4=(()=>{var t;class e{constructor(r,a,l,f={}){this.doc=r,this.appId=a,this.nonce=l,this.platformId=f,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yn(f),this.resetHostNodes()}addStyles(r){for(const a of r)1===this.changeUsageCount(a,1)&&this.onStyleAdded(a)}removeStyles(r){for(const a of r)this.changeUsageCount(a,-1)<=0&&this.onStyleRemoved(a)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(a=>a.remove()),r.clear());for(const a of this.getAllStyles())this.onStyleRemoved(a);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const a of this.getAllStyles())this.addStyleToHost(r,a)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const a of this.hostNodes)this.addStyleToHost(a,r)}onStyleRemoved(r){const a=this.styleRef;a.get(r)?.elements?.forEach(l=>l.remove()),a.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${u1}="${this.appId}"]`);if(r?.length){const a=new Map;return r.forEach(l=>{null!=l.textContent&&a.set(l.textContent,l)}),a}return null}changeUsageCount(r,a){const l=this.styleRef;if(l.has(r)){const f=l.get(r);return f.usage+=a,f.usage}return l.set(r,{usage:a,elements:[]}),a}getStyleElement(r,a){const l=this.styleNodesInDOM,f=l?.get(a);if(f?.parentNode===r)return l.delete(a),f.removeAttribute(u1),f;{const m=this.doc.createElement("style");return this.nonce&&m.setAttribute("nonce",this.nonce),m.textContent=a,this.platformIsServer&&m.setAttribute(u1,this.appId),m}}addStyleToHost(r,a){const l=this.getStyleElement(r,a);r.appendChild(l);const f=this.styleRef,m=f.get(a)?.elements;m?m.push(l):f.set(a,{elements:[l],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(me),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();const n4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sn=/%COMP%/g,dr=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function s4(t,e){return e.map(n=>n.replace(sn,t))}let Br=(()=>{var t;class e{constructor(r,a,l,f,m,M,V,S=null){this.eventManager=r,this.sharedStylesHost=a,this.appId=l,this.removeStylesOnCompDestroy=f,this.doc=m,this.platformId=M,this.ngZone=V,this.nonce=S,this.rendererByCompId=new Map,this.platformIsServer=Yn(M),this.defaultRenderer=new Ur(r,m,V,this.platformIsServer)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===g.ifc.ShadowDom&&(a={...a,encapsulation:g.ifc.Emulated});const l=this.getOrCreateRenderer(r,a);return l instanceof t3?l.applyToHost(r):l instanceof e3&&l.applyStyles(),l}getOrCreateRenderer(r,a){const l=this.rendererByCompId;let f=l.get(a.id);if(!f){const m=this.doc,M=this.ngZone,V=this.eventManager,S=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,O=this.platformIsServer;switch(a.encapsulation){case g.ifc.Emulated:f=new t3(V,S,a,this.appId,D,m,M,O);break;case g.ifc.ShadowDom:return new g0(V,S,r,a,m,M,this.nonce,O);default:f=new e3(V,S,a,D,m,M,O)}l.set(a.id,f)}return f}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(e4),g.LFG(t4),g.LFG(g.AFp),g.LFG(dr),g.LFG(me),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();class Ur{constructor(e,n,r,a){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(n4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Xs(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Xs(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new g.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,a){if(a){n=a+":"+n;const l=n4[a];l?e.setAttributeNS(l,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const a=n4[r];a?e.removeAttributeNS(a,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,a){a&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(n,r,a&g.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&g.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=N().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Xs(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class g0 extends Ur{constructor(e,n,r,a,l,f,m,M){super(e,l,f,M),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const V=s4(a.id,a.styles);for(const S of V){const D=document.createElement("style");m&&D.setAttribute("nonce",m),D.textContent=S,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class e3 extends Ur{constructor(e,n,r,a,l,f,m,M){super(e,l,f,m),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=a,this.styles=M?s4(M,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class t3 extends e3{constructor(e,n,r,a,l,f,m,M){const V=a+"-"+r.id;super(e,n,r,l,f,m,M,V),this.contentAttr=function i4(t){return"_ngcontent-%COMP%".replace(sn,t)}(V),this.hostAttr=function gc(t){return"_nghost-%COMP%".replace(sn,t)}(V)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let v0=(()=>{var t;class e extends Js{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,l){return r.addEventListener(a,l,!1),()=>this.removeEventListener(r,a,l)}removeEventListener(r,a,l){return r.removeEventListener(a,l)}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(me))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();const hr=["alt","control","meta","shift"],ts={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jr={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let y0=(()=>{var t;class e extends Js{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,a,l){const f=e.parseEventName(a),m=e.eventCallback(f.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(r,f.domEventName,m))}static parseEventName(r){const a=r.toLowerCase().split("."),l=a.shift();if(0===a.length||"keydown"!==l&&"keyup"!==l)return null;const f=e._normalizeKey(a.pop());let m="",M=a.indexOf("code");if(M>-1&&(a.splice(M,1),m="code."),hr.forEach(S=>{const D=a.indexOf(S);D>-1&&(a.splice(D,1),m+=S+".")}),m+=f,0!=a.length||0===f.length)return null;const V={};return V.domEventName=l,V.fullKey=m,V}static matchEventFullKeyCode(r,a){let l=ts[r.key]||r.key,f="";return a.indexOf("code.")>-1&&(l=r.code,f="code."),!(null==l||!l)&&(l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),hr.forEach(m=>{m!==l&&(0,jr[m])(r)&&(f+=m+".")}),f+=l,f===a)}static eventCallback(r,a,l){return f=>{e.matchEventFullKeyCode(f,r)&&l.runGuarded(()=>a(f))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(me))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac}),e})();const n3=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function qt(){Ys.makeCurrent()},multi:!0},{provide:me,useFactory:function yc(){return(0,g.RDi)(document),document},deps:[]}]),_2=new g.OlP(""),an=[{provide:g.rWj,useClass:class mc{addToWindow(e){g.dqk.getAngularTestability=(r,a=!0)=>{const l=e.findTestabilityInTree(r,a);if(null==l)throw new g.vHH(5103,!1);return l},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const a=g.dqk.getAllAngularTestabilities();let l=a.length,f=!1;const m=function(M){f=f||M,l--,0==l&&r(f)};a.forEach(M=>{M.whenStable(m)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?N().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],Z2=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function o4(){return new g.qLn},deps:[]},{provide:e2,useClass:v0,multi:!0,deps:[me,g.R0b,g.Lbi]},{provide:e2,useClass:y0,multi:!0,deps:[me]},Br,t4,e4,{provide:g.FYo,useExisting:Br},{provide:class rn{},useClass:X3,deps:[]},[]];let pr=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:g.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(_2,12))},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[...Z2,...an],imports:[u2,g.hGG]}),e})();typeof window<"u"&&window;let rs=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:function(r){let a=null;return a=r?new(r||t):g.LFG(Vi),a},providedIn:"root"}),e})(),Vi=(()=>{var t;class e extends rs{constructor(r){super(),this._doc=r}sanitize(r,a){if(null==a)return null;switch(r){case g.q3G.NONE:return a;case g.q3G.HTML:return(0,g.qzn)(a,"HTML")?(0,g.z3N)(a):(0,g.EiD)(this._doc,String(a)).toString();case g.q3G.STYLE:return(0,g.qzn)(a,"Style")?(0,g.z3N)(a):a;case g.q3G.SCRIPT:if((0,g.qzn)(a,"Script"))return(0,g.z3N)(a);throw new g.vHH(5200,!1);case g.q3G.URL:return(0,g.qzn)(a,"URL")?(0,g.z3N)(a):(0,g.mCW)(String(a));case g.q3G.RESOURCE_URL:if((0,g.qzn)(a,"ResourceURL"))return(0,g.z3N)(a);throw new g.vHH(5201,!1);default:throw new g.vHH(5202,!1)}}bypassSecurityTrustHtml(r){return(0,g.JVY)(r)}bypassSecurityTrustStyle(r){return(0,g.L6k)(r)}bypassSecurityTrustScript(r){return(0,g.eBb)(r)}bypassSecurityTrustUrl(r){return(0,g.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,g.pB0)(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(g.LFG(me))},t.\u0275prov=g.Yz7({token:t,factory:function(r){let a=null;return a=r?new r:function wa(t){return new Vi(t.get(me))}(g.LFG(g.zs3)),a},providedIn:"root"}),e})();var w5={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},dh={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},bo={prefix:"fas",iconName:"cubes-stacked",icon:[448,512,[],"e4e6","M192 64v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32H224c-17.7 0-32 14.3-32 32zM82.7 207c-15.3 8.8-20.5 28.4-11.7 43.7l32 55.4c8.8 15.3 28.4 20.5 43.7 11.7l55.4-32c15.3-8.8 20.5-28.4 11.7-43.7l-32-55.4c-8.8-15.3-28.4-20.5-43.7-11.7L82.7 207zM288 192c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32H288zm64 160c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H352zM160 384v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H192c-17.7 0-32 14.3-32 32zM32 352c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H32z"]},n7={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},f7={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},PH={prefix:"fas",iconName:"satellite",icon:[512,512,[128752],"f7bf","M233 7c-9.4-9.4-24.6-9.4-33.9 0l-96 96c-9.4 9.4-9.4 24.6 0 33.9l89.4 89.4-15.5 15.5C152.3 230.4 124.9 224 96 224c-31.7 0-61.5 7.7-87.8 21.2c-9 4.7-10.3 16.7-3.1 23.8L112.7 376.7 96.3 393.1c-2.6-.7-5.4-1.1-8.3-1.1c-17.7 0-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32c0-2.9-.4-5.6-1.1-8.3l16.4-16.4L242.9 506.9c7.2 7.2 19.2 5.9 23.8-3.1C280.3 477.5 288 447.7 288 416c0-28.9-6.4-56.3-17.8-80.9l15.5-15.5L375 409c9.4 9.4 24.6 9.4 33.9 0l96-96c9.4-9.4 9.4-24.6 0-33.9l-89.4-89.4 55-55c12.5-12.5 12.5-32.8 0-45.3l-48-48c-12.5-12.5-32.8-12.5-45.3 0l-55 55L233 7zm159 351l-72.4-72.4 62.1-62.1L454.1 296 392 358.1zM226.3 192.4L153.9 120 216 57.9l72.4 72.4-62.1 62.1z"]},v={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2l0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5V176c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336V300.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4V304v5.7V336zm32 0V304 278.1c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5V272c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5V432c0 44.2-86 80-192 80S0 476.2 0 432V396.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z"]},Ux={prefix:"fas",iconName:"person-rifle",icon:[576,512,[],"e54e","M265.2 192c25.4 0 49.8 7.1 70.8 19.9V512H144V337.7L90.4 428.3c-11.2 19-35.8 25.3-54.8 14.1s-25.3-35.8-14.1-54.8L97.7 258.8c24.5-41.4 69-66.8 117.1-66.8h50.4zM160 80a80 80 0 1 1 160 0A80 80 0 1 1 160 80zM448 0c8.8 0 16 7.2 16 16V132.3c9.6 5.5 16 15.9 16 27.7V269.3l16-5.3V208c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v84.5c0 6.9-4.4 13-10.9 15.2L480 325.3V352h48c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H484l23 92.1c2.5 10.1-5.1 19.9-15.5 19.9H432c-8.8 0-16-7.2-16-16V400H400c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32V160c0-11.8 6.4-22.2 16-27.7V32c-8.8 0-16-7.2-16-16s7.2-16 16-16h16 16z"]},xV={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288H175.5L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7H272.5L349.4 44.6z"]},G7={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},wD={prefix:"fas",iconName:"tree-city",icon:[640,512,[],"e587","M288 48c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48V192h40V120c0-13.3 10.7-24 24-24s24 10.7 24 24v72h24c26.5 0 48 21.5 48 48V464c0 26.5-21.5 48-48 48H432 336c-26.5 0-48-21.5-48-48V48zm64 32v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16zm16 80c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V176c0-8.8-7.2-16-16-16H368zM352 272v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16zm176-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H528zM512 368v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H528c-8.8 0-16 7.2-16 16zM224 160c0 6-1 11-2 16c20 14 34 38 34 64c0 45-36 80-80 80H160V480c0 18-15 32-32 32c-18 0-32-14-32-32V320H80c-45 0-80-35-80-80c0-26 13-50 33-64c-1-5-1-10-1-16c0-53 42-96 96-96c53 0 96 43 96 96z"]},RD={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},_A={prefix:"fas",iconName:"carrot",icon:[512,512,[129365],"f787","M346.7 6C337.6 17 320 42.3 320 72c0 40 15.3 55.3 40 80s40 40 80 40c29.7 0 55-17.6 66-26.7c4-3.3 6-8.2 6-13.3s-2-10-6-13.2c-11.4-9.1-38.3-26.8-74-26.8c-32 0-40 8-40 8s8-8 8-40c0-35.7-17.7-62.6-26.8-74C370 2 365.1 0 360 0s-10 2-13.3 6zM244.6 136c-40 0-77.1 18.1-101.7 48.2l60.5 60.5c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0l-55.3-55.3 0 .1L2.2 477.9C-2 487-.1 497.8 7 505s17.9 9 27.1 4.8l134.7-62.4-52.1-52.1c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L199.7 433l100.2-46.4c46.4-21.5 76.2-68 76.2-119.2C376 194.8 317.2 136 244.6 136z"]},$V={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function mT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mT(Object(n),!0).forEach(function(r){Z1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pv(t){return(pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JV(t,e){return function kY(t){if(Array.isArray(t))return t}(t)||function RY(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var f,m,r=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(f=n.next()).done)&&(r.push(f.value),!e||r.length!==e);a=!0);}catch(M){l=!0,m=M}finally{try{!a&&null!=n.return&&n.return()}finally{if(l)throw m}}return r}}(t,e)||vT(t,e)||function FY(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y7(t){return function NY(t){if(Array.isArray(t))return XV(t)}(t)||function PY(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||vT(t)||function OY(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vT(t,e){if(t){if("string"==typeof t)return XV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XV(t,e)}}function XV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yT=function(){},eI={},CT={},_T=null,MT={mark:yT,measure:yT};try{typeof window<"u"&&(eI=window),typeof document<"u"&&(CT=document),typeof MutationObserver<"u"&&(_T=MutationObserver),typeof performance<"u"&&(MT=performance)}catch{}var vv,yv,Cv,_v,Mv,wT=(eI.navigator||{}).userAgent,bT=void 0===wT?"":wT,zo=eI,N2=CT,HT=_T,gv=MT,B4=!!N2.documentElement&&!!N2.head&&"function"==typeof N2.addEventListener&&"function"==typeof N2.createElement,VT=~bT.indexOf("MSIE")||~bT.indexOf("Trident/"),U4="___FONT_AWESOME___",IT="fa",ET="svg-inline--fa",L6="data-fa-i2svg",nI="data-fa-pseudo-element",UY="data-fa-pseudo-element-pending",rI="data-prefix",iI="data-icon",ST="fontawesome-i2svg",jY="async",$Y=["HTML","HEAD","STYLE","SCRIPT"],zT=function(){try{return!0}catch{return!1}}(),k2="classic",d1="sharp",sI=[k2,d1];function Q7(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[k2]}})}var J7=Q7((Z1(vv={},k2,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Z1(vv,d1,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),vv)),X7=Q7((Z1(yv={},k2,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Z1(yv,d1,{solid:"fass",regular:"fasr",light:"fasl"}),yv)),ef=Q7((Z1(Cv={},k2,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Z1(Cv,d1,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Cv)),GY=Q7((Z1(_v={},k2,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Z1(_v,d1,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),_v)),qY=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,LT="fa-layers-text",WY=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,ZY=Q7((Z1(Mv={},k2,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Z1(Mv,d1,{900:"fass",400:"fasr",300:"fasl"}),Mv)),xT=[1,2,3,4,5,6,7,8,9,10],KY=xT.concat([11,12,13,14,15,16,17,18,19,20]),YY=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],x6={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},tf=new Set;Object.keys(X7[k2]).map(tf.add.bind(tf)),Object.keys(X7[d1]).map(tf.add.bind(tf));var QY=[].concat(sI,Y7(tf),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",x6.GROUP,x6.SWAP_OPACITY,x6.PRIMARY,x6.SECONDARY]).concat(xT.map(function(t){return"".concat(t,"x")})).concat(KY.map(function(t){return"w-".concat(t)})),nf=zo.FontAwesomeConfig||{};N2&&"function"==typeof N2.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=JV(t,2),r=e[1],a=function XY(t){return""===t||"false"!==t&&("true"===t||t)}(function JY(t){var e=N2.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=a&&(nf[r]=a)});var DT={styleDefault:"solid",familyDefault:"classic",cssPrefix:IT,replacementClass:ET,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};nf.familyPrefix&&(nf.cssPrefix=nf.familyPrefix);var c8=ut(ut({},DT),nf);c8.autoReplaceSvg||(c8.observeMutations=!1);var yt={};Object.keys(DT).forEach(function(t){Object.defineProperty(yt,t,{enumerable:!0,set:function(n){c8[t]=n,rf.forEach(function(r){return r(yt)})},get:function(){return c8[t]}})}),Object.defineProperty(yt,"familyPrefix",{enumerable:!0,set:function(e){c8.cssPrefix=e,rf.forEach(function(n){return n(yt)})},get:function(){return c8.cssPrefix}}),zo.FontAwesomeConfig=yt;var rf=[],E3={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},rQ="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function sf(){for(var t=12,e="";t-- >0;)e+=rQ[62*Math.random()|0];return e}function l8(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function aI(t){return t.classList?l8(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function AT(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wv(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function oI(t){return t.size!==E3.size||t.x!==E3.x||t.y!==E3.y||t.rotate!==E3.rotate||t.flipX||t.flipY}var oQ=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function TT(){var t=IT,e=ET,n=yt.cssPrefix,r=yt.replacementClass,a=oQ;if(n!==t||r!==e){var l=new RegExp("\\.".concat(t,"\\-"),"g"),f=new RegExp("\\--".concat(t,"\\-"),"g"),m=new RegExp("\\.".concat(e),"g");a=a.replace(l,".".concat(n,"-")).replace(f,"--".concat(n,"-")).replace(m,".".concat(r))}return a}var NT=!1;function cI(){yt.autoAddCss&&!NT&&(function nQ(t){if(t&&B4){var e=N2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=N2.head.childNodes,r=null,a=n.length-1;a>-1;a--){var l=n[a],f=(l.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(f)>-1&&(r=l)}N2.head.insertBefore(e,r)}}(TT()),NT=!0)}var cQ={mixout:function(){return{dom:{css:TT,insertCss:cI}}},hooks:function(){return{beforeDOMElementCreation:function(){cI()},beforeI2svg:function(){cI()}}}},j4=zo||{};j4[U4]||(j4[U4]={}),j4[U4].styles||(j4[U4].styles={}),j4[U4].hooks||(j4[U4].hooks={}),j4[U4].shims||(j4[U4].shims=[]);var Is=j4[U4],kT=[],bv=!1;function af(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,a=t.children,l=void 0===a?[]:a;return"string"==typeof t?AT(t):"<".concat(e," ").concat(function iQ(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(AT(t[n]),'" ')},"").trim()}(r),">").concat(l.map(af).join(""),"</").concat(e,">")}function PT(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}B4&&((bv=(N2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(N2.readyState))||N2.addEventListener("DOMContentLoaded",function t(){N2.removeEventListener("DOMContentLoaded",t),bv=1,kT.map(function(e){return e()})}));var lI=function(e,n,r,a){var M,V,S,l=Object.keys(e),f=l.length,m=void 0!==a?function(e,n){return function(r,a,l,f){return e.call(n,r,a,l,f)}}(n,a):n;for(void 0===r?(M=1,S=e[l[0]]):(M=0,S=r);M<f;M++)S=m(S,e[V=l[M]],V,e);return S};function uI(t){var e=function dQ(t){for(var e=[],n=0,r=t.length;n<r;){var a=t.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var l=t.charCodeAt(n++);56320==(64512&l)?e.push(((1023&a)<<10)+(1023&l)+65536):(e.push(a),n--)}else e.push(a)}return e}(t);return 1===e.length?e[0].toString(16):null}function RT(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function fI(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,a=void 0!==r&&r,l=RT(e);"function"!=typeof Is.hooks.addPack||a?Is.styles[t]=ut(ut({},Is.styles[t]||{}),l):Is.hooks.addPack(t,RT(e)),"fas"===t&&fI("fa",e)}var Hv,Vv,Iv,u8=Is.styles,pQ=Is.shims,mQ=(Z1(Hv={},k2,Object.values(ef[k2])),Z1(Hv,d1,Object.values(ef[d1])),Hv),dI=null,OT={},FT={},BT={},UT={},jT={},gQ=(Z1(Vv={},k2,Object.keys(J7[k2])),Z1(Vv,d1,Object.keys(J7[d1])),Vv);var $T=function(){var e=function(l){return lI(u8,function(f,m,M){return f[M]=lI(m,l,{}),f},{})};OT=e(function(a,l,f){return l[3]&&(a[l[3]]=f),l[2]&&l[2].filter(function(M){return"number"==typeof M}).forEach(function(M){a[M.toString(16)]=f}),a}),FT=e(function(a,l,f){return a[f]=f,l[2]&&l[2].filter(function(M){return"string"==typeof M}).forEach(function(M){a[M]=f}),a}),jT=e(function(a,l,f){var m=l[2];return a[f]=f,m.forEach(function(M){a[M]=f}),a});var n="far"in u8||yt.autoFetchSvg,r=lI(pQ,function(a,l){var f=l[0],m=l[1],M=l[2];return"far"===m&&!n&&(m="fas"),"string"==typeof f&&(a.names[f]={prefix:m,iconName:M}),"number"==typeof f&&(a.unicodes[f.toString(16)]={prefix:m,iconName:M}),a},{names:{},unicodes:{}});BT=r.names,UT=r.unicodes,dI=Ev(yt.styleDefault,{family:yt.familyDefault})};function hI(t,e){return(OT[t]||{})[e]}function D6(t,e){return(jT[t]||{})[e]}function GT(t){return BT[t]||{prefix:null,iconName:null}}function xo(){return dI}(function tQ(t){rf.push(t)})(function(t){dI=Ev(t.styleDefault,{family:yt.familyDefault})}),$T();var pI=function(){return{prefix:null,iconName:null,rest:[]}};function Ev(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?k2:n;return X7[r][t]||X7[r][J7[r][t]]||(t in Is.styles?t:null)||null}var qT=(Z1(Iv={},k2,Object.keys(ef[k2])),Z1(Iv,d1,Object.keys(ef[d1])),Iv);function Sv(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,a=void 0!==r&&r,l=(Z1(e={},k2,"".concat(yt.cssPrefix,"-").concat(k2)),Z1(e,d1,"".concat(yt.cssPrefix,"-").concat(d1)),e),f=null,m=k2;(t.includes(l[k2])||t.some(function(V){return qT[k2].includes(V)}))&&(m=k2),(t.includes(l[d1])||t.some(function(V){return qT[d1].includes(V)}))&&(m=d1);var M=t.reduce(function(V,S){var D=function yQ(t,e){var n=e.split("-"),r=n[0],a=n.slice(1).join("-");return r!==t||""===a||function vQ(t){return~QY.indexOf(t)}(a)?null:a}(yt.cssPrefix,S);if(u8[S]?(S=mQ[m].includes(S)?GY[m][S]:S,f=S,V.prefix=S):gQ[m].indexOf(S)>-1?(f=S,V.prefix=Ev(S,{family:m})):D?V.iconName=D:S!==yt.replacementClass&&S!==l[k2]&&S!==l[d1]&&V.rest.push(S),!a&&V.prefix&&V.iconName){var O="fa"===f?GT(V.iconName):{},q=D6(V.prefix,V.iconName);O.prefix&&(f=null),V.iconName=O.iconName||q||V.iconName,V.prefix=O.prefix||V.prefix,"far"===V.prefix&&!u8.far&&u8.fas&&!yt.autoFetchSvg&&(V.prefix="fas")}return V},pI());return(t.includes("fa-brands")||t.includes("fab"))&&(M.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(M.prefix="fad"),!M.prefix&&m===d1&&(u8.fass||yt.autoFetchSvg)&&(M.prefix="fass",M.iconName=D6(M.prefix,M.iconName)||M.iconName),("fa"===M.prefix||"fa"===f)&&(M.prefix=xo()||"fas"),M}var MQ=function(){function t(){(function DY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function AY(t,e,n){e&&gT(t.prototype,e),n&&gT(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];var f=a.reduce(this._pullDefinitions,{});Object.keys(f).forEach(function(m){n.definitions[m]=ut(ut({},n.definitions[m]||{}),f[m]),fI(m,f[m]);var M=ef[k2][m];M&&fI(M,f[m]),$T()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var a=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(a).map(function(l){var f=a[l],m=f.prefix,M=f.iconName,V=f.icon,S=V[2];n[m]||(n[m]={}),S.length>0&&S.forEach(function(D){"string"==typeof D&&(n[m][D]=V)}),n[m][M]=V}),n}}]),t}(),WT=[],f8={},d8={},wQ=Object.keys(d8);function mI(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(f8[t]||[]).forEach(function(f){e=f.apply(null,[e].concat(r))}),e}function A6(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(f8[t]||[]).forEach(function(l){l.apply(null,n)})}function $4(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return d8[t]?d8[t].apply(null,e):void 0}function gI(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||xo();if(e)return e=D6(n,e)||e,PT(ZT.definitions,n,e)||PT(Is.styles,n,e)}var ZT=new MQ,VQ={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B4?(A6("beforeI2svg",e),$4("pseudoElements2svg",e),$4("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===yt.autoReplaceSvg&&(yt.autoReplaceSvg=!0),yt.observeMutations=!0,function uQ(t){B4&&(bv?setTimeout(t,0):kT.push(t))}(function(){EQ({autoReplaceSvgRoot:n}),A6("watch",e)})}},ii={noAuto:function(){yt.autoReplaceSvg=!1,yt.observeMutations=!1,A6("noAuto")},config:yt,dom:VQ,parse:{icon:function(e){if(null===e)return null;if("object"===pv(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:D6(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Ev(e[0]);return{prefix:r,iconName:D6(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(yt.cssPrefix,"-"))>-1||e.match(qY))){var a=Sv(e.split(" "),{skipLookups:!0});return{prefix:a.prefix||xo(),iconName:D6(a.prefix,a.iconName)||a.iconName}}if("string"==typeof e){var l=xo();return{prefix:l,iconName:D6(l,e)||e}}}},library:ZT,findIconDefinition:gI,toHtml:af},EQ=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?N2:n;(Object.keys(Is.styles).length>0||yt.autoFetchSvg)&&B4&&yt.autoReplaceSvg&&ii.dom.i2svg({node:r})};function zv(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return af(r)})}}),Object.defineProperty(t,"node",{get:function(){if(B4){var r=N2.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function vI(t){var e=t.icons,n=e.main,r=e.mask,a=t.prefix,l=t.iconName,f=t.transform,m=t.symbol,M=t.title,V=t.maskId,S=t.titleId,D=t.extra,O=t.watchable,q=void 0!==O&&O,de=r.found?r:n,Ae=de.width,Pe=de.height,ft="fak"===a,lt=[yt.replacementClass,l?"".concat(yt.cssPrefix,"-").concat(l):""].filter(function(Ds){return-1===D.classes.indexOf(Ds)}).filter(function(Ds){return""!==Ds||!!Ds}).concat(D.classes).join(" "),st={children:[],attributes:ut(ut({},D.attributes),{},{"data-prefix":a,"data-icon":l,class:lt,role:D.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Ae," ").concat(Pe)})},vt=ft&&!~D.classes.indexOf("fa-fw")?{width:"".concat(Ae/Pe*16*.0625,"em")}:{};q&&(st.attributes[L6]=""),M&&(st.children.push({tag:"title",attributes:{id:st.attributes["aria-labelledby"]||"title-".concat(S||sf())},children:[M]}),delete st.attributes.title);var Ht=ut(ut({},st),{},{prefix:a,iconName:l,main:n,mask:r,maskId:V,transform:f,symbol:m,styles:ut(ut({},vt),D.styles)}),Bt=r.found&&n.found?$4("generateAbstractMask",Ht)||{children:[],attributes:{}}:$4("generateAbstractIcon",Ht)||{children:[],attributes:{}},xs=Bt.attributes;return Ht.children=Bt.children,Ht.attributes=xs,m?function zQ(t){var n=t.iconName,r=t.children,a=t.attributes,l=t.symbol,f=!0===l?"".concat(t.prefix,"-").concat(yt.cssPrefix,"-").concat(n):l;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ut(ut({},a),{},{id:f}),children:r}]}]}(Ht):function SQ(t){var e=t.children,n=t.main,r=t.mask,a=t.attributes,l=t.styles,f=t.transform;if(oI(f)&&n.found&&!r.found){var V={x:n.width/n.height/2,y:.5};a.style=wv(ut(ut({},l),{},{"transform-origin":"".concat(V.x+f.x/16,"em ").concat(V.y+f.y/16,"em")}))}return[{tag:"svg",attributes:a,children:e}]}(Ht)}function KT(t){var e=t.content,n=t.width,r=t.height,a=t.transform,l=t.title,f=t.extra,m=t.watchable,M=void 0!==m&&m,V=ut(ut(ut({},f.attributes),l?{title:l}:{}),{},{class:f.classes.join(" ")});M&&(V[L6]="");var S=ut({},f.styles);oI(a)&&(S.transform=function aQ(t){var e=t.transform,n=t.width,a=t.height,l=void 0===a?16:a,f=t.startCentered,m=void 0!==f&&f,M="";return M+=m&&VT?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-l/2,"em) "):m?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(M+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:a,startCentered:!0,width:n,height:r}),S["-webkit-transform"]=S.transform);var D=wv(S);D.length>0&&(V.style=D);var O=[];return O.push({tag:"span",attributes:V,children:[e]}),l&&O.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),O}var yI=Is.styles;function CI(t){var e=t[0],n=t[1],l=JV(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(l)?{tag:"g",attributes:{class:"".concat(yt.cssPrefix,"-").concat(x6.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat(x6.SECONDARY),fill:"currentColor",d:l[0]}},{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat(x6.PRIMARY),fill:"currentColor",d:l[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:l}}}}var xQ={found:!1,width:512,height:512};function _I(t,e){var n=e;return"fa"===e&&null!==yt.styleDefault&&(e=xo()),new Promise(function(r,a){if($4("missingIconAbstract"),"fa"===n){var f=GT(t)||{};t=f.iconName||t,e=f.prefix||e}if(t&&e&&yI[e]&&yI[e][t])return r(CI(yI[e][t]));(function DQ(t,e){!zT&&!yt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(ut(ut({},xQ),{},{icon:yt.showMissingIcons&&t&&$4("missingIconAbstract")||{}}))})}var YT=function(){},MI=yt.measurePerformance&&gv&&gv.mark&&gv.measure?gv:{mark:YT,measure:YT},of='FA "6.4.2"',QT=function(e){MI.mark("".concat(of," ").concat(e," ends")),MI.measure("".concat(of," ").concat(e),"".concat(of," ").concat(e," begins"),"".concat(of," ").concat(e," ends"))},wI={begin:function(e){return MI.mark("".concat(of," ").concat(e," begins")),function(){return QT(e)}},end:QT},Lv=function(){};function JT(t){return"string"==typeof(t.getAttribute?t.getAttribute(L6):null)}function PQ(t){return N2.createElementNS("http://www.w3.org/2000/svg",t)}function RQ(t){return N2.createElement(t)}function XT(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?PQ:RQ:n;if("string"==typeof t)return N2.createTextNode(t);var a=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(f){a.setAttribute(f,t.attributes[f])}),(t.children||[]).forEach(function(f){a.appendChild(XT(f,{ceFn:r}))}),a}var xv={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(a){n.parentNode.insertBefore(XT(a),n)}),null===n.getAttribute(L6)&&yt.keepOriginalSource){var r=N2.createComment(function OQ(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~aI(n).indexOf(yt.replacementClass))return xv.replace(e);var a=new RegExp("".concat(yt.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var l=r[0].attributes.class.split(" ").reduce(function(m,M){return M===yt.replacementClass||M.match(a)?m.toSvg.push(M):m.toNode.push(M),m},{toNode:[],toSvg:[]});r[0].attributes.class=l.toSvg.join(" "),0===l.toNode.length?n.removeAttribute("class"):n.setAttribute("class",l.toNode.join(" "))}var f=r.map(function(m){return af(m)}).join("\n");n.setAttribute(L6,""),n.innerHTML=f}};function eN(t){t()}function tN(t,e){var n="function"==typeof e?e:Lv;if(0===t.length)n();else{var r=eN;yt.mutateApproach===jY&&(r=zo.requestAnimationFrame||eN),r(function(){var a=function kQ(){return!0===yt.autoReplaceSvg?xv.replace:xv[yt.autoReplaceSvg]||xv.replace}(),l=wI.begin("mutate");t.map(a),l(),n()})}}var bI=!1;function nN(){bI=!0}function HI(){bI=!1}var Dv=null;function rN(t){if(HT&&yt.observeMutations){var e=t.treeCallback,n=void 0===e?Lv:e,r=t.nodeCallback,a=void 0===r?Lv:r,l=t.pseudoElementsCallback,f=void 0===l?Lv:l,m=t.observeMutationsRoot,M=void 0===m?N2:m;Dv=new HT(function(V){if(!bI){var S=xo();l8(V).forEach(function(D){if("childList"===D.type&&D.addedNodes.length>0&&!JT(D.addedNodes[0])&&(yt.searchPseudoElements&&f(D.target),n(D.target)),"attributes"===D.type&&D.target.parentNode&&yt.searchPseudoElements&&f(D.target.parentNode),"attributes"===D.type&&JT(D.target)&&~YY.indexOf(D.attributeName))if("class"===D.attributeName&&function TQ(t){var e=t.getAttribute?t.getAttribute(rI):null,n=t.getAttribute?t.getAttribute(iI):null;return e&&n}(D.target)){var O=Sv(aI(D.target)),de=O.iconName;D.target.setAttribute(rI,O.prefix||S),de&&D.target.setAttribute(iI,de)}else(function NQ(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(yt.replacementClass)})(D.target)&&a(D.target)})}}),B4&&Dv.observe(M,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function iN(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function UQ(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",a=Sv(aI(t));return a.prefix||(a.prefix=xo()),e&&n&&(a.prefix=e,a.iconName=n),a.iconName&&a.prefix||(a.prefix&&r.length>0&&(a.iconName=function CQ(t,e){return(FT[t]||{})[e]}(a.prefix,t.innerText)||hI(a.prefix,uI(t.innerText))),!a.iconName&&yt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=t.firstChild.data)),a}(t),r=n.iconName,a=n.prefix,l=n.rest,f=function jQ(t){var e=l8(t.attributes).reduce(function(a,l){return"class"!==a.name&&"style"!==a.name&&(a[l.name]=l.value),a},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return yt.autoA11y&&(n?e["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(r||sf()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),m=mI("parseNodeAttributes",{},t),M=e.styleParser?function BQ(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,a){var l=a.split(":"),f=l[0],m=l.slice(1);return f&&m.length>0&&(r[f]=m.join(":").trim()),r},{})),n}(t):[];return ut({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:a,transform:E3,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:l,styles:M,attributes:f}},m)}var GQ=Is.styles;function sN(t){var e="nest"===yt.autoReplaceSvg?iN(t,{styleParser:!1}):iN(t);return~e.extra.classes.indexOf(LT)?$4("generateLayersText",t,e):$4("generateSvgReplacementMutation",t,e)}var Do=new Set;function aN(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!B4)return Promise.resolve();var n=N2.documentElement.classList,r=function(D){return n.add("".concat(ST,"-").concat(D))},a=function(D){return n.remove("".concat(ST,"-").concat(D))},l=yt.autoFetchSvg?Do:sI.map(function(S){return"fa-".concat(S)}).concat(Object.keys(GQ));l.includes("fa")||l.push("fa");var f=[".".concat(LT,":not([").concat(L6,"])")].concat(l.map(function(S){return".".concat(S,":not([").concat(L6,"])")})).join(", ");if(0===f.length)return Promise.resolve();var m=[];try{m=l8(t.querySelectorAll(f))}catch{}if(!(m.length>0))return Promise.resolve();r("pending"),a("complete");var M=wI.begin("onTree"),V=m.reduce(function(S,D){try{var O=sN(D);O&&S.push(O)}catch(q){zT||"MissingIcon"===q.name&&console.error(q)}return S},[]);return new Promise(function(S,D){Promise.all(V).then(function(O){tN(O,function(){r("active"),r("complete"),a("pending"),"function"==typeof e&&e(),M(),S()})}).catch(function(O){M(),D(O)})})}function qQ(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;sN(t).then(function(n){n&&tN([n],e)})}sI.map(function(t){Do.add("fa-".concat(t))}),Object.keys(J7[k2]).map(Do.add.bind(Do)),Object.keys(J7[d1]).map(Do.add.bind(Do)),Do=Y7(Do);var ZQ=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,a=void 0===r?E3:r,l=n.symbol,f=void 0!==l&&l,m=n.mask,M=void 0===m?null:m,V=n.maskId,S=void 0===V?null:V,D=n.title,O=void 0===D?null:D,q=n.titleId,de=void 0===q?null:q,Ae=n.classes,Pe=void 0===Ae?[]:Ae,ft=n.attributes,lt=void 0===ft?{}:ft,st=n.styles,vt=void 0===st?{}:st;if(e){var Ht=e.prefix,Bt=e.iconName,X2=e.icon;return zv(ut({type:"icon"},e),function(){return A6("beforeDOMElementCreation",{iconDefinition:e,params:n}),yt.autoA11y&&(O?lt["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(de||sf()):(lt["aria-hidden"]="true",lt.focusable="false")),vI({icons:{main:CI(X2),mask:M?CI(M.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Ht,iconName:Bt,transform:ut(ut({},E3),a),symbol:f,title:O,maskId:S,titleId:de,extra:{attributes:lt,styles:vt,classes:Pe}})})}},KQ={mixout:function(){return{icon:(t=ZQ,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:gI(e||{}),a=n.mask;return a&&(a=(a||{}).icon?a:gI(a||{})),t(r,ut(ut({},n),{},{mask:a}))})};var t},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=aN,n.nodeCallback=qQ,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,l=n.callback;return aN(void 0===r?N2:r,void 0===l?function(){}:l)},e.generateSvgReplacementMutation=function(n,r){var a=r.iconName,l=r.title,f=r.titleId,m=r.prefix,M=r.transform,V=r.symbol,S=r.mask,D=r.maskId,O=r.extra;return new Promise(function(q,de){Promise.all([_I(a,m),S.iconName?_I(S.iconName,S.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Ae){var Pe=JV(Ae,2);q([n,vI({icons:{main:Pe[0],mask:Pe[1]},prefix:m,iconName:a,transform:M,symbol:V,maskId:D,title:l,titleId:f,extra:O,watchable:!0})])}).catch(de)})},e.generateAbstractIcon=function(n){var V,r=n.children,a=n.attributes,l=n.main,f=n.transform,M=wv(n.styles);return M.length>0&&(a.style=M),oI(f)&&(V=$4("generateAbstractTransformGrouping",{main:l,transform:f,containerWidth:l.width,iconWidth:l.width})),r.push(V||l.icon),{children:r,attributes:a}}}},YQ={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.classes,l=void 0===a?[]:a;return zv({type:"layer"},function(){A6("beforeDOMElementCreation",{assembler:n,params:r});var f=[];return n(function(m){Array.isArray(m)?m.map(function(M){f=f.concat(M.abstract)}):f=f.concat(m.abstract)}),[{tag:"span",attributes:{class:["".concat(yt.cssPrefix,"-layers")].concat(Y7(l)).join(" ")},children:f}]})}}}},QQ={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.title,l=void 0===a?null:a,f=r.classes,m=void 0===f?[]:f,M=r.attributes,V=void 0===M?{}:M,S=r.styles,D=void 0===S?{}:S;return zv({type:"counter",content:n},function(){return A6("beforeDOMElementCreation",{content:n,params:r}),function LQ(t){var e=t.content,n=t.title,r=t.extra,a=ut(ut(ut({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),l=wv(r.styles);l.length>0&&(a.style=l);var f=[];return f.push({tag:"span",attributes:a,children:[e]}),n&&f.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),f}({content:n.toString(),title:l,extra:{attributes:V,styles:D,classes:["".concat(yt.cssPrefix,"-layers-counter")].concat(Y7(m))}})})}}}},JQ={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.transform,l=void 0===a?E3:a,f=r.title,m=void 0===f?null:f,M=r.classes,V=void 0===M?[]:M,S=r.attributes,D=void 0===S?{}:S,O=r.styles,q=void 0===O?{}:O;return zv({type:"text",content:n},function(){return A6("beforeDOMElementCreation",{content:n,params:r}),KT({content:n,transform:ut(ut({},E3),l),title:m,extra:{attributes:D,styles:q,classes:["".concat(yt.cssPrefix,"-layers-text")].concat(Y7(V))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var a=r.title,l=r.transform,f=r.extra,m=null,M=null;if(VT){var V=parseInt(getComputedStyle(n).fontSize,10),S=n.getBoundingClientRect();m=S.width/V,M=S.height/V}return yt.autoA11y&&!a&&(f.attributes["aria-hidden"]="true"),Promise.resolve([n,KT({content:n.innerHTML,width:m,height:M,transform:l,title:a,extra:f,watchable:!0})])}}},XQ=new RegExp('"',"ug"),oN=[1105920,1112319];function cN(t,e){var n="".concat(UY).concat(e.replace(":","-"));return new Promise(function(r,a){if(null!==t.getAttribute(n))return r();var f=l8(t.children).filter(function(X2){return X2.getAttribute(nI)===e})[0],m=zo.getComputedStyle(t,e),M=m.getPropertyValue("font-family").match(WY),V=m.getPropertyValue("font-weight"),S=m.getPropertyValue("content");if(f&&!M)return t.removeChild(f),r();if(M&&"none"!==S&&""!==S){var D=m.getPropertyValue("content"),O=~["Sharp"].indexOf(M[2])?d1:k2,q=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(M[2])?X7[O][M[2].toLowerCase()]:ZY[O][V],de=function eJ(t){var e=t.replace(XQ,""),n=function hQ(t,e){var a,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(a=t.charCodeAt(e+1))>=56320&&a<=57343?1024*(r-55296)+a-56320+65536:r}(e,0),r=n>=oN[0]&&n<=oN[1],a=2===e.length&&e[0]===e[1];return{value:uI(a?e[0]:e),isSecondary:r||a}}(D),Ae=de.value,Pe=de.isSecondary,ft=M[0].startsWith("FontAwesome"),lt=hI(q,Ae),st=lt;if(ft){var vt=function _Q(t){var e=UT[t],n=hI("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(Ae);vt.iconName&&vt.prefix&&(lt=vt.iconName,q=vt.prefix)}if(!lt||Pe||f&&f.getAttribute(rI)===q&&f.getAttribute(iI)===st)r();else{t.setAttribute(n,st),f&&t.removeChild(f);var Ht=function $Q(){return{iconName:null,title:null,titleId:null,prefix:null,transform:E3,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Bt=Ht.extra;Bt.attributes[nI]=e,_I(lt,q).then(function(X2){var xs=vI(ut(ut({},Ht),{},{icons:{main:X2,mask:pI()},prefix:q,iconName:st,extra:Bt,watchable:!0})),Ds=N2.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Ds,t.firstChild):t.appendChild(Ds),Ds.outerHTML=xs.map(function(Zre){return af(Zre)}).join("\n"),t.removeAttribute(n),r()}).catch(a)}}else r()})}function tJ(t){return Promise.all([cN(t,"::before"),cN(t,"::after")])}function nJ(t){return!(t.parentNode===document.head||~$Y.indexOf(t.tagName.toUpperCase())||t.getAttribute(nI)||t.parentNode&&"svg"===t.parentNode.tagName)}function lN(t){if(B4)return new Promise(function(e,n){var r=l8(t.querySelectorAll("*")).filter(nJ).map(tJ),a=wI.begin("searchPseudoElements");nN(),Promise.all(r).then(function(){a(),HI(),e()}).catch(function(){a(),HI(),n()})})}var uN=!1,fN=function(e){return e.toLowerCase().split(" ").reduce(function(r,a){var l=a.toLowerCase().split("-"),f=l[0],m=l.slice(1).join("-");if(f&&"h"===m)return r.flipX=!0,r;if(f&&"v"===m)return r.flipY=!0,r;if(m=parseFloat(m),isNaN(m))return r;switch(f){case"grow":r.size=r.size+m;break;case"shrink":r.size=r.size-m;break;case"left":r.x=r.x-m;break;case"right":r.x=r.x+m;break;case"up":r.y=r.y-m;break;case"down":r.y=r.y+m;break;case"rotate":r.rotate=r.rotate+m}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},VI={x:0,y:0,width:"100%",height:"100%"};function dN(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}var oJ={hooks:function(){return{parseNodeAttributes:function(n,r){var a=r.getAttribute("data-fa-mask"),l=a?Sv(a.split(" ").map(function(f){return f.trim()})):pI();return l.prefix||(l.prefix=xo()),n.mask=l,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var t,r=n.children,a=n.attributes,l=n.main,f=n.mask,m=n.maskId,S=l.icon,O=f.icon,q=function sQ(t){var e=t.transform,r=t.iconWidth,a={transform:"translate(".concat(t.containerWidth/2," 256)")},l="translate(".concat(32*e.x,", ").concat(32*e.y,") "),f="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),m="rotate(".concat(e.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(l," ").concat(f," ").concat(m)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:f.width,iconWidth:l.width}),de={tag:"rect",attributes:ut(ut({},VI),{},{fill:"white"})},Ae=S.children?{children:S.children.map(dN)}:{},Pe={tag:"g",attributes:ut({},q.inner),children:[dN(ut({tag:S.tag,attributes:ut(ut({},S.attributes),q.path)},Ae))]},ft={tag:"g",attributes:ut({},q.outer),children:[Pe]},lt="mask-".concat(m||sf()),st="clip-".concat(m||sf()),vt={tag:"mask",attributes:ut(ut({},VI),{},{id:lt,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[de,ft]},Ht={tag:"defs",children:[{tag:"clipPath",attributes:{id:st},children:(t=O,"g"===t.tag?t.children:[t])},vt]};return r.push(Ht,{tag:"rect",attributes:ut({fill:"currentColor","clip-path":"url(#".concat(st,")"),mask:"url(#".concat(lt,")")},VI)}),{children:r,attributes:a}}}};!function bQ(t,e){var n=e.mixoutsTo;WT=t,f8={},Object.keys(d8).forEach(function(r){-1===wQ.indexOf(r)&&delete d8[r]}),WT.forEach(function(r){var a=r.mixout?r.mixout():{};if(Object.keys(a).forEach(function(f){"function"==typeof a[f]&&(n[f]=a[f]),"object"===pv(a[f])&&Object.keys(a[f]).forEach(function(m){n[f]||(n[f]={}),n[f][m]=a[f][m]})}),r.hooks){var l=r.hooks();Object.keys(l).forEach(function(f){f8[f]||(f8[f]=[]),f8[f].push(l[f])})}r.provides&&r.provides(d8)})}([cQ,KQ,YQ,QQ,JQ,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=lN,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;yt.searchPseudoElements&&lN(void 0===r?N2:r)}}},{mixout:function(){return{dom:{unwatch:function(){nN(),uN=!0}}}},hooks:function(){return{bootstrap:function(){rN(mI("mutationObserverCallbacks",{}))},noAuto:function(){!function FQ(){Dv&&Dv.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;uN?HI():rN(mI("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return fN(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var a=r.getAttribute("data-fa-transform");return a&&(n.transform=fN(a)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,a=n.transform,f=n.iconWidth,m={transform:"translate(".concat(n.containerWidth/2," 256)")},M="translate(".concat(32*a.x,", ").concat(32*a.y,") "),V="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),S="rotate(".concat(a.rotate," 0 0)"),q={outer:m,inner:{transform:"".concat(M," ").concat(V," ").concat(S)},path:{transform:"translate(".concat(f/2*-1," -256)")}};return{tag:"g",attributes:ut({},q.outer),children:[{tag:"g",attributes:ut({},q.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ut(ut({},r.icon.attributes),q.path)}]}]}}}},oJ,{provides:function(e){var n=!1;zo.matchMedia&&(n=zo.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],a={fill:"currentColor"},l={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ut(ut({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var f=ut(ut({},l),{},{attributeName:"opacity"}),m={tag:"circle",attributes:ut(ut({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||m.children.push({tag:"animate",attributes:ut(ut({},l),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ut(ut({},f),{},{values:"1;0;1;1;0;1;"})}),r.push(m),r.push({tag:"path",attributes:ut(ut({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:ut(ut({},f),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:ut(ut({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ut(ut({},f),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var a=r.getAttribute("data-fa-symbol");return n.symbol=null!==a&&(""===a||a),n}}}}],{mixoutsTo:ii});var fJ=ii.parse,dJ=ii.icon;const hJ=["*"],gJ=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let CJ=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),II=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const a of r){a.prefix in this.definitions||(this.definitions[a.prefix]={}),this.definitions[a.prefix][a.iconName]=a;for(const l of a.icon[2])"string"==typeof l&&(this.definitions[a.prefix][l]=a)}}addIconPacks(...r){for(const a of r){const l=Object.keys(a).map(f=>a[f]);this.addIcons(...l)}}getIconDefinition(r,a){return r in this.definitions&&a in this.definitions[r]?this.definitions[r][a]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),_J=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=g.lG2({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[g.TTD]}),e})(),MJ=(()=>{var t;class e{constructor(r,a){this.renderer=r,this.elementRef=a}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(g.Qsj),g.Y36(g.SBq))},t.\u0275cmp=g.Xpm({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[g.TTD],ngContentSelectors:hJ,decls:1,vars:0,template:function(r,a){1&r&&(g.F$t(),g.Hsn(0))},encapsulation:2}),e})(),hN=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,a,l,f,m){this.sanitizer=r,this.config=a,this.iconLibrary=l,this.stackItem=f,this.classes=[],null!=m&&null==f&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const l=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=l){const f=this.buildParams();this.renderIcon(l,f)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const a=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in a?a:this.iconLibrary.getIconDefinition(a.prefix,a.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(a),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},a="string"==typeof this.transform?fJ.transform(this.transform):this.transform;return{title:this.title,transform:a,classes:[...gJ(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,a){const l=dJ(r,a);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(l.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(rs),g.Y36(CJ),g.Y36(II),g.Y36(_J,8),g.Y36(MJ,8))},t.\u0275cmp=g.Xpm({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,a){2&r&&(g.Ikx("innerHTML",a.renderedIconHTML,g.oJD),g.uIk("title",a.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[g.TTD],decls:0,vars:0,template:function(r,a){},encapsulation:2}),e})(),pN=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({}),e})(),wJ=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=g.lG2({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,a){2&r&&g.ekj("active",a.isActive)},inputs:{tabName:"tabName"}}),e})();const T6=function(){return{color:"#eee"}},bJ=function(){return["fas","house-chimney"]},HJ=function(){return["fas","earth-americas"]},VJ=function(){return["fas","satellite-dish"]},IJ=function(){return["fas","jet-fighter-up"]},EJ=function(){return["fas","chess-board"]},SJ=function(){return["fas","flask-vial"]},zJ=function(){return["fas","hand-fist"]};let LJ=(()=>{var t;class e{constructor(r){this.renderer=(0,g.f3M)(g.Qsj),r.addIcons(f7,G7,n7,RD,dh,w5,$V)}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(II))},t.\u0275cmp=g.Xpm({type:t,selectors:[["dgt-navbar"]],decls:37,vars:42,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["href","/fleets",1,"dgt-navbar-tab-link"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"]],template:function(r,a){1&r&&(g.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),g._UZ(4,"fa-icon",4),g.TgZ(5,"span",5),g._uU(6,"home"),g.qZA()()(),g.TgZ(7,"li",2)(8,"a",6),g._UZ(9,"fa-icon",4),g.TgZ(10,"span",5),g._uU(11,"planets"),g.qZA()()(),g.TgZ(12,"li",2)(13,"a",7),g._UZ(14,"fa-icon",4),g.TgZ(15,"span",5),g._uU(16,"radar"),g.qZA()()(),g.TgZ(17,"li",2)(18,"a",8),g._UZ(19,"fa-icon",4),g.TgZ(20,"span",5),g._uU(21,"fleets"),g.qZA()()(),g.TgZ(22,"li",2)(23,"a",9),g._UZ(24,"fa-icon",4),g.TgZ(25,"span",5),g._uU(26,"navigation"),g.qZA()()(),g.TgZ(27,"li",2)(28,"a",10),g._UZ(29,"fa-icon",4),g.TgZ(30,"span",5),g._uU(31,"research"),g.qZA()()(),g.TgZ(32,"li",2)(33,"a",11),g._UZ(34,"fa-icon",4),g.TgZ(35,"span",5),g._uU(36,"alliances"),g.qZA()()()()()),2&r&&(g.xp6(2),g.Q6J("tabName","home"),g.xp6(2),g.Akn(g.DdM(28,T6)),g.Q6J("icon",g.DdM(29,bJ)),g.xp6(3),g.Q6J("tabName","planets"),g.xp6(2),g.Akn(g.DdM(30,T6)),g.Q6J("icon",g.DdM(31,HJ)),g.xp6(3),g.Q6J("tabName","radar"),g.xp6(2),g.Akn(g.DdM(32,T6)),g.Q6J("icon",g.DdM(33,VJ)),g.xp6(3),g.Q6J("tabName","fleets"),g.xp6(2),g.Akn(g.DdM(34,T6)),g.Q6J("icon",g.DdM(35,IJ)),g.xp6(3),g.Q6J("tabName","navigation"),g.xp6(2),g.Akn(g.DdM(36,T6)),g.Q6J("icon",g.DdM(37,EJ)),g.xp6(3),g.Q6J("tabName","research"),g.xp6(2),g.Akn(g.DdM(38,T6)),g.Q6J("icon",g.DdM(39,SJ)),g.xp6(3),g.Q6J("tabName","alliances"),g.xp6(2),g.Akn(g.DdM(40,T6)),g.Q6J("icon",g.DdM(41,zJ)))},dependencies:[hN,wJ],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})(),xJ=(()=>{var t;class e{constructor(){}ngOnInit(){console.log("%cDGT%c - installed custom navigation menu...","font-size: 12px; font-weight: bold;","font-size: 12px;")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t,bootstrap:[LJ]}),t.\u0275inj=g.cJS({imports:[pr,pN]}),e})();class EI{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class DJ{constructor(){this._orbit=0,this._ground=0,this._workers=new EI,this._soldiers=new EI,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class SI{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let mN=(()=>{var t;class e{constructor(){this.document=(0,g.f3M)(me)}extract(){let r=[];return this.document.querySelectorAll("#planetList > #planetList").forEach(a=>{let l=new DJ,f=a.querySelectorAll(".resourceLine .left > span"),m=[];f.forEach(V=>{let S=V.textContent.split(/\s+/),D=new SI;D.name=V.parentElement.className.split(/\s+/)[2],D.stored=parseInt(S[0].replace(/,/g,"")),D.production=parseInt(S[1].substring(1,S[1].length-1).replace(/,/g,"")),D.abundance=parseInt(S[2].replace(/,/g,"")),m.push(D)}),l.resources=m;let M=a.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];l.workers.available=parseInt(M.substring(1,M.length).replace(/,/g,"")),l.workers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),l.workers.maximumNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),l.soldiers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),l.name=a.querySelectorAll(".planetName > a")[0].innerHTML,l.location=a.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),l.orbit=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),l.ground=parseInt(a.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(l)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class gN{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new EI,this._soldiers=0,this._structures=[],this._fleet=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleet(){return this._fleet}set fleet(e){this._fleet=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleet:this.fleet,location:this.location,turn:this.turn,owner:this.owner}}}var On=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(On||{});class AJ{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class TJ{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Hr=function(t){return t.UNKNOWN="unknown",t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t}(Hr||{});class NJ{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let vN=(()=>{var t;class e{constructor(){this.document=(0,g.f3M)(me)}extract(){if(this.document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let l,r=new gN,a=this.document.querySelectorAll("#contentBox #planetHeader")[1];switch(a.querySelectorAll(".planetHeadSection .resource > span").length){case 5:l=On.SURFACE;break;case 2:l=On.RESOURCE;break;case 0:l=On.FLEET;break;default:l=On.UNKNOWN}let f=new AJ(r,l);if(l!==On.UNKNOWN){f.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let m=a.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?a.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";f.planetScan.owner=new NJ(a.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),m.substring(1,m.length-1))}if((l===On.RESOURCE||l===On.SURFACE)&&(f.planetScan.orbit=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),f.planetScan.ground=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),f.planetScan.location=a.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),l===On.RESOURCE&&a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach(m=>{let M=new SI;M.abundance=parseInt(m.textContent.trim()),f.planetScan.resources.push(M)}),l===On.SURFACE){a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach(M=>{let V=new SI;V.stored=parseInt(M.textContent.trim().replace(/,/g,"")),f.planetScan.resources.push(V)}),a.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((M,V)=>{f.planetScan.resources[V].abundance=parseInt(M.textContent.trim())});let m=a.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];f.planetScan.workers.currentNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),f.planetScan.workers.maximumNumber=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),f.planetScan.workers.available=parseInt(m.substring(1,m.length).replace(/,/g,"")),f.planetScan.soldiers=parseInt(a.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),a.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(M=>{f.planetScan.structures.push(new TJ(M.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(M.textContent.split(/x\s+/)[0].trim())))}),f.planetScan.structures.forEach(M=>{switch(M.name){case Hr.OUTPOST:f.planetScan.resources[0].production+=300,f.planetScan.resources[1].production+=200,f.planetScan.resources[2].production+=100;break;case Hr.METAL_MINE:f.planetScan.resources[0].production+=300*M.quantity;break;case Hr.MINERAL_EXTRACTOR:f.planetScan.resources[1].production+=200*M.quantity;break;case Hr.FARM:f.planetScan.resources[2].production+=300*M.quantity;break;case Hr.SOLAR_GENERATOR:f.planetScan.resources[3].production+=100*M.quantity;break;case Hr.CORE_METAL_MINE:f.planetScan.resources[0].production+=900*M.quantity;break;case Hr.CORE_MINERAL_EXTRACTOR:f.planetScan.resources[1].production+=600*M.quantity;break;case Hr.HYDROPONICS_LAB:f.planetScan.resources[2].production+=900*M.quantity;break;case Hr.SOLAR_ARRAY:f.planetScan.resources[3].production+=300*M.quantity;break;case Hr.STRIP_METAL_MINE:f.planetScan.resources[0].production+=9e3*M.quantity;break;case Hr.STRIP_MINERAL_EXTRACTOR:f.planetScan.resources[1].production+=6e3*M.quantity;break;case Hr.HYDROPONICS_DOME:f.planetScan.resources[2].production+=9e3*M.quantity;break;case Hr.SOLAR_STATION:f.planetScan.resources[3].production+=3e3*M.quantity}})}return f.planetScan.resources.forEach(m=>{m.production=Math.ceil(m.production*m.abundance/100)}),f}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Av=(()=>{var t;class e{constructor(){this.planetListExtractor=(0,g.f3M)(mN),this.planetScanExtractor=(0,g.f3M)(vN)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class kJ{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class PJ{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class yN{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class CN{constructor(){this._resources=new PJ,this._workers=new yN,this._soldiers=new yN}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var K1=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(K1||{});let _N=(()=>{var t;class e{constructor(){this.dgAPI=(0,g.f3M)(Av)}extractStats(){let r=new kJ;return r.stats.set(K1.ALL,new CN),this.dgAPI.planetsSummaries().forEach(a=>{r.stats.has(a.location[0])||r.stats.set(a.location[0],new CN),r.stats.get(K1.ALL).workers.total+=a.workers.currentNumber,r.stats.get(a.location[0]).workers.total+=a.workers.currentNumber,r.stats.get(K1.ALL).workers.maximum+=a.workers.maximumNumber,r.stats.get(a.location[0]).workers.maximum+=a.workers.maximumNumber,r.stats.get(K1.ALL).soldiers.total+=a.soldiers.currentNumber,r.stats.get(a.location[0]).soldiers.total+=a.soldiers.currentNumber,r.stats.get(K1.ALL).resources.ground+=a.ground,r.stats.get(a.location[0]).resources.ground+=a.ground,r.stats.get(K1.ALL).resources.orbit+=a.orbit,r.stats.get(a.location[0]).resources.orbit+=a.orbit,a.resources.forEach(l=>{switch(l.name){case K1.METAL:r.stats.get(K1.ALL).resources.metalStored+=l.stored,r.stats.get(K1.ALL).resources.metalProduction+=l.production,r.stats.get(a.location[0]).resources.metalStored+=l.stored,r.stats.get(a.location[0]).resources.metalProduction+=l.production;break;case K1.MINERAL:r.stats.get(K1.ALL).resources.mineralStored+=l.stored,r.stats.get(K1.ALL).resources.mineralProduction+=l.production,r.stats.get(a.location[0]).resources.mineralStored+=l.stored,r.stats.get(a.location[0]).resources.mineralProduction+=l.production;break;case K1.FOOD:r.stats.get(K1.ALL).resources.foodStored+=l.stored,r.stats.get(K1.ALL).resources.foodProduction+=l.production,r.stats.get(a.location[0]).resources.foodStored+=l.stored,r.stats.get(a.location[0]).resources.foodProduction+=l.production;break;case K1.ENERGY:r.stats.get(K1.ALL).resources.energyStored+=l.stored,r.stats.get(K1.ALL).resources.energyProduction+=l.production,r.stats.get(a.location[0]).resources.energyStored+=l.stored,r.stats.get(a.location[0]).resources.energyProduction+=l.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),RJ=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=g.Yjl({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),OJ=(()=>{var t;class e{constructor(){this.decimalPipe=(0,g.f3M)(Ze)}transform(r){return" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=g.Yjl({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const FJ=function(t){return{"dgt-stats-totals-last-row":t}},Pi=function(t){return{"dgt-padding-bottom-xs":t}},BJ=function(){return{color:"#ccc"}},UJ=function(){return["fas","coins"]},jJ=function(){return{color:"#ff8484"}},$J=function(){return["fas","cubes-stacked"]},GJ=function(){return{color:"#7bbd1a"}},qJ=function(){return["fas","carrot"]},WJ=function(){return{color:"#0ca1e1"}},ZJ=function(){return["fas","bolt"]},MN=function(){return{color:"#fff"}},KJ=function(){return["fas","tree-city"]},YJ=function(){return["fas","satellite"]},QJ=function(){return{color:"#DF4A4AFF"}},JJ=function(){return["fas","person-rifle"]};function XJ(t,e){if(1&t&&(g.TgZ(0,"tr",4)(1,"th",5),g._uU(2),g.ALo(3,"galaxyNameFormatter"),g.qZA(),g.TgZ(4,"td",6)(5,"div",7),g._UZ(6,"fa-icon",8),g.TgZ(7,"span",9),g._uU(8),g.ALo(9,"number"),g.qZA()()(),g.TgZ(10,"td",10)(11,"div",7)(12,"span",9),g._uU(13),g.ALo(14,"resourceProductionFormatter"),g.qZA()()(),g.TgZ(15,"td",11)(16,"div",12),g._UZ(17,"fa-icon",8),g.TgZ(18,"span",9),g._uU(19),g.ALo(20,"number"),g.qZA()()(),g.TgZ(21,"td",10)(22,"div",12)(23,"span",9),g._uU(24),g.ALo(25,"resourceProductionFormatter"),g.qZA()()(),g.TgZ(26,"td",11)(27,"div",13),g._UZ(28,"fa-icon",8),g.TgZ(29,"span",9),g._uU(30),g.ALo(31,"number"),g.qZA()()(),g.TgZ(32,"td",10)(33,"div",13)(34,"span",9),g._uU(35),g.ALo(36,"resourceProductionFormatter"),g.qZA()()(),g.TgZ(37,"td",11)(38,"div",14),g._UZ(39,"fa-icon",8),g.TgZ(40,"span",9),g._uU(41),g.ALo(42,"number"),g.qZA()()(),g.TgZ(43,"td",15)(44,"div",14)(45,"span",9),g._uU(46),g.ALo(47,"resourceProductionFormatter"),g.qZA()()(),g.TgZ(48,"td",16)(49,"div",17),g._UZ(50,"fa-icon",8),g.TgZ(51,"span",9),g._uU(52),g.ALo(53,"number"),g.qZA()()(),g.TgZ(54,"td",18)(55,"div",19),g._UZ(56,"fa-icon",8),g.TgZ(57,"span",9),g._uU(58),g.ALo(59,"number"),g.qZA()()(),g.TgZ(60,"td",20)(61,"div",21),g._UZ(62,"fa-icon",8),g.TgZ(63,"span",9),g._uU(64),g.ALo(65,"number"),g.qZA()()()()),2&t){const n=e.$implicit,r=e.index,a=g.oxw();g.Q6J("ngClass",g.VKq(84,FJ,r==a.panel.stats.size-1)),g.xp6(1),g.Q6J("ngClass",g.VKq(86,Pi,r==a.panel.stats.size-2)),g.xp6(1),g.Oqu(g.lcZ(3,46,n.key)),g.xp6(2),g.Q6J("ngClass",g.VKq(88,Pi,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(90,BJ)),g.Q6J("icon",g.DdM(91,UJ)),g.xp6(2),g.Oqu(g.Dn7(9,48,n.value.resources.metalStored,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(92,Pi,r==a.panel.stats.size-2)),g.xp6(3),g.Oqu(g.lcZ(14,52,n.value.resources.metalProduction)),g.xp6(2),g.Q6J("ngClass",g.VKq(94,Pi,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(96,jJ)),g.Q6J("icon",g.DdM(97,$J)),g.xp6(2),g.Oqu(g.Dn7(20,54,n.value.resources.mineralStored,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(98,Pi,r==a.panel.stats.size-2)),g.xp6(3),g.Oqu(g.lcZ(25,58,n.value.resources.mineralProduction)),g.xp6(2),g.Q6J("ngClass",g.VKq(100,Pi,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(102,GJ)),g.Q6J("icon",g.DdM(103,qJ)),g.xp6(2),g.Oqu(g.Dn7(31,60,n.value.resources.foodStored,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(104,Pi,r==a.panel.stats.size-2)),g.xp6(3),g.Oqu(g.lcZ(36,64,n.value.resources.foodProduction)),g.xp6(2),g.Q6J("ngClass",g.VKq(106,Pi,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(108,WJ)),g.Q6J("icon",g.DdM(109,ZJ)),g.xp6(2),g.Oqu(g.Dn7(42,66,n.value.resources.energyStored,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(110,Pi,r==a.panel.stats.size-2)),g.xp6(3),g.Oqu(g.lcZ(47,70,n.value.resources.energyProduction)),g.xp6(2),g.Q6J("ngClass",g.VKq(112,Pi,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(114,MN)),g.Q6J("icon",g.DdM(115,KJ)),g.xp6(2),g.Oqu(g.Dn7(53,72,n.value.resources.ground,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(116,Pi,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(118,MN)),g.Q6J("icon",g.DdM(119,YJ)),g.xp6(2),g.Oqu(g.Dn7(59,76,n.value.resources.orbit,"1.0","en-US")),g.xp6(2),g.Q6J("ngClass",g.VKq(120,Pi,r==a.panel.stats.size-2)),g.xp6(2),g.Akn(g.DdM(122,QJ)),g.Q6J("icon",g.DdM(123,JJ)),g.xp6(2),g.Oqu(g.Dn7(65,80,n.value.soldiers.total,"1.0","en-US"))}}let eX=(()=>{var t;class e{constructor(r){this.statsPanelService=(0,g.f3M)(_N),r.addIcons(bo,_A,v,xV,PH,wD,Ux)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)(g.Y36(II))},t.\u0275cmp=g.Xpm({type:t,selectors:[["dgt-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],[3,"icon"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],[1,"dgt-resource","resource","food"],[1,"dgt-resource","resource","energy"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"]],template:function(r,a){1&r&&(g.TgZ(0,"div",0)(1,"div",1)(2,"table",2),g.YNc(3,XJ,66,124,"tr",3),g.ALo(4,"keyvalue"),g.qZA()()()),2&r&&(g.xp6(3),g.Q6J("ngForOf",g.lcZ(4,1,a.panel.stats)))},dependencies:[fi,$i,hN,Ze,U1,RJ,OJ],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:20px!important;padding:0}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:20px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}"]}),e})(),wN=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[mN,vN,Av],imports:[u2]}),e})(),tX=(()=>{var t;class e{constructor(){}ngOnInit(){console.log("%cDGT%c - installed planets stats...","font-size: 12px; font-weight: bold;","font-size: 12px;")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t,bootstrap:[eX]}),t.\u0275inj=g.cJS({providers:[Ze,_N],imports:[pr,pN,wN]}),e})();var nX=T(6321),zI=T(3018),N6=T(2459),h8=T(2096),bn=T(5781),rX=T(2372),bN=T(4564);function HN(...t){return function iX(){return(0,rX.J)(1)}()((0,N6.D)(t,(0,bN.yG)(t)))}var k6=T(9360);function LI(...t){const e=(0,bN.yG)(t);return(0,k6.e)((n,r)=>{(e?HN(t,n,e):HN(t,n)).subscribe(r)})}var p8=T(8251);function xI(){return(0,k6.e)((t,e)=>{let n,r=!1;t.subscribe((0,p8.x)(e,a=>{const l=n;n=a,r&&e.next([l,a]),r=!0}))})}var si=T(7398);function DI(t,e){return(0,k6.e)(function sX(t,e,n,r,a){return(l,f)=>{let m=n,M=e,V=0;l.subscribe((0,p8.x)(f,S=>{const D=V++;M=m?t(M,S,D):(m=!0,S),r&&f.next(M)},a&&(()=>{m&&f.next(M),f.complete()})))}}(t,e,arguments.length>=2,!0))}var aX=T(3997);function Tv(t,e){return(0,k6.e)((n,r)=>{let a=0;n.subscribe((0,p8.x)(r,l=>t.call(e,l,a++)&&r.next(l)))})}var et,Es=T(6304),oX=(T(5967),T(3106)),Me=T(5861),P6=T(534),Nv=T(4537),Ao=T(7879),a2=T(9058),cX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ss={},AI=AI||{},Ft=cX||self;function kv(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function cf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var TI="closure_uid_"+(1e9*Math.random()>>>0),uX=0;function fX(t,e,n){return t.call.apply(t.bind,arguments)}function dX(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),t.apply(e,a)}}return function(){return t.apply(e,arguments)}}function Fn(t,e,n){return(Fn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fX:dX).apply(null,arguments)}function Pv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function fn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,a,l){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return e.prototype[a].apply(r,f)}}function To(){this.s=this.s,this.o=this.o}To.prototype.s=!1,To.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lX(t){Object.prototype.hasOwnProperty.call(t,TI)&&t[TI]||(t[TI]=++uX)}(this)},To.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const VN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function NI(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function IN(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(kv(r)){const a=t.length||0,l=r.length||0;t.length=a+l;for(let f=0;f<l;f++)t[a+f]=r[f]}else t.push(r)}}function Bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var pX=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ft.addEventListener("test",()=>{},e),Ft.removeEventListener("test",()=>{},e)}catch{}return t}();function lf(t){return/^[\s\xa0]*$/.test(t)}function Rv(){var t=Ft.navigator;return t&&(t=t.userAgent)?t:""}function S3(t){return-1!=Rv().indexOf(t)}function kI(t){return kI[" "](t),t}kI[" "]=function(){};var RI,t,gX=S3("Opera"),m8=S3("Trident")||S3("MSIE"),EN=S3("Edge"),PI=EN||m8,SN=S3("Gecko")&&!(-1!=Rv().toLowerCase().indexOf("webkit")&&!S3("Edge"))&&!(S3("Trident")||S3("MSIE"))&&!S3("Edge"),vX=-1!=Rv().toLowerCase().indexOf("webkit")&&!S3("Edge");function zN(){var t=Ft.document;return t?t.documentMode:void 0}e:{var OI="",FI=(t=Rv(),SN?/rv:([^\);]+)(\)|;)/.exec(t):EN?/Edge\/([\d\.]+)/.exec(t):m8?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):vX?/WebKit\/(\S+)/.exec(t):gX?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(FI&&(OI=FI?FI[1]:""),m8){var BI=zN();if(null!=BI&&BI>parseFloat(OI)){RI=String(BI);break e}}RI=OI}var yX=Ft.document&&m8&&(zN()||parseInt(RI,10))||void 0;function uf(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(SN){e:{try{kI(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:CX[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&uf.$.h.call(this)}}fn(uf,Bn);var CX={2:"touch",3:"pen",4:"mouse"};uf.prototype.h=function(){uf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ff="closure_listenable_"+(1e6*Math.random()|0),_X=0;function MX(t,e,n,r,a){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=a,this.key=++_X,this.fa=this.ia=!1}function Ov(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function xN(t){const e={};for(const n in t)e[n]=t[n];return e}const DN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AN(t,e){let n,r;for(let a=1;a<arguments.length;a++){for(n in r=arguments[a],r)t[n]=r[n];for(let l=0;l<DN.length;l++)n=DN[l],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fv(t){this.src=t,this.g={},this.h=0}function $I(t,e){var n=e.type;if(n in t.g){var l,r=t.g[n],a=VN(r,e);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(Ov(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function GI(t,e,n,r){for(var a=0;a<t.length;++a){var l=t[a];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==r)return a}return-1}Fv.prototype.add=function(t,e,n,r,a){var l=t.toString();(t=this.g[l])||(t=this.g[l]=[],this.h++);var f=GI(t,e,r,a);return-1<f?(e=t[f],n||(e.ia=!1)):((e=new MX(e,this.src,l,!!r,a)).ia=n,t.push(e)),e};var qI="closure_lm_"+(1e6*Math.random()|0),WI={};function TN(t,e,n,r,a){if(r&&r.once)return kN(t,e,n,r,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)TN(t,e[l],n,r,a);return null}return n=QI(n),t&&t[ff]?t.O(e,n,cf(r)?!!r.capture:!!r,a):NN(t,e,n,!1,r,a)}function NN(t,e,n,r,a,l){if(!e)throw Error("Invalid event type");var f=cf(a)?!!a.capture:!!a,m=KI(t);if(m||(t[qI]=m=new Fv(t)),(n=m.add(e,n,r,f,l)).proxy)return n;if(r=function bX(){const e=HX;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pX||(a=f),void 0===a&&(a=!1),t.addEventListener(e.toString(),r,a);else if(t.attachEvent)t.attachEvent(RN(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function kN(t,e,n,r,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)kN(t,e[l],n,r,a);return null}return n=QI(n),t&&t[ff]?t.P(e,n,cf(r)?!!r.capture:!!r,a):NN(t,e,n,!0,r,a)}function PN(t,e,n,r,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)PN(t,e[l],n,r,a);else r=cf(r)?!!r.capture:!!r,n=QI(n),t&&t[ff]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=GI(l=t.g[e],n,r,a))&&(Ov(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete t.g[e],t.h--))):t&&(t=KI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=GI(e,n,r,a)),(n=-1<t?e[t]:null)&&ZI(n))}function ZI(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ff])$I(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(RN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=KI(e))?($I(n,t),0==n.h&&(n.src=null,e[qI]=null)):Ov(t)}}}function RN(t){return t in WI?WI[t]:WI[t]="on"+t}function HX(t,e){if(t.fa)t=!0;else{e=new uf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ZI(t),t=n.call(r,e)}return t}function KI(t){return(t=t[qI])instanceof Fv?t:null}var YI="__closure_events_fn_"+(1e9*Math.random()>>>0);function QI(t){return"function"==typeof t?t:(t[YI]||(t[YI]=function(e){return t.handleEvent(e)}),t[YI])}function dn(){To.call(this),this.i=new Fv(this),this.S=this,this.J=null}function Hn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var a=e;AN(e=new Bn(r,t),a)}if(a=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];a=Bv(f,r,!0,e)&&a}if(a=Bv(f=e.g=t,r,!0,e)&&a,a=Bv(f,r,!1,e)&&a,n)for(l=0;l<n.length;l++)a=Bv(f=e.g=n[l],r,!1,e)&&a}function Bv(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var m=f.listener,M=f.la||f.src;f.ia&&$I(t.i,f),a=!1!==m.call(M,r)&&a}}return a&&!r.defaultPrevented}fn(dn,To),dn.prototype[ff]=!0,dn.prototype.removeEventListener=function(t,e,n,r){PN(this,t,e,n,r)},dn.prototype.N=function(){if(dn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ov(n[r]);delete t.g[e],t.h--}}this.J=null},dn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},dn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var JI=Ft.JSON.stringify;function IX(){var t=XI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ON=new class VX{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new SX,t=>t.reset());class SX{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function zX(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function LX(t){Ft.setTimeout(()=>{throw t},0)}let df,hf=!1,XI=new class EX{constructor(){this.h=this.g=null}add(e,n){const r=ON.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},FN=()=>{const t=Ft.Promise.resolve(void 0);df=()=>{t.then(xX)}};var xX=()=>{for(var t;t=IX();){try{t.h.call(t.g)}catch(n){LX(n)}var e=ON;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}hf=!1};function Uv(t,e){dn.call(this),this.h=t||1,this.g=e||Ft,this.j=Fn(this.qb,this),this.l=Date.now()}function eE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function tE(t,e,n){if("function"==typeof t)n&&(t=Fn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Fn(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ft.setTimeout(t,e||0)}function BN(t){t.g=tE(()=>{t.g=null,t.i&&(t.i=!1,BN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}fn(Uv,dn),(et=Uv.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hn(this,"tick"),this.ga&&(eE(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){Uv.$.N.call(this),eE(this),delete this.g};class DX extends To{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BN(this)}N(){super.N(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pf(t){To.call(this),this.h=t,this.g={}}fn(pf,To);var UN=[];function jN(t,e,n,r){Array.isArray(n)||(n&&(UN[0]=n.toString()),n=UN);for(var a=0;a<n.length;a++){var l=TN(e,n[a],r||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function $N(t){jI(t.g,function(e,n){this.g.hasOwnProperty(n)&&ZI(e)},t),t.g={}}function jv(){this.g=!0}function g8(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kX(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return JI(n)}catch{return e}}(t,n)+(r?" "+r:"")})}pf.prototype.N=function(){pf.$.N.call(this),$N(this)},pf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jv.prototype.Ea=function(){this.g=!1},jv.prototype.info=function(){};var R6={},GN=null;function $v(){return GN=GN||new dn}function qN(t){Bn.call(this,R6.Ta,t)}function mf(t){const e=$v();Hn(e,new qN(e))}function WN(t,e){Bn.call(this,R6.STAT_EVENT,t),this.stat=e}function nr(t){const e=$v();Hn(e,new WN(e,t))}function ZN(t,e){Bn.call(this,R6.Ua,t),this.size=e}function gf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){t()},e)}R6.Ta="serverreachability",fn(qN,Bn),R6.STAT_EVENT="statevent",fn(WN,Bn),R6.Ua="timingevent",fn(ZN,Bn);var Gv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},KN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nE(){}function QN(){}nE.prototype.h=null;var sE,vf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rE(){Bn.call(this,"d")}function iE(){Bn.call(this,"c")}function qv(){}function yf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new pf(this),this.P=PX,this.V=new Uv(t=PI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new JN}function JN(){this.i=null,this.g="",this.h=!1}fn(rE,Bn),fn(iE,Bn),fn(qv,nE),qv.prototype.g=function(){return new XMLHttpRequest},qv.prototype.i=function(){return{}},sE=new qv;var PX=45e3,aE={},Wv={};function oE(t,e,n){t.L=1,t.v=Qv(G4(e)),t.s=n,t.S=!0,XN(t,null)}function XN(t,e){t.G=Date.now(),Cf(t),t.A=G4(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),lk(n.i,"t",r),t.C=0,n=t.l.J,t.h=new JN,t.g=Ak(t.l,n?e:null,!t.s),0<t.O&&(t.M=new DX(Fn(t.Pa,t,t.g),t.O)),jN(t.U,t.g,"readystatechange",t.nb),e=t.I?xN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),mf(),function AX(t,e,n,r,a,l){t.info(function(){if(t.g)if(l)for(var f="",m=l.split("&"),M=0;M<m.length;M++){var V=m[M].split("=");if(1<V.length){var S=V[0];V=V[1];var D=S.split("_");f=2<=D.length&&"type"==D[1]?f+(S+"=")+V+"&":f+(S+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+n+"\n"+f})}(t.j,t.u,t.A,t.m,t.W,t.s)}function ek(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function tk(t,e,n){let a,r=!0;for(;!t.J&&t.C<n.length;){if(a=RX(t,n),a==Wv){4==e&&(t.o=4,nr(14),r=!1),g8(t.j,t.m,null,"[Incomplete Response]");break}if(a==aE){t.o=4,nr(15),g8(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}g8(t.j,t.m,a,null),cE(t,a)}ek(t)&&a!=Wv&&a!=aE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,nr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mE(e),e.M=!0,nr(11))):(g8(t.j,t.m,n,"[Invalid Chunked Response]"),O6(t),_f(t))}function RX(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Wv:(n=Number(e.substring(n,r)),isNaN(n)?aE:(r+=1)+n>e.length?Wv:(e=e.slice(r,r+n),t.C=r+n,e))}function Cf(t){t.Y=Date.now()+t.P,nk(t,t.P)}function nk(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=gf(Fn(t.lb,t),e)}function Zv(t){t.B&&(Ft.clearTimeout(t.B),t.B=null)}function _f(t){0==t.l.H||t.J||zk(t.l,t)}function O6(t){Zv(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,eE(t.V),$N(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function cE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||lE(n.i,t)))if(!t.K&&lE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;ry(n),ty(n)}pE(n),nr(18)}}else n.Fa=a[1],0<n.Fa-n.V&&37500>a[2]&&n.G&&0==n.A&&!n.v&&(n.v=gf(Fn(n.ib,n),6e3));if(1>=dk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else B6(n,11)}else if((t.K||n.g==t)&&ry(n),!lf(e))for(a=n.Ja.g.parse(e),e=0;e<a.length;e++){let V=a[e];if(n.V=V[0],V=V[1],2==n.H)if("c"==V[0]){n.K=V[1],n.pa=V[2];const S=V[3];null!=S&&(n.ra=S,n.l.info("VER="+n.ra));const D=V[4];null!=D&&(n.Ga=D,n.l.info("SVER="+n.Ga));const O=V[5];null!=O&&"number"==typeof O&&0<O&&(n.L=r=1.5*O,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const q=t.g;if(q){const de=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(de){var l=r.i;l.g||-1==de.indexOf("spdy")&&-1==de.indexOf("quic")&&-1==de.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(uE(l,l.h),l.h=null))}if(r.F){const Ae=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Ae&&(r.Da=Ae,P2(r.I,r.F,Ae))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=t;if((r=n).wa=Dk(r,r.J?r.pa:null,r.Y),f.K){hk(r.i,f);var m=f,M=r.L;M&&m.setTimeout(M),m.B&&(Zv(m),Cf(m)),r.g=f}else Ek(r);0<n.j.length&&ny(n)}else"stop"!=V[0]&&"close"!=V[0]||B6(n,7);else 3==n.H&&("stop"==V[0]||"close"==V[0]?"stop"==V[0]?B6(n,7):hE(n):"noop"!=V[0]&&n.h&&n.h.Aa(V),n.A=0)}mf()}catch{}}function rk(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(kv(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function FX(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kv(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function OX(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(kv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),a=r.length,l=0;l<a;l++)e.call(void 0,r[l],n&&n[l],t)}(et=yf.prototype).setTimeout=function(t){this.P=t},et.nb=function(t){t=t.target;const e=this.M;e&&3==z3(t)?e.l():this.Pa(t)},et.Pa=function(t){try{if(t==this.g)e:{const S=z3(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||PI||this.g&&(this.h.h||this.g.ja()||Mk(this.g)))){this.J||4!=S||7==e||mf(),Zv(this);var n=this.g.da();this.ca=n;t:if(ek(this)){var r=Mk(this.g);t="";var a=r.length,l=4==z3(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){O6(this),_f(this);var f="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:l&&e==a-1});r.splice(0,a),this.h.g+=t,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function TX(t,e,n,r,a,l,f){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,S,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,M=this.g;if((m=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lf(m)){var V=m;break t}}V=null}if(!(n=V)){this.i=!1,this.o=3,nr(12),O6(this),_f(this);break e}g8(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cE(this,n)}this.S?(tk(this,S,f),PI&&this.i&&3==S&&(jN(this.U,this.V,"tick",this.mb),this.V.start())):(g8(this.j,this.m,f,null),cE(this,f)),4==S&&O6(this),this.i&&!this.J&&(4==S?zk(this.l,this):(this.i=!1,Cf(this)))}else(function iee(t){const e={};t=(t.g&&2<=z3(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(lf(t[r]))continue;var n=zX(t[r]);const a=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[a]||[];e[a]=l,l.push(n)}!function wX(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,nr(12)):(this.o=0,nr(13)),O6(this),_f(this)}}}catch{}},et.mb=function(){if(this.g){var t=z3(this.g),e=this.g.ja();this.C<e.length&&(Zv(this),tk(this,t,e),this.i&&4!=t&&Cf(this))}},et.cancel=function(){this.J=!0,O6(this)},et.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function NX(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(mf(),nr(17)),O6(this),this.o=2,_f(this)):nk(this,this.Y-t)};var ik=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function F6(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof F6){this.h=t.h,Kv(this,t.j),this.s=t.s,this.g=t.g,Yv(this,t.m),this.l=t.l;var e=t.i,n=new bf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),sk(this,n),this.o=t.o}else t&&(e=String(t).match(ik))?(this.h=!1,Kv(this,e[1]||"",!0),this.s=Mf(e[2]||""),this.g=Mf(e[3]||"",!0),Yv(this,e[4]),this.l=Mf(e[5]||"",!0),sk(this,e[6]||"",!0),this.o=Mf(e[7]||"")):(this.h=!1,this.i=new bf(null,this.h))}function G4(t){return new F6(t)}function Kv(t,e,n){t.j=n?Mf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function sk(t,e,n){e instanceof bf?(t.i=e,function WX(t,e){e&&!t.j&&(No(t),t.i=null,t.g.forEach(function(n,r){var a=r.toLowerCase();r!=a&&(ok(this,r),lk(this,a,n))},t)),t.j=e}(t.i,t.h)):(n||(e=wf(e,GX)),t.i=new bf(e,t.h))}function P2(t,e,n){t.i.set(e,n)}function Qv(t){return P2(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Mf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function wf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,UX),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function UX(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}F6.prototype.toString=function(){var t=[],e=this.j;e&&t.push(wf(e,ak,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(wf(e,ak,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(wf(n,"/"==n.charAt(0)?$X:jX,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",wf(n,qX)),t.join("")};var ak=/[#\/\?@]/g,jX=/[#\?:]/g,$X=/[#\?]/g,GX=/[#\?@]/g,qX=/#/g;function bf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function No(t){t.g||(t.g=new Map,t.h=0,t.i&&function BX(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),a=null;if(0<=r){var l=t[n].substring(0,r);a=t[n].substring(r+1)}else l=t[n];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ok(t,e){No(t),e=v8(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ck(t,e){return No(t),e=v8(t,e),t.g.has(e)}function lk(t,e,n){ok(t,e),0<n.length&&(t.i=null,t.g.set(v8(t,e),NI(n)),t.h+=n.length)}function v8(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function uk(t){this.l=t||KX,t=Ft.PerformanceNavigationTiming?0<(t=Ft.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ka&&Ft.g.Ka()&&Ft.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=bf.prototype).add=function(t,e){No(this),this.i=null,t=v8(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},et.forEach=function(t,e){No(this),this.g.forEach(function(n,r){n.forEach(function(a){t.call(e,a,r,this)},this)},this)},et.ta=function(){No(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const a=t[r];for(let l=0;l<a.length;l++)n.push(e[r])}return n},et.Z=function(t){No(this);let e=[];if("string"==typeof t)ck(this,t)&&(e=e.concat(this.g.get(v8(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},et.set=function(t,e){return No(this),this.i=null,ck(this,t=v8(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},et.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const l=encodeURIComponent(String(r)),f=this.Z(r);for(r=0;r<f.length;r++){var a=l;""!==f[r]&&(a+="="+encodeURIComponent(String(f[r]))),t.push(a)}}return this.i=t.join("&")};var KX=10;function fk(t){return!!t.h||!!t.g&&t.g.size>=t.j}function dk(t){return t.h?1:t.g?t.g.size:0}function lE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function uE(t,e){t.g?t.g.add(e):t.h=e}function hk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function pk(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return NI(t.i)}uk.prototype.cancel=function(){if(this.i=pk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var YX=class{stringify(t){return Ft.JSON.stringify(t,void 0)}parse(t){return Ft.JSON.parse(t,void 0)}};function QX(){this.g=new YX}function JX(t,e,n){const r=n||"";try{rk(t,function(a,l){let f=a;cf(a)&&(f=JI(a)),e.push(r+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function Jv(t,e,n,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch{}}function Hf(t){this.l=t.fc||null,this.j=t.ob||!1}function Xv(t,e){dn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=fE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fn(Hf,nE),Hf.prototype.g=function(){return new Xv(this.l,this.j)},Hf.prototype.i=function(t){return function(){return t}}({}),fn(Xv,dn);var fE=0;function mk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Vf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,If(t)}function If(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(et=Xv.prototype).open=function(t,e){if(this.readyState!=fE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,If(this)},et.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ft).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vf(this)),this.readyState=fE},et.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,If(this)),this.g&&(this.readyState=3,If(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vf(this):If(this),3==this.readyState&&mk(this)}},et.Za=function(t){this.g&&(this.response=this.responseText=t,Vf(this))},et.Ya=function(t){this.g&&(this.response=t,Vf(this))},et.ka=function(){this.g&&Vf(this)},et.setRequestHeader=function(t,e){this.v.append(t,e)},et.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Xv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var eee=Ft.JSON.parse;function h1(t){dn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gk,this.L=this.M=!1}fn(h1,dn);var gk="",tee=/^https?$/i,nee=["POST","PUT"];function vk(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yk(t),ey(t)}function yk(t){t.F||(t.F=!0,Hn(t,"complete"),Hn(t,"error"))}function Ck(t){if(t.h&&typeof AI<"u"&&(!t.C[1]||4!=z3(t)||2!=t.da()))if(t.v&&4==z3(t))tE(t.La,0,t);else if(Hn(t,"readystatechange"),4==z3(t)){t.h=!1;try{const f=t.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===f){var a=String(t.I).match(ik)[1]||null;!a&&Ft.self&&Ft.self.location&&(a=Ft.self.location.protocol.slice(0,-1)),r=!tee.test(a?a.toLowerCase():"")}n=r}if(n)Hn(t,"complete"),Hn(t,"success");else{t.m=6;try{var l=2<z3(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.da()+"]",yk(t)}}finally{ey(t)}}}function ey(t,e){if(t.g){_k(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Hn(t,"ready");try{n.onreadystatechange=r}catch{}}}function _k(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ft.clearTimeout(t.A),t.A=null)}function z3(t){return t.g?t.g.readyState:0}function Mk(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case gk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function wk(t){let e="";return jI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function dE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wk(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):P2(t,e,n))}function Ef(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bk(t){this.Ga=0,this.j=[],this.l=new jv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ef("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ef("baseRetryDelayMs",5e3,t),this.hb=Ef("retryDelaySeedMs",1e4,t),this.eb=Ef("forwardChannelMaxRetries",2,t),this.xa=Ef("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new uk(t&&t.concurrentRequestLimit),this.Ja=new QX,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function hE(t){if(Hk(t),3==t.H){var e=t.W++,n=G4(t.I);if(P2(n,"SID",t.K),P2(n,"RID",e),P2(n,"TYPE","terminate"),Sf(t,n),(e=new yf(t,t.l,e)).L=2,e.v=Qv(G4(n)),n=!1,Ft.navigator&&Ft.navigator.sendBeacon)try{n=Ft.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ft.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ak(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Cf(e)}xk(t)}function ty(t){t.g&&(mE(t),t.g.cancel(),t.g=null)}function Hk(t){ty(t),t.u&&(Ft.clearTimeout(t.u),t.u=null),ry(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ft.clearTimeout(t.m),t.m=null)}function ny(t){if(!fk(t.i)&&!t.m){t.m=!0;var e=t.Na;df||FN(),hf||(df(),hf=!0),XI.add(e,t),t.C=0}}function Vk(t,e){var n;n=e?e.m:t.W++;const r=G4(t.I);P2(r,"SID",t.K),P2(r,"RID",n),P2(r,"AID",t.V),Sf(t,r),t.o&&t.s&&dE(r,t.o,t.s),n=new yf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Ik(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),uE(t.i,n),oE(n,r,e)}function Sf(t,e){t.na&&jI(t.na,function(n,r){P2(e,r,n)}),t.h&&rk({},function(n,r){P2(e,r,n)})}function Ik(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Fn(t.h.Va,t.h,t):null;e:{var a=t.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=a[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let m=!0;for(let M=0;M<n;M++){let V=a[M].g;const S=a[M].map;if(V-=l,0>V)l=Math.max(0,a[M].g-100),m=!1;else try{JX(S,f,"req"+V+"_")}catch{r&&r(S)}}if(m){r=f.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ek(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;df||FN(),hf||(df(),hf=!0),XI.add(e,t),t.A=0}}function pE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=gf(Fn(t.Ma,t),Lk(t,t.A)),t.A++,0))}function mE(t){null!=t.B&&(Ft.clearTimeout(t.B),t.B=null)}function Sk(t){t.g=new yf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=G4(t.wa);P2(e,"RID","rpc"),P2(e,"SID",t.K),P2(e,"AID",t.V),P2(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&P2(e,"TO",t.qa),P2(e,"TYPE","xmlhttp"),Sf(t,e),t.o&&t.s&&dE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Qv(G4(e)),n.s=null,n.S=!0,XN(n,t)}function ry(t){null!=t.v&&(Ft.clearTimeout(t.v),t.v=null)}function zk(t,e){var n=null;if(t.g==e){ry(t),mE(t),t.g=null;var r=2}else{if(!lE(t.i,e))return;n=e.F,hk(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var a=t.C;Hn(r=$v(),new ZN(r,n)),ny(t)}else Ek(t);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==r&&function see(t,e){return!(dk(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=gf(Fn(t.Na,t,e),Lk(t,t.C)),t.C++,0)))}(t,e)||2==r&&pE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),a){case 1:B6(t,5);break;case 4:B6(t,10);break;case 3:B6(t,6);break;default:B6(t,2)}}function Lk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function B6(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Fn(t.pb,t);n||(n=new F6("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||Kv(n,"https"),Qv(n)),function XX(t,e){const n=new jv;if(Ft.Image){const r=new Image;r.onload=Pv(Jv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pv(Jv,n,r,"TestLoadImage: error",!1,e),r.onabort=Pv(Jv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pv(Jv,n,r,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else nr(2);t.H=0,t.h&&t.h.za(e),xk(t),Hk(t)}function xk(t){if(t.H=0,t.ma=[],t.h){const e=pk(t.i);(0!=e.length||0!=t.j.length)&&(IN(t.ma,e),IN(t.ma,t.j),t.i.i.length=0,NI(t.j),t.j.length=0),t.h.ya()}}function Dk(t,e,n){var r=n instanceof F6?G4(n):new F6(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Yv(r,r.m);else{var a=Ft.location;r=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new F6(null);r&&Kv(l,r),e&&(l.g=e),a&&Yv(l,a),n&&(l.l=n),r=l}return e=t.Da,(n=t.F)&&e&&P2(r,n,e),P2(r,"VER",t.ra),Sf(t,r),r}function Ak(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new h1(n&&t.Ha&&!t.va?new Hf({ob:!0}):t.va)).Oa(t.J),e}function Tk(){}function iy(){if(m8&&!(10<=Number(yX)))throw Error("Environmental error: no available transport.")}function ai(t,e){dn.call(this),this.g=new bk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!lf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new y8(this)}function Nk(t){rE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function kk(){iE.call(this),this.status=1}function y8(t){this.g=t}function zs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)r[a]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(a=0;16>a;++a)r[a]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=t.g[3],f=(e=t.g[0])+(l^(n=t.g[1])&((a=t.g[2])^l))+r[0]+3614090360&4294967295;f=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=(n=(a=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(a^e&(n^a))+r[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(n^l&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^a&(l^e))+r[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(a^l))+r[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(n^a))+r[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(n^l&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^a&(l^e))+r[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(a^l))+r[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(n^a))+r[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(n^l&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^a&(l^e))+r[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(a^l))+r[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(n^a))+r[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(n^l&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^a&(l^e))+r[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^l&(n^a))+r[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^a&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^n&(l^e))+r[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(a^l))+r[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(n^a))+r[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^a&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^n&(l^e))+r[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(a^l))+r[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(n^a))+r[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^a&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^n&(l^e))+r[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(a^l))+r[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(n^a))+r[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^a&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^n&(l^e))+r[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(a^l))+r[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^a^l)+r[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^a)+r[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(a^l^e)+r[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^a^l)+r[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^a)+r[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(a^l^e)+r[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^a^l)+r[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^a)+r[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(a^l^e)+r[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^a^l)+r[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^a)+r[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^n)+r[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(a^l^e)+r[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(n|~l))+r[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~a))+r[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~n))+r[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(a|~e))+r[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(n|~l))+r[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~a))+r[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~n))+r[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(a|~e))+r[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(n|~l))+r[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~a))+r[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~n))+r[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(a|~e))+r[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(a^(n|~l))+r[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~a))+r[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=l+((f=a+(e^(l|~n))+r[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,t.g[2]=t.g[2]+a&4294967295,t.g[3]=t.g[3]+l&4294967295}function v2(t,e){this.h=e;for(var n=[],r=!0,a=t.length-1;0<=a;a--){var l=0|t[a];r&&l==e||(n[a]=l,r=!1)}this.g=n}(et=h1.prototype).Oa=function(t){this.M=t},et.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sE.g(),this.C=function YN(t){return t.h||(t.h=t.i())}(this.u?this.u:sE),this.g.onreadystatechange=Fn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(l){return void vk(this,l)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())n.set(l,r.get(l))}r=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),a=Ft.FormData&&t instanceof Ft.FormData,!(0<=VN(nee,e))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_k(this),0<this.B&&((this.L=function ree(t){return m8&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fn(this.ua,this)):this.A=tE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){vk(this,l)}},et.ua=function(){typeof AI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hn(this,"timeout"),this.abort(8))},et.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Hn(this,"complete"),Hn(this,"abort"),ey(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ey(this,!0)),h1.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?Ck(this):this.kb())},et.kb=function(){Ck(this)},et.isActive=function(){return!!this.g},et.da=function(){try{return 2<z3(this)?this.g.status:-1}catch{return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),eee(e)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=bk.prototype).ra=8,et.H=1,et.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const a=new yf(this,this.l,t);let l=this.s;if(this.U&&(l?(l=xN(l),AN(l,this.U)):l=this.U),null!==this.o||this.O||(a.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ik(this,a,e),P2(n=G4(this.I),"RID",t),P2(n,"CVER",22),this.F&&P2(n,"X-HTTP-Session-Id",this.F),Sf(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(wk(l)))+"&"+e:this.o&&dE(n,this.o,l)),uE(this.i,a),this.bb&&P2(n,"TYPE","init"),this.P?(P2(n,"$req",e),P2(n,"SID","null"),a.aa=!0,oE(a,n,null)):oE(a,n,e),this.H=2}}else 3==this.H&&(t?Vk(this,t):0==this.j.length||fk(this.i)||Vk(this))},et.Ma=function(){if(this.u=null,Sk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=gf(Fn(this.jb,this),t)}},et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nr(10),ty(this),Sk(this))},et.ib=function(){null!=this.v&&(this.v=null,ty(this),pE(this),nr(19))},et.pb=function(t){t?(this.l.info("Successfully pinged google.com"),nr(2)):(this.l.info("Failed to ping google.com"),nr(1))},et.isActive=function(){return!!this.h&&this.h.isActive(this)},(et=Tk.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.isActive=function(){return!0},et.Va=function(){},iy.prototype.g=function(t,e){return new ai(t,e)},fn(ai,dn),ai.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;nr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Dk(t,null,t.Y),ny(t)},ai.prototype.close=function(){hE(this.g)},ai.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=JI(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&ny(e)},ai.prototype.N=function(){this.g.h=null,delete this.j,hE(this.g),delete this.g,ai.$.N.call(this)},fn(Nk,rE),fn(kk,iE),fn(y8,Tk),y8.prototype.Ba=function(){Hn(this.g,"a")},y8.prototype.Aa=function(t){Hn(this.g,new Nk(t))},y8.prototype.za=function(t){Hn(this.g,new kk)},y8.prototype.ya=function(){Hn(this.g,"b")},fn(zs,function aee(){this.blockSize=-1}),zs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zs.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,a=this.h,l=0;l<e;){if(0==a)for(;l<=n;)gE(this,t,l),l+=this.blockSize;if("string"==typeof t){for(;l<e;)if(r[a++]=t.charCodeAt(l++),a==this.blockSize){gE(this,r),a=0;break}}else for(;l<e;)if(r[a++]=t[l++],a==this.blockSize){gE(this,r),a=0;break}}this.h=a,this.i+=e},zs.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var oee={};function vE(t){return-128<=t&&128>t?function mX(t,e){var n=oee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new v2([0|e],0>e?-1:0)}):new v2([0|t],0>t?-1:0)}function L3(t){if(isNaN(t)||!isFinite(t))return C8;if(0>t)return Vn(L3(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=yE;return new v2(e,0)}var yE=4294967296,C8=vE(0),CE=vE(1),Rk=vE(16777216);function q4(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ri(t){return-1==t.h}function Vn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new v2(n,~t.h).add(CE)}function sy(t,e){return t.add(Vn(e))}function ay(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function zf(t,e){this.g=t,this.h=e}function oy(t,e){if(q4(e))throw Error("division by zero");if(q4(t))return new zf(C8,C8);if(Ri(t))return e=oy(Vn(t),e),new zf(Vn(e.g),Vn(e.h));if(Ri(e))return e=oy(t,Vn(e)),new zf(Vn(e.g),e.h);if(30<t.g.length){if(Ri(t)||Ri(e))throw Error("slowDivide_ only works with positive integers.");for(var n=CE,r=e;0>=r.X(t);)n=Ok(n),r=Ok(r);var a=_8(n,1),l=_8(r,1);for(r=_8(r,2),n=_8(n,2);!q4(r);){var f=l.add(r);0>=f.X(t)&&(a=a.add(n),l=f),r=_8(r,1),n=_8(n,1)}return e=sy(t,a.R(e)),new zf(a,e)}for(a=C8;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),f=(l=L3(n)).R(e);Ri(f)||0<f.X(t);)f=(l=L3(n-=r)).R(e);q4(l)&&(l=CE),a=a.add(l),t=sy(t,f)}return new zf(a,t)}function Ok(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new v2(n,t.h)}function _8(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,a=[],l=0;l<r;l++)a[l]=0<e?t.D(l+n)>>>e|t.D(l+n+1)<<32-e:t.D(l+n);return new v2(a,t.h)}(et=v2.prototype).ea=function(){if(Ri(this))return-Vn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:yE+r)*e,e*=yE}return t},et.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(q4(this))return"0";if(Ri(this))return"-"+Vn(this).toString(t);for(var e=L3(Math.pow(t,6)),n=this,r="";;){var a=oy(n,e).g,l=((0<(n=sy(n,a.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(q4(n=a))return l+r;for(;6>l.length;)l="0"+l;r=l+r}},et.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},et.X=function(t){return Ri(t=sy(this,t))?-1:q4(t)?0:1},et.abs=function(){return Ri(this)?Vn(this):this},et.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,a=0;a<=e;a++){var l=r+(65535&this.D(a))+(65535&t.D(a)),f=(l>>>16)+(this.D(a)>>>16)+(t.D(a)>>>16);r=f>>>16,n[a]=(f&=65535)<<16|(l&=65535)}return new v2(n,-2147483648&n[n.length-1]?-1:0)},et.R=function(t){if(q4(this)||q4(t))return C8;if(Ri(this))return Ri(t)?Vn(this).R(Vn(t)):Vn(Vn(this).R(t));if(Ri(t))return Vn(this.R(Vn(t)));if(0>this.X(Rk)&&0>t.X(Rk))return L3(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var a=0;a<t.g.length;a++){var l=this.D(r)>>>16,f=65535&this.D(r),m=t.D(a)>>>16,M=65535&t.D(a);n[2*r+2*a]+=f*M,ay(n,2*r+2*a),n[2*r+2*a+1]+=l*M,ay(n,2*r+2*a+1),n[2*r+2*a+1]+=f*m,ay(n,2*r+2*a+1),n[2*r+2*a+2]+=l*m,ay(n,2*r+2*a+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new v2(n,0)},et.gb=function(t){return oy(this,t).h},et.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new v2(n,this.h&t.h)},et.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new v2(n,this.h|t.h)},et.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new v2(n,this.h^t.h)},iy.prototype.createWebChannel=iy.prototype.g,ai.prototype.send=ai.prototype.u,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,Gv.NO_ERROR=0,Gv.TIMEOUT=8,Gv.HTTP_ERROR=6,KN.COMPLETE="complete",QN.EventType=vf,vf.OPEN="a",vf.CLOSE="b",vf.ERROR="c",vf.MESSAGE="d",dn.prototype.listen=dn.prototype.O,h1.prototype.listenOnce=h1.prototype.P,h1.prototype.getLastError=h1.prototype.Sa,h1.prototype.getLastErrorCode=h1.prototype.Ia,h1.prototype.getStatus=h1.prototype.da,h1.prototype.getResponseJson=h1.prototype.Wa,h1.prototype.getResponseText=h1.prototype.ja,h1.prototype.send=h1.prototype.ha,h1.prototype.setWithCredentials=h1.prototype.Oa,zs.prototype.digest=zs.prototype.l,zs.prototype.reset=zs.prototype.reset,zs.prototype.update=zs.prototype.j,v2.prototype.add=v2.prototype.add,v2.prototype.multiply=v2.prototype.R,v2.prototype.modulo=v2.prototype.gb,v2.prototype.compare=v2.prototype.X,v2.prototype.toNumber=v2.prototype.ea,v2.prototype.toString=v2.prototype.toString,v2.prototype.getBits=v2.prototype.D,v2.fromNumber=L3,v2.fromString=function Pk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Vn(Pk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=L3(Math.pow(e,8)),r=C8,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),f=parseInt(t.substring(a,a+l),e);8>l?(l=L3(Math.pow(e,l)),r=r.R(l).add(L3(f))):r=(r=r.R(n)).add(L3(f))}return r};var cee=Ss.createWebChannelTransport=function(){return new iy},lee=Ss.getStatEventTarget=function(){return $v()},_E=Ss.ErrorCode=Gv,uee=Ss.EventType=KN,fee=Ss.Event=R6,Fk=Ss.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},dee=Ss.FetchXmlHttpFactory=Hf,cy=Ss.WebChannel=QN,hee=Ss.XhrIo=h1,pee=Ss.Md5=zs,M8=Ss.Integer=v2;const Bk="@firebase/firestore";class hn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let w8="9.23.0";const ko=new Ao.Yd("@firebase/firestore");function ME(){return ko.logLevel}function Re(t,...e){if(ko.logLevel<=Ao.in.DEBUG){const n=e.map(wE);ko.debug(`Firestore (${w8}): ${t}`,...n)}}function I1(t,...e){if(ko.logLevel<=Ao.in.ERROR){const n=e.map(wE);ko.error(`Firestore (${w8}): ${t}`,...n)}}function Oi(t,...e){if(ko.logLevel<=Ao.in.WARN){const n=e.map(wE);ko.warn(`Firestore (${w8}): ${t}`,...n)}}function wE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function ot(t="Unexpected state"){const e=`FIRESTORE (${w8}) INTERNAL ASSERTION FAILED: `+t;throw I1(e),new Error(e)}function Ct(t,e){t||ot()}function Je(t,e){return t}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends a2.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Y1{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Uk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class yee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cee{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let a=this.i;const l=V=>this.i!==a?(a=this.i,n(V)):Promise.resolve();let f=new Y1;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Y1,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const V=f;e.enqueueRetryable((0,Me.Z)(function*(){yield V.promise,yield l(r.currentUser)}))},M=V=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(V=>M(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?M(V):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Y1)}},0),m()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new Uk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new hn(e)}}class _ee{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Mee{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new _ee(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wee{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=l=>{null!=l.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?a(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct("string"==typeof n.token),this.T=n.token,new jk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class $k{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const a=bee(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a[l]%62))}return r}}function kt(t,e){return t<e?-1:t>e?1:0}function b8(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}function Gk(t){return t+"\0"}class Q2{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Q2.fromMillis(Date.now())}static fromDate(e){return Q2.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Q2(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Q2(0,0))}static max(){return new Mt(new Q2(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lf{constructor(e,n,r){void 0===n?n=0:n>e.length&&ot(),void 0===r?r=e.length-n:r>e.length-n&&ot(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Lf.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=e.get(a),f=n.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class t2 extends Lf{construct(e,n,r){return new t2(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new t2(n)}static emptyPath(){return new t2([])}}const Hee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class p1 extends Lf{construct(e,n,r){return new p1(e,n,r)}static isValidIdentifier(e){return Hee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),p1.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new p1(["__name__"])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(0===r.length)throw new Se(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;a<e.length;){const m=e[a];if("\\"===m){if(a+1===e.length)throw new Se(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[a+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new Se(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=M,a+=2}else"`"===m?(f=!f,a++):"."!==m||f?(r+=m,a++):(l(),a++)}if(l(),f)throw new Se(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new p1(n)}static emptyPath(){return new p1([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(t2.fromString(e))}static fromName(e){return new Qe(t2.fromString(e).popFirst(5))}static empty(){return new Qe(t2.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===t2.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return t2.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new t2(e.slice()))}}class ly{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function bE(t){return t.fields.find(e=>2===e.kind)}function U6(t){return t.fields.filter(e=>2!==e.kind)}ly.UNKNOWN_ID=-1;class uy{constructor(e,n){this.fieldPath=e,this.kind=n}}class xf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new xf(0,oi.min())}}function qk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Mt.fromTimestamp(1e9===r?new Q2(n+1,0):new Q2(n,r));return new oi(a,Qe.empty(),e)}function Wk(t){return new oi(t.readTime,t.key,-1)}class oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oi(Mt.min(),Qe.empty(),-1)}static max(){return new oi(Mt.max(),Qe.empty(),-1)}}function HE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Qe.comparator(t.documentKey,e.documentKey),0!==n?n:kt(t.largestBatchId,e.largestBatchId))}const Zk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Po(t){return VE.apply(this,arguments)}function VE(){return VE=(0,Me.Z)(function*(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==Zk)throw t;Re("LocalStore","Unexpectedly lost primary lease")}),VE.apply(this,arguments)}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let a=0,l=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++l,f&&l===a&&n()},M=>r(M))}),f=!0,l===a&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(a=>a?te.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new te((r,a)=>{const l=e.length,f=new Array(l);let m=0;for(let M=0;M<l;M++){const V=M;n(e[V]).next(S=>{f[V]=S,++m,m===l&&r(f)},S=>a(S))}})}static doWhile(e,n){return new te((r,a)=>{const l=()=>{!0===e()?n().next(()=>{l()},a):r()};l()})}}class fy{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Y1,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Df(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const a=IE(r.target.error);this.v.reject(new Df(e,a))}}static open(e,n,r,a){try{return new fy(n,e.transaction(a,r))}catch(l){throw new Df(n,l)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new See(n)}}class Ls{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===Ls.S((0,a2.z$)())&&I1("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),j6(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,a2.hl)())return!1;if(Ls.C())return!0;const e=(0,a2.z$)(),n=Ls.S(e),r=0<n&&n<10,a=Ls.N(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return(0,Me.Z)(function*(){return n.db||(Re("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,a)=>{const l=indexedDB.open(n.name,n.version);l.onsuccess=f=>{r(f.target.result)},l.onblocked=()=>{a(new Df(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const m=f.target.error;a("VersionError"===m.name?new Se(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Se(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Df(e,m))},l.onupgradeneeded=f=>{Re("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',f.oldVersion),n.V.O(f.target.result,l.transaction,f.oldVersion,n.version).next(()=>{Re("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,a){var l=this;return(0,Me.Z)(function*(){const f="readonly"===n;let m=0;for(;;){++m;try{l.db=yield l.$(e);const M=fy.open(l.db,e,f?"readonly":"readwrite",r),V=a(M).next(S=>(M.P(),S)).catch(S=>(M.abort(S),te.reject(S))).toPromise();return V.catch(()=>{}),yield M.R,V}catch(M){const V=M,S="FirebaseError"!==V.name&&m<3;if(Re("SimpleDb","Transaction failed with error:",V.message,"Retrying:",S),l.close(),!S)return Promise.reject(V)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Eee{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return j6(this.L.delete())}}class Df extends Se{constructor(e,n){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ro(t){return"IndexedDbTransactionError"===t.name}class See{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Re("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),j6(r)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),j6(this.store.add(e))}get(e){return j6(this.store.get(e)).next(n=>(void 0===n&&(n=null),Re("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),j6(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),j6(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const a=this.cursor(r),l=[];return this.W(a,(f,m)=>{l.push(m)}).next(()=>l)}{const a=this.store.getAll(r.range);return new te((l,f)=>{a.onerror=m=>{f(m.target.error)},a.onsuccess=m=>{l(m.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new te((a,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}J(e,n){Re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const a=this.cursor(r);return this.W(a,(l,f,m)=>m.delete())}X(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.W(a,n)}Z(e){const n=this.cursor({});return new te((r,a)=>{n.onerror=l=>{const f=IE(l.target.error);a(f)},n.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(m=>{m?f.continue():r()}):r()}})}W(e,n){const r=[];return new te((a,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const m=f.target.result;if(!m)return void a();const M=new Eee(m),V=n(m.primaryKey,m.value,M);if(V instanceof te){const S=V.catch(D=>(M.done(),te.reject(D)));r.push(S)}M.isDone?a():null===M.K?m.continue():m.continue(M.K)}}).next(()=>te.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function j6(t){return new te((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const a=IE(r.target.error);n(a)}})}let Yk=!1;function IE(t){const e=Ls.S((0,a2.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Yk||(Yk=!0,setTimeout(()=>{throw r},0)),r}}return t}class zee{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Re("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Me.Z)(function*(){n.task=null;try{Re("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){Ro(r)?Re("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Po(r)}yield n.et(6e4)}))}}class Lee{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,Me.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let a=n,l=!0;return te.doWhile(()=>!0===l&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!r.has(f))return Re("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,a).next(m=>{a-=m,r.add(f)});l=!1})).next(()=>n-a)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next(l=>{const f=l.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(a,l)).next(m=>(Re("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,n,m))).next(()=>f.size)}))}rt(e,n){let r=e;return n.changes.forEach((a,l)=>{const f=Wk(l);HE(f,r)>0&&(r=f)}),new oi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let ci=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>r.writeSequenceNumber(a))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Af(t){return null==t}function Tf(t){return 0===t&&1/t==-1/0}function Qk(t){return"number"==typeof t&&Number.isInteger(t)&&!Tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Un(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Jk(e)),e=xee(t.get(n),e);return Jk(e)}function xee(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=l}}return n}function Jk(t){return t+"\x01\x01"}function x3(t){const e=t.length;if(Ct(e>=2),2===e)return Ct("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),t2.emptyPath();const n=e-2,r=[];let a="";for(let l=0;l<e;){const f=t.indexOf("\x01",l);switch((f<0||f>n)&&ot(),t.charAt(f+1)){case"\x01":const m=t.substring(l,f);let M;0===a.length?M=m:(a+=m,M=a,a=""),r.push(M);break;case"\x10":a+=t.substring(l,f),a+="\0";break;case"\x11":a+=t.substring(l,f+1);break;default:ot()}l=f+2}return new t2(r)}const Xk=["userId","batchId"];function dy(t,e){return[t,Un(e)]}function eP(t,e,n){return[t,Un(e),n]}const Dee={},Aee=["prefixPath","collectionGroup","readTime","documentId"],Tee=["prefixPath","collectionGroup","documentId"],Nee=["collectionGroup","readTime","prefixPath","documentId"],kee=["canonicalId","targetId"],Pee=["targetId","path"],Ree=["path","targetId"],Oee=["collectionId","parent"],Fee=["indexId","uid"],Bee=["uid","sequenceNumber"],Uee=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jee=["indexId","uid","orderedDocumentKey"],$ee=["userId","collectionPath","documentId"],Gee=["userId","collectionPath","largestBatchId"],qee=["userId","collectionGroup","largestBatchId"],tP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wee=[...tP,"documentOverlays"],nP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rP=nP,Zee=[...rP,"indexConfiguration","indexState","indexEntries"];class EE extends Kk{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function pn(t,e){const n=Je(t);return Ls.M(n.ht,e)}function iP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class A2{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new A2(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new A2(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hy(this.root,e,this.comparator,!1)}getReverseIterator(){return new hy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hy(this.root,e,this.comparator,!0)}}class hy{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??In.RED,this.left=a??In.EMPTY,this.right=l??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new In(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):0===l?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===n(e,a.key)){if(a.right.isEmpty())return In.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1,In.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(t,e,n,r,a){return this}insert(t,e,n){return new In(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class R2{constructor(e){this.comparator=e,this.data=new A2(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aP(this.data.getIterator())}getIteratorFrom(e){return new aP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof R2)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new R2(this.comparator);return n.data=e,n}}class aP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function H8(t){return t.hasNext()?t.getNext():void 0}class Vr{constructor(e){this.fields=e,e.sort(p1.comparator)}static empty(){return new Vr([])}unionWith(e){let n=new R2(p1.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return b8(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class oP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Q1{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oP("Invalid base64 string: "+a):a}}(e);return new Q1(n)}static fromUint8Array(e){const n=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new Q1(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Q1.EMPTY_BYTE_STRING=new Q1("");const Yee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(t){if(Ct(!!t),"string"==typeof t){let e=0;const n=Yee.exec(t);if(Ct(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:m1(t.seconds),nanos:m1(t.nanos)}}function m1(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function W4(t){return"string"==typeof t?Q1.fromBase64String(t):Q1.fromUint8Array(t)}function py(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function my(t){const e=t.mapValue.fields.__previous_value__;return py(e)?my(e):e}function Nf(t){const e=Fo(t.mapValue.fields.__local_write_time__.timestampValue);return new Q2(e.seconds,e.nanos)}class Qee{constructor(e,n,r,a,l,f,m,M,V){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=M,this.useFetchStreams=V}}class Bo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bo&&e.projectId===this.projectId&&e.database===this.database}}const Uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gy={nullValue:"NULL_VALUE"};function jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?py(t)?4:fP(t)?9007199254740991:10:ot()}function D3(t,e){if(t===e)return!0;const n=jo(t);if(n!==jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nf(t).isEqual(Nf(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=Fo(r.timestampValue),f=Fo(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return a=e,W4(t.bytesValue).isEqual(W4(a.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,a){return m1(r.geoPointValue.latitude)===m1(a.geoPointValue.latitude)&&m1(r.geoPointValue.longitude)===m1(a.geoPointValue.longitude)}(t,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return m1(r.integerValue)===m1(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=m1(r.doubleValue),f=m1(a.doubleValue);return l===f?Tf(l)===Tf(f):isNaN(l)&&isNaN(f)}return!1}(t,e);case 9:return b8(t.arrayValue.values||[],e.arrayValue.values||[],D3);case 10:return function(r,a){const l=r.mapValue.fields||{},f=a.mapValue.fields||{};if(iP(l)!==iP(f))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===f[m]||!D3(l[m],f[m])))return!1;return!0}(t,e);default:return ot()}var a}function kf(t,e){return void 0!==(t.values||[]).find(n=>D3(n,e))}function $o(t,e){if(t===e)return 0;const n=jo(t),r=jo(e);if(n!==r)return kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(t.booleanValue,e.booleanValue);case 2:return function(a,l){const f=m1(a.integerValue||a.doubleValue),m=m1(l.integerValue||l.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(t,e);case 3:return cP(t.timestampValue,e.timestampValue);case 4:return cP(Nf(t),Nf(e));case 5:return kt(t.stringValue,e.stringValue);case 6:return function(a,l){const f=W4(a),m=W4(l);return f.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),m=l.split("/");for(let M=0;M<f.length&&M<m.length;M++){const V=kt(f[M],m[M]);if(0!==V)return V}return kt(f.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const f=kt(m1(a.latitude),m1(l.latitude));return 0!==f?f:kt(m1(a.longitude),m1(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],m=l.values||[];for(let M=0;M<f.length&&M<m.length;++M){const V=$o(f[M],m[M]);if(V)return V}return kt(f.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===Uo.mapValue&&l===Uo.mapValue)return 0;if(a===Uo.mapValue)return 1;if(l===Uo.mapValue)return-1;const f=a.fields||{},m=Object.keys(f),M=l.fields||{},V=Object.keys(M);m.sort(),V.sort();for(let S=0;S<m.length&&S<V.length;++S){const D=kt(m[S],V[S]);if(0!==D)return D;const O=$o(f[m[S]],M[V[S]]);if(0!==O)return O}return kt(m.length,V.length)}(t.mapValue,e.mapValue);default:throw ot()}}function cP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return kt(t,e);const n=Fo(t),r=Fo(e),a=kt(n.seconds,r.seconds);return 0!==a?a:kt(n.nanos,r.nanos)}function V8(t){return SE(t)}function SE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const a=Fo(r);return`time(${a.seconds},${a.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?W4(t.bytesValue).toBase64():"referenceValue"in t?Qe.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let a="[",l=!0;for(const f of r.values||[])l?l=!1:a+=",",a+=SE(f);return a+"]"}(t.arrayValue):"mapValue"in t?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",f=!0;for(const m of a)f?f=!1:l+=",",l+=`${m}:${SE(r.fields[m])}`;return l+"}"}(t.mapValue):ot();var e}function $6(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zE(t){return!!t&&"integerValue"in t}function Pf(t){return!!t&&"arrayValue"in t}function lP(t){return!!t&&"nullValue"in t}function uP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yy(t){return!!t&&"mapValue"in t}function Rf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fP(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Jee(t){return"nullValue"in t?gy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?$6(Bo.empty(),Qe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ot()}function Xee(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?$6(Bo.empty(),Qe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Uo:ot()}function dP(t,e){const n=$o(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function hP(t,e){const n=$o(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rf(n)}setAll(e){let n=p1.emptyPath(),r={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const M=this.getFieldsMap(n);this.applyChanges(M,r,a),r={},a=[],n=m.popLast()}f?r[m.lastSegment()]=Rf(f):a.push(m.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());yy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return D3(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];yy(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Oo(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new En(Rf(this.value))}}function pP(t){const e=[];return Oo(t.fields,(n,r)=>{const a=new p1([n]);if(yy(r)){const l=pP(r.mapValue).fields;if(0===l.length)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)}),new Vr(e)}class O2{constructor(e,n,r,a,l,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=f,this.documentState=m}static newInvalidDocument(e){return new O2(e,0,Mt.min(),Mt.min(),Mt.min(),En.empty(),0)}static newFoundDocument(e,n,r,a){return new O2(e,1,n,Mt.min(),r,a,0)}static newNoDocument(e,n){return new O2(e,2,n,Mt.min(),Mt.min(),En.empty(),0)}static newUnknownDocument(e,n){return new O2(e,3,n,Mt.min(),Mt.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Mt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof O2&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new O2(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Go{constructor(e,n){this.position=e,this.inclusive=n}}function mP(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],f=t.position[a];if(r=l.field.isKeyField()?Qe.comparator(Qe.fromName(f.referenceValue),n.key):$o(f,n.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function gP(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!D3(t.position[n],e.position[n]))return!1;return!0}class I8{constructor(e,n="asc"){this.field=e,this.dir=n}}function ete(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vP{}class Qt extends vP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new tte(e,n,r):"array-contains"===n?new ite(e,r):"in"===n?new bP(e,r):"not-in"===n?new ste(e,r):"array-contains-any"===n?new ate(e,r):new Qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new nte(e,r):new rte(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison($o(n,this.value)):null!==n&&jo(this.value)===jo(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class y2 extends vP{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new y2(e,n)}matches(e){return E8(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function E8(t){return"and"===t.op}function LE(t){return"or"===t.op}function xE(t){return yP(t)&&E8(t)}function yP(t){for(const e of t.filters)if(e instanceof y2)return!1;return!0}function DE(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+V8(t.value);if(xE(t))return t.filters.map(e=>DE(e)).join(",");{const e=t.filters.map(n=>DE(n)).join(",");return`${t.op}(${e})`}}function CP(t,e){return t instanceof Qt?(n=t,(r=e)instanceof Qt&&n.op===r.op&&n.field.isEqual(r.field)&&D3(n.value,r.value)):t instanceof y2?function(n,r){return r instanceof y2&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((a,l,f)=>a&&CP(l,r.filters[f]),!0)}(t,e):void ot();var n,r}function _P(t,e){const n=t.filters.concat(e);return y2.create(n,t.op)}function MP(t){return t instanceof Qt?`${(e=t).field.canonicalString()} ${e.op} ${V8(e.value)}`:t instanceof y2?function(e){return e.op.toString()+" {"+e.getFilters().map(MP).join(" ,")+"}"}(t):"Filter";var e}class tte extends Qt{constructor(e,n,r){super(e,n,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const n=Qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class nte extends Qt{constructor(e,n){super(e,"in",n),this.keys=wP(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rte extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=wP(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wP(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class ite extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pf(n)&&kf(n.arrayValue,this.value)}}class bP extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&kf(this.value.arrayValue,n)}}class ste extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!kf(this.value.arrayValue,n)}}class ate extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kf(this.value.arrayValue,r))}}class ote{constructor(e,n=null,r=[],a=[],l=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=f,this.endAt=m,this.dt=null}}function AE(t,e=null,n=[],r=[],a=null,l=null,f=null){return new ote(t,e,n,r,a,l,f)}function G6(t){const e=Je(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>DE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>V8(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>V8(r)).join(",")),e.dt=n}return e.dt}function Of(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ete(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gP(t.startAt,e.startAt)&&gP(t.endAt,e.endAt)}function Cy(t){return Qe.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function _y(t,e){return t.filters.filter(n=>n instanceof Qt&&n.field.isEqual(e))}function HP(t,e,n){let r=gy,a=!0;for(const l of _y(t,e)){let f=gy,m=!0;switch(l.op){case"<":case"<=":f=Jee(l.value);break;case"==":case"in":case">=":f=l.value;break;case">":f=l.value,m=!1;break;case"!=":case"not-in":f=gy}dP({value:r,inclusive:a},{value:f,inclusive:m})<0&&(r=f,a=m)}if(null!==n)for(let l=0;l<t.orderBy.length;++l)if(t.orderBy[l].field.isEqual(e)){const f=n.position[l];dP({value:r,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}function VP(t,e,n){let r=Uo,a=!0;for(const l of _y(t,e)){let f=Uo,m=!0;switch(l.op){case">=":case">":f=Xee(l.value),m=!1;break;case"==":case"in":case"<=":f=l.value;break;case"<":f=l.value,m=!1;break;case"!=":case"not-in":f=Uo}hP({value:r,inclusive:a},{value:f,inclusive:m})>0&&(r=f,a=m)}if(null!==n)for(let l=0;l<t.orderBy.length;++l)if(t.orderBy[l].field.isEqual(e)){const f=n.position[l];hP({value:r,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}class Z4{constructor(e,n=null,r=[],a=[],l=null,f="F",m=null,M=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=f,this.startAt=m,this.endAt=M,this.wt=null,this._t=null}}function IP(t,e,n,r,a,l,f,m){return new Z4(t,e,n,r,a,l,f,m)}function S8(t){return new Z4(t)}function EP(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function TE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function My(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function NE(t){return null!==t.collectionGroup}function q6(t){const e=Je(t);if(null===e.wt){e.wt=[];const n=My(e),r=TE(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new I8(n)),e.wt.push(new I8(p1.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new I8(p1.keyField(),l))}}}return e.wt}function rr(t){const e=Je(t);if(!e._t)if("F"===e.limitType)e._t=AE(e.path,e.collectionGroup,q6(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of q6(e))n.push(new I8(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Go(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Go(e.startAt.position,e.startAt.inclusive):null;e._t=AE(e.path,e.collectionGroup,n,e.filters,e.limit,r,a)}return e._t}function kE(t,e){e.getFirstInequalityField(),My(t);const n=t.filters.concat([e]);return new Z4(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wy(t,e,n){return new Z4(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ff(t,e){return Of(rr(t),rr(e))&&t.limitType===e.limitType}function SP(t){return`${G6(rr(t))}|lt:${t.limitType}`}function PE(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>MP(r)).join(", ")}]`),Af(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>V8(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>V8(r)).join(",")),`Target(${n})`}(rr(t))}; limitType=${t.limitType})`}function Bf(t,e){return e.isFoundDocument()&&function(n,r){const a=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Qe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,r){for(const a of q6(n))if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(t,e)&&function(n,r){for(const a of n.filters)if(!a.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(a,l,f){const m=mP(a,l,f);return a.inclusive?m<=0:m<0}(n.startAt,q6(n),r)||n.endAt&&!function(a,l,f){const m=mP(a,l,f);return a.inclusive?m>=0:m>0}(n.endAt,q6(n),r)));var n,r}function zP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LP(t){return(e,n)=>{let r=!1;for(const a of q6(t)){const l=cte(a,e,n);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function cte(t,e,n){const r=t.field.isKeyField()?Qe.comparator(e.key,n.key):function(a,l,f){const m=l.data.field(a),M=f.data.field(a);return null!==m&&null!==M?$o(m,M):ot()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class K4{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return sP(this.inner)}size(){return this.innerSize}}const lte=new A2(Qe.comparator);function Ir(){return lte}const xP=new A2(Qe.comparator);function Uf(...t){let e=xP;for(const n of t)e=e.insert(n.key,n);return e}function DP(t){let e=xP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function A3(){return jf()}function AP(){return jf()}function jf(){return new K4(t=>t.toString(),(t,e)=>t.isEqual(e))}const ute=new A2(Qe.comparator),fte=new R2(Qe.comparator);function Gt(...t){let e=fte;for(const n of t)e=e.add(n);return e}const dte=new R2(kt);function RE(){return dte}function TP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(e)?"-0":e}}function NP(t){return{integerValue:""+t}}function kP(t,e){return Qk(e)?NP(e):TP(t,e)}class by{constructor(){this._=void 0}}function hte(t,e,n){return t instanceof z8?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&py(a)&&(a=my(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,e):t instanceof W6?RP(t,e):t instanceof Z6?OP(t,e):function(r,a){const l=PP(r,a),f=FP(l)+FP(r.gt);return zE(l)&&zE(r.gt)?NP(f):TP(r.serializer,f)}(t,e)}function pte(t,e,n){return t instanceof W6?RP(t,e):t instanceof Z6?OP(t,e):n}function PP(t,e){return t instanceof L8?zE(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class z8 extends by{}class W6 extends by{constructor(e){super(),this.elements=e}}function RP(t,e){const n=BP(e);for(const r of t.elements)n.some(a=>D3(a,r))||n.push(r);return{arrayValue:{values:n}}}class Z6 extends by{constructor(e){super(),this.elements=e}}function OP(t,e){let n=BP(e);for(const r of t.elements)n=n.filter(a=>!D3(a,r));return{arrayValue:{values:n}}}class L8 extends by{constructor(e,n){super(),this.serializer=e,this.gt=n}}function FP(t){return m1(t.integerValue||t.doubleValue)}function BP(t){return Pf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class $f{constructor(e,n){this.field=e,this.transform=n}}class gte{constructor(e,n){this.version=e,this.transformResults=n}}class J2{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new J2}static exists(e){return new J2(void 0,e)}static updateTime(e){return new J2(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hy(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Vy{}function UP(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new D8(t.key,J2.none()):new x8(t.key,t.data,J2.none());{const n=t.data,r=En.empty();let a=new R2(p1.comparator);for(let l of e.fields)if(!a.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?r.delete(l):r.set(l,f),a=a.add(l)}return new Y4(t.key,r,new Vr(a.toArray()),J2.none())}}function vte(t,e,n){t instanceof x8?function(r,a,l){const f=r.value.clone(),m=GP(r.fieldTransforms,a,l.transformResults);f.setAll(m),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):t instanceof Y4?function(r,a,l){if(!Hy(r.precondition,a))return void a.convertToUnknownDocument(l.version);const f=GP(r.fieldTransforms,a,l.transformResults),m=a.data;m.setAll($P(r)),m.setAll(f),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Gf(t,e,n,r){return t instanceof x8?function(a,l,f,m){if(!Hy(a.precondition,l))return f;const M=a.value.clone(),V=qP(a.fieldTransforms,m,l);return M.setAll(V),l.convertToFoundDocument(l.version,M).setHasLocalMutations(),null}(t,e,n,r):t instanceof Y4?function(a,l,f,m){if(!Hy(a.precondition,l))return f;const M=qP(a.fieldTransforms,m,l),V=l.data;return V.setAll($P(a)),V.setAll(M),l.convertToFoundDocument(l.version,V).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(S=>S.field))}(t,e,n,r):(f=n,Hy(t.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function yte(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=PP(r.transform,a||null);null!=l&&(null===n&&(n=En.empty()),n.set(r.field,l))}return n||null}function jP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&b8(n,r,(a,l)=>function mte(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof W6&&r instanceof W6||n instanceof Z6&&r instanceof Z6?b8(n.elements,r.elements,D3):n instanceof L8&&r instanceof L8?D3(n.gt,r.gt):n instanceof z8&&r instanceof z8);var n,r}(a,l))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class x8 extends Vy{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Y4 extends Vy{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $P(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GP(t,e,n){const r=new Map;Ct(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],f=l.transform,m=e.data.field(l.field);r.set(l.field,pte(f,m,n[a]))}return r}function qP(t,e,n){const r=new Map;for(const a of t){const l=a.transform,f=n.data.field(a.field);r.set(a.field,hte(l,f,e))}return r}class D8 extends Vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OE extends Vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FE{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&vte(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AP();return this.mutations.forEach(a=>{const l=e.get(a.key),f=l.overlayedDocument;let m=this.applyToLocalView(f,l.mutatedFields);m=n.has(a.key)?null:m;const M=UP(f,m);null!==M&&r.set(a.key,M),f.isValidDocument()||f.convertToNoDocument(Mt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Gt())}isEqual(e){return this.batchId===e.batchId&&b8(this.mutations,e.mutations,(n,r)=>jP(n,r))&&b8(this.baseMutations,e.baseMutations,(n,r)=>jP(n,r))}}class BE{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ct(e.mutations.length===r.length);let a=ute;const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,r[f].version);return new BE(e,n,r,a)}}class UE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _te{constructor(e,n){this.count=e,this.unchangedNames=n}}var R1,n2;function WP(t){switch(t){default:return ot();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function ZP(t){if(void 0===t)return I1("GRPC error has no .code"),ce.UNKNOWN;switch(t){case R1.OK:return ce.OK;case R1.CANCELLED:return ce.CANCELLED;case R1.UNKNOWN:return ce.UNKNOWN;case R1.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case R1.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case R1.INTERNAL:return ce.INTERNAL;case R1.UNAVAILABLE:return ce.UNAVAILABLE;case R1.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case R1.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case R1.NOT_FOUND:return ce.NOT_FOUND;case R1.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case R1.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case R1.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case R1.ABORTED:return ce.ABORTED;case R1.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case R1.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case R1.DATA_LOSS:return ce.DATA_LOSS;default:return ot()}}(n2=R1||(R1={}))[n2.OK=0]="OK",n2[n2.CANCELLED=1]="CANCELLED",n2[n2.UNKNOWN=2]="UNKNOWN",n2[n2.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n2[n2.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n2[n2.NOT_FOUND=5]="NOT_FOUND",n2[n2.ALREADY_EXISTS=6]="ALREADY_EXISTS",n2[n2.PERMISSION_DENIED=7]="PERMISSION_DENIED",n2[n2.UNAUTHENTICATED=16]="UNAUTHENTICATED",n2[n2.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n2[n2.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n2[n2.ABORTED=10]="ABORTED",n2[n2.OUT_OF_RANGE=11]="OUT_OF_RANGE",n2[n2.UNIMPLEMENTED=12]="UNIMPLEMENTED",n2[n2.INTERNAL=13]="INTERNAL",n2[n2.UNAVAILABLE=14]="UNAVAILABLE",n2[n2.DATA_LOSS=15]="DATA_LOSS";class jE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Iy}static getOrCreateInstance(){return null===Iy&&(Iy=new jE),Iy}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Iy=null;function KP(){return new TextEncoder}const Mte=new M8([4294967295,4294967295],0);function YP(t){const e=KP().encode(t),n=new pee;return n.update(e),new Uint8Array(n.digest())}function QP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new M8([n,r],0),new M8([a,l],0)]}class $E{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qf(`Invalid padding: ${n}`);if(r<0)throw new qf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new qf(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new qf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=M8.fromNumber(this.It)}Et(e,n,r){let a=e.add(n.multiply(M8.fromNumber(r)));return 1===a.compare(Mte)&&(a=new M8([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=YP(e),[r,a]=QP(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(r,a,l);if(!this.At(f))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new $E(l,a,n);return r.forEach(m=>f.insert(m)),f}insert(e){if(0===this.It)return;const n=YP(e),[r,a]=QP(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(r,a,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class qf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wf{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Zf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wf(Mt.min(),a,new A2(kt),Ir(),Gt())}}class Zf{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zf(r,n,Gt(),Gt(),Gt())}}class Ey{constructor(e,n,r,a){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=a}}class JP{constructor(e,n){this.targetId=e,this.Vt=n}}class XP{constructor(e,n,r=Q1.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class eR{constructor(){this.St=0,this.Dt=nR(),this.Ct=Q1.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Gt(),n=Gt(),r=Gt();return this.Dt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:ot()}}),new Zf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=nR()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class wte{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ir(),this.zt=tR(),this.Wt=new A2(kt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ot()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,a)=>{this.te(a)&&n(a)})}ne(e){var n;const r=e.targetId,a=e.Vt.count,l=this.se(r);if(l){const f=l.target;if(Cy(f))if(0===a){const m=new Qe(f.path);this.Yt(r,m,O2.newNoDocument(m,Mt.min()))}else Ct(1===a);else{const m=this.ie(r);if(m!==a){const M=this.re(e,m);0!==M&&(this.ee(r),this.Wt=this.Wt.insert(r,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=jE.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(V,S,D){var O,q,de,Ae,Pe,ft;const lt={localCacheCount:S,existenceFilterCount:D.count},st=D.unchangedNames;return st&&(lt.bloomFilter={applied:0===V,hashCount:null!==(O=st?.hashCount)&&void 0!==O?O:0,bitmapLength:null!==(Ae=null===(de=null===(q=st?.bits)||void 0===q?void 0:q.bitmap)||void 0===de?void 0:de.length)&&void 0!==Ae?Ae:0,padding:null!==(ft=null===(Pe=st?.bits)||void 0===Pe?void 0:Pe.padding)&&void 0!==ft?ft:0}),lt}(M,m,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:a}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:m=0}=r;let M,V;try{M=W4(l).toUint8Array()}catch(S){if(S instanceof oP)return Oi("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{V=new $E(M,f,m)}catch(S){return Oi(S instanceof qf?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===V.It?1:a!==n-this.oe(e.targetId,V)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let a=0;return r.forEach(l=>{const f=this.Gt.ue(),m=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(m)||(this.Yt(e,l,null),a++)}),a}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const m=this.se(f);if(m){if(l.current&&Cy(m.target)){const M=new Qe(m.target.path);null!==this.jt.get(M)||this.ae(f,M)||this.Yt(f,M,O2.newNoDocument(M,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let r=Gt();this.zt.forEach((l,f)=>{let m=!0;f.forEachWhile(M=>{const V=this.se(M);return!V||"TargetPurposeLimboResolution"===V.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const a=new Wf(e,n,this.Wt,this.jt,r);return this.jt=Ir(),this.zt=tR(),this.Wt=new A2(kt),a}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,n)?a.Bt(n,1):a.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new eR,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new R2(kt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Re("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new eR),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function tR(){return new A2(Qe.comparator)}function nR(){return new A2(Qe.comparator)}const bte={asc:"ASCENDING",desc:"DESCENDING"},Hte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vte={and:"AND",or:"OR"};class Ite{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function GE(t,e){return t.useProto3Json||Af(e)?e:{value:e}}function A8(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ete(t,e){return A8(t,e.toTimestamp())}function E1(t){return Ct(!!t),Mt.fromTimestamp(function(e){const n=Fo(e);return new Q2(n.seconds,n.nanos)}(t))}function qE(t,e){return(n=t,new t2(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function iR(t){const e=t2.fromString(t);return Ct(hR(e)),e}function Kf(t,e){return qE(t.databaseId,e.path)}function T3(t,e){const n=iR(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Qe(aR(n))}function WE(t,e){return qE(t.databaseId,e)}function sR(t){const e=iR(t);return 4===e.length?t2.emptyPath():aR(e)}function Yf(t){return new t2(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aR(t){return Ct(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function oR(t,e,n){return{name:Kf(t,e),fields:n.value.mapValue.fields}}function cR(t,e,n){const r=T3(t,e.name),a=E1(e.updateTime),l=e.createTime?E1(e.createTime):Mt.min(),f=new En({mapValue:{fields:e.fields}}),m=O2.newFoundDocument(r,a,l,f);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function Qf(t,e){let n;if(e instanceof x8)n={update:oR(t,e.key,e.value)};else if(e instanceof D8)n={delete:Kf(t,e.key)};else if(e instanceof Y4)n={update:oR(t,e.key,e.data),updateMask:Nte(e.fieldMask)};else{if(!(e instanceof OE))return ot();n={verify:Kf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const f=l.transform;if(f instanceof z8)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof W6)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Z6)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof L8)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw ot()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Ete(t,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ot()),n;var a}function ZE(t,e){const n=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?J2.updateTime(E1(a.updateTime)):void 0!==a.exists?J2.exists(a.exists):J2.none():J2.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(l,f){let m=null;"setToServerValue"in f?(Ct("REQUEST_TIME"===f.setToServerValue),m=new z8):"appendMissingElements"in f?m=new W6(f.appendMissingElements.values||[]):"removeAllFromArray"in f?m=new Z6(f.removeAllFromArray.values||[]):"increment"in f?m=new L8(l,f.increment):ot();const M=p1.fromServerFormat(f.fieldPath);return new $f(M,m)}(t,a)):[];var a;if(e.update){const a=T3(t,e.update.name),l=new En({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Vr((e.updateMask.fieldPaths||[]).map(V=>p1.fromServerFormat(V)));return new Y4(a,l,f,n,r)}return new x8(a,l,n,r)}if(e.delete){const a=T3(t,e.delete);return new D8(a,n)}if(e.verify){const a=T3(t,e.verify);return new OE(a,n)}return ot()}function lR(t,e){return{documents:[WE(t,e.path)]}}function KE(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=WE(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=WE(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(M){if(0!==M.length)return dR(y2.create(M,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(M){if(0!==M.length)return M.map(V=>{return{field:qo((S=V).field),direction:Dte(S.dir)};var S})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=GE(t,e.limit);var m,M;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(n.structuredQuery.endAt={before:!(M=e.endAt).inclusive,values:M.position}),n}function uR(t){let e=sR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ct(1===r);const S=n.from[0];S.allDescendants?a=S.collectionId:e=e.child(S.collectionId)}let l=[];n.where&&(l=function(S){const D=fR(S);return D instanceof y2&&xE(D)?D.getFilters():[D]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(S=>{return new I8(T8((D=S).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let m=null;n.limit&&(m=function(S){let D;return D="object"==typeof S?S.value:S,Af(D)?null:D}(n.limit));let M=null;var S;n.startAt&&(M=new Go((S=n.startAt).values||[],!!S.before));let V=null;return n.endAt&&(V=function(S){return new Go(S.values||[],!S.before)}(n.endAt)),IP(e,a,f,l,m,"F",M,V)}function fR(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=T8(e.unaryFilter.field);return Qt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=T8(e.unaryFilter.field);return Qt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=T8(e.unaryFilter.field);return Qt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=T8(e.unaryFilter.field);return Qt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(t):void 0!==t.fieldFilter?Qt.create(T8((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return y2.create(e.compositeFilter.filters.map(n=>fR(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(t):ot();var e}function Dte(t){return bte[t]}function Ate(t){return Hte[t]}function Tte(t){return Vte[t]}function qo(t){return{fieldPath:t.canonicalString()}}function T8(t){return p1.fromServerFormat(t.fieldPath)}function dR(t){return t instanceof Qt?function(e){if("=="===e.op){if(uP(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NAN"}};if(lP(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uP(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NOT_NAN"}};if(lP(e.value))return{unaryFilter:{field:qo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(e.field),op:Ate(e.op),value:e.value}}}(t):t instanceof y2?function(e){const n=e.getFilters().map(r=>dR(r));return 1===n.length?n[0]:{compositeFilter:{op:Tte(e.op),filters:n}}}(t):ot()}function Nte(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hR(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Q4{constructor(e,n,r,a,l=Mt.min(),f=Mt.min(),m=Q1.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=M}withSequenceNumber(e){return new Q4(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Q4(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Q4(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Q4(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pR{constructor(e){this.fe=e}}function mR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Sy(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Kf(a=t.fe,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:A8(a,l.version.toTimestamp()),createTime:A8(a,l.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:K6(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:n.path.toArray(),version:K6(e.version)}}var a,l;return r}function Sy(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function K6(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Y6(t){const e=new Q2(t.seconds,t.nanoseconds);return Mt.fromTimestamp(e)}function Q6(t,e){const n=(e.baseMutations||[]).map(l=>ZE(t.fe,l));for(let l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);const r=e.mutations.map(l=>ZE(t.fe,l)),a=Q2.fromMillis(e.localWriteTimeMs);return new FE(e.batchId,a,n,r)}function Jf(t){const e=Y6(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Y6(t.lastLimboFreeSnapshotVersion):Mt.min();let r;var a;return void 0!==t.query.documents?(Ct(1===(a=t.query).documents.length),r=rr(S8(sR(a.documents[0])))):r=rr(uR(t.query)),new Q4(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Q1.fromBase64String(t.resumeToken))}function gR(t,e){const n=K6(e.snapshotVersion),r=K6(e.lastLimboFreeSnapshotVersion);let a;a=Cy(e.target)?lR(t.fe,e.target):KE(t.fe,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:G6(e.target),readTime:n,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function YE(t){const e=uR({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wy(e,e.limit,"L"):e}function QE(t,e){return new UE(e.largestBatchId,ZE(t.fe,e.overlayMutation))}function vR(t,e){const n=e.path.lastSegment();return[t,Un(e.path.popLast()),n]}function yR(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:K6(r.readTime),documentKey:Un(r.documentKey.path),largestBatchId:r.largestBatchId}}class Pte{getBundleMetadata(e,n){return CR(e).get(n).next(r=>{if(r)return{id:(a=r).bundleId,createTime:Y6(a.createTime),version:a.version};var a})}saveBundleMetadata(e,n){return CR(e).put({bundleId:(r=n).id,createTime:K6(E1(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return _R(e).get(n).next(r=>{if(r)return{name:(a=r).name,query:YE(a.bundledQuery),readTime:Y6(a.readTime)};var a})}saveNamedQuery(e,n){return _R(e).put({name:(r=n).name,readTime:K6(E1(r.readTime)),bundledQuery:r.bundledQuery});var r}}function CR(t){return pn(t,"bundles")}function _R(t){return pn(t,"namedQueries")}class zy{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new zy(e,n.uid||"")}getOverlay(e,n){return Xf(e).get(vR(this.userId,n)).next(r=>r?QE(this.serializer,r):null)}getOverlays(e,n){const r=A3();return te.forEach(n,a=>this.getOverlay(e,a).next(l=>{null!==l&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){const a=[];return r.forEach((l,f)=>{const m=new UE(n,f);a.push(this.we(e,m))}),te.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach(f=>a.add(Un(f.getCollectionPath())));const l=[];return a.forEach(f=>{const m=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);l.push(Xf(e).J("collectionPathOverlayIndex",m))}),te.waitFor(l)}getOverlaysForCollection(e,n,r){const a=A3(),l=Un(n),f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Xf(e).j("collectionPathOverlayIndex",f).next(m=>{for(const M of m){const V=QE(this.serializer,M);a.set(V.getKey(),V)}return a})}getOverlaysForCollectionGroup(e,n,r,a){const l=A3();let f;const m=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Xf(e).X({index:"collectionGroupOverlayIndex",range:m},(M,V,S)=>{const D=QE(this.serializer,V);l.size()<a||D.largestBatchId===f?(l.set(D.getKey(),D),f=D.largestBatchId):S.done()}).next(()=>l)}we(e,n){return Xf(e).put(function(r,a,l){const[f,m,M]=vR(a,l.mutation.key);return{userId:a,collectionPath:m,documentId:M,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Qf(r.fe,l.mutation)}}(this.serializer,this.userId,n))}}function Xf(t){return pn(t,"documentOverlays")}class J6{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(m1(e.integerValue));else if("doubleValue"in e){const r=m1(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Tf(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(W4(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?fP(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):ot()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const a of Object.keys(r))this.Te(a,n),this.me(r[a],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const a of r)this.me(a,n)}ve(e,n){this.ye(n,37),Qe.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function Rte(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function MR(t){const e=64-function(n){let r=0;for(let a=0;a<8;++a){const l=Rte(255&n[a]);if(r+=l,8!==l)break}return r}(t);return Math.ceil(e/8)}J6.Ve=new J6;class Ote{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const a=n.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const a=n.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}this.ke()}Oe(e){const n=this.Fe(e),r=MR(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}Le(e){const n=this.Fe(e),r=MR(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class Fte{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Bte{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class e9{constructor(){this.je=new Ote,this.ze=new Fte(this.je),this.We=new Bte(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class X6{constructor(e,n,r,a){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=a}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new X6(this.indexId,this.documentKey,this.arrayValue,r)}}function Wo(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=wR(t.arrayValue,e.arrayValue),0!==n?n:(n=wR(t.directionalValue,e.directionalValue),0!==n?n:Qe.comparator(t.documentKey,e.documentKey)))}function wR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class Ute{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Ct(e.collectionGroup===this.collectionId);const n=bE(e);if(void 0!==n&&!this.en(n))return!1;const r=U6(e);let a=new Set,l=0,f=0;for(;l<r.length&&this.en(r[l]);++l)a=a.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(void 0!==this.Ze){if(!a.has(this.Ze.field.canonicalString())){const m=r[l];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[f++],m))return!1}++l}for(;l<r.length;++l)if(f>=this.Ye.length||!this.sn(this.Ye[f++],r[l]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function bR(t){var e,n;if(Ct(t instanceof Qt||t instanceof y2),t instanceof Qt){if(t instanceof bP){const a=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(l=>Qt.create(t.field,"==",l)))||[];return y2.create(a,"or")}return t}const r=t.filters.map(a=>bR(a));return y2.create(r,t.op)}function jte(t){if(0===t.getFilters().length)return[];const e=eS(bR(t));return Ct(HR(e)),JE(e)||XE(e)?[e]:e.getFilters()}function JE(t){return t instanceof Qt}function XE(t){return t instanceof y2&&xE(t)}function HR(t){return JE(t)||XE(t)||function(e){if(e instanceof y2&&LE(e)){for(const n of e.getFilters())if(!JE(n)&&!XE(n))return!1;return!0}return!1}(t)}function eS(t){if(Ct(t instanceof Qt||t instanceof y2),t instanceof Qt)return t;if(1===t.filters.length)return eS(t.filters[0]);const e=t.filters.map(r=>eS(r));let n=y2.create(e,t.op);return n=Ly(n),HR(n)?n:(Ct(n instanceof y2),Ct(E8(n)),Ct(n.filters.length>1),n.filters.reduce((r,a)=>tS(r,a)))}function tS(t,e){let n;return Ct(t instanceof Qt||t instanceof y2),Ct(e instanceof Qt||e instanceof y2),n=t instanceof Qt?e instanceof Qt?y2.create([t,e],"and"):VR(t,e):e instanceof Qt?VR(e,t):function(r,a){if(Ct(r.filters.length>0&&a.filters.length>0),E8(r)&&E8(a))return _P(r,a.getFilters());const l=LE(r)?r:a,f=LE(r)?a:r,m=l.filters.map(M=>tS(M,f));return y2.create(m,"or")}(t,e),Ly(n)}function VR(t,e){if(E8(e))return _P(e,t.getFilters());{const n=e.filters.map(r=>tS(t,r));return y2.create(n,"or")}}function Ly(t){if(Ct(t instanceof Qt||t instanceof y2),t instanceof Qt)return t;const e=t.getFilters();if(1===e.length)return Ly(e[0]);if(yP(t))return t;const n=e.map(a=>Ly(a)),r=[];return n.forEach(a=>{a instanceof Qt?r.push(a):a instanceof y2&&(a.op===t.op?r.push(...a.filters):r.push(a))}),1===r.length?r[0]:y2.create(r,t.op)}class $te{constructor(){this.rn=new nS}addToCollectionParentIndex(e,n){return this.rn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(oi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(oi.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class nS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new R2(t2.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new R2(t2.comparator)).toArray()}}const xy=new Uint8Array(0);class Gte{constructor(e,n){this.user=e,this.databaseId=n,this.on=new nS,this.un=new K4(r=>G6(r),(r,a)=>Of(r,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const l={collectionId:r,parent:Un(a)};return IR(e).put(l)}return te.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[Gk(n),""],!1,!0);return IR(e).j(a).next(l=>{for(const f of l){if(f.collectionId!==n)break;r.push(x3(f.parent))}return r})}addFieldIndex(e,n){const r=Dy(e),a={indexId:(f=n).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var f;delete a.indexId;const l=r.add(a);if(n.indexState){const f=n9(e);return l.next(m=>{f.put(yR(m,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return l.next()}deleteFieldIndex(e,n){const r=Dy(e),a=n9(e),l=t9(e);return r.delete(n.indexId).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=t9(e);let a=!0;const l=new Map;return te.forEach(this.cn(n),f=>this.an(e,f).next(m=>{a&&(a=!!m),l.set(f,m)})).next(()=>{if(a){let f=Gt();const m=[];return te.forEach(l,(M,V)=>{var S;Re("IndexedDbIndexManager",`Using index ${S=M,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(st=>`${st.fieldPath}:${st.kind}`).join(",")}`} to execute ${G6(n)}`);const D=function(st,vt){const Ht=bE(vt);if(void 0===Ht)return null;for(const Bt of _y(st,Ht.fieldPath))switch(Bt.op){case"array-contains-any":return Bt.value.arrayValue.values||[];case"array-contains":return[Bt.value]}return null}(V,M),O=function(st,vt){const Ht=new Map;for(const Bt of U6(vt))for(const X2 of _y(st,Bt.fieldPath))switch(X2.op){case"==":case"in":Ht.set(Bt.fieldPath.canonicalString(),X2.value);break;case"not-in":case"!=":return Ht.set(Bt.fieldPath.canonicalString(),X2.value),Array.from(Ht.values())}return null}(V,M),q=function(st,vt){const Ht=[];let Bt=!0;for(const X2 of U6(vt)){const xs=0===X2.kind?HP(st,X2.fieldPath,st.startAt):VP(st,X2.fieldPath,st.startAt);Ht.push(xs.value),Bt&&(Bt=xs.inclusive)}return new Go(Ht,Bt)}(V,M),de=function(st,vt){const Ht=[];let Bt=!0;for(const X2 of U6(vt)){const xs=0===X2.kind?VP(st,X2.fieldPath,st.endAt):HP(st,X2.fieldPath,st.endAt);Ht.push(xs.value),Bt&&(Bt=xs.inclusive)}return new Go(Ht,Bt)}(V,M),Ae=this.hn(M,V,q),Pe=this.hn(M,V,de),ft=this.ln(M,V,O),lt=this.fn(M.indexId,D,Ae,q.inclusive,Pe,de.inclusive,ft);return te.forEach(lt,st=>r.H(st,n.limit).next(vt=>{vt.forEach(Ht=>{const Bt=Qe.fromSegments(Ht.documentKey);f.has(Bt)||(f=f.add(Bt),m.push(Bt))})}))}).next(()=>m)}return te.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:jte(y2.create(e.filters,"and")).map(r=>AE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,a,l,f,m){const M=(null!=n?n.length:1)*Math.max(r.length,l.length),V=M/(null!=n?n.length:1),S=[];for(let D=0;D<M;++D){const O=n?this.dn(n[D/V]):xy,q=this.wn(e,O,r[D%V],a),de=this._n(e,O,l[D%V],f),Ae=m.map(Pe=>this.wn(e,O,Pe,!0));S.push(...this.createRange(q,de,Ae))}return S}wn(e,n,r,a){const l=new X6(e,Qe.empty(),n,r);return a?l:l.Je()}_n(e,n,r,a){const l=new X6(e,Qe.empty(),n,r);return a?l.Je():l}an(e,n){const r=new Ute(n),a=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next(l=>{let f=null;for(const m of l)r.tn(m)&&(!f||m.fields.length>f.fields.length)&&(f=m);return f})}getIndexType(e,n){let r=2;const a=this.cn(n);return te.forEach(a,l=>this.an(e,l).next(f=>{f?0!==r&&f.fields.length<function(m){let M=new R2(p1.comparator),V=!1;for(const S of m.filters)for(const D of S.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?V=!0:M=M.add(D.field));for(const S of m.orderBy)S.field.isKeyField()||(M=M.add(S.field));return M.size+(V?1:0)}(l)&&(r=1):r=0})).next(()=>null!==n.limit&&a.length>1&&2===r?1:r)}mn(e,n){const r=new e9;for(const a of U6(e)){const l=n.data.field(a.fieldPath);if(null==l)return null;const f=r.He(a.kind);J6.Ve._e(l,f)}return r.Qe()}dn(e){const n=new e9;return J6.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new e9;return J6.Ve._e($6(this.databaseId,n),r.He(function(a){const l=U6(a);return 0===l.length?0:l[l.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let a=[];a.push(new e9);let l=0;for(const f of U6(e)){const m=r[l++];for(const M of a)if(this.yn(n,f.fieldPath)&&Pf(m))a=this.pn(a,f,m);else{const V=M.He(f.kind);J6.Ve._e(m,V)}}return this.In(a)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const a=[...e],l=[];for(const f of r.arrayValue.values||[])for(const m of a){const M=new e9;M.seed(m.Qe()),J6.Ve._e(f,M.He(n.kind)),l.push(M)}return l}yn(e,n){return!!e.filters.find(r=>r instanceof Qt&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=Dy(e),a=n9(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(l=>{const f=[];return te.forEach(l,m=>a.get([m.indexId,this.uid]).next(M=>{f.push(function(V,S){const D=S?new xf(S.sequenceNumber,new oi(Y6(S.readTime),new Qe(x3(S.documentKey)),S.largestBatchId)):xf.empty(),O=V.fields.map(([q,de])=>new uy(p1.fromServerFormat(q),de));return new ly(V.indexId,V.collectionGroup,O,D)}(m,M))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,a)=>{const l=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==l?l:kt(r.collectionGroup,a.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const a=Dy(e),l=n9(e);return this.Tn(e).next(f=>a.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(m=>te.forEach(m,M=>l.put(yR(M.indexId,this.user,f,r)))))}updateIndexEntries(e,n){const r=new Map;return te.forEach(n,(a,l)=>{const f=r.get(a.collectionGroup);return(f?te.resolve(f):this.getFieldIndexes(e,a.collectionGroup)).next(m=>(r.set(a.collectionGroup,m),te.forEach(m,M=>this.En(e,a,M).next(V=>{const S=this.An(l,M);return V.isEqual(S)?te.resolve():this.vn(e,l,M,V,S)}))))})}Rn(e,n,r,a){return t9(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,a){return t9(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const a=t9(e);let l=new R2(Wo);return a.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(f,m)=>{l=l.add(new X6(r.indexId,n,m.arrayValue,m.directionalValue))}).next(()=>l)}An(e,n){let r=new R2(Wo);const a=this.mn(n,e);if(null==a)return r;const l=bE(n);if(null!=l){const f=e.data.field(l.fieldPath);if(Pf(f))for(const m of f.arrayValue.values||[])r=r.add(new X6(n.indexId,e.key,this.dn(m),a))}else r=r.add(new X6(n.indexId,e.key,xy,a));return r}vn(e,n,r,a,l){Re("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const f=[];return function(m,M,V,S,D){const O=m.getIterator(),q=M.getIterator();let de=H8(O),Ae=H8(q);for(;de||Ae;){let Pe=!1,ft=!1;if(de&&Ae){const lt=V(de,Ae);lt<0?ft=!0:lt>0&&(Pe=!0)}else null!=de?ft=!0:Pe=!0;Pe?(S(Ae),Ae=H8(q)):ft?(D(de),de=H8(O)):(de=H8(O),Ae=H8(q))}}(a,l,Wo,m=>{f.push(this.Rn(e,n,r,m))},m=>{f.push(this.Pn(e,n,r,m))}),te.waitFor(f)}Tn(e){let n=1;return n9(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,l)=>{l.done(),n=a.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((f,m)=>Wo(f,m)).filter((f,m,M)=>!m||0!==Wo(f,M[m-1]));const a=[];a.push(e);for(const f of r){const m=Wo(f,e),M=Wo(f,n);if(0===m)a[0]=e.Je();else if(m>0&&M<0)a.push(f),a.push(f.Je());else if(M>0)break}a.push(n);const l=[];for(let f=0;f<a.length;f+=2){if(this.bn(a[f],a[f+1]))return[];l.push(IDBKeyRange.bound([a[f].indexId,this.uid,a[f].arrayValue,a[f].directionalValue,xy,[]],[a[f+1].indexId,this.uid,a[f+1].arrayValue,a[f+1].directionalValue,xy,[]]))}return l}bn(e,n){return Wo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ER)}getMinOffset(e,n){return te.mapArray(this.cn(n),r=>this.an(e,r).next(a=>a||ot())).next(ER)}}function IR(t){return pn(t,"collectionParents")}function t9(t){return pn(t,"indexEntries")}function Dy(t){return pn(t,"indexConfiguration")}function n9(t){return pn(t,"indexState")}function ER(t){Ct(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;HE(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new oi(e.readTime,e.documentKey,n)}const SR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zR(t,e,n){const r=t.store("mutations"),a=t.store("documentMutations"),l=[],f=IDBKeyRange.only(n.batchId);let m=0;const M=r.X({range:f},(S,D,O)=>(m++,O.delete()));l.push(M.next(()=>{Ct(1===m)}));const V=[];for(const S of n.mutations){const D=eP(e,S.key.path,n.batchId);l.push(a.delete(D)),V.push(S.key)}return te.waitFor(l).next(()=>V)}function Ay(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ot();e=t.noDocument}return JSON.stringify(e).length}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class Ty{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Vn={}}static de(e,n,r,a){Ct(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Ty(l,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zo(e).X({index:"userMutationsIndex",range:r},(a,l,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(e,n,r,a){const l=N8(e),f=Zo(e);return f.add({}).next(m=>{Ct("number"==typeof m);const M=new FE(m,n,r,a),V=function(O,q,de){const Ae=de.baseMutations.map(ft=>Qf(O.fe,ft)),Pe=de.mutations.map(ft=>Qf(O.fe,ft));return{userId:q,batchId:de.batchId,localWriteTimeMs:de.localWriteTime.toMillis(),baseMutations:Ae,mutations:Pe}}(this.serializer,this.userId,M),S=[];let D=new R2((O,q)=>kt(O.canonicalString(),q.canonicalString()));for(const O of a){const q=eP(this.userId,O.key.path,m);D=D.add(O.key.path.popLast()),S.push(f.put(V)),S.push(l.put(q,Dee))}return D.forEach(O=>{S.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.Vn[m]=M.keys()}),te.waitFor(S).next(()=>M)})}lookupMutationBatch(e,n){return Zo(e).get(n).next(r=>r?(Ct(r.userId===this.userId),Q6(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?te.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const a=r.keys();return this.Vn[n]=a,a}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Zo(e).X({index:"userMutationsIndex",range:a},(f,m,M)=>{m.userId===this.userId&&(Ct(m.batchId>=r),l=Q6(this.serializer,m)),M.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zo(e).X({index:"userMutationsIndex",range:n,reverse:!0},(a,l,f)=>{r=l.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zo(e).j("userMutationsIndex",n).next(r=>r.map(a=>Q6(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=dy(this.userId,n.path),a=IDBKeyRange.lowerBound(r),l=[];return N8(e).X({range:a},(f,m,M)=>{const[V,S,D]=f,O=x3(S);if(V===this.userId&&n.path.isEqual(O))return Zo(e).get(D).next(q=>{if(!q)throw ot();Ct(q.userId===this.userId),l.push(Q6(this.serializer,q))});M.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new R2(kt);const a=[];return n.forEach(l=>{const f=dy(this.userId,l.path),m=IDBKeyRange.lowerBound(f),M=N8(e).X({range:m},(V,S,D)=>{const[O,q,de]=V,Ae=x3(q);O===this.userId&&l.path.isEqual(Ae)?r=r.add(de):D.done()});a.push(M)}),te.waitFor(a).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,l=dy(this.userId,r),f=IDBKeyRange.lowerBound(l);let m=new R2(kt);return N8(e).X({range:f},(M,V,S)=>{const[D,O,q]=M,de=x3(O);D===this.userId&&r.isPrefixOf(de)?de.length===a&&(m=m.add(q)):S.done()}).next(()=>this.Dn(e,m))}Dn(e,n){const r=[],a=[];return n.forEach(l=>{a.push(Zo(e).get(l).next(f=>{if(null===f)throw ot();Ct(f.userId===this.userId),r.push(Q6(this.serializer,f))}))}),te.waitFor(a).next(()=>r)}removeMutationBatch(e,n){return zR(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),te.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return te.resolve();const r=IDBKeyRange.lowerBound([this.userId]),a=[];return N8(e).X({range:r},(l,f,m)=>{if(l[0]===this.userId){const M=x3(l[1]);a.push(M)}else m.done()}).next(()=>{Ct(0===a.length)})})}containsKey(e,n){return LR(e,this.userId,n)}xn(e){return xR(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function LR(t,e,n){const r=dy(e,n.path),a=r[1],l=IDBKeyRange.lowerBound(r);let f=!1;return N8(t).X({range:l,Y:!0},(m,M,V)=>{const[S,D,O]=m;S===e&&D===a&&(f=!0),V.done()}).next(()=>f)}function Zo(t){return pn(t,"mutations")}function N8(t){return pn(t,"documentMutations")}function xR(t){return pn(t,"mutationQueues")}class e0{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new e0(0)}static Mn(){return new e0(-1)}}class qte{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new e0(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>Mt.fromTimestamp(new Q2(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.On(e,a)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>k8(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let a=0;const l=[];return k8(e).X((f,m)=>{const M=Jf(m);M.sequenceNumber<=n&&null===r.get(M.targetId)&&(a++,l.push(this.removeTargetData(e,M)))}).next(()=>te.waitFor(l)).next(()=>a)}forEachTarget(e,n){return k8(e).X((r,a)=>{const l=Jf(a);n(l)})}$n(e){return DR(e).get("targetGlobalKey").next(n=>(Ct(null!==n),n))}On(e,n){return DR(e).put("targetGlobalKey",n)}Fn(e,n){return k8(e).put(gR(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=G6(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return k8(e).X({range:a,index:"queryTargetsIndex"},(f,m,M)=>{const V=Jf(m);Of(n,V.target)&&(l=V,M.done())}).next(()=>l)}addMatchingKeys(e,n,r){const a=[],l=Ko(e);return n.forEach(f=>{const m=Un(f.path);a.push(l.put({targetId:r,path:m})),a.push(this.referenceDelegate.addReference(e,r,f))}),te.waitFor(a)}removeMatchingKeys(e,n,r){const a=Ko(e);return te.forEach(n,l=>{const f=Un(l.path);return te.waitFor([a.delete([r,f]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,n){const r=Ko(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Ko(e);let l=Gt();return a.X({range:r,Y:!0},(f,m,M)=>{const V=x3(f[1]),S=new Qe(V);l=l.add(S)}).next(()=>l)}containsKey(e,n){const r=Un(n.path),a=IDBKeyRange.bound([r],[Gk(r)],!1,!0);let l=0;return Ko(e).X({index:"documentTargetsIndex",Y:!0,range:a},([f,m],M,V)=>{0!==f&&(l++,V.done())}).next(()=>l>0)}le(e,n){return k8(e).get(n).next(r=>r?Jf(r):null)}}function k8(t){return pn(t,"targets")}function DR(t){return pn(t,"targetGlobal")}function Ko(t){return pn(t,"targetDocuments")}function AR([t,e],[n,r]){const a=kt(t,n);return 0===a?kt(e,r):a}class Wte{constructor(e){this.Ln=e,this.buffer=new R2(AR),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();AR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Me.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){Ro(r)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Po(r)}yield n.Qn(3e5)}))}}class Zte{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return te.resolve(ci.ct);const r=new Wte(n);return this.jn.forEachTarget(e,a=>r.Kn(a.sequenceNumber)).next(()=>this.jn.Wn(e,a=>r.Kn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(SR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SR):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,a,l,f,m,M,V;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),a=this.params.maximumSequenceNumbersToCollect):a=D,f=Date.now(),this.nthSequenceNumber(e,a))).next(D=>(r=D,m=Date.now(),this.removeTargets(e,r,n))).next(D=>(l=D,M=Date.now(),this.removeOrphanedDocuments(e,r))).next(D=>(V=Date.now(),ME()<=Ao.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-S}ms\n\tDetermined least recently used ${a} in `+(m-f)+`ms\n\tRemoved ${l} targets in `+(M-m)+`ms\n\tRemoved ${D} documents in `+(V-M)+`ms\nTotal Duration: ${V-S}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:D})))}}class Kte{constructor(e,n){this.db=e,this.garbageCollector=function NR(t,e){return new Zte(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,a)=>n(a))}addReference(e,n,r){return Ny(e,r)}removeReference(e,n,r){return Ny(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Ny(e,n)}Xn(e,n){return function(r,a){let l=!1;return xR(r).Z(f=>LR(r,f,a).next(m=>(m&&(l=!0),te.resolve(!m)))).next(()=>l)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Yn(e,(f,m)=>{if(m<=n){const M=this.Xn(e,f).next(V=>{if(!V)return l++,r.getEntry(e,f).next(()=>(r.removeEntry(f,Mt.min()),Ko(e).delete([0,Un(f.path)])))});a.push(M)}}).next(()=>te.waitFor(a)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Ny(e,n)}Yn(e,n){const r=Ko(e);let a,l=ci.ct;return r.X({index:"documentTargetsIndex"},([f,m],{path:M,sequenceNumber:V})=>{0===f?(l!==ci.ct&&n(new Qe(x3(a)),l),l=V,a=M):l=ci.ct}).next(()=>{l!==ci.ct&&n(new Qe(x3(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ny(t,e){return Ko(t).put((r=t.currentSequenceNumber,{targetId:0,path:Un(e.path),sequenceNumber:r}));var r}class kR{constructor(){this.changes=new K4(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,O2.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yte{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return t0(e).put(r)}removeEntry(e,n,r){return t0(e).delete(function(a,l){const f=a.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Sy(l),f[f.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=O2.newInvalidDocument(n);return t0(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(r9(n))},(a,l)=>{r=this.ts(n,l)}).next(()=>r)}es(e,n){let r={size:0,document:O2.newInvalidDocument(n)};return t0(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(r9(n))},(a,l)=>{r={document:this.ts(n,l),size:Ay(l)}}).next(()=>r)}getEntries(e,n){let r=Ir();return this.ns(e,n,(a,l)=>{const f=this.ts(a,l);r=r.insert(a,f)}).next(()=>r)}ss(e,n){let r=Ir(),a=new A2(Qe.comparator);return this.ns(e,n,(l,f)=>{const m=this.ts(l,f);r=r.insert(l,m),a=a.insert(l,Ay(f))}).next(()=>({documents:r,rs:a}))}ns(e,n,r){if(n.isEmpty())return te.resolve();let a=new R2(FR);n.forEach(M=>a=a.add(M));const l=IDBKeyRange.bound(r9(a.first()),r9(a.last())),f=a.getIterator();let m=f.getNext();return t0(e).X({index:"documentKeyIndex",range:l},(M,V,S)=>{const D=Qe.fromSegments([...V.prefixPath,V.collectionGroup,V.documentId]);for(;m&&FR(m,D)<0;)r(m,null),m=f.getNext();m&&m.isEqual(D)&&(r(m,V),m=f.hasNext()?f.getNext():null),m?S.G(r9(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,n,r,a){const l=n.path,f=[l.popLast().toArray(),l.lastSegment(),Sy(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return t0(e).j(IDBKeyRange.bound(f,m,!0)).next(M=>{let V=Ir();for(const S of M){const D=this.ts(Qe.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);D.isFoundDocument()&&(Bf(n,D)||a.has(D.key))&&(V=V.insert(D.key,D))}return V})}getAllFromCollectionGroup(e,n,r,a){let l=Ir();const f=OR(n,r),m=OR(n,oi.max());return t0(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,m,!0)},(M,V,S)=>{const D=this.ts(Qe.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);l=l.insert(D.key,D),l.size===a&&S.done()}).next(()=>l)}newChangeBuffer(e){return new Qte(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return RR(e).get("remoteDocumentGlobalKey").next(n=>(Ct(!!n),n))}Zn(e,n){return RR(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function kte(t,e){let n;if(e.document)n=cR(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),a=Y6(e.noDocument.readTime);n=O2.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Qe.fromSegments(e.unknownDocument.path),a=Y6(e.unknownDocument.version);n=O2.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime(function(r){const a=new Q2(r[0],r[1]);return Mt.fromTimestamp(a)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return O2.newInvalidDocument(e)}}function PR(t){return new Yte(t)}class Qte extends kR{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new K4(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const n=[];let r=0,a=new R2((l,f)=>kt(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const m=this.us.get(l);if(n.push(this.os.removeEntry(e,l,m.readTime)),f.isValidDocument()){const M=mR(this.os.serializer,f);a=a.add(l.path.popLast());const V=Ay(M);r+=V-m.size,n.push(this.os.addEntry(e,l,M))}else if(r-=m.size,this.trackRemovals){const M=mR(this.os.serializer,f.convertToNoDocument(Mt.min()));n.push(this.os.addEntry(e,l,M))}}),a.forEach(l=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,l))}),n.push(this.os.updateMetadata(e,r)),te.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:a})=>(a.forEach((l,f)=>{this.us.set(l,{size:f,readTime:r.get(l).readTime})}),r))}}function RR(t){return pn(t,"remoteDocumentGlobal")}function t0(t){return pn(t,"remoteDocumentsV14")}function r9(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function OR(t,e){const n=e.documentKey.path.toArray();return[t,Sy(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function FR(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let l=0;l<n.length-2&&l<r.length-2;++l)if(a=kt(n[l],r[l]),a)return a;return a=kt(n.length,r.length),a||(a=kt(n[n.length-2],r[r.length-2]),a||kt(n[n.length-1],r[r.length-1]))}class Jte{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class BR{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(null!==r&&Gf(r.mutation,a,Vr.empty(),Q2.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Gt()){const a=A3();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let f=Uf();return l.forEach((m,M)=>{f=f.insert(m,M.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const r=A3();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Gt()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,r,a){let l=Ir();const f=jf(),m=jf();return n.forEach((M,V)=>{const S=r.get(V.key);a.has(V.key)&&(void 0===S||S.mutation instanceof Y4)?l=l.insert(V.key,V):void 0!==S?(f.set(V.key,S.mutation.getFieldMask()),Gf(S.mutation,V,S.mutation.getFieldMask(),Q2.now())):f.set(V.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,l).next(M=>(M.forEach((V,S)=>f.set(V,S)),n.forEach((V,S)=>{var D;return m.set(V,new Jte(S,null!==(D=f.get(V))&&void 0!==D?D:null))}),m))}recalculateAndSaveOverlays(e,n){const r=jf();let a=new A2((f,m)=>f-m),l=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(M=>{const V=n.get(M);if(null===V)return;let S=r.get(M)||Vr.empty();S=m.applyToLocalView(V,S),r.set(M,S);const D=(a.get(m.batchId)||Gt()).add(M);a=a.insert(m.batchId,D)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const M=m.getNext(),V=M.key,S=M.value,D=AP();S.forEach(O=>{if(!l.has(O)){const q=UP(n.get(O),r.get(O));null!==q&&D.set(O,q),l=l.add(O)}}),f.push(this.documentOverlayCache.saveOverlays(e,V,D))}return te.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return Qe.isDocumentKey((a=n).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):NE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var a}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const f=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):te.resolve(A3());let m=-1,M=l;return f.next(V=>te.forEach(V,(S,D)=>(m<D.largestBatchId&&(m=D.largestBatchId),l.get(S)?te.resolve():this.remoteDocumentCache.getEntry(e,S).next(O=>{M=M.insert(S,O)}))).next(()=>this.populateOverlays(e,V,l)).next(()=>this.computeViews(e,M,V,Gt())).next(S=>({batchId:m,changes:DP(S)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Qe(n)).next(r=>{let a=Uf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const a=n.collectionGroup;let l=Uf();return this.indexManager.getCollectionParents(e,a).next(f=>te.forEach(f,m=>{const M=(V=n,S=m.child(a),new Z4(S,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt));var V,S;return this.getDocumentsMatchingCollectionQuery(e,M,r).next(V=>{V.forEach((S,D)=>{l=l.insert(S,D)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a))).next(l=>{a.forEach((m,M)=>{const V=M.getKey();null===l.get(V)&&(l=l.insert(V,O2.newInvalidDocument(V)))});let f=Uf();return l.forEach((m,M)=>{const V=a.get(m);void 0!==V&&Gf(V.mutation,M,Vr.empty(),Q2.now()),Bf(n,M)&&(f=f.insert(m,M))}),f})}}class Xte{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return te.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:E1(r.createTime)}),te.resolve()}getNamedQuery(e,n){return te.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:YE(r.bundledQuery),readTime:E1(r.readTime)}),te.resolve();var r}}class e2e{constructor(){this.overlays=new A2(Qe.comparator),this.ls=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=A3();return te.forEach(n,a=>this.getOverlay(e,a).next(l=>{null!==l&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.we(e,n,l)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.ls.get(r);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const a=A3(),l=n.length+1,f=new Qe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const M=m.getNext().value,V=M.getKey();if(!n.isPrefixOf(V.path))break;V.path.length===l&&M.largestBatchId>r&&a.set(M.getKey(),M)}return te.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new A2((V,S)=>V-S);const f=this.overlays.getIterator();for(;f.hasNext();){const V=f.getNext().value;if(V.getKey().getCollectionGroup()===n&&V.largestBatchId>r){let S=l.get(V.largestBatchId);null===S&&(S=A3(),l=l.insert(V.largestBatchId,S)),S.set(V.getKey(),V)}}const m=A3(),M=l.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((V,S)=>m.set(V,S)),!(m.size()>=a)););return te.resolve(m)}we(e,n,r){const a=this.overlays.get(r.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(r.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new UE(n,r));let l=this.ls.get(n);void 0===l&&(l=Gt(),this.ls.set(n,l)),this.ls.set(n,l.add(r.key))}}class rS{constructor(){this.fs=new R2(mn.ds),this.ws=new R2(mn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new mn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new mn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Qe(new t2([])),r=new mn(n,e),a=new mn(n,e+1),l=[];return this.ws.forEachInRange([r,a],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Qe(new t2([])),r=new mn(n,e),a=new mn(n,e+1);let l=Gt();return this.ws.forEachInRange([r,a],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new mn(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Qe.comparator(e.key,n.key)||kt(e.As,n.As)}static _s(e,n){return kt(e.As,n.As)||Qe.comparator(e.key,n.key)}}class t2e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new R2(mn.ds)}checkEmpty(e){return te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,a){const l=this.vs;this.vs++;const f=new FE(l,n,r,a);this.mutationQueue.push(f);for(const m of a)this.Rs=this.Rs.add(new mn(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const a=this.bs(n+1),l=a<0?0:a;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),a=new mn(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([r,a],f=>{const m=this.Ps(f.As);l.push(m)}),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new R2(kt);return n.forEach(a=>{const l=new mn(a,0),f=new mn(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],m=>{r=r.add(m.As)})}),te.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Qe.isDocumentKey(l)||(l=l.child(""));const f=new mn(new Qe(l),0);let m=new R2(kt);return this.Rs.forEachWhile(M=>{const V=M.key.path;return!!r.isPrefixOf(V)&&(V.length===a&&(m=m.add(M.As)),!0)},f),te.resolve(this.Vs(m))}Vs(e){const n=[];return e.forEach(r=>{const a=this.Ps(r);null!==a&&n.push(a)}),n}removeMutationBatch(e,n){Ct(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return te.forEach(n.mutations,a=>{const l=new mn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new mn(n,0),a=this.Rs.firstAfterOrEqual(r);return te.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return te.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class n2e{constructor(e){this.Ds=e,this.docs=new A2(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,f=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():O2.newInvalidDocument(n))}getEntries(e,n){let r=Ir();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():O2.newInvalidDocument(a))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Ir();const f=n.path,m=new Qe(f.child("")),M=this.docs.getIteratorFrom(m);for(;M.hasNext();){const{key:V,value:{document:S}}=M.getNext();if(!f.isPrefixOf(V.path))break;V.path.length>f.length+1||HE(Wk(S),r)<=0||(a.has(S.key)||Bf(n,S))&&(l=l.insert(S.key,S.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,n,r,a){ot()}Cs(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r2e(this)}getSize(e){return te.resolve(this.size)}}class r2e extends kR{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.os.addEntry(e,a)):this.os.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class i2e{constructor(e){this.persistence=e,this.xs=new K4(n=>G6(n),Of),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new rS,this.targetCount=0,this.Ms=e0.kn()}forEachTarget(e,n){return this.xs.forEach((r,a)=>n(a)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),te.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new e0(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Fn(n),te.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.xs.forEach((f,m)=>{m.sequenceNumber<=n&&null===r.get(m.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),te.waitFor(l).next(()=>a)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),te.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.ks.containsKey(n))}}class iS{constructor(e,n){this.$s={},this.overlays={},this.Os=new ci(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new i2e(this),this.indexManager=new $te,this.remoteDocumentCache=new n2e(r=>this.referenceDelegate.Ls(r)),this.serializer=new pR(n),this.qs=new Xte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e2e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new t2e(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const a=new s2e(this.Os.next());return this.referenceDelegate.Us(),r(a).next(l=>this.referenceDelegate.Ks(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Gs(e,n){return te.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class s2e extends Kk{constructor(e){super(),this.currentSequenceNumber=e}}class ky{constructor(e){this.persistence=e,this.Qs=new rS,this.js=null}static zs(e){return new ky(e)}get Ws(){if(this.js)return this.js;throw ot()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),te.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(a=>this.Ws.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.Ws.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Ws,r=>{const a=Qe.fromPath(r);return this.Hs(e,a).next(l=>{l||n.removeEntry(a,Mt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return te.or([()=>te.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class a2e{constructor(e){this.serializer=e}O(e,n,r,a){const l=new fy("createOrUpgrade",n);var m;r<1&&a>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xk,{unique:!0}),m.createObjectStore("documentMutations"),UR(e),function(m){m.createObjectStore("remoteDocuments")}(e));let f=te.resolve();return r<3&&a>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),UR(e)),f=f.next(()=>function(m){const M=m.store("targetGlobal"),V={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return M.put("targetGlobalKey",V)}(l))),r<4&&a>=4&&(0!==r&&(f=f.next(()=>function(m,M){return M.store("mutations").j().next(V=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xk,{unique:!0});const S=M.store("mutations"),D=V.map(O=>S.put(O));return te.waitFor(D)})}(e,l))),f=f.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&a>=5&&(f=f.next(()=>this.Ys(l))),r<6&&a>=6&&(f=f.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(l)))),r<7&&a>=7&&(f=f.next(()=>this.Zs(l))),r<8&&a>=8&&(f=f.next(()=>this.ti(e,l))),r<9&&a>=9&&(f=f.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&a>=10&&(f=f.next(()=>this.ei(l))),r<11&&a>=11&&(f=f.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&a>=12&&(f=f.next(()=>{!function(m){const M=m.createObjectStore("documentOverlays",{keyPath:$ee});M.createIndex("collectionPathOverlayIndex",Gee,{unique:!1}),M.createIndex("collectionGroupOverlayIndex",qee,{unique:!1})}(e)})),r<13&&a>=13&&(f=f.next(()=>function(m){const M=m.createObjectStore("remoteDocumentsV14",{keyPath:Aee});M.createIndex("documentKeyIndex",Tee),M.createIndex("collectionGroupIndex",Nee)}(e)).next(()=>this.ni(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&a>=14&&(f=f.next(()=>this.si(e,l))),r<15&&a>=15&&(f=f.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:Fee}).createIndex("sequenceNumberIndex",Bee,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Uee}).createIndex("documentKeyIndex",jee,{unique:!1})}(e))),f}Xs(e){let n=0;return e.store("remoteDocuments").X((r,a)=>{n+=Ay(a)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(a=>te.forEach(a,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",f).next(m=>te.forEach(m,M=>{Ct(M.userId===l.userId);const V=Q6(this.serializer,M);return zR(e,l.userId,V).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const l=[];return r.X((f,m)=>{const M=new t2(f),V=[0,Un(M)];l.push(n.get(V).next(S=>S?te.resolve():n.put({targetId:0,path:Un(M),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>te.waitFor(l))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Oee});const r=n.store("collectionParents"),a=new nS,l=f=>{if(a.add(f)){const m=f.lastSegment(),M=f.popLast();return r.put({collectionId:m,parent:Un(M)})}};return n.store("remoteDocuments").X({Y:!0},(f,m)=>{const M=new t2(f);return l(M.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([f,m,M],V)=>{const S=x3(m);return l(S.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,a)=>{const l=Jf(a),f=gR(this.serializer,l);return n.put(f)})}ni(e,n){const r=n.store("remoteDocuments"),a=[];return r.X((l,f)=>{const m=n.store("remoteDocumentsV14"),M=(V=f,V.document?new Qe(t2.fromString(V.document.name).popFirst(5)):V.noDocument?Qe.fromSegments(V.noDocument.path):V.unknownDocument?Qe.fromSegments(V.unknownDocument.path):ot()).path.toArray();var V;const S={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};a.push(m.put(S))}).next(()=>te.waitFor(a))}si(e,n){const r=n.store("mutations"),a=PR(this.serializer),l=new iS(ky.zs,this.serializer.fe);return r.j().next(f=>{const m=new Map;return f.forEach(M=>{var V;let S=null!==(V=m.get(M.userId))&&void 0!==V?V:Gt();Q6(this.serializer,M).keys().forEach(D=>S=S.add(D)),m.set(M.userId,S)}),te.forEach(m,(M,V)=>{const S=new hn(V),D=zy.de(this.serializer,S),O=l.getIndexManager(S),q=Ty.de(S,this.serializer,O,l.referenceDelegate);return new BR(a,q,D,O).recalculateAndSaveOverlaysForDocumentKeys(new EE(n,ci.ct),M).next()})})}}function UR(t){t.createObjectStore("targetDocuments",{keyPath:Pee}).createIndex("documentTargetsIndex",Ree,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kee,{unique:!0}),t.createObjectStore("targetGlobal")}const sS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aS{constructor(e,n,r,a,l,f,m,M,V,S,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=l,this.window=f,this.document=m,this.ri=V,this.oi=S,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=O=>Promise.resolve(),!aS.D())throw new Se(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kte(this,a),this.di=n+"main",this.serializer=new pR(M),this.wi=new Ls(this.di,this.ui,new a2e(this.serializer)),this.Bs=new qte(this.referenceDelegate,this.serializer),this.remoteDocumentCache=PR(this.serializer),this.qs=new Pte,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===S&&I1("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(ce.FAILED_PRECONDITION,sS);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ci(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var r=(0,Me.Z)(function*(a){if(n.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,Me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Me.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ry(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(Ro(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return i9(e).get("owner").next(n=>te.resolve(this.Ri(n)))}Pi(e){return Ry(e).delete(this.clientId)}bi(){var e=this;return(0,Me.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=pn(r,"clientMetadata");return a.j().next(l=>{const f=e.Si(l,18e5),m=l.filter(M=>-1===f.indexOf(M));return te.forEach(m,M=>a.delete(M.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?te.resolve(!0):i9(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Se(ce.FAILED_PRECONDITION,sS);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ry(e).j().next(r=>void 0===this.Si(r,5e3).find(a=>!(this.clientId===a.clientId||!(!this.networkEnabled&&a.networkEnabled||!this.inForeground&&a.inForeground&&this.networkEnabled===a.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Re("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Me.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new EE(n,ci.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ry(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return Ty.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Gte(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return zy.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){Re("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===n?"readonly":"readwrite",l=15===(f=this.ui)?Zee:14===f?rP:13===f?nP:12===f?Wee:11===f?tP:void ot();var f;let m;return this.wi.runTransaction(e,a,l,M=>(m=new EE(M,this.Os?this.Os.next():ci.ct),"readwrite-primary"===n?this.Ti(m).next(V=>!!V||this.Ei(m)).next(V=>{if(!V)throw I1(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Se(ce.FAILED_PRECONDITION,Zk);return r(m)}).next(V=>this.vi(m).next(()=>V)):this.Oi(m).next(()=>r(m)))).then(M=>(m.raiseOnCommittedEvent(),M))}Oi(e){return i9(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Se(ce.FAILED_PRECONDITION,sS)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return i9(e).put("owner",n)}static D(){return Ls.D()}Ai(e){const n=i9(e);return n.get("owner").next(r=>this.Ri(r)?(Re("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):te.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(I1(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,a2.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return I1("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){I1("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function i9(t){return pn(t,"owner")}function Ry(t){return pn(t,"clientMetadata")}function oS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class cS{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=a}static Li(e,n){let r=Gt(),a=Gt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new cS(e,n.fromCache,r,a)}}class jR{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,a){return this.Ki(e,n).next(l=>l||this.Gi(e,n,a,r)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(EP(n))return te.resolve(null);let r=rr(n);return this.indexManager.getIndexType(e,r).next(a=>0===a?null:(null!==n.limit&&1===a&&(n=wy(n,null,"F"),r=rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const f=Gt(...l);return this.Ui.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,r).next(M=>{const V=this.ji(n,m);return this.zi(n,V,f,M.readTime)?this.Ki(e,wy(n,null,"F")):this.Wi(e,V,n,M)}))})))}Gi(e,n,r,a){return EP(n)||a.isEqual(Mt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(l=>{const f=this.ji(n,l);return this.zi(n,f,r,a)?this.Qi(e,n):(ME()<=Ao.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),PE(n)),this.Wi(e,f,n,qk(a,-1)))})}ji(e,n){let r=new R2(LP(e));return n.forEach((a,l)=>{Bf(e,l)&&(r=r.add(l))}),r}zi(e,n,r,a){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Qi(e,n){return ME()<=Ao.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",PE(n)),this.Ui.getDocumentsMatchingQuery(e,n,oi.min())}Wi(e,n,r,a){return this.Ui.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class o2e{constructor(e,n,r,a){this.persistence=e,this.Hi=n,this.serializer=a,this.Ji=new A2(kt),this.Yi=new K4(l=>G6(l),Of),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function $R(t,e,n,r){return new o2e(t,e,n,r)}function GR(t,e){return lS.apply(this,arguments)}function lS(){return lS=(0,Me.Z)(function*(t,e){const n=Je(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const f=[],m=[];let M=Gt();for(const V of a){f.push(V.batchId);for(const S of V.mutations)M=M.add(S.key)}for(const V of l){m.push(V.batchId);for(const S of V.mutations)M=M.add(S.key)}return n.localDocuments.getDocuments(r,M).next(V=>({er:V,removedBatchIds:f,addedBatchIds:m}))})})}),lS.apply(this,arguments)}function qR(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function WR(t,e,n){let r=Gt(),a=Gt();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let f=Ir();return n.forEach((m,M)=>{const V=l.get(m);M.isFoundDocument()!==V.isFoundDocument()&&(a=a.add(m)),M.isNoDocument()&&M.version.isEqual(Mt.min())?(e.removeEntry(m,M.readTime),f=f.insert(m,M)):!V.isValidDocument()||M.version.compareTo(V.version)>0||0===M.version.compareTo(V.version)&&V.hasPendingWrites?(e.addEntry(M),f=f.insert(m,M)):Re("LocalStore","Ignoring outdated watch update for ",m,". Current version:",V.version," Watch version:",M.version)}),{nr:f,sr:a}})}function u2e(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P8(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Bs.getTargetData(r,e).next(l=>l?(a=l,te.resolve(a)):n.Bs.allocateTargetId(r).next(f=>(a=new Q4(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ji.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function R8(t,e,n){return uS.apply(this,arguments)}function uS(){return uS=(0,Me.Z)(function*(t,e,n){const r=Je(t),a=r.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",l,f=>r.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Ro(f))throw f;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(a.target)}),uS.apply(this,arguments)}function Oy(t,e,n){const r=Je(t);let a=Mt.min(),l=Gt();return r.persistence.runTransaction("Execute query","readonly",f=>function(m,M,V){const S=Je(m),D=S.Yi.get(V);return void 0!==D?te.resolve(S.Ji.get(D)):S.Bs.getTargetData(M,V)}(r,f,rr(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(f,m.targetId).next(M=>{l=M})}).next(()=>r.Hi.getDocumentsMatchingQuery(f,e,n?a:Mt.min(),n?l:Gt())).next(m=>(YR(r,zP(e),m),{documents:m,ir:l})))}function ZR(t,e){const n=Je(t),r=Je(n.Bs),a=n.Ji.get(e);return a?Promise.resolve(a.target):n.persistence.runTransaction("Get target data","readonly",l=>r.le(l,e).next(f=>f?f.target:null))}function KR(t,e){const n=Je(t),r=n.Xi.get(e)||Mt.min();return n.persistence.runTransaction("Get new document changes","readonly",a=>n.Zi.getAllFromCollectionGroup(a,e,qk(r,-1),Number.MAX_SAFE_INTEGER)).then(a=>(YR(n,e,a),a))}function YR(t,e,n){let r=t.Xi.get(e)||Mt.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Xi.set(e,r)}function fS(){return fS=(0,Me.Z)(function*(t,e,n,r){const a=Je(t);let l=Gt(),f=Ir();for(const V of n){const S=e.rr(V.metadata.name);V.document&&(l=l.add(S));const D=e.ur(V);D.setReadTime(e.cr(V.metadata.readTime)),f=f.insert(S,D)}const m=a.Zi.newChangeBuffer({trackRemovals:!0}),M=yield P8(a,(V=r,rr(S8(t2.fromString(`__bundle__/docs/${V}`)))));var V;return a.persistence.runTransaction("Apply bundle documents","readwrite",V=>WR(V,m,f).next(S=>(m.apply(V),S)).next(S=>a.Bs.removeMatchingKeysForTargetId(V,M.targetId).next(()=>a.Bs.addMatchingKeys(V,l,M.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(V,S.nr,S.sr)).next(()=>S.nr)))}),fS.apply(this,arguments)}function d2e(t,e){return dS.apply(this,arguments)}function dS(){return dS=(0,Me.Z)(function*(t,e,n=Gt()){const r=yield P8(t,rr(YE(e.bundledQuery))),a=Je(t);return a.persistence.runTransaction("Save named query","readwrite",l=>{const f=E1(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return a.qs.saveNamedQuery(l,e);const m=r.withResumeToken(Q1.EMPTY_BYTE_STRING,f);return a.Ji=a.Ji.insert(m.targetId,m),a.Bs.updateTargetData(l,m).next(()=>a.Bs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>a.Bs.addMatchingKeys(l,n,r.targetId)).next(()=>a.qs.saveNamedQuery(l,e))})}),dS.apply(this,arguments)}function QR(t,e){return`firestore_clients_${t}_${e}`}function JR(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function hS(t,e){return`firestore_targets_${t}_${e}`}class Fy{constructor(e,n,r,a){this.user=e,this.batchId=n,this.state=r,this.error=a}static ar(e,n,r){const a=JSON.parse(r);let l,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(l=new Se(a.error.code,a.error.message))),f?new Fy(e,n,a.state,l):(I1("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class s9{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let a,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new Se(r.error.code,r.error.message))),l?new s9(e,r.state,a):(I1("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class By{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let a="object"==typeof r&&r.activeTargetIds instanceof Array,l=RE();for(let f=0;a&&f<r.activeTargetIds.length;++f)a=Qk(r.activeTargetIds[f]),l=l.add(r.activeTargetIds[f]);return a?new By(e,l):(I1("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class pS{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new pS(n.clientId,n.onlineState):(I1("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mS{constructor(){this.activeTargetIds=RE()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gS{constructor(e,n,r,a,l){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new A2(kt),this.started=!1,this.yr=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.pr=QR(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new mS),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Me.Z)(function*(){const n=yield e.syncEngine.$i();for(const a of n){if(a===e.wr)continue;const l=e.getItem(QR(e.persistenceKey,a));if(l){const f=By.ar(a,l);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const a=e.br(r);a&&e.Vr(a)}for(const a of e.yr)e.mr(a);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,a)=>{a.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(hS(this.persistenceKey,e));if(r){const a=s9.ar(e,r);a&&(n=a.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hS(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(a=>{this.Cr(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Re("SharedClientState","READ",e,n),n}setItem(e,n){Re("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void I1("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Me.Z)(function*(){if(n.started){if(null!==r.key)if(n.Tr.test(r.key)){if(null==r.newValue){const a=n.Or(r.key);return n.Fr(a,null)}{const a=n.Br(r.key,r.newValue);if(a)return n.Fr(a.clientId,a)}}else if(n.Er.test(r.key)){if(null!==r.newValue){const a=n.Lr(r.key,r.newValue);if(a)return n.qr(a)}}else if(n.Ar.test(r.key)){if(null!==r.newValue){const a=n.Ur(r.key,r.newValue);if(a)return n.Kr(a)}}else if(r.key===n.vr){if(null!==r.newValue){const a=n.br(r.newValue);if(a)return n.Vr(a)}}else if(r.key===n.Ir){const a=function(l){let f=ci.ct;if(null!=l)try{const m=JSON.parse(l);Ct("number"==typeof m),f=m}catch(m){I1("SharedClientState","Failed to read sequence number from WebStorage",m)}return f}(r.newValue);a!==ci.ct&&n.sequenceNumberHandler(a)}else if(r.key===n.Rr){const a=n.Gr(r.newValue);yield Promise.all(a.map(l=>n.syncEngine.Qr(l)))}}else n.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const a=new Fy(this.currentUser,e,n,r),l=JR(this.persistenceKey,this.currentUser,e);this.setItem(l,a.hr())}Cr(e){const n=JR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,r){const a=hS(this.persistenceKey,e),l=new s9(e,n,r);this.setItem(a,l.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return By.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),a=Number(r[1]);return Fy.ar(new hn(void 0!==r[2]?r[2]:null),a,n)}Ur(e,n){const r=this.Ar.exec(e),a=Number(r[1]);return s9.ar(a,n)}br(e){return pS.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,Me.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),a=this.Sr(this.gr),l=this.Sr(r),f=[],m=[];return l.forEach(M=>{a.has(M)||f.push(M)}),a.forEach(M=>{l.has(M)||m.push(M)}),this.syncEngine.Wr(f,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=RE();return e.forEach((r,a)=>{n=n.unionWith(a.activeTargetIds)}),n}}class XR{constructor(){this.Hr=new mS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new mS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class h2e{Yr(e){}shutdown(){}}class eO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Uy=null;function vS(){return null===Uy?Uy=268435456+Math.round(2147483648*Math.random()):Uy++,"0x"+Uy.toString(16)}const p2e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m2e{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const $n="WebChannelConnection";class g2e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,a,l){const f=vS(),m=this.To(e,n);Re("RestConnection",`Sending RPC '${e}' ${f}:`,m,r);const M={};return this.Eo(M,a,l),this.Ao(e,m,M,r).then(V=>(Re("RestConnection",`Received RPC '${e}' ${f}: `,V),V),V=>{throw Oi("RestConnection",`RPC '${e}' ${f} failed with error: `,V,"url: ",m,"request:",r),V})}vo(e,n,r,a,l,f){return this.Io(e,n,r,a,l)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+w8,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}To(e,n){return`${this.mo}/v1/${n}:${p2e[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,a){const l=vS();return new Promise((f,m)=>{const M=new hee;M.setWithCredentials(!0),M.listenOnce(uee.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case _E.NO_ERROR:const S=M.getResponseJson();Re($n,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(S)),f(S);break;case _E.TIMEOUT:Re($n,`RPC '${e}' ${l} timed out`),m(new Se(ce.DEADLINE_EXCEEDED,"Request time out"));break;case _E.HTTP_ERROR:const D=M.getStatus();if(Re($n,`RPC '${e}' ${l} failed with status:`,D,"response text:",M.getResponseText()),D>0){let O=M.getResponseJson();Array.isArray(O)&&(O=O[0]);const q=O?.error;if(q&&q.status&&q.message){const de=function(Ae){const Pe=Ae.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Pe)>=0?Pe:ce.UNKNOWN}(q.status);m(new Se(de,q.message))}else m(new Se(ce.UNKNOWN,"Server responded with status "+M.getStatus()))}else m(new Se(ce.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Re($n,`RPC '${e}' ${l} completed.`)}});const V=JSON.stringify(a);Re($n,`RPC '${e}' ${l} sending request:`,a),M.send(n,"POST",V,r,15)})}Ro(e,n,r){const a=vS(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=cee(),m=lee(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},V=this.longPollingOptions.timeoutSeconds;void 0!==V&&(M.longPollingTimeout=Math.round(1e3*V)),this.useFetchStreams&&(M.xmlHttpFactory=new dee({})),this.Eo(M.initMessageHeaders,n,r),M.encodeInitMessageHeaders=!0;const S=l.join("");Re($n,`Creating RPC '${e}' stream ${a}: ${S}`,M);const D=f.createWebChannel(S,M);let O=!1,q=!1;const de=new m2e({ro:Pe=>{q?Re($n,`Not sending because RPC '${e}' stream ${a} is closed:`,Pe):(O||(Re($n,`Opening RPC '${e}' stream ${a} transport.`),D.open(),O=!0),Re($n,`RPC '${e}' stream ${a} sending:`,Pe),D.send(Pe))},oo:()=>D.close()}),Ae=(Pe,ft,lt)=>{Pe.listen(ft,st=>{try{lt(st)}catch(vt){setTimeout(()=>{throw vt},0)}})};return Ae(D,cy.EventType.OPEN,()=>{q||Re($n,`RPC '${e}' stream ${a} transport opened.`)}),Ae(D,cy.EventType.CLOSE,()=>{q||(q=!0,Re($n,`RPC '${e}' stream ${a} transport closed`),de.wo())}),Ae(D,cy.EventType.ERROR,Pe=>{q||(q=!0,Oi($n,`RPC '${e}' stream ${a} transport errored:`,Pe),de.wo(new Se(ce.UNAVAILABLE,"The operation could not be completed")))}),Ae(D,cy.EventType.MESSAGE,Pe=>{var ft;if(!q){const lt=Pe.data[0];Ct(!!lt);const vt=lt.error||(null===(ft=lt[0])||void 0===ft?void 0:ft.error);if(vt){Re($n,`RPC '${e}' stream ${a} received error:`,vt);const Ht=vt.status;let Bt=function(xs){const Ds=R1[xs];if(void 0!==Ds)return ZP(Ds)}(Ht),X2=vt.message;void 0===Bt&&(Bt=ce.INTERNAL,X2="Unknown error status: "+Ht+" with message "+vt.message),q=!0,de.wo(new Se(Bt,X2)),D.close()}else Re($n,`RPC '${e}' stream ${a} received:`,lt),de._o(lt)}}),Ae(m,fee.STAT_EVENT,Pe=>{Pe.stat===Fk.PROXY?Re($n,`RPC '${e}' stream ${a} detected buffering proxy`):Pe.stat===Fk.NOPROXY&&Re($n,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{de.fo()},0),de}}function tO(){return typeof window<"u"?window:null}function jy(){return typeof document<"u"?document:null}function a9(t){return new Ite(t,!0)}class yS{constructor(e,n,r=1e3,a=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=a,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),a=Math.max(0,n-r);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class nO{constructor(e,n,r,a,l,f,m,M){this.ii=e,this.$o=r,this.Oo=a,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=M,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new yS(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Me.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Me.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,Me.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(I1(n.toString()),I1("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Fo===n&&this.Zo(r,a)},r=>{e(()=>{const a=new Se(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(a)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{r(()=>this.tu(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,Me.Z)(function*(){e.state=0,e.start()}))}tu(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v2e extends nO{constructor(e,n,r,a,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function zte(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(M=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===M?1:"REMOVE"===M?2:"CURRENT"===M?3:"RESET"===M?4:ot(),a=e.targetChange.targetIds||[],l=function(M,V){return M.useProto3Json?(Ct(void 0===V||"string"==typeof V),Q1.fromBase64String(V||"")):(Ct(void 0===V||V instanceof Uint8Array),Q1.fromUint8Array(V||new Uint8Array))}(t,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(M){const V=void 0===M.code?ce.UNKNOWN:ZP(M.code);return new Se(V,M.message||"")}(f);n=new XP(r,a,l,m||null)}else if("documentChange"in e){const r=e.documentChange,a=T3(t,r.document.name),l=E1(r.document.updateTime),f=r.document.createTime?E1(r.document.createTime):Mt.min(),m=new En({mapValue:{fields:r.document.fields}}),M=O2.newFoundDocument(a,l,f,m);n=new Ey(r.targetIds||[],r.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const r=e.documentDelete,a=T3(t,r.document),l=r.readTime?E1(r.readTime):Mt.min(),f=O2.newNoDocument(a,l);n=new Ey([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,a=T3(t,r.document);n=new Ey([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:a=0,unchangedNames:l}=r,f=new _te(a,l);n=new JP(r.targetId,f)}}var M;return n}(this.serializer,e),r=function(a){if(!("targetChange"in a))return Mt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Mt.min():l.readTime?E1(l.readTime):Mt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Yf(this.serializer),n.addTarget=function(a,l){let f;const m=l.target;if(f=Cy(m)?{documents:lR(a,m)}:{query:KE(a,m)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=rR(a,l.resumeToken);const M=GE(a,l.expectedCount);null!==M&&(f.expectedCount=M)}else if(l.snapshotVersion.compareTo(Mt.min())>0){f.readTime=A8(a,l.snapshotVersion.toTimestamp());const M=GE(a,l.expectedCount);null!==M&&(f.expectedCount=M)}return f}(this.serializer,e);const r=function xte(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Yf(this.serializer),n.removeTarget=e,this.Wo(n)}}class y2e extends nO{constructor(e,n,r,a,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Lte(t,e){return t&&t.length>0?(Ct(void 0!==e),t.map(n=>function(r,a){let l=E1(r.updateTime?r.updateTime:a);return l.isEqual(Mt.min())&&(l=E1(a)),new gte(l,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=E1(e.commitTime);return this.listener.cu(r,n)}return Ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Yf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Qf(this.serializer,r))};this.Wo(n)}}class C2e extends class{}{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Io(e,n,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ce.UNKNOWN,a.toString())})}vo(e,n,r,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,r,l,f,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ce.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class M2e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(I1(n),this.mu=!1):Re("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class w2e{constructor(e,n,r,a,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(m=>{r.enqueueAndForget((0,Me.Z)(function*(){var M;Yo(f)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,Me.Z)(function*(V){const S=Je(V);S.vu.add(4),yield O8(S),S.bu.set("Unknown"),S.vu.delete(4),yield o9(S)}),function(V){return M.apply(this,arguments)})(f))}))}),this.bu=new M2e(r,a)}}function o9(t){return _S.apply(this,arguments)}function _S(){return _S=(0,Me.Z)(function*(t){if(Yo(t))for(const e of t.Ru)yield e(!0)}),_S.apply(this,arguments)}function O8(t){return MS.apply(this,arguments)}function MS(){return MS=(0,Me.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),MS.apply(this,arguments)}function $y(t,e){const n=Je(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),HS(n)?bS(n):B8(n).Ko()&&wS(n,e))}function c9(t,e){const n=Je(t),r=B8(n);n.Au.delete(e),r.Ko()&&rO(n,e),0===n.Au.size&&(r.Ko()?r.jo():Yo(n)&&n.bu.set("Unknown"))}function wS(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}B8(t).su(e)}function rO(t,e){t.Vu.qt(e),B8(t).iu(e)}function bS(t){t.Vu=new wte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),B8(t).start(),t.bu.gu()}function HS(t){return Yo(t)&&!B8(t).Uo()&&t.Au.size>0}function Yo(t){return 0===Je(t).vu.size}function iO(t){t.Vu=void 0}function b2e(t){return VS.apply(this,arguments)}function VS(){return VS=(0,Me.Z)(function*(t){t.Au.forEach((e,n)=>{wS(t,e)})}),VS.apply(this,arguments)}function H2e(t,e){return IS.apply(this,arguments)}function IS(){return IS=(0,Me.Z)(function*(t,e){iO(t),HS(t)?(t.bu.Iu(e),bS(t)):t.bu.set("Unknown")}),IS.apply(this,arguments)}function V2e(t,e,n){return ES.apply(this,arguments)}function ES(){return ES=(0,Me.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof XP&&2===e.state&&e.cause)try{yield(r=(0,Me.Z)(function*(a,l){const f=l.cause;for(const m of l.targetIds)a.Au.has(m)&&(yield a.remoteSyncer.rejectListen(m,f),a.Au.delete(m),a.Vu.removeTarget(m))}),function(a,l){return r.apply(this,arguments)})(t,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Gy(t,r)}else if(e instanceof Ey?t.Vu.Ht(e):e instanceof JP?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Mt.min()))try{const r=yield qR(t.localStore);n.compareTo(r)>=0&&(yield function(a,l){const f=a.Vu.ce(l);return f.targetChanges.forEach((m,M)=>{if(m.resumeToken.approximateByteSize()>0){const V=a.Au.get(M);V&&a.Au.set(M,V.withResumeToken(m.resumeToken,l))}}),f.targetMismatches.forEach((m,M)=>{const V=a.Au.get(m);if(!V)return;a.Au.set(m,V.withResumeToken(Q1.EMPTY_BYTE_STRING,V.snapshotVersion)),rO(a,m);const S=new Q4(V.target,m,M,V.sequenceNumber);wS(a,S)}),a.remoteSyncer.applyRemoteEvent(f)}(t,n))}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),yield Gy(t,r)}var r}),ES.apply(this,arguments)}function Gy(t,e,n){return SS.apply(this,arguments)}function SS(){return SS=(0,Me.Z)(function*(t,e,n){if(!Ro(e))throw e;t.vu.add(1),yield O8(t),t.bu.set("Offline"),n||(n=()=>qR(t.localStore)),t.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield o9(t)}))}),SS.apply(this,arguments)}function sO(t,e){return e().catch(n=>Gy(t,n,e))}function F8(t){return zS.apply(this,arguments)}function zS(){return zS=(0,Me.Z)(function*(t){const e=Je(t),n=Qo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;I2e(e);)try{const a=yield u2e(e.localStore,r);if(null===a){0===e.Eu.length&&n.jo();break}r=a.batchId,E2e(e,a)}catch(a){yield Gy(e,a)}aO(e)&&oO(e)}),zS.apply(this,arguments)}function I2e(t){return Yo(t)&&t.Eu.length<10}function E2e(t,e){t.Eu.push(e);const n=Qo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function aO(t){return Yo(t)&&!Qo(t).Uo()&&t.Eu.length>0}function oO(t){Qo(t).start()}function S2e(t){return LS.apply(this,arguments)}function LS(){return LS=(0,Me.Z)(function*(t){Qo(t).hu()}),LS.apply(this,arguments)}function z2e(t){return xS.apply(this,arguments)}function xS(){return xS=(0,Me.Z)(function*(t){const e=Qo(t);for(const n of t.Eu)e.uu(n.mutations)}),xS.apply(this,arguments)}function L2e(t,e,n){return DS.apply(this,arguments)}function DS(){return DS=(0,Me.Z)(function*(t,e,n){const r=t.Eu.shift(),a=BE.from(r,e,n);yield sO(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),yield F8(t)}),DS.apply(this,arguments)}function x2e(t,e){return AS.apply(this,arguments)}function AS(){return AS=(0,Me.Z)(function*(t,e){var n;e&&Qo(t).ou&&(yield(n=(0,Me.Z)(function*(r,a){if(WP(l=a.code)&&l!==ce.ABORTED){const f=r.Eu.shift();Qo(r).Qo(),yield sO(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield F8(r)}var l}),function(r,a){return n.apply(this,arguments)})(t,e)),aO(t)&&oO(t)}),AS.apply(this,arguments)}function cO(t,e){return TS.apply(this,arguments)}function TS(){return TS=(0,Me.Z)(function*(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=Yo(n);n.vu.add(3),yield O8(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield o9(n)}),TS.apply(this,arguments)}function NS(t,e){return kS.apply(this,arguments)}function kS(){return kS=(0,Me.Z)(function*(t,e){const n=Je(t);e?(n.vu.delete(2),yield o9(n)):e||(n.vu.add(2),yield O8(n),n.bu.set("Unknown"))}),kS.apply(this,arguments)}function B8(t){return t.Su||(t.Su=function(e,n,r){const a=Je(e);return a.fu(),new v2e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{uo:b2e.bind(null,t),ao:H2e.bind(null,t),nu:V2e.bind(null,t)}),t.Ru.push(function(){var e=(0,Me.Z)(function*(n){n?(t.Su.Qo(),HS(t)?bS(t):t.bu.set("Unknown")):(yield t.Su.stop(),iO(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Qo(t){return t.Du||(t.Du=function(e,n,r){const a=Je(e);return a.fu(),new y2e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{uo:S2e.bind(null,t),ao:x2e.bind(null,t),au:z2e.bind(null,t),cu:L2e.bind(null,t)}),t.Ru.push(function(){var e=(0,Me.Z)(function*(n){n?(t.Du.Qo(),yield F8(t)):(yield t.Du.stop(),t.Eu.length>0&&(Re("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class PS{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Y1,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,r,a,l){const f=Date.now()+r,m=new PS(e,n,f,a,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U8(t,e){if(I1("AsyncQueue",`${e}: ${t}`),Ro(t))return new Se(ce.UNAVAILABLE,`${e}: ${t}`);throw t}class j8{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Qe.comparator(n.key,r.key):(n,r)=>Qe.comparator(n.key,r.key),this.keyedMap=Uf(),this.sortedSet=new A2(this.comparator)}static emptySet(e){return new j8(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof j8)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new j8;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class lO{constructor(){this.Cu=new A2(Qe.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ot():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class $8{constructor(e,n,r,a,l,f,m,M,V){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=M,this.hasCachedResults=V}static fromInitialDocuments(e,n,r,a,l){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new $8(e,n,j8.emptySet(n),f,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class D2e{constructor(){this.Nu=void 0,this.listeners=[]}}class A2e{constructor(){this.queries=new K4(e=>SP(e),Ff),this.onlineState="Unknown",this.ku=new Set}}function RS(t,e){return OS.apply(this,arguments)}function OS(){return OS=(0,Me.Z)(function*(t,e){const n=Je(t),r=e.query;let a=!1,l=n.queries.get(r);if(l||(a=!0,l=new D2e),a)try{l.Nu=yield n.onListen(r)}catch(f){const m=U8(f,`Initialization of query '${PE(e.query)}' failed`);return void e.onError(m)}n.queries.set(r,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&US(n)}),OS.apply(this,arguments)}function FS(t,e){return BS.apply(this,arguments)}function BS(){return BS=(0,Me.Z)(function*(t,e){const n=Je(t),r=e.query;let a=!1;const l=n.queries.get(r);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return n.queries.delete(r),n.onUnlisten(r)}),BS.apply(this,arguments)}function T2e(t,e){const n=Je(t);let r=!1;for(const a of e){const f=n.queries.get(a.query);if(f){for(const m of f.listeners)m.$u(a)&&(r=!0);f.Nu=a}}r&&US(n)}function N2e(t,e,n){const r=Je(t),a=r.queries.get(e);if(a)for(const l of a.listeners)l.onError(n);r.queries.delete(e)}function US(t){t.ku.forEach(e=>{e.next()})}class jS{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new $8(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=$8.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class k2e{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class uO{constructor(e){this.serializer=e}rr(e){return T3(this.serializer,e)}ur(e){return e.metadata.exists?cR(this.serializer,e.document,!1):O2.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return E1(e)}}class P2e{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fO(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=t2.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new uO(this.serializer);for(const a of e)if(a.metadata.queries){const l=r.rr(a.metadata.name);for(const f of a.metadata.queries){const m=(n.get(f)||Gt()).add(l);n.set(f,m)}}return n}complete(){var e=this;return(0,Me.Z)(function*(){const n=yield function f2e(t,e,n,r){return fS.apply(this,arguments)}(e.localStore,new uO(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const a of e.queries)yield d2e(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function fO(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class dO{constructor(e){this.key=e}}class hO{constructor(e){this.key=e}}class pO{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Gt(),this.mutatedKeys=Gt(),this.tc=LP(e),this.ec=new j8(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new lO,a=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const M="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,V="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((S,D)=>{const O=a.get(S),q=Bf(this.query,D)?D:null,de=!!O&&this.mutatedKeys.has(O.key),Ae=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Pe=!1;O&&q?O.data.isEqual(q.data)?de!==Ae&&(r.track({type:3,doc:q}),Pe=!0):this.rc(O,q)||(r.track({type:2,doc:q}),Pe=!0,(M&&this.tc(q,M)>0||V&&this.tc(q,V)<0)&&(m=!0)):!O&&q?(r.track({type:0,doc:q}),Pe=!0):O&&!q&&(r.track({type:1,doc:O}),Pe=!0,(M||V)&&(m=!0)),Pe&&(q?(f=f.add(q),l=Ae?l.add(S):l.delete(S)):(f=f.delete(S),l=l.delete(S)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const S="F"===this.query.limitType?f.last():f.first();f=f.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{ec:f,ic:r,zi:m,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((V,S)=>function(D,O){const q=de=>{switch(de){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return q(D)-q(O)}(V.type,S.type)||this.tc(V.doc,S.doc)),this.oc(r);const f=n?this.uc():[],m=0===this.Zu.size&&this.current?1:0,M=m!==this.Xu;return this.Xu=m,0!==l.length||M?{snapshot:new $8(this.query,e.ec,a,l,e.mutatedKeys,0===m,M,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new lO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Gt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new hO(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new dO(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Gt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return $8.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class R2e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class O2e{constructor(e){this.key=e,this.fc=!1}}class F2e{constructor(e,n,r,a,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new K4(m=>SP(m),Ff),this._c=new Map,this.mc=new Set,this.gc=new A2(Qe.comparator),this.yc=new Map,this.Ic=new rS,this.Tc={},this.Ec=new Map,this.Ac=e0.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function B2e(t,e){return $S.apply(this,arguments)}function $S(){return $S=(0,Me.Z)(function*(t,e){const n=hz(t);let r,a;const l=n.wc.get(e);if(l)r=l.targetId,n.sharedClientState.addLocalQueryTarget(r),a=l.view.lc();else{const f=yield P8(n.localStore,rr(e)),m=n.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,a=yield GS(n,e,r,"current"===m,f.resumeToken),n.isPrimaryClient&&$y(n.remoteStore,f)}return a}),$S.apply(this,arguments)}function GS(t,e,n,r,a){return qS.apply(this,arguments)}function qS(){return qS=(0,Me.Z)(function*(t,e,n,r,a){t.Rc=(D,O,q)=>{return(de=(0,Me.Z)(function*(Ae,Pe,ft,lt){let st=Pe.view.sc(ft);st.zi&&(st=yield Oy(Ae.localStore,Pe.query,!1).then(({documents:Bt})=>Pe.view.sc(Bt,st)));const vt=lt&&lt.targetChanges.get(Pe.targetId),Ht=Pe.view.applyChanges(st,Ae.isPrimaryClient,vt);return nz(Ae,Pe.targetId,Ht.cc),Ht.snapshot}),function(Ae,Pe,ft,lt){return de.apply(this,arguments)})(t,D,O,q);var de};const l=yield Oy(t.localStore,e,!0),f=new pO(e,l.ir),m=f.sc(l.documents),M=Zf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,a),V=f.applyChanges(m,t.isPrimaryClient,M);nz(t,n,V.cc);const S=new R2e(e,n,f);return t.wc.set(e,S),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),V.snapshot}),qS.apply(this,arguments)}function U2e(t,e){return WS.apply(this,arguments)}function WS(){return WS=(0,Me.Z)(function*(t,e){const n=Je(t),r=n.wc.get(e),a=n._c.get(r.targetId);if(a.length>1)return n._c.set(r.targetId,a.filter(l=>!Ff(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield R8(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),c9(n.remoteStore,r.targetId),G8(n,r.targetId)}).catch(Po))):(G8(n,r.targetId),yield R8(n.localStore,r.targetId,!0))}),WS.apply(this,arguments)}function ZS(){return ZS=(0,Me.Z)(function*(t,e,n){const r=pz(t);try{const a=yield function(l,f){const m=Je(l),M=Q2.now(),V=f.reduce((O,q)=>O.add(q.key),Gt());let S,D;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let q=Ir(),de=Gt();return m.Zi.getEntries(O,V).next(Ae=>{q=Ae,q.forEach((Pe,ft)=>{ft.isValidDocument()||(de=de.add(Pe))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,q)).next(Ae=>{S=Ae;const Pe=[];for(const ft of f){const lt=yte(ft,S.get(ft.key).overlayedDocument);null!=lt&&Pe.push(new Y4(ft.key,lt,pP(lt.value.mapValue),J2.exists(!0)))}return m.mutationQueue.addMutationBatch(O,M,Pe,f)}).next(Ae=>{D=Ae;const Pe=Ae.applyToLocalDocumentSet(S,de);return m.documentOverlayCache.saveOverlays(O,Ae.batchId,Pe)})}).then(()=>({batchId:D.batchId,changes:DP(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,f,m){let M=l.Tc[l.currentUser.toKey()];M||(M=new A2(kt)),M=M.insert(f,m),l.Tc[l.currentUser.toKey()]=M}(r,a.batchId,n),yield J4(r,a.changes),yield F8(r.remoteStore)}catch(a){const l=U8(a,"Failed to persist write");n.reject(l)}}),ZS.apply(this,arguments)}function mO(t,e){return KS.apply(this,arguments)}function KS(){return KS=(0,Me.Z)(function*(t,e){const n=Je(t);try{const r=yield function l2e(t,e){const n=Je(t),r=e.snapshotVersion;let a=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});a=n.Ji;const m=[];e.targetChanges.forEach((S,D)=>{const O=a.get(D);if(!O)return;m.push(n.Bs.removeMatchingKeys(l,S.removedDocuments,D).next(()=>n.Bs.addMatchingKeys(l,S.addedDocuments,D)));let q=O.withSequenceNumber(l.currentSequenceNumber);var de,Ae,Pe;null!==e.targetMismatches.get(D)?q=q.withResumeToken(Q1.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):S.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(S.resumeToken,r)),a=a.insert(D,q),Ae=q,Pe=S,(0===(de=O).resumeToken.approximateByteSize()||Ae.snapshotVersion.toMicroseconds()-de.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&m.push(n.Bs.updateTargetData(l,q))});let M=Ir(),V=Gt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,S))}),m.push(WR(l,f,e.documentUpdates).next(S=>{M=S.nr,V=S.sr})),!r.isEqual(Mt.min())){const S=n.Bs.getLastRemoteSnapshotVersion(l).next(D=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(S)}return te.waitFor(m).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,M,V)).next(()=>M)}).then(l=>(n.Ji=a,l))}(n.localStore,e);e.targetChanges.forEach((a,l)=>{const f=n.yc.get(l);f&&(Ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?Ct(f.fc):a.removedDocuments.size>0&&(Ct(f.fc),f.fc=!1))}),yield J4(n,r,e)}catch(r){yield Po(r)}}),KS.apply(this,arguments)}function gO(t,e,n){const r=Je(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const a=[];r.wc.forEach((l,f)=>{const m=f.view.Mu(e);m.snapshot&&a.push(m.snapshot)}),function(l,f){const m=Je(l);m.onlineState=f;let M=!1;m.queries.forEach((V,S)=>{for(const D of S.listeners)D.Mu(f)&&(M=!0)}),M&&US(m)}(r.eventManager,e),a.length&&r.dc.nu(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $2e(t,e,n){return YS.apply(this,arguments)}function YS(){return YS=(0,Me.Z)(function*(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.yc.get(e),l=a&&a.key;if(l){let f=new A2(Qe.comparator);f=f.insert(l,O2.newNoDocument(l,Mt.min()));const m=Gt().add(l),M=new Wf(Mt.min(),new Map,new A2(kt),f,m);yield mO(r,M),r.gc=r.gc.remove(l),r.yc.delete(e),rz(r)}else yield R8(r.localStore,e,!1).then(()=>G8(r,e,n)).catch(Po)}),YS.apply(this,arguments)}function G2e(t,e){return QS.apply(this,arguments)}function QS(){return QS=(0,Me.Z)(function*(t,e){const n=Je(t),r=e.batch.batchId;try{const a=yield function c2e(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,m,M,V){const S=M.batch,D=S.keys();let O=te.resolve();return D.forEach(q=>{O=O.next(()=>V.getEntry(m,q)).next(de=>{const Ae=M.docVersions.get(q);Ct(null!==Ae),de.version.compareTo(Ae)<0&&(S.applyToRemoteDocument(de,M),de.isValidDocument()&&(de.setReadTime(M.commitVersion),V.addEntry(de)))})}),O.next(()=>f.mutationQueue.removeMutationBatch(m,S))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=Gt();for(let M=0;M<f.mutationResults.length;++M)f.mutationResults[M].transformResults.length>0&&(m=m.add(f.batch.mutations[M].key));return m}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}(n.localStore,e);tz(n,r,null),ez(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield J4(n,a)}catch(a){yield Po(a)}}),QS.apply(this,arguments)}function q2e(t,e,n){return JS.apply(this,arguments)}function JS(){return JS=(0,Me.Z)(function*(t,e,n){const r=Je(t);try{const a=yield function(l,f){const m=Je(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",M=>{let V;return m.mutationQueue.lookupMutationBatch(M,f).next(S=>(Ct(null!==S),V=S.keys(),m.mutationQueue.removeMutationBatch(M,S))).next(()=>m.mutationQueue.performConsistencyCheck(M)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(M,V,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(M,V)).next(()=>m.localDocuments.getDocuments(M,V))})}(r.localStore,e);tz(r,e,n),ez(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield J4(r,a)}catch(a){yield Po(a)}}),JS.apply(this,arguments)}function XS(){return XS=(0,Me.Z)(function*(t,e){const n=Je(t);Yo(n.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const f=Je(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.mutationQueue.getHighestUnacknowledgedBatchId(m))}(n.localStore);if(-1===r)return void e.resolve();const a=n.Ec.get(r)||[];a.push(e),n.Ec.set(r,a)}catch(r){const a=U8(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),XS.apply(this,arguments)}function ez(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function tz(t,e,n){const r=Je(t);let a=r.Tc[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Tc[r.currentUser.toKey()]=a}}function G8(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||vO(t,r)})}function vO(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(c9(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),rz(t))}function nz(t,e,n){for(const r of n)r instanceof dO?(t.Ic.addReference(r.key,e),Z2e(t,r)):r instanceof hO?(Re("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||vO(t,r.key)):ot()}function Z2e(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Re("SyncEngine","New document in limbo: "+n),t.mc.add(r),rz(t))}function rz(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Qe(t2.fromString(e)),r=t.Ac.next();t.yc.set(r,new O2e(n)),t.gc=t.gc.insert(n,r),$y(t.remoteStore,new Q4(rr(S8(n.path)),r,"TargetPurposeLimboResolution",ci.ct))}}function J4(t,e,n){return iz.apply(this,arguments)}function iz(){return iz=(0,Me.Z)(function*(t,e,n){const r=Je(t),a=[],l=[],f=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,M)=>{f.push(r.Rc(M,e,n).then(V=>{if((V||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(M.targetId,V?.fromCache?"not-current":"current"),V){a.push(V);const S=cS.Li(M.targetId,V);l.push(S)}}))}),yield Promise.all(f),r.dc.nu(a),yield(m=(0,Me.Z)(function*(M,V){const S=Je(M);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>te.forEach(V,O=>te.forEach(O.Fi,q=>S.persistence.referenceDelegate.addReference(D,O.targetId,q)).next(()=>te.forEach(O.Bi,q=>S.persistence.referenceDelegate.removeReference(D,O.targetId,q)))))}catch(D){if(!Ro(D))throw D;Re("LocalStore","Failed to update sequence numbers: "+D)}for(const D of V){const O=D.targetId;if(!D.fromCache){const q=S.Ji.get(O),Ae=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);S.Ji=S.Ji.insert(O,Ae)}}}),function(M,V){return m.apply(this,arguments)})(r.localStore,l))}),iz.apply(this,arguments)}function K2e(t,e){return sz.apply(this,arguments)}function sz(){return sz=(0,Me.Z)(function*(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=yield GR(n.localStore,e);n.currentUser=e,(a=n).Ec.forEach(f=>{f.forEach(m=>{m.reject(new Se(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield J4(n,r.er)}var a}),sz.apply(this,arguments)}function Y2e(t,e){const n=Je(t),r=n.yc.get(e);if(r&&r.fc)return Gt().add(r.key);{let a=Gt();const l=n._c.get(e);if(!l)return a;for(const f of l){const m=n.wc.get(f);a=a.unionWith(m.view.nc)}return a}}function Q2e(t,e){return az.apply(this,arguments)}function az(){return az=(0,Me.Z)(function*(t,e){const n=Je(t),r=yield Oy(n.localStore,e.query,!0),a=e.view.hc(r);return n.isPrimaryClient&&nz(n,e.targetId,a.cc),a}),az.apply(this,arguments)}function J2e(t,e){return oz.apply(this,arguments)}function oz(){return oz=(0,Me.Z)(function*(t,e){const n=Je(t);return KR(n.localStore,e).then(r=>J4(n,r))}),oz.apply(this,arguments)}function X2e(t,e,n,r){return cz.apply(this,arguments)}function cz(){return cz=(0,Me.Z)(function*(t,e,n,r){const a=Je(t),l=yield function(f,m){const M=Je(f),V=Je(M.mutationQueue);return M.persistence.runTransaction("Lookup mutation documents","readonly",S=>V.Sn(S,m).next(D=>D?M.localDocuments.getDocuments(S,D):te.resolve(null)))}(a.localStore,e);var m;null!==l?("pending"===n?yield F8(a.remoteStore):"acknowledged"===n||"rejected"===n?(tz(a,e,r||null),ez(a,e),m=e,Je(Je(a.localStore).mutationQueue).Cn(m)):ot(),yield J4(a,l)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}),cz.apply(this,arguments)}function lz(){return lz=(0,Me.Z)(function*(t,e){const n=Je(t);if(hz(n),pz(n),!0===e&&!0!==n.vc){const r=n.sharedClientState.getAllActiveQueryTargets(),a=yield yO(n,r.toArray());n.vc=!0,yield NS(n.remoteStore,!0);for(const l of a)$y(n.remoteStore,l)}else if(!1===e&&!1!==n.vc){const r=[];let a=Promise.resolve();n._c.forEach((l,f)=>{n.sharedClientState.isLocalQueryTarget(f)?r.push(f):a=a.then(()=>(G8(n,f),R8(n.localStore,f,!0))),c9(n.remoteStore,f)}),yield a,yield yO(n,r),function(l){const f=Je(l);f.yc.forEach((m,M)=>{c9(f.remoteStore,M)}),f.Ic.Ts(),f.yc=new Map,f.gc=new A2(Qe.comparator)}(n),n.vc=!1,yield NS(n.remoteStore,!1)}}),lz.apply(this,arguments)}function yO(t,e,n){return uz.apply(this,arguments)}function uz(){return uz=(0,Me.Z)(function*(t,e,n){const r=Je(t),a=[],l=[];for(const f of e){let m;const M=r._c.get(f);if(M&&0!==M.length){m=yield P8(r.localStore,rr(M[0]));for(const V of M){const S=r.wc.get(V),D=yield Q2e(r,S);D.snapshot&&l.push(D.snapshot)}}else{const V=yield ZR(r.localStore,f);m=yield P8(r.localStore,V),yield GS(r,CO(V),f,!1,m.resumeToken)}a.push(m)}return r.dc.nu(l),a}),uz.apply(this,arguments)}function CO(t){return IP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function t1e(t){const e=Je(t);return Je(Je(e.localStore).persistence).$i()}function n1e(t,e,n,r){return fz.apply(this,arguments)}function fz(){return fz=(0,Me.Z)(function*(t,e,n,r){const a=Je(t);if(a.vc)return void Re("SyncEngine","Ignoring unexpected query state notification.");const l=a._c.get(e);if(l&&l.length>0)switch(n){case"current":case"not-current":{const f=yield KR(a.localStore,zP(l[0])),m=Wf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Q1.EMPTY_BYTE_STRING);yield J4(a,f,m);break}case"rejected":yield R8(a.localStore,e,!0),G8(a,e,r);break;default:ot()}}),fz.apply(this,arguments)}function r1e(t,e,n){return dz.apply(this,arguments)}function dz(){return dz=(0,Me.Z)(function*(t,e,n){const r=hz(t);if(r.vc){for(const a of e){if(r._c.has(a)){Re("SyncEngine","Adding an already active target "+a);continue}const l=yield ZR(r.localStore,a),f=yield P8(r.localStore,l);yield GS(r,CO(l),f.targetId,!1,f.resumeToken),$y(r.remoteStore,f)}for(const a of n)r._c.has(a)&&(yield R8(r.localStore,a,!1).then(()=>{c9(r.remoteStore,a),G8(r,a)}).catch(Po))}}),dz.apply(this,arguments)}function hz(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y2e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$2e.bind(null,e),e.dc.nu=T2e.bind(null,e.eventManager),e.dc.Pc=N2e.bind(null,e.eventManager),e}function pz(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G2e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q2e.bind(null,e),e}class l9{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Me.Z)(function*(){n.serializer=a9(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $R(this.persistence,new jR,e.initialUser,this.serializer)}createPersistence(e){return new iS(ky.zs,this.serializer)}createSharedClientState(e){return new XR}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class mz extends l9{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,Me.Z)(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield pz(r.Vc.syncEngine),yield F8(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return $R(this.persistence,new jR,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new TR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Lee(n,this.persistence);return new zee(e.asyncQueue,r)}createPersistence(e){const n=oS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new aS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,tO(),jy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new XR}}class _O extends mz{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,Me.Z)(function*(){yield n().call(r,e);const a=r.Vc.syncEngine;r.sharedClientState instanceof gS&&(r.sharedClientState.syncEngine={jr:X2e.bind(null,a),zr:n1e.bind(null,a),Wr:r1e.bind(null,a),$i:t1e.bind(null,a),Qr:J2e.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var l=(0,Me.Z)(function*(f){yield function e1e(t,e){return lz.apply(this,arguments)}(r.Vc.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start():f||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(f&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():f||r.indexBackfillerScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}createSharedClientState(e){const n=tO();if(!gS.D(n))throw new Se(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=oS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gS(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class q8{initialize(e,n){var r=this;return(0,Me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>gO(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=K2e.bind(null,r.syncEngine),yield NS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new A2e}createDatastore(e){const n=a9(e.databaseInfo.databaseId),r=new g2e(e.databaseInfo);return new C2e(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,a=e.asyncQueue,l=m=>gO(this.syncEngine,m,0),f=eO.D()?new eO:new h2e,new w2e(n,r,a,l,f);var n,r,a,l,f}createSyncEngine(e,n){return function(r,a,l,f,m,M,V){const S=new F2e(r,a,l,f,m,M);return V&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Me.Z)(function*(n){const r=Je(n);Re("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield O8(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function MO(t,e=10240){let n=0;return{read:()=>(0,Me.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class qy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):I1("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class a1e{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new Y1,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Me.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Me.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Me.Z)(function*(){const n=yield e.kc();if(null===n)return null;const r=e.xc.decode(n),a=Number(r);isNaN(a)&&e.Mc(`length string (${r}) is not valid number`);const l=yield e.$c(a);return new k2e(JSON.parse(l),n.length+a)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Me.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}$c(e){var n=this;return(0,Me.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const r=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Me.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class o1e{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Me.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Se(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,Me.Z)(function*(l,f){const m=Je(l),M=Yf(m.serializer)+"/documents",V={documents:f.map(q=>Kf(m.serializer,q))},S=yield m.vo("BatchGetDocuments",M,V,f.length),D=new Map;S.forEach(q=>{const de=function Ste(t,e){return"found"in e?function(n,r){Ct(!!r.found);const a=T3(n,r.found.name),l=E1(r.found.updateTime),f=r.found.createTime?E1(r.found.createTime):Mt.min(),m=new En({mapValue:{fields:r.found.fields}});return O2.newFoundDocument(a,l,f,m)}(t,e):"missing"in e?function(n,r){Ct(!!r.missing),Ct(!!r.readTime);const a=T3(n,r.missing),l=E1(r.readTime);return O2.newNoDocument(a,l)}(t,e):ot()}(m.serializer,q);D.set(de.key.toString(),de)});const O=[];return f.forEach(q=>{const de=D.get(q.toString());Ct(!!de),O.push(de)}),O}),function(l,f){return a.apply(this,arguments)})(n.datastore,e);var a;return r.forEach(a=>n.recordVersion(a)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new D8(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,a)=>{const l=Qe.fromPath(a);e.mutations.push(new OE(l,e.precondition(l)))}),yield(r=(0,Me.Z)(function*(a,l){const f=Je(a),m=Yf(f.serializer)+"/documents",M={writes:l.map(V=>Qf(f.serializer,V))};yield f.Io("Commit",m,M)}),function(a,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ot();n=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Se(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Mt.min())?J2.exists(!1):J2.updateTime(n):J2.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Mt.min()))throw new Se(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return J2.updateTime(n)}return J2.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class c1e{constructor(e,n,r,a,l){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=a,this.deferred=l,this.Bc=r.maxAttempts,this.qo=new yS(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Me.Z)(function*(){const n=new o1e(e.datastore),r=e.qc(n);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.Uc(l)}))}).catch(a=>{e.Uc(a)})}))}qc(e){try{const n=this.updateFunction(e);return!Af(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!WP(n)}return!1}}class l1e{constructor(e,n,r,a){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=$k.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,Me.Z)(function*(m){Re("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(Re("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Y1;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const a=U8(r,"Failed to shutdown persistence");n.reject(a)}})),n.promise}}function Wy(t,e){return gz.apply(this,arguments)}function gz(){return gz=(0,Me.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var a=(0,Me.Z)(function*(l){r.isEqual(l)||(yield GR(e.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),gz.apply(this,arguments)}function vz(t,e){return yz.apply(this,arguments)}function yz(){return yz=(0,Me.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield Cz(t);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(a=>cO(e.remoteStore,a)),t.setAppCheckTokenChangeListener((a,l)=>cO(e.remoteStore,l)),t._onlineComponents=e}),yz.apply(this,arguments)}function wO(t){return"FirebaseError"===t.name?t.code===ce.FAILED_PRECONDITION||t.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function Cz(t){return _z.apply(this,arguments)}function _z(){return _z=(0,Me.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!wO(n))throw n;Oi("Error using user provided cache. Falling back to memory cache: "+n),yield Wy(t,new l9)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),yield Wy(t,new l9);return t._offlineComponents}),_z.apply(this,arguments)}function Zy(t){return Mz.apply(this,arguments)}function Mz(){return Mz=(0,Me.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),yield vz(t,t._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),yield vz(t,new q8))),t._onlineComponents}),Mz.apply(this,arguments)}function bO(t){return Cz(t).then(e=>e.persistence)}function Ky(t){return Cz(t).then(e=>e.localStore)}function HO(t){return Zy(t).then(e=>e.remoteStore)}function wz(t){return Zy(t).then(e=>e.syncEngine)}function W8(t){return bz.apply(this,arguments)}function bz(){return bz=(0,Me.Z)(function*(t){const e=yield Zy(t),n=e.eventManager;return n.onListen=B2e.bind(null,e.syncEngine),n.onUnlisten=U2e.bind(null,e.syncEngine),n}),bz.apply(this,arguments)}function IO(t,e,n={}){const r=new Y1;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(a,l,f,m,M){const V=new qy({next:D=>{l.enqueueAndForget(()=>FS(a,S));const O=D.docs.has(f);!O&&D.fromCache?M.reject(new Se(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&D.fromCache&&m&&"server"===m.source?M.reject(new Se(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):M.resolve(D)},error:D=>M.reject(D)}),S=new jS(S8(f.path),V,{includeMetadataChanges:!0,Ku:!0});return RS(a,S)}(yield W8(t),t.asyncQueue,e,n,r)})),r.promise}function EO(t,e,n={}){const r=new Y1;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(a,l,f,m,M){const V=new qy({next:D=>{l.enqueueAndForget(()=>FS(a,S)),D.fromCache&&"server"===m.source?M.reject(new Se(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):M.resolve(D)},error:D=>M.reject(D)}),S=new jS(f,V,{includeMetadataChanges:!0,Ku:!0});return RS(a,S)}(yield W8(t),t.asyncQueue,e,n,r)})),r.promise}function SO(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const zO=new Map;function Hz(t,e,n){if(!n)throw new Se(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LO(t,e,n,r){if(!0===e&&!0===r)throw new Se(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xO(t){if(!Qe.isDocumentKey(t))throw new Se(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DO(t){if(Qe.isDocumentKey(t))throw new Se(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":ot()}function Jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yy(t);throw new Se(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function AO(t,e){if(e<=0)throw new Se(ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class TO{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=SO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class u9{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TO(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new vee;switch(n.type){case"firstParty":return new Mee(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Se(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=zO.get(e);n&&(Re("ComponentProvider","Removing Datastore"),zO.delete(e),n.terminate())}(this),Promise.resolve()}}class F2{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new N3(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new F2(this.firestore,e,this._key)}}class Sn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sn(this.firestore,e,this._query)}}class N3 extends Sn{constructor(e,n,r){super(e,n,S8(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new F2(this.firestore,null,new Qe(e))}withConverter(e){return new N3(this.firestore,e,this._path)}}function kO(t,e,...n){if(t=(0,a2.m9)(t),Hz("collection","path",e),t instanceof u9){const r=t2.fromString(e,...n);return DO(r),new N3(t,null,r)}{if(!(t instanceof F2||t instanceof N3))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(t2.fromString(e,...n));return DO(r),new N3(t.firestore,null,r)}}function Qy(t,e,...n){if(t=(0,a2.m9)(t),1===arguments.length&&(e=$k.A()),Hz("doc","path",e),t instanceof u9){const r=t2.fromString(e,...n);return xO(r),new F2(t,null,new Qe(r))}{if(!(t instanceof F2||t instanceof N3))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(t2.fromString(e,...n));return xO(r),new F2(t.firestore,t instanceof N3?t.converter:null,new Qe(r))}}function PO(t,e){return t=(0,a2.m9)(t),e=(0,a2.m9)(e),(t instanceof F2||t instanceof N3)&&(e instanceof F2||e instanceof N3)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Vz(t,e){return t=(0,a2.m9)(t),e=(0,a2.m9)(e),t instanceof Sn&&e instanceof Sn&&t.firestore===e.firestore&&Ff(t._query,e._query)&&t.converter===e.converter}class C1e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new yS(this,"async_queue_retry"),this.Xc=()=>{const n=jy();n&&Re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=jy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=jy();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Y1;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Me.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Ro(n))throw n;Re("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,I1("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const a=PS.createAndSchedule(this,e,n,r,l=>this.na(l));return this.zc.push(a),a}Zc(){this.Wc&&ot()}verifyOperationInProgress(){}sa(){var e=this;return(0,Me.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Iz(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(t)}class _1e{constructor(){this._progressObserver={},this._taskCompletionResolver=new Y1,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class B2 extends u9{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new C1e,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||RO(this),this._firestoreClient.terminate()}}function S1(t){return t._firestoreClient||RO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function RO(t){var e,n,r;const a=t._freezeSettings(),l=(m=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Qee(t._databaseId,m,t._persistenceKey,(V=a).host,V.ssl,V.experimentalForceLongPolling,V.experimentalAutoDetectLongPolling,SO(V.experimentalLongPollingOptions),V.useFetchStreams));var m,V;t._firestoreClient=new l1e(t._authCredentials,t._appCheckCredentials,t._queue,l),null!==(n=a.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=a.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}function OO(t,e,n){const r=new Y1;return t.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield Wy(t,n),yield vz(t,e),r.resolve()}catch(a){const l=a;if(!wO(l))throw l;Oi("Error enabling indexeddb cache. Falling back to memory cache: "+l),r.reject(l)}})).then(()=>r.promise)}function FO(t){if(t._initialized||t._terminated)throw new Se(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class k3{constructor(e){this._byteString=e}static fromBase64String(e){try{return new k3(Q1.fromBase64String(e))}catch(n){throw new Se(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new k3(Q1.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class X4{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Se(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new p1(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class n0{constructor(e){this._methodName=e}}class Jy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}const x1e=/^__.*__$/;class D1e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Y4(e,this.data,this.fieldMask,n,this.fieldTransforms):new x8(e,this.data,n,this.fieldTransforms)}}class BO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Y4(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Xy{constructor(e,n,r,a,l,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Xy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),a=this.aa({path:r,la:!1});return a.fa(e),a}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),a=this.aa({path:r,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return nC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(UO(this.ca)&&x1e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class A1e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||a9(e)}ya(e,n,r,a=!1){return new Xy({ca:e,methodName:n,ga:r,path:p1.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function r0(t){const e=t._freezeSettings(),n=a9(t._databaseId);return new A1e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eC(t,e,n,r,a,l={}){const f=t.ya(l.merge||l.mergeFields?2:0,e,n,a);Lz("Data must be an object, but it was:",f,r);const m=GO(r,f);let M,V;if(l.merge)M=new Vr(f.fieldMask),V=f.fieldTransforms;else if(l.mergeFields){const S=[];for(const D of l.mergeFields){const O=h9(e,D,n);if(!f.contains(O))throw new Se(ce.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);WO(S,O)||S.push(O)}M=new Vr(S),V=f.fieldTransforms.filter(D=>M.covers(D.field))}else M=null,V=f.fieldTransforms;return new D1e(new En(m),M,V)}class d9 extends n0{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof d9}}function jO(t,e,n){return new Xy({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ez extends n0{_toFieldTransform(e){return new $f(e.path,new z8)}isEqual(e){return e instanceof Ez}}class T1e extends n0{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=jO(this,e,!0),r=this.pa.map(l=>s0(l,n)),a=new W6(r);return new $f(e.path,a)}isEqual(e){return this===e}}class N1e extends n0{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=jO(this,e,!0),r=this.pa.map(l=>s0(l,n)),a=new Z6(r);return new $f(e.path,a)}isEqual(e){return this===e}}class k1e extends n0{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new L8(e.serializer,kP(e.serializer,this.Ia));return new $f(e.path,n)}isEqual(e){return this===e}}function Sz(t,e,n,r){const a=t.ya(1,e,n);Lz("Data must be an object, but it was:",a,r);const l=[],f=En.empty();Oo(r,(M,V)=>{const S=tC(e,M,n);V=(0,a2.m9)(V);const D=a.da(S);if(V instanceof d9)l.push(S);else{const O=s0(V,D);null!=O&&(l.push(S),f.set(S,O))}});const m=new Vr(l);return new BO(f,m,a.fieldTransforms)}function zz(t,e,n,r,a,l){const f=t.ya(1,e,n),m=[h9(e,r,n)],M=[a];if(l.length%2!=0)throw new Se(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<l.length;O+=2)m.push(h9(e,l[O])),M.push(l[O+1]);const V=[],S=En.empty();for(let O=m.length-1;O>=0;--O)if(!WO(V,m[O])){const q=m[O];let de=M[O];de=(0,a2.m9)(de);const Ae=f.da(q);if(de instanceof d9)V.push(q);else{const Pe=s0(de,Ae);null!=Pe&&(V.push(q),S.set(q,Pe))}}const D=new Vr(V);return new BO(S,D,f.fieldTransforms)}function $O(t,e,n,r=!1){return s0(n,t.ya(r?4:3,e))}function s0(t,e){if(qO(t=(0,a2.m9)(t)))return Lz("Unsupported field value:",e,t),GO(t,e);if(t instanceof n0)return function(n,r){if(!UO(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const a=[];let l=0;for(const f of n){let m=s0(f,r.wa(l));null==m&&(m={nullValue:"NULL_VALUE"}),a.push(m),l++}return{arrayValue:{values:a}}}(t,e)}return function(n,r){if(null===(n=(0,a2.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return kP(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const a=Q2.fromDate(n);return{timestampValue:A8(r.serializer,a)}}if(n instanceof Q2){const a=new Q2(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:A8(r.serializer,a)}}if(n instanceof Jy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof k3)return{bytesValue:rR(r.serializer,n._byteString)};if(n instanceof F2){const a=r.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw r._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Yy(n)}`)}(t,e)}function GO(t,e){const n={};return sP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(t,(r,a)=>{const l=s0(a,e.ha(r));null!=l&&(n[r]=l)}),{mapValue:{fields:n}}}function qO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Q2||t instanceof Jy||t instanceof k3||t instanceof F2||t instanceof n0)}function Lz(t,e,n){if(!qO(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Yy(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function h9(t,e,n){if((e=(0,a2.m9)(e))instanceof X4)return e._internalPath;if("string"==typeof e)return tC(t,e);throw nC("Field path arguments must be of type string or ",t,!1,void 0,n)}const P1e=new RegExp("[~\\*/\\[\\]]");function tC(t,e,n){if(e.search(P1e)>=0)throw nC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new X4(...e.split("."))._internalPath}catch{throw nC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nC(t,e,n,r,a){const l=r&&!r.isEmpty(),f=void 0!==a;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let M="";return(l||f)&&(M+=" (found",l&&(M+=` in field ${r}`),f&&(M+=` in document ${a}`),M+=")"),new Se(ce.INVALID_ARGUMENT,m+t+M)}function WO(t,e){return t.some(n=>n.isEqual(e))}class p9{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new F2(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new R1e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class R1e extends p9{data(){return super.data()}}function rC(t,e){return"string"==typeof e?tC(t,e):e instanceof X4?e._internalPath:e._delegate._internalPath}function ZO(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Se(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xz{}class m9 extends xz{}function Jo(t,e,...n){let r=[];e instanceof xz&&r.push(e),r=r.concat(n),function(a){const l=a.filter(m=>m instanceof Z8).length,f=a.filter(m=>m instanceof g9).length;if(l>1||l>0&&f>0)throw new Se(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class g9 extends m9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new g9(e,n,r)}_apply(e){const n=this._parse(e);return JO(e._query,n),new Sn(e.firestore,e.converter,kE(e._query,n))}_parse(e){const n=r0(e.firestore);return function(a,l,f,m,M,V,S){let D;if(M.isKeyField()){if("array-contains"===V||"array-contains-any"===V)throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${V}' queries on documentId().`);if("in"===V||"not-in"===V){QO(S,V);const O=[];for(const q of S)O.push(YO(m,a,q));D={arrayValue:{values:O}}}else D=YO(m,a,S)}else"in"!==V&&"not-in"!==V&&"array-contains-any"!==V||QO(S,V),D=$O(f,"where",S,"in"===V||"not-in"===V);return Qt.create(M,V,D)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Z8 extends xz{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Z8(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:y2.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,a){let l=r;const f=a.getFlattenedFilters();for(const m of f)JO(l,m),l=kE(l,m)}(e._query,n),new Sn(e.firestore,e.converter,kE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Dz extends m9{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Dz(e,n)}_apply(e){const n=function(r,a,l){if(null!==r.startAt)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new I8(a,l);return function(m,M){if(null===TE(m)){const V=My(m);null!==V&&XO(0,V,M.field)}}(r,f),f}(e._query,this._field,this._direction);return new Sn(e.firestore,e.converter,function(r,a){const l=r.explicitOrderBy.concat([a]);return new Z4(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class iC extends m9{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new iC(e,n,r)}_apply(e){return new Sn(e.firestore,e.converter,wy(e._query,this._limit,this._limitType))}}class sC extends m9{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new sC(e,n,r)}_apply(e){const n=KO(e,this.type,this._docOrFields,this._inclusive);return new Sn(e.firestore,e.converter,(a=n,new Z4((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class aC extends m9{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new aC(e,n,r)}_apply(e){const n=KO(e,this.type,this._docOrFields,this._inclusive);return new Sn(e.firestore,e.converter,(a=n,new Z4((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function KO(t,e,n,r){if(n[0]=(0,a2.m9)(n[0]),n[0]instanceof p9)return function(a,l,f,m,M){if(!m)throw new Se(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const V=[];for(const S of q6(a))if(S.field.isKeyField())V.push($6(l,m.key));else{const D=m.data.field(S.field);if(py(D))throw new Se(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const O=S.field.canonicalString();throw new Se(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}V.push(D)}return new Go(V,M)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const a=r0(t.firestore);return function(l,f,m,M,V,S){const D=l.explicitOrderBy;if(V.length>D.length)throw new Se(ce.INVALID_ARGUMENT,`Too many arguments provided to ${M}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let q=0;q<V.length;q++){const de=V[q];if(D[q].field.isKeyField()){if("string"!=typeof de)throw new Se(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${M}(), but got a ${typeof de}`);if(!NE(l)&&-1!==de.indexOf("/"))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${M}() must be a plain document ID, but '${de}' contains a slash.`);const Ae=l.path.child(t2.fromString(de));if(!Qe.isDocumentKey(Ae))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${M}() must result in a valid document path, but '${Ae}' is not because it contains an odd number of segments.`);const Pe=new Qe(Ae);O.push($6(f,Pe))}else{const Ae=$O(m,M,de);O.push(Ae)}}return new Go(O,S)}(t._query,t.firestore._databaseId,a,e,n,r)}}function YO(t,e,n){if("string"==typeof(n=(0,a2.m9)(n))){if(""===n)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NE(e)&&-1!==n.indexOf("/"))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(t2.fromString(n));if(!Qe.isDocumentKey(r))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $6(t,new Qe(r))}if(n instanceof F2)return $6(t,n._key);throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yy(n)}.`)}function QO(t,e){if(!Array.isArray(t)||0===t.length)throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JO(t,e){if(e.isInequality()){const r=My(t),a=e.field;if(null!==r&&!r.isEqual(a))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${a.toString()}'`);const l=TE(t);null!==l&&XO(0,a,l)}const n=function(r,a){for(const l of r)for(const f of l.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Se(ce.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function XO(t,e,n){if(!n.isEqual(e))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Az{convertValue(e,n="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return m1(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(W4(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ot()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oo(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertGeoPoint(e){return new Jy(m1(e.latitude),m1(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=my(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nf(e));default:return null}}convertTimestamp(e){const n=Fo(e);return new Q2(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=t2.fromString(e);Ct(hR(r));const a=new Bo(r.get(1),r.get(3)),l=new Qe(r.popFirst(5));return a.isEqual(n)||I1(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function oC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class W1e extends Az{constructor(e){super(),this.firestore=e}convertBytes(e){return new k3(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new F2(this.firestore,null,n)}}class a0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends p9{constructor(e,n,r,a,l,f){super(e,n,r,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new v9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class v9 extends ea{data(e={}){return super.data(e)}}class Xo{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new a0(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new v9(this._firestore,this._userDataWriter,r.key,r,new a0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new v9(r._firestore,r._userDataWriter,f.doc.key,f.doc,new a0(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const m=new v9(r._firestore,r._userDataWriter,f.doc.key,f.doc,new a0(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let M=-1,V=-1;return 0!==f.type&&(M=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),V=l.indexOf(f.doc.key)),{type:K1e(f.type),doc:m,oldIndex:M,newIndex:V}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function K1e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function tF(t,e){return t instanceof ea&&e instanceof ea?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Xo&&e instanceof Xo&&t._firestore===e._firestore&&Vz(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class ec extends Az{constructor(e){super(),this.firestore=e}convertBytes(e){return new k3(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new F2(this.firestore,null,n)}}function nF(t,e,n){t=Jt(t,F2);const r=Jt(t.firestore,B2),a=oC(t.converter,e,n);return K8(r,[eC(r0(r),"setDoc",t._key,a,null!==t.converter,n).toMutation(t._key,J2.none())])}function rF(t,e,n,...r){t=Jt(t,F2);const a=Jt(t.firestore,B2),l=r0(a);let f;return f="string"==typeof(e=(0,a2.m9)(e))||e instanceof X4?zz(l,"updateDoc",t._key,e,n,r):Sz(l,"updateDoc",t._key,e),K8(a,[f.toMutation(t._key,J2.exists(!0))])}function iF(t,...e){var n,r,a;t=(0,a2.m9)(t);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Iz(e[f])||(l=e[f],f++);const m={includeMetadataChanges:l.includeMetadataChanges};if(Iz(e[f])){const D=e[f];e[f]=null===(n=D.next)||void 0===n?void 0:n.bind(D),e[f+1]=null===(r=D.error)||void 0===r?void 0:r.bind(D),e[f+2]=null===(a=D.complete)||void 0===a?void 0:a.bind(D)}let M,V,S;if(t instanceof F2)V=Jt(t.firestore,B2),S=S8(t._key.path),M={next:D=>{e[f]&&e[f](Tz(V,t,D))},error:e[f+1],complete:e[f+2]};else{const D=Jt(t,Sn);V=Jt(D.firestore,B2),S=D._query;const O=new ec(V);M={next:q=>{e[f]&&e[f](new Xo(V,O,D,q))},error:e[f+1],complete:e[f+2]},ZO(t._query)}return function(D,O,q,de){const Ae=new qy(de),Pe=new jS(O,Ae,q);return D.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return RS(yield W8(D),Pe)})),()=>{Ae.Dc(),D.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return FS(yield W8(D),Pe)}))}}(S1(V),S,m,M)}function K8(t,e){return function(n,r){const a=new Y1;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function j2e(t,e,n){return ZS.apply(this,arguments)}(yield wz(n),r,a)})),a.promise}(S1(t),e)}function Tz(t,e,n){const r=n.docs.get(e._key),a=new ec(t);return new ea(t,a,e._key,r,new a0(n.hasPendingWrites,n.fromCache),e.converter)}const hne={maxAttempts:5};class sF{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=r0(e)}set(e,n,r){this._verifyNotCommitted();const a=tc(e,this._firestore),l=oC(a.converter,n,r),f=eC(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,r);return this._mutations.push(f.toMutation(a._key,J2.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const l=tc(e,this._firestore);let f;return f="string"==typeof(n=(0,a2.m9)(n))||n instanceof X4?zz(this._dataReader,"WriteBatch.update",l._key,n,r,a):Sz(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(f.toMutation(l._key,J2.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=tc(e,this._firestore);return this._mutations=this._mutations.concat(new D8(n._key,J2.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tc(t,e){if((t=(0,a2.m9)(t)).firestore!==e)throw new Se(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class pne extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=r0(e)}get(e){const n=tc(e,this._firestore),r=new W1e(this._firestore);return this._transaction.lookup([n._key]).then(a=>{if(!a||1!==a.length)return ot();const l=a[0];if(l.isFoundDocument())return new p9(this._firestore,r,l.key,l,n.converter);if(l.isNoDocument())return new p9(this._firestore,r,n._key,null,n.converter);throw ot()})}set(e,n,r){const a=tc(e,this._firestore),l=oC(a.converter,n,r),f=eC(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,r);return this._transaction.set(a._key,f),this}update(e,n,r,...a){const l=tc(e,this._firestore);let f;return f="string"==typeof(n=(0,a2.m9)(n))||n instanceof X4?zz(this._dataReader,"Transaction.update",l._key,n,r,a):Sz(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,f),this}delete(e){const n=tc(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=tc(e,this._firestore),r=new ec(this._firestore);return super.get(e).then(a=>new ea(this._firestore,r,n._key,a._document,new a0(!1,!1),n.converter))}}function Nz(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Se("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function oF(){if(typeof Uint8Array>"u")throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function cF(){if(!function Kee(){return typeof atob<"u"}())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){w8=P6.SDK_VERSION,(0,P6._registerComponent)(new Nv.wA("firestore",(n,{instanceIdentifier:r,options:a})=>{const l=n.getProvider("app").getImmediate(),f=new B2(new Cee(n.getProvider("auth-internal")),new wee(n.getProvider("app-check-internal")),function(m,M){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Se(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bo(m.options.projectId,M)}(l,r),l);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,P6.registerVersion)(Bk,"3.13.0",t),(0,P6.registerVersion)(Bk,"3.13.0","esm2017")}();class y9{constructor(e){this._delegate=e}static fromBase64String(e){return cF(),new y9(k3.fromBase64String(e))}static fromUint8Array(e){return oF(),new y9(k3.fromUint8Array(e))}toBase64(){return cF(),this._delegate.toBase64()}toUint8Array(){return oF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kz(t){return function bne(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Hne{enableIndexedDbPersistence(e,n){return function w1e(t,e){FO(t=Jt(t,B2));const n=S1(t);if(n._uninitializedComponentsProvider)throw new Se(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Oi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),a=new q8;return OO(n,a,new mz(a,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function b1e(t){FO(t=Jt(t,B2));const e=S1(t);if(e._uninitializedComponentsProvider)throw new Se(ce.FAILED_PRECONDITION,"SDK cache is already specified.");Oi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new q8;return OO(e,r,new _O(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function H1e(t){if(t._initialized&&!t._terminated)throw new Se(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Y1;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(n=(0,Me.Z)(function*(r){if(!Ls.D())return Promise.resolve();const a=r+"main";yield Ls.delete(a)}),function(r){return n.apply(this,arguments)})(oS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class lF{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Oi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function NO(t,e,n,r={}){var a;const l=(t=Jt(t,u9))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),r.mockUserToken){let m,M;if("string"==typeof r.mockUserToken)m=r.mockUserToken,M=hn.MOCK_USER;else{m=(0,a2.Sg)(r.mockUserToken,null===(a=t._app)||void 0===a?void 0:a.options.projectId);const V=r.mockUserToken.sub||r.mockUserToken.user_id;if(!V)throw new Se(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new hn(V)}t._authCredentials=new yee(new Uk(m,M))}}(this._delegate,e,n,r)}enableNetwork(){return function I1e(t){return function u1e(t){return t.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield bO(t),n=yield HO(t);return e.setNetworkEnabled(!0),function(r){const a=Je(r);return a.vu.delete(0),o9(a)}(n)}))}(S1(t=Jt(t,B2)))}(this._delegate)}disableNetwork(){return function E1e(t){return function f1e(t){return t.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield bO(t),n=yield HO(t);return e.setNetworkEnabled(!1),(r=(0,Me.Z)(function*(a){const l=Je(a);l.vu.add(0),yield O8(l),l.bu.set("Offline")}),function(a){return r.apply(this,arguments)})(n);var r}))}(S1(t=Jt(t,B2)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,LO("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function V1e(t){return function(e){const n=new Y1;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function W2e(t,e){return XS.apply(this,arguments)}(yield wz(e),n)})),n.promise}(S1(t=Jt(t,B2)))}(this._delegate)}onSnapshotsInSync(e){return function ine(t,e){return function p1e(t,e){const n=new qy(e);return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return r=yield W8(t),a=n,Je(r).ku.add(a),void a.next();var r,a})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return r=yield W8(t),a=n,void Je(r).ku.delete(a);var r,a}))}}(S1(t=Jt(t,B2)),Iz(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Y8(this,kO(this._delegate,e))}catch(n){throw ir(n,"collection()","Firestore.collection()")}}doc(e){try{return new Fi(this,Qy(this._delegate,e))}catch(n){throw ir(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new sr(this,function y1e(t,e){if(t=Jt(t,u9),Hz("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Sn(t,null,(n=e,new Z4(t2.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw ir(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mne(t,e,n){t=Jt(t,B2);const r=Object.assign(Object.assign({},hne),n);return function(a){if(a.maxAttempts<1)throw new Se(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,l,f){const m=new Y1;return a.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const M=yield function VO(t){return Zy(t).then(e=>e.datastore)}(a);new c1e(a.asyncQueue,M,f,l,m).run()})),m.promise}(S1(t),a=>e(new pne(t,a)),r)}(this._delegate,n=>e(new uF(this,n)))}batch(){return S1(this._delegate),new fF(new sF(this._delegate,e=>K8(this._delegate,e)))}loadBundle(e){return function S1e(t,e){const n=S1(t=Jt(t,B2)),r=new _1e;return function m1e(t,e,n,r){const a=function(l,f){let m;return m="string"==typeof l?KP().encode(l):l,M=function(M,V){if(M instanceof Uint8Array)return MO(M,V);if(M instanceof ArrayBuffer)return MO(new Uint8Array(M),V);if(M instanceof ReadableStream)return M.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new a1e(M,f);var M}(n,a9(e));t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function i1e(t,e,n){const r=Je(t);var a;(a=(0,Me.Z)(function*(l,f,m){try{const M=yield f.getMetadata();if(yield function(O,q){const de=Je(O),Ae=E1(q.createTime);return de.persistence.runTransaction("hasNewerBundle","readonly",Pe=>de.qs.getBundleMetadata(Pe,q.id)).then(Pe=>!!Pe&&Pe.createTime.compareTo(Ae)>=0)}(l.localStore,M))return yield f.close(),m._completeWith({taskState:"Success",documentsLoaded:(O=M).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);m._updateProgress(fO(M));const V=new P2e(M,l.localStore,f.serializer);let S=yield f.bc();for(;S;){const O=yield V.zu(S);O&&m._updateProgress(O),S=yield f.bc()}const D=yield V.complete();return yield J4(l,D.Ju,void 0),yield function(O,q){const de=Je(O);return de.persistence.runTransaction("Save bundle","readwrite",Ae=>de.qs.saveBundleMetadata(Ae,q))}(l.localStore,M),m._completeWith(D.progress),Promise.resolve(D.Hu)}catch(M){return Oi("SyncEngine",`Loading bundle failed with ${M}`),m._failWith(M),Promise.resolve(new Set)}var O}),function(l,f,m){return a.apply(this,arguments)})(r,e,n).then(a=>{r.sharedClientState.notifyBundleLoaded(a)})}(yield wz(t),a,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function z1e(t,e){return function g1e(t,e){return t.asyncQueue.enqueue((0,Me.Z)(function*(){return function(n,r){const a=Je(n);return a.persistence.runTransaction("Get named query","readonly",l=>a.qs.getNamedQuery(l,r))}(yield Ky(t),e)}))}(S1(t=Jt(t,B2)),e).then(n=>n?new Sn(t,null,n.query):null)}(this._delegate,e).then(n=>n?new sr(this,n):null)}}class cC extends Az{constructor(e){super(),this.firestore=e}convertBytes(e){return new y9(new k3(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Fi.forKey(n,this.firestore,null)}}class uF{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new cC(e)}get(e){const n=c0(e);return this._delegate.get(n).then(r=>new C9(this._firestore,new ea(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const a=c0(e);return r?(Nz("Transaction.set",r),this._delegate.set(a,n,r)):this._delegate.set(a,n),this}update(e,n,r,...a){const l=c0(e);return 2===arguments.length?this._delegate.update(l,n):this._delegate.update(l,n,r,...a),this}delete(e){const n=c0(e);return this._delegate.delete(n),this}}class fF{constructor(e){this._delegate=e}set(e,n,r){const a=c0(e);return r?(Nz("WriteBatch.set",r),this._delegate.set(a,n,r)):this._delegate.set(a,n),this}update(e,n,r,...a){const l=c0(e);return 2===arguments.length?this._delegate.update(l,n):this._delegate.update(l,n,r,...a),this}delete(e){const n=c0(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class o0{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new v9(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _9(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=o0.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(n);return l||(l=new o0(e,new cC(e),n),a.set(n,l)),l}}o0.INSTANCES=new WeakMap;class Fi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new cC(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fi(n,new F2(n._delegate,r,new Qe(e)))}static forKey(e,n,r){return new Fi(n,new F2(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Y8(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Y8(this.firestore,kO(this._delegate,e))}catch(n){throw ir(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,a2.m9)(e))instanceof F2&&PO(this._delegate,e)}set(e,n){n=Nz("DocumentReference.set",n);try{return n?nF(this._delegate,e,n):nF(this._delegate,e)}catch(r){throw ir(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?rF(this._delegate,e):rF(this._delegate,e,n,...r)}catch(a){throw ir(a,"updateDoc()","DocumentReference.update()")}}delete(){return function nne(t){return K8(Jt(t.firestore,B2),[new D8(t._key,J2.none())])}(this._delegate)}onSnapshot(...e){const n=dF(e),r=hF(e,a=>new C9(this.firestore,new ea(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return iF(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function Q1e(t){t=Jt(t,F2);const e=Jt(t.firestore,B2),n=S1(e),r=new ec(e);return function d1e(t,e){const n=new Y1;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(r=(0,Me.Z)(function*(a,l,f){try{const m=yield function(M,V){const S=Je(M);return S.persistence.runTransaction("read document","readonly",D=>S.localDocuments.getDocument(D,V))}(a,l);m.isFoundDocument()?f.resolve(m):m.isNoDocument()?f.resolve(null):f.reject(new Se(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const M=U8(m,`Failed to get document '${l} from cache`);f.reject(M)}}),function(a,l,f){return r.apply(this,arguments)})(yield Ky(t),e,n);var r})),n.promise}(n,t._key).then(a=>new ea(e,r,t._key,a,new a0(null!==a&&a.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function J1e(t){t=Jt(t,F2);const e=Jt(t.firestore,B2);return IO(S1(e),t._key,{source:"server"}).then(n=>Tz(e,t,n))}(this._delegate):function Y1e(t){t=Jt(t,F2);const e=Jt(t.firestore,B2);return IO(S1(e),t._key).then(n=>Tz(e,t,n))}(this._delegate),n.then(r=>new C9(this.firestore,new ea(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Fi(this.firestore,this._delegate.withConverter(e?o0.getInstance(this.firestore,e):null))}}function ir(t,e,n){return t.message=t.message.replace(e,n),t}function dF(t){for(const e of t)if("object"==typeof e&&!kz(e))return e;return{}}function hF(t,e){var n,r;let a;return a=kz(t[0])?t[0]:kz(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(n=a.error)||void 0===n?void 0:n.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class C9{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Fi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return tF(this._delegate,e._delegate)}}class _9 extends C9{data(e){const n=this._delegate.data(e);return function gee(t,e){t||ot()}(void 0!==n),n}}class sr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new cC(e)}where(e,n,r){try{return new sr(this.firestore,Jo(this._delegate,function O1e(t,e,n){const r=e,a=rC("where",t);return g9._create(a,r,n)}(e,n,r)))}catch(a){throw ir(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new sr(this.firestore,Jo(this._delegate,function F1e(t,e="asc"){const n=e,r=rC("orderBy",t);return Dz._create(r,n)}(e,n)))}catch(r){throw ir(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new sr(this.firestore,Jo(this._delegate,function B1e(t){return AO("limit",t),iC._create("limit",t,"F")}(e)))}catch(n){throw ir(n,"limit()","Query.limit()")}}limitToLast(e){try{return new sr(this.firestore,Jo(this._delegate,function U1e(t){return AO("limitToLast",t),iC._create("limitToLast",t,"L")}(e)))}catch(n){throw ir(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new sr(this.firestore,Jo(this._delegate,function j1e(...t){return sC._create("startAt",t,!0)}(...e)))}catch(n){throw ir(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new sr(this.firestore,Jo(this._delegate,function $1e(...t){return sC._create("startAfter",t,!1)}(...e)))}catch(n){throw ir(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new sr(this.firestore,Jo(this._delegate,function G1e(...t){return aC._create("endBefore",t,!1)}(...e)))}catch(n){throw ir(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new sr(this.firestore,Jo(this._delegate,function q1e(...t){return aC._create("endAt",t,!0)}(...e)))}catch(n){throw ir(n,"endAt()","Query.endAt()")}}isEqual(e){return Vz(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function ene(t){t=Jt(t,Sn);const e=Jt(t.firestore,B2),n=S1(e),r=new ec(e);return function h1e(t,e){const n=new Y1;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(r=(0,Me.Z)(function*(a,l,f){try{const m=yield Oy(a,l,!0),M=new pO(l,m.ir),V=M.sc(m.documents),S=M.applyChanges(V,!1);f.resolve(S.snapshot)}catch(m){const M=U8(m,`Failed to execute query '${l} against cache`);f.reject(M)}}),function(a,l,f){return r.apply(this,arguments)})(yield Ky(t),e,n);var r})),n.promise}(n,t._query).then(a=>new Xo(e,r,t,a))}(this._delegate):"server"===e?.source?function tne(t){t=Jt(t,Sn);const e=Jt(t.firestore,B2),n=S1(e),r=new ec(e);return EO(n,t._query,{source:"server"}).then(a=>new Xo(e,r,t,a))}(this._delegate):function X1e(t){t=Jt(t,Sn);const e=Jt(t.firestore,B2),n=S1(e),r=new ec(e);return ZO(t._query),EO(n,t._query).then(a=>new Xo(e,r,t,a))}(this._delegate),n.then(r=>new Pz(this.firestore,new Xo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=dF(e),r=hF(e,a=>new Pz(this.firestore,new Xo(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return iF(this._delegate,n,r)}withConverter(e){return new sr(this.firestore,this._delegate.withConverter(e?o0.getInstance(this.firestore,e):null))}}class Ine{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new _9(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Pz{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new sr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new _9(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Ine(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new _9(this._firestore,r))})}isEqual(e){return tF(this._delegate,e._delegate)}}class Y8 extends sr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fi(this.firestore,e):null}doc(e){try{return new Fi(this.firestore,void 0===e?Qy(this._delegate):Qy(this._delegate,e))}catch(n){throw ir(n,"doc()","CollectionReference.doc()")}}add(e){return function rne(t,e){const n=Jt(t.firestore,B2),r=Qy(t),a=oC(t.converter,e);return K8(n,[eC(r0(t.firestore),"addDoc",r._key,a,null!==t.converter,{}).toMutation(r._key,J2.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Fi(this.firestore,n))}isEqual(e){return PO(this._delegate,e._delegate)}withConverter(e){return new Y8(this.firestore,this._delegate.withConverter(e?o0.getInstance(this.firestore,e):null))}}function c0(t){return Jt(t,F2)}class Rz{constructor(...e){this._delegate=new X4(...e)}static documentId(){return new Rz(p1.keyField().canonicalString())}isEqual(e){return(e=(0,a2.m9)(e))instanceof X4&&this._delegate._internalPath.isEqual(e._internalPath)}}class l0{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vne(){return new Ez("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new l0(e)}static delete(){const e=function gne(){return new d9("deleteField")}();return e._methodName="FieldValue.delete",new l0(e)}static arrayUnion(...e){const n=function yne(...t){return new T1e("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new l0(n)}static arrayRemove(...e){const n=function Cne(...t){return new N1e("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new l0(n)}static increment(e){const n=function _ne(t){return new k1e("increment",t)}(e);return n._methodName="FieldValue.increment",new l0(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ene={Firestore:lF,GeoPoint:Jy,Timestamp:Q2,Blob:y9,Transaction:uF,WriteBatch:fF,DocumentReference:Fi,DocumentSnapshot:C9,Query:sr,QueryDocumentSnapshot:_9,QuerySnapshot:Pz,CollectionReference:Y8,FieldPath:Rz,FieldValue:l0,setLogLevel:function Vne(t){!function mee(t){ko.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function zne(t){(function Sne(t,e){t.INTERNAL.registerComponent(new Nv.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),a=n.getProvider("firestore").getImmediate();return e(r,a)},"PUBLIC").setServiceProps(Object.assign({},Ene)))})(t,(e,n)=>new lF(e,n,new Hne)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(oX.Z);var pF=T(8645),Lne=T(3019),lC=T(3093),nc=T(4664),xne=T(4552);class Dne extends pF.x{constructor(e=1/0,n=1/0,r=xne.l){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:l,_windowTime:f}=this;n||(r.push(e),!a&&r.push(l.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:a}=this,l=a.slice();for(let f=0;f<l.length&&!e.closed;f+=r?1:2)e.next(l[f]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:a}=this,l=(a?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!a){const f=n.now();let m=0;for(let M=1;M<r.length&&r[M]<=f;M+=2)m=M;m&&r.splice(0,m+1)}}}var Ane=T(3020);function mF(t,e,n){let r,a=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:n}=t):r=t??1/0,(0,Ane.B)({connector:()=>new Dne(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}const gF=(0,T(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Nne=T(6232);function Rne(t=One){return(0,k6.e)((e,n)=>{let r=!1;e.subscribe((0,p8.x)(n,a=>{r=!0,n.next(a)},()=>r?n.complete():n.error(t())))})}function One(){return new gF}var Fne=T(2737);var Une=T(4674);function vF(t,e){return(0,Une.m)(e)?(0,nc.w)(()=>t,e):(0,nc.w)(()=>t)}var Oz=T(5137);T(3182);const Bz=new Map,CF={activated:!1,tokenObservers:[]},Wne={initialized:!1,enabled:!1};function g1(t){return Bz.get(t)||Object.assign({},CF)}function fC(){return Wne}const Uz="https://content-firebaseappcheck.googleapis.com/v1",Qne="exchangeDebugToken",_F={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Xne{constructor(e,n,r,a,l){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,Me.Z)(function*(){n.stop();try{n.pending=new a2.BH,yield function ere(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new a2.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const zn=new a2.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function jz(t){if(!g1(t).activated)throw zn.create("use-before-activation",{appName:t.name})}function pC(t,e){return Gz.apply(this,arguments)}function Gz(){return Gz=(0,Me.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){const D=yield a.getHeartbeatsHeader();D&&(r["X-Firebase-Client"]=D)}const l={method:"POST",body:JSON.stringify(e),headers:r};let f,m;try{f=yield fetch(t,l)}catch(D){throw zn.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==f.status)throw zn.create("fetch-status-error",{httpStatus:f.status});try{m=yield f.json()}catch(D){throw zn.create("fetch-parse-error",{originalErrorMessage:D?.message})}const M=m.ttl.match(/^([\d.]+)(s)$/);if(!M||!M[2]||isNaN(Number(M[1])))throw zn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const V=1e3*Number(M[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+V,issuedAtTimeMillis:S}}),Gz.apply(this,arguments)}function MF(t,e){const{projectId:n,appId:r,apiKey:a}=t.options;return{url:`${Uz}/projects/${n}/apps/${r}:${Qne}?key=${a}`,body:{debug_token:e}}}const ire="firebase-app-check-database",sre=1,M9="firebase-app-check-store";let mC=null;function qz(){return qz=(0,Me.Z)(function*(t,e){const r=(yield function bF(){return mC||(mC=new Promise((t,e)=>{try{const n=indexedDB.open(ire,sre);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var a;e(zn.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(M9,{keyPath:"compositeKey"})}}catch(n){e(zn.create("storage-open",{originalErrorMessage:n?.message}))}}),mC)}()).transaction(M9,"readwrite"),l=r.objectStore(M9).put({compositeKey:t,value:e});return new Promise((f,m)=>{l.onsuccess=M=>{f()},r.onerror=M=>{var V;m(zn.create("storage-set",{originalErrorMessage:null===(V=M.target.error)||void 0===V?void 0:V.message}))}})}),qz.apply(this,arguments)}const w9=new Ao.Yd("@firebase/app-check");function Kz(t,e){return(0,a2.hl)()?function ore(t,e){return function HF(t,e){return qz.apply(this,arguments)}(function IF(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{w9.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Qz(){return fC().enabled}function Jz(){return Xz.apply(this,arguments)}function Xz(){return Xz=(0,Me.Z)(function*(){const t=fC();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Xz.apply(this,arguments)}const hre={error:"UNKNOWN_ERROR"};function pre(t){return a2.US.encodeString(JSON.stringify(t),!1)}function gC(t){return eL.apply(this,arguments)}function eL(){return eL=(0,Me.Z)(function*(t,e=!1){const n=t.app;jz(n);const r=g1(n);let l,a=r.token;if(a&&!Q8(a)&&(r.token=void 0,a=void 0),!a){const M=yield r.cachedTokenPromise;M&&(Q8(M)?a=M:yield Kz(n,void 0))}if(!e&&a&&Q8(a))return{token:a.token};let m,f=!1;if(Qz()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pC(MF(n,yield Jz()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),f=!0);const M=yield r.exchangeTokenPromise;return yield Kz(n,M),r.token=M,{token:M.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),f=!0),a=yield g1(n).exchangeTokenPromise}catch(M){"appCheck/throttled"===M.code?w9.warn(M.message):w9.error(M),l=M}return a?l?m=Q8(a)?{token:a.token,internalError:l}:LF(l):(m={token:a.token},r.token=a,yield Kz(n,a)):m=LF(l),f&&function zF(t,e){const n=g1(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,m),m}),eL.apply(this,arguments)}function tL(){return tL=(0,Me.Z)(function*(t){const e=t.app;jz(e);const{provider:n}=g1(e);if(Qz()){const r=yield Jz(),{token:a}=yield pC(MF(e,r),t.heartbeatServiceProvider);return{token:a}}{const{token:r}=yield n.getToken();return{token:r}}}),tL.apply(this,arguments)}function rL(t,e){const n=g1(t),r=n.tokenObservers.filter(a=>a.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function SF(t){const{app:e}=t,n=g1(e);let r=n.tokenRefresher;r||(r=function mre(t){const{app:e}=t;return new Xne((0,Me.Z)(function*(){let r;if(r=g1(e).token?yield gC(t,!0):yield gC(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=g1(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},_F.RETRIAL_MIN_WAIT,_F.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Q8(t){return t.expireTimeMillis-Date.now()>0}function LF(t){return{token:pre(hre),error:t}}class gre{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=g1(this.app);for(const n of e)rL(this.app,n.next);return Promise.resolve()}}const RF="app-check-internal";!function Lre(){(0,P6._registerComponent)(new Nv.wA("app-check",t=>function vre(t,e){return new gre(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(RF).initialize()})),(0,P6._registerComponent)(new Nv.wA(RF,t=>function yre(t){return{getToken:e=>gC(t,e),getLimitedUseToken:()=>function EF(t){return tL.apply(this,arguments)}(t),addTokenListener:e=>function nL(t,e,n,r){const{app:a}=t,l=g1(a);if(l.tokenObservers=[...l.tokenObservers,{next:n,error:r,type:e}],l.token&&Q8(l.token)){const m=l.token;Promise.resolve().then(()=>{n({token:m.token}),SF(t)}).catch(()=>{})}l.cachedTokenPromise.then(()=>SF(t))}(t,"INTERNAL",e),removeTokenListener:e=>rL(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,P6.registerVersion)("@firebase/app-check","0.8.0")}();class oL{constructor(){return(0,bn.vb)("app-check")}}typeof window<"u"&&window;var Nre=T(7142);const FF=new g.OlP("angularfire2.auth.use-emulator"),BF=new g.OlP("angularfire2.auth.settings"),UF=new g.OlP("angularfire2.auth.tenant-id"),jF=new g.OlP("angularfire2.auth.langugage-code"),$F=new g.OlP("angularfire2.auth.use-device-language"),GF=new g.OlP("angularfire.auth.persistence"),qF=(t,e,n,r,a,l,f,m)=>(0,Es.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const M=e.runOutsideAngular(()=>t.auth());if(n&&M.useEmulator(...n),r&&(M.tenantId=r),M.languageCode=a,l&&M.useDeviceLanguage(),f)for(const[V,S]of Object.entries(f))M.settings[V]=S;return m&&M.setPersistence(m),M},[n,r,a,l,f,m]);let WF=(()=>{class t{constructor(n,r,a,l,f,m,M,V,S,D,O,q){const de=new pF.x,Ae=(0,h8.of)(void 0).pipe((0,lC.Q)(f.outsideAngular),(0,nc.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(T.bind(T,5967)))),(0,si.U)(()=>(0,Es.on)(n,l,r)),(0,si.U)(Pe=>qF(Pe,l,m,V,S,D,M,O)),mF({bufferSize:1,refCount:!1}));if(Yn(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,h8.of)(null);else{Ae.pipe(function Bne(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Tv((a,l)=>t(a,l,r)):Fne.y,function kne(t){return t<=0?()=>Nne.E:(0,k6.e)((e,n)=>{let r=0;e.subscribe((0,p8.x)(n,a=>{++r<=t&&(n.next(a),t<=r&&n.complete())}))})}(1),n?function Pne(t){return(0,k6.e)((e,n)=>{let r=!1;e.subscribe((0,p8.x)(n,a=>{r=!0,n.next(a)},()=>{r||n.next(t),n.complete()}))})}(e):Rne(()=>new gF))}()).subscribe();const ft=Ae.pipe((0,nc.w)(vt=>vt.getRedirectResult().then(Ht=>Ht,()=>null)),bn.iC,mF({bufferSize:1,refCount:!1})),lt=Ae.pipe((0,nc.w)(vt=>new zI.y(Ht=>({unsubscribe:l.runOutsideAngular(()=>vt.onAuthStateChanged(Bt=>Ht.next(Bt),Bt=>Ht.error(Bt),()=>Ht.complete()))})))),st=Ae.pipe((0,nc.w)(vt=>new zI.y(Ht=>({unsubscribe:l.runOutsideAngular(()=>vt.onIdTokenChanged(Bt=>Ht.next(Bt),Bt=>Ht.error(Bt),()=>Ht.complete()))}))));this.authState=ft.pipe(vF(lt),(0,Oz.R)(f.outsideAngular),(0,lC.Q)(f.insideAngular)),this.user=ft.pipe(vF(st),(0,Oz.R)(f.outsideAngular),(0,lC.Q)(f.insideAngular)),this.idToken=this.user.pipe((0,nc.w)(vt=>vt?(0,N6.D)(vt.getIdToken()):(0,h8.of)(null))),this.idTokenResult=this.user.pipe((0,nc.w)(vt=>vt?(0,N6.D)(vt.getIdTokenResult()):(0,h8.of)(null))),this.credential=(0,Lne.T)(ft,de,this.authState.pipe(Tv(vt=>!vt))).pipe((0,si.U)(vt=>vt?.user?vt:null),(0,Oz.R)(f.outsideAngular),(0,lC.Q)(f.insideAngular))}return(0,Es.pX)(this,Ae,l,{spy:{apply:(Pe,ft,lt)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&lt.then(st=>de.next(st))}}})}}return t.\u0275fac=function(n){return new(n||t)(g.LFG(Es.Dh),g.LFG(Es.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(bn.HU),g.LFG(FF,8),g.LFG(BF,8),g.LFG(UF,8),g.LFG(jF,8),g.LFG($F,8),g.LFG(GF,8),g.LFG(oL,8))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function ZF(t,e){return function Pre(t,e=nX.z){return new zI.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function lL(t,e){return ZF(t,e).pipe((0,si.U)(n=>({payload:n,type:"query"})))}function yC(t,e){return lL(t,e).pipe(LI(void 0),xI(),(0,si.U)(([n,r])=>{const a=r.payload.docChanges(),l=a.map(f=>({type:f.type,payload:f}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,m)=>{const M=a.find(S=>S.doc.ref.isEqual(f.ref)),V=n?.payload.docs.find(S=>S.ref.isEqual(f.ref));M&&JSON.stringify(M.doc.metadata)===JSON.stringify(f.metadata)||!M&&V&&JSON.stringify(V.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),l}))}function KF(t,e,n){return yC(t,n).pipe(DI((r,a)=>function Ore(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function Fre(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return uL(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return uL(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uL(t,e.oldIndex,1)}return t}(t,r))}),t}(r,a.map(l=>l.payload),e),[]),(0,aX.x)(),(0,si.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function uL(t,e,n,...r){const a=t.slice();return a.splice(e,n,...r),a}function YF(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class QF{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=yC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,si.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),n.pipe(LI(void 0),xI(),Tv(([r,a])=>a.length>0||!r),(0,si.U)(([r,a])=>a),bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(DI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=YF(e);return KF(this.query,n,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return lL(this.query,this.afs.schedulers.outsideAngular).pipe((0,si.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),bn.iC)}get(e){return(0,N6.D)(this.query.get(e)).pipe(bn.iC)}add(e){return this.ref.add(e)}doc(e){return new JF(this.ref.doc(e),this.afs)}}class JF{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:a,query:l}=tB(r,n);return new QF(a,l,this.afs)}snapshotChanges(){return function Rre(t,e){return ZF(t,e).pipe(LI(void 0),xI(),(0,si.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,si.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,N6.D)(this.ref.get(e)).pipe(bn.iC)}}class Bre{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?yC(this.query,this.afs.schedulers.outsideAngular).pipe((0,si.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),Tv(n=>n.length>0),bn.iC):yC(this.query,this.afs.schedulers.outsideAngular).pipe(bn.iC)}auditTrail(e){return this.stateChanges(e).pipe(DI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=YF(e);return KF(this.query,n,this.afs.schedulers.outsideAngular).pipe(bn.iC)}valueChanges(e={}){return lL(this.query,this.afs.schedulers.outsideAngular).pipe((0,si.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),bn.iC)}get(e){return(0,N6.D)(this.query.get(e)).pipe(bn.iC)}}const XF=new g.OlP("angularfire2.enableFirestorePersistence"),eB=new g.OlP("angularfire2.firestore.persistenceSettings"),Ure=new g.OlP("angularfire2.firestore.settings"),jre=new g.OlP("angularfire2.firestore.use-emulator");function tB(t,e=(n=>n)){return{query:e(t),ref:t}}let nB=(()=>{class t{constructor(n,r,a,l,f,m,M,V,S,D,O,q,de,Ae,Pe,ft,lt){this.schedulers=M;const st=(0,Es.on)(n,m,r),vt=S;D&&qF(st,m,O,de,Ae,Pe,q,ft),[this.firestore,this.persistenceEnabled$]=(0,Es.cc)(`${st.name}.firestore`,"AngularFirestore",st.name,()=>{const Ht=m.runOutsideAngular(()=>st.firestore());if(l&&Ht.settings(l),vt&&Ht.useEmulator(...vt),a&&!Yn(f)){const Bt=()=>{try{return(0,N6.D)(Ht.enablePersistence(V||void 0).then(()=>!0,()=>!1))}catch(X2){return typeof console<"u"&&console.warn(X2),(0,h8.of)(!1)}};return[Ht,m.runOutsideAngular(Bt)]}return[Ht,(0,h8.of)(!1)]},[l,vt,a])}collection(n,r){let a;a="string"==typeof n?this.firestore.collection(n):n;const{ref:l,query:f}=tB(a,r),m=this.schedulers.ngZone.run(()=>l);return new QF(m,f,this)}collectionGroup(n,r){const a=r||(f=>f),l=this.firestore.collectionGroup(n);return new Bre(a(l),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const a=this.schedulers.ngZone.run(()=>r);return new JF(a,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(g.LFG(Es.Dh),g.LFG(Es.xv,8),g.LFG(XF,8),g.LFG(Ure,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(bn.HU),g.LFG(eB,8),g.LFG(jre,8),g.LFG(WF,8),g.LFG(FF,8),g.LFG(BF,8),g.LFG(UF,8),g.LFG(jF,8),g.LFG($F,8),g.LFG(GF,8),g.LFG(oL,8))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),$re=(()=>{class t{constructor(){Nre.Z.registerVersion("angularfire",bn.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:XF,useValue:!0},{provide:eB,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[nB]}),t})(),rB=(()=>{var t;class e{extractScan(){return this.dgAPI.planetScan()}updateScan(r){this.firestore.collection("scans",a=>a.where("location","==",r.planetScan.location).limit(1)).get().subscribe(a=>{let l=Object.assign(new gN,a.docChanges().map(f=>f.doc.data())[0]);l.location=r.planetScan.location,l.turn=r.planetScan.turn,l.owner=r.planetScan.owner,(r.type==On.RESOURCE||r.type==On.SURFACE)&&(l.orbit=r.planetScan.orbit,l.ground=r.planetScan.ground),r.type==On.RESOURCE&&(l.resources.length>0?l.resources.forEach((f,m)=>{f.abundance=r.planetScan.resources[m].abundance}):l.resources=r.planetScan.resources),r.type==On.SURFACE&&(l.resources=r.planetScan.resources,l.workers=r.planetScan.workers,l.soldiers=r.planetScan.soldiers,l.structures=r.planetScan.structures),r.type==On.FLEET&&(l.fleet=r.planetScan.fleet),0==a.size?this.firestore.collection("scans").add(JSON.parse(JSON.stringify(l))):this.firestore.collection("scans").doc(a.docs[0].id).set(JSON.parse(JSON.stringify(l)))})}constructor(){this.firestore=(0,g.f3M)(nB),this.dgAPI=(0,g.f3M)(Av)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Gre=(()=>{var t;class e{constructor(){this.scansService=(0,g.f3M)(rB)}ngOnInit(){null!=this.scansService.extractScan()&&this.scansService.updateScan(this.scansService.extractScan())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=g.Xpm({type:t,selectors:[["dgt-scans-panel"]],decls:2,vars:0,consts:[[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,a){1&r&&(g.TgZ(0,"p",0),g._uU(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),g.qZA())}}),e})();const qre_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR"};let Wre=(()=>{var t;class e{constructor(){}ngOnInit(){console.log("%cDGT%c - installed shared scans...","font-size: 12px; font-weight: bold;","font-size: 12px;")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=g.oAB({type:t,bootstrap:[Gre]}),t.\u0275inj=g.cJS({providers:[Av,rB],imports:[pr,wN,Es.hO.initializeApp(qre_firebase),$re]}),e})();const fL=n3();let CC=window.location.pathname.split(/\//g);fL.bootstrapModule(xJ).catch(t=>console.error(t)),"planets"===CC[1]&&fL.bootstrapModule(tX).catch(t=>console.error(t)),"planet"===CC[1]&&"comms"===(5===CC.length&&CC[3])&&fL.bootstrapModule(Wre).catch(t=>console.error(t))},3018:(ht,ze,T)=>{T.d(ze,{y:()=>R});var g=T(1887),X=T(7394),N=T(4850),se=T(2737);var ge=T(2653),Te=T(4674),we=T(1441);let R=(()=>{class xe{constructor(ve){ve&&(this._subscribe=ve)}lift(ve){const Be=new xe;return Be.source=this,Be.operator=ve,Be}subscribe(ve,Be,Oe){const at=function qe(xe){return xe&&xe instanceof g.Lv||function ie(xe){return xe&&(0,Te.m)(xe.next)&&(0,Te.m)(xe.error)&&(0,Te.m)(xe.complete)}(xe)&&(0,X.Nn)(xe)}(ve)?ve:new g.Hp(ve,Be,Oe);return(0,we.x)(()=>{const{operator:rt,source:Y}=this;at.add(rt?rt.call(at,Y):Y?this._subscribe(at):this._trySubscribe(at))}),at}_trySubscribe(ve){try{return this._subscribe(ve)}catch(Be){ve.error(Be)}}forEach(ve,Be){return new(Be=j(Be))((Oe,at)=>{const rt=new g.Hp({next:Y=>{try{ve(Y)}catch(he){at(he),rt.unsubscribe()}},error:at,complete:Oe});this.subscribe(rt)})}_subscribe(ve){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(ve)}[N.L](){return this}pipe(...ve){return function me(xe){return 0===xe.length?se.y:1===xe.length?xe[0]:function(ve){return xe.reduce((Be,Oe)=>Oe(Be),ve)}}(ve)(this)}toPromise(ve){return new(ve=j(ve))((Be,Oe)=>{let at;this.subscribe(rt=>at=rt,rt=>Oe(rt),()=>Be(at))})}}return xe.create=dt=>new xe(dt),xe})();function j(xe){var dt;return null!==(dt=xe??ge.config.Promise)&&void 0!==dt?dt:Promise}},8645:(ht,ze,T)=>{T.d(ze,{x:()=>ge});var g=T(3018),X=T(7394);const se=(0,T(2306).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=T(9039),me=T(1441);let ge=(()=>{class we extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const ie=new Te(this,this);return ie.operator=j,ie}_throwIfClosed(){if(this.closed)throw new se}next(j){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(j)}})}error(j){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:ie}=this;for(;ie.length;)ie.shift().error(j)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:ie,isStopped:qe,observers:xe}=this;return ie||qe?X.Lc:(this.currentObservers=null,xe.push(j),new X.w0(()=>{this.currentObservers=null,(0,ne.P)(xe,j)}))}_checkFinalizedStatuses(j){const{hasError:ie,thrownError:qe,isStopped:xe}=this;ie?j.error(qe):xe&&j.complete()}asObservable(){const j=new g.y;return j.source=this,j}}return we.create=(R,j)=>new Te(R,j),we})();class Te extends ge{constructor(R,j){super(),this.destination=R,this.source=j}next(R){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===ie||ie.call(j,R)}error(R){var j,ie;null===(ie=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===ie||ie.call(j,R)}complete(){var R,j;null===(j=null===(R=this.destination)||void 0===R?void 0:R.complete)||void 0===j||j.call(R)}_subscribe(R){var j,ie;return null!==(ie=null===(j=this.source)||void 0===j?void 0:j.subscribe(R))&&void 0!==ie?ie:X.Lc}}},1887:(ht,ze,T)=>{T.d(ze,{Hp:()=>ve,Lv:()=>ie});var g=T(4674),X=T(7394),N=T(2653),se=T(3894);function ne(){}const me=we("C",void 0,void 0);function we(Y,he,Q){return{kind:Y,value:he,error:Q}}var R=T(7599),j=T(1441);class ie extends X.w0{constructor(he){super(),this.isStopped=!1,he?(this.destination=he,(0,X.Nn)(he)&&he.add(this)):this.destination=rt}static create(he,Q,He){return new ve(he,Q,He)}next(he){this.isStopped?at(function Te(Y){return we("N",Y,void 0)}(he),this):this._next(he)}error(he){this.isStopped?at(function ge(Y){return we("E",void 0,Y)}(he),this):(this.isStopped=!0,this._error(he))}complete(){this.isStopped?at(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(he){this.destination.next(he)}_error(he){try{this.destination.error(he)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function xe(Y,he){return qe.call(Y,he)}class dt{constructor(he){this.partialObserver=he}next(he){const{partialObserver:Q}=this;if(Q.next)try{Q.next(he)}catch(He){Be(He)}}error(he){const{partialObserver:Q}=this;if(Q.error)try{Q.error(he)}catch(He){Be(He)}else Be(he)}complete(){const{partialObserver:he}=this;if(he.complete)try{he.complete()}catch(Q){Be(Q)}}}class ve extends ie{constructor(he,Q,He){let De;if(super(),(0,g.m)(he)||!he)De={next:he??void 0,error:Q??void 0,complete:He??void 0};else{let We;this&&N.config.useDeprecatedNextContext?(We=Object.create(he),We.unsubscribe=()=>this.unsubscribe(),De={next:he.next&&xe(he.next,We),error:he.error&&xe(he.error,We),complete:he.complete&&xe(he.complete,We)}):De=he}this.destination=new dt(De)}}function Be(Y){N.config.useDeprecatedSynchronousErrorHandling?(0,j.O)(Y):(0,se.h)(Y)}function at(Y,he){const{onStoppedNotification:Q}=N.config;Q&&R.z.setTimeout(()=>Q(Y,he))}const rt={closed:!0,next:ne,error:function Oe(Y){throw Y},complete:ne}},7394:(ht,ze,T)=>{T.d(ze,{Lc:()=>me,w0:()=>ne,Nn:()=>ge});var g=T(4674);const N=(0,T(2306).d)(we=>function(j){we(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((ie,qe)=>`${qe+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var se=T(9039);class ne{constructor(R){this.initialTeardown=R,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let R;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const xe of j)xe.remove(this);else j.remove(this);const{initialTeardown:ie}=this;if((0,g.m)(ie))try{ie()}catch(xe){R=xe instanceof N?xe.errors:[xe]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const xe of qe)try{Te(xe)}catch(dt){R=R??[],dt instanceof N?R=[...R,...dt.errors]:R.push(dt)}}if(R)throw new N(R)}}add(R){var j;if(R&&R!==this)if(this.closed)Te(R);else{if(R instanceof ne){if(R.closed||R._hasParent(this))return;R._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(R)}}_hasParent(R){const{_parentage:j}=this;return j===R||Array.isArray(j)&&j.includes(R)}_addParent(R){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(R),j):j?[j,R]:R}_removeParent(R){const{_parentage:j}=this;j===R?this._parentage=null:Array.isArray(j)&&(0,se.P)(j,R)}remove(R){const{_finalizers:j}=this;j&&(0,se.P)(j,R),R instanceof ne&&R._removeParent(this)}}ne.EMPTY=(()=>{const we=new ne;return we.closed=!0,we})();const me=ne.EMPTY;function ge(we){return we instanceof ne||we&&"closed"in we&&(0,g.m)(we.remove)&&(0,g.m)(we.add)&&(0,g.m)(we.unsubscribe)}function Te(we){(0,g.m)(we)?we():we.unsubscribe()}},2653:(ht,ze,T)=>{T.d(ze,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ht,ze,T)=>{T.d(ze,{E:()=>X});const X=new(T(3018).y)(ne=>ne.complete())},2459:(ht,ze,T)=>{T.d(ze,{D:()=>he});var g=T(4829),X=T(3093),N=T(5137),me=T(3018),Te=T(4971),we=T(4674),R=T(7103);function ie(Q,He){if(!Q)throw new Error("Iterable cannot be null");return new me.y(De=>{(0,R.f)(De,He,()=>{const We=Q[Symbol.asyncIterator]();(0,R.f)(De,He,()=>{We.next().then(re=>{re.done?De.complete():De.next(re.value)})},0,!0)})})}var qe=T(8382),xe=T(4026),dt=T(4266),ve=T(3664),Be=T(5726),Oe=T(9853),at=T(541);function he(Q,He){return He?function Y(Q,He){if(null!=Q){if((0,qe.c)(Q))return function se(Q,He){return(0,g.Xf)(Q).pipe((0,N.R)(He),(0,X.Q)(He))}(Q,He);if((0,dt.z)(Q))return function ge(Q,He){return new me.y(De=>{let We=0;return He.schedule(function(){We===Q.length?De.complete():(De.next(Q[We++]),De.closed||this.schedule())})})}(Q,He);if((0,xe.t)(Q))return function ne(Q,He){return(0,g.Xf)(Q).pipe((0,N.R)(He),(0,X.Q)(He))}(Q,He);if((0,Be.D)(Q))return ie(Q,He);if((0,ve.T)(Q))return function j(Q,He){return new me.y(De=>{let We;return(0,R.f)(De,He,()=>{We=Q[Te.h](),(0,R.f)(De,He,()=>{let re,ct;try{({value:re,done:ct}=We.next())}catch(Pt){return void De.error(Pt)}ct?De.complete():De.next(re)},0,!0)}),()=>(0,we.m)(We?.return)&&We.return()})}(Q,He);if((0,at.L)(Q))return function rt(Q,He){return ie((0,at.Q)(Q),He)}(Q,He)}throw(0,Oe.z)(Q)}(Q,He):(0,g.Xf)(Q)}},4829:(ht,ze,T)=>{T.d(ze,{Xf:()=>qe});var g=T(7582),X=T(4266),N=T(4026),se=T(3018),ne=T(8382),me=T(5726),ge=T(9853),Te=T(3664),we=T(541),R=T(4674),j=T(3894),ie=T(4850);function qe(Y){if(Y instanceof se.y)return Y;if(null!=Y){if((0,ne.c)(Y))return function xe(Y){return new se.y(he=>{const Q=Y[ie.L]();if((0,R.m)(Q.subscribe))return Q.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Y);if((0,X.z)(Y))return function dt(Y){return new se.y(he=>{for(let Q=0;Q<Y.length&&!he.closed;Q++)he.next(Y[Q]);he.complete()})}(Y);if((0,N.t)(Y))return function ve(Y){return new se.y(he=>{Y.then(Q=>{he.closed||(he.next(Q),he.complete())},Q=>he.error(Q)).then(null,j.h)})}(Y);if((0,me.D)(Y))return Oe(Y);if((0,Te.T)(Y))return function Be(Y){return new se.y(he=>{for(const Q of Y)if(he.next(Q),he.closed)return;he.complete()})}(Y);if((0,we.L)(Y))return function at(Y){return Oe((0,we.Q)(Y))}(Y)}throw(0,ge.z)(Y)}function Oe(Y){return new se.y(he=>{(function rt(Y,he){var Q,He,De,We;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Q=(0,g.KL)(Y);!(He=yield Q.next()).done;)if(he.next(He.value),he.closed)return}catch(re){De={error:re}}finally{try{He&&!He.done&&(We=Q.return)&&(yield We.call(Q))}finally{if(De)throw De.error}}he.complete()})})(Y,he).catch(Q=>he.error(Q))})}},3019:(ht,ze,T)=>{T.d(ze,{T:()=>me});var g=T(2372),X=T(4829),N=T(6232),se=T(4564),ne=T(2459);function me(...ge){const Te=(0,se.yG)(ge),we=(0,se._6)(ge,1/0),R=ge;return R.length?1===R.length?(0,X.Xf)(R[0]):(0,g.J)(we)((0,ne.D)(R,Te)):N.E}},2096:(ht,ze,T)=>{T.d(ze,{of:()=>N});var g=T(4564),X=T(2459);function N(...se){const ne=(0,g.yG)(se);return(0,X.D)(se,ne)}},8251:(ht,ze,T)=>{T.d(ze,{x:()=>X});var g=T(1887);function X(se,ne,me,ge,Te){return new N(se,ne,me,ge,Te)}class N extends g.Lv{constructor(ne,me,ge,Te,we,R){super(ne),this.onFinalize=we,this.shouldUnsubscribe=R,this._next=me?function(j){try{me(j)}catch(ie){ne.error(ie)}}:super._next,this._error=Te?function(j){try{Te(j)}catch(ie){ne.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(j){ne.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},3997:(ht,ze,T)=>{T.d(ze,{x:()=>se});var g=T(2737),X=T(9360),N=T(8251);function se(me,ge=g.y){return me=me??ne,(0,X.e)((Te,we)=>{let R,j=!0;Te.subscribe((0,N.x)(we,ie=>{const qe=ge(ie);(j||!me(R,qe))&&(j=!1,R=qe,we.next(ie))}))})}function ne(me,ge){return me===ge}},7398:(ht,ze,T)=>{T.d(ze,{U:()=>N});var g=T(9360),X=T(8251);function N(se,ne){return(0,g.e)((me,ge)=>{let Te=0;me.subscribe((0,X.x)(ge,we=>{ge.next(se.call(ne,we,Te++))}))})}},2372:(ht,ze,T)=>{T.d(ze,{J:()=>R});var g=T(7398),X=T(4829),N=T(9360),se=T(7103),ne=T(8251),ge=T(4674);function Te(j,ie,qe=1/0){return(0,ge.m)(ie)?Te((xe,dt)=>(0,g.U)((ve,Be)=>ie(xe,ve,dt,Be))((0,X.Xf)(j(xe,dt))),qe):("number"==typeof ie&&(qe=ie),(0,N.e)((xe,dt)=>function me(j,ie,qe,xe,dt,ve,Be,Oe){const at=[];let rt=0,Y=0,he=!1;const Q=()=>{he&&!at.length&&!rt&&ie.complete()},He=We=>rt<xe?De(We):at.push(We),De=We=>{ve&&ie.next(We),rt++;let re=!1;(0,X.Xf)(qe(We,Y++)).subscribe((0,ne.x)(ie,ct=>{dt?.(ct),ve?He(ct):ie.next(ct)},()=>{re=!0},void 0,()=>{if(re)try{for(rt--;at.length&&rt<xe;){const ct=at.shift();Be?(0,se.f)(ie,Be,()=>De(ct)):De(ct)}Q()}catch(ct){ie.error(ct)}}))};return j.subscribe((0,ne.x)(ie,He,()=>{he=!0,Q()})),()=>{Oe?.()}}(xe,dt,j,qe)))}var we=T(2737);function R(j=1/0){return Te(we.y,j)}},3093:(ht,ze,T)=>{T.d(ze,{Q:()=>se});var g=T(7103),X=T(9360),N=T(8251);function se(ne,me=0){return(0,X.e)((ge,Te)=>{ge.subscribe((0,N.x)(Te,we=>(0,g.f)(Te,ne,()=>Te.next(we),me),()=>(0,g.f)(Te,ne,()=>Te.complete(),me),we=>(0,g.f)(Te,ne,()=>Te.error(we),me)))})}},3020:(ht,ze,T)=>{T.d(ze,{B:()=>ne});var g=T(4829),X=T(8645),N=T(1887),se=T(9360);function ne(ge={}){const{connector:Te=(()=>new X.x),resetOnError:we=!0,resetOnComplete:R=!0,resetOnRefCountZero:j=!0}=ge;return ie=>{let qe,xe,dt,ve=0,Be=!1,Oe=!1;const at=()=>{xe?.unsubscribe(),xe=void 0},rt=()=>{at(),qe=dt=void 0,Be=Oe=!1},Y=()=>{const he=qe;rt(),he?.unsubscribe()};return(0,se.e)((he,Q)=>{ve++,!Oe&&!Be&&at();const He=dt=dt??Te();Q.add(()=>{ve--,0===ve&&!Oe&&!Be&&(xe=me(Y,j))}),He.subscribe(Q),!qe&&ve>0&&(qe=new N.Hp({next:De=>He.next(De),error:De=>{Oe=!0,at(),xe=me(rt,we,De),He.error(De)},complete:()=>{Be=!0,at(),xe=me(rt,R),He.complete()}}),(0,g.Xf)(he).subscribe(qe))})(ie)}}function me(ge,Te,...we){if(!0===Te)return void ge();if(!1===Te)return;const R=new N.Hp({next:()=>{R.unsubscribe(),ge()}});return(0,g.Xf)(Te(...we)).subscribe(R)}},5137:(ht,ze,T)=>{T.d(ze,{R:()=>X});var g=T(9360);function X(N,se=0){return(0,g.e)((ne,me)=>{me.add(N.schedule(()=>ne.subscribe(me),se))})}},4664:(ht,ze,T)=>{T.d(ze,{w:()=>se});var g=T(4829),X=T(9360),N=T(8251);function se(ne,me){return(0,X.e)((ge,Te)=>{let we=null,R=0,j=!1;const ie=()=>j&&!we&&Te.complete();ge.subscribe((0,N.x)(Te,qe=>{we?.unsubscribe();let xe=0;const dt=R++;(0,g.Xf)(ne(qe,dt)).subscribe(we=(0,N.x)(Te,ve=>Te.next(me?me(qe,ve,dt,xe++):ve),()=>{we=null,ie()}))},()=>{j=!0,ie()}))})}},1954:(ht,ze,T)=>{T.d(ze,{o:()=>ne});var g=T(7394);class X extends g.w0{constructor(ge,Te){super()}schedule(ge,Te=0){return this}}const N={setInterval(me,ge,...Te){const{delegate:we}=N;return we?.setInterval?we.setInterval(me,ge,...Te):setInterval(me,ge,...Te)},clearInterval(me){const{delegate:ge}=N;return(ge?.clearInterval||clearInterval)(me)},delegate:void 0};var se=T(9039);class ne extends X{constructor(ge,Te){super(ge,Te),this.scheduler=ge,this.work=Te,this.pending=!1}schedule(ge,Te=0){var we;if(this.closed)return this;this.state=ge;const R=this.id,j=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(j,R,Te)),this.pending=!0,this.delay=Te,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(j,this.id,Te),this}requestAsyncId(ge,Te,we=0){return N.setInterval(ge.flush.bind(ge,this),we)}recycleAsyncId(ge,Te,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return Te;null!=Te&&N.clearInterval(Te)}execute(ge,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(ge,Te);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,Te){let R,we=!1;try{this.work(ge)}catch(j){we=!0,R=j||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),R}unsubscribe(){if(!this.closed){const{id:ge,scheduler:Te}=this,{actions:we}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(we,this),null!=ge&&(this.id=this.recycleAsyncId(Te,ge,null)),this.delay=null,super.unsubscribe()}}}},2631:(ht,ze,T)=>{T.d(ze,{v:()=>N});var g=T(4552);class X{constructor(ne,me=X.now){this.schedulerActionCtor=ne,this.now=me}schedule(ne,me=0,ge){return new this.schedulerActionCtor(this,ne).schedule(ge,me)}}X.now=g.l.now;class N extends X{constructor(ne,me=X.now){super(ne,me),this.actions=[],this._active=!1}flush(ne){const{actions:me}=this;if(this._active)return void me.push(ne);let ge;this._active=!0;do{if(ge=ne.execute(ne.state,ne.delay))break}while(ne=me.shift());if(this._active=!1,ge){for(;ne=me.shift();)ne.unsubscribe();throw ge}}}},6321:(ht,ze,T)=>{T.d(ze,{z:()=>N});var g=T(1954);const N=new(T(2631).v)(g.o)},4552:(ht,ze,T)=>{T.d(ze,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(ht,ze,T)=>{T.d(ze,{z:()=>g});const g={setTimeout(X,N,...se){const{delegate:ne}=g;return ne?.setTimeout?ne.setTimeout(X,N,...se):setTimeout(X,N,...se)},clearTimeout(X){const{delegate:N}=g;return(N?.clearTimeout||clearTimeout)(X)},delegate:void 0}},4971:(ht,ze,T)=>{T.d(ze,{h:()=>X});const X=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ht,ze,T)=>{T.d(ze,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ht,ze,T)=>{T.d(ze,{_6:()=>me,yG:()=>ne});var g=T(4674);function N(ge){return ge[ge.length-1]}function ne(ge){return function X(ge){return ge&&(0,g.m)(ge.schedule)}(N(ge))?ge.pop():void 0}function me(ge,Te){return"number"==typeof N(ge)?ge.pop():Te}},9039:(ht,ze,T)=>{function g(X,N){if(X){const se=X.indexOf(N);0<=se&&X.splice(se,1)}}T.d(ze,{P:()=>g})},2306:(ht,ze,T)=>{function g(X){const se=X(ne=>{Error.call(ne),ne.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}T.d(ze,{d:()=>g})},1441:(ht,ze,T)=>{T.d(ze,{O:()=>se,x:()=>N});var g=T(2653);let X=null;function N(ne){if(g.config.useDeprecatedSynchronousErrorHandling){const me=!X;if(me&&(X={errorThrown:!1,error:null}),ne(),me){const{errorThrown:ge,error:Te}=X;if(X=null,ge)throw Te}}else ne()}function se(ne){g.config.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ne)}},7103:(ht,ze,T)=>{function g(X,N,se,ne=0,me=!1){const ge=N.schedule(function(){se(),me?X.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(X.add(ge),!me)return ge}T.d(ze,{f:()=>g})},2737:(ht,ze,T)=>{function g(X){return X}T.d(ze,{y:()=>g})},4266:(ht,ze,T)=>{T.d(ze,{z:()=>g});const g=X=>X&&"number"==typeof X.length&&"function"!=typeof X},5726:(ht,ze,T)=>{T.d(ze,{D:()=>X});var g=T(4674);function X(N){return Symbol.asyncIterator&&(0,g.m)(N?.[Symbol.asyncIterator])}},4674:(ht,ze,T)=>{function g(X){return"function"==typeof X}T.d(ze,{m:()=>g})},8382:(ht,ze,T)=>{T.d(ze,{c:()=>N});var g=T(4850),X=T(4674);function N(se){return(0,X.m)(se[g.L])}},3664:(ht,ze,T)=>{T.d(ze,{T:()=>N});var g=T(4971),X=T(4674);function N(se){return(0,X.m)(se?.[g.h])}},4026:(ht,ze,T)=>{T.d(ze,{t:()=>X});var g=T(4674);function X(N){return(0,g.m)(N?.then)}},541:(ht,ze,T)=>{T.d(ze,{L:()=>se,Q:()=>N});var g=T(7582),X=T(4674);function N(ne){return(0,g.FC)(this,arguments,function*(){const ge=ne.getReader();try{for(;;){const{value:Te,done:we}=yield(0,g.qq)(ge.read());if(we)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Te)}}finally{ge.releaseLock()}})}function se(ne){return(0,X.m)(ne?.getReader)}},9360:(ht,ze,T)=>{T.d(ze,{e:()=>N});var g=T(4674);function N(se){return ne=>{if(function X(se){return(0,g.m)(se?.lift)}(ne))return ne.lift(function(me){try{return se(me,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3894:(ht,ze,T)=>{T.d(ze,{h:()=>N});var g=T(2653),X=T(7599);function N(se){X.z.setTimeout(()=>{const{onUnhandledError:ne}=g.config;if(!ne)throw se;ne(se)})}},9853:(ht,ze,T)=>{function g(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(ze,{z:()=>g})},7989:(ht,ze,T)=>{T.d(ze,{AFp:()=>rd,hGG:()=>mV,Ojb:()=>s_,sBO:()=>eV,EJc:()=>wH,SBq:()=>ao,qLn:()=>D4,OlP:()=>s2,zs3:()=>ei,ZZ4:()=>N7,aQg:()=>k7,soG:()=>t8,h0i:()=>O4,R0b:()=>un,FiY:()=>y3,Lbi:()=>x5,g9A:()=>L5,Qsj:()=>y_,FYo:()=>fd,JOm:()=>$a,q3G:()=>S4,Rgc:()=>b6,dDg:()=>UH,eoX:()=>xg,q4F:()=>dd,GfV:()=>O5,s_b:()=>Zl,ifc:()=>Ee,Lck:()=>fb,eFA:()=>Ng,f3M:()=>Lt,X6Q:()=>XH,_c5:()=>pV,rg0:()=>Zs,zSh:()=>E5,wAp:()=>Mo,vHH:()=>Y,lri:()=>zg,rWj:()=>Lg,JZr:()=>rt,EiD:()=>il,mCW:()=>Qc,qzn:()=>eo,JVY:()=>DC,pB0:()=>NC,eBb:()=>TC,L6k:()=>AC,LAX:()=>v5,cg1:()=>Fl,kL8:()=>Lp,dqk:()=>Yt,QGY:()=>Al,F4k:()=>kh,RDi:()=>IC,AaK:()=>ie,z3N:()=>Ai,TTD:()=>Mi,xp6:()=>K5,uIk:()=>cu,ekj:()=>xu,Xpm:()=>As,lG2:()=>hi,Yz7:()=>xt,cJS:()=>p2,oAB:()=>Wi,Yjl:()=>U3,Y36:()=>co,_UZ:()=>Dl,qZA:()=>xl,TgZ:()=>Ll,Ikx:()=>Ol,LFG:()=>wt,$8M:()=>Kr,oxw:()=>Uh,ALo:()=>Sm,lcZ:()=>zm,Dn7:()=>Lm,Hsn:()=>$h,F$t:()=>jh,Q6J:()=>yu,DdM:()=>Cm,VKq:()=>_m,oJD:()=>Z9,Akn:()=>ni,YNc:()=>Lh,_uU:()=>dp,Oqu:()=>ku});var g=T(8645),X=T(7394);class N extends g.x{constructor(s){super(),this._value=s}get value(){return this.getValue()}_subscribe(s){const o=super._subscribe(s);return!o.closed&&s.next(this._value),o}getValue(){const{hasError:s,thrownError:o,_value:c}=this;if(s)throw o;return this._throwIfClosed(),c}next(s){super.next(this._value=s)}}var se=T(3018),ne=T(3019),me=T(2096),ge=T(3020),Te=T(4664),we=T(3997);function R(i){for(let s in i)if(i[s]===R)return s;throw Error("Could not find renamed property on target object.")}function ie(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ie).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function qe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const xe=R({__forward_ref__:R});function dt(i){return i.__forward_ref__=dt,i.toString=function(){return ie(this())},i}function ve(i){return function Be(i){return"function"==typeof i&&i.hasOwnProperty(xe)&&i.__forward_ref__===dt}(i)?i():i}function Oe(i){return i&&!!i.\u0275providers}const rt="https://g.co/ng/security#xss";class Y extends Error{constructor(s,o){super(function he(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,o)),this.code=s}}function Q(i){return"string"==typeof i?i:null==i?"":String(i)}function ct(i,s){throw new Y(-201,!1)}function Xe(i,s){null==i&&function je(i,s,o,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${o} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function p2(i){return{providers:i.providers||[],imports:i.imports||[]}}function t1(i){return v1(i,F1)||v1(i,ar)}function v1(i,s){return i.hasOwnProperty(s)?i[s]:null}function Er(i){return i&&(i.hasOwnProperty(B1)||i.hasOwnProperty(Bi))?i[B1]:null}const F1=R({\u0275prov:R}),B1=R({\u0275inj:R}),ar=R({ngInjectableDef:R}),Bi=R({ngInjectorDef:R});var mt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(mt||{});let Rt;function r2(i){const s=Rt;return Rt=i,s}function m2(i,s,o){const c=t1(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&mt.Optional?null:void 0!==s?s:void ct(ie(i))}const Yt=globalThis,D1={},I2="__NG_DI_FLAG__",X1="ngTempTokenPath",F=/\n/gm,G="__source";let _e;function Ke(i){const s=_e;return _e=i,s}function St(i,s=mt.Default){if(void 0===_e)throw new Y(-203,!1);return null===_e?m2(i,void 0,s):_e.get(i,s&mt.Optional?null:void 0,s)}function wt(i,s=mt.Default){return(function zt(){return Rt}()||St)(ve(i),s)}function Lt(i,s=mt.Default){return wt(i,C2(s))}function C2(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Ut(i){const s=[];for(let o=0;o<i.length;o++){const c=ve(i[o]);if(Array.isArray(c)){if(0===c.length)throw new Y(900,!1);let u,h=mt.Default;for(let v=0;v<c.length;v++){const _=c[v],b=Ln(_);"number"==typeof b?-1===b?u=_.token:h|=b:u=_}s.push(wt(u,h))}else s.push(wt(c))}return s}function T2(i,s){return i[I2]=s,i.prototype[I2]=s,i}function Ln(i){return i[I2]}function oe(i){return{toString:i}.toString()}var J=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(J||{}),Ee=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Ee||{});const it={},Ge=[],Dt=R({\u0275cmp:R}),Zt=R({\u0275dir:R}),E2=R({\u0275pipe:R}),S2=R({\u0275mod:R}),r1=R({\u0275fac:R}),xn=R({__NG_ELEMENT_ID__:R}),ui=R({__NG_ENV_ID__:R});function P3(i,s,o){let c=i.length;for(;;){const u=i.indexOf(s,o);if(-1===u)return u;if(0===u||i.charCodeAt(u-1)<=32){const h=s.length;if(u+h===c||i.charCodeAt(u+h)<=32)return u}o=u+1}}function fi(i,s,o){let c=0;for(;c<o.length;){const u=o[c];if("number"==typeof u){if(0!==u)break;c++;const h=o[c++],v=o[c++],_=o[c++];i.setAttribute(s,v,_,h)}else{const h=u,v=o[++c];tn(h)?i.setProperty(s,h,v):i.setAttribute(s,h,v),c++}}return c}function R3(i){return 3===i||4===i||6===i}function tn(i){return 64===i.charCodeAt(0)}function Lr(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let c=0;c<s.length;c++){const u=s[c];"number"==typeof u?o=u:0===o||$i(i,o,u,null,-1===o||2===o?s[++c]:null)}}return i}function $i(i,s,o,c,u){let h=0,v=i.length;if(-1===s)v=-1;else for(;h<i.length;){const _=i[h++];if("number"==typeof _){if(_===s){v=-1;break}if(_>s){v=h-1;break}}}for(;h<i.length;){const _=i[h];if("number"==typeof _)break;if(_===o){if(null===c)return void(null!==u&&(i[h+1]=u));if(c===i[h+1])return void(i[h+2]=u)}h++,null!==c&&h++,null!==u&&h++}-1!==v&&(i.splice(v,0,s),h=v+1),i.splice(h++,0,o),null!==c&&i.splice(h++,0,c),null!==u&&i.splice(h++,0,u)}const O3="ng-template";function z2(i,s,o){let c=0,u=!0;for(;c<i.length;){let h=i[c++];if("string"==typeof h&&u){const v=i[c++];if(o&&"class"===h&&-1!==P3(v.toLowerCase(),s,0))return!0}else{if(1===h){for(;c<i.length&&"string"==typeof(h=i[c++]);)if(h.toLowerCase()===s)return!0;return!1}"number"==typeof h&&(u=!1)}}return!1}function Gi(i){return 4===i.type&&i.value!==O3}function u0(i,s,o){return s===(4!==i.type||o?i.value:O3)}function rc(i,s,o){let c=4;const u=i.attrs||[],h=function f0(i){for(let s=0;s<i.length;s++)if(R3(i[s]))return s;return i.length}(u);let v=!1;for(let _=0;_<s.length;_++){const b=s[_];if("number"!=typeof b){if(!v)if(4&c){if(c=2|1&c,""!==b&&!u0(i,b,o)||""===b&&1===s.length){if(A1(c))return!1;v=!0}}else{const E=8&c?b:s[++_];if(8&c&&null!==i.attrs){if(!z2(i.attrs,E,o)){if(A1(c))return!1;v=!0}continue}const k=di(8&c?"class":b,u,Gi(i),o);if(-1===k){if(A1(c))return!1;v=!0;continue}if(""!==E){let $;$=k>h?"":u[k+1].toLowerCase();const Z=8&c?$:null;if(Z&&-1!==P3(Z,E,0)||2&c&&E!==$){if(A1(c))return!1;v=!0}}}}else{if(!v&&!A1(c)&&!A1(b))return!1;if(v&&A1(b))continue;v=!1,c=b|1&c}}return A1(c)||v}function A1(i){return 0==(1&i)}function di(i,s,o,c){if(null===s)return-1;let u=0;if(c||!o){let h=!1;for(;u<s.length;){const v=s[u];if(v===i)return u;if(3===v||6===v)h=!0;else{if(1===v||2===v){let _=s[++u];for(;"string"==typeof _;)_=s[++u];continue}if(4===v)break;if(0===v){u+=4;continue}}u+=h?1:2}return-1}return function xr(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const c=i[o];if("number"==typeof c)return-1;if(c===s)return o;o++}return-1}(s,i)}function F3(i,s,o=!1){for(let c=0;c<s.length;c++)if(rc(i,s[c],o))return!0;return!1}function ic(i,s){e:for(let o=0;o<s.length;o++){const c=s[o];if(i.length===c.length){for(let u=0;u<i.length;u++)if(i[u]!==c[u])continue e;return!0}}return!1}function qi(i,s){return i?":not("+s.trim()+")":s}function na(i){let s=i[0],o=1,c=2,u="",h=!1;for(;o<i.length;){let v=i[o];if("string"==typeof v)if(2&c){const _=i[++o];u+="["+v+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?u+="."+v:4&c&&(u+=" "+v);else""!==u&&!A1(v)&&(s+=qi(h,u),u=""),c=v,h=h||!A1(c);o++}return""!==u&&(s+=qi(h,u)),s}function As(i){return oe(()=>{const s=j3(i),o={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===J.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Ee.Emulated,styles:i.styles||Ge,_:null,schemas:i.schemas||null,tView:null,id:""};sc(o);const c=i.dependencies;return o.directiveDefs=Zi(c,!1),o.pipeDefs=Zi(c,!0),o.id=function U1(i){let s=0;const o=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const u of o)s=Math.imul(31,s)+u.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(o),o})}function B3(i){return jt(i)||b2(i)}function Ts(i){return null!==i}function Wi(i){return oe(()=>({type:i.type,bootstrap:i.bootstrap||Ge,declarations:i.declarations||Ge,imports:i.imports||Ge,exports:i.exports||Ge,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Ns(i,s){if(null==i)return it;const o={};for(const c in i)if(i.hasOwnProperty(c)){let u=i[c],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),o[u]=c,s&&(s[u]=h)}return o}function hi(i){return oe(()=>{const s=j3(i);return sc(s),s})}function U3(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function jt(i){return i[Dt]||null}function b2(i){return i[Zt]||null}function y1(i){return i[E2]||null}function j3(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||it,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Ge,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ns(i.inputs,s),outputs:Ns(i.outputs)}}function sc(i){i.features?.forEach(s=>s(i))}function Zi(i,s){if(!i)return null;const o=s?y1:B3;return()=>("function"==typeof i?i():i).map(c=>o(c)).filter(Ts)}const g2=0,Ze=1,_t=2,l2=3,_1=4,Ar=5,i1=6,Ki=7,u2=8,Kn=9,pi=10,Vt=11,s1=12,ac=13,Yn=14,f2=15,$3=16,Tr=17,a1=18,cr=19,Qn=20,lr=21,rn=22,Ps=23,Nr=24,Tt=25,mi=1,Rs=2,G2=7,q2=9,o1=11;function W2(i){return Array.isArray(i)&&"object"==typeof i[mi]}function M1(i){return Array.isArray(i)&&!0===i[mi]}function Os(i){return 0!=(4&i.flags)}function Pr(i){return i.componentOffset>-1}function j1(i){return 1==(1&i.flags)}function T1(i){return!!i.template}function gi(i){return 0!=(512&i[_t])}function Rr(i,s){return i.hasOwnProperty(r1)?i[r1]:null}let Y3=Yt.WeakRef??class js{constructor(s){this.ref=s}deref(){return this.ref}},$s=0,Dn=null,Or=!1;function H2(i){const s=Dn;return Dn=i,s}class fc{constructor(){this.id=$s++,this.ref=function Ci(i){return new Y3(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,o]of this.producers){const c=o.producerNode.deref();if(null!=c&&o.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(o.seenValueVersion))return!0}else this.producers.delete(s),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Or;Or=!0;try{for(const[o,c]of this.consumers){const u=c.consumerNode.deref();null!=u&&u.trackingVersion===c.atTrackingVersion?u.onConsumerDependencyMayHaveChanged():(this.consumers.delete(o),u?.producers.delete(this.id))}}finally{Or=s}}producerAccessed(){if(Or)throw new Error("");if(null===Dn)return;let s=Dn.producers.get(this.id);void 0===s?(s={consumerNode:Dn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Dn.trackingVersion},Dn.producers.set(this.id,s),this.consumers.set(Dn.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=Dn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Dn?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Ws=null;function Zs(i){const s=H2(null);try{return i()}finally{H2(s)}}const fa=()=>{};class da extends fc{constructor(s,o,c){super(),this.watch=s,this.schedule=o,this.dirty=!1,this.cleanupFn=fa,this.registerOnCleanup=u=>{this.cleanupFn=u},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=H2(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=fa,this.watch(this.registerOnCleanup)}finally{H2(s)}}cleanup(){this.cleanupFn()}}class pc{constructor(s,o,c){this.previousValue=s,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function Mi(){return ha}function ha(i){return i.type.prototype.ngOnChanges&&(i.setInput=Xi),Fr}function Fr(){const i=Ys(this),s=i?.current;if(s){const o=i.previous;if(o===it)i.previous=s;else for(let c in s)o[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Xi(i,s,o,c){const u=this.declaredInputs[o],h=Ys(i)||function wi(i,s){return i[Ks]=s}(i,{previous:it,current:null}),v=h.current||(h.current={}),_=h.previous,b=_[u];v[u]=new pc(b&&b.currentValue,s,_===it),i[c]=s}Mi.ngInherit=!0;const Ks="__ngSimpleChanges__";function Ys(i){return i[Ks]||null}const Xn=function(i,s,o){};function e2(i){for(;Array.isArray(i);)i=i[g2];return i}function Js(i,s){return e2(s[i])}function u1(i,s){return e2(s[i.index])}function n4(i,s){return i.data[s]}function sn(i,s){return i[s]}function L2(i,s){const o=s[i];return W2(o)?o:o[g2]}function dr(i,s){return null==s?null:i[s]}function i4(i){i[Tr]=0}function gc(i){1024&i[_t]||(i[_t]|=1024,Br(i,1))}function s4(i){1024&i[_t]&&(i[_t]&=-1025,Br(i,-1))}function Br(i,s){let o=i[l2];if(null===o)return;o[Ar]+=s;let c=o;for(o=o[l2];null!==o&&(1===s&&1===c[Ar]||-1===s&&0===c[Ar]);)o[Ar]+=s,c=o,o=o[l2]}const It={lFrame:Ma(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function hr(){return It.bindingsEnabled}function ts(){return null!==It.skipHydrationRootTNode}function fe(){return It.lFrame.lView}function qt(){return It.lFrame.tView}function x2(){let i=n3();for(;null!==i&&64===i.type;)i=i.parent;return i}function n3(){return It.lFrame.currentTNode}function an(i,s){const o=It.lFrame;o.currentTNode=i,o.isParent=s}function Z2(){return It.lFrame.isParent}function pr(){It.lFrame.isParent=!1}function N1(){const i=It.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function H1(){return It.lFrame.bindingIndex++}function yn(i){const s=It.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function ya(i,s){const o=It.lFrame;o.bindingIndex=o.bindingRootIndex=i,Cc(s)}function Cc(i){It.lFrame.currentDirectiveIndex=i}function Ca(i){It.lFrame.currentQueryIndex=i}function _0(i){const s=i[Ze];return 2===s.type?s.declTNode:1===s.type?i[i1]:null}function u4(i,s,o){if(o&mt.SkipSelf){let u=s,h=i;for(;!(u=u.parent,null!==u||o&mt.Host||(u=_0(h),null===u||(h=h[Yn],10&u.type))););if(null===u)return!1;s=u,i=h}const c=It.lFrame=Hi();return c.currentTNode=s,c.lView=i,!0}function _a(i){const s=Hi(),o=i[Ze];It.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Hi(){const i=It.lFrame,s=null===i?null:i.child;return null===s?Ma(i):s}function Ma(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function rs(){const i=It.lFrame;return It.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const wa=rs;function Vi(){const i=rs();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function k1(){return It.lFrame.selectedIndex}function mr(i){It.lFrame.selectedIndex=i}function M2(){const i=It.lFrame;return n4(i.tView,i.selectedIndex)}let Ia=!0;function gr(){return Ia}function vr(i){Ia=i}function Ei(i,s){for(let o=s.directiveStart,c=s.directiveEnd;o<c;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:_,ngAfterViewInit:b,ngAfterViewChecked:E,ngOnDestroy:x}=h;v&&(i.contentHooks??=[]).push(-o,v),_&&((i.contentHooks??=[]).push(o,_),(i.contentCheckHooks??=[]).push(o,_)),b&&(i.viewHooks??=[]).push(-o,b),E&&((i.viewHooks??=[]).push(o,E),(i.viewCheckHooks??=[]).push(o,E)),null!=x&&(i.destroyHooks??=[]).push(o,x)}}function Gr(i,s,o){s3(i,s,3,o)}function yr(i,s,o,c){(3&i[_t])===o&&s3(i,s,o,c)}function ss(i,s){let o=i[_t];(3&o)===s&&(o&=8191,o+=1,i[_t]=o)}function s3(i,s,o,c){const h=c??-1,v=s.length-1;let _=0;for(let b=void 0!==c?65535&i[Tr]:0;b<v;b++)if("number"==typeof s[b+1]){if(_=s[b],null!=c&&_>=c)break}else s[b]<0&&(i[Tr]+=65536),(_<h||-1==h)&&(qr(i,o,s,b),i[Tr]=(4294901760&i[Tr])+b+2),b++}function a3(i,s){Xn(4,i,s);const o=H2(null);try{s.call(i)}finally{H2(o),Xn(5,i,s)}}function qr(i,s,o,c){const u=o[c]<0,h=o[c+1],_=i[u?-o[c]:o[c]];u?i[_t]>>13<i[Tr]>>16&&(3&i[_t])===s&&(i[_t]+=8192,a3(_,h)):a3(_,h)}const $1=-1;class f1{constructor(s,o,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function h4(i){return i!==$1}function Wr(i){return 32767&i}function Zr(i,s){let o=function _c(i){return i>>16}(i),c=s;for(;o>0;)c=c[Yn],o--;return c}let as=!0;function Cr(i){const s=as;return as=i,s}const Mc=255,c3=5;let xa=0;const Cn={};function l3(i,s){const o=Aa(i,s);if(-1!==o)return o;const c=s[Ze];c.firstCreatePass&&(i.injectorIndex=s.length,os(c.data,i),os(s,null),os(c.blueprint,null));const u=zi(i,s),h=i.injectorIndex;if(h4(u)){const v=Wr(u),_=Zr(u,s),b=_[Ze].data;for(let E=0;E<8;E++)s[h+E]=_[v+E]|b[v+E]}return s[h+8]=u,h}function os(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Aa(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function zi(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,c=null,u=s;for(;null!==u;){if(c=h3(u),null===c)return $1;if(o++,u=u[Yn],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return $1}function cs(i,s,o){!function Da(i,s,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(xn)&&(c=o[xn]),null==c&&(c=o[xn]=xa++);const u=c&Mc;s.data[i+(u>>c3)]|=1<<u}(i,s,o)}function u3(i,s,o){if(o&mt.Optional||void 0!==i)return i;ct()}function m4(i,s,o,c){if(o&mt.Optional&&void 0===c&&(c=null),!(o&(mt.Self|mt.Host))){const u=i[Kn],h=r2(void 0);try{return u?u.get(s,c,o&mt.Optional):m2(s,c,o&mt.Optional)}finally{r2(h)}}return u3(c,0,o)}function Ta(i,s,o,c=mt.Default,u){if(null!==i){if(2048&s[_t]&&!(c&mt.Self)){const v=function d3(i,s,o,c,u){let h=i,v=s;for(;null!==h&&null!==v&&2048&v[_t]&&!(512&v[_t]);){const _=ls(h,v,o,c|mt.Self,Cn);if(_!==Cn)return _;let b=h.parent;if(!b){const E=v[Qn];if(E){const x=E.get(o,Cn,c);if(x!==Cn)return x}b=h3(v),v=v[Yn]}h=b}return u}(i,s,o,c,Cn);if(v!==Cn)return v}const h=ls(i,s,o,c,Cn);if(h!==Cn)return h}return m4(s,o,c,u)}function ls(i,s,o,c,u){const h=function Hc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(xn)?i[xn]:void 0;return"number"==typeof s?s>=0?s&Mc:Vc:s}(o);if("function"==typeof h){if(!u4(s,i,c))return c&mt.Host?u3(u,0,c):m4(s,o,c,u);try{let v;if(v=h(c),null!=v||c&mt.Optional)return v;ct()}finally{wa()}}else if("number"==typeof h){let v=null,_=Aa(i,s),b=$1,E=c&mt.Host?s[f2][i1]:null;for((-1===_||c&mt.SkipSelf)&&(b=-1===_?zi(i,s):s[_+8],b!==$1&&us(c,!1)?(v=s[Ze],_=Wr(b),s=Zr(b,s)):_=-1);-1!==_;){const x=s[Ze];if(f3(h,_,x.data)){const k=bc(_,s,o,v,c,E);if(k!==Cn)return k}b=s[_+8],b!==$1&&us(c,s[Ze].data[_+8]===E)&&f3(h,_,s)?(v=x,_=Wr(b),s=Zr(b,s)):_=-1}}return u}function bc(i,s,o,c,u,h){const v=s[Ze],_=v.data[i+8],x=function g4(i,s,o,c,u){const h=i.providerIndexes,v=s.data,_=1048575&h,b=i.directiveStart,x=h>>20,$=u?_+x:i.directiveEnd;for(let Z=c?_:_+x;Z<$;Z++){const pe=v[Z];if(Z<b&&o===pe||Z>=b&&pe.type===o)return Z}if(u){const Z=v[b];if(Z&&T1(Z)&&Z.type===o)return b}return null}(_,v,o,null==c?Pr(_)&&as:c!=v&&0!=(3&_.type),u&mt.Host&&h===_);return null!==x?Tn(s,v,x,_):Cn}function Tn(i,s,o,c){let u=i[o];const h=s.data;if(function Ea(i){return i instanceof f1}(u)){const v=u;v.resolving&&function De(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Y(-200,`Circular dependency in DI detected for ${i}${o}`)}(function He(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Q(i)}(h[o]));const _=Cr(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?r2(v.injectImpl):null;u4(i,c,mt.Default);try{u=i[o]=v.factory(void 0,h,i,c),s.firstCreatePass&&o>=c.directiveStart&&function is(i,s,o){const{ngOnChanges:c,ngOnInit:u,ngDoCheck:h}=s.type.prototype;if(c){const v=ha(s);(o.preOrderHooks??=[]).push(i,v),(o.preOrderCheckHooks??=[]).push(i,v)}u&&(o.preOrderHooks??=[]).push(0-i,u),h&&((o.preOrderHooks??=[]).push(i,h),(o.preOrderCheckHooks??=[]).push(i,h))}(o,h[o],s)}finally{null!==E&&r2(E),Cr(_),v.resolving=!1,wa()}}return u}function f3(i,s,o){return!!(o[s+(i>>c3)]&1<<i)}function us(i,s){return!(i&mt.Self||i&mt.Host&&s)}class K2{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,c){return Ta(this._tNode,this._lView,s,C2(c),o)}}function Vc(){return new K2(x2(),fe())}function h3(i){const s=i[Ze],o=s.type;return 2===o?s.declTNode:1===o?i[i1]:null}function Kr(i){return function wc(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const c=o.length;let u=0;for(;u<c;){const h=o[u];if(R3(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<c&&"string"==typeof o[u];)u++;else{if(h===s)return o[u+1];u+=2}}}return null}(x2(),i)}const er="__parameters__";function fs(i,s,o){return oe(()=>{const c=function p3(i){return function(...o){if(i){const c=i(...o);for(const u in c)this[u]=c[u]}}}(s);function u(...h){if(this instanceof u)return c.apply(this,h),this;const v=new u(...h);return _.annotation=v,_;function _(b,E,x){const k=b.hasOwnProperty(er)?b[er]:Object.defineProperty(b,er,{value:[]})[er];for(;k.length<=x;)k.push(null);return(k[x]=k[x]||[]).push(v),b}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=i,u.annotationCls=u,u})}function H(i,s){i.forEach(o=>Array.isArray(o)?H(o,s):s(o))}function z(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function A(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function U(i,s){const o=[];for(let c=0;c<i;c++)o.push(s);return o}function Fe(i,s,o){let c=bt(i,s);return c>=0?i[1|c]=o:(c=~c,function $e(i,s,o,c){let u=i.length;if(u==s)i.push(o,c);else if(1===u)i.push(c,i[0]),i[0]=o;else{for(u--,i.push(i[u-1],i[u]);u>s;)i[u]=i[u-2],u--;i[s]=o,i[s+1]=c}}(i,c,s,o)),c}function Et(i,s){const o=bt(i,s);if(o>=0)return i[1|o]}function bt(i,s){return function Y2(i,s,o){let c=0,u=i.length>>o;for(;u!==c;){const h=c+(u-c>>1),v=i[h<<o];if(s===v)return h<<o;v>s?u=h:c=h+1}return~(u<<o)}(i,s,1)}const y3=T2(fs("Optional"),8),Lc=T2(fs("SkipSelf"),4);function ja(i){return 128==(128&i.flags)}var $a=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}($a||{});const Oc=new Map;let Fc=0;const qa="__ngContext__";function V1(i,s){W2(s)?(i[qa]=s[cr],function _n(i){Oc.set(i[cr],i)}(s)):i[qa]=s}let Cs;function V4(i,s){return Cs(i,s)}function I4(i){const s=i[l2];return M1(s)?s[l2]:s}function K0(i){return Q0(i[s1])}function Y0(i){return Q0(i[_1])}function Q0(i){for(;null!==i&&!M1(i);)i=i[_1];return i}function y(i,s,o,c,u){if(null!=c){let h,v=!1;M1(c)?h=c:W2(c)&&(v=!0,c=c[g2]);const _=e2(c);0===i&&null!==o?null==u?qc(s,o,_):Xr(s,o,_,u||null,!0):1===i&&null!==o?Xr(s,o,_,u||null,!0):2===i?function Zc(i,s,o){const c=Ya(i,s);c&&function Ka(i,s,o,c){i.removeChild(s,o,c)}(i,c,s,o)}(s,_,v):3===i&&s.destroyNode(_),null!=h&&function MC(i,s,o,c,u){const h=o[G2];h!==e2(o)&&y(s,i,c,h,u);for(let _=o1;_<o.length;_++){const b=o[_];Kc(b[Ze],b,i,s,c,h)}}(s,i,h,o,u)}}function I(i,s,o){return i.createElement(s,o)}function nt(i,s){const o=i[q2],c=o.indexOf(s);s4(s),o.splice(c,1)}function h2(i,s){if(i.length<=o1)return;const o=o1+s,c=i[o];if(c){const u=c[$3];null!==u&&u!==i&&nt(u,c),s>0&&(i[o-1][_1]=c[_1]);const h=A(i,o1+s);!function L(i,s){Kc(i,s,s[Vt],2,null,null),s[g2]=null,s[i1]=null}(c[Ze],c);const v=h[a1];null!==v&&v.detachView(h[Ze]),c[l2]=null,c[_1]=null,c[_t]&=-129}return c}function ln(i,s){if(!(256&s[_t])){const o=s[Vt];s[Ps]?.destroy(),s[Nr]?.destroy(),o.destroyNode&&Kc(i,s,o,3,null,null),function Le(i){let s=i[s1];if(!s)return w3(i[Ze],i);for(;s;){let o=null;if(W2(s))o=s[s1];else{const c=s[o1];c&&(o=c)}if(!o){for(;s&&!s[_1]&&s!==i;)W2(s)&&w3(s[Ze],s),s=s[l2];null===s&&(s=i),W2(s)&&w3(s[Ze],s),o=s&&s[_1]}s=o}}(s)}}function w3(i,s){if(!(256&s[_t])){s[_t]&=-129,s[_t]|=256,function $c(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let c=0;c<o.length;c+=2){const u=s[o[c]];if(!(u instanceof f1)){const h=o[c+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const _=u[h[v]],b=h[v+1];Xn(4,_,b);try{b.call(_)}finally{Xn(5,_,b)}}else{Xn(4,u,h);try{h.call(u)}finally{Xn(5,u,h)}}}}}(i,s),function jc(i,s){const o=i.cleanup,c=s[Ki];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?c[v]():c[-v].unsubscribe(),h+=2}else o[h].call(c[o[h+1]]);null!==c&&(s[Ki]=null);const u=s[lr];if(null!==u){s[lr]=null;for(let h=0;h<u.length;h++)(0,u[h])()}}(i,s),1===s[Ze].type&&s[Vt].destroy();const o=s[$3];if(null!==o&&M1(s[l2])){o!==s[l2]&&nt(o,s);const c=s[a1];null!==c&&c.detachView(i)}!function B0(i){Oc.delete(i[cr])}(s)}}function Za(i,s,o){return function Gc(i,s,o){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return o[g2];{const{componentOffset:u}=c;if(u>-1){const{encapsulation:h}=i.data[c.directiveStart+u];if(h===Ee.None||h===Ee.Emulated)return null}return u1(c,o)}}(i,s.parent,o)}function Xr(i,s,o,c,u){i.insertBefore(s,o,c,u)}function qc(i,s,o){i.appendChild(s,o)}function Wc(i,s,o,c,u){null!==c?Xr(i,s,o,c,u):qc(i,s,o)}function Ya(i,s){return i.parentNode(s)}function J0(i,s,o){return L9(i,s,o)}let X0,tl,nl,Yc,L9=function f5(i,s,o){return 40&i.type?u1(i,o):null};function el(i,s,o,c){const u=Za(i,c,s),h=s[Vt],_=J0(c.parent||s[i1],c,s);if(null!=u)if(Array.isArray(o))for(let b=0;b<o.length;b++)Wc(h,u,o[b],_,!1);else Wc(h,u,o,_,!1);void 0!==X0&&X0(h,c,s,o,u)}function Ja(i,s){if(null!==s){const o=s.type;if(3&o)return u1(s,i);if(4&o)return d5(-1,i[s.index]);if(8&o){const c=s.child;if(null!==c)return Ja(i,c);{const u=i[s.index];return M1(u)?d5(-1,u):e2(u)}}if(32&o)return V4(s,i)()||e2(i[s.index]);{const c=D9(i,s);return null!==c?Array.isArray(c)?c[0]:Ja(I4(i[f2]),c):Ja(i,s.next)}}return null}function D9(i,s){return null!==s?i[f2][i1].projection[s.projection]:null}function d5(i,s){const o=o1+i+1;if(o<s.length){const c=s[o],u=c[Ze].firstChild;if(null!==u)return Ja(c,u)}return s[G2]}function h5(i,s,o,c,u,h,v){for(;null!=o;){const _=c[o.index],b=o.type;if(v&&0===s&&(_&&V1(e2(_),c),o.flags|=2),32!=(32&o.flags))if(8&b)h5(i,s,o.child,c,u,h,!1),y(s,i,u,_,h);else if(32&b){const E=V4(o,c);let x;for(;x=E();)y(s,i,u,x,h);y(s,i,u,_,h)}else 16&b?T9(i,s,c,o,u,h):y(s,i,u,_,h);o=v?o.projectionNext:o.next}}function Kc(i,s,o,c,u,h){h5(o,c,i.firstChild,s,u,h,!1)}function T9(i,s,o,c,u,h){const v=o[f2],b=v[i1].projection[c.projection];if(Array.isArray(b))for(let E=0;E<b.length;E++)y(s,i,u,b[E],h);else{let E=b;const x=v[l2];ja(c)&&(E.flags|=128),h5(i,s,E,x,u,h,!0)}}function k9(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function P9(i,s,o){const{mergedAttrs:c,classes:u,styles:h}=o;null!==c&&fi(i,s,c),null!==u&&k9(i,s,u),null!==h&&function N9(i,s,o){i.setAttribute(s,"style",o)}(i,s,h)}function E4(i){return function p5(){if(void 0===tl&&(tl=null,Yt.trustedTypes))try{tl=Yt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return tl}()?.createHTML(i)||i}function IC(i){nl=i}function Xa(){if(void 0!==nl)return nl;if(typeof document<"u")return document;throw new Y(210,!1)}function R9(i){return function m5(){if(void 0===Yc&&(Yc=null,Yt.trustedTypes))try{Yc=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Yc}()?.createHTML(i)||i}class b3{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rt})`}}class EC extends b3{getTypeName(){return"HTML"}}class SC extends b3{getTypeName(){return"Style"}}class zC extends b3{getTypeName(){return"Script"}}class F9 extends b3{getTypeName(){return"URL"}}class LC extends b3{getTypeName(){return"ResourceURL"}}function Ai(i){return i instanceof b3?i.changingThisBreaksApplicationSecurity:i}function eo(i,s){const o=function xC(i){return i instanceof b3&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${rt})`)}return o===s}function DC(i){return new EC(i)}function AC(i){return new SC(i)}function TC(i){return new zC(i)}function v5(i){return new F9(i)}function NC(i){return new LC(i)}class U9{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(E4(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch{return null}}}class kC{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const o=this.inertDocument.createElement("template");return o.innerHTML=E4(s),o}}const RC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qc(i){return(i=String(i)).match(RC)?i:"unsafe:"+i}function _s(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function to(...i){const s={};for(const o of i)for(const c in o)o.hasOwnProperty(c)&&(s[c]=!0);return s}const j9=_s("area,br,col,hr,img,wbr"),$9=_s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),G9=_s("rp,rt"),y5=to(j9,to($9,_s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),to(G9,_s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),to(G9,$9)),C5=_s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),q9=to(C5,_s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),W9=_s("script,style,template");class BC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!y5.hasOwnProperty(o))return this.sanitizedSomething=!0,!W9.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=s.attributes;for(let u=0;u<c.length;u++){const h=c.item(u),v=h.name,_=v.toLowerCase();if(!q9.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let b=h.value;C5[_]&&(b=Qc(b)),this.buf.push(" ",v,'="',_5(b),'"')}return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();y5.hasOwnProperty(o)&&!j9.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(_5(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const UC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jC=/([^\#-~ |!])/g;function _5(i){return i.replace(/&/g,"&amp;").replace(UC,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(jC,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rl;function il(i,s){let o=null;try{rl=rl||function B9(i){const s=new kC(i);return function PC(){try{return!!(new window.DOMParser).parseFromString(E4(""),"text/html")}catch{return!1}}()?new U9(s):s}(i);let c=s?String(s):"";o=rl.getInertBodyElement(c);let u=5,h=c;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,c=h,h=o.innerHTML,o=rl.getInertBodyElement(c)}while(c!==h);return E4((new BC).sanitizeChildren(M5(o)||o))}finally{if(o){const c=M5(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function M5(i){return"content"in i&&function $C(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var S4=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(S4||{});function Z9(i){const s=function Jc(){const i=fe();return i&&i[pi].sanitizer}();return s?R9(s.sanitize(S4.HTML,i)||""):eo(i,"HTML")?R9(Ai(i)):il(Xa(),Q(i))}class s2{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=xt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Xc=new s2("ENVIRONMENT_INITIALIZER"),Q9=new s2("INJECTOR",-1),J9=new s2("INJECTOR_DEF_TYPES");class sl{get(s,o=D1){if(o===D1){const c=new Error(`NullInjectorError: No provider for ${ie(s)}!`);throw c.name="NullInjectorError",c}return o}}function YC(...i){return{\u0275providers:b5(0,i),\u0275fromNgModule:!0}}function b5(i,...s){const o=[],c=new Set;let u;const h=v=>{o.push(v)};return H(s,v=>{const _=v;z4(_,h,[],c)&&(u||=[],u.push(_))}),void 0!==u&&ed(u,h),o}function ed(i,s){for(let o=0;o<i.length;o++){const{ngModule:c,providers:u}=i[o];H5(u,h=>{s(h,c)})}}function z4(i,s,o,c){if(!(i=ve(i)))return!1;let u=null,h=Er(i);const v=!h&&jt(i);if(h||v){if(v&&!v.standalone)return!1;u=i}else{const b=i.ngModule;if(h=Er(b),!h)return!1;u=b}const _=c.has(u);if(v){if(_)return!1;if(c.add(u),v.dependencies){const b="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const E of b)z4(E,s,o,c)}}else{if(!h)return!1;{if(null!=h.imports&&!_){let E;c.add(u);try{H(h.imports,x=>{z4(x,s,o,c)&&(E||=[],E.push(x))})}finally{}void 0!==E&&ed(E,s)}if(!_){const E=Rr(u)||(()=>new u);s({provide:u,useFactory:E,deps:Ge},u),s({provide:J9,useValue:u,multi:!0},u),s({provide:Xc,useValue:()=>wt(u),multi:!0},u)}const b=h.providers;if(null!=b&&!_){const E=i;H5(b,x=>{s(x,E)})}}}return u!==i&&void 0!==i.providers}function H5(i,s){for(let o of i)Oe(o)&&(o=o.\u0275providers),Array.isArray(o)?H5(o,s):s(o)}const QC=R({provide:String,useValue:R});function V5(i){return null!==i&&"object"==typeof i&&QC in i}function L4(i){return"function"==typeof i}const E5=new s2("Set Injector scope."),al={},XC={};let S5;function e6(){return void 0===S5&&(S5=new sl),S5}class Ms{}class ol extends Ms{get destroyed(){return this._destroyed}constructor(s,o,c,u){super(),this.parent=o,this.source=c,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,z5(s,v=>this.processProvider(v)),this.records.set(Q9,no(void 0,this)),u.has("environment")&&this.records.set(Ms,no(void 0,this));const h=this.records.get(E5);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(J9.multi,Ge,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=Ke(this),c=r2(void 0);try{return s()}finally{Ke(o),r2(c)}}get(s,o=D1,c=mt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ui))return s[ui](this);c=C2(c);const h=Ke(this),v=r2(void 0);try{if(!(c&mt.SkipSelf)){let b=this.records.get(s);if(void 0===b){const E=function r_(i){return"function"==typeof i||"object"==typeof i&&i instanceof s2}(s)&&t1(s);b=E&&this.injectableDefInScope(E)?no(cl(s),al):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(c&mt.Self?e6():this.parent).get(s,o=c&mt.Optional&&o===D1?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[X1]=_[X1]||[]).unshift(ie(s)),h)throw _;return function Zn(i,s,o,c){const u=i[X1];throw s[G]&&u.unshift(s[G]),i.message=function ji(i,s,o,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let u=ie(s);if(Array.isArray(s))u=s.map(ie).join(" -> ");else if("object"==typeof s){let h=[];for(let v in s)if(s.hasOwnProperty(v)){let _=s[v];h.push(v+":"+("string"==typeof _?JSON.stringify(_):ie(_)))}u=`{${h.join(", ")}}`}return`${o}${c?"("+c+")":""}[${u}]: ${i.replace(F,"\n  ")}`}("\n"+i.message,u,o,c),i.ngTokenPath=u,i[X1]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{r2(v),Ke(h)}}resolveInjectorInitializers(){const s=Ke(this),o=r2(void 0);try{const u=this.get(Xc.multi,Ge,mt.Self);for(const h of u)h()}finally{Ke(s),r2(o)}}toString(){const s=[],o=this.records;for(const c of o.keys())s.push(ie(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(s){let o=L4(s=ve(s))?s:ve(s&&s.provide);const c=function t_(i){return V5(i)?no(void 0,i.useValue):no(function nd(i,s,o){let c;if(L4(i)){const u=ve(i);return Rr(u)||cl(u)}if(V5(i))c=()=>ve(i.useValue);else if(function I5(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Ut(i.deps||[]));else if(function td(i){return!(!i||!i.useExisting)}(i))c=()=>wt(ve(i.useExisting));else{const u=ve(i&&(i.useClass||i.provide));if(!function n_(i){return!!i.deps}(i))return Rr(u)||cl(u);c=()=>new u(...Ut(i.deps))}return c}(i),al)}(s);if(L4(s)||!0!==s.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=no(void 0,al,!0),u.factory=()=>Ut(u.multi),this.records.set(o,u)),o=s,u.multi.push(s)}this.records.set(o,c)}hydrate(s,o){return o.value===al&&(o.value=XC,o.value=o.factory()),"object"==typeof o.value&&o.value&&function ll(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=ve(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function cl(i){const s=t1(i),o=null!==s?s.factory:Rr(i);if(null!==o)return o;if(i instanceof s2)throw new Y(204,!1);if(i instanceof Function)return function e_(i){const s=i.length;if(s>0)throw U(s,"?"),new Y(204,!1);const o=function O1(i){return i&&(i[F1]||i[ar])||null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Y(204,!1)}function no(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function z5(i,s){for(const o of i)Array.isArray(o)?z5(o,s):o&&Oe(o)?z5(o.\u0275providers,s):s(o)}const rd=new s2("AppId",{providedIn:"root",factory:()=>i_}),i_="ng",L5=new s2("Platform Initializer"),x5=new s2("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),s_=new s2("CSP nonce",{providedIn:"root",factory:()=>Xa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let sd=(i,s,o)=>null;function k5(i,s,o=!1){return sd(i,s,o)}class p_{}class ld{}class m_{resolveComponentFactory(s){throw function pl(i){const s=Error(`No component factory found for ${ie(i)}.`);return s.ngComponent=i,s}(s)}}let a6=(()=>{class s{}return s.NULL=new m_,s})();function g_(){return so(x2(),fe())}function so(i,s){return new ao(u1(i,s))}let ao=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=g_,s})();class fd{}let y_=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function C_(){const i=fe(),o=L2(x2().index,i);return(W2(o)?o:i)[Vt]}(),s})(),__=(()=>{var i;class s{}return(i=s).\u0275prov=xt({token:i,providedIn:"root",factory:()=>null}),s})();class O5{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const dd=new O5("16.2.1"),F5={};function gd(i,s=null,o=null,c){const u=vd(i,s,o,c);return u.resolveInjectorInitializers(),u}function vd(i,s=null,o=null,c,u=new Set){const h=[o||Ge,YC(i)];return c=c||("object"==typeof i?void 0:ie(i)),new ol(h,s||e6(),c||null,u)}let ei=(()=>{var i;class s{static create(c,u){if(Array.isArray(c))return gd({name:""},u,c,"");{const h=c.name??"";return gd({name:h},c.parent,c.providers,h)}}}return(i=s).THROW_IF_NOT_FOUND=D1,i.NULL=new sl,i.\u0275prov=xt({token:i,providedIn:"any",factory:()=>wt(Q9)}),i.__NG_ELEMENT_ID__=-1,s})();let $5=(()=>{var i;class s{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new Y(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const c of this.callbacks)c.invoke()}finally{this.runningCallbacks=!1;for(const c of this.deferredCallbacks)this.callbacks.add(c);this.deferredCallbacks.clear()}}register(c){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(c)}unregister(c){this.callbacks.delete(c),this.deferredCallbacks.delete(c)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=s).\u0275prov=xt({token:i,providedIn:"root",factory:()=>new i}),s})();function o6(i){for(;i;){i[_t]|=64;const s=I4(i);if(gi(i)&&!s)return i;i=s}return null}function G5(i){return i.ngOriginalError}class D4{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&G5(s);for(;o&&G5(o);)o=G5(o);return o||null}}const q5=new s2("",{providedIn:"root",factory:()=>!1});class Ed extends fc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){o6(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,o,c){const u=H2(this);this.trackingVersion++;try{s(o,c)}finally{H2(u)}}destroy(){this.trackingVersion++}}let gl=null;function W5(){return gl??=new Ed,gl}function Sd(i,s){return i[s]??W5()}function Z5(i,s){const o=W5();o.hasReadASignal&&(i[s]=gl,o.lView=i,gl=new Ed)}const Nt={};function K5(i){zd(qt(),fe(),k1()+i,!1)}function zd(i,s,o,c){if(!c)if(3==(3&s[_t])){const h=i.preOrderCheckHooks;null!==h&&Gr(s,h,o)}else{const h=i.preOrderHooks;null!==h&&yr(s,h,0,o)}mr(o)}function co(i,s=mt.Default){const o=fe();return null===o?wt(i,s):Ta(x2(),o,ve(i),s)}function c6(i,s,o,c,u,h,v,_,b,E,x){const k=s.blueprint.slice();return k[g2]=u,k[_t]=140|c,(null!==E||i&&2048&i[_t])&&(k[_t]|=2048),i4(k),k[l2]=k[Yn]=i,k[u2]=o,k[pi]=v||i&&i[pi],k[Vt]=_||i&&i[Vt],k[Kn]=b||i&&i[Kn]||null,k[i1]=h,k[cr]=function o5(){return Fc++}(),k[rn]=x,k[Qn]=E,k[f2]=2==s.type?i[f2]:k,k}function lo(i,s,o,c,u){let h=i.data[s];if(null===h)h=function Y5(i,s,o,c,u){const h=n3(),v=Z2(),b=i.data[s]=function U_(i,s,o,c,u,h){let v=s?s.injectorIndex:-1,_=0;return ts()&&(_|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,s,c,u);return null===i.firstChild&&(i.firstChild=b),null!==h&&(v?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b,b.prev=h)),b}(i,s,o,c,u),function c4(){return It.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=c,h.attrs=u;const v=function _2(){const i=It.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return an(h,!0),h}function l6(i,s,o,c){if(0===o)return-1;const u=s.length;for(let h=0;h<o;h++)s.push(c),i.blueprint.push(c),i.data.push(null);return u}function Ld(i,s,o,c,u){const h=Sd(s,Ps),v=k1(),_=2&c;try{if(mr(-1),_&&s.length>Tt&&zd(i,s,Tt,!1),Xn(_?2:0,u),_)h.runInContext(o,c,u);else{const E=H2(null);try{o(c,u)}finally{H2(E)}}}finally{_&&null===s[Ps]&&Z5(s,Ps),mr(v),Xn(_?3:1,u)}}function vl(i,s,o){if(Os(s)){const c=H2(null);try{const h=s.directiveEnd;for(let v=s.directiveStart;v<h;v++){const _=i.data[v];_.contentQueries&&_.contentQueries(1,o[v],v)}}finally{H2(c)}}}function Q5(i,s,o){hr()&&(function q_(i,s,o,c){const u=o.directiveStart,h=o.directiveEnd;Pr(o)&&function Y_(i,s,o){const c=u1(s,i),u=xd(o);let v=16;o.signals?v=4096:o.onPush&&(v=64);const _=_l(i,c6(i,u,null,v,c,s,null,i[pi].rendererFactory.createRenderer(c,o),null,null,null));i[s.index]=_}(s,o,i.data[u+o.componentOffset]),i.firstCreatePass||l3(o,s),V1(c,s);const v=o.initialInputs;for(let _=u;_<h;_++){const b=i.data[_],E=Tn(s,i,_,o);V1(E,s),null!==v&&Q_(0,_-u,E,b,0,v),T1(b)&&(L2(o.index,s)[u2]=Tn(s,i,_,o))}}(i,s,o,u1(o,s)),64==(64&o.flags)&&Od(i,s,o))}function J5(i,s,o=u1){const c=s.localNames;if(null!==c){let u=s.index+1;for(let h=0;h<c.length;h+=2){const v=c[h+1],_=-1===v?o(s,i):i[v];i[u++]=_}}}function xd(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=yl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function yl(i,s,o,c,u,h,v,_,b,E,x){const k=Tt+c,$=k+u,Z=function P_(i,s){const o=[];for(let c=0;c<s;c++)o.push(c<i?null:Nt);return o}(k,$),pe="function"==typeof E?E():E;return Z[Ze]={type:i,blueprint:Z,template:o,queries:null,viewQuery:_,declTNode:s,data:Z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:b,consts:pe,incompleteFirstPass:!1,ssrId:x}}let Ad=i=>null;function Td(i,s,o,c){for(let u in i)if(i.hasOwnProperty(u)){o=null===o?{}:o;const h=i[u];null===c?X5(o,s,u,h):c.hasOwnProperty(u)&&X5(o,s,c[u],h)}return o}function X5(i,s,o,c){i.hasOwnProperty(o)?i[o].push(s,c):i[o]=[s,c]}function tr(i,s,o,c,u,h,v,_){const b=u1(s,o);let x,E=s.inputs;!_&&null!=E&&(x=E[c])?(iu(i,o,x,c,u),Pr(s)&&function kd(i,s){const o=L2(s,i);16&o[_t]||(o[_t]|=64)}(o,s.index)):3&s.type&&(c=function Nd(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),u=null!=v?v(u,s.value||"",c):u,h.setProperty(b,c,u))}function Cl(i,s,o,c){if(hr()){const u=null===c?null:{"":-1},h=function W_(i,s){const o=i.directiveRegistry;let c=null,u=null;if(o)for(let h=0;h<o.length;h++){const v=o[h];if(F3(s,v.selectors,!1))if(c||(c=[]),T1(v))if(null!==v.findHostDirectiveDefs){const _=[];u=u||new Map,v.findHostDirectiveDefs(v,_,u),c.unshift(..._,v),eu(i,s,_.length)}else c.unshift(v),eu(i,s,0);else u=u||new Map,v.findHostDirectiveDefs?.(v,c,u),c.push(v)}return null===c?null:[c,u]}(i,o);let v,_;null===h?v=_=null:[v,_]=h,null!==v&&Pd(i,s,o,v,u,_),u&&function Z_(i,s,o){if(s){const c=i.localNames=[];for(let u=0;u<s.length;u+=2){const h=o[s[u+1]];if(null==h)throw new Y(-301,!1);c.push(s[u],h)}}}(o,c,u)}o.mergedAttrs=Lr(o.mergedAttrs,o.attrs)}function Pd(i,s,o,c,u,h){for(let E=0;E<c.length;E++)cs(l3(o,s),i,c[E].type);!function K_(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,c.length);for(let E=0;E<c.length;E++){const x=c[E];x.providersResolver&&x.providersResolver(x)}let v=!1,_=!1,b=l6(i,s,c.length,null);for(let E=0;E<c.length;E++){const x=c[E];o.mergedAttrs=Lr(o.mergedAttrs,x.hostAttrs),Ud(i,o,s,b,x),Bd(b,x,u),null!==x.contentQueries&&(o.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(o.flags|=64);const k=x.type.prototype;!v&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((i.preOrderHooks??=[]).push(o.index),v=!0),!_&&(k.ngOnChanges||k.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(o.index),_=!0),b++}!function j_(i,s,o){const u=s.directiveEnd,h=i.data,v=s.attrs,_=[];let b=null,E=null;for(let x=s.directiveStart;x<u;x++){const k=h[x],$=o?o.get(k):null,pe=$?$.outputs:null;b=Td(k.inputs,x,b,$?$.inputs:null),E=Td(k.outputs,x,E,pe);const ke=null===b||null===v||Gi(s)?null:J_(b,x,v);_.push(ke)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=8),b.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=_,s.inputs=b,s.outputs=E}(i,o,h)}function Od(i,s,o){const c=o.directiveStart,u=o.directiveEnd,h=o.index,v=function C0(){return It.lFrame.currentDirectiveIndex}();try{mr(h);for(let _=c;_<u;_++){const b=i.data[_],E=s[_];Cc(_),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Fd(b,E)}}finally{mr(-1),Cc(v)}}function Fd(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function eu(i,s,o){s.componentOffset=o,(i.components??=[]).push(s.index)}function Bd(i,s,o){if(o){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)o[s.exportAs[c]]=i;T1(s)&&(o[""]=i)}}function Ud(i,s,o,c,u){i.data[c]=u;const h=u.factory||(u.factory=Rr(u.type)),v=new f1(h,T1(u),co);i.blueprint[c]=v,o[c]=v,function G_(i,s,o,c,u){const h=u.hostBindings;if(h){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const _=~s.index;(function Rd(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(v)!=_&&v.push(_),v.push(o,c,h)}}(i,s,c,l6(i,o,u.hostVars,Nt),u)}function ti(i,s,o,c,u,h){const v=u1(i,s);!function tu(i,s,o,c,u,h,v){if(null==h)i.removeAttribute(s,u,o);else{const _=null==v?Q(h):v(h,c||"",u);i.setAttribute(s,u,_,o)}}(s[Vt],v,h,i.value,o,c,u)}function Q_(i,s,o,c,u,h){const v=h[s];if(null!==v)for(let _=0;_<v.length;)jd(c,o,v[_++],v[_++],v[_++])}function jd(i,s,o,c,u){const h=H2(null);try{const v=i.inputTransforms;null!==v&&v.hasOwnProperty(c)&&(u=v[c].call(s,u)),null!==i.setInput?i.setInput(s,u,o,c):s[c]=u}finally{H2(h)}}function J_(i,s,o){let c=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(i.hasOwnProperty(h)){null===c&&(c=[]);const v=i[h];for(let _=0;_<v.length;_+=2)if(v[_]===s){c.push(h,v[_+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return c}function $d(i,s,o,c){return[i,!0,!1,s,null,0,c,o,null,null,null]}function nu(i,s){const o=i.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const h=o[c+1];if(-1!==h){const v=i.data[h];Ca(o[c]),v.contentQueries(2,s[h],h)}}}function _l(i,s){return i[s1]?i[ac][_1]=s:i[s1]=s,i[ac]=s,s}function ru(i,s,o){Ca(0);const c=H2(null);try{s(i,o)}finally{H2(c)}}function iu(i,s,o,c,u){for(let h=0;h<o.length;){const v=o[h++],_=o[h++];jd(i.data[v],s[v],c,_,u)}}function X_(i,s){const o=L2(s,i),c=o[Ze];!function Kd(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])}(c,o);const u=o[g2];null!==u&&null===o[rn]&&(o[rn]=k5(u,o[Kn])),su(c,o,o[u2])}function su(i,s,o){_a(s);try{const c=i.viewQuery;null!==c&&ru(1,c,o);const u=i.template;null!==u&&Ld(i,s,u,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&nu(i,s),i.staticViewQueries&&ru(2,i.viewQuery,o);const h=i.components;null!==h&&function eM(i,s){for(let o=0;o<s.length;o++)X_(i,s[o])}(s,h)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[_t]&=-5,Vi()}}let Yd=(()=>{var i;class s{constructor(){this.all=new Set,this.queue=new Map}create(c,u,h){const v=typeof Zone>"u"?null:Zone.current,_=new da(c,x=>{this.all.has(x)&&this.queue.set(x,v)},h);let b;this.all.add(_),_.notify();const E=()=>{_.cleanup(),b?.(),this.all.delete(_),this.queue.delete(_)};return b=u?.onDestroy(E),{destroy:E}}flush(){if(0!==this.queue.size)for(const[c,u]of this.queue)this.queue.delete(c),u?u.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=s).\u0275prov=xt({token:i,providedIn:"root",factory:()=>new i}),s})();function Ml(i,s,o){let c=o?i.styles:null,u=o?i.classes:null,h=0;if(null!==s)for(let v=0;v<s.length;v++){const _=s[v];"number"==typeof _?h=_:1==h?u=qe(u,_):2==h&&(c=qe(c,_+": "+s[++v]+";"))}o?i.styles=c:i.stylesWithoutHost=c,o?i.classes=u:i.classesWithoutHost=u}function A4(i,s,o,c,u=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&c.push(e2(h)),M1(h)){for(let _=o1;_<h.length;_++){const b=h[_],E=b[Ze].firstChild;null!==E&&A4(b[Ze],b,E,c)}h[G2]!==h[g2]&&c.push(h[G2])}const v=o.type;if(8&v)A4(i,s,o.child,c);else if(32&v){const _=V4(o,s);let b;for(;b=_();)c.push(b)}else if(16&v){const _=D9(s,o);if(Array.isArray(_))c.push(..._);else{const b=I4(s[f2]);A4(b[Ze],b,_,c,!0)}}o=u?o.projectionNext:o.next}return c}function wl(i,s,o,c=!0){const u=s[pi],h=u.rendererFactory,v=u.afterRenderEventManager;h.begin?.(),v?.begin();try{Xd(i,s,i.template,o)}catch(b){throw c&&function Zd(i,s){const o=i[Kn],c=o?o.get(D4,null):null;c&&c.handleError(s)}(s,b),b}finally{h.end?.(),u.effectManager?.flush(),v?.end()}}function Xd(i,s,o,c){const u=s[_t];if(256!=(256&u)){s[pi].effectManager?.flush(),_a(s);try{i4(s),function bi(i){return It.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Ld(i,s,o,2,c);const v=3==(3&u);if(v){const E=i.preOrderCheckHooks;null!==E&&Gr(s,E,null)}else{const E=i.preOrderHooks;null!==E&&yr(s,E,0,null),ss(s,0)}if(function th(i){for(let s=K0(i);null!==s;s=Y0(s)){if(!s[Rs])continue;const o=s[q2];for(let c=0;c<o.length;c++){gc(o[c])}}}(s),eh(s,2),null!==i.contentQueries&&nu(i,s),v){const E=i.contentCheckHooks;null!==E&&Gr(s,E)}else{const E=i.contentHooks;null!==E&&yr(s,E,1),ss(s,1)}!function k_(i,s){const o=i.hostBindingOpCodes;if(null===o)return;const c=Sd(s,Nr);try{for(let u=0;u<o.length;u++){const h=o[u];if(h<0)mr(~h);else{const v=h,_=o[++u],b=o[++u];ya(_,v),c.runInContext(b,2,s[v])}}}finally{null===s[Nr]&&Z5(s,Nr),mr(-1)}}(i,s);const _=i.components;null!==_&&rh(s,_,0);const b=i.viewQuery;if(null!==b&&ru(2,b,c),v){const E=i.viewCheckHooks;null!==E&&Gr(s,E)}else{const E=i.viewHooks;null!==E&&yr(s,E,2),ss(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[_t]&=-73,s4(s)}finally{Vi()}}}function eh(i,s){for(let o=K0(i);null!==o;o=Y0(o))for(let c=o1;c<o.length;c++)nh(o[c],s)}function tM(i,s,o){nh(L2(s,i),o)}function nh(i,s){if(!function pa(i){return 128==(128&i[_t])}(i))return;const o=i[Ze];if(80&i[_t]&&0===s||1024&i[_t]||2===s)Xd(o,i,o.template,i[u2]);else if(i[Ar]>0){eh(i,1);const u=i[Ze].components;null!==u&&rh(i,u,1)}}function rh(i,s,o){for(let c=0;c<s.length;c++)tM(i,s[c],o)}class u6{get rootNodes(){const s=this._lView,o=s[Ze];return A4(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[u2]}set context(s){this._lView[u2]=s}get destroyed(){return 256==(256&this._lView[_t])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[l2];if(M1(s)){const o=s[8],c=o?o.indexOf(this):-1;c>-1&&(h2(s,c),A(o,c))}this._attachedToViewContainer=!1}ln(this._lView[Ze],this._lView)}onDestroy(s){!function Ur(i,s){if(256==(256&i[_t]))throw new Y(911,!1);null===i[lr]&&(i[lr]=[]),i[lr].push(s)}(this._lView,s)}markForCheck(){o6(this._cdRefInjectingView||this._lView)}detach(){this._lView[_t]&=-129}reattach(){this._lView[_t]|=128}detectChanges(){wl(this._lView[Ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function K(i,s){Kc(i,s,s[Vt],2,null,null)}(this._lView[Ze],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=s}}class nM extends u6{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;wl(s[Ze],s,s[u2],!1)}checkNoChanges(){}get context(){return null}}class ih extends a6{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=jt(s);return new f6(o,this.ngModule)}}function sh(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class ah{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,c){c=C2(c);const u=this.injector.get(s,F5,c);return u!==F5||o===F5?u:this.parentInjector.get(s,o,c)}}class f6 extends ld{get inputs(){const s=this.componentDef,o=s.inputTransforms,c=sh(s.inputs);if(null!==o)for(const u of c)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return c}get outputs(){return sh(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function ra(i){return i.map(na).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,c,u){let h=(u=u||this.ngModule)instanceof Ms?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new ah(s,h):s,_=v.get(fd,null);if(null===_)throw new Y(407,!1);const k={rendererFactory:_,sanitizer:v.get(__,null),effectManager:v.get(Yd,null),afterRenderEventManager:v.get($5,null)},$=_.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",pe=c?function Dd(i,s,o,c){const h=c.get(q5,!1)||o===Ee.ShadowDom,v=i.selectRootElement(s,h);return function R_(i){Ad(i)}(v),v}($,c,this.componentDef.encapsulation,v):I($,Z,function rM(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(Z)),gt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ie=null;null!==pe&&(Ie=k5(pe,v,!0));const At=yl(0,null,null,1,0,null,null,null,null,null,null),$t=c6(null,At,null,gt,null,null,k,$,v,null,Ie);let o2,wn;_a($t);try{const Vs=this.componentDef;let So,j7=null;Vs.findHostDirectiveDefs?(So=[],j7=new Map,Vs.findHostDirectiveDefs(Vs,So,j7),So.push(Vs)):So=[Vs];const cv=function iM(i,s){const o=i[Ze],c=Tt;return i[c]=s,lo(o,c,2,"#host",null)}($t,pe),EV=function sM(i,s,o,c,u,h,v){const _=u[Ze];!function ch(i,s,o,c){for(const u of i)s.mergedAttrs=Lr(s.mergedAttrs,u.hostAttrs);null!==s.mergedAttrs&&(Ml(s,s.mergedAttrs,!0),null!==o&&P9(c,o,s))}(c,i,s,v);let b=null;null!==s&&(b=k5(s,u[Kn]));const E=h.rendererFactory.createRenderer(s,o);let x=16;o.signals?x=4096:o.onPush&&(x=64);const k=c6(u,xd(o),null,x,u[i.index],i,h,E,null,null,b);return _.firstCreatePass&&eu(_,i,c.length-1),_l(u,k),u[i.index]=k}(cv,pe,Vs,So,$t,k,$);wn=n4(At,Tt),pe&&function oM(i,s,o,c){if(c)fi(i,o,["ng-version",dd.full]);else{const{attrs:u,classes:h}=function nn(i){const s=[],o=[];let c=1,u=2;for(;c<i.length;){let h=i[c];if("string"==typeof h)2===u?""!==h&&s.push(h,i[++c]):8===u&&o.push(h);else{if(!A1(u))break;u=h}c++}return{attrs:s,classes:o}}(s.selectors[0]);u&&fi(i,o,u),h&&h.length>0&&k9(i,o,h.join(" "))}}($,Vs,pe,c),void 0!==o&&function lh(i,s,o){const c=i.projection=[];for(let u=0;u<s.length;u++){const h=o[u];c.push(null!=h?Array.from(h):null)}}(wn,this.ngContentSelectors,o),o2=function aM(i,s,o,c,u,h){const v=x2(),_=u[Ze],b=u1(v,u);Pd(_,u,v,o,null,c);for(let x=0;x<o.length;x++)V1(Tn(u,_,v.directiveStart+x,v),u);Od(_,u,v),b&&V1(b,u);const E=Tn(u,_,v.directiveStart+v.componentOffset,v);if(i[u2]=u[u2]=E,null!==h)for(const x of h)x(E,s);return vl(_,v,i),E}(EV,Vs,So,j7,$t,[cM]),su(At,$t,null)}finally{Vi()}return new oh(this.componentType,o2,so(wn,$t),$t,wn)}}class oh extends p_{constructor(s,o,c,u,h){super(),this.location=c,this._rootLView=u,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new nM(u),this.componentType=s}setInput(s,o){const c=this._tNode.inputs;let u;if(null!==c&&(u=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const h=this._rootLView;iu(h[Ze],h,u,s,o),this.previousInputValues.set(s,o),o6(L2(this._tNode.index,h))}}get injector(){return new K2(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function cM(){const i=x2();Ei(fe()[Ze],i)}function Hl(i){return!!ou(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function ou(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ni(i,s,o){return i[s]=o}function W1(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Vl(i,s,o,c,u){const h=function T4(i,s,o,c){const u=W1(i,s,o);return W1(i,s+1,c)||u}(i,s,o,c);return W1(i,s+2,u)||h}function cu(i,s,o,c){const u=fe();return W1(u,H1(),s)&&(qt(),ti(M2(),u,i,s,o,c)),cu}function Lh(i,s,o,c,u,h,v,_){const b=fe(),E=qt(),x=i+Tt,k=E.firstCreatePass?function AM(i,s,o,c,u,h,v,_,b){const E=s.consts,x=lo(s,i,4,v||null,dr(E,_));Cl(s,o,x,dr(E,b)),Ei(s,x);const k=x.tView=yl(2,x,c,u,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,E,null);return null!==s.queries&&(s.queries.template(s,x),k.queries=s.queries.embeddedTView(x)),x}(x,E,b,s,o,c,u,h,v):E.data[x];an(k,!1);const $=gu(E,b,k,i);gr()&&el(E,b,$,k),V1($,b),_l(b,b[x]=$d($,b,$,k)),j1(k)&&Q5(E,b,k),null!=v&&J5(b,k,_)}let gu=function xh(i,s,o,c){return vr(!0),s[Vt].createComment("")};function yu(i,s,o){const c=fe();return W1(c,H1(),s)&&tr(qt(),M2(),c,i,s,c[Vt],o,!1),yu}function Cu(i,s,o,c,u){const v=u?"class":"style";iu(i,o,s.inputs[v],v,c)}function Ll(i,s,o,c){const u=fe(),h=qt(),v=Tt+i,_=u[Vt],b=h.firstCreatePass?function PM(i,s,o,c,u,h){const v=s.consts,b=lo(s,i,2,c,dr(v,u));return Cl(s,o,b,dr(v,h)),null!==b.attrs&&Ml(b,b.attrs,!1),null!==b.mergedAttrs&&Ml(b,b.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,b),b}(v,h,u,s,o,c):h.data[v],E=Dh(h,u,b,_,s,i);u[v]=E;const x=j1(b);return an(b,!0),P9(_,E,b),32!=(32&b.flags)&&gr()&&el(h,u,E,b),0===function e3(){return It.lFrame.elementDepthCount}()&&V1(E,u),function t3(){It.lFrame.elementDepthCount++}(),x&&(Q5(h,u,b),vl(h,b,u)),null!==c&&J5(u,b),Ll}function xl(){let i=x2();Z2()?pr():(i=i.parent,an(i,!1));const s=i;(function jr(i){return It.skipHydrationRootTNode===i})(s)&&function vc(){It.skipHydrationRootTNode=null}(),function v0(){It.lFrame.elementDepthCount--}();const o=qt();return o.firstCreatePass&&(Ei(o,i),Os(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function o3(i){return 0!=(8&i.flags)}(s)&&Cu(o,s,fe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function An(i){return 0!=(16&i.flags)}(s)&&Cu(o,s,fe(),s.stylesWithoutHost,!1),xl}function Dl(i,s,o,c){return Ll(i,s,o,c),xl(),Dl}let Dh=(i,s,o,c,u,h)=>(vr(!0),I(c,u,function Ii(){return It.lFrame.currentNamespace}()));function Al(i){return!!i&&"function"==typeof i.then}function kh(i){return!!i&&"function"==typeof i.subscribe}function Uh(i=1){return function ba(i){return(It.lFrame.contextLView=function Ha(i,s){for(;i>0;)s=s[Yn],i--;return s}(i,It.lFrame.contextLView))[u2]}(i)}function UM(i,s){let o=null;const c=function ta(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(!(1&o))return s[o+1]}return null}(i);for(let u=0;u<s.length;u++){const h=s[u];if("*"!==h){if(null===c?F3(i,h,!0):ic(c,h))return u}else o=u}return o}function jh(i){const s=fe()[f2][i1];if(!s.projection){const c=s.projection=U(i?i.length:1,null),u=c.slice();let h=s.child;for(;null!==h;){const v=i?UM(h,i):0;null!==v&&(u[v]?u[v].projectionNext=h:c[v]=h,u[v]=h),h=h.next}}}function $h(i,s=0,o){const c=fe(),u=qt(),h=lo(u,Tt+i,16,null,o||null);null===h.projection&&(h.projection=s),pr(),(!c[rn]||ts())&&32!=(32&h.flags)&&function _C(i,s,o){T9(s[Vt],0,s,o,Za(i,o,s),J0(o.parent||s[i1],o,s))}(u,c,h)}function Nl(i,s){return i<<17|s<<2}function H3(i){return i>>17&32767}function Iu(i){return 2|i}function V3(i){return(131068&i)>>2}function Eu(i,s){return-131069&i|s<<2}function Su(i){return 1|i}function Xh(i,s,o,c,u){const h=i[o+1],v=null===s;let _=c?H3(h):V3(h),b=!1;for(;0!==_&&(!1===b||v);){const x=i[_+1];GM(i[_],s)&&(b=!0,i[_+1]=c?Su(x):Iu(x)),_=c?H3(x):V3(x)}b&&(i[o+1]=c?Iu(h):Su(h))}function GM(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&bt(i,s)>=0}const c1={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ep(i){return i.substring(c1.key,c1.keyEnd)}function qM(i){return i.substring(c1.value,c1.valueEnd)}function np(i,s){const o=c1.textEnd;let c=c1.key=k4(i,s,o);return o===c?-1:(c=c1.keyEnd=function ip(i,s,o){let c;for(;s<o&&(45===(c=i.charCodeAt(s))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)s++;return s}(i,c,o),c=sp(i,c,o),c=c1.value=k4(i,c,o),c=c1.valueEnd=function YM(i,s,o){let c=-1,u=-1,h=-1,v=s,_=v;for(;v<o;){const b=i.charCodeAt(v++);if(59===b)return _;34===b||39===b?_=v=Lu(i,b,v,o):s===v-4&&85===h&&82===u&&76===c&&40===b?_=v=Lu(i,41,v,o):b>32&&(_=v),h=u,u=c,c=-33&b}return _}(i,c,o),sp(i,c,o))}function k4(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function sp(i,s,o,c){return(s=k4(i,s,o))<o&&s++,s}function Lu(i,s,o,c){let u=-1,h=o;for(;h<c;){const v=i.charCodeAt(h++);if(v==s&&92!==u)return h;u=92==v&&92===u?0:v}throw new Error}function xu(i,s){return function br(i,s,o,c){const u=fe(),h=qt(),v=yn(2);h.firstUpdatePass&&op(h,i,v,c),s!==Nt&&W1(u,v,s)&&lp(h,h.data[k1()],u,u[Vt],i,u[v+1]=function up(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ie(Ai(i)))),i}(s,o),c,v)}(i,s,null,!0),xu}function ni(i){!function ri(i,s,o,c){const u=qt(),h=yn(2);u.firstUpdatePass&&op(u,null,h,c);const v=fe();if(o!==Nt&&W1(v,h,o)){const _=u.data[k1()];if(fp(_,c)&&!Au(u,h)){let b=c?_.classesWithoutHost:_.stylesWithoutHost;null!==b&&(o=qe(b,o||"")),Cu(u,_,v,o,c)}else!function rw(i,s,o,c,u,h,v,_){u===Nt&&(u=Ge);let b=0,E=0,x=0<u.length?u[0]:null,k=0<h.length?h[0]:null;for(;null!==x||null!==k;){const $=b<u.length?u[b+1]:void 0,Z=E<h.length?h[E+1]:void 0;let ke,pe=null;x===k?(b+=2,E+=2,$!==Z&&(pe=k,ke=Z)):null===k||null!==x&&x<k?(b+=2,pe=x):(E+=2,pe=k,ke=Z),null!==pe&&lp(i,s,o,c,pe,ke,v,_),x=b<u.length?u[b]:null,k=E<h.length?h[E]:null}}(u,_,v,v[Vt],v[h+1],v[h+1]=function tw(i,s,o){if(null==o||""===o)return Ge;const c=[],u=Ai(o);if(Array.isArray(u))for(let h=0;h<u.length;h++)i(c,u[h],!0);else if("object"==typeof u)for(const h in u)u.hasOwnProperty(h)&&i(c,h,u[h]);else"string"==typeof u&&s(c,u);return c}(i,s,o),c,h)}}(Pl,Du,i,!1)}function Du(i,s){for(let o=function ZM(i){return function rp(i){c1.key=0,c1.keyEnd=0,c1.value=0,c1.valueEnd=0,c1.textEnd=i.length}(i),np(i,k4(i,0,c1.textEnd))}(s);o>=0;o=np(s,o))Pl(i,ep(s),qM(s))}function Au(i,s){return s>=i.expandoStartIndex}function op(i,s,o,c){const u=i.data;if(null===u[o+1]){const h=u[k1()],v=Au(i,o);fp(h,c)&&null===s&&!v&&(s=!1),s=function cp(i,s,o,c){const u=function $r(i){const s=It.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=c?s.residualClasses:s.residualStyles;if(null===u)0===(c?s.classBindings:s.styleBindings)&&(o=g6(o=kl(null,i,s,o,c),s.attrs,c),h=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==u)if(o=kl(u,i,s,o,c),null===h){let b=function JM(i,s,o){const c=o?s.classBindings:s.styleBindings;if(0!==V3(c))return i[H3(c)]}(i,s,c);void 0!==b&&Array.isArray(b)&&(b=kl(null,i,s,b[1],c),b=g6(b,s.attrs,c),function XM(i,s,o,c){i[H3(o?s.classBindings:s.styleBindings)]=c}(i,s,c,b))}else h=function ew(i,s,o){let c;const u=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<u;h++)c=g6(c,i[h].hostAttrs,o);return g6(c,s.attrs,o)}(i,s,c)}return void 0!==h&&(c?s.residualClasses=h:s.residualStyles=h),o}(u,h,s,c),function $M(i,s,o,c,u,h){let v=h?s.classBindings:s.styleBindings,_=H3(v),b=V3(v);i[c]=o;let x,E=!1;if(Array.isArray(o)?(x=o[1],(null===x||bt(o,x)>0)&&(E=!0)):x=o,u)if(0!==b){const $=H3(i[_+1]);i[c+1]=Nl($,_),0!==$&&(i[$+1]=Eu(i[$+1],c)),i[_+1]=function jM(i,s){return 131071&i|s<<17}(i[_+1],c)}else i[c+1]=Nl(_,0),0!==_&&(i[_+1]=Eu(i[_+1],c)),_=c;else i[c+1]=Nl(b,0),0===_?_=c:i[b+1]=Eu(i[b+1],c),b=c;E&&(i[c+1]=Iu(i[c+1])),Xh(i,x,c,!0),Xh(i,x,c,!1),function zu(i,s,o,c,u){const h=u?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&bt(h,s)>=0&&(o[c+1]=Su(o[c+1]))}(s,x,i,c,h),v=Nl(_,b),h?s.classBindings=v:s.styleBindings=v}(u,h,s,o,v,c)}}function kl(i,s,o,c,u){let h=null;const v=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<v&&(h=s[_],c=g6(c,h.hostAttrs,u),h!==i);)_++;return null!==i&&(o.directiveStylingLast=_),c}function g6(i,s,o){const c=o?1:2;let u=-1;if(null!==s)for(let h=0;h<s.length;h++){const v=s[h];"number"==typeof v?u=v:u===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Fe(i,v,!!o||s[++h]))}return void 0===i?null:i}function Pl(i,s,o){Fe(i,s,Ai(o))}function lp(i,s,o,c,u,h,v,_){if(!(3&s.type))return;const b=i.data,E=b[_+1],x=function Jh(i){return 1==(1&i)}(E)?Tu(b,s,o,u,V3(E),v):void 0;Rl(x)||(Rl(h)||function Qh(i){return 2==(2&i)}(E)&&(h=Tu(b,null,o,u,_,v)),function wC(i,s,o,c,u){if(s)u?i.addClass(o,c):i.removeClass(o,c);else{let h=-1===c.indexOf("-")?void 0:$a.DashCase;null==u?i.removeStyle(o,c,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=$a.Important),i.setStyle(o,c,u,h))}}(c,v,Js(k1(),o),u,h))}function Tu(i,s,o,c,u,h){const v=null===s;let _;for(;u>0;){const b=i[u],E=Array.isArray(b),x=E?b[1]:b,k=null===x;let $=o[u+1];$===Nt&&($=k?Ge:void 0);let Z=k?Et($,c):x===c?$:void 0;if(E&&!Rl(Z)&&(Z=Et(b,c)),Rl(Z)&&(_=Z,v))return _;const pe=i[u+1];u=v?H3(pe):V3(pe)}if(null!==s){let b=h?s.residualClasses:s.residualStyles;null!=b&&(_=Et(b,c))}return _}function Rl(i){return void 0!==i}function fp(i,s){return 0!=(i.flags&(s?8:16))}function dp(i,s=""){const o=fe(),c=qt(),u=i+Tt,h=c.firstCreatePass?lo(c,u,1,s,null):c.data[u],v=Nu(c,o,h,s,i);o[u]=v,gr()&&el(c,o,v,h),an(h,!1)}let Nu=(i,s,o,c,u)=>(vr(!0),function d(i,s){return i.createText(s)}(s[Vt],c));function ku(i){return v6("",i,""),ku}function v6(i,s,o){const c=fe(),u=function fo(i,s,o,c){return W1(i,H1(),o)?s+Q(o)+c:Nt}(c,i,s,o);return u!==Nt&&function Ti(i,s,o){const c=Js(s,i);!function p(i,s,o){i.setValue(s,o)}(i[Vt],c,o)}(c,k1(),u),v6}function Ol(i,s,o){const c=fe();return W1(c,H1(),s)&&tr(qt(),M2(),c,i,s,c[Vt],o,!0),Ol}const P4=void 0;var ww=["en",[["a","p"],["AM","PM"],P4],[["AM","PM"],P4,P4],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],P4,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],P4,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",P4,"{1} 'at' {0}",P4],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mw(i){const o=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let R4={};function Fl(i){const s=function Bu(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=xp(s);if(o)return o;const c=s.split("-")[0];if(o=xp(c),o)return o;if("en"===c)return ww;throw new Y(701,!1)}function Lp(i){return Fl(i)[Mo.PluralCase]}function xp(i){return i in R4||(R4[i]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[i]),R4[i]}var Mo=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Mo||{});const wo="en-US";let Uu=wo;class O4{}class ub{}function fb(i,s){return new Ju(i,s??null,[])}class Ju extends O4{constructor(s,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ih(this);const u=function C1(i,s){const o=i[S2]||null;if(!o&&!0===s)throw new Error(`Type ${ie(i)} does not have '\u0275mod' property.`);return o}(s);this._bootstrapComponents=function ws(i){return i instanceof Function?i():i}(u.bootstrap),this._r3Injector=vd(s,o,[{provide:O4,useValue:this},{provide:a6,useValue:this.componentFactoryResolver},...c],ie(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Xu extends ub{constructor(s){super(),this.moduleType=s}create(s){return new Ju(this.moduleType,s,[])}}function Cm(i,s,o){const c=N1()+i,u=fe();return u[c]===Nt?Ni(u,c,o?s.call(o):s()):function d6(i,s){return i[s]}(u,c)}function _m(i,s,o,c){return bm(fe(),N1(),i,s,o,c)}function Vo(i,s){const o=i[s];return o===Nt?void 0:o}function bm(i,s,o,c,u,h){const v=s+o;return W1(i,v,u)?Ni(i,v+1,h?c.call(h,u):c(u)):Vo(i,v+1)}function Sm(i,s){const o=qt();let c;const u=i+Tt;o.firstCreatePass?(c=function zb(i,s){if(s)for(let o=s.length-1;o>=0;o--){const c=s[o];if(i===c.name)return c}}(s,o.pipeRegistry),o.data[u]=c,c.onDestroy&&(o.destroyHooks??=[]).push(u,c.onDestroy)):c=o.data[u];const h=c.factory||(c.factory=Rr(c.type)),_=r2(co);try{const b=Cr(!1),E=h();return Cr(b),function kM(i,s,o,c){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=c}(o,fe(),u,E),E}finally{r2(_)}}function zm(i,s,o){const c=i+Tt,u=fe(),h=sn(u,c);return w6(u,c)?bm(u,N1(),s,h.transform,o,h):h.transform(o)}function Lm(i,s,o,c,u){const h=i+Tt,v=fe(),_=sn(v,h);return w6(v,h)?function Vm(i,s,o,c,u,h,v,_){const b=s+o;return Vl(i,b,u,h,v)?Ni(i,b+3,_?c.call(_,u,h,v):c(u,h,v)):Vo(i,b+3)}(v,N1(),s,_.transform,o,c,u,_):_.transform(o,c,u)}function w6(i,s){return i[Ze].data[s].pure}function r7(i){return s=>{setTimeout(i,void 0,s)}}const bs=class Tb extends g.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,c){let u=s,h=o||(()=>null),v=c;if(s&&"object"==typeof s){const b=s;u=b.next?.bind(b),h=b.error?.bind(b),v=b.complete?.bind(b)}this.__isAsync&&(h=r7(h),u&&(u=r7(u)),v&&(v=r7(v)));const _=super.subscribe({next:u,error:h,complete:v});return s instanceof X.w0&&s.add(_),_}};function Rb(i,s,o,c=!0){const u=s[Ze];if(function Ue(i,s,o,c){const u=o1+c,h=o.length;c>0&&(o[u-1][_1]=s),c<h-o1?(s[_1]=o[u],z(o,o1+c,s)):(o.push(s),s[_1]=null),s[l2]=o;const v=s[$3];null!==v&&o!==v&&function tt(i,s){const o=i[q2];s[f2]!==s[l2][l2][f2]&&(i[Rs]=!0),null===o?i[q2]=[s]:o.push(s)}(v,s);const _=s[a1];null!==_&&_.insertView(i),s[_t]|=128}(u,s,i,o),c){const h=d5(o,i),v=s[Vt],_=Ya(v,i[G2]);null!==_&&function B(i,s,o,c,u,h){c[g2]=u,c[i1]=s,Kc(i,c,o,1,u,h)}(u,i[i1],v,s,_,h)}}let b6=(()=>{class s{}return s.__NG_ELEMENT_ID__=Bb,s})();const xm=b6,Fb=class extends xm{constructor(s,o,c){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,c){const u=function kb(i,s,o,c){const u=s.tView,_=c6(i,u,o,4096&i[_t]?4096:16,null,s,null,null,null,c?.injector??null,c?.hydrationInfo??null);_[$3]=i[s.index];const E=i[a1];return null!==E&&(_[a1]=E.createEmbeddedView(u)),su(u,_,o),_}(this._declarationLView,this._declarationTContainer,s,{injector:o,hydrationInfo:c});return new u6(u)}};function Bb(){return function H6(i,s){return 4&i.type?new Fb(s,i,so(i,s)):null}(x2(),fe())}let Zl=(()=>{class s{}return s.__NG_ELEMENT_ID__=qb,s})();function qb(){return function Rm(i,s){let o;const c=s[i.index];return M1(c)?o=c:(o=$d(c,s,null,i),s[i.index]=o,_l(s,o)),Om(o,s,i,c),new km(o,i,s)}(x2(),fe())}const Nm=Zl,km=class extends Nm{constructor(s,o,c){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=c}get element(){return so(this._hostTNode,this._hostLView)}get injector(){return new K2(this._hostTNode,this._hostLView)}get parentInjector(){const s=zi(this._hostTNode,this._hostLView);if(h4(s)){const o=Zr(s,this._hostLView),c=Wr(s);return new K2(o[Ze].data[c+8],o)}return new K2(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Pm(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-o1}createEmbeddedView(s,o,c){let u,h;"number"==typeof c?u=c:null!=c&&(u=c.index,h=c.injector);const _=s.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(_,u,false),_}createComponent(s,o,c,u,h){const v=s&&!function hs(i){return"function"==typeof i}(s);let _;if(v)_=o;else{const ke=o||{};_=ke.index,c=ke.injector,u=ke.projectableNodes,h=ke.environmentInjector||ke.ngModuleRef}const b=v?s:new f6(jt(s)),E=c||this.parentInjector;if(!h&&null==b.ngModule){const Ye=(v?E:this.parentInjector).get(Ms,null);Ye&&(h=Ye)}jt(b.componentType??{});const Z=b.create(E,u,null,h);return this.insertImpl(Z.hostView,_,false),Z}insert(s,o){return this.insertImpl(s,o,!1)}insertImpl(s,o,c){const u=s._lView;if(function r4(i){return M1(i[l2])}(u)){const b=this.indexOf(s);if(-1!==b)this.detach(b);else{const E=u[l2],x=new km(E,E[i1],E[l2]);x.detach(x.indexOf(s))}}const v=this._adjustIndex(o),_=this._lContainer;return Rb(_,u,v,!c),s.attachToViewContainerRef(),z(Kl(_),v,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Pm(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),c=h2(this._lContainer,o);c&&(A(Kl(this._lContainer),o),ln(c[Ze],c))}detach(s){const o=this._adjustIndex(s,-1),c=h2(this._lContainer,o);return c&&null!=A(Kl(this._lContainer),o)?new u6(c):null}_adjustIndex(s,o=0){return s??this.length+o}};function Pm(i){return i[8]}function Kl(i){return i[8]||(i[8]=[])}let Om=function Fm(i,s,o,c){if(i[G2])return;let u;u=8&o.type?e2(c):function Wb(i,s){const o=i[Vt],c=o.createComment(""),u=u1(s,i);return Xr(o,Ya(o,u),c,function Qa(i,s){return i.nextSibling(s)}(o,u),!1),c}(s,o),i[G2]=u};const CH=new s2("Application Initializer");let y7=(()=>{var i;class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u}),this.appInits=Lt(CH,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const v=h();if(Al(v))c.push(v);else if(kh(v)){const _=new Promise((b,E)=>{v.subscribe({complete:b,error:E})});c.push(_)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();const t8=new s2("LocaleId",{providedIn:"root",factory:()=>Lt(t8,mt.Optional|mt.SkipSelf)||function MH(){return typeof $localize<"u"&&$localize.locale||wo}()}),wH=new s2("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let HH=(()=>{var i;class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new N(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function bg(...i){}class un{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bs(!1),this.onMicrotaskEmpty=new bs(!1),this.onStable=new bs(!1),this.onError=new bs(!1),typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!c&&o,u.shouldCoalesceRunChangeDetection=c,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function RH(){const i="function"==typeof Yt.requestAnimationFrame;let s=Yt[i?"requestAnimationFrame":"setTimeout"],o=Yt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function FH(i){const s=()=>{!function Vg(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Yt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,b7(i),i.isCheckStableRunning=!0,w7(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),b7(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,u,h,v,_)=>{try{return Ig(i),o.invokeTask(u,h,v,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),Eg(i)}},onInvoke:(o,c,u,h,v,_,b)=>{try{return Ig(i),o.invoke(u,h,v,_,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),Eg(i)}},onHasTask:(o,c,u,h)=>{o.hasTask(u,h),c===u&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,b7(i),w7(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,c,u,h)=>(o.handleError(u,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!un.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(un.isInAngularZone())throw new Y(909,!1)}run(s,o,c){return this._inner.run(s,o,c)}runTask(s,o,c,u){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+u,s,OH,bg,bg);try{return h.runTask(v,o,c)}finally{h.cancelTask(v)}}runGuarded(s,o,c){return this._inner.runGuarded(s,o,c)}runOutsideAngular(s){return this._outer.run(s)}}const OH={};function w7(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function b7(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ig(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Eg(i){i._nesting--,w7(i)}class BH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bs,this.onMicrotaskEmpty=new bs,this.onStable=new bs,this.onError=new bs}run(s,o,c){return s.apply(o,c)}runGuarded(s,o,c){return s.apply(o,c)}runOutsideAngular(s){return s()}runTask(s,o,c,u){return s.apply(o,c)}}const H7=new s2("",{providedIn:"root",factory:Sg});function Sg(){const i=Lt(un);let s=!0;const o=new se.y(u=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{u.next(s),u.complete()})}),c=new se.y(u=>{let h;i.runOutsideAngular(()=>{h=i.onStable.subscribe(()=>{un.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,u.next(!0))})})});const v=i.onUnstable.subscribe(()=>{un.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{u.next(!1)}))});return()=>{h.unsubscribe(),v.unsubscribe()}});return(0,ne.T)(o,c.pipe((0,ge.B)()))}const zg=new s2(""),Lg=new s2("");let V7,UH=(()=>{var i;class s{constructor(c,u,h){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,V7||(function jH(i){V7=i}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{un.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let v=-1;u&&u>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==v),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:v,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}}return(i=s).\u0275fac=function(c){return new(c||i)(wt(un),wt(xg),wt(Lg))},i.\u0275prov=xt({token:i,factory:i.\u0275fac}),s})(),xg=(()=>{var i;class s{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return V7?.findTestabilityInTree(this,c,u)??null}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})(),Hs=null;const Dg=new s2("AllowMultipleToken"),I7=new s2("PlatformDestroyListeners"),E7=new s2("appBootstrapListener");function Ng(i,s,o=[]){const c=`Platform: ${s}`,u=new s2(c);return(h=[])=>{let v=r8();if(!v||v.injector.get(Dg,!1)){const _=[...o,...h,{provide:u,useValue:!0}];i?i(_):function ZH(i){if(Hs&&!Hs.get(Dg,!1))throw new Y(400,!1);(function Ag(){!function Q3(i){Ws=i}(()=>{throw new Y(600,!1)})})(),Hs=i;const s=i.get(Pg);(function Tg(i){i.get(L5,null)?.forEach(o=>o())})(i)}(function kg(i=[],s){return ei.create({name:s,providers:[{provide:E5,useValue:"platform"},{provide:I7,useValue:new Set([()=>Hs=null])},...i]})}(_,c))}return function S7(i){const s=r8();if(!s)throw new Y(401,!1);return s}()}}function r8(){return Hs?.get(Pg)??null}let Pg=(()=>{var i;class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const h=function YH(i="zone.js",s){return"noop"===i?new BH:"zone.js"===i?new un(s):i}(u?.ngZone,function Rg(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return h.run(()=>{const v=function db(i,s,o){return new Ju(i,s,o)}(c.moduleType,this.injector,function Ug(i){return[{provide:un,useFactory:i},{provide:Xc,multi:!0,useFactory:()=>{const s=Lt(JH,{optional:!0});return()=>s.initialize()}},{provide:Bg,useFactory:QH},{provide:H7,useFactory:Sg}]}(()=>h)),_=v.injector.get(D4,null);return h.runOutsideAngular(()=>{const b=h.onError.subscribe({next:E=>{_.handleError(E)}});v.onDestroy(()=>{i8(this._modules,v),b.unsubscribe()})}),function Og(i,s,o){try{const c=o();return Al(c)?c.catch(u=>{throw s.runOutsideAngular(()=>i.handleError(u)),u}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(_,h,()=>{const b=v.injector.get(y7);return b.runInitializers(),b.donePromise.then(()=>(function Ap(i){Xe(i,"Expected localeId to be defined"),"string"==typeof i&&(Uu=i.toLowerCase().replace(/_/g,"-"))}(v.injector.get(t8,wo)||wo),this._moduleDoBootstrap(v),v))})})}bootstrapModule(c,u=[]){const h=z7({},u);return function $H(i,s,o){const c=new Xu(o);return Promise.resolve(c)}(0,0,c).then(v=>this.bootstrapModuleFactory(v,h))}_moduleDoBootstrap(c){const u=c.injector.get(S6);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Y(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Y(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(I7,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=s).\u0275fac=function(c){return new(c||i)(wt(ei))},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})();function z7(i,s){return Array.isArray(s)?s.reduce(z7,i):{...i,...s}}let S6=(()=>{var i;class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Lt(Bg),this.zoneIsStable=Lt(H7),this.componentTypes=[],this.components=[],this.isStable=Lt(HH).hasPendingTasks.pipe((0,Te.w)(c=>c?(0,me.of)(!1):this.zoneIsStable),(0,we.x)(),(0,ge.B)()),this._injector=Lt(Ms)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,u){const h=c instanceof ld;if(!this._injector.get(y7).done)throw!h&&function Dr(i){const s=jt(i)||b2(i)||y1(i);return null!==s&&s.standalone}(c),new Y(405,!1);let _;_=h?c:this._injector.get(a6).resolveComponentFactory(c),this.componentTypes.push(_.componentType);const b=function qH(i){return i.isBoundToModule}(_)?void 0:this._injector.get(O4),x=_.create(ei.NULL,[],u||_.selector,b),k=x.location.nativeElement,$=x.injector.get(zg,null);return $?.registerApplication(k),x.onDestroy(()=>{this.detachView(x.hostView),i8(this.components,x),$?.unregisterApplication(k)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Y(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;i8(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(E7,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>i8(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Y(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function i8(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}const Bg=new s2("",{providedIn:"root",factory:()=>Lt(D4).handleError.bind(void 0)});function QH(){const i=Lt(un),s=Lt(D4);return o=>i.runOutsideAngular(()=>s.handleError(o))}let JH=(()=>{var i;class s{constructor(){this.zone=Lt(un),this.applicationRef=Lt(S6)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=s).\u0275fac=function(c){return new(c||i)},i.\u0275prov=xt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function XH(){return!1}let eV=(()=>{class s{}return s.__NG_ELEMENT_ID__=tV,s})();function tV(i){return function nV(i,s,o){if(Pr(i)&&!o){const c=L2(i.index,s);return new u6(c,c)}return 47&i.type?new u6(s[f2],s):null}(x2(),fe(),16==(16&i))}class Wg{constructor(){}supports(s){return Hl(s)}create(s){return new cV(s)}}const Zg=(i,s)=>s;class cV{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Zg}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,c=this._removalsHead,u=0,h=null;for(;o||c;){const v=!c||o&&o.currentIndex<Yg(c,u,h)?o:c,_=Yg(v,u,h),b=v.currentIndex;if(v===c)u--,c=c._nextRemoved;else if(o=o._next,null==v.previousIndex)u++;else{h||(h=[]);const E=_-u,x=b-u;if(E!=x){for(let $=0;$<E;$++){const Z=$<h.length?h[$]:h[$]=0,pe=Z+$;x<=pe&&pe<E&&(h[$]=Z+1)}h[v.previousIndex]=x-E}}_!==b&&s(v,_,b)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Hl(s))throw new Y(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u,h,v,o=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)h=s[_],v=this._trackByFn(_,h),null!==o&&Object.is(o.trackById,v)?(c&&(o=this._verifyReinsertion(o,h,v,_)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,_),c=!0),o=o._next}else u=0,function yh(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Symbol.iterator]();let c;for(;!(c=o.next()).done;)s(c.value)}}(s,_=>{v=this._trackByFn(u,_),null!==o&&Object.is(o.trackById,v)?(c&&(o=this._verifyReinsertion(o,_,v,u)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,v,u),c=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,c,u){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,u)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,u))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,u)):s=this._addAfter(new Kg(o,c),h,u),s}_verifyReinsertion(s,o,c,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?s=this._reinsertAfter(h,s._prev,u):s.currentIndex!=u&&(s.currentIndex=u,this._addToMoves(s,u)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const u=s._prevRemoved,h=s._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(s,o,c),this._addToMoves(s,c),s}_moveAfter(s,o,c){return this._unlink(s),this._insertAfter(s,o,c),this._addToMoves(s,c),s}_addAfter(s,o,c){return this._insertAfter(s,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,c){const u=null===o?this._itHead:o._next;return s._next=u,s._prev=o,null===u?this._itTail=s:u._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new T7),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,c=s._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T7),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Kg{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lV{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const o=s._prevDup,c=s._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class T7{constructor(){this.map=new Map}put(s){const o=s.trackById;let c=this.map.get(o);c||(c=new lV,this.map.set(o,c)),c.add(s)}get(s,o){const u=this.map.get(s);return u?u.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yg(i,s,o){const c=i.previousIndex;if(null===c)return c;let u=0;return o&&c<o.length&&(u=o[c]),c+s+u}class Qg{constructor(){}supports(s){return s instanceof Map||ou(s)}create(){return new uV}}class uV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||ou(s)))throw new Y(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(u,c);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const c=s._prev;return o._next=s,o._prev=c,s._prev=o,c&&(c._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const u=this._records.get(s);this._maybeAddToChanges(u,o);const h=u._prev,v=u._next;return h&&(h._next=v),v&&(v._prev=h),u._next=null,u._prev=null,u}const c=new Jg(s);return this._records.set(s,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(c=>o(s[c],c))}}class Jg{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xg(){return new N7([new Wg])}let N7=(()=>{var i;class s{constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:u=>s.create(c,u||Xg()),deps:[[s,new Lc,new y3]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new Y(901,!1)}}return(i=s).\u0275prov=xt({token:i,providedIn:"root",factory:Xg}),s})();function ev(){return new k7([new Qg])}let k7=(()=>{var i;class s{constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:u=>s.create(c,u||ev()),deps:[[s,new Lc,new y3]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new Y(901,!1)}}return(i=s).\u0275prov=xt({token:i,providedIn:"root",factory:ev}),s})();const pV=Ng(null,"core",[]);let mV=(()=>{var i;class s{constructor(c){}}return(i=s).\u0275fac=function(c){return new(c||i)(wt(S6))},i.\u0275mod=Wi({type:i}),i.\u0275inj=p2({}),s})()},3106:(ht,ze,T)=>{T.d(ze,{Z:()=>dt});var g=T(9058),X=T(4537),N=T(534),se=T(7879);class ne{constructor(Be,Oe){this._delegate=Be,this.firebase=Oe,(0,N._addComponent)(Be,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Be,Oe=N._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(Be);return!rt.isInitialized()&&"EXPLICIT"===(null===(at=rt.getComponent())||void 0===at?void 0:at.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Oe})}_removeServiceInstance(Be,Oe=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(Oe)}_addComponent(Be){(0,N._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,N._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),R=function we(){const ve=function Te(ve){const Be={},Oe={__esModule:!0,initializeApp:function Y(De,We={}){const re=N.initializeApp(De,We);if((0,g.r3)(Be,re.name))return Be[re.name];const ct=new ve(re,Oe);return Be[re.name]=ct,ct},app:rt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Q(De){const We=De.name,re=We.replace("-compat","");if(N._registerComponent(De)&&"PUBLIC"===De.type){const ct=(Pt=rt())=>{if("function"!=typeof Pt[re])throw ge.create("invalid-app-argument",{appName:We});return Pt[re]()};void 0!==De.serviceProps&&(0,g.ZB)(ct,De.serviceProps),Oe[re]=ct,ve.prototype[re]=function(...Pt){return this._getService.bind(this,We).apply(this,De.multipleInstances?Pt:[])}}return"PUBLIC"===De.type?Oe[re]:null},removeApp:function at(De){delete Be[De]},useAsService:function He(De,We){return"serverAuth"===We?null:We},modularAPIs:N}};function rt(De){if(!(0,g.r3)(Be,De=De||N._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:De});return Be[De]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function he(){return Object.keys(Be).map(De=>Be[De])}}),rt.App=ve,Oe}(ne);return ve.INTERNAL=Object.assign(Object.assign({},ve.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Be(Oe){(0,g.ZB)(ve,Oe)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ve}(),j=new se.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ve=self.firebase.SDK_VERSION;ve&&ve.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=R;!function xe(ve){(0,N.registerVersion)("@firebase/app-compat","0.2.13",ve)}()},534:(ht,ze,T)=>{T.r(ze),T.d(ze,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Sr,_DEFAULT_ENTRY_NAME:()=>mt,_addComponent:()=>m2,_addOrOverwriteComponent:()=>L1,_apps:()=>zt,_clearComponents:()=>Kt,_components:()=>r2,_getProvider:()=>n1,_registerComponent:()=>Yt,_removeServiceInstance:()=>Ui,deleteApp:()=>gn,getApp:()=>J1,getApps:()=>or,initializeApp:()=>zr,onLog:()=>D1,registerVersion:()=>j2,setLogLevel:()=>I2});var g=T(5861),X=T(4537),N=T(7879),se=T(9058);const ne=(oe,J)=>J.some(Ee=>oe instanceof Ee);let me,ge;const R=new WeakMap,j=new WeakMap,ie=new WeakMap,qe=new WeakMap,xe=new WeakMap;let Be={get(oe,J,Ee){if(oe instanceof IDBTransaction){if("done"===J)return j.get(oe);if("objectStoreNames"===J)return oe.objectStoreNames||ie.get(oe);if("store"===J)return Ee.objectStoreNames[1]?void 0:Ee.objectStore(Ee.objectStoreNames[0])}return Y(oe[J])},set:(oe,J,Ee)=>(oe[J]=Ee,!0),has:(oe,J)=>oe instanceof IDBTransaction&&("done"===J||"store"===J)||J in oe};function rt(oe){return"function"==typeof oe?function at(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...J){return oe.apply(he(this),J),Y(R.get(this))}:function(...J){return Y(oe.apply(he(this),J))}:function(J,...Ee){const it=oe.call(he(this),J,...Ee);return ie.set(it,J.sort?J.sort():[J]),Y(it)}}(oe):(oe instanceof IDBTransaction&&function ve(oe){if(j.has(oe))return;const J=new Promise((Ee,it)=>{const Ge=()=>{oe.removeEventListener("complete",Dt),oe.removeEventListener("error",Zt),oe.removeEventListener("abort",Zt)},Dt=()=>{Ee(),Ge()},Zt=()=>{it(oe.error||new DOMException("AbortError","AbortError")),Ge()};oe.addEventListener("complete",Dt),oe.addEventListener("error",Zt),oe.addEventListener("abort",Zt)});j.set(oe,J)}(oe),ne(oe,function Te(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Be):oe)}function Y(oe){if(oe instanceof IDBRequest)return function dt(oe){const J=new Promise((Ee,it)=>{const Ge=()=>{oe.removeEventListener("success",Dt),oe.removeEventListener("error",Zt)},Dt=()=>{Ee(Y(oe.result)),Ge()},Zt=()=>{it(oe.error),Ge()};oe.addEventListener("success",Dt),oe.addEventListener("error",Zt)});return J.then(Ee=>{Ee instanceof IDBCursor&&R.set(Ee,oe)}).catch(()=>{}),xe.set(J,oe),J}(oe);if(qe.has(oe))return qe.get(oe);const J=rt(oe);return J!==oe&&(qe.set(oe,J),xe.set(J,oe)),J}const he=oe=>xe.get(oe),De=["get","getKey","getAll","getAllKeys","count"],We=["put","add","delete","clear"],re=new Map;function ct(oe,J){if(!(oe instanceof IDBDatabase)||J in oe||"string"!=typeof J)return;if(re.get(J))return re.get(J);const Ee=J.replace(/FromIndex$/,""),it=J!==Ee,Ge=We.includes(Ee);if(!(Ee in(it?IDBIndex:IDBObjectStore).prototype)||!Ge&&!De.includes(Ee))return;const Dt=function(){var Zt=(0,g.Z)(function*(E2,...S2){const r1=this.transaction(E2,Ge?"readwrite":"readonly");let xn=r1.store;return it&&(xn=xn.index(S2.shift())),(yield Promise.all([xn[Ee](...S2),Ge&&r1.done]))[0]});return function(S2){return Zt.apply(this,arguments)}}();return re.set(J,Dt),Dt}!function Oe(oe){Be=oe(Be)}(oe=>({...oe,get:(J,Ee,it)=>ct(J,Ee)||oe.get(J,Ee,it),has:(J,Ee)=>!!ct(J,Ee)||oe.has(J,Ee)}));class Pt{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function e1(oe){const J=oe.getComponent();return"VERSION"===J?.type}(Ee)){const it=Ee.getImmediate();return`${it.library}/${it.version}`}return null}).filter(Ee=>Ee).join(" ")}}const z1="@firebase/app",V2=new N.Yd("@firebase/app"),mt="[DEFAULT]",Rt={[z1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zt=new Map,r2=new Map;function m2(oe,J){try{oe.container.addComponent(J)}catch(Ee){V2.debug(`Component ${J.name} failed to register with FirebaseApp ${oe.name}`,Ee)}}function L1(oe,J){oe.container.addOrOverwriteComponent(J)}function Yt(oe){const J=oe.name;if(r2.has(J))return V2.debug(`There were multiple attempts to register component ${J}.`),!1;r2.set(J,oe);for(const Ee of zt.values())m2(Ee,oe);return!0}function n1(oe,J){const Ee=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),oe.container.getProvider(J)}function Ui(oe,J,Ee=mt){n1(oe,J).clearInstance(Ee)}function Kt(){r2.clear()}const Ot=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(J,Ee,it){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=it,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw Ot.create("app-deleted",{appName:this._name})}}const Sr="9.23.0";function zr(oe,J={}){let Ee=oe;"object"!=typeof J&&(J={name:J});const it=Object.assign({name:mt,automaticDataCollectionEnabled:!1},J),Ge=it.name;if("string"!=typeof Ge||!Ge)throw Ot.create("bad-app-name",{appName:String(Ge)});if(Ee||(Ee=(0,se.aH)()),!Ee)throw Ot.create("no-options");const Dt=zt.get(Ge);if(Dt){if((0,se.vZ)(Ee,Dt.options)&&(0,se.vZ)(it,Dt.config))return Dt;throw Ot.create("duplicate-app",{appName:Ge})}const Zt=new X.H0(Ge);for(const S2 of r2.values())Zt.addComponent(S2);const E2=new Wn(Ee,it,Zt);return zt.set(Ge,E2),E2}function J1(oe=mt){const J=zt.get(oe);if(!J&&oe===mt&&(0,se.aH)())return zr();if(!J)throw Ot.create("no-app",{appName:oe});return J}function or(){return Array.from(zt.values())}function gn(oe){return U2.apply(this,arguments)}function U2(){return(U2=(0,g.Z)(function*(oe){const J=oe.name;zt.has(J)&&(zt.delete(J),yield Promise.all(oe.container.getProviders().map(Ee=>Ee.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function j2(oe,J,Ee){var it;let Ge=null!==(it=Rt[oe])&&void 0!==it?it:oe;Ee&&(Ge+=`-${Ee}`);const Dt=Ge.match(/\s|\//),Zt=J.match(/\s|\//);if(Dt||Zt){const E2=[`Unable to register library "${Ge}" with version "${J}":`];return Dt&&E2.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),Dt&&Zt&&E2.push("and"),Zt&&E2.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void V2.warn(E2.join(" "))}Yt(new X.wA(`${Ge}-version`,()=>({library:Ge,version:J}),"VERSION"))}function D1(oe,J){if(null!==oe&&"function"!=typeof oe)throw Ot.create("invalid-log-argument");(0,N.Am)(oe,J)}function I2(oe){(0,N.Ub)(oe)}const X1="firebase-heartbeat-database",en=1,F="firebase-heartbeat-store";let P=null;function G(){return P||(P=function Q(oe,J,{blocked:Ee,upgrade:it,blocking:Ge,terminated:Dt}={}){const Zt=indexedDB.open(oe,J),E2=Y(Zt);return it&&Zt.addEventListener("upgradeneeded",S2=>{it(Y(Zt.result),S2.oldVersion,S2.newVersion,Y(Zt.transaction),S2)}),Ee&&Zt.addEventListener("blocked",S2=>Ee(S2.oldVersion,S2.newVersion,S2)),E2.then(S2=>{Dt&&S2.addEventListener("close",()=>Dt()),Ge&&S2.addEventListener("versionchange",r1=>Ge(r1.oldVersion,r1.newVersion,r1))}).catch(()=>{}),E2}(X1,en,{upgrade:(oe,J)=>{0===J&&oe.createObjectStore(F)}}).catch(oe=>{throw Ot.create("idb-open",{originalErrorMessage:oe.message})})),P}function ee(){return(ee=(0,g.Z)(function*(oe){try{return yield(yield G()).transaction(F).objectStore(F).get(wt(oe))}catch(J){if(J instanceof se.ZR)V2.warn(J.message);else{const Ee=Ot.create("idb-get",{originalErrorMessage:J?.message});V2.warn(Ee.message)}}})).apply(this,arguments)}function Ke(oe,J){return St.apply(this,arguments)}function St(){return(St=(0,g.Z)(function*(oe,J){try{const it=(yield G()).transaction(F,"readwrite");yield it.objectStore(F).put(J,wt(oe)),yield it.done}catch(Ee){if(Ee instanceof se.ZR)V2.warn(Ee.message);else{const it=Ot.create("idb-set",{originalErrorMessage:Ee?.message});V2.warn(it.message)}}})).apply(this,arguments)}function wt(oe){return`${oe.name}!${oe.options.appId}`}class C2{constructor(J){this.container=J,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new Ln(Ee),this._heartbeatsCachePromise=this._storage.read().then(it=>(this._heartbeatsCache=it,it))}triggerHeartbeat(){var J=this;return(0,g.Z)(function*(){const it=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=Ut();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==Ge&&!J._heartbeatsCache.heartbeats.some(Dt=>Dt.date===Ge))return J._heartbeatsCache.heartbeats.push({date:Ge,agent:it}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Dt=>{const Zt=new Date(Dt.date).valueOf();return Date.now()-Zt<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,g.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Ee=Ut(),{heartbeatsToSend:it,unsentEntries:Ge}=function T2(oe,J=1024){const Ee=[];let it=oe.slice();for(const Ge of oe){const Dt=Ee.find(Zt=>Zt.agent===Ge.agent);if(Dt){if(Dt.dates.push(Ge.date),Zn(Ee)>J){Dt.dates.pop();break}}else if(Ee.push({agent:Ge.agent,dates:[Ge.date]}),Zn(Ee)>J){Ee.pop();break}it=it.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:it}}(J._heartbeatsCache.heartbeats),Dt=(0,se.L)(JSON.stringify({version:2,heartbeats:it}));return J._heartbeatsCache.lastSentHeartbeatDate=Ee,Ge.length>0?(J._heartbeatsCache.heartbeats=Ge,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Dt})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Ln{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,g.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function _e(oe){return ee.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Ee=this;return(0,g.Z)(function*(){var it;if(yield Ee._canUseIndexedDBPromise){const Dt=yield Ee.read();return Ke(Ee.app,{lastSentHeartbeatDate:null!==(it=J.lastSentHeartbeatDate)&&void 0!==it?it:Dt.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Ee=this;return(0,g.Z)(function*(){var it;if(yield Ee._canUseIndexedDBPromise){const Dt=yield Ee.read();return Ke(Ee.app,{lastSentHeartbeatDate:null!==(it=J.lastSentHeartbeatDate)&&void 0!==it?it:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...J.heartbeats]})}})()}}function Zn(oe){return(0,se.L)(JSON.stringify({version:2,heartbeats:oe})).length}!function ji(oe){Yt(new X.wA("platform-logger",J=>new Pt(J),"PRIVATE")),Yt(new X.wA("heartbeat",J=>new C2(J),"PRIVATE")),j2(z1,"0.9.13",oe),j2(z1,"0.9.13","esm2017"),j2("fire-js","")}("")},4537:(ht,ze,T)=>{T.d(ze,{H0:()=>Te,wA:()=>N});var g=T(5861),X=T(9058);class N{constructor(R,j,ie){this.name=R,this.instanceFactory=j,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(R){return this.instantiationMode=R,this}setMultipleInstances(R){return this.multipleInstances=R,this}setServiceProps(R){return this.serviceProps=R,this}setInstanceCreatedCallback(R){return this.onInstanceCreated=R,this}}const se="[DEFAULT]";class ne{constructor(R,j){this.name=R,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(R){const j=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(j)){const ie=new X.BH;if(this.instancesDeferred.set(j,ie),this.isInitialized(j)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:j});qe&&ie.resolve(qe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(R){var j;const ie=this.normalizeInstanceIdentifier(R?.identifier),qe=null!==(j=R?.optional)&&void 0!==j&&j;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(xe){if(qe)return null;throw xe}}getComponent(){return this.component}setComponent(R){if(R.name!==this.name)throw Error(`Mismatching Component ${R.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=R,this.shouldAutoInitialize()){if(function ge(we){return"EAGER"===we.instantiationMode}(R))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[j,ie]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(j);try{const xe=this.getOrInitializeService({instanceIdentifier:qe});ie.resolve(xe)}catch{}}}}clearInstance(R=se){this.instancesDeferred.delete(R),this.instancesOptions.delete(R),this.instances.delete(R)}delete(){var R=this;return(0,g.Z)(function*(){const j=Array.from(R.instances.values());yield Promise.all([...j.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...j.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(R=se){return this.instances.has(R)}getOptions(R=se){return this.instancesOptions.get(R)||{}}initialize(R={}){const{options:j={}}=R,ie=this.normalizeInstanceIdentifier(R.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:ie,options:j});for(const[xe,dt]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(xe)&&dt.resolve(qe);return qe}onInit(R,j){var ie;const qe=this.normalizeInstanceIdentifier(j),xe=null!==(ie=this.onInitCallbacks.get(qe))&&void 0!==ie?ie:new Set;xe.add(R),this.onInitCallbacks.set(qe,xe);const dt=this.instances.get(qe);return dt&&R(dt,qe),()=>{xe.delete(R)}}invokeOnInitCallbacks(R,j){const ie=this.onInitCallbacks.get(j);if(ie)for(const qe of ie)try{qe(R,j)}catch{}}getOrInitializeService({instanceIdentifier:R,options:j={}}){let ie=this.instances.get(R);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(we=R,we===se?void 0:we),options:j}),this.instances.set(R,ie),this.instancesOptions.set(R,j),this.invokeOnInitCallbacks(ie,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,ie)}catch{}var we;return ie||null}normalizeInstanceIdentifier(R=se){return this.component?this.component.multipleInstances?R:se:R}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(R){this.name=R,this.providers=new Map}addComponent(R){const j=this.getProvider(R.name);if(j.isComponentSet())throw new Error(`Component ${R.name} has already been registered with ${this.name}`);j.setComponent(R)}addOrOverwriteComponent(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.addComponent(R)}getProvider(R){if(this.providers.has(R))return this.providers.get(R);const j=new ne(R,this);return this.providers.set(R,j),j}getProviders(){return Array.from(this.providers.values())}}},7879:(ht,ze,T)=>{T.d(ze,{Am:()=>we,Ub:()=>Te,Yd:()=>ge,in:()=>X});const g=[];var X=function(R){return R[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT",R}(X||{});const N={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},se=X.INFO,ne={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},me=(R,j,...ie)=>{if(j<R.logLevel)return;const qe=(new Date).toISOString(),xe=ne[j];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[xe](`[${qe}]  ${R.name}:`,...ie)};class ge{constructor(j){this.name=j,this._logLevel=se,this._logHandler=me,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in X))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?N[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...j),this._logHandler(this,X.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...j),this._logHandler(this,X.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,X.INFO,...j),this._logHandler(this,X.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,X.WARN,...j),this._logHandler(this,X.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...j),this._logHandler(this,X.ERROR,...j)}}function Te(R){g.forEach(j=>{j.setLogLevel(R)})}function we(R,j){for(const ie of g){let qe=null;j&&j.level&&(qe=N[j.level]),ie.userLogHandler=null===R?null:(xe,dt,...ve)=>{const Be=ve.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");dt>=(qe??xe.logLevel)&&R({level:X[dt].toLowerCase(),message:Be,args:ve,type:xe.name})}}}},3182:(ht,ze,T)=>{T.d(ze,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=T(534);(0,g.registerVersion)("firebase","9.23.0","app")},7142:(ht,ze,T)=>{T.d(ze,{Z:()=>g.Z});var g=T(3106);g.Z.registerVersion("firebase","9.23.0","app-compat")},5967:(ht,ze,T)=>{T.r(ze);var g=T(5861),X=T(3106),N=T(9058),se=T(534),ne=T(7582),me=T(7879),ge=T(4537);const we={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const dt=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ve=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new me.Yd("@firebase/auth");function Y(y,...d){at.logLevel<=me.in.ERROR&&at.error(`Auth (${se.SDK_VERSION}): ${y}`,...d)}function he(y,...d){throw We(y,...d)}function Q(y,...d){return We(y,...d)}function He(y,d,p){const C=Object.assign(Object.assign({},ve()),{[d]:p});return new N.LL("auth","Firebase",C).create(d,{appName:y.name})}function De(y,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&he(y,"argument-error"),He(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(y,...d){if("string"!=typeof y){const p=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(p,...C)}return Be.create(y,...d)}function re(y,d,...p){if(!y)throw We(d,...p)}function ct(y){const d="INTERNAL ASSERTION FAILED: "+y;throw Y(d),new Error(d)}function Pt(y,d){y||ct(d)}function e1(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function z1(){return"http:"===Gn()||"https:"===Gn()}function Gn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class qn{constructor(d,p){this.shortDelay=d,this.longDelay=p,Pt(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function V2(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(z1()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ae(y,d){Pt(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class ue{static initialize(d,p,C){this.fetchImpl=d,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ce=new qn(3e4,6e4);function be(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function Ve(y,d,p,C){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,g.Z)(function*(y,d,p,C,I={}){return je(y,I,(0,g.Z)(function*(){let L={},B={};C&&("GET"===d?B=C:L={body:JSON.stringify(C)});const K=(0,N.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),ue.fetch()(xt(y,y.config.apiHost,p,K),Object.assign({method:d,headers:Le,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function je(y,d,p){return w2.apply(this,arguments)}function w2(){return(w2=(0,g.Z)(function*(y,d,p){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},ye),d);try{const I=new c2(y),L=yield Promise.race([p(),I.promise]);I.clearNetworkTimeout();const B=yield L.json();if("needConfirmation"in B)throw p2(y,"account-exists-with-different-credential",B);if(L.ok&&!("errorMessage"in B))return B;{const K=L.ok?B.errorMessage:B.error.message,[Le,Ue]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw p2(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===Le)throw p2(y,"email-already-in-use",B);if("USER_DISABLED"===Le)throw p2(y,"user-disabled",B);const tt=C[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw He(y,tt,Ue);he(y,tt)}}catch(I){if(I instanceof N.ZR)throw I;he(y,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function pt(y,d,p,C){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,g.Z)(function*(y,d,p,C,I={}){const L=yield Ve(y,d,p,C,I);return"mfaPendingCredential"in L&&he(y,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function xt(y,d,p,C){const I=`${d}${p}?${C}`;return y.config.emulator?ae(y.config,I):`${y.config.apiScheme}://${I}`}class c2{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(Q(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function p2(y,d,p){const C={appName:y.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const I=Q(y,d,C);return I.customData._tokenResponse=p,I}function Xt(){return(Xt=(0,g.Z)(function*(y,d){return Ve(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function O1(){return(O1=(0,g.Z)(function*(y,d){return Ve(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function F1(){return(F1=(0,g.Z)(function*(y,d){return Ve(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function B1(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function mt(){return(mt=(0,g.Z)(function*(y,d=!1){const p=(0,N.m9)(y),C=yield p.getIdToken(d),I=zt(C);re(I&&I.exp&&I.auth_time&&I.iat,p.auth,"internal-error");const L="object"==typeof I.firebase?I.firebase:void 0,B=L?.sign_in_provider;return{claims:I,token:C,authTime:B1(Rt(I.auth_time)),issuedAtTime:B1(Rt(I.iat)),expirationTime:B1(Rt(I.exp)),signInProvider:B||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function Rt(y){return 1e3*Number(y)}function zt(y){const[d,p,C]=y.split(".");if(void 0===d||void 0===p||void 0===C)return Y("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,N.tV)(p);return I?JSON.parse(I):(Y("Failed to decode base64 JWT payload"),null)}catch(I){return Y("Caught error parsing JWT payload as JSON",I?.toString()),null}}function m2(y,d){return L1.apply(this,arguments)}function L1(){return(L1=(0,g.Z)(function*(y,d,p=!1){if(p)return d;try{return yield d}catch(C){throw C instanceof N.ZR&&function Yt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}class n1{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const I=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,g.Z)(function*(){yield p.iteration()}),C)}iteration(){var d=this;return(0,g.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class Ui{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=B1(this.lastLoginAt),this.creationTime=B1(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kt(y){return x1.apply(this,arguments)}function x1(){return x1=(0,g.Z)(function*(y){var d;const p=y.auth,C=yield y.getIdToken(),I=yield m2(y,function Er(y,d){return F1.apply(this,arguments)}(p,{idToken:C}));re(I?.users.length,p,"internal-error");const L=I.users[0];y._notifyReloadListener(L);const B=null!==(d=L.providerUserInfo)&&void 0!==d&&d.length?function zr(y){return y.map(d=>{var{providerId:p}=d,C=(0,ne._T)(d,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(L.providerUserInfo):[],K=function Sr(y,d){return[...y.filter(C=>!d.some(I=>I.providerId===C.providerId)),...d]}(y.providerData,B),tt=!!y.isAnonymous&&!(y.email&&L.passwordHash||K?.length),nt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:K,metadata:new Ui(L.createdAt,L.lastLoginAt),isAnonymous:tt};Object.assign(y,nt)}),x1.apply(this,arguments)}function Wn(){return(Wn=(0,g.Z)(function*(y){const d=(0,N.m9)(y);yield Kt(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function or(){return(or=(0,g.Z)(function*(y,d){const p=yield je(y,{},(0,g.Z)(function*(){const C=(0,N.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:I,apiKey:L}=y.config,B=xt(y,I,"/v1/token",`key=${L}`),K=yield y._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(B,{method:"POST",headers:K,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){re(d.idToken,"internal-error"),re(typeof d.idToken<"u","internal-error"),re(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function r2(y){const d=zt(y);return re(d,"internal-error"),re(typeof d.exp<"u","internal-error"),re(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var C=this;return(0,g.Z)(function*(){return re(!C.accessToken||C.refreshToken,d,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(d,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var C=this;return(0,g.Z)(function*(){const{accessToken:I,refreshToken:L,expiresIn:B}=yield function J1(y,d){return or.apply(this,arguments)}(d,p);C.updateTokensAndExpiration(I,L,Number(B))})()}updateTokensAndExpiration(d,p,C){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,p){const{refreshToken:C,accessToken:I,expirationTime:L}=p,B=new gn;return C&&(re("string"==typeof C,"internal-error",{appName:d}),B.refreshToken=C),I&&(re("string"==typeof I,"internal-error",{appName:d}),B.accessToken=I),L&&(re("number"==typeof L,"internal-error",{appName:d}),B.expirationTime=L),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new gn,this.toJSON())}_performRefresh(){return ct("not implemented")}}function U2(y,d){re("string"==typeof y||typeof y>"u","internal-error",{appName:d})}class j2{constructor(d){var{uid:p,auth:C,stsTokenManager:I}=d,L=(0,ne._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Ui(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,g.Z)(function*(){const C=yield m2(p,p.stsTokenManager.getToken(p.auth,d));return re(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(d){return function Bi(y){return mt.apply(this,arguments)}(this,d)}reload(){return function Ot(y){return Wn.apply(this,arguments)}(this)}_assign(d){this!==d&&(re(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new j2(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var C=this;return(0,g.Z)(function*(){let I=!1;d.idToken&&d.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(d),I=!0),p&&(yield Kt(C)),yield C.auth._persistUserIfCurrent(C),I&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var d=this;return(0,g.Z)(function*(){const p=yield d.getIdToken();return yield m2(d,function t1(y,d){return Xt.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var C,I,L,B,K,Le,Ue,tt;const nt=null!==(C=p.displayName)&&void 0!==C?C:void 0,h2=null!==(I=p.email)&&void 0!==I?I:void 0,ln=null!==(L=p.phoneNumber)&&void 0!==L?L:void 0,w3=null!==(B=p.photoURL)&&void 0!==B?B:void 0,jc=null!==(K=p.tenantId)&&void 0!==K?K:void 0,$c=null!==(Le=p._redirectEventId)&&void 0!==Le?Le:void 0,Za=null!==(Ue=p.createdAt)&&void 0!==Ue?Ue:void 0,Gc=null!==(tt=p.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:Xr,emailVerified:qc,isAnonymous:Wc,providerData:Ka,stsTokenManager:u5}=p;re(Xr&&u5,d,"internal-error");const Ya=gn.fromJSON(this.name,u5);re("string"==typeof Xr,d,"internal-error"),U2(nt,d.name),U2(h2,d.name),re("boolean"==typeof qc,d,"internal-error"),re("boolean"==typeof Wc,d,"internal-error"),U2(ln,d.name),U2(w3,d.name),U2(jc,d.name),U2($c,d.name),U2(Za,d.name),U2(Gc,d.name);const Qa=new j2({uid:Xr,auth:d,email:h2,emailVerified:qc,displayName:nt,isAnonymous:Wc,photoURL:w3,phoneNumber:ln,tenantId:jc,stsTokenManager:Ya,createdAt:Za,lastLoginAt:Gc});return Ka&&Array.isArray(Ka)&&(Qa.providerData=Ka.map(J0=>Object.assign({},J0))),$c&&(Qa._redirectEventId=$c),Qa}static _fromIdTokenResponse(d,p,C=!1){return(0,g.Z)(function*(){const I=new gn;I.updateFromServerResponse(p);const L=new j2({uid:p.localId,auth:d,stsTokenManager:I,isAnonymous:C});return yield Kt(L),L})()}}const D1=new Map;function I2(y){Pt(y instanceof Function,"Expected a class definition");let d=D1.get(y);return d?(Pt(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,D1.set(y,d),d)}const en=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(p,C){var I=this;return(0,g.Z)(function*(){I.storage[p]=C})()}_get(p){var C=this;return(0,g.Z)(function*(){const I=C.storage[p];return void 0===I?null:I})()}_remove(p){var C=this;return(0,g.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return y.type="NONE",y})();function F(y,d,p){return`firebase:${y}:${d}:${p}`}class P{constructor(d,p,C){this.persistence=d,this.auth=p,this.userKey=C;const{config:I,name:L}=this.auth;this.fullUserKey=F(this.userKey,I.apiKey,L),this.fullPersistenceKey=F("persistence",I.apiKey,L),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,g.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?j2._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,g.Z)(function*(){if(p.persistence===d)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,C="authUser"){return(0,g.Z)(function*(){if(!p.length)return new P(I2(en),d,C);const I=(yield Promise.all(p.map(function(){var Ue=(0,g.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let L=I[0]||I2(en);const B=F(C,d.config.apiKey,d.name);let K=null;for(const Ue of p)try{const tt=yield Ue._get(B);if(tt){const nt=j2._fromJSON(d,tt);Ue!==L&&(K=nt),L=Ue;break}}catch{}const Le=I.filter(Ue=>Ue._shouldAllowMigration);return L._shouldAllowMigration&&Le.length?(L=Le[0],K&&(yield L._set(B,K.toJSON())),yield Promise.all(p.map(function(){var Ue=(0,g.Z)(function*(tt){if(tt!==L)try{yield tt._remove(B)}catch{}});return function(tt){return Ue.apply(this,arguments)}}())),new P(L,d,C)):new P(L,d,C)})()}}function G(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(St(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(_e(d))return"Firefox";if(d.includes("silk/"))return"Silk";if($2(d))return"Blackberry";if(Lt(d))return"Webos";if(ee(d))return"Safari";if((d.includes("chrome/")||Ke(d))&&!d.includes("edge/"))return"Chrome";if(wt(d))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function _e(y=(0,N.z$)()){return/firefox\//i.test(y)}function ee(y=(0,N.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ke(y=(0,N.z$)()){return/crios\//i.test(y)}function St(y=(0,N.z$)()){return/iemobile/i.test(y)}function wt(y=(0,N.z$)()){return/android/i.test(y)}function $2(y=(0,N.z$)()){return/blackberry/i.test(y)}function Lt(y=(0,N.z$)()){return/webos/i.test(y)}function C2(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Zn(y=(0,N.z$)()){return C2(y)||wt(y)||Lt(y)||$2(y)||/windows phone/i.test(y)||St(y)}function oe(y,d=[]){let p;switch(y){case"Browser":p=G((0,N.z$)());break;case"Worker":p=`${G((0,N.z$)())}-${y}`;break;default:p=y}const C=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${se.SDK_VERSION}/${C}`}function Ee(){return(Ee=(0,g.Z)(function*(y){return(yield Ve(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function it(y,d){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,g.Z)(function*(y,d){return Ve(y,"GET","/v2/recaptchaConfig",be(y,d))})).apply(this,arguments)}function Dt(y){return void 0!==y&&void 0!==y.getResponse}function Zt(y){return void 0!==y&&void 0!==y.enterprise}class E2{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function r1(y){return new Promise((d,p)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=d,C.onerror=I=>{const L=Q("internal-error");L.customData=I,p(L)},C.type="text/javascript",C.charset="UTF-8",function S2(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(C)})}function xn(y){return`__${y}${Math.floor(1e6*Math.random())}`}class R3{constructor(d){this.type="recaptcha-enterprise",this.auth=z2(d)}verify(d="verify",p=!1){var C=this;return(0,g.Z)(function*(){function L(){return L=(0,g.Z)(function*(K){if(!p){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var Le=(0,g.Z)(function*(Ue,tt){it(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(nt=>{if(void 0!==nt.recaptchaKey){const h2=new E2(nt);return null==K.tenantId?K._agentRecaptchaConfig=h2:K._tenantRecaptchaConfigs[K.tenantId]=h2,Ue(h2.siteKey)}tt(new Error("recaptcha Enterprise site key undefined"))}).catch(nt=>{tt(nt)})});return function(Ue,tt){return Le.apply(this,arguments)}}())}),L.apply(this,arguments)}function B(K,Le,Ue){const tt=window.grecaptcha;Zt(tt)?tt.enterprise.ready(()=>{tt.enterprise.execute(K,{action:d}).then(nt=>{Le(nt)}).catch(()=>{Le("NO_RECAPTCHA")})}):Ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,Le)=>{(function I(K){return L.apply(this,arguments)})(C.auth).then(Ue=>{if(!p&&Zt(window.grecaptcha))B(Ue,K,Le);else{if(typeof window>"u")return void Le(new Error("RecaptchaVerifier is only supported in browser"));r1("https://www.google.com/recaptcha/enterprise.js?render="+Ue).then(()=>{B(Ue,K,Le)}).catch(tt=>{Le(tt)})}}).catch(Ue=>{Le(Ue)})})})()}}function tn(y,d,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,g.Z)(function*(y,d,p,C=!1){const I=new R3(y);let L;try{L=yield I.verify(p)}catch{L=yield I.verify(p,!0)}const B=Object.assign({},d);return Object.assign(B,C?{captchaResp:L}:{captchaResponse:L}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class $i{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const C=L=>new Promise((B,K)=>{try{B(d(L))}catch(Le){K(Le)}});C.onAbort=p,this.queue.push(C);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,g.Z)(function*(){if(p.auth.currentUser===d)return;const C=[];try{for(const I of p.queue)yield I(d),I.onAbort&&C.push(I.onAbort)}catch(I){C.reverse();for(const L of C)try{L()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}class O3{constructor(d,p,C,I){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gi(this),this.idTokenSubscription=new Gi(this),this.beforeStateQueue=new $i(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(d,p){var C=this;return p&&(this._popupRedirectResolver=I2(p)),this._initializationPromise=this.queue((0,g.Z)(function*(){var I,L;if(!C._deleted&&(C.persistenceManager=yield P.create(C,d),!C._deleted)){if(null!==(I=C._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(L=C.currentUser)||void 0===L?void 0:L.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,g.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,g.Z)(function*(){var C;const I=yield p.assertedPersistence.getCurrentUser();let L=I,B=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const K=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,Le=L?._redirectEventId,Ue=yield p.tryRedirectSignIn(d);(!K||K===Le)&&Ue?.user&&(L=Ue.user,B=!0)}if(!L)return p.directlySetCurrentUser(null);if(!L._redirectEventId){if(B)try{yield p.beforeStateQueue.runMiddleware(L)}catch(K){L=I,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(K))}return L?p.reloadAndSetCurrentUserOrClear(L):p.directlySetCurrentUser(null)}return re(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===L._redirectEventId?p.directlySetCurrentUser(L):p.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(d){var p=this;return(0,g.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,g.Z)(function*(){try{yield Kt(d)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function li(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,g.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,g.Z)(function*(){const C=d?(0,N.m9)(d):null;return C&&re(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(d,p=!1){var C=this;return(0,g.Z)(function*(){if(!C._deleted)return d&&re(C.tenantId===d.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(d)),C.queue((0,g.Z)(function*(){yield C.directlySetCurrentUser(d),C.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,g.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,g.Z)(function*(){yield p.assertedPersistence.setPersistence(I2(d))}))}initializeRecaptchaConfig(){var d=this;return(0,g.Z)(function*(){const p=yield it(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new E2(p);null==d.tenantId?d._agentRecaptchaConfig=C:d._tenantRecaptchaConfigs[d.tenantId]=C,C.emailPasswordEnabled&&new R3(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new N.LL("auth","Firebase",d())}onAuthStateChanged(d,p,C){return this.registerStateListener(this.authStateSubscription,d,p,C)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,C){return this.registerStateListener(this.idTokenSubscription,d,p,C)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var C=this;return(0,g.Z)(function*(){const I=yield C.getOrInitRedirectPersistenceManager(p);return null===d?I.removeCurrentUser():I.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,g.Z)(function*(){if(!p.redirectPersistenceManager){const C=d&&I2(d)||p._popupRedirectResolver;re(C,p,"argument-error"),p.redirectPersistenceManager=yield P.create(p,[I2(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,g.Z)(function*(){var C,I;return p._isInitialized&&(yield p.queue((0,g.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===d?p._currentUser:(null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,g.Z)(function*(){if(d===p.currentUser)return p.queue((0,g.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,C,I){if(this._deleted)return()=>{};const L="function"==typeof p?p:p.next.bind(p),B=this._isInitialized?Promise.resolve():this._initializationPromise;return re(B,this,"internal-error"),B.then(()=>L(this.currentUser)),"function"==typeof p?d.addObserver(p,C,I):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,g.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=oe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,g.Z)(function*(){var p;const C={"X-Client-Version":d.clientVersion};d.app.options.appId&&(C["X-Firebase-gmpid"]=d.app.options.appId);const I=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();I&&(C["X-Firebase-Client"]=I);const L=yield d._getAppCheckToken();return L&&(C["X-Firebase-AppCheck"]=L),C})()}_getAppCheckToken(){var d=this;return(0,g.Z)(function*(){var p;const C=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function rt(y,...d){at.logLevel<=me.in.WARN&&at.warn(`Auth (${se.SDK_VERSION}): ${y}`,...d)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function z2(y){return(0,N.m9)(y)}class Gi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,N.ne)(p=>this.observer=p)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function di(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function ta(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class xr{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return ct("not implemented")}_getIdTokenResponse(d){return ct("not implemented")}_linkToIdToken(d,p){return ct("not implemented")}_getReauthenticationResolver(d){return ct("not implemented")}}function ic(y,d){return qi.apply(this,arguments)}function qi(){return(qi=(0,g.Z)(function*(y,d){return Ve(y,"POST","/v1/accounts:resetPassword",be(y,d))})).apply(this,arguments)}function na(y,d){return ra.apply(this,arguments)}function ra(){return(ra=(0,g.Z)(function*(y,d){return Ve(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function As(){return(As=(0,g.Z)(function*(y,d){return Ve(y,"POST","/v1/accounts:update",be(y,d))})).apply(this,arguments)}function l1(y,d){return B3.apply(this,arguments)}function B3(){return(B3=(0,g.Z)(function*(y,d){return pt(y,"POST","/v1/accounts:signInWithPassword",be(y,d))})).apply(this,arguments)}function Ts(y,d){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,g.Z)(function*(y,d){return Ve(y,"POST","/v1/accounts:sendOobCode",be(y,d))})).apply(this,arguments)}function Ns(){return(Ns=(0,g.Z)(function*(y,d){return Ts(y,d)})).apply(this,arguments)}function hi(y,d){return U3.apply(this,arguments)}function U3(){return(U3=(0,g.Z)(function*(y,d){return Ts(y,d)})).apply(this,arguments)}function jt(y,d){return b2.apply(this,arguments)}function b2(){return(b2=(0,g.Z)(function*(y,d){return Ts(y,d)})).apply(this,arguments)}function Dr(){return(Dr=(0,g.Z)(function*(y,d){return Ts(y,d)})).apply(this,arguments)}function j3(){return(j3=(0,g.Z)(function*(y,d){return pt(y,"POST","/v1/accounts:signInWithEmailLink",be(y,d))})).apply(this,arguments)}function Zi(){return(Zi=(0,g.Z)(function*(y,d){return pt(y,"POST","/v1/accounts:signInWithEmailLink",be(y,d))})).apply(this,arguments)}class ks extends xr{constructor(d,p,C,I=null){super("password",C),this._email=d,this._password=p,this._tenantId=I}static _fromEmailAndPassword(d,p){return new ks(d,p,"password")}static _fromEmailAndCode(d,p,C=null){return new ks(d,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,g.Z)(function*(){var C;switch(p.signInMethod){case"password":const I={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=d._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const L=yield tn(d,I,"signInWithPassword");return l1(d,L)}return l1(d,I).catch(function(){var L=(0,g.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const K=yield tn(d,I,"signInWithPassword");return l1(d,K)}return Promise.reject(B)});return function(B){return L.apply(this,arguments)}}());case"emailLink":return function C1(y,d){return j3.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:he(d,"internal-error")}})()}_linkToIdToken(d,p){var C=this;return(0,g.Z)(function*(){switch(C.signInMethod){case"password":return na(d,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function sc(y,d){return Zi.apply(this,arguments)}(d,{idToken:p,email:C._email,oobCode:C._password});default:he(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function U1(y,d){return g2.apply(this,arguments)}function g2(){return(g2=(0,g.Z)(function*(y,d){return pt(y,"POST","/v1/accounts:signInWithIdp",be(y,d))})).apply(this,arguments)}class _t extends xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new _t(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):he("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:I}=p,L=(0,ne._T)(p,["providerId","signInMethod"]);if(!C||!I)return null;const B=new _t(C,I);return B.idToken=L.idToken||void 0,B.accessToken=L.accessToken||void 0,B.secret=L.secret,B.nonce=L.nonce,B.pendingToken=L.pendingToken||null,B}_getIdTokenResponse(d){return U1(d,this.buildRequest())}_linkToIdToken(d,p){const C=this.buildRequest();return C.idToken=p,U1(d,C)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,U1(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,N.xO)(p)}return d}}function _1(){return(_1=(0,g.Z)(function*(y,d){return Ve(y,"POST","/v1/accounts:sendVerificationCode",be(y,d))})).apply(this,arguments)}function i1(){return(i1=(0,g.Z)(function*(y,d){return pt(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,d))})).apply(this,arguments)}function u2(){return(u2=(0,g.Z)(function*(y,d){const p=yield pt(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,d));if(p.temporaryProof)throw p2(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Kn={USER_NOT_FOUND:"user-not-found"};function Vt(){return(Vt=(0,g.Z)(function*(y,d){return pt(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Kn)})).apply(this,arguments)}class s1 extends xr{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new s1({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new s1({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function Ar(y,d){return i1.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function Ki(y,d){return u2.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function pi(y,d){return Vt.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:C,verificationCode:I}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:C,code:I}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:C,phoneNumber:I,temporaryProof:L}=d;return C||p||I||L?new s1({verificationId:p,verificationCode:C,phoneNumber:I,temporaryProof:L}):null}}class f2{constructor(d){var p,C,I,L,B,K;const Le=(0,N.zd)((0,N.pd)(d)),Ue=null!==(p=Le.apiKey)&&void 0!==p?p:null,tt=null!==(C=Le.oobCode)&&void 0!==C?C:null,nt=function ac(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Le.mode)&&void 0!==I?I:null);re(Ue&&tt&&nt,"argument-error"),this.apiKey=Ue,this.operation=nt,this.code=tt,this.continueUrl=null!==(L=Le.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(B=Le.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(K=Le.tenantId)&&void 0!==K?K:null}static parseLink(d){const p=function Yn(y){const d=(0,N.zd)((0,N.pd)(y)).link,p=d?(0,N.zd)((0,N.pd)(d)).deep_link_id:null,C=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(C?(0,N.zd)((0,N.pd)(C)).link:null)||C||p||d||y}(d);try{return new f2(p)}catch{return null}}}let Tr=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,C){return ks._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const I=f2.parseLink(C);return re(I,"argument-error"),ks._fromEmailAndCode(p,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class a1{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class cr extends a1{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Qn extends cr{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return re("providerId"in p&&"signInMethod"in p,"argument-error"),_t._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return re(d.idToken||d.accessToken,"argument-error"),_t._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Qn.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Qn.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:C,oauthTokenSecret:I,pendingToken:L,nonce:B,providerId:K}=d;if(!C&&!I&&!p&&!L||!K)return null;try{return new Qn(K)._credential({idToken:p,accessToken:C,nonce:B,pendingToken:L})}catch{return null}}}let lr=(()=>{class y extends cr{constructor(){super("facebook.com")}static credential(p){return _t._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),rn=(()=>{class y extends cr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,C){return _t._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:C})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:C,oauthAccessToken:I}=p;if(!C&&!I)return null;try{return y.credential(C,I)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ps=(()=>{class y extends cr{constructor(){super("github.com")}static credential(p){return _t._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Tt extends xr{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return U1(d,this.buildRequest())}_linkToIdToken(d,p){const C=this.buildRequest();return C.idToken=p,U1(d,C)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,U1(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:I,pendingToken:L}=p;return C&&I&&L&&C===I?new Tt(C,L):null}static _create(d,p){return new Tt(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mi extends a1{constructor(d){re(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return mi.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return mi.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=Tt.fromJSON(d);return re(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:C}=d;if(!p||!C)return null;try{return Tt._create(C,p)}catch{return null}}}let Rs=(()=>{class y extends cr{constructor(){super("twitter.com")}static credential(p,C){return _t._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:C})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:C,oauthTokenSecret:I}=p;if(!C||!I)return null;try{return y.credential(C,I)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function G2(y,d){return kr.apply(this,arguments)}function kr(){return(kr=(0,g.Z)(function*(y,d){return pt(y,"POST","/v1/accounts:signUp",be(y,d))})).apply(this,arguments)}class q2{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,C,I=!1){return(0,g.Z)(function*(){const L=yield j2._fromIdTokenResponse(d,C,I),B=ur(C);return new q2({user:L,providerId:B,_tokenResponse:C,operationType:p})})()}static _forOperation(d,p,C){return(0,g.Z)(function*(){yield d._updateTokensIfNecessary(C,!0);const I=ur(C);return new q2({user:d,providerId:I,_tokenResponse:C,operationType:p})})()}}function ur(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function oc(){return(oc=(0,g.Z)(function*(y){var d;const p=z2(y);if(yield p._initializationPromise,null!==(d=p.currentUser)&&void 0!==d&&d.isAnonymous)return new q2({user:p.currentUser,providerId:null,operationType:"signIn"});const C=yield G2(p,{returnSecureToken:!0}),I=yield q2._fromIdTokenResponse(p,"signIn",C,!0);return yield p._updateCurrentUser(I.user),I})).apply(this,arguments)}class W2 extends N.ZR{constructor(d,p,C,I){var L;super(p.code,p.message),this.operationType=C,this.user=I,Object.setPrototypeOf(this,W2.prototype),this.customData={appName:d.name,tenantId:null!==(L=d.tenantId)&&void 0!==L?L:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,p,C,I){return new W2(d,p,C,I)}}function M1(y,d,p,C){return("reauthenticate"===d?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?W2._fromErrorAndOperation(y,L,d,C):L})}function Os(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function j1(){return j1=(0,g.Z)(function*(y,d){const p=(0,N.m9)(y);yield vi(!0,p,d);const{providerUserInfo:C}=yield function v1(y,d){return O1.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),I=Os(C||[]);return p.providerData=p.providerData.filter(L=>I.has(L.providerId)),I.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),j1.apply(this,arguments)}function T1(y,d){return gi.apply(this,arguments)}function gi(){return(gi=(0,g.Z)(function*(y,d,p=!1){const C=yield m2(y,d._linkToIdToken(y.auth,yield y.getIdToken()),p);return q2._forOperation(y,"link",C)})).apply(this,arguments)}function vi(y,d,p){return G3.apply(this,arguments)}function G3(){return(G3=(0,g.Z)(function*(y,d,p){yield Kt(d);const I=!1===y?"provider-already-linked":"no-such-provider";re(Os(d.providerData).has(p)===y,d.auth,I)})).apply(this,arguments)}function h0(y,d){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,g.Z)(function*(y,d,p=!1){const{auth:C}=y,I="reauthenticate";try{const L=yield m2(y,M1(C,I,d,y),p);re(L.idToken,C,"internal-error");const B=zt(L.idToken);re(B,C,"internal-error");const{sub:K}=B;return re(y.uid===K,C,"user-mismatch"),q2._forOperation(y,I,L)}catch(L){throw"auth/user-not-found"===L?.code&&he(C,"user-mismatch"),L}})).apply(this,arguments)}function q3(y,d){return sa.apply(this,arguments)}function sa(){return(sa=(0,g.Z)(function*(y,d,p=!1){const C="signIn",I=yield M1(y,C,d),L=yield q2._fromIdTokenResponse(y,C,I);return p||(yield y._updateCurrentUser(L.user)),L})).apply(this,arguments)}function W3(y,d){return aa.apply(this,arguments)}function aa(){return(aa=(0,g.Z)(function*(y,d){return q3(z2(y),d)})).apply(this,arguments)}function p0(y,d){return d2.apply(this,arguments)}function d2(){return(d2=(0,g.Z)(function*(y,d){const p=(0,N.m9)(y);return yield vi(!1,p,d.providerId),T1(p,d)})).apply(this,arguments)}function m0(y,d){return cc.apply(this,arguments)}function cc(){return(cc=(0,g.Z)(function*(y,d){return h0((0,N.m9)(y),d)})).apply(this,arguments)}function lc(){return(lc=(0,g.Z)(function*(y,d){return pt(y,"POST","/v1/accounts:signInWithCustomToken",be(y,d))})).apply(this,arguments)}function Jn(){return Jn=(0,g.Z)(function*(y,d){const p=z2(y),C=yield function J8(y,d){return lc.apply(this,arguments)}(p,{token:d,returnSecureToken:!0}),I=yield q2._fromIdTokenResponse(p,"signIn",C);return yield p._updateCurrentUser(I.user),I}),Jn.apply(this,arguments)}class Z3{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?yi._fromServerResponse(d,p):"totpInfo"in p?K3._fromServerResponse(d,p):he(d,"internal-error")}}class yi extends Z3{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new yi(p)}}class K3 extends Z3{constructor(d){super("totp",d)}static _fromServerResponse(d,p){return new K3(p)}}function Yi(y,d,p){var C;re((null===(C=p.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),re(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(re(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(re(p.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function Qi(){return Qi=(0,g.Z)(function*(y,d,p){var C;const I=z2(y),L={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=I._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const B=yield tn(I,L,"getOobCode",!0);p&&Yi(I,B,p),yield hi(I,B)}else p&&Yi(I,L,p),yield hi(I,L).catch(function(){var B=(0,g.Z)(function*(K){if("auth/missing-recaptcha-token"!==K.code)return Promise.reject(K);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Le=yield tn(I,L,"getOobCode",!0);p&&Yi(I,Le,p),yield hi(I,Le)}});return function(K){return B.apply(this,arguments)}}())}),Qi.apply(this,arguments)}function Bs(){return(Bs=(0,g.Z)(function*(y,d,p){yield ic((0,N.m9)(y),{oobCode:d,newPassword:p})})).apply(this,arguments)}function w1(){return w1=(0,g.Z)(function*(y,d){yield function nn(y,d){return As.apply(this,arguments)}((0,N.m9)(y),{oobCode:d})}),w1.apply(this,arguments)}function Us(y,d){return js.apply(this,arguments)}function js(){return(js=(0,g.Z)(function*(y,d){const p=(0,N.m9)(y),C=yield ic(p,{oobCode:d}),I=C.requestType;switch(re(I,p,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(C.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(C.mfaInfo,p,"internal-error");default:re(C.email,p,"internal-error")}let L=null;return C.mfaInfo&&(L=Z3._fromServerResponse(z2(p),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:L},operation:I}})).apply(this,arguments)}function Ci(){return(Ci=(0,g.Z)(function*(y,d){const{data:p}=yield Us((0,N.m9)(y),d);return p.email})).apply(this,arguments)}function $s(){return $s=(0,g.Z)(function*(y,d,p){var C;const I=z2(y),L={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(C=I._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Ue=yield tn(I,L,"signUpPassword");B=G2(I,Ue)}else B=G2(I,L).catch(function(){var Ue=(0,g.Z)(function*(tt){if("auth/missing-recaptcha-token"===tt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const nt=yield tn(I,L,"signUpPassword");return G2(I,nt)}return Promise.reject(tt)});return function(tt){return Ue.apply(this,arguments)}}());const K=yield B.catch(Ue=>Promise.reject(Ue)),Le=yield q2._fromIdTokenResponse(I,"signIn",K);return yield I._updateCurrentUser(Le.user),Le}),$s.apply(this,arguments)}function H2(){return H2=(0,g.Z)(function*(y,d,p){var C;const I=z2(y),L={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function B(K,Le){re(Le.handleCodeInApp,I,"argument-error"),Le&&Yi(I,K,Le)}if(null!==(C=I._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const K=yield tn(I,L,"getOobCode",!0);B(K,p),yield jt(I,K)}else B(L,p),yield jt(I,L).catch(function(){var K=(0,g.Z)(function*(Le){if("auth/missing-recaptcha-token"!==Le.code)return Promise.reject(Le);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ue=yield tn(I,L,"getOobCode",!0);B(Ue,p),yield jt(I,Ue)}});return function(Le){return K.apply(this,arguments)}}())}),H2.apply(this,arguments)}function Gs(){return(Gs=(0,g.Z)(function*(y,d,p){const C=(0,N.m9)(y),I=Tr.credentialWithLink(d,p||e1());return re(I._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),W3(C,I)})).apply(this,arguments)}function Ji(){return(Ji=(0,g.Z)(function*(y,d){return Ve(y,"POST","/v1/accounts:createAuthUri",be(y,d))})).apply(this,arguments)}function ua(){return ua=(0,g.Z)(function*(y,d){const C={identifier:d,continueUri:z1()?e1():"http://localhost"},{signinMethods:I}=yield function qs(y,d){return Ji.apply(this,arguments)}((0,N.m9)(y),C);return I||[]}),ua.apply(this,arguments)}function _i(){return _i=(0,g.Z)(function*(y,d){const p=(0,N.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&Yi(p.auth,I,d);const{email:L}=yield function ia(y,d){return Ns.apply(this,arguments)}(p.auth,I);L!==y.email&&(yield y.reload())}),_i.apply(this,arguments)}function fr(){return fr=(0,g.Z)(function*(y,d,p){const C=(0,N.m9)(y),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};p&&Yi(C.auth,L,p);const{email:B}=yield function y1(y,d){return Dr.apply(this,arguments)}(C.auth,L);B!==y.email&&(yield y.reload())}),fr.apply(this,arguments)}function hc(){return(hc=(0,g.Z)(function*(y,d){return Ve(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Zs(){return Zs=(0,g.Z)(function*(y,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const C=(0,N.m9)(y),L={idToken:yield C.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},B=yield m2(C,function dc(y,d){return hc.apply(this,arguments)}(C.auth,L));C.displayName=B.displayName||null,C.photoURL=B.photoUrl||null;const K=C.providerData.find(({providerId:Le})=>"password"===Le);K&&(K.displayName=C.displayName,K.photoURL=C.photoURL),yield C._updateTokensIfNecessary(B)}),Zs.apply(this,arguments)}function pc(y,d,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,g.Z)(function*(y,d,p){const{auth:C}=y,L={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(L.email=d),p&&(L.password=p);const B=yield m2(y,na(C,L));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class Fr{constructor(d,p,C={}){this.isNewUser=d,this.providerId=p,this.profile=C}}class Xi extends Fr{constructor(d,p,C,I){super(d,p,C),this.username=I}}class Ks extends Fr{constructor(d,p){super(d,"facebook.com",p)}}class Ys extends Xi{constructor(d,p){super(d,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class wi extends Fr{constructor(d,p){super(d,"google.com",p)}}class J3 extends Xi{constructor(d,p,C){super(d,"twitter.com",p,C)}}function Qs(y){const{user:d,_tokenResponse:p}=y;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ha(y){var d,p;if(!y)return null;const{providerId:C}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},L=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const B=null===(p=null===(d=zt(y.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(B)return new Fr(L,"anonymous"!==B&&"custom"!==B?B:null)}if(!C)return null;switch(C){case"facebook.com":return new Ks(L,I);case"github.com":return new Ys(L,I);case"google.com":return new wi(L,I);case"twitter.com":return new J3(L,I,y.screenName||null);case"custom":case"anonymous":return new Fr(L,null);default:return new Fr(L,C,I)}}(p)}class L2{constructor(d,p,C){this.type=d,this.credential=p,this.auth=C}static _fromIdtoken(d,p){return new L2("enroll",d,p)}static _fromMfaPendingCredential(d){return new L2("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,C;if(d?.multiFactorSession){if(null!==(p=d.multiFactorSession)&&void 0!==p&&p.pendingCredential)return L2._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(C=d.multiFactorSession)&&void 0!==C&&C.idToken)return L2._fromIdtoken(d.multiFactorSession.idToken)}return null}}class es{constructor(d,p,C){this.session=d,this.hints=p,this.signInResolver=C}static _fromError(d,p){const C=z2(d),I=p.customData._serverResponse,L=(I.mfaInfo||[]).map(K=>Z3._fromServerResponse(C,K));re(I.mfaPendingCredential,C,"internal-error");const B=L2._fromMfaPendingCredential(I.mfaPendingCredential);return new es(B,L,function(){var K=(0,g.Z)(function*(Le){const Ue=yield Le._process(C,B);delete I.mfaInfo,delete I.mfaPendingCredential;const tt=Object.assign(Object.assign({},I),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(p.operationType){case"signIn":const nt=yield q2._fromIdTokenResponse(C,p.operationType,tt);return yield C._updateCurrentUser(nt.user),nt;case"reauthenticate":return re(p.user,C,"internal-error"),q2._forOperation(p.user,p.operationType,tt);default:he(C,"internal-error")}});return function(Le){return K.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,g.Z)(function*(){return p.signInResolver(d)})()}}class Br{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(C=>Z3._fromServerResponse(d.auth,C)))})}static _fromUser(d){return new Br(d)}getSession(){var d=this;return(0,g.Z)(function*(){return L2._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,p){var C=this;return(0,g.Z)(function*(){const I=d,L=yield C.getSession(),B=yield m2(C.user,I._process(C.user.auth,L,p));return yield C.user._updateTokensIfNecessary(B),C.user.reload()})()}unenroll(d){var p=this;return(0,g.Z)(function*(){const C="string"==typeof d?d:d.uid,I=yield p.user.getIdToken();try{const L=yield m2(p.user,function s4(y,d){return Ve(y,"POST","/v2/accounts/mfaEnrollment:withdraw",be(y,d))}(p.user.auth,{idToken:I,mfaEnrollmentId:C}));p.enrolledFactors=p.enrolledFactors.filter(({uid:B})=>B!==C),yield p.user._updateTokensIfNecessary(L),yield p.user.reload()}catch(L){throw L}})()}}const Ur=new WeakMap,It="__sak";class Xs{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(It,"1"),this.storage.removeItem(It),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const hr=(()=>{class y extends Xs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function g0(){const y=(0,N.z$)();return ee(y)||C2(y)}()&&function ji(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const I=this.storage.getItem(C),L=this.localCache[C];I!==L&&p(C,L,I)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((K,Le,Ue)=>{this.notifyListeners(K,Ue)});const I=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(I);if(p.newValue!==K)null!==p.newValue?this.storage.setItem(I,p.newValue):this.storage.removeItem(I);else if(this.localCache[I]===p.newValue&&!C)return}const L=()=>{const K=this.storage.getItem(I);!C&&this.localCache[I]===K||this.notifyListeners(I,K)},B=this.storage.getItem(I);!function Ln(){return(0,N.w1)()&&10===document.documentMode}()||B===p.newValue||p.newValue===p.oldValue?L():setTimeout(L,10)}notifyListeners(p,C){this.localCache[p]=C;const I=this.listeners[p];if(I)for(const L of Array.from(I))L(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var I=()=>super._set,L=this;return(0,g.Z)(function*(){yield I().call(L,p,C),L.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,I=this;return(0,g.Z)(function*(){const L=yield C().call(I,p);return I.localCache[p]=JSON.stringify(L),L})()}_remove(p){var C=()=>super._remove,I=this;return(0,g.Z)(function*(){yield C().call(I,p),delete I.localCache[p]})()}}return y.type="LOCAL",y})(),jr=(()=>{class y extends Xs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return y.type="SESSION",y})();let ga=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(L=>L.isListeningto(p));if(C)return C;const I=new y(p);return this.receivers.push(I),I}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,g.Z)(function*(){const I=p,{eventId:L,eventType:B,data:K}=I.data,Le=C.handlersMap[B];if(!Le?.size)return;I.ports[0].postMessage({status:"ack",eventId:L,eventType:B});const Ue=Array.from(Le).map(function(){var nt=(0,g.Z)(function*(h2){return h2(I.origin,K)});return function(h2){return nt.apply(this,arguments)}}()),tt=yield function y0(y){return Promise.all(y.map(function(){var d=(0,g.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return d.apply(this,arguments)}}()))}(Ue);I.ports[0].postMessage({status:"done",eventId:L,eventType:B,response:tt})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function a4(y="",d=10){let p="";for(let C=0;C<d;C++)p+=Math.floor(10*Math.random());return y+p}class vc{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,C=50){var I=this;return(0,g.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let B,K;return new Promise((Le,Ue)=>{const tt=a4("",20);L.port1.start();const nt=setTimeout(()=>{Ue(new Error("unsupported_event"))},C);K={messageChannel:L,onMessage(h2){const ln=h2;if(ln.data.eventId===tt)switch(ln.data.status){case"ack":clearTimeout(nt),B=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Le(ln.data.response);break;default:clearTimeout(nt),clearTimeout(B),Ue(new Error("invalid_response"))}}},I.handlers.add(K),L.port1.addEventListener("message",K.onMessage),I.target.postMessage({eventType:d,eventId:tt,data:p},[L.port2])}).finally(()=>{K&&I.removeMessageHandler(K)})})()}}function fe(){return window}function o4(){return typeof fe().WorkerGlobalScope<"u"&&"function"==typeof fe().importScripts}function x2(){return(x2=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const an="firebaseLocalStorageDb",pr="firebaseLocalStorage",va="fbase_key";class r3{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function i3(y,d){return y.transaction([pr],d?"readwrite":"readonly").objectStore(pr)}function vn(){const y=indexedDB.open(an,1);return new Promise((d,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(pr,{keyPath:va})}catch(I){p(I)}}),y.addEventListener("success",(0,g.Z)(function*(){const C=y.result;C.objectStoreNames.contains(pr)?d(C):(C.close(),yield function N1(){const y=indexedDB.deleteDatabase(an);return new r3(y).toPromise()}(),d(yield vn()))}))})}function bi(y,d,p){return H1.apply(this,arguments)}function H1(){return(H1=(0,g.Z)(function*(y,d,p){const C=i3(y,!0).put({[va]:d,value:p});return new r3(C).toPromise()})).apply(this,arguments)}function c4(){return(c4=(0,g.Z)(function*(y,d){const p=i3(y,!1).get(d),C=yield new r3(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function ns(y,d){const p=i3(y,!0).delete(d);return new r3(p).toPromise()}const $r=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,g.Z)(function*(){return p.db||(p.db=yield vn()),p.db})()}_withRetries(p){var C=this;return(0,g.Z)(function*(){let I=0;for(;;)try{const L=yield C._openDb();return yield p(L)}catch(L){if(I++>3)throw L;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,g.Z)(function*(){return o4()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,g.Z)(function*(){p.receiver=ga._getInstance(function _2(){return o4()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,g.Z)(function*(I,L){return{keyProcessed:(yield p._poll()).includes(L.key)}});return function(I,L){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,g.Z)(function*(I,L){return["keyChanged"]});return function(I,L){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,g.Z)(function*(){var C,I;if(p.activeServiceWorker=yield function yc(){return x2.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new vc(p.activeServiceWorker);const L=yield p.sender._send("ping",{},800);L&&null!==(C=L[0])&&void 0!==C&&C.fulfilled&&null!==(I=L[0])&&void 0!==I&&I.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,g.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function n3(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const p=yield vn();return yield bi(p,It,"1"),yield ns(p,It),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,g.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var I=this;return(0,g.Z)(function*(){return I._withPendingWrite((0,g.Z)(function*(){return yield I._withRetries(L=>bi(L,p,C)),I.localCache[p]=C,I.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,g.Z)(function*(){const I=yield C._withRetries(L=>function yn(y,d){return c4.apply(this,arguments)}(L,p));return C.localCache[p]=I,I})()}_remove(p){var C=this;return(0,g.Z)(function*(){return C._withPendingWrite((0,g.Z)(function*(){return yield C._withRetries(I=>ns(I,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,g.Z)(function*(){const C=yield p._withRetries(B=>{const K=i3(B,!1).getAll();return new r3(K).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const I=[],L=new Set;for(const{fbase_key:B,value:K}of C)L.add(B),JSON.stringify(p.localCache[B])!==JSON.stringify(K)&&(p.notifyListeners(B,K),I.push(B));for(const B of Object.keys(p.localCache))p.localCache[B]&&!L.has(B)&&(p.notifyListeners(B,null),I.push(B));return I})()}notifyListeners(p,C){this.localCache[p]=C;const I=this.listeners[p];if(I)for(const L of Array.from(I))L(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),Hi=1e12;class Ma{constructor(d){this.auth=d,this.counter=Hi,this._widgets=new Map}render(d,p){const C=this.counter;return this._widgets.set(C,new rs(d,this.auth.name,p||{})),this.counter++,C}reset(d){var p;const C=d||Hi;null===(p=this._widgets.get(C))||void 0===p||p.delete(),this._widgets.delete(C)}getResponse(d){var p;return(null===(p=this._widgets.get(d||Hi))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,g.Z)(function*(){var C;return null===(C=p._widgets.get(d||Hi))||void 0===C||C.execute(),""})()}}class rs{constructor(d,p,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof d?document.getElementById(d):d;re(I,"argument-error",{appName:p}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wa(y){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)d.push(p.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vi=xn("rcb"),ba=new qn(3e4,6e4);class k1{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=fe().grecaptcha)||void 0===d||!d.render)}load(d,p=""){return re(function mr(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),d,"argument-error"),this.shouldResolveImmediately(p)&&Dt(fe().grecaptcha)?Promise.resolve(fe().grecaptcha):new Promise((C,I)=>{const L=fe().setTimeout(()=>{I(Q(d,"network-request-failed"))},ba.get());fe()[Vi]=()=>{fe().clearTimeout(L),delete fe()[Vi];const K=fe().grecaptcha;if(!K||!Dt(K))return void I(Q(d,"internal-error"));const Le=K.render;K.render=(Ue,tt)=>{const nt=Le(Ue,tt);return this.counter++,nt},this.hostLanguage=p,C(K)},r1(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Vi,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(L),I(Q(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var p;return!(null===(p=fe().grecaptcha)||void 0===p||!p.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class M2{load(d){return(0,g.Z)(function*(){return new Ma(d)})()}clearedOneInstance(){}}const f4="recaptcha",M0={theme:"light",type:"image"};class Va{constructor(d,p=Object.assign({},M0),C){this.parameters=p,this.type=f4,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=z2(C),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof d?document.getElementById(d):d;re(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new M2:new k1,this.validateStartingState()}verify(){var d=this;return(0,g.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),C=d.getAssertedRecaptcha();return C.getResponse(p)||new Promise(L=>{const B=K=>{K&&(d.tokenChangeListeners.delete(B),L(K))};d.tokenChangeListeners.add(B),d.isInvisible&&C.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(C=>C(p)),"function"==typeof d)d(p);else if("string"==typeof d){const C=fe()[d];"function"==typeof C&&C(p)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,g.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const C=document.createElement("div");p.appendChild(C),p=C}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,g.Z)(function*(){re(z1()&&!o4(),d.auth,"internal-error"),yield function w0(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function J(y){return Ee.apply(this,arguments)}(d.auth);re(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ii{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=s1._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function gr(){return(gr=(0,g.Z)(function*(y,d,p){const C=z2(y),I=yield yr(C,d,(0,N.m9)(p));return new Ii(I,L=>W3(C,L))})).apply(this,arguments)}function is(){return(is=(0,g.Z)(function*(y,d,p){const C=(0,N.m9)(y);yield vi(!1,C,"phone");const I=yield yr(C.auth,d,(0,N.m9)(p));return new Ii(I,L=>p0(C,L))})).apply(this,arguments)}function Gr(){return(Gr=(0,g.Z)(function*(y,d,p){const C=(0,N.m9)(y),I=yield yr(C.auth,d,(0,N.m9)(p));return new Ii(I,L=>m0(C,L))})).apply(this,arguments)}function yr(y,d,p){return ss.apply(this,arguments)}function ss(){return ss=(0,g.Z)(function*(y,d,p){var C;const I=yield p.verify();try{let L;if(re("string"==typeof I,y,"argument-error"),re(p.type===f4,y,"argument-error"),L="string"==typeof d?{phoneNumber:d}:d,"session"in L){const B=L.session;if("phoneNumber"in L)return re("enroll"===B.type,y,"internal-error"),(yield function r4(y,d){return Ve(y,"POST","/v2/accounts/mfaEnrollment:start",be(y,d))}(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{re("signin"===B.type,y,"internal-error");const K=(null===(C=L.multiFactorHint)||void 0===C?void 0:C.uid)||L.multiFactorUid;return re(K,y,"missing-multi-factor-info"),(yield function l4(y,d){return Ve(y,"POST","/v2/accounts/mfaSignIn:start",be(y,d))}(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function l2(y,d){return _1.apply(this,arguments)}(y,{phoneNumber:L.phoneNumber,recaptchaToken:I});return B}}finally{p._reset()}}),ss.apply(this,arguments)}function a3(){return(a3=(0,g.Z)(function*(y,d){yield T1((0,N.m9)(y),d)})).apply(this,arguments)}let qr=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=z2(p)}verifyPhoneNumber(p,C){return yr(this.auth,p,(0,N.m9)(C))}static credential(p,C){return s1._fromVerification(p,C)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:C,temporaryProof:I}=p;return C&&I?s1._fromTokenResponse(C,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function $1(y,d){return d?I2(d):(re(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class f1 extends xr{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return U1(d,this._buildIdpRequest())}_linkToIdToken(d,p){return U1(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return U1(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function Ea(y){return q3(y.auth,new f1(y),y.bypassAuthState)}function Sa(y){const{auth:d,user:p}=y;return re(p,d,"internal-error"),h0(p,new f1(y),y.bypassAuthState)}function Si(y){return d4.apply(this,arguments)}function d4(){return(d4=(0,g.Z)(function*(y){const{auth:d,user:p}=y;return re(p,d,"internal-error"),T1(p,new f1(y),y.bypassAuthState)})).apply(this,arguments)}class o3{constructor(d,p,C,I,L=!1){this.auth=d,this.resolver=C,this.user=I,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,g.Z)(function*(C,I){d.pendingPromise={resolve:C,reject:I};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(L){d.reject(L)}});return function(C,I){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,g.Z)(function*(){const{urlResponse:C,sessionId:I,postBody:L,tenantId:B,error:K,type:Le}=d;if(K)return void p.reject(K);const Ue={auth:p.auth,requestUri:C,sessionId:I,tenantId:B||void 0,postBody:L||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Le)(Ue))}catch(tt){p.reject(tt)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Ea;case"linkViaPopup":case"linkViaRedirect":return Si;case"reauthViaPopup":case"reauthViaRedirect":return Sa;default:he(this.auth,"internal-error")}}resolve(d){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const An=new qn(2e3,1e4);function La(){return(La=(0,g.Z)(function*(y,d,p){const C=z2(y);De(y,d,a1);const I=$1(C,p);return new as(C,"signInViaPopup",d,I).executeNotNull()})).apply(this,arguments)}function Wr(){return(Wr=(0,g.Z)(function*(y,d,p){const C=(0,N.m9)(y);De(C.auth,d,a1);const I=$1(C.auth,p);return new as(C.auth,"reauthViaPopup",d,I,C).executeNotNull()})).apply(this,arguments)}function Zr(){return(Zr=(0,g.Z)(function*(y,d,p){const C=(0,N.m9)(y);De(C.auth,d,a1);const I=$1(C.auth,p);return new as(C.auth,"linkViaPopup",d,I,C).executeNotNull()})).apply(this,arguments)}let as=(()=>{class y extends o3{constructor(p,C,I,L,B){super(p,C,L,B),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,g.Z)(function*(){const C=yield p.execute();return re(C,p.auth,"internal-error"),C})()}onExecution(){var p=this;return(0,g.Z)(function*(){Pt(1===p.filter.length,"Popup operations only handle one event");const C=a4();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],C),p.authWindow.associatedEvent=C,p.resolver._originValidation(p.auth).catch(I=>{p.reject(I)}),p.resolver._isIframeWebStorageSupported(p.auth,I=>{I||p.reject(Q(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Q(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var C,I;this.pollId=null!==(I=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Q(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,An.get())};p()}}return y.currentPopupAction=null,y})();const Cr="pendingRedirect",p4=new Map;class Mc extends o3{constructor(d,p,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,g.Z)(function*(){let C=p4.get(p.auth._key());if(!C){try{const L=(yield function c3(y,d){return xa.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;C=()=>Promise.resolve(L)}catch(I){C=()=>Promise.reject(I)}p4.set(p.auth._key(),C)}return p.bypassAuthState||p4.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,C=this;return(0,g.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(C,d);if("unknown"!==d.type){if(d.eventId){const I=yield C.auth._redirectUserForId(d.eventId);if(I)return C.user=I,p().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function xa(){return(xa=(0,g.Z)(function*(y,d){const p=zi(d),C=Aa(y);if(!(yield C._isAvailable()))return!1;const I="true"===(yield C._get(p));return yield C._remove(p),I})).apply(this,arguments)}function Cn(y,d){return Da.apply(this,arguments)}function Da(){return(Da=(0,g.Z)(function*(y,d){return Aa(y)._set(zi(d),"true")})).apply(this,arguments)}function os(y,d){p4.set(y._key(),d)}function Aa(y){return I2(y._redirectPersistence)}function zi(y){return F(Cr,y.config.apiKey,y.name)}function cs(y,d,p){return function wc(y,d,p){return u3.apply(this,arguments)}(y,d,p)}function u3(){return(u3=(0,g.Z)(function*(y,d,p){const C=z2(y);De(y,d,a1),yield C._initializationPromise;const I=$1(C,p);return yield Cn(I,C),I._openRedirect(C,d,"signInViaRedirect")})).apply(this,arguments)}function m4(y,d,p){return function Ta(y,d,p){return ls.apply(this,arguments)}(y,d,p)}function ls(){return(ls=(0,g.Z)(function*(y,d,p){const C=(0,N.m9)(y);De(C.auth,d,a1),yield C.auth._initializationPromise;const I=$1(C.auth,p);yield Cn(I,C.auth);const L=yield Na(C);return I._openRedirect(C.auth,d,"reauthViaRedirect",L)})).apply(this,arguments)}function bc(y,d,p){return function g4(y,d,p){return Tn.apply(this,arguments)}(y,d,p)}function Tn(){return(Tn=(0,g.Z)(function*(y,d,p){const C=(0,N.m9)(y);De(C.auth,d,a1),yield C.auth._initializationPromise;const I=$1(C.auth,p);yield vi(!1,C,d.providerId),yield Cn(I,C.auth);const L=yield Na(C);return I._openRedirect(C.auth,d,"linkViaRedirect",L)})).apply(this,arguments)}function f3(){return(f3=(0,g.Z)(function*(y,d){return yield z2(y)._initializationPromise,us(y,d,!1)})).apply(this,arguments)}function us(y,d){return _r.apply(this,arguments)}function _r(){return(_r=(0,g.Z)(function*(y,d,p=!1){const C=z2(y),I=$1(C,d),B=yield new Mc(C,I,p).execute();return B&&!p&&(delete B.user._redirectEventId,yield C._persistUserIfCurrent(B.user),yield C._setRedirectUser(null,d)),B})).apply(this,arguments)}function Na(y){return K2.apply(this,arguments)}function K2(){return(K2=(0,g.Z)(function*(y){const d=a4(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class ka{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(p=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function h3(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d3(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var C;if(d.error&&!d3(d)){const I=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(Q(this.auth,I))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const C=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Li(d))}saveEventToCache(d){this.cachedEventUids.add(Li(d)),this.lastProcessedEventTime=Date.now()}}function Li(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function d3({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===d?.code}function Kr(y){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,g.Z)(function*(y,d={}){return Ve(y,"GET","/v1/projects",d)})).apply(this,arguments)}const er=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mr=/^https?/;function p3(){return(p3=(0,g.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield Kr(y);for(const p of d)try{if(fs(p))return}catch{}he(y,"unauthorized-domain")})).apply(this,arguments)}function fs(y){const d=e1(),{protocol:p,hostname:C}=new URL(d);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===C?"chrome-extension:"===p&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&B.hostname===C}if(!Mr.test(p))return!1;if(er.test(y))return C===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(C)}const Ic=new qn(3e4,6e4);function Ra(){const y=fe().___jsl;if(y?.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let m3=null;const b0=new qn(5e3,15e3),xi="__/auth/iframe",H0="emulator/auth/iframe",on={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V0(y){const d=y.config;re(d.authDomain,y,"auth-domain-config-required");const p=d.emulator?ae(d,H0):`https://${y.config.authDomain}/${xi}`,C={apiKey:d.apiKey,appName:y.name,v:se.SDK_VERSION},I=Sc.get(y.config.apiHost);I&&(C.eid=I);const L=y._getFrameworks();return L.length&&(C.fw=L.join(",")),`${p}?${(0,N.xO)(C).slice(1)}`}function g3(){return g3=(0,g.Z)(function*(y){const d=yield function Ec(y){return m3=m3||function ds(y){return new Promise((d,p)=>{var C,I,L;function B(){Ra(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Ra(),p(Q(y,"network-request-failed"))},timeout:Ic.get()})}if(null!==(I=null===(C=fe().gapi)||void 0===C?void 0:C.iframes)&&void 0!==I&&I.Iframe)d(gapi.iframes.getContext());else{if(null===(L=fe().gapi)||void 0===L||!L.load){const K=xn("iframefcb");return fe()[K]=()=>{gapi.load?B():p(Q(y,"network-request-failed"))},r1(`https://apis.google.com/js/api.js?onload=${K}`).catch(Le=>p(Le))}B()}}).catch(d=>{throw m3=null,d})}(y),m3}(y),p=fe().gapi;return re(p,y,"internal-error"),d.open({where:document.body,url:V0(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:on,dontclear:!0},C=>new Promise(function(){var I=(0,g.Z)(function*(L,B){yield C.restyle({setHideOnLeave:!1});const K=Q(y,"network-request-failed"),Le=fe().setTimeout(()=>{B(K)},b0.get());function Ue(){fe().clearTimeout(Le),L(C)}C.ping(Ue).then(Ue,()=>{B(K)})});return function(L,B){return I.apply(this,arguments)}}()))}),g3.apply(this,arguments)}const hs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class A{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const le="__/auth/handler",$e="emulator/auth/handler",Ne=encodeURIComponent("fac");function Fe(y,d,p,C,I,L){return Et.apply(this,arguments)}function Et(){return(Et=(0,g.Z)(function*(y,d,p,C,I,L){re(y.config.authDomain,y,"auth-domain-config-required"),re(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:C,v:se.SDK_VERSION,eventId:I};if(d instanceof a1){d.setDefaultLanguage(y.languageCode),B.providerId=d.providerId||"",(0,N.xb)(d.getCustomParameters())||(B.customParameters=JSON.stringify(d.getCustomParameters()));for(const[tt,nt]of Object.entries(L||{}))B[tt]=nt}if(d instanceof cr){const tt=d.getScopes().filter(nt=>""!==nt);tt.length>0&&(B.scopes=tt.join(","))}y.tenantId&&(B.tid=y.tenantId);const K=B;for(const tt of Object.keys(K))void 0===K[tt]&&delete K[tt];const Le=yield y._getAppCheckToken(),Ue=Le?`#${Ne}=${encodeURIComponent(Le)}`:"";return`${function bt({config:y}){return y.emulator?ae(y,$e):`https://${y.authDomain}/${le}`}(y)}?${(0,N.xO)(K).slice(1)}${Ue}`})).apply(this,arguments)}const G1="webStorageSupport",Di=class Y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jr,this._completeRedirectFn=us,this._overrideRedirectResult=os}_openPopup(d,p,C,I){var L=this;return(0,g.Z)(function*(){var B;Pt(null===(B=L.eventManagers[d._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const K=yield Fe(d,p,C,e1(),I);return function U(y,d,p,C=500,I=600){const L=Math.max((window.screen.availHeight-I)/2,0).toString(),B=Math.max((window.screen.availWidth-C)/2,0).toString();let K="";const Le=Object.assign(Object.assign({},hs),{width:C.toString(),height:I.toString(),top:L,left:B}),Ue=(0,N.z$)().toLowerCase();p&&(K=Ke(Ue)?"_blank":p),_e(Ue)&&(d=d||"http://localhost",Le.scrollbars="yes");const tt=Object.entries(Le).reduce((h2,[ln,w3])=>`${h2}${ln}=${w3},`,"");if(function T2(y=(0,N.z$)()){var d;return C2(y)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Ue)&&"_self"!==K)return function W(y,d){const p=document.createElement("a");p.href=y,p.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(d||"",K),new A(null);const nt=window.open(d||"",K,tt);re(nt,y,"popup-blocked");try{nt.focus()}catch{}return new A(nt)}(d,K,a4())})()}_openRedirect(d,p,C,I){var L=this;return(0,g.Z)(function*(){return yield L._originValidation(d),function qt(y){fe().location.href=y}(yield Fe(d,p,C,e1(),I)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:I,promise:L}=this.eventManagers[p];return I?Promise.resolve(I):(Pt(L,"If manager is not set, promise should be"),L)}const C=this.initAndGetManager(d);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(d){var p=this;return(0,g.Z)(function*(){const C=yield function D2(y){return g3.apply(this,arguments)}(d),I=new ka(d);return C.register("authEvent",L=>(re(L?.authEvent,d,"invalid-auth-event"),{status:I.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:I},p.iframes[d._key()]=C,I})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(G1,{type:G1},I=>{var L;const B=null===(L=I?.[0])||void 0===L?void 0:L[G1];void 0!==B&&p(!!B),he(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Pa(y){return p3.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return Zn()||ee()||C2()}};class v4{constructor(d){this.factorId=d}_process(d,p,C){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,C);case"signin":return this._finalizeSignIn(d,p.credential);default:return ct("unexpected MultiFactorSessionType")}}}class Yr extends v4{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Yr(d)}_finalizeEnroll(d,p,C){return function dr(y,d){return Ve(y,"POST","/v2/accounts/mfaEnrollment:finalize",be(y,d))}(d,{idToken:p,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function Ca(y,d){return Ve(y,"POST","/v2/accounts/mfaSignIn:finalize",be(y,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cn=(()=>{class y{constructor(){}static assertion(p){return Yr._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var I0="@firebase/auth";class t5{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,g.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(C=>{d(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ms(){return window}(0,N.Pz)("authIdTokenMaxAge"),function n5(y){(0,se._registerComponent)(new ge.wA("auth",(d,{options:p})=>{const C=d.getProvider("app").getImmediate(),I=d.getProvider("heartbeat"),L=d.getProvider("app-check-internal"),{apiKey:B,authDomain:K}=C.options;re(B&&!B.includes(":"),"invalid-api-key",{appName:C.name});const Le={apiKey:B,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oe(y)},Ue=new O3(C,I,L,Le);return function rc(y,d){const p=d?.persistence||[],C=(Array.isArray(p)?p:[p]).map(I2);d?.errorMap&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(C,d?.popupRedirectResolver)}(Ue,p),Ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,C)=>{d.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ge.wA("auth-internal",d=>{const p=z2(d.getProvider("auth").getImmediate());return new t5(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(I0,"0.23.2",function Lc(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,se.registerVersion)(I0,"0.23.2","esm2017")}("Browser");function xc(){return xc=(0,g.Z)(function*(y,d,p){var C;const{BuildInfo:I}=ms();Pt(d.sessionId,"AuthEvent did not contain a session ID");const L=yield function s5(y){return C3.apply(this,arguments)}(d.sessionId),B={};return C2()?B.ibi=I.packageName:wt()?B.apn=I.packageName:he(y,"operation-not-supported-in-this-environment"),I.displayName&&(B.appDisplayName=I.displayName),B.sessionId=L,Fe(y,p,d.type,void 0,null!==(C=d.eventId)&&void 0!==C?C:void 0,B)}),xc.apply(this,arguments)}function M4(){return(M4=(0,g.Z)(function*(y){const{BuildInfo:d}=ms(),p={};C2()?p.iosBundleId=d.packageName:wt()?p.androidPackageName=d.packageName:he(y,"operation-not-supported-in-this-environment"),yield Kr(y,p)})).apply(this,arguments)}function Dc(){return(Dc=(0,g.Z)(function*(y,d,p){const{cordova:C}=ms();let I=()=>{};try{yield new Promise((L,B)=>{let K=null;function Le(){var nt;L();const h2=null===(nt=C.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof h2&&h2(),"function"==typeof p?.close&&p.close()}function Ue(){K||(K=window.setTimeout(()=>{B(Q(y,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===document?.visibilityState&&Ue()}d.addPassiveListener(Le),document.addEventListener("resume",Ue,!1),wt()&&document.addEventListener("visibilitychange",tt,!1),I=()=>{d.removePassiveListener(Le),document.removeEventListener("resume",Ue,!1),document.removeEventListener("visibilitychange",tt,!1),K&&window.clearTimeout(K)}})}finally{I()}})).apply(this,arguments)}function C3(){return(C3=(0,g.Z)(function*(y){const d=function z0(y){if(Pt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),p=new Uint8Array(d);for(let C=0;C<y.length;C++)p[C]=y.charCodeAt(C);return p}(y),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class x0 extends ka{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,g.Z)(function*(){yield d.initPromise})()}}function a5(y){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,g.Z)(function*(y){const d=yield N0()._get(Fa(y));return d&&(yield N0()._remove(Fa(y))),d})).apply(this,arguments)}function Tc(){const y=[];for(let p=0;p<20;p++){const C=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(C))}return y.join("")}function N0(){return I2(hr)}function Fa(y){return F("authEvent",y.config.apiKey,y.name)}function Ba(y){if(!y?.includes("?"))return{};const[d,...p]=y.split("?");return(0,N.zd)(p.join("?"))}const z9=class S9{constructor(){this._redirectPersistence=jr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=us,this._overrideRedirectResult=os}_initialize(d){var p=this;return(0,g.Z)(function*(){const C=d._key();let I=p.eventManagers.get(C);return I||(I=new x0(d),p.eventManagers.set(C,I),p.attachCallbackListeners(d,I)),I})()}_openPopup(d){he(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,C,I){var L=this;return(0,g.Z)(function*(){!function i5(y){var d,p,C,I,L,B,K,Le,Ue,tt;const nt=ms();re("function"==typeof(null===(d=nt?.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(typeof(null===(p=nt?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(L=null===(I=null===(C=nt?.cordova)||void 0===C?void 0:C.plugins)||void 0===I?void 0:I.browsertab)||void 0===L?void 0:L.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Le=null===(K=null===(B=nt?.cordova)||void 0===B?void 0:B.plugins)||void 0===K?void 0:K.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(tt=null===(Ue=nt?.cordova)||void 0===Ue?void 0:Ue.InAppBrowser)||void 0===tt?void 0:tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const B=yield L._initialize(d);yield B.initialized(),B.resetRedirect(),function l3(){p4.clear()}(),yield L._originValidation(d);const K=function D0(y,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:Tc(),postBody:null,tenantId:y.tenantId,error:Q(y,"no-auth-event")}}(d,C,I);yield function A0(y,d){return N0()._set(Fa(y),d)}(d,K);const Le=yield function _4(y,d,p){return xc.apply(this,arguments)}(d,K,p),Ue=yield function r5(y){const{cordova:d}=ms();return new Promise(p=>{d.plugins.browsertab.isAvailable(C=>{let I=null;C?d.plugins.browsertab.openUrl(y):I=d.InAppBrowser.open(y,function Ut(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(I)})})}(Le);return function V9(y,d,p){return Dc.apply(this,arguments)}(d,B,Ue)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function H9(y){return M4.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:C,handleOpenURL:I,BuildInfo:L}=ms(),B=setTimeout((0,g.Z)(function*(){yield a5(d),p.onEvent(k0())}),500),K=function(){var tt=(0,g.Z)(function*(nt){clearTimeout(B);const h2=yield a5(d);let ln=null;h2&&nt?.url&&(ln=function T0(y,d){var p,C;const I=function I9(y){const d=Ba(y),p=d.link?decodeURIComponent(d.link):void 0,C=Ba(p).link,I=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Ba(I).link||I||C||p||y}(d);if(I.includes("/__/auth/callback")){const L=Ba(I),B=L.firebaseError?function Nc(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,K=null===(C=null===(p=B?.code)||void 0===p?void 0:p.split("auth/"))||void 0===C?void 0:C[1],Le=K?Q(K):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(h2,nt.url)),p.onEvent(ln||k0())});return function(h2){return tt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,K);const Le=I,Ue=`${L.packageName.toLowerCase()}://`;ms().handleOpenURL=function(){var tt=(0,g.Z)(function*(nt){if(nt.toLowerCase().startsWith(Ue)&&K({url:nt}),"function"==typeof Le)try{Le(nt)}catch(h2){console.error(h2)}});return function(nt){return tt.apply(this,arguments)}}()}};function k0(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Q("no-auth-event")}}function vs(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function kc(y=(0,N.z$)()){return!("file:"!==vs()&&"ionic:"!==vs()&&"capacitor:"!==vs()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function F0(){try{const y=self.localStorage,d=a4();if(y)return y.setItem(d,"1"),y.removeItem(d),!function $a(y=(0,N.z$)()){return function ja(){return(0,N.w1)()&&11===document?.documentMode}()||function b4(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return Pc()&&(0,N.hl)()}return!1}function Pc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ga(){return(function _3(){return"http:"===vs()||"https:"===vs()}()||(0,N.ru)()||kc())&&!function O0(){return(0,N.b$)()||(0,N.UG)()}()&&F0()&&!Pc()}function Rc(){return kc()&&typeof document<"u"}function Fc(){return(Fc=(0,g.Z)(function*(){return!!Rc()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const _n={LOCAL:"local",NONE:"none",SESSION:"session"},ys=re,B0="persistence";function P1(y){return M3.apply(this,arguments)}function M3(){return(M3=(0,g.Z)(function*(y){yield y._initializationPromise;const d=qa(),p=F(B0,y.config.apiKey,y.name);d&&d.setItem(p,y._getPersistence())})).apply(this,arguments)}function qa(){var y;try{return(null===(y=function o5(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const V1=re;class kn{constructor(){this.browserResolver=I2(Di),this.cordovaResolver=I2(z9),this.underlyingResolver=null,this._redirectPersistence=jr,this._completeRedirectFn=us,this._overrideRedirectResult=os}_initialize(d){var p=this;return(0,g.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,C,I){var L=this;return(0,g.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(d,p,C,I)})()}_openRedirect(d,p,C,I){var L=this;return(0,g.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(d,p,C,I)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return Rc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return V1(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,g.Z)(function*(){if(d.underlyingResolver)return;const p=yield function Oc(){return Fc.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function Wa(y){return y.unwrap()}function c5(y){return q0(y)}function q0(y){const{_tokenResponse:d}=y instanceof N.ZR?y.customData:y;if(!d)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return qr.credentialFromResult(y);const p=d.providerId;if(!p||p===we.PASSWORD)return null;let C;switch(p){case we.GOOGLE:C=rn;break;case we.FACEBOOK:C=lr;break;case we.GITHUB:C=Ps;break;case we.TWITTER:C=Rs;break;default:const{oauthIdToken:I,oauthAccessToken:L,oauthTokenSecret:B,pendingToken:K,nonce:Le}=d;return L||B||I||K?K?p.startsWith("saml.")?Tt._create(p,K):_t._fromParams({providerId:p,signInMethod:p,pendingToken:K,idToken:I,accessToken:L}):new Qn(p).credential({idToken:I,accessToken:L,rawNonce:Le}):null}return y instanceof N.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function q1(y,d){return d.catch(p=>{throw p instanceof N.ZR&&function G0(y,d){var p;const C=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===d?.code)d.resolver=new l5(y,function pa(y,d){var p;const C=(0,N.m9)(y),I=d;return re(d.customData.operationType,C,"argument-error"),re(null===(p=I.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,C,"argument-error"),es._fromError(C,I)}(y,d));else if(C){const I=q0(d),L=d;I&&(L.credential=I,L.tenantId=C.tenantId||void 0,L.email=C.email||void 0,L.phoneNumber=C.phoneNumber||void 0)}}(y,p),p}).then(p=>{const I=p.user;return{operationType:p.operationType,credential:c5(p),additionalUserInfo:Qs(p),user:Jr.getOrCreate(I)}})}function Bc(y,d){return H4.apply(this,arguments)}function H4(){return(H4=(0,g.Z)(function*(y,d){const p=yield d;return{verificationId:p.verificationId,confirm:C=>q1(y,p.confirm(C))}})).apply(this,arguments)}class l5{constructor(d,p){this.resolver=p,this.auth=function $0(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return q1(Wa(this.auth),this.resolver.resolveSignIn(d))}}class Jr{constructor(d){this._delegate=d,this.multiFactor=function ma(y){const d=(0,N.m9)(y);return Ur.has(d)||Ur.set(d,Br._fromUser(d)),Ur.get(d)}(d)}static getOrCreate(d){return Jr.USER_MAP.has(d)||Jr.USER_MAP.set(d,new Jr(d)),Jr.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,g.Z)(function*(){return q1(p.auth,p0(p._delegate,d))})()}linkWithPhoneNumber(d,p){var C=this;return(0,g.Z)(function*(){return Bc(C.auth,function vr(y,d,p){return is.apply(this,arguments)}(C._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,g.Z)(function*(){return q1(p.auth,function _c(y,d,p){return Zr.apply(this,arguments)}(p._delegate,d,kn))})()}linkWithRedirect(d){var p=this;return(0,g.Z)(function*(){return yield P1(z2(p.auth)),bc(p._delegate,d,kn)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,g.Z)(function*(){return q1(p.auth,m0(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return Bc(this.auth,function Ei(y,d,p){return Gr.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return q1(this.auth,function h4(y,d,p){return Wr.apply(this,arguments)}(this._delegate,d,kn))}reauthenticateWithRedirect(d){var p=this;return(0,g.Z)(function*(){return yield P1(z2(p.auth)),m4(p._delegate,d,kn)})()}sendEmailVerification(d){return function Ws(y,d){return _i.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,g.Z)(function*(){return yield function Pr(y,d){return j1.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function fa(y,d){return pc((0,N.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function da(y,d){return pc((0,N.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function s3(y,d){return a3.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function e5(y,d){return Zs.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function Q3(y,d,p){return fr.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jr.USER_MAP=new WeakMap;const Cs=re;let V4=(()=>{class y{constructor(p,C){if(this.app=p,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=p.options;Cs(I,"invalid-api-key",{appName:p.name}),Cs(I,"invalid-api-key",{appName:p.name});const L=typeof window<"u"?kn:void 0;this._delegate=C.initialize({options:{persistence:I4(I,p.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(dt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,C){!function A1(y,d,p){const C=z2(y);re(C._canInitEmulator,C,"emulator-config-failed"),re(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const I=!!p?.disableWarnings,L=di(d),{host:B,port:K}=function F3(y){const d=di(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(C);if(I){const L=I[1];return{host:L,port:ta(C.substr(L.length+1))}}{const[L,B]=C.split(":");return{host:L,port:ta(B)}}}(d);C.config.emulator={url:`${L}//${B}${null===K?"":`:${K}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:B,port:K,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function f0(){function y(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,C)}applyActionCode(p){return function ca(y,d){return w1.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Us(this._delegate,p)}confirmPasswordReset(p,C){return function Rr(y,d,p){return Bs.apply(this,arguments)}(this._delegate,p,C)}createUserWithEmailAndPassword(p,C){var I=this;return(0,g.Z)(function*(){return q1(I._delegate,function uc(y,d,p){return $s.apply(this,arguments)}(I._delegate,p,C))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function la(y,d){return ua.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function fc(y,d){const p=f2.parseLink(d);return"EMAIL_SIGNIN"===p?.operation}(0,p)}getRedirectResult(){var p=this;return(0,g.Z)(function*(){Cs(Ga(),p._delegate,"operation-not-supported-in-this-environment");const C=yield function Hc(y,d){return f3.apply(this,arguments)}(p._delegate,kn);return C?q1(p._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function w4(y,d){z2(y)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,C,I){const{next:L,error:B,complete:K}=W0(p,C,I);return this._delegate.onAuthStateChanged(L,B,K)}onIdTokenChanged(p,C,I){const{next:L,error:B,complete:K}=W0(p,C,I);return this._delegate.onIdTokenChanged(L,B,K)}sendSignInLinkToEmail(p,C){return function Or(y,d,p){return H2.apply(this,arguments)}(this._delegate,p,C)}sendPasswordResetEmail(p,C){return function X8(y,d,p){return Qi.apply(this,arguments)}(this._delegate,p,C||void 0)}setPersistence(p){var C=this;return(0,g.Z)(function*(){let I;switch(function U0(y,d){ys(Object.values(_n).includes(d),y,"invalid-persistence-type"),(0,N.b$)()?ys(d!==_n.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?ys(d===_n.NONE,y,"unsupported-persistence-type"):Pc()?ys(d===_n.NONE||d===_n.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):ys(d===_n.NONE||F0(),y,"unsupported-persistence-type")}(C._delegate,p),p){case _n.SESSION:I=jr;break;case _n.LOCAL:I=(yield I2($r)._isAvailable())?$r:hr;break;case _n.NONE:I=en;break;default:return he("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return q1(this._delegate,function o1(y){return oc.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return q1(this._delegate,W3(this._delegate,p))}signInWithCustomToken(p){return q1(this._delegate,function oa(y,d){return Jn.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,C){return q1(this._delegate,function Dn(y,d,p){return W3((0,N.m9)(y),Tr.credential(d,p))}(this._delegate,p,C))}signInWithEmailLink(p,C){return q1(this._delegate,function b1(y,d,p){return Gs.apply(this,arguments)}(this._delegate,p,C))}signInWithPhoneNumber(p,C){return Bc(this._delegate,function Ia(y,d,p){return gr.apply(this,arguments)}(this._delegate,p,C))}signInWithPopup(p){var C=this;return(0,g.Z)(function*(){return Cs(Ga(),C._delegate,"operation-not-supported-in-this-environment"),q1(C._delegate,function za(y,d,p){return La.apply(this,arguments)}(C._delegate,p,kn))})()}signInWithRedirect(p){var C=this;return(0,g.Z)(function*(){return Cs(Ga(),C._delegate,"operation-not-supported-in-this-environment"),yield P1(C._delegate),cs(C._delegate,p,kn)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Y3(y,d){return Ci.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=_n,y})();function W0(y,d,p){let C=y;"function"!=typeof y&&({next:C,error:d,complete:p}=y);const I=C;return{next:B=>I(B&&Jr.getOrCreate(B)),error:d,complete:p}}function I4(y,d){const p=function j0(y,d){const p=qa();if(!p)return[];const C=F(B0,y,d);switch(p.getItem(C)){case _n.NONE:return[en];case _n.LOCAL:return[$r,jr];case _n.SESSION:return[jr];default:return[]}}(y,d);if(typeof self<"u"&&!p.includes($r)&&p.push($r),typeof window<"u")for(const C of[hr,jr])p.includes(C)||p.push(C);return p.includes(en)||p.push(en),p}class Uc{constructor(){this.providerId="phone",this._delegate=new qr(Wa(X.Z.auth()))}static credential(d,p){return qr.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}Uc.PHONE_SIGN_IN_METHOD=qr.PHONE_SIGN_IN_METHOD,Uc.PROVIDER_ID=qr.PROVIDER_ID;const Z0=re;class K0{constructor(d,p,C=X.Z.app()){var I;Z0(null===(I=C.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Va(d,p,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Q0(y){y.INTERNAL.registerComponent(new ge.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),C=d.getProvider("auth");return new V4(p,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Tr,FacebookAuthProvider:lr,GithubAuthProvider:Ps,GoogleAuthProvider:rn,OAuthProvider:Qn,SAMLAuthProvider:mi,PhoneAuthProvider:Uc,PhoneMultiFactorGenerator:cn,RecaptchaVerifier:K0,TwitterAuthProvider:Rs,Auth:V4,AuthCredential:xr,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(X.Z)},5861:(ht,ze,T)=>{function g(N,se,ne,me,ge,Te,we){try{var R=N[Te](we),j=R.value}catch(ie){return void ne(ie)}R.done?se(j):Promise.resolve(j).then(me,ge)}function X(N){return function(){var se=this,ne=arguments;return new Promise(function(me,ge){var Te=N.apply(se,ne);function we(j){g(Te,me,ge,we,R,"next",j)}function R(j){g(Te,me,ge,we,R,"throw",j)}we(void 0)})}}T.d(ze,{Z:()=>X})},7582:(ht,ze,T)=>{function se(ae,ue){var ye={};for(var Ce in ae)Object.prototype.hasOwnProperty.call(ae,Ce)&&ue.indexOf(Ce)<0&&(ye[Ce]=ae[Ce]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var be=0;for(Ce=Object.getOwnPropertySymbols(ae);be<Ce.length;be++)ue.indexOf(Ce[be])<0&&Object.prototype.propertyIsEnumerable.call(ae,Ce[be])&&(ye[Ce[be]]=ae[Ce[be]])}return ye}function ie(ae,ue,ye,Ce){return new(ye||(ye=Promise))(function(Ve,Xe){function je(Wt){try{pt(Ce.next(Wt))}catch(xt){Xe(xt)}}function w2(Wt){try{pt(Ce.throw(Wt))}catch(xt){Xe(xt)}}function pt(Wt){Wt.done?Ve(Wt.value):function be(Ve){return Ve instanceof ye?Ve:new ye(function(Xe){Xe(Ve)})}(Wt.value).then(je,w2)}pt((Ce=Ce.apply(ae,ue||[])).next())})}function Y(ae){return this instanceof Y?(this.v=ae,this):new Y(ae)}function he(ae,ue,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,Ce=ye.apply(ae,ue||[]),Ve=[];return be={},Xe("next"),Xe("throw"),Xe("return"),be[Symbol.asyncIterator]=function(){return this},be;function Xe(c2){Ce[c2]&&(be[c2]=function(p2){return new Promise(function(t1,Xt){Ve.push([c2,p2,t1,Xt])>1||je(c2,p2)})})}function je(c2,p2){try{!function w2(c2){c2.value instanceof Y?Promise.resolve(c2.value.v).then(pt,Wt):xt(Ve[0][2],c2)}(Ce[c2](p2))}catch(t1){xt(Ve[0][3],t1)}}function pt(c2){je("next",c2)}function Wt(c2){je("throw",c2)}function xt(c2,p2){c2(p2),Ve.shift(),Ve.length&&je(Ve[0][0],Ve[0][1])}}function He(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ue=ae[Symbol.asyncIterator];return ue?ue.call(ae):(ae=function ve(ae){var ue="function"==typeof Symbol&&Symbol.iterator,ye=ue&&ae[ue],Ce=0;if(ye)return ye.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&Ce>=ae.length&&(ae=void 0),{value:ae&&ae[Ce++],done:!ae}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),ye={},Ce("next"),Ce("throw"),Ce("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Ce(Ve){ye[Ve]=ae[Ve]&&function(Xe){return new Promise(function(je,w2){!function be(Ve,Xe,je,w2){Promise.resolve(w2).then(function(pt){Ve({value:pt,done:je})},Xe)}(je,w2,(Xe=ae[Ve](Xe)).done,Xe.value)})}}}T.d(ze,{FC:()=>he,KL:()=>He,_T:()=>se,mG:()=>ie,qq:()=>Y}),"function"==typeof SuppressedError&&SuppressedError}},ht=>{ht(ht.s=2013)}]);