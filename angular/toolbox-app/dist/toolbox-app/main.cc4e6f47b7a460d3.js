(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{142:(ve,xe,V)=>{"use strict";function R(t){return"function"==typeof t}function b(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const $=b(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function U(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Y{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(R(r))try{r()}catch(s){e=s instanceof $?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_(s)}catch(o){e=e??[],o instanceof $?e=[...e,...o.errors]:e.push(o)}}if(e)throw new $(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_(e);else{if(e instanceof Y){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&U(n,e)}remove(e){const{_finalizers:n}=this;n&&U(n,e),e instanceof Y&&e._removeParent(this)}}Y.EMPTY=(()=>{const t=new Y;return t.closed=!0,t})();const N=Y.EMPTY;function q(t){return t instanceof Y||t&&"closed"in t&&R(t.remove)&&R(t.add)&&R(t.unsubscribe)}function _(t){R(t)?t():t.unsubscribe()}const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},P={setTimeout(t,e,...n){const{delegate:r}=P;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=P;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function y(t){P.setTimeout(()=>{const{onUnhandledError:e}=w;if(!e)throw t;e(t)})}function D(){}const x=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let k=null;function m(t){if(w.useDeprecatedSynchronousErrorHandling){const e=!k;if(e&&(k={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=k;if(k=null,n)throw r}}else t()}class L extends Y{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,q(e)&&e.add(this)):this.destination=K}static create(e,n,r){return new le(e,n,r)}next(e){this.isStopped?be(function A(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?be(function T(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?be(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function z(t,e){return O.call(t,e)}class j{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){oe(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){oe(r)}else oe(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){oe(n)}}}class le extends L{constructor(e,n,r){let i;if(super(),R(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&w.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&z(e.next,s),error:e.error&&z(e.error,s),complete:e.complete&&z(e.complete,s)}):i=e}this.destination=new j(i)}}function oe(t){w.useDeprecatedSynchronousErrorHandling?function C(t){w.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=t)}(t):y(t)}function be(t,e){const{onStoppedNotification:n}=w;n&&P.setTimeout(()=>n(t,e))}const K={closed:!0,next:D,error:function fe(t){throw t},complete:D},ce="function"==typeof Symbol&&Symbol.observable||"@@observable";function me(t){return t}function Ne(t){return 0===t.length?me:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Q(t){return t&&t instanceof L||function Ze(t){return t&&R(t.next)&&R(t.error)&&R(t.complete)}(t)&&q(t)}(n)?n:new le(n,r,i);return m(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=We(r))((i,s)=>{const o=new le({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ce](){return this}pipe(...n){return Ne(n)(this)}toPromise(n){return new(n=We(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function We(t){var e;return null!==(e=t??w.Promise)&&void 0!==e?e:Promise}const ie=b(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Z=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new re(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ie}next(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?N:(this.currentObservers=null,s.push(n),new Y(()=>{this.currentObservers=null,U(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new de;return n.source=this,n}}return t.create=(e,n)=>new re(e,n),t})();class re extends Z{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:N}}function At(t){return R(t?.lift)}function Ve(t){return e=>{if(At(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function et(t,e,n,r,i){return new Je(t,e,n,r,i)}class Je extends L{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ye(t,e){return Ve((n,r)=>{let i=0;n.subscribe(et(r,s=>{r.next(t.call(e,s,i++))}))})}function er(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function In(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Gi(t,e){return function(n,r){e(n,r,t)}}function Ii(t){return this instanceof Ii?(this.v=t,this):new Ii(t)}function U0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Pc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const K0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function rd(t){return R(t?.then)}function Y0(t){return R(t[ce])}function Q0(t){return Symbol.asyncIterator&&R(t?.[Symbol.asyncIterator])}function id(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sd=function r_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function tr(t){return R(t?.[sd])}function bi(t){return function Rs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Ii?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ii(n.read());if(i)return yield Ii(void 0);yield yield Ii(r)}}finally{n.releaseLock()}})}function od(t){return R(t?.getReader)}function nr(t){if(t instanceof de)return t;if(null!=t){if(Y0(t))return function JU(t){return new de(e=>{const n=t[ce]();if(R(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(K0(t))return function ZU(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(rd(t))return function ej(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,y)})}(t);if(Q0(t))return gw(t);if(tr(t))return function tj(t){return new de(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(od(t))return function nj(t){return gw(bi(t))}(t)}throw id(t)}function gw(t){return new de(e=>{(function rj(t,e){var n,r,i,s;return function Tr(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=U0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ps(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Bn(t,e,n=1/0){return R(e)?Bn((r,i)=>Ye((s,o)=>e(r,s,i,o))(nr(t(r,i))),n):("number"==typeof e&&(n=e),Ve((r,i)=>function ij(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let E=!1;nr(n(g,u++)).subscribe(et(e,S=>{i?.(S),s?h(S):e.next(S)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){const S=c.shift();o?Ps(e,o,()=>p(S)):p(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(et(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function X0(t=1/0){return Bn(me,t)}const qi=new de(t=>t.complete());function i_(t){return t[t.length-1]}function mw(t){return R(i_(t))?t.pop():void 0}function ad(t){return function oj(t){return t&&R(t.schedule)}(i_(t))?t.pop():void 0}function J0(t,e=0){return Ve((n,r)=>{n.subscribe(et(r,i=>Ps(r,t,()=>r.next(i),e),()=>Ps(r,t,()=>r.complete(),e),i=>Ps(r,t,()=>r.error(i),e)))})}function Z0(t,e=0){return Ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _w(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{Ps(n,e,()=>{const r=t[Symbol.asyncIterator]();Ps(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Hn(t,e){return e?function hj(t,e){if(null!=t){if(Y0(t))return function cj(t,e){return nr(t).pipe(Z0(e),J0(e))}(t,e);if(K0(t))return function uj(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(rd(t))return function lj(t,e){return nr(t).pipe(Z0(e),J0(e))}(t,e);if(Q0(t))return _w(t,e);if(tr(t))return function dj(t,e){return new de(n=>{let r;return Ps(n,e,()=>{r=t[sd](),Ps(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>R(r?.return)&&r.return()})}(t,e);if(od(t))return function fj(t,e){return _w(bi(t),e)}(t,e)}throw id(t)}(t,e):nr(t)}class ii extends Z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Le(...t){return Hn(t,ad(t))}function vw(t={}){const{connector:e=(()=>new Z),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Ve((g,E)=>{l++,!d&&!u&&f();const S=c=c??e();E.add(()=>{l--,0===l&&!d&&!u&&(a=s_(p,i))}),S.subscribe(E),!o&&l>0&&(o=new le({next:I=>S.next(I),error:I=>{d=!0,f(),a=s_(h,n,I),S.error(I)},complete:()=>{u=!0,f(),a=s_(h,r),S.complete()}}),nr(g).subscribe(o))})(s)}}function s_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new le({next:()=>{r.unsubscribe(),t()}});return nr(e(...n)).subscribe(r)}function si(t,e){return Ve((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(et(r,c=>{i?.unsubscribe();let l=0;const u=s++;nr(t(c,u)).subscribe(i=et(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function yw(t,e=me){return t=t??gj,Ve((n,r)=>{let i,s=!0;n.subscribe(et(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function gj(t,e){return t===e}function yt(t){for(let e in t)if(t[e]===yt)return e;throw Error("Could not find renamed property on target object.")}function ep(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function bn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(bn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function o_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const mj=yt({__forward_ref__:yt});function Tt(t){return t.__forward_ref__=Tt,t.toString=function(){return bn(this())},t}function ze(t){return a_(t)?t():t}function a_(t){return"function"==typeof t&&t.hasOwnProperty(mj)&&t.__forward_ref__===Tt}function c_(t){return t&&!!t.\u0275providers}const Ew="https://g.co/ng/security#xss";class ee extends Error{constructor(e,n){super(function tp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function je(t){return"string"==typeof t?t:null==t?"":String(t)}function l_(t,e){throw new ee(-201,!1)}function oi(t,e){null==t&&function Be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Ce(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function np(t){return xw(t,ip)||xw(t,Cw)}function xw(t,e){return t.hasOwnProperty(e)?t[e]:null}function rp(t){return t&&(t.hasOwnProperty(u_)||t.hasOwnProperty(bj))?t[u_]:null}const ip=yt({\u0275prov:yt}),u_=yt({\u0275inj:yt}),Cw=yt({ngInjectableDef:yt}),bj=yt({ngInjectorDef:yt});var st=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(st||{});let d_;function Rr(t){const e=d_;return d_=t,e}function bw(t,e,n){const r=np(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&st.Optional?null:void 0!==e?e:void l_(bn(t))}const St=globalThis;class ye{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const cd={},m_="__NG_DI_FLAG__",sp="ngTempTokenPath",Dj=/\n/gm,Aw="__source";let Mc;function mo(t){const e=Mc;return Mc=t,e}function Rj(t,e=st.Default){if(void 0===Mc)throw new ee(-203,!1);return null===Mc?bw(t,void 0,e):Mc.get(t,e&st.Optional?null:void 0,e)}function Se(t,e=st.Default){return(function Iw(){return d_}()||Rj)(ze(t),e)}function W(t,e=st.Default){return Se(t,op(e))}function op(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function __(t){const e=[];for(let n=0;n<t.length;n++){const r=ze(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ee(900,!1);let i,s=st.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Pj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(Se(i,s))}else e.push(Se(r))}return e}function ld(t,e){return t[m_]=e,t.prototype[m_]=e,t}function Pj(t){return t[m_]}function Ms(t){return{toString:t}.toString()}var ap=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ap||{}),wi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(wi||{});const Wi={},ft=[],cp=yt({\u0275cmp:yt}),v_=yt({\u0275dir:yt}),y_=yt({\u0275pipe:yt}),Tw=yt({\u0275mod:yt}),ks=yt({\u0275fac:yt}),ud=yt({__NG_ELEMENT_ID__:yt}),Sw=yt({__NG_ENV_ID__:yt});function Rw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function E_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Mw(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Pw(t){return 3===t||4===t||6===t}function Mw(t){return 64===t.charCodeAt(0)}function dd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||kw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function kw(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Nw="ng-template";function Nj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Rw(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Ow(t){return 4===t.type&&t.value!==Nw}function Oj(t,e,n){return e===(4!==t.type||n?t.value:Nw)}function Fj(t,e,n){let r=4;const i=t.attrs||[],s=function Bj(t){for(let e=0;e<t.length;e++)if(Pw(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Oj(t,c,n)||""===c&&1===e.length){if(Ai(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Nj(t.attrs,l,n)){if(Ai(r))return!1;o=!0}continue}const d=Vj(8&r?"class":c,i,Ow(t),n);if(-1===d){if(Ai(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Rw(h,l,0)||2&r&&l!==f){if(Ai(r))return!1;o=!0}}}}else{if(!o&&!Ai(r)&&!Ai(c))return!1;if(o&&Ai(c))continue;o=!1,r=c|1&r}}return Ai(r)||o}function Ai(t){return 0==(1&t)}function Vj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Hj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Fw(t,e,n=!1){for(let r=0;r<e.length;r++)if(Fj(t,e[r],n))return!0;return!1}function zj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Vw(t,e){return t?":not("+e.trim()+")":e}function Uj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ai(o)&&(e+=Vw(s,i),i=""),r=o,s=s||!Ai(r);n++}return""!==i&&(e+=Vw(s,i)),e}function Pr(t){return Ms(()=>{const e=Bw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ap.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||wi.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""};Hw(n);const r=t.dependencies;return n.directiveDefs=lp(r,!1),n.pipeDefs=lp(r,!0),n.id=function Qj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function qj(t){return at(t)||Un(t)}function Wj(t){return null!==t}function Ut(t){return Ms(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Lw(t,e){if(null==t)return Wi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Oe(t){return Ms(()=>{const e=Bw(t);return Hw(e),e})}function zn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[cp]||null}function Un(t){return t[v_]||null}function pr(t){return t[y_]||null}function jr(t,e){const n=t[Tw]||null;if(!n&&!0===e)throw new Error(`Type ${bn(t)} does not have '\u0275mod' property.`);return n}function Bw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Wi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lw(t.inputs,e),outputs:Lw(t.outputs)}}function Hw(t){t.features?.forEach(e=>e(t))}function lp(t,e){if(!t)return null;const n=e?pr:qj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Wj)}const Zt=0,Ie=1,Ke=2,jt=3,Di=4,fd=5,rr=6,Nc=7,ln=8,_o=9,Oc=10,$e=11,hd=12,zw=13,Fc=14,un=15,pd=16,Vc=17,Ki=18,gd=19,Uw=20,vo=21,Ns=22,md=23,_d=24,tt=25,x_=1,jw=2,Yi=7,Lc=9,jn=11;function Mr(t){return Array.isArray(t)&&"object"==typeof t[x_]}function gr(t){return Array.isArray(t)&&!0===t[x_]}function C_(t){return 0!=(4&t.flags)}function xa(t){return t.componentOffset>-1}function dp(t){return 1==(1&t.flags)}function Ti(t){return!!t.template}function I_(t){return 0!=(512&t[Ke])}function Ca(t,e){return t.hasOwnProperty(ks)?t[ks]:null}let $n=null,fp=!1;function ai(t){const e=$n;return $n=t,e}const qw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Kw(t){if(!yd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Xw(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Qw(t){t.dirty=!0,function Yw(t){if(void 0===t.liveConsumerNode)return;const e=fp;fp=!0;try{for(const n of t.liveConsumerNode)n.dirty||Qw(n)}finally{fp=e}}(t),t.consumerMarkedDirty?.(t)}function w_(t){return t&&(t.nextProducerIndex=0),ai(t)}function A_(t,e){if(ai(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(yd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Xw(t){Bc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Kw(n),r!==n.version))return!0}return!1}function Jw(t){if(Bc(t),yd(t))for(let e=0;e<t.producerNode.length;e++)hp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hp(t,e){if(function eA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Bc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)hp(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Bc(i),i.producerIndexOfThis[r]=e}}function yd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let tA=null;function iA(t){const e=ai(null);try{return t()}finally{ai(e)}}const sA=()=>{},l$=(()=>({...qw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:sA}))();class u${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function mr(){return oA}function oA(t){return t.type.prototype.ngOnChanges&&(t.setInput=f$),d$}function d$(){const t=cA(this),e=t?.current;if(e){const n=t.previous;if(n===Wi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function f$(t,e,n,r){const i=this.declaredInputs[n],s=cA(t)||function h$(t,e){return t[aA]=e}(t,{previous:Wi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new u$(c&&c.currentValue,e,a===Wi),t[r]=e}mr.ngInherit=!0;const aA="__ngSimpleChanges__";function cA(t){return t[aA]||null}const Qi=function(t,e,n){};function Rt(t){for(;Array.isArray(t);)t=t[Zt];return t}function pp(t,e){return Rt(e[t])}function kr(t,e){return Rt(e[t.index])}function dA(t,e){return t.data[e]}function Hc(t,e){return t[e]}function $r(t,e){const n=e[t];return Mr(n)?n:n[Zt]}function Eo(t,e){return null==e?null:t[e]}function fA(t){t[Vc]=0}function y$(t){1024&t[Ke]||(t[Ke]|=1024,pA(t,1))}function hA(t){1024&t[Ke]&&(t[Ke]&=-1025,pA(t,-1))}function pA(t,e){let n=t[jt];if(null===n)return;n[fd]+=e;let r=n;for(n=n[jt];null!==n&&(1===e&&1===r[fd]||-1===e&&0===r[fd]);)n[fd]+=e,r=n,n=n[jt]}const He={lFrame:wA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _A(){return He.bindingsEnabled}function zc(){return null!==He.skipHydrationRootTNode}function X(){return He.lFrame.lView}function ct(){return He.lFrame.tView}function Ed(t){return He.lFrame.contextLView=t,t[ln]}function xd(t){return He.lFrame.contextLView=null,t}function Gn(){let t=vA();for(;null!==t&&64===t.type;)t=t.parent;return t}function vA(){return He.lFrame.currentTNode}function Xi(t,e){const n=He.lFrame;n.currentTNode=t,n.isParent=e}function P_(){return He.lFrame.isParent}function M_(){He.lFrame.isParent=!1}function _r(){const t=He.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Uc(){return He.lFrame.bindingIndex++}function P$(t,e){const n=He.lFrame;n.bindingIndex=n.bindingRootIndex=t,k_(e)}function k_(t){He.lFrame.currentDirectiveIndex=t}function CA(){return He.lFrame.currentQueryIndex}function O_(t){He.lFrame.currentQueryIndex=t}function k$(t){const e=t[Ie];return 2===e.type?e.declTNode:1===e.type?t[rr]:null}function IA(t,e,n){if(n&st.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&st.Host||(i=k$(s),null===i||(s=s[Fc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=He.lFrame=bA();return r.currentTNode=e,r.lView=t,!0}function F_(t){const e=bA(),n=t[Ie];He.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function bA(){const t=He.lFrame,e=null===t?null:t.child;return null===e?wA(t):e}function wA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function AA(){const t=He.lFrame;return He.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const DA=AA;function V_(){const t=AA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vr(){return He.lFrame.selectedIndex}function Ia(t){He.lFrame.selectedIndex=t}function Kt(){const t=He.lFrame;return dA(t.tView,t.selectedIndex)}let SA=!0;function gp(){return SA}function xo(t){SA=t}function mp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function _p(t,e,n){RA(t,e,3,n)}function vp(t,e,n,r){(3&t[Ke])===n&&RA(t,e,n,r)}function L_(t,e){let n=t[Ke];(3&n)===e&&(n&=8191,n+=1,t[Ke]=n)}function RA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Vc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Vc]+=65536),(a<s||-1==s)&&(z$(t,n,e,c),t[Vc]=(4294901760&t[Vc])+c+2),c++}function PA(t,e){Qi(4,t,e);const n=ai(null);try{e.call(t)}finally{ai(n),Qi(5,t,e)}}function z$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Ke]>>13<t[Vc]>>16&&(3&t[Ke])===e&&(t[Ke]+=8192,PA(a,s)):PA(a,s)}const jc=-1;class Id{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function H_(t){return t!==jc}function bd(t){return 32767&t}function wd(t,e){let n=function G$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Fc],n--;return r}let z_=!0;function yp(t){const e=z_;return z_=t,e}const MA=255,kA=5;let q$=0;const Ji={};function Ep(t,e){const n=NA(t,e);if(-1!==n)return n;const r=e[Ie];r.firstCreatePass&&(t.injectorIndex=e.length,U_(r.data,t),U_(e,null),U_(r.blueprint,null));const i=xp(t,e),s=t.injectorIndex;if(H_(i)){const o=bd(i),a=wd(i,e),c=a[Ie].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function U_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function NA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function xp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=zA(i),null===r)return jc;if(n++,i=i[Fc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return jc}function j_(t,e,n){!function W$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ud)&&(r=n[ud]),null==r&&(r=n[ud]=q$++);const i=r&MA;e.data[t+(i>>kA)]|=1<<i}(t,e,n)}function OA(t,e,n){if(n&st.Optional||void 0!==t)return t;l_()}function FA(t,e,n,r){if(n&st.Optional&&void 0===r&&(r=null),!(n&(st.Self|st.Host))){const i=t[_o],s=Rr(void 0);try{return i?i.get(e,r,n&st.Optional):bw(e,r,n&st.Optional)}finally{Rr(s)}}return OA(r,0,n)}function VA(t,e,n,r=st.Default,i){if(null!==t){if(2048&e[Ke]&&!(r&st.Self)){const o=function Z$(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Ke]&&!(512&o[Ke]);){const a=LA(s,o,n,r|st.Self,Ji);if(a!==Ji)return a;let c=s.parent;if(!c){const l=o[Uw];if(l){const u=l.get(n,Ji,r);if(u!==Ji)return u}c=zA(o),o=o[Fc]}s=c}return i}(t,e,n,r,Ji);if(o!==Ji)return o}const s=LA(t,e,n,r,Ji);if(s!==Ji)return s}return FA(e,n,r,i)}function LA(t,e,n,r,i){const s=function Q$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ud)?t[ud]:void 0;return"number"==typeof e?e>=0?e&MA:J$:e}(n);if("function"==typeof s){if(!IA(e,t,r))return r&st.Host?OA(i,0,r):FA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&st.Optional)return o;l_()}finally{DA()}}else if("number"==typeof s){let o=null,a=NA(t,e),c=jc,l=r&st.Host?e[un][rr]:null;for((-1===a||r&st.SkipSelf)&&(c=-1===a?xp(t,e):e[a+8],c!==jc&&HA(r,!1)?(o=e[Ie],a=bd(c),e=wd(c,e)):a=-1);-1!==a;){const u=e[Ie];if(BA(s,a,u.data)){const d=Y$(a,e,n,o,r,l);if(d!==Ji)return d}c=e[a+8],c!==jc&&HA(r,e[Ie].data[a+8]===l)&&BA(s,a,e)?(o=u,a=bd(c),e=wd(c,e)):a=-1}}return i}function Y$(t,e,n,r,i,s){const o=e[Ie],a=o.data[t+8],u=Cp(a,o,n,null==r?xa(a)&&z_:r!=o&&0!=(3&a.type),i&st.Host&&s===a);return null!==u?ba(e,o,u,a):Ji}function Cp(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Ti(h)&&h.type===n)return c}return null}function ba(t,e,n,r){let i=t[n];const s=e.data;if(function U$(t){return t instanceof Id}(i)){const o=i;o.resolving&&function _j(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ee(-200,`Circular dependency in DI detected for ${t}${n}`)}(function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():je(t)}(s[n]));const a=yp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Rr(o.injectImpl):null;IA(t,r,st.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function H$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=oA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Rr(l),yp(a),o.resolving=!1,DA()}}return i}function BA(t,e,n){return!!(n[e+(t>>kA)]&1<<t)}function HA(t,e){return!(t&st.Self||t&st.Host&&e)}class yr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return VA(this._tNode,this._lView,e,op(r),n)}}function J$(){return new yr(Gn(),X())}function qn(t){return Ms(()=>{const e=t.prototype.constructor,n=e[ks]||$_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ks]||$_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function $_(t){return a_(t)?()=>{const e=$_(ze(t));return e&&e()}:Ca(t)}function zA(t){const e=t[Ie],n=e.type;return 2===n?e.declTNode:1===n?t[rr]:null}const Gc="__parameters__";function Wc(t,e,n){return Ms(()=>{const r=function G_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Gc)?c[Gc]:Object.defineProperty(c,Gc,{value:[]})[Gc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Yc(t,e){t.forEach(n=>Array.isArray(n)?Yc(n,e):e(n))}function jA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function bp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Td(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Gr(t,e,n){let r=Qc(t,e);return r>=0?t[1|r]=n:(r=~r,function oG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function q_(t,e){const n=Qc(t,e);if(n>=0)return t[1|n]}function Qc(t,e){return function $A(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const _n=ld(Wc("Optional"),8),K_=ld(Wc("SkipSelf"),4);function Rp(t){return 128==(128&t.flags)}var Co=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Co||{});const DG=/^>|^->|<!--|-->|--!>|<!-$/g,TG=/(<|>)/g,SG="\u200b$1\u200b";const J_=new Map;let RG=0;const ev="__ngContext__";function ir(t,e){Mr(e)?(t[ev]=e[gd],function MG(t){J_.set(t[gd],t)}(e)):t[ev]=e}let tv;function nv(t,e){return tv(t,e)}function Pd(t){const e=t[jt];return gr(e)?e[jt]:e}function u5(t){return f5(t[hd])}function d5(t){return f5(t[Di])}function f5(t){for(;null!==t&&!gr(t);)t=t[Di];return t}function Zc(t,e,n,r,i){if(null!=r){let s,o=!1;gr(r)?s=r:Mr(r)&&(o=!0,r=r[Zt]);const a=Rt(r);0===t&&null!==n?null==i?m5(e,n,a):wa(e,n,a,i||null,!0):1===t&&null!==n?wa(e,n,a,i||null,!0):2===t?function Vp(t,e,n){const r=Op(t,e);r&&function XG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function eq(t,e,n,r,i){const s=n[Yi];s!==Rt(n)&&Zc(e,t,r,s,i);for(let a=jn;a<n.length;a++){const c=n[a];kd(c[Ie],c,t,e,r,s)}}(e,t,s,n,i)}}function rv(t,e){return t.createComment(function n5(t){return t.replace(DG,e=>e.replace(TG,SG))}(e))}function kp(t,e,n){return t.createElement(e,n)}function p5(t,e){const n=t[Lc],r=n.indexOf(e);hA(e),n.splice(r,1)}function Np(t,e){if(t.length<=jn)return;const n=jn+e,r=t[n];if(r){const i=r[pd];null!==i&&i!==t&&p5(i,r),e>0&&(t[n-1][Di]=r[Di]);const s=bp(t,jn+e);!function jG(t,e){kd(t,e,e[$e],2,null,null),e[Zt]=null,e[rr]=null}(r[Ie],r);const o=s[Ki];null!==o&&o.detachView(s[Ie]),r[jt]=null,r[Di]=null,r[Ke]&=-129}return r}function iv(t,e){if(!(256&e[Ke])){const n=e[$e];e[md]&&Jw(e[md]),e[_d]&&Jw(e[_d]),n.destroyNode&&kd(t,e,n,3,null,null),function qG(t){let e=t[hd];if(!e)return sv(t[Ie],t);for(;e;){let n=null;if(Mr(e))n=e[hd];else{const r=e[jn];r&&(n=r)}if(!n){for(;e&&!e[Di]&&e!==t;)Mr(e)&&sv(e[Ie],e),e=e[jt];null===e&&(e=t),Mr(e)&&sv(e[Ie],e),n=e&&e[Di]}e=n}}(e)}}function sv(t,e){if(!(256&e[Ke])){e[Ke]&=-129,e[Ke]|=256,function QG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Id)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Qi(4,a,c);try{c.call(a)}finally{Qi(5,a,c)}}else{Qi(4,i,s);try{s.call(i)}finally{Qi(5,i,s)}}}}}(t,e),function YG(t,e){const n=t.cleanup,r=e[Nc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Nc]=null);const i=e[vo];if(null!==i){e[vo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[Ie].type&&e[$e].destroy();const n=e[pd];if(null!==n&&gr(e[jt])){n!==e[jt]&&p5(n,e);const r=e[Ki];null!==r&&r.detachView(t)}!function kG(t){J_.delete(t[gd])}(e)}}function ov(t,e,n){return function g5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Zt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===wi.None||s===wi.Emulated)return null}return kr(r,n)}}(t,e.parent,n)}function wa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function m5(t,e,n){t.appendChild(e,n)}function _5(t,e,n,r,i){null!==r?wa(t,e,n,r,i):m5(t,e,n)}function Op(t,e){return t.parentNode(e)}function v5(t,e,n){return E5(t,e,n)}let av,Lp,dv,Bp,E5=function y5(t,e,n){return 40&t.type?kr(t,n):null};function Fp(t,e,n,r){const i=ov(t,r,e),s=e[$e],a=v5(r.parent||e[rr],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)_5(s,i,n[c],a,!1);else _5(s,i,n,a,!1);void 0!==av&&av(s,r,e,n,i)}function Md(t,e){if(null!==e){const n=e.type;if(3&n)return kr(e,t);if(4&n)return cv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Md(t,r);{const i=t[e.index];return gr(i)?cv(-1,i):Rt(i)}}if(32&n)return nv(e,t)()||Rt(t[e.index]);{const r=C5(t,e);return null!==r?Array.isArray(r)?r[0]:Md(Pd(t[un]),r):Md(t,e.next)}}return null}function C5(t,e){return null!==e?t[un][rr].projection[e.projection]:null}function cv(t,e){const n=jn+t+1;if(n<e.length){const r=e[n],i=r[Ie].firstChild;if(null!==i)return Md(r,i)}return e[Yi]}function lv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&ir(Rt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)lv(t,e,n.child,r,i,s,!1),Zc(e,t,i,a,s);else if(32&c){const l=nv(n,r);let u;for(;u=l();)Zc(e,t,i,u,s);Zc(e,t,i,a,s)}else 16&c?b5(t,e,r,n,i,s):Zc(e,t,i,a,s);n=o?n.projectionNext:n.next}}function kd(t,e,n,r,i,s){lv(n,r,t.firstChild,e,i,s,!1)}function b5(t,e,n,r,i,s){const o=n[un],c=o[rr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Zc(e,t,i,c[l],s);else{let l=c;const u=o[jt];Rp(r)&&(l.flags|=128),lv(t,e,l,u,i,s,!0)}}function w5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function A5(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&E_(t,e,r),null!==i&&w5(t,e,i),null!==s&&function nq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function el(t){return function uv(){if(void 0===Lp&&(Lp=null,St.trustedTypes))try{Lp=St.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Lp}()?.createHTML(t)||t}function tl(){if(void 0!==dv)return dv;if(typeof document<"u")return document;throw new ee(210,!1)}function D5(t){return function fv(){if(void 0===Bp&&(Bp=null,St.trustedTypes))try{Bp=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bp}()?.createHTML(t)||t}class Aa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ew})`}}class aq extends Aa{getTypeName(){return"HTML"}}class cq extends Aa{getTypeName(){return"Style"}}class lq extends Aa{getTypeName(){return"Script"}}class uq extends Aa{getTypeName(){return"URL"}}class dq extends Aa{getTypeName(){return"ResourceURL"}}function qr(t){return t instanceof Aa?t.changingThisBreaksApplicationSecurity:t}function Zi(t,e){const n=function fq(t){return t instanceof Aa&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ew})`)}return n===e}class vq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(el(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class yq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=el(e),n}}const xq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hp(t){return(t=String(t)).match(xq)?t:"unsafe:"+t}function Vs(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Nd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const P5=Vs("area,br,col,hr,img,wbr"),M5=Vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k5=Vs("rp,rt"),hv=Nd(P5,Nd(M5,Vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nd(k5,Vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nd(k5,M5)),pv=Vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),N5=Nd(pv,Vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Cq=Vs("script,style,template");class Iq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!hv.hasOwnProperty(n))return this.sanitizedSomething=!0,!Cq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!N5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;pv[a]&&(c=Hp(c)),this.buf.push(" ",o,'="',O5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();hv.hasOwnProperty(n)&&!P5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(O5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const bq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wq=/([^\#-~ |!])/g;function O5(t){return t.replace(/&/g,"&amp;").replace(bq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(wq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zp;function F5(t,e){let n=null;try{zp=zp||function R5(t){const e=new yq(t);return function Eq(){try{return!!(new window.DOMParser).parseFromString(el(""),"text/html")}catch{return!1}}()?new vq(e):e}(t);let r=e?String(e):"";n=zp.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=zp.getInertBodyElement(r)}while(r!==s);return el((new Iq).sanitizeChildren(gv(n)||n))}finally{if(n){const r=gv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function gv(t){return"content"in t&&function Aq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var li=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(li||{});function V5(t){const e=function Od(){const t=X();return t&&t[Oc].sanitizer}();return e?D5(e.sanitize(li.HTML,t)||""):Zi(t,"HTML")?D5(qr(t)):F5(tl(),je(t))}const Fd=new ye("ENVIRONMENT_INITIALIZER"),z5=new ye("INJECTOR",-1),U5=new ye("INJECTOR_DEF_TYPES");class mv{get(e,n=cd){if(n===cd){const r=new Error(`NullInjectorError: No provider for ${bn(e)}!`);throw r.name="NullInjectorError",r}return n}}function Mq(...t){return{\u0275providers:j5(0,t),\u0275fromNgModule:!0}}function j5(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Yc(e,o=>{const a=o;Up(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&$5(i,s),n}function $5(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];vv(i,s=>{e(s,r)})}}function Up(t,e,n,r){if(!(t=ze(t)))return!1;let i=null,s=rp(t);const o=!s&&at(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=rp(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Up(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Yc(s.imports,u=>{Up(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&$5(l,e)}if(!a){const l=Ca(i)||(()=>new i);e({provide:i,useFactory:l,deps:ft},i),e({provide:U5,useValue:i,multi:!0},i),e({provide:Fd,useValue:()=>Se(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;vv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function vv(t,e){for(let n of t)c_(n)&&(n=n.\u0275providers),Array.isArray(n)?vv(n,e):e(n)}const kq=yt({provide:String,useValue:yt});function yv(t){return null!==t&&"object"==typeof t&&kq in t}function Da(t){return"function"==typeof t}const Ev=new ye("Set Injector scope."),jp={},Oq={};let xv;function $p(){return void 0===xv&&(xv=new mv),xv}class ui{}class nl extends ui{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Iv(e,o=>this.processProvider(o)),this.records.set(z5,rl(void 0,this)),i.has("environment")&&this.records.set(ui,rl(void 0,this));const s=this.records.get(Ev);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(U5.multi,ft,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=mo(this),r=Rr(void 0);try{return e()}finally{mo(n),Rr(r)}}get(e,n=cd,r=st.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Sw))return e[Sw](this);r=op(r);const s=mo(this),o=Rr(void 0);try{if(!(r&st.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Hq(t){return"function"==typeof t||"object"==typeof t&&t instanceof ye}(e)&&np(e);c=l&&this.injectableDefInScope(l)?rl(Cv(e),jp):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&st.Self?$p():this.parent).get(e,n=r&st.Optional&&n===cd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[sp]=a[sp]||[]).unshift(bn(e)),s)throw a;return function Mj(t,e,n,r){const i=t[sp];throw e[Aw]&&i.unshift(e[Aw]),t.message=function kj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=bn(e);if(Array.isArray(e))i=e.map(bn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):bn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Dj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[sp]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Rr(o),mo(s)}}resolveInjectorInitializers(){const e=mo(this),n=Rr(void 0);try{const i=this.get(Fd.multi,ft,st.Self);for(const s of i)s()}finally{mo(e),Rr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(bn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){let n=Da(e=ze(e))?e:ze(e&&e.provide);const r=function Vq(t){return yv(t)?rl(void 0,t.useValue):rl(W5(t),jp)}(e);if(Da(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=rl(void 0,jp,!0),i.factory=()=>__(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===jp&&(n.value=Oq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Bq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ze(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Cv(t){const e=np(t),n=null!==e?e.factory:Ca(t);if(null!==n)return n;if(t instanceof ye)throw new ee(204,!1);if(t instanceof Function)return function Fq(t){const e=t.length;if(e>0)throw Td(e,"?"),new ee(204,!1);const n=function Ij(t){return t&&(t[ip]||t[Cw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ee(204,!1)}function W5(t,e,n){let r;if(Da(t)){const i=ze(t);return Ca(i)||Cv(i)}if(yv(t))r=()=>ze(t.useValue);else if(function q5(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...__(t.deps||[]));else if(function G5(t){return!(!t||!t.useExisting)}(t))r=()=>Se(ze(t.useExisting));else{const i=ze(t&&(t.useClass||t.provide));if(!function Lq(t){return!!t.deps}(t))return Ca(i)||Cv(i);r=()=>new i(...__(t.deps))}return r}function rl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Iv(t,e){for(const n of t)Array.isArray(n)?Iv(n,e):n&&c_(n)?Iv(n.\u0275providers,e):e(n)}const Gp=new ye("AppId",{providedIn:"root",factory:()=>zq}),zq="ng",K5=new ye("Platform Initializer"),es=new ye("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Y5=new ye("CSP nonce",{providedIn:"root",factory:()=>tl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Q5=(t,e,n)=>null;function Pv(t,e,n=!1){return Q5(t,e,n)}class Xq{}class Z5{}class Zq{resolveComponentFactory(e){throw function Jq(t){const e=Error(`No component factory found for ${bn(t)}.`);return e.ngComponent=t,e}(e)}}let Bd=(()=>{class e{}return e.NULL=new Zq,e})();function eW(){return ol(Gn(),X())}function ol(t,e){return new Er(kr(t,e))}let Er=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=eW,e})();function tW(t){return t instanceof Er?t.nativeElement:t}class tD{}let ts=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function nW(){const t=X(),n=$r(Gn().index,t);return(Mr(n)?n:t)[$e]}(),e})(),rW=(()=>{var t;class e{}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>null}),e})();class al{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const nD=new al("16.2.12"),Nv={};function oD(t,e=null,n=null,r){const i=aD(t,e,n,r);return i.resolveInjectorInitializers(),i}function aD(t,e=null,n=null,r,i=new Set){const s=[n||ft,Mq(t)];return r=r||("object"==typeof t?void 0:bn(t)),new nl(s,e||$p(),r||null,i)}let An=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return oD({name:""},i,r,"");{const s=r.name??"";return oD({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=cd,t.NULL=new mv,t.\u0275prov=Ce({token:t,providedIn:"any",factory:()=>Se(z5)}),t.__NG_ELEMENT_ID__=-1,e})();function Fv(t){return t.ngOriginalError}class Ls{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Fv(e);for(;n&&Fv(n);)n=Fv(n);return n||null}}function Lv(t){return e=>{setTimeout(t,void 0,e)}}const bt=class uW extends Z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Lv(s),i&&(i=Lv(i)),o&&(o=Lv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Y&&e.add(a),a}};function lD(...t){}class dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bt(!1),this.onMicrotaskEmpty=new bt(!1),this.onStable=new bt(!1),this.onError=new bt(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function dW(){const t="function"==typeof St.requestAnimationFrame;let e=St[t?"requestAnimationFrame":"setTimeout"],n=St[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function pW(t){const e=()=>{!function hW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(St,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hv(t),t.isCheckStableRunning=!0,Bv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function mW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return uD(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),dD(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return uD(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),dD(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Hv(t),Bv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new ee(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,fW,lD,lD);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const fW={};function Bv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function uD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dD(t){t._nesting--,Bv(t)}class gW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bt,this.onMicrotaskEmpty=new bt,this.onStable=new bt,this.onError=new bt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const fD=new ye("",{providedIn:"root",factory:hD});function hD(){const t=W(dt);let e=!0;return function pj(...t){const e=ad(t),n=function aj(t,e){return"number"==typeof i_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?nr(r[0]):X0(n)(Hn(r,e)):qi}(new de(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new de(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{dt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(vw()))}function Bs(t){return t instanceof Function?t():t}let zv=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t}),e})();function Hd(t){for(;t;){t[Ke]|=64;const e=Pd(t);if(I_(t)&&!e)return t;t=e}return null}const vD=new ye("",{providedIn:"root",factory:()=>!1});let Jp=null;function CD(t,e){return t[e]??wD()}function ID(t,e){const n=wD();n.producerNode?.length&&(t[e]=Jp,n.lView=t,Jp=bD())}const AW={...qw,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hd(t.lView)},lView:null};function bD(){return Object.create(AW)}function wD(){return Jp??=bD(),Jp}const qe={};function Me(t){AD(ct(),X(),vr()+t,!1)}function AD(t,e,n,r){if(!r)if(3==(3&e[Ke])){const s=t.preOrderCheckHooks;null!==s&&_p(e,s,n)}else{const s=t.preOrderHooks;null!==s&&vp(e,s,0,n)}Ia(n)}function J(t,e=st.Default){const n=X();return null===n?Se(t,e):VA(Gn(),n,ze(t),e)}function Zp(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[Zt]=i,d[Ke]=140|r,(null!==l||t&&2048&t[Ke])&&(d[Ke]|=2048),fA(d),d[jt]=d[Fc]=t,d[ln]=n,d[Oc]=o||t&&t[Oc],d[$e]=a||t&&t[$e],d[_o]=c||t&&t[_o]||null,d[rr]=s,d[gd]=function PG(){return RG++}(),d[Ns]=u,d[Uw]=l,d[un]=2==e.type?t[un]:d,d}function ul(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Uv(t,e,n,r,i){const s=vA(),o=P_(),c=t.data[e]=function OW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return zc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function R$(){return He.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Cd(){const t=He.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Xi(s,!0),s}function zd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function DD(t,e,n,r,i){const s=CD(e,md),o=vr(),a=2&r;try{Ia(-1),a&&e.length>tt&&AD(t,e,tt,!1),Qi(a?2:0,i);const l=a?s:null,u=w_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{A_(l,u)}}finally{a&&null===e[md]&&ID(e,md),Ia(o),Qi(a?3:1,i)}}function jv(t,e,n){if(C_(e)){const r=ai(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ai(r)}}}function $v(t,e,n){_A()&&(function UW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;xa(n)&&function YW(t,e,n){const r=kr(e,t),i=TD(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=eg(t,Zp(t,i,null,o,r,e,null,t[Oc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ep(n,e),ir(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=ba(e,t,a,n);ir(l,e),null!==o&&QW(0,a-i,l,c,0,o),Ti(c)&&($r(n.index,e)[ln]=ba(e,t,a,n))}}(t,e,n,kr(n,e)),64==(64&n.flags)&&kD(t,e,n))}function Gv(t,e,n=kr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function TD(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=qv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qv(t,e,n,r,i,s,o,a,c,l,u){const d=tt+r,f=d+i,h=function SW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:qe);return n}(d,f),p="function"==typeof l?l():l;return h[Ie]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let SD=t=>null;function RD(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?PD(n,e,i,s):r.hasOwnProperty(i)&&PD(n,e,r[i],s)}return n}function PD(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Wr(t,e,n,r,i,s,o,a){const c=kr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Xv(t,n,u,r,i),xa(e)&&function LW(t,e){const n=$r(e,t);16&n[Ke]||(n[Ke]|=64)}(n,e.index)):3&e.type&&(r=function VW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Wv(t,e,n,r){if(_A()){const i=null===r?null:{"":-1},s=function $W(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Fw(e,o.selectors,!1))if(r||(r=[]),Ti(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Kv(t,e,a.length)}else r.unshift(o),Kv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&MD(t,e,n,o,i,a),i&&function GW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ee(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=dd(n.mergedAttrs,n.attrs)}function MD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)j_(Ep(n,e),t,r[l].type);!function WW(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=zd(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=dd(n.mergedAttrs,u.hostAttrs),KW(t,n,e,c,u),qW(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function FW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;c=RD(d.inputs,u,c,f?f.inputs:null),l=RD(d.outputs,u,l,p);const g=null===c||null===o||Ow(e)?null:XW(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function kD(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function M$(){return He.lFrame.currentDirectiveIndex}();try{Ia(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];k_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&jW(c,l)}}finally{Ia(-1),k_(o)}}function jW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Kv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function qW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ti(e)&&(n[""]=t)}}function KW(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ca(i.type)),o=new Id(s,Ti(i),J);t.blueprint[r]=o,n[r]=o,function HW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function zW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,zd(t,n,i.hostVars,qe),i)}function ns(t,e,n,r,i,s){const o=kr(t,e);!function Yv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?je(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[$e],o,s,t.value,n,r,i)}function QW(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)ND(r,n,o[a++],o[a++],o[a++])}function ND(t,e,n,r,i){const s=ai(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ai(s)}}function XW(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function OD(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function FD(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];O_(n[r]),o.contentQueries(2,e[s],s)}}}function eg(t,e){return t[hd]?t[zw][Di]=e:t[hd]=e,t[zw]=e,e}function Qv(t,e,n){O_(0);const r=ai(null);try{e(t,n)}finally{ai(r)}}function VD(t){return t[Nc]||(t[Nc]=[])}function LD(t){return t.cleanup||(t.cleanup=[])}function HD(t,e){const n=t[_o],r=n?n.get(Ls,null):null;r&&r.handleError(e)}function Xv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];ND(t.data[o],e[o],r,a,i)}}function JW(t,e){const n=$r(e,t),r=n[Ie];!function ZW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Zt];null!==i&&null===n[Ns]&&(n[Ns]=Pv(i,n[_o])),Jv(r,n,n[ln])}function Jv(t,e,n){F_(e);try{const r=t.viewQuery;null!==r&&Qv(1,r,n);const i=t.template;null!==i&&DD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&FD(t,e),t.staticViewQueries&&Qv(2,t.viewQuery,n);const s=t.components;null!==s&&function eK(t,e){for(let n=0;n<e.length;n++)JW(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ke]&=-5,V_()}}let zD=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function c$(t,e,n){const r=Object.create(l$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Qw(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Xw(r))return;r.hasRun=!0;const o=w_(r);try{r.cleanupFn(),r.cleanupFn=sA,r.fn(i)}finally{A_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t}),e})();function tg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=o_(i,a):2==s&&(r=o_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ud(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Rt(s)),gr(s)&&UD(s,r);const o=n.type;if(8&o)Ud(t,e,n.child,r);else if(32&o){const a=nv(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=C5(e,n);if(Array.isArray(a))r.push(...a);else{const c=Pd(e[un]);Ud(c[Ie],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function UD(t,e){for(let n=jn;n<t.length;n++){const r=t[n],i=r[Ie].firstChild;null!==i&&Ud(r[Ie],r,i,e)}t[Yi]!==t[Zt]&&e.push(t[Yi])}function ng(t,e,n,r=!0){const i=e[Oc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{jD(t,e,t.template,n)}catch(c){throw r&&HD(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function jD(t,e,n,r){const i=e[Ke];if(256!=(256&i)){e[Oc].effectManager?.flush(),F_(e);try{fA(e),function EA(t){return He.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&DD(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&_p(e,l,null)}else{const l=t.preOrderHooks;null!==l&&vp(e,l,0,null),L_(e,0)}if(function rK(t){for(let e=u5(t);null!==e;e=d5(e)){if(!e[jw])continue;const n=e[Lc];for(let r=0;r<n.length;r++){y$(n[r])}}}(e),$D(e,2),null!==t.contentQueries&&FD(t,e),o){const l=t.contentCheckHooks;null!==l&&_p(e,l)}else{const l=t.contentHooks;null!==l&&vp(e,l,1),L_(e,1)}!function TW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=CD(e,_d);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ia(~s);else{const o=s,a=n[++i],c=n[++i];P$(a,o),r.dirty=!1;const l=w_(r);try{c(2,e[o])}finally{A_(r,l)}}}}finally{null===e[_d]&&ID(e,_d),Ia(-1)}}(t,e);const a=t.components;null!==a&&qD(e,a,0);const c=t.viewQuery;if(null!==c&&Qv(2,c,r),o){const l=t.viewCheckHooks;null!==l&&_p(e,l)}else{const l=t.viewHooks;null!==l&&vp(e,l,2),L_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Ke]&=-73,hA(e)}finally{V_()}}}function $D(t,e){for(let n=u5(t);null!==n;n=d5(n))for(let r=jn;r<n.length;r++)GD(n[r],e)}function iK(t,e,n){GD($r(e,t),n)}function GD(t,e){if(!function _$(t){return 128==(128&t[Ke])}(t))return;const n=t[Ie],r=t[Ke];if(80&r&&0===e||1024&r||2===e)jD(n,t,n.template,t[ln]);else if(t[fd]>0){$D(t,1);const i=n.components;null!==i&&qD(t,i,1)}}function qD(t,e,n){for(let r=0;r<e.length;r++)iK(t,e[r],n)}class jd{get rootNodes(){const e=this._lView,n=e[Ie];return Ud(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ln]}set context(e){this._lView[ln]=e}get destroyed(){return 256==(256&this._lView[Ke])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[jt];if(gr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Np(e,r),bp(n,r))}this._attachedToViewContainer=!1}iv(this._lView[Ie],this._lView)}onDestroy(e){!function gA(t,e){if(256==(256&t[Ke]))throw new ee(911,!1);null===t[vo]&&(t[vo]=[]),t[vo].push(e)}(this._lView,e)}markForCheck(){Hd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ke]&=-129}reattach(){this._lView[Ke]|=128}detectChanges(){ng(this._lView[Ie],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function GG(t,e){kd(t,e,e[$e],2,null,null)}(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e}}class sK extends jd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ng(e[Ie],e,e[ln],!1)}checkNoChanges(){}get context(){return null}}class WD extends Bd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=at(e);return new $d(n,this.ngModule)}}function KD(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class aK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=op(r);const i=this.injector.get(e,Nv,r);return i!==Nv||n===Nv?i:this.parentInjector.get(e,n,r)}}class $d extends Z5{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=KD(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return KD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function jj(t){return t.map(Uj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof ui?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new aK(e,s):e,a=o.get(tD,null);if(null===a)throw new ee(407,!1);const d={rendererFactory:a,sanitizer:o.get(rW,null),effectManager:o.get(zD,null),afterRenderEventManager:o.get(zv,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function RW(t,e,n,r){const s=r.get(vD,!1)||n===wi.ShadowDom,o=t.selectRootElement(e,s);return function PW(t){SD(t)}(o),o}(f,r,this.componentDef.encapsulation,o):kp(f,h,function oK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),S=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let I=null;null!==p&&(I=Pv(p,o,!0));const H=qv(0,null,null,1,0,null,null,null,null,null,null),G=Zp(null,H,null,S,null,null,d,f,o,null,I);let ue,Te;F_(G);try{const Fe=this.componentDef;let vt,Jt=null;Fe.findHostDirectiveDefs?(vt=[],Jt=new Map,Fe.findHostDirectiveDefs(Fe,vt,Jt),vt.push(Fe)):vt=[Fe];const Ci=function lK(t,e){const n=t[Ie],r=tt;return t[r]=e,ul(n,r,2,"#host",null)}(G,p),Q2=function uK(t,e,n,r,i,s,o){const a=i[Ie];!function dK(t,e,n,r){for(const i of t)e.mergedAttrs=dd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(tg(e,e.mergedAttrs,!0),null!==n&&A5(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Pv(e,i[_o]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Zp(i,TD(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Kv(a,t,r.length-1),eg(i,d),i[t.index]=d}(Ci,p,Fe,vt,G,d,f);Te=dA(H,tt),p&&function hK(t,e,n,r){if(r)E_(t,n,["ng-version",nD.full]);else{const{attrs:i,classes:s}=function $j(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ai(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&E_(t,n,i),s&&s.length>0&&w5(t,n,s.join(" "))}}(f,Fe,p,r),void 0!==n&&function pK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Te,this.ngContentSelectors,n),ue=function fK(t,e,n,r,i,s){const o=Gn(),a=i[Ie],c=kr(o,i);MD(a,i,o,n,null,r);for(let u=0;u<n.length;u++)ir(ba(i,a,o.directiveStart+u,o),i);kD(a,i,o),c&&ir(c,i);const l=ba(i,a,o.directiveStart+o.componentOffset,o);if(t[ln]=i[ln]=l,null!==s)for(const u of s)u(l,e);return jv(a,o,t),l}(Q2,Fe,vt,Jt,G,[gK]),Jv(H,G,null)}finally{V_()}return new cK(this.componentType,ue,ol(Te,G),G,Te)}}class cK extends Xq{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new sK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Xv(s[Ie],s,i,e,n),this.previousInputValues.set(e,n),Hd($r(this._tNode.index,s))}}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function gK(){const t=Gn();mp(X()[Ie],t)}function Et(t){let e=function YD(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ti(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=rg(t.inputs),o.inputTransforms=rg(t.inputTransforms),o.declaredInputs=rg(t.declaredInputs),o.outputs=rg(t.outputs);const a=i.hostBindings;a&&yK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&_K(t,c),l&&vK(t,l),ep(t.inputs,i.inputs),ep(t.declaredInputs,i.declaredInputs),ep(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),ep(o.inputTransforms,i.inputTransforms)),Ti(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Et&&(n=!1)}}e=Object.getPrototypeOf(e)}!function mK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dd(i.hostAttrs,n=dd(n,i.hostAttrs))}}(r)}function rg(t){return t===Wi?{}:t===ft?[]:t}function _K(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function vK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function yK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function ig(t){return!!Zv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Zv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function rs(t,e,n){return t[e]=n}function sr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function sg(t,e,n,r,i){const s=function Ta(t,e,n,r){const i=sr(t,e,n);return sr(t,e+1,r)||i}(t,e,n,r);return sr(t,e+2,i)||s}function Si(t,e,n,r){const i=X();return sr(i,Uc(),e)&&(ct(),ns(Kt(),i,t,e,n,r)),Si}function fl(t,e,n,r){return sr(t,Uc(),n)?e+je(n)+r:qe}function Kr(t,e,n,r,i,s,o,a){const c=X(),l=ct(),u=t+tt,d=l.firstCreatePass?function $K(t,e,n,r,i,s,o,a,c){const l=e.consts,u=ul(e,t,4,o||null,Eo(l,a));Wv(e,n,u,Eo(l,c)),mp(e,u);const d=u.tView=qv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];Xi(d,!1);const f=fT(l,c,d,t);gp()&&Fp(l,c,f,d),ir(f,c),eg(c,c[u]=OD(f,c,f,d)),dp(d)&&$v(l,c,d),null!=o&&Gv(c,d,a)}let fT=function hT(t,e,n,r){return xo(!0),e[$e].createComment("")};function sy(t){return Hc(function S$(){return He.lFrame.contextLView}(),tt+t)}function nt(t,e,n){const r=X();return sr(r,Uc(),e)&&Wr(ct(),Kt(),r,t,e,r[$e],n,!1),nt}function oy(t,e,n,r,i){const o=i?"class":"style";Xv(t,n,e.inputs[o],o,r)}function ae(t,e,n,r){const i=X(),s=ct(),o=tt+t,a=i[$e],c=s.firstCreatePass?function KK(t,e,n,r,i,s){const o=e.consts,c=ul(e,t,2,r,Eo(o,i));return Wv(e,n,c,Eo(o,s)),null!==c.attrs&&tg(c,c.attrs,!1),null!==c.mergedAttrs&&tg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=pT(s,i,c,a,e,t);i[o]=l;const u=dp(c);return Xi(c,!0),A5(a,l,c),32!=(32&c.flags)&&gp()&&Fp(s,i,l,c),0===function x$(){return He.lFrame.elementDepthCount}()&&ir(l,i),function C$(){He.lFrame.elementDepthCount++}(),u&&($v(s,i,c),jv(s,c,i)),null!==r&&Gv(i,c),ae}function _e(){let t=Gn();P_()?M_():(t=t.parent,Xi(t,!1));const e=t;(function b$(t){return He.skipHydrationRootTNode===t})(e)&&function T$(){He.skipHydrationRootTNode=null}(),function I$(){He.lFrame.elementDepthCount--}();const n=ct();return n.firstCreatePass&&(mp(n,t),C_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function j$(t){return 0!=(8&t.flags)}(e)&&oy(n,e,X(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function $$(t){return 0!=(16&t.flags)}(e)&&oy(n,e,X(),e.stylesWithoutHost,!1),_e}function _t(t,e,n,r){return ae(t,e,n,r),_e(),_t}let pT=(t,e,n,r,i,s)=>(xo(!0),kp(r,i,function TA(){return He.lFrame.currentNamespace}()));function lg(t,e,n){const r=X(),i=ct(),s=t+tt,o=i.firstCreatePass?function XK(t,e,n,r,i){const s=e.consts,o=Eo(s,r),a=ul(e,t,8,"ng-container",o);return null!==o&&tg(a,o,!0),Wv(e,n,a,Eo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Xi(o,!0);const a=mT(i,r,o,t);return r[s]=a,gp()&&Fp(i,r,a,o),ir(a,r),dp(o)&&($v(i,r,o),jv(i,o,r)),null!=n&&Gv(r,o),lg}function ug(){let t=Gn();const e=ct();return P_()?M_():(t=t.parent,Xi(t,!1)),e.firstCreatePass&&(mp(e,t),C_(t)&&e.queries.elementEnd(t)),ug}let mT=(t,e,n,r)=>(xo(!0),rv(e[$e],""));function dg(){return X()}function Yd(t){return!!t&&"function"==typeof t.then}function _T(t){return!!t&&"function"==typeof t.subscribe}function en(t,e,n,r){const i=X(),s=ct(),o=Gn();return function yT(t,e,n,r,i,s,o){const a=dp(r),l=t.firstCreatePass&&LD(t),u=e[ln],d=VD(e);let f=!0;if(3&r.type||o){const g=kr(r,e),E=o?o(g):g,S=d.length,I=o?G=>o(Rt(G[r.index])):r.index;let H=null;if(!o&&a&&(H=function eY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Nc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==H)(H.__ngLastListenerFn__||H).__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,f=!1;else{s=xT(r,e,u,s,!1);const G=n.listen(E,i,s);d.push(s,G),l&&l.push(i,I,S,S+1)}}else s=xT(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let E=0;E<g;E+=2){const ue=e[p[E]][p[E+1]].subscribe(s),Te=d.length;d.push(s,ue),l&&l.push(i,r.index,Te,-(Te+1))}}}(s,i,i[$e],o,t,e,r),en}function ET(t,e,n,r){try{return Qi(6,e,n),!1!==n(r)}catch(i){return HD(t,i),!1}finally{Qi(7,e,n)}}function xT(t,e,n,r,i){return function s(o){if(o===Function)return r;Hd(t.componentOffset>-1?$r(t.index,e):e);let c=ET(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=ET(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function fi(t=1){return function N$(t){return(He.lFrame.contextLView=function O$(t,e){for(;t>0;)e=e[Fc],t--;return e}(t,He.lFrame.contextLView))[ln]}(t)}function tY(t,e){let n=null;const r=function Lj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Fw(t,s,!0):zj(r,s))return i}else n=i}return n}function ay(t,e,n){return cy(t,"",e,"",n),ay}function cy(t,e,n,r,i){const s=X(),o=fl(s,e,n,r);return o!==qe&&Wr(ct(),Kt(),s,t,o,s[$e],i,!1),cy}function fg(t,e){return t<<17|e<<2}function Io(t){return t>>17&32767}function ly(t){return 2|t}function Sa(t){return(131068&t)>>2}function uy(t,e){return-131069&t|e<<2}function dy(t){return 1|t}function MT(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Io(s):Sa(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];aY(t[a],e)&&(c=!0,t[a+1]=r?dy(u):ly(u)),a=r?Io(u):Sa(u)}c&&(t[n+1]=r?ly(s):dy(s))}function aY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Qc(t,e)>=0}function Qd(t,e){return function Ri(t,e,n,r){const i=X(),s=ct(),o=function Fs(t){const e=He.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function zT(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[vr()],o=function HT(t,e){return e>=t.expandoStartIndex}(t,n);(function GT(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function mY(t,e,n,r){const i=function N_(t){const e=He.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Xd(n=fy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=fy(i,t,e,n,r),null===s){let c=function _Y(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Sa(r))return t[Io(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=fy(null,t,e,c[1],r),c=Xd(c,e.attrs,r),function vY(t,e,n,r){t[Io(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function yY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Xd(r,t[s].hostAttrs,n);return Xd(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function sY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Io(o),c=Sa(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Qc(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=Io(t[a+1]);t[r+1]=fg(f,a),0!==f&&(t[f+1]=uy(t[f+1],r)),t[a+1]=function rY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=fg(a,0),0!==a&&(t[a+1]=uy(t[a+1],r)),a=r;else t[r+1]=fg(c,0),0===a?a=r:t[c+1]=uy(t[c+1],r),c=r;l&&(t[r+1]=ly(t[r+1])),MT(t,u,r,!0),MT(t,u,r,!1),function oY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Qc(s,e)>=0&&(n[r+1]=dy(n[r+1]))}(e,u,t,r,s),o=fg(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==qe&&sr(i,o,e)&&function jT(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function iY(t){return 1==(1&t)}(l)?$T(c,e,n,i,Sa(l),o):void 0;hg(u)||(hg(s)||function nY(t){return 2==(2&t)}(l)&&(s=$T(c,null,n,i,a,o)),function tq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Co.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Co.Important),t.setStyle(n,r,i,s))}}(r,o,pp(vr(),n),i,s))}(s,s.data[vr()],i,i[$e],t,i[o+1]=function IY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=bn(qr(t)))),t}(e,n),r,o)}(t,e,null,!0),Qd}function fy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Xd(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Xd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Gr(t,o,!!n||e[++s]))}return void 0===t?null:t}function $T(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===qe&&(f=d?ft:void 0);let h=d?q_(f,r):u===r?f:void 0;if(l&&!hg(h)&&(h=q_(c,r)),hg(h)&&(a=h,o))return a;const p=t[i+1];i=o?Io(p):Sa(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=q_(c,r))}return a}function hg(t){return void 0!==t}function De(t,e=""){const n=X(),r=ct(),i=t+tt,s=r.firstCreatePass?ul(r,i,1,e,null):r.data[i],o=qT(r,n,s,e,t);n[i]=o,gp()&&Fp(r,n,o,s),Xi(s,!1)}let qT=(t,e,n,r,i)=>(xo(!0),function Mp(t,e){return t.createText(e)}(e[$e],r));function Yt(t){return Ra("",t,""),Yt}function Ra(t,e,n){const r=X(),i=fl(r,t,e,n);return i!==qe&&function Hs(t,e,n){const r=pp(e,t);!function h5(t,e,n){t.setValue(e,n)}(t[$e],r,n)}(r,vr(),i),Ra}function hy(t,e,n){const r=X();return sr(r,Uc(),e)&&Wr(ct(),Kt(),r,t,e,r[$e],n,!0),hy}const Pa=void 0;var GY=["en",[["a","p"],["AM","PM"],Pa],[["AM","PM"],Pa,Pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pa,"{1} 'at' {0}",Pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $Y(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let xl={};function xr(t){const e=function qY(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=fS(e);if(n)return n;const r=e.split("-")[0];if(n=fS(r),n)return n;if("en"===r)return GY;throw new ee(701,!1)}function fS(t){return t in xl||(xl[t]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[t]),xl[t]}var Pt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pt||{});const Cl="en-US";let hS=Cl;function my(t,e,n,r,i){if(t=ze(t),Array.isArray(t))for(let s=0;s<t.length;s++)my(t[s],e,n,r,i);else{const s=ct(),o=X(),a=Gn();let c=Da(t)?t:ze(t.provide);const l=W5(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Da(t)||!t.multi){const h=new Id(l,i,J),p=vy(c,e,i?u:u+f,d);-1===p?(j_(Ep(a,o),s,c),_y(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=vy(c,e,u+f,d),p=vy(c,e,u,u+f),E=p>=0&&n[p];if(i&&!E||!i&&!(h>=0&&n[h])){j_(Ep(a,o),s,c);const S=function $Q(t,e,n,r,i){const s=new Id(t,n,J);return s.multi=[],s.index=e,s.componentProviders=0,LS(s,i,r&&!n),s}(i?jQ:UQ,n.length,i,r,l);!i&&E&&(n[p].providerFactory=S),_y(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),o.push(S)}else _y(s,t,h>-1?h:p,LS(n[i?p:h],l,!i&&r));!i&&r&&E&&n[p].componentProviders++}}}function _y(t,e,n,r){const i=Da(e),s=function Nq(t){return!!t.useClass}(e);if(i||s){const c=(s?ze(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function LS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function UQ(t,e,n,r){return yy(this.multi,[])}function jQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ba(n,n[Ie],this.providerFactory.index,r);s=a.slice(0,o),yy(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],yy(i,s);return s}function yy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $t(t,e=[]){return n=>{n.providersResolver=(r,i)=>function zQ(t,e,n){const r=ct();if(r.firstCreatePass){const i=Ti(t);my(n,r.data,r.blueprint,i,!0),my(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ma{}class BS{}class Ey extends Ma{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new WD(this);const i=jr(e);this._bootstrapComponents=Bs(i.bootstrap),this._r3Injector=aD(e,n,[{provide:Ma,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver},...r],bn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xy extends BS{constructor(e){super(),this.moduleType=e}create(e){return new Ey(this.moduleType,e,[])}}class HS extends Ma{constructor(e){super(),this.componentFactoryResolver=new WD(this),this.instance=null;const n=new nl([...e.providers,{provide:Ma,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver}],e.parent||$p(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function zS(t,e,n=null){return new HS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let WQ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=j5(0,r.type),s=i.length>0?zS([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Ce({token:t,providedIn:"environment",factory:()=>new t(Se(ui))}),e})();function US(t){t.getStandaloneInjector=e=>e.get(WQ).getOrCreateStandaloneInjector(t)}function Fr(t,e,n,r){return QS(X(),_r(),t,e,n,r)}function rf(t,e){const n=t[e];return n===qe?void 0:n}function QS(t,e,n,r,i,s){const o=e+n;return sr(t,o,i)?rs(t,o+1,s?r.call(s,i):r(i)):rf(t,o+1)}function Tn(t,e){const n=ct();let r;const i=t+tt;n.firstCreatePass?(r=function uX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ca(r.type)),a=Rr(J);try{const c=yp(!1),l=s();return yp(c),function WK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,X(),i,l),l}finally{Rr(a)}}function hi(t,e,n){const r=t+tt,i=X(),s=Hc(i,r);return sf(i,r)?QS(i,_r(),e,s.transform,n,s):s.transform(n)}function bo(t,e,n,r,i){const s=t+tt,o=X(),a=Hc(o,s);return sf(o,s)?function JS(t,e,n,r,i,s,o,a){const c=e+n;return sg(t,c,i,s,o)?rs(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):rf(t,c+3)}(o,_r(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function sf(t,e){return t[Ie].data[e].pure}function pX(){return this._results[Symbol.iterator]()}class Iy{get changes(){return this._changes||(this._changes=new bt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Iy.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=pX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function ci(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function iG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function mX(t,e,n,r=!0){const i=e[Ie];if(function WG(t,e,n,r){const i=jn+r,s=n.length;r>0&&(n[i-1][Di]=e),r<s-jn?(e[Di]=n[i],jA(n,jn+r,e)):(n.push(e),e[Di]=null),e[jt]=n;const o=e[pd];null!==o&&n!==o&&function KG(t,e){const n=t[Lc];e[un]!==e[jt][jt][un]&&(t[jw]=!0),null===n?t[Lc]=[e]:n.push(e)}(o,e);const a=e[Ki];null!==a&&a.insertView(t),e[Ke]|=128}(i,e,t,n),r){const s=cv(n,t),o=e[$e],a=Op(o,t[Yi]);null!==a&&function $G(t,e,n,r,i,s){r[Zt]=i,r[rr]=e,kd(t,r,n,1,i,s)}(i,t[rr],o,e,a,s)}}let zs=(()=>{class e{}return e.__NG_ELEMENT_ID__=yX,e})();const _X=zs,vX=class extends _X{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function gX(t,e,n,r){const i=e.tView,a=Zp(t,i,n,4096&t[Ke]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[pd]=t[e.index];const l=t[Ki];return null!==l&&(a[Ki]=l.createEmbeddedView(i)),Jv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new jd(i)}};function yX(){return vg(Gn(),X())}function vg(t,e){return 4&t.type?new vX(e,t,ol(t,e)):null}let Mi=(()=>{class e{}return e.__NG_ELEMENT_ID__=wX,e})();function wX(){return a7(Gn(),X())}const AX=Mi,s7=class extends AX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ol(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){const e=xp(this._hostTNode,this._hostLView);if(H_(e)){const n=wd(e,this._hostLView),r=bd(e);return new yr(n[Ie].data[r+8],n)}return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=o7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-jn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Dd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new $d(at(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const E=(o?l:this.parentInjector).get(ui,null);E&&(s=E)}at(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function v$(t){return gr(t[jt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[jt],u=new s7(l,l[rr],l[jt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return mX(a,i,o,!r),e.attachToViewContainerRef(),jA(by(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=o7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Np(this._lContainer,n);r&&(bp(by(this._lContainer),n),iv(r[Ie],r))}detach(e){const n=this._adjustIndex(e,-1),r=Np(this._lContainer,n);return r&&null!=bp(by(this._lContainer),n)?new jd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function o7(t){return t[8]}function by(t){return t[8]||(t[8]=[])}function a7(t,e){let n;const r=e[t.index];return gr(r)?n=r:(n=OD(r,e,null,t),e[t.index]=n,eg(e,n)),c7(n,e,t,r),new s7(n,t,e)}let c7=function l7(t,e,n,r){if(t[Yi])return;let i;i=8&n.type?Rt(r):function DX(t,e){const n=t[$e],r=n.createComment(""),i=kr(e,t);return wa(n,Op(n,i),r,function JG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Yi]=i};class wy{constructor(e){this.queryList=e,this.matches=null}clone(){return new wy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ay{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Ay(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==g7(e,n).matches&&this.queries[n].setDirty()}}class u7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Dy{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Dy(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ty{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Ty(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,RX(n,s)),this.matchTNodeWithReadOption(e,n,Cp(n,e,s,!1,!1))}else r===zs?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Cp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Er||i===Mi||i===zs&&4&n.type)this.addMatch(n.index,-2);else{const s=Cp(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function RX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function MX(t,e,n,r){return-1===n?function PX(t,e){return 11&t.type?ol(t,e):4&t.type?vg(t,e):null}(e,t):-2===n?function kX(t,e,n){return n===Er?ol(e,t):n===zs?vg(e,t):n===Mi?a7(e,t):void 0}(t,e,r):ba(t,t[Ie],n,e)}function d7(t,e,n,r){const i=e[Ki].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:MX(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function Sy(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=d7(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=jn;d<u.length;d++){const f=u[d];f[pd]===f[jt]&&Sy(f[Ie],f,l,r)}if(null!==u[Lc]){const d=u[Lc];for(let f=0;f<d.length;f++){const h=d[f];Sy(h[Ie],h,l,r)}}}}}return r}function Us(t){const e=X(),n=ct(),r=CA();O_(r+1);const i=g7(n,r);if(t.dirty&&function m$(t){return 4==(4&t[Ke])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Sy(n,e,r,[]):d7(n,e,i,r);t.reset(s,tW),t.notifyOnChanges()}return!0}return!1}function wo(t,e,n){const r=ct();r.firstCreatePass&&(function p7(t,e,n){null===t.queries&&(t.queries=new Dy),t.queries.track(new Ty(e,n))}(r,new u7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function h7(t,e,n){const r=new Iy(4==(4&n));(function NW(t,e,n,r){const i=VD(e);i.push(n),t.firstCreatePass&&LD(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Ki]&&(e[Ki]=new Ay),e[Ki].queries.push(new wy(r))}(r,X(),e)}function js(){return function NX(t,e){return t[Ki].queries[e].queryList}(X(),CA())}function g7(t,e){return t.queries.getByIndex(e)}const M7=new ye("Application Initializer");let Oy=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=W(M7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Yd(o))r.push(o);else if(_T(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),k7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const $s=new ye("LocaleId",{providedIn:"root",factory:()=>W($s,st.Optional|st.SkipSelf)||function rJ(){return typeof $localize<"u"&&$localize.locale||Cl}()});let xg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ii(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class oJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let aJ=(()=>{var t;class e{compileModuleSync(r){return new xy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Bs(jr(r).declarations).reduce((a,c)=>{const l=at(c);return l&&a.push(new $d(l)),a},[]);return new oJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const V7=new ye(""),Ig=new ye("");let Hy,Ly=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hy||(function SJ(t){Hy=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(dt),Se(By),Se(Ig))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})(),By=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Hy?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Ao=null;const L7=new ye("AllowMultipleToken"),zy=new ye("PlatformDestroyListeners"),B7=new ye("appBootstrapListener");function U7(t,e,n=[]){const r=`Platform: ${e}`,i=new ye(r);return(s=[])=>{let o=Uy();if(!o||o.injector.get(L7,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function MJ(t){if(Ao&&!Ao.get(L7,!1))throw new ee(400,!1);(function H7(){!function r$(t){tA=t}(()=>{throw new ee(600,!1)})})(),Ao=t;const e=t.get($7);(function z7(t){t.get(K5,null)?.forEach(n=>n())})(t)}(function j7(t=[],e){return An.create({name:e,providers:[{provide:Ev,useValue:"platform"},{provide:zy,useValue:new Set([()=>Ao=null])},...t]})}(a,r))}return function NJ(t){const e=Uy();if(!e)throw new ee(401,!1);return e}()}}function Uy(){return Ao?.get($7)??null}let $7=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function OJ(t="zone.js",e){return"noop"===t?new gW:"zone.js"===t?new dt(e):t}(i?.ngZone,function G7(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function qQ(t,e,n){return new Ey(t,e,n)}(r.moduleType,this.injector,function Q7(t){return[{provide:dt,useFactory:t},{provide:Fd,multi:!0,useFactory:()=>{const e=W(VJ,{optional:!0});return()=>e.initialize()}},{provide:Y7,useFactory:FJ},{provide:fD,useFactory:hD}]}(()=>s)),a=o.injector.get(Ls,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{bg(this._modules,o),c.unsubscribe()})}),function q7(t,e,n){try{const r=n();return Yd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(Oy);return c.runInitializers(),c.donePromise.then(()=>(function pS(t){oi(t,"Expected localeId to be defined"),"string"==typeof t&&(hS=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get($s,Cl)||Cl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=W7({},i);return function RJ(t,e,n){const r=new xy(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(lf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new ee(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(zy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(An))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function W7(t,e){return Array.isArray(e)?e.reduce(W7,t):{...t,...e}}let lf=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=W(Y7),this.zoneIsStable=W(fD),this.componentTypes=[],this.components=[],this.isStable=W(xg).hasPendingTasks.pipe(si(r=>r?Le(!1):this.zoneIsStable),yw(),vw()),this._injector=W(ui)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof Z5;if(!this._injector.get(Oy).done)throw!s&&function kc(t){const e=at(t)||Un(t)||pr(t);return null!==e&&e.standalone}(r),new ee(405,!1);let a;a=s?r:this._injector.get(Bd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function PJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ma),u=a.create(An.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(V7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),bg(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;bg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(B7,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>bg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ee(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Y7=new ye("",{providedIn:"root",factory:()=>W(Ls).handleError.bind(void 0)});function FJ(){const t=W(dt),e=W(Ls);return n=>t.runOutsideAngular(()=>e.handleError(n))}let VJ=(()=>{var t;class e{constructor(){this.zone=W(dt),this.applicationRef=W(lf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Do=(()=>{class e{}return e.__NG_ELEMENT_ID__=HJ,e})();function HJ(t){return function zJ(t,e,n){if(xa(t)&&!n){const r=$r(t.index,e);return new jd(r,r)}return 47&t.type?new jd(e[un],e):null}(Gn(),X(),16==(16&t))}class eR{constructor(){}supports(e){return ig(e)}create(e){return new WJ(e)}}const qJ=(t,e)=>e;class WJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||qJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<nR(r,i,s)?n:r,a=nR(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ig(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function AK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new KJ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new tR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class KJ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class tR{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new YJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nR(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class rR{constructor(){}supports(e){return e instanceof Map||Zv(e)}create(){return new QJ}}class QJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Zv(e)))throw new ee(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new XJ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class XJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iR(){return new Dg([new eR])}let Dg=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||iR()),deps:[[e,new K_,new _n]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:iR}),e})();function sR(){return new uf([new rR])}let uf=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||sR()),deps:[[e,new K_,new _n]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=Ce({token:t,providedIn:"root",factory:sR}),e})();const eZ=U7(null,"core",[]);let tZ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(lf))},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ft({}),e})();let Ky=null;function To(){return Ky}class pZ{}const Lr=new ye("DocumentToken");let pR=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return W(gZ)},providedIn:"platform"}),e})(),gZ=(()=>{var t;class e extends pR{constructor(){super(),this._doc=W(Lr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return To().getBaseHref(this._doc)}onPopState(r){const i=To().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=To().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function gR(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function mR(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Na(t){return t&&"?"!==t[0]?"?"+t:t}let Sg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return W(_Z)},providedIn:"root"}),e})();const mZ=new ye("appBaseHref");let _Z=(()=>{var t;class e extends Sg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??W(Lr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return gR(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Na(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Na(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Na(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(pR),Se(mZ,8))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Yy=(()=>{var t;class e{constructor(r){this._subject=new bt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function EZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(mR(_R(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Na(i))}normalize(r){return e.stripTrailingSlash(function yZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,_R(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Na(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Na(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Na,t.joinWithSlash=gR,t.stripTrailingSlash=mR,t.\u0275fac=function(r){return new(r||t)(Se(Sg))},t.\u0275prov=Ce({token:t,factory:function(){return function vZ(){return new Yy(Se(Sg))}()},providedIn:"root"}),e})();function _R(t){return t.replace(/\/index.html$/,"")}var Rg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Rg||{}),dn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(dn||{});function pi(t,e){const n=xr(t),r=n[Pt.NumberSymbols][e];if(typeof r>"u"){if(e===dn.CurrencyDecimal)return n[Pt.NumberSymbols][dn.Decimal];if(e===dn.CurrencyGroup)return n[Pt.NumberSymbols][dn.Group]}return r}const WZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function r4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function AR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const s4=/\s+/,DR=[];let TR=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=DR,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(s4):DR}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(s4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(s4).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Dg),J(uf),J(Er),J(ts))},t.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class see{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let o4=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new see(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),RR(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{RR(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Mi),J(zs),J(Dg))},t.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function RR(t,e){t.context.$implicit=e.item}let Oa=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new oee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){PR("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){PR("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Mi),J(zs))},t.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class oee{constructor(){this.$implicit=null,this.ngIf=null}}function PR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${bn(e)}'.`)}function Ni(t,e){return new ee(2100,!1)}class lee{createSubscription(e,n){return iA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){iA(()=>e.unsubscribe())}}class uee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const dee=new uee,fee=new lee;let hf=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Yd(r))return dee;if(_T(r))return fee;throw Ni()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Do,16))},t.\u0275pipe=zn({name:"async",type:t,pure:!1,standalone:!0}),e})(),kR=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=NR}transform(r,i=NR){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function wee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(J(uf,16))},t.\u0275pipe=zn({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function NR(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Dl=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function l4(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function ZZ(t,e,n){return function t4(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function tee(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function eee(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const I=s.match(WZ);if(null===I)throw new Error(`${s} is not a valid digit info`);const H=I[1],G=I[3],ue=I[5];null!=H&&(u=r4(H)),null!=G&&(d=r4(G)),null!=ue?f=r4(ue):null!=G&&d>f&&(f=d)}!function nee(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let E=[];for(c=h.every(I=>!I);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?E=h.splice(p,h.length):(E=h,h=[0]);const S=[];for(h.length>=e.lgSize&&S.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)S.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&S.unshift(h.join("")),a=S.join(pi(n,r)),E.length&&(a+=pi(n,i)+E.join("")),g&&(a+=pi(n,dn.Exponential)+"+"+g)}else a=pi(n,dn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function n4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Qy(t,e){return xr(t)[Pt.NumberFormats][e]}(e,Rg.Decimal),pi(e,dn.MinusSign)),e,dn.Group,dn.Decimal,n)}(function u4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw Ni()}}}return(t=e).\u0275fac=function(r){return new(r||t)(J($s,16))},t.\u0275pipe=zn({name:"number",type:t,pure:!0,standalone:!0}),e})();let Tee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ft({}),e})();const See="server";function d4(t){return t===See}class FR{}class tte extends pZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class p4 extends tte{static makeCurrent(){!function hZ(t){Ky||(Ky=t)}(new p4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function nte(){return gf=gf||document.querySelector("base"),gf?gf.getAttribute("href"):null}();return null==n?null:function rte(t){Ug=Ug||document.createElement("a"),Ug.setAttribute("href",t);const e=Ug.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){gf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return AR(document.cookie,e)}}let Ug,gf=null,ste=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const g4=new ye("EventManagerPlugins");let zR=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new ee(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(g4),Se(dt))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();class UR{constructor(e){this._doc=e}}const m4="ng-app-id";let jR=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=d4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${m4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(m4),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(m4,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Lr),Se(Gp),Se(Y5,8),Se(es))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const _4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},v4=/%COMP%/g,lte=new ye("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function GR(t,e){return e.map(n=>n.replace(v4,t))}let qR=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=d4(c),this.defaultRenderer=new y4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===wi.ShadowDom&&(i={...i,encapsulation:wi.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof KR?s.applyToHost(r):s instanceof E4&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case wi.Emulated:o=new KR(l,u,i,this.appId,d,a,c,f);break;case wi.ShadowDom:return new hte(l,u,r,i,a,c,this.nonce,f);default:o=new E4(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(zR),Se(jR),Se(Gp),Se(lte),Se(Lr),Se(es),Se(dt),Se(Y5))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();class y4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(WR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(WR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=_4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=_4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Co.DashCase|Co.Important)?e.style.setProperty(n,r,i&Co.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Co.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=To().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function WR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class hte extends y4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=GR(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class E4 extends y4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?GR(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class KR extends E4{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function ute(t){return"_ngcontent-%COMP%".replace(v4,t)}(l),this.hostAttr=function dte(t){return"_nghost-%COMP%".replace(v4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let pte=(()=>{var t;class e extends UR{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Lr))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const YR=["alt","control","meta","shift"],gte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let _te=(()=>{var t;class e extends UR{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>To().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),YR.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=gte[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),YR.forEach(a=>{a!==s&&(0,mte[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Lr))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const XR=[{provide:es,useValue:"browser"},{provide:K5,useValue:function vte(){p4.makeCurrent()},multi:!0},{provide:Lr,useFactory:function Ete(){return function oq(t){dv=t}(document),document},deps:[]}],xte=U7(eZ,"browser",XR),Cte=new ye(""),JR=[{provide:Ig,useClass:class ite{addToWindow(e){St.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new ee(5103,!1);return s},St.getAllAngularTestabilities=()=>e.getAllTestabilities(),St.getAllAngularRootElements=()=>e.getAllRootElements(),St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(r=>{const i=St.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?To().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:V7,useClass:Ly,deps:[dt,By,Ig]},{provide:Ly,useClass:Ly,deps:[dt,By,Ig]}],ZR=[{provide:Ev,useValue:"root"},{provide:Ls,useFactory:function yte(){return new Ls},deps:[]},{provide:g4,useClass:pte,multi:!0,deps:[Lr,dt,es]},{provide:g4,useClass:_te,multi:!0,deps:[Lr]},qR,jR,zR,{provide:tD,useExisting:qR},{provide:FR,useClass:ste,deps:[]},[]];let os=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Gp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Cte,12))},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ft({providers:[...ZR,...JR],imports:[Tee,tZ]}),e})(),x4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Lr))},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new r:function bte(){return new x4(Se(Lr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let n9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new(r||t):Se(r9),i},providedIn:"root"}),e})(),r9=(()=>{var t;class e extends n9{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case li.NONE:return i;case li.HTML:return Zi(i,"HTML")?qr(i):F5(this._doc,String(i)).toString();case li.STYLE:return Zi(i,"Style")?qr(i):i;case li.SCRIPT:if(Zi(i,"Script"))return qr(i);throw new ee(5200,!1);case li.URL:return Zi(i,"URL")?qr(i):Hp(String(i));case li.RESOURCE_URL:if(Zi(i,"ResourceURL"))return qr(i);throw new ee(5201,!1);default:throw new ee(5202,!1)}}bypassSecurityTrustHtml(r){return function hq(t){return new aq(t)}(r)}bypassSecurityTrustStyle(r){return function pq(t){return new cq(t)}(r)}bypassSecurityTrustScript(r){return function gq(t){return new lq(t)}(r)}bypassSecurityTrustUrl(r){return function mq(t){return new uq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function _q(t){return new dq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Lr))},t.\u0275prov=Ce({token:t,factory:function(r){let i=null;return i=r?new r:function Tte(t){return new r9(t.get(Lr))}(Se(An)),i},providedIn:"root"}),e})();function mf(t){return(mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gt(t,e,n){return(e=function Rte(t){var e=function Ste(t,e){if("object"!==mf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==mf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===mf(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){s9(s,r,i,o,a,"next",c)}function a(c){s9(s,r,i,o,a,"throw",c)}o(void 0)})}}const o9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},b4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new Nte;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jg=function(t){return function(t){const e=o9(t);return b4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},$g=function(t){try{return b4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gg=()=>{try{return c9().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$g(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},l9=t=>{var e,n;return null===(n=null===(e=Gg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},u9=()=>{var t;return null===(t=Gg())||void 0===t?void 0:t.config},d9=t=>{var e;return null===(e=Gg())||void 0===e?void 0:e[`_${t}`]};class Tl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Mn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function w4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _f(){try{return"object"==typeof indexedDB}catch{return!1}}function A4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function f9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ro.prototype.create)}}class Ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Wte(t,e){return t.replace(Kte,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Oi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Kte=/\{\$([^}]+)}/g;function vf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(p9(s)&&p9(o)){if(!vf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function p9(t){return null!==t&&"object"==typeof t}function yf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ef(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function xf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Xte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Jte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=D4),void 0===i.error&&(i.error=D4),void 0===i.complete&&(i.complete=D4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D4(){}const Zte=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},ene=1e3,tne=2,nne=144e5,rne=.5;function S4(t,e=ene,n=tne){const r=e*Math.pow(n,t),i=Math.round(rne*r*(Math.random()-.5)*2);return Math.min(nne,r+i)}function nn(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class sne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Tl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ane(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Fa?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class cne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const R4=[];var ot=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ot||{});const g9={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},lne=ot.INFO,une={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},dne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=une[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Cf{constructor(e){this.name=e,this._logLevel=lne,this._logHandler=dne,this._userLogHandler=null,R4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?g9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const fne=(t,e)=>e.some(n=>t instanceof n);let m9,_9;const v9=new WeakMap,P4=new WeakMap,y9=new WeakMap,M4=new WeakMap,k4=new WeakMap;let N4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return P4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||y9.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Po(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function yne(t){return"function"==typeof t?function vne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pne(){return _9||(_9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(O4(this),e),Po(v9.get(this))}:function(...e){return Po(t.apply(O4(this),e))}:function(e,...n){const r=t.call(O4(this),e,...n);return y9.set(r,e.sort?e.sort():[e]),Po(r)}}(t):(t instanceof IDBTransaction&&function mne(t){if(P4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});P4.set(t,e)}(t),fne(t,function hne(){return m9||(m9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,N4):t)}function Po(t){if(t instanceof IDBRequest)return function gne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Po(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&v9.set(n,t)}).catch(()=>{}),k4.set(e,t),e}(t);if(M4.has(t))return M4.get(t);const e=yne(t);return e!==t&&(M4.set(t,e),k4.set(e,t)),e}const O4=t=>k4.get(t),xne=["get","getKey","getAll","getAllKeys","count"],Cne=["put","add","delete","clear"],F4=new Map;function E9(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(F4.get(e))return F4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Cne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xne.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return F4.set(e,s),s}!function _ne(t){N4=t(N4)}(t=>({...t,get:(e,n,r)=>E9(e,n)||t.get(e,n,r),has:(e,n)=>!!E9(e,n)||t.has(e,n)}));class Ine{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function bne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const V4="@firebase/app",Va=new Cf("@firebase/app"),Wg="[DEFAULT]",Qne={[V4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},La=new Map,Kg=new Map;function Xne(t,e){try{t.container.addComponent(e)}catch(n){Va.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mi(t){const e=t.name;if(Kg.has(e))return Va.debug(`There were multiple attempts to register component ${e}.`),!1;Kg.set(e,t);for(const n of La.values())Xne(n,t);return!0}function as(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ws=new Ro("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const Sl="10.5.2";function C9(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Wg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ws.create("bad-app-name",{appName:String(i)});if(n||(n=u9()),!n)throw Ws.create("no-options");const s=La.get(i);if(s){if(vf(n,s.options)&&vf(r,s.config))return s;throw Ws.create("duplicate-app",{appName:i})}const o=new cne(i);for(const c of Kg.values())o.addComponent(c);const a=new Zne(n,r,o);return La.set(i,a),a}function Rl(t=Wg){const e=La.get(t);if(!e&&t===Wg&&u9())return C9();if(!e)throw Ws.create("no-app",{appName:t});return e}function I9(){return Array.from(La.values())}function rn(t,e,n){var r;let i=null!==(r=Qne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Va.warn(a.join(" "))}mi(new Qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const ere="firebase-heartbeat-database",tre=1,If="firebase-heartbeat-store";let B4=null;function b9(){return B4||(B4=function Ene(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Po(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Po(o.result),c.oldVersion,c.newVersion,Po(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(ere,tre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(If)}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),B4}function H4(){return(H4=v(function*(t){try{return yield(yield b9()).transaction(If).objectStore(If).get(A9(t))}catch(e){if(e instanceof Oi)Va.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e?.message});Va.warn(n.message)}}})).apply(this,arguments)}function w9(t,e){return z4.apply(this,arguments)}function z4(){return(z4=v(function*(t,e){try{const r=(yield b9()).transaction(If,"readwrite");yield r.objectStore(If).put(e,A9(t)),yield r.done}catch(n){if(n instanceof Oi)Va.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n?.message});Va.warn(r.message)}}})).apply(this,arguments)}function A9(t){return`${t.name}!${t.options.appId}`}class sre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new are(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=D9();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=D9(),{heartbeatsToSend:r,unsentEntries:i}=function ore(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),T9(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),T9(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=jg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function D9(){return(new Date).toISOString().substring(0,10)}class are{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!_f()&&A4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function nre(t){return H4.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return w9(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return w9(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function T9(t){return jg(JSON.stringify({version:2,heartbeats:t})).length}!function cre(t){mi(new Qr("platform-logger",e=>new Ine(e),"PRIVATE")),mi(new Qr("heartbeat",e=>new sre(e),"PRIVATE")),rn(V4,"0.9.22",t),rn(V4,"0.9.22","esm2017"),rn("fire-js","")}(""),rn("firebase","10.5.2","app");class dre extends Y{constructor(e,n){super()}schedule(e,n=0){return this}}const Yg={setInterval(t,e,...n){const{delegate:r}=Yg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Yg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class S9 extends dre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Yg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Yg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,U(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const R9={now:()=>(R9.delegate||Date).now(),delegate:void 0};class bf{constructor(e,n=bf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}bf.now=R9.now;class P9 extends bf{constructor(e,n=bf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const pre=new class hre extends P9{}(class fre extends S9{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),gre=new P9(S9);function Wn(t,e,n){const r=R(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ve((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(et(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):me}const Mo=new al("ANGULARFIRE2_VERSION");function Qg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Xg=(t,e)=>{const n=e?[e]:I9(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class U4{constructor(){return Xg(M9)}}const M9="app-check";function Pl(){}class k9{constructor(e,n=pre){gt(this,"zone",void 0),gt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class _re{constructor(e){gt(this,"zone",void 0),gt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pl,{},Pl,Pl)),n.pipe(Wn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wf=(()=>{var t;class e{constructor(r){gt(this,"ngZone",void 0),gt(this,"outsideAngular",void 0),gt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new k9(Zone.current)),this.insideAngular=r.run(()=>new k9(Zone.current,gre)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(Se(dt))}),gt(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Ml(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ba(t){return Ml().ngZone.run(()=>t())}function yre(t){return function Ere(t){return function(n){return(n=n.lift(new _re(t.ngZone))).pipe(Z0(t.outsideAngular),J0(t.insideAngular))}}(Ml())(t)}const xre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ba(()=>t.apply(void 0,r))},fn=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Ba(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pl,{},Pl,Pl))),r[s]=xre(r[s],n));const i=function vre(t){return Ml().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof de){const s=Ml();return i.pipe(Z0(s.outsideAngular),J0(s.insideAngular))}return Ba(()=>i)}return i instanceof de?i.pipe(yre):i instanceof Promise?Ba(()=>new Promise((s,o)=>i.then(a=>Ba(()=>s(a)),a=>Ba(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ba(()=>i)};class Ha{constructor(e){return e}}class Af{constructor(){return I9()}}const j4=new ye("angularfire2._apps"),Ire={provide:Ha,useFactory:function Cre(t){return t&&1===t.length?t[0]:new Ha(Rl())},deps:[[new _n,j4]]},bre={provide:Af,deps:[[new _n,j4]]};function wre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ha(r)}}let Are=(()=>{var t;class e{constructor(r){rn("angularfire",Mo.full,"core"),rn("angularfire",Mo.full,"app"),rn("angular",nD.full,r.toString())}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(Se(es))}),gt(e,"\u0275mod",Ut({type:t})),gt(e,"\u0275inj",Ft({providers:[Ire,bre]})),e})();function ko(t,...e){return{ngModule:Are,providers:[{provide:j4,useFactory:wre(t),multi:!0,deps:[dt,An,wf,...e]}]}}const No=fn(Rl,!0),Oo=fn(C9,!0);const Dre=function N9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},O9=new Ro("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jg=new Cf("@firebase/auth");function Zg(t,...e){Jg.logLevel<=ot.ERROR&&Jg.error(`Auth (${Sl}): ${t}`,...e)}function Br(t,...e){throw $4(t,...e)}function Xr(t,...e){return $4(t,...e)}function F9(t,e,n){const r=Object.assign(Object.assign({},Dre()),{[e]:n});return new Ro("auth","Firebase",r).create(e,{appName:t.name})}function $4(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return O9.create(t,...e)}function he(t,e,...n){if(!t)throw $4(e,...n)}function cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zg(e),new Error(e)}function Ks(t,e){t||cs(e)}function Df(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function V9(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Tf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ks(n>e,"Short delay should be less than long delay!"),this.isMobile=function Ute(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}()||function $te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Sre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function G4(){return"http:"===V9()||"https:"===V9()}()||w4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function q4(t,e){Ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class L9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Mre=new Tf(3e4,6e4);function Gt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Qt(t,e,n,r){return W4.apply(this,arguments)}function W4(){return(W4=v(function*(t,e,n,r,i={}){return B9(t,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=yf(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),L9.fetch()(H9(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function B9(t,e,n){return K4.apply(this,arguments)}function K4(){return(K4=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pre),e);try{const i=new Nre(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Sf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Sf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Sf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Sf(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw F9(t,u,l);Br(t,u)}}catch(i){if(i instanceof Oi)throw i;Br(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ys(t,e,n,r){return Y4.apply(this,arguments)}function Y4(){return(Y4=v(function*(t,e,n,r,i={}){const s=yield Qt(t,e,n,r,i);return"mfaPendingCredential"in s&&Br(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function H9(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?q4(t.config,i):`${t.config.apiScheme}://${i}`}function kre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),Mre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xr(t,e,r);return i.customData._tokenResponse=n,i}function U9(t){return void 0!==t&&void 0!==t.enterprise}class j9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function $9(t,e){return X4.apply(this,arguments)}function X4(){return(X4=v(function*(t,e){return Qt(t,"GET","/v2/recaptchaConfig",Gt(t,e))})).apply(this,arguments)}function J4(){return(J4=v(function*(t,e){return Qt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function e6(){return(e6=v(function*(t,e){return Qt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Rf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function t6(){return(t6=v(function*(t,e=!1){const n=nn(t),r=yield n.getIdToken(e),i=e1(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Rf(n6(i.auth_time)),issuedAtTime:Rf(n6(i.iat)),expirationTime:Rf(n6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function n6(t){return 1e3*Number(t)}function e1(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Zg("JWT malformed, contained fewer than 3 sections"),null;try{const i=$g(n);return i?JSON.parse(i):(Zg("Failed to decode base64 JWT payload"),null)}catch(i){return Zg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Qs(t,e){return r6.apply(this,arguments)}function r6(){return(r6=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Oi&&function zre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Ure{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class G9{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rf(this.lastLoginAt),this.creationTime=Rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pf(t){return i6.apply(this,arguments)}function i6(){return i6=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Qs(t,function Lre(t,e){return e6.apply(this,arguments)}(n,{idToken:r}));he(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Gre(t){return t.map(e=>{var{providerId:n}=e,r=er(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function $re(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new G9(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),i6.apply(this,arguments)}function s6(){return(s6=v(function*(t){const e=nn(t);yield Pf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function o6(){return(o6=v(function*(t,e){const n=yield B9(t,{},v(function*(){const r=yf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=H9(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",L9.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Mf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Hre(t){const e=e1(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return he(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function qre(t,e){return o6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Mf;return r&&(he("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(he("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(he("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mf,this.toJSON())}_performRefresh(){return cs("not implemented")}}function Fo(t,e){he("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class za{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=er(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ure(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new G9(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield Qs(n,n.stsTokenManager.getToken(n.auth,e));return he(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Bre(t){return t6.apply(this,arguments)}(this,e)}reload(){return function jre(t){return s6.apply(this,arguments)}(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new za(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Pf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield Qs(e,function Fre(t,e){return J4.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,S=null!==(l=n.createdAt)&&void 0!==l?l:void 0,I=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:H,emailVerified:G,isAnonymous:ue,providerData:Te,stsTokenManager:Fe}=n;he(H&&Fe,e,"internal-error");const vt=Mf.fromJSON(this.name,Fe);he("string"==typeof H,e,"internal-error"),Fo(d,e.name),Fo(f,e.name),he("boolean"==typeof G,e,"internal-error"),he("boolean"==typeof ue,e,"internal-error"),Fo(h,e.name),Fo(p,e.name),Fo(g,e.name),Fo(E,e.name),Fo(S,e.name),Fo(I,e.name);const Jt=new za({uid:H,auth:e,email:f,emailVerified:G,displayName:d,isAnonymous:ue,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:vt,createdAt:S,lastLoginAt:I});return Te&&Array.isArray(Te)&&(Jt.providerData=Te.map(Ci=>Object.assign({},Ci))),E&&(Jt._redirectEventId=E),Jt}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new Mf;i.updateFromServerResponse(n);const s=new za({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Pf(s),s})()}}const q9=new Map;function Xs(t){Ks(t instanceof Function,"Expected a class definition");let e=q9.get(t);return e?(Ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q9.set(t,e),e)}const W9=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function t1(t,e,n){return`firebase:${t}:${e}:${n}`}class Nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=t1(this.userKey,i.apiKey,s),this.fullPersistenceKey=t1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?za._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new Nl(Xs(W9),e,r);const i=(yield Promise.all(n.map(function(){var l=v(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Xs(W9);const o=t1(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=za._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Nl(s,e,r)):new Nl(s,e,r)})()}}function K9(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z9(e))return"Blackberry";if(eP(e))return"Webos";if(a6(e))return"Safari";if((e.includes("chrome/")||Q9(e))&&!e.includes("edge/"))return"Chrome";if(J9(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Y9(t=Mn()){return/firefox\//i.test(t)}function a6(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q9(t=Mn()){return/crios\//i.test(t)}function X9(t=Mn()){return/iemobile/i.test(t)}function J9(t=Mn()){return/android/i.test(t)}function Z9(t=Mn()){return/blackberry/i.test(t)}function eP(t=Mn()){return/webos/i.test(t)}function n1(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tP(t=Mn()){return n1(t)||J9(t)||eP(t)||Z9(t)||/windows phone/i.test(t)||X9(t)}function nP(t,e=[]){let n;switch(t){case"Browser":n=K9(Mn());break;case"Worker":n=`${K9(Mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sl}/${r}`}class Qre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function c6(){return(c6=v(function*(t,e={}){return Qt(t,"GET","/v2/passwordPolicy",Gt(t,e))})).apply(this,arguments)}class Zre{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class eie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rP(this),this.idTokenSubscription=new rP(this),this.beforeStateQueue=new Qre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Xs(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Nl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return he(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield Pf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Rre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?nn(e):null;return r&&he(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&he(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(Xs(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return v(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return v(function*(){const n=yield function Xre(t){return c6.apply(this,arguments)}(e),r=new Zre(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ro("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&Xs(e)||n._popupRedirectResolver;he(r,n,"argument-error"),n.redirectPersistenceManager=yield Nl.create(n,[Xs(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Tre(t,...e){Jg.logLevel<=ot.WARN&&Jg.warn(`Auth (${Sl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function yn(t){return nn(t)}class rP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Qte(t,e){const n=new Xte(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function l6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function tie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function iP(t){return`__${t}${Math.floor(1e6*Math.random())}`}class sP{constructor(e){this.type="recaptcha-enterprise",this.auth=yn(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=v(function*(l,u){$9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new j9(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;U9(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&U9(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));l6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function oP(t,e,n){return u6.apply(this,arguments)}function u6(){return(u6=v(function*(t,e,n,r=!1){const i=new sP(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function d6(){return d6=v(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield oP(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=v(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield oP(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),d6.apply(this,arguments)}function aP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class h6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,n){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}function uP(t,e){return g6.apply(this,arguments)}function g6(){return(g6=v(function*(t,e){return Qt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function fie(t,e){return _6.apply(this,arguments)}function _6(){return(_6=v(function*(t,e){return Ys(t,"POST","/v1/accounts:signInWithPassword",Gt(t,e))})).apply(this,arguments)}function I6(){return(I6=v(function*(t,e){return Ys(t,"POST","/v1/accounts:signInWithEmailLink",Gt(t,e))})).apply(this,arguments)}function b6(){return(b6=v(function*(t,e){return Ys(t,"POST","/v1/accounts:signInWithEmailLink",Gt(t,e))})).apply(this,arguments)}class kf extends h6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new kf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return v(function*(){switch(n.signInMethod){case"password":return function r1(t,e,n,r){return d6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fie);case"emailLink":return function _ie(t,e){return I6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Br(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return v(function*(){switch(r.signInMethod){case"password":return uP(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function vie(t,e){return b6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Br(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Js(t,e){return w6.apply(this,arguments)}function w6(){return(w6=v(function*(t,e){return Ys(t,"POST","/v1/accounts:signInWithIdp",Gt(t,e))})).apply(this,arguments)}class Ol extends h6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ol(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=er(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ol(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Js(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Js(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Js(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yf(n)}return e}}class Of{constructor(e){var n,r,i,s,o,a;const c=Ef(xf(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function wie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);he(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Aie(t){const e=Ef(xf(t)).link,n=e?Ef(xf(e)).deep_link_id:null,r=Ef(xf(t)).deep_link_id;return(r?Ef(xf(r)).link:null)||r||n||e||t}(e);try{return new Of(n)}catch{return null}}}let dP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return kf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Of.parseLink(r);return he(i,"argument-error"),kf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Vo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fP extends Vo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Die=(()=>{class t extends fP{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ol._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class _i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(function*(){const s=yield za._fromIdTokenResponse(e,r,i),o=pP(r);return new _i({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=pP(r);return new _i({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function pP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class o1 extends Oi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,o1.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new o1(e,n,r,i)}}function gP(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?o1._fromErrorAndOperation(t,s,e,r):s})}function O6(){return(O6=v(function*(t,e,n=!1){const r=yield Qs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return _i._forOperation(t,"link",r)})).apply(this,arguments)}function V6(){return(V6=v(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Qs(t,gP(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=e1(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),_i._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Br(r,"user-mismatch"),s}})).apply(this,arguments)}function vP(t,e){return L6.apply(this,arguments)}function L6(){return(L6=v(function*(t,e,n=!1){const r="signIn",i=yield gP(t,r,e),s=yield _i._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function H6(){return(H6=v(function*(t,e){return vP(yn(t),e)})).apply(this,arguments)}function Y6(){return(Y6=v(function*(t){const e=yn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Nie(t,e,n){return function B6(t,e){return H6.apply(this,arguments)}(nn(t),dP.credential(e,n)).catch(function(){var r=v(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function K6(t){return Y6.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const l1="__sak";class EP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(l1,"1"),this.storage.removeItem(l1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jie=(()=>{class t extends EP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yie(){const t=Mn();return a6(t)||n1(t)}()&&function Yre(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=tP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Kre(){return function Gte(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),xP=(()=>{class t extends EP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let ese=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=v(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function Zie(t){return Promise.all(t.map(function(){var e=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function u1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class tse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=u1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function En(){return window}function _3(){return typeof En().WorkerGlobalScope<"u"&&"function"==typeof En().importScripts}function v3(){return(v3=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const CP="firebaseLocalStorageDb",d1="firebaseLocalStorage",IP="fbase_key";class Vf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function f1(t,e){return t.transaction([d1],e?"readwrite":"readonly").objectStore(d1)}function y3(){const t=indexedDB.open(CP,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(d1,{keyPath:IP})}catch(i){n(i)}}),t.addEventListener("success",v(function*(){const r=t.result;r.objectStoreNames.contains(d1)?e(r):(r.close(),yield function ase(){const t=indexedDB.deleteDatabase(CP);return new Vf(t).toPromise()}(),e(yield y3()))}))})}function bP(t,e,n){return E3.apply(this,arguments)}function E3(){return(E3=v(function*(t,e,n){const r=f1(t,!0).put({[IP]:e,value:n});return new Vf(r).toPromise()})).apply(this,arguments)}function x3(){return(x3=v(function*(t,e){const n=f1(t,!1).get(e),r=yield new Vf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function wP(t,e){const n=f1(t,!0).delete(e);return new Vf(n).toPromise()}const dse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield y3()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return _3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=ese._getInstance(function sse(){return _3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function rse(){return v3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new tse(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function ise(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield y3();return yield bP(n,l1,"1"),yield wP(n,l1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>bP(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(s=>function cse(t,e){return x3.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>wP(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(o=>{const a=f1(o,!1).getAll();return new Vf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function ja(t,e){return e?Xs(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}iP("rcb"),new Tf(3e4,6e4);class R3 extends h6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Dse(t){return vP(t.auth,new R3(t),t.bypassAuthState)}function Tse(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),function _P(t,e){return V6.apply(this,arguments)}(n,new R3(t),t.bypassAuthState)}function Sse(t){return P3.apply(this,arguments)}function P3(){return(P3=v(function*(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),function N6(t,e){return O6.apply(this,arguments)}(n,new R3(t),t.bypassAuthState)})).apply(this,arguments)}class DP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dse;case"linkViaPopup":case"linkViaRedirect":return Sse;case"reauthViaPopup":case"reauthViaRedirect":return Tse;default:Br(this.auth,"internal-error")}}resolve(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rse=new Tf(2e3,1e4);function Pse(t,e,n){return M3.apply(this,arguments)}function M3(){return(M3=v(function*(t,e,n){const r=yn(t);!function kl(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Br(t,"argument-error"),F9(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Vo);const i=ja(r,n);return new O3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let O3=(()=>{class t extends DP{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return v(function*(){const r=yield n.execute();return he(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return v(function*(){Ks(1===n.filter.length,"Popup operations only handle one event");const r=u1();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Xr(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Rse.get())};n()}}return t.currentPopupAction=null,t})();const Mse="pendingRedirect",Lf=new Map;class kse extends DP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return v(function*(){let r=Lf.get(n.auth._key());if(!r){try{const s=(yield function Nse(t,e){return F3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Lf.set(n.auth._key(),r)}return n.bypassAuthState||Lf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function F3(){return(F3=v(function*(t,e){const n=function SP(t){return t1(Mse,t.config.apiKey,t.name)}(e),r=function TP(t){return Xs(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Ose(t,e){Lf.set(t._key(),e)}function RP(t,e){return j3.apply(this,arguments)}function j3(){return(j3=v(function*(t,e,n=!1){const r=yn(t),i=ja(r,e),o=yield new kse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Hse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function zse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kP(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kP(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(MP(e))}saveEventToCache(e){this.cachedEventUids.add(MP(e)),this.lastProcessedEventTime=Date.now()}}function MP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kP({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function G3(){return(G3=v(function*(t,e={}){return Qt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const jse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$se=/^https?/;function q3(){return q3=v(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Use(t){return G3.apply(this,arguments)}(t);for(const n of e)try{if(qse(n))return}catch{}Br(t,"unauthorized-domain")}),q3.apply(this,arguments)}function qse(t){const e=Df(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!$se.test(n))return!1;if(jse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Wse=new Tf(3e4,6e4);function NP(){const t=En().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let p1=null;const Qse=new Tf(5e3,15e3),Xse="__/auth/iframe",Jse="emulator/auth/iframe",Zse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eoe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function toe(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?q4(e,Jse):`https://${t.config.authDomain}/${Xse}`,r={apiKey:e.apiKey,appName:t.name,v:Sl},i=eoe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yf(r).slice(1)}`}function W3(){return W3=v(function*(t){const e=yield function Yse(t){return p1=p1||function Kse(t){return new Promise((e,n)=>{var r,i,s;function o(){NP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NP(),n(Xr(t,"network-request-failed"))},timeout:Wse.get()})}if(null!==(i=null===(r=En().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=En().gapi)||void 0===s||!s.load){const a=iP("iframefcb");return En()[a]=()=>{gapi.load?o():n(Xr(t,"network-request-failed"))},l6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw p1=null,e})}(t),p1}(t),n=En().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:toe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zse,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Xr(t,"network-request-failed"),c=En().setTimeout(()=>{o(a)},Qse.get());function l(){En().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),W3.apply(this,arguments)}const roe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class OP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const uoe="__/auth/handler",doe="emulator/auth/handler",foe=encodeURIComponent("fac");function FP(t,e,n,r,i,s){return K3.apply(this,arguments)}function K3(){return(K3=v(function*(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sl,eventId:i};if(e instanceof Vo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function Yte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof fP){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${foe}=${encodeURIComponent(c)}`:"";return`${function hoe({config:t}){return t.emulator?q4(t,doe):`https://${t.authDomain}/${uoe}`}(t)}?${yf(a).slice(1)}${l}`})).apply(this,arguments)}const Y3="webStorageSupport",goe=class poe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xP,this._completeRedirectFn=RP,this._overrideRedirectResult=Ose}_openPopup(e,n,r,i){var s=this;return v(function*(){var o;Ks(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield FP(e,n,r,Df(),i);return function coe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},roe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Mn().toLowerCase();n&&(a=Q9(l)?"_blank":n),Y9(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function Wre(t=Mn()){var e;return n1(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function loe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new OP(null);const d=window.open(e||"",a,u);he(d,t,"popup-blocked");try{d.focus()}catch{}return new OP(d)}(e,a,u1())})()}_openRedirect(e,n,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function nse(t){En().location.href=t}(yield FP(e,n,r,Df(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ks(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return v(function*(){const r=yield function noe(t){return W3.apply(this,arguments)}(e),i=new Hse(e);return r.register("authEvent",s=>(he(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Y3,{type:Y3},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Y3];void 0!==o&&n(!!o),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Gse(t){return q3.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tP()||a6()||n1()}};var BP="@firebase/auth";class moe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Eoe=d9("authIdTokenMaxAge")||300;let zP=null;const xoe=t=>function(){var e=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Eoe)return;const s=r?.token;zP!==s&&(zP=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Coe(t=Rl()){const e=as(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function oie(t,e){const n=as(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(vf(n.getOptions(),e??{}))return i;Br(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:goe,persistence:[dse,Jie,xP]}),r=d9("authTokenSyncURL");if(r){const s=xoe(r);(function jie(t,e,n){nn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Uie(t,e,n,r){nn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=l9("auth");return i&&function cie(t,e,n){const r=yn(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=aP(e),{host:o,port:a}=function lie(t){const e=aP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cP(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:cP(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function uie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Ioe(t){return new de(function(e){var n=function $ie(t,e,n,r){return nn(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function voe(t){mi(new Qr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nP(t)},l=new eie(r,i,s,c);return function aie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mi(new Qr("auth-internal",e=>{const n=yn(e.getProvider("auth").getImmediate());return new moe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rn(BP,"1.3.2",function _oe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),rn(BP,"1.3.2","esm2017")}("Browser");class Bf{constructor(e){return e}}class jP{constructor(){return Xg("auth")}}const X3=new ye("angularfire2.auth-instances");function Aoe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Bf(r)}}const Doe={provide:jP,deps:[[new _n,X3]]},Toe={provide:Bf,useFactory:function woe(t,e){const n=Qg("auth",t,e);return n&&new Bf(n)},deps:[[new _n,X3],Ha]};let Soe=(()=>{var t;class e{constructor(){rn("angularfire",Mo.full,"auth")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Ut({type:t})),gt(e,"\u0275inj",Ft({providers:[Toe,Doe]})),e})();function $a(t,...e){return{ngModule:Soe,providers:[{provide:X3,useFactory:Aoe(t),multi:!0,deps:[dt,An,wf,Af,[new _n,U4],...e]}]}}const $P=fn(Ioe,!0),Ga=fn(Coe,!0),Roe=fn(Nie,!0),Poe=fn(Pse,!0);var Ee,Moe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fi={},J3=J3||{},Ge=Moe||self;function m1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Hf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Z3="closure_uid_"+(1e9*Math.random()>>>0),Noe=0;function Ooe(t,e,n){return t.call.apply(t.bind,arguments)}function Foe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function or(t,e,n){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ooe:Foe).apply(null,arguments)}function _1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Lo(){this.s=this.s,this.o=this.o}Lo.prototype.s=!1,Lo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function koe(t){Object.prototype.hasOwnProperty.call(t,Z3)&&t[Z3]||(t[Z3]=++Noe)}(this)},Lo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function eE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function qP(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(m1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ar(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ar.prototype.h=function(){this.defaultPrevented=!0};var Loe=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ge.addEventListener("test",()=>{},e),Ge.removeEventListener("test",()=>{},e)}catch{}return t}();function zf(t){return/^[\s\xa0]*$/.test(t)}function v1(){var t=Ge.navigator;return t&&(t=t.userAgent)?t:""}function ls(t){return-1!=v1().indexOf(t)}function tE(t){return tE[" "](t),t}tE[" "]=function(){};var rE,t,Hoe=ls("Opera"),Fl=ls("Trident")||ls("MSIE"),WP=ls("Edge"),nE=WP||Fl,KP=ls("Gecko")&&!(-1!=v1().toLowerCase().indexOf("webkit")&&!ls("Edge"))&&!(ls("Trident")||ls("MSIE"))&&!ls("Edge"),zoe=-1!=v1().toLowerCase().indexOf("webkit")&&!ls("Edge");function YP(){var t=Ge.document;return t?t.documentMode:void 0}e:{var iE="",sE=(t=v1(),KP?/rv:([^\);]+)(\)|;)/.exec(t):WP?/Edge\/([\d\.]+)/.exec(t):Fl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):zoe?/WebKit\/(\S+)/.exec(t):Hoe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(sE&&(iE=sE?sE[1]:""),Fl){var oE=YP();if(null!=oE&&oE>parseFloat(iE)){rE=String(oE);break e}}rE=iE}var Uoe=Ge.document&&Fl&&(YP()||parseInt(rE,10))||void 0;function Uf(t,e){if(ar.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(KP){e:{try{tE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:joe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Uf.$.h.call(this)}}kn(Uf,ar);var joe={2:"touch",3:"pen",4:"mouse"};Uf.prototype.h=function(){Uf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var jf="closure_listenable_"+(1e6*Math.random()|0),$oe=0;function Goe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++$oe,this.fa=this.ia=!1}function y1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function cE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function XP(t){const e={};for(const n in t)e[n]=t[n];return e}const JP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZP(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<JP.length;s++)n=JP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function E1(t){this.src=t,this.g={},this.h=0}function lE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=GP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(y1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function uE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}E1.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=uE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Goe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var dE="closure_lm_"+(1e6*Math.random()|0),fE={};function eM(t,e,n,r,i){if(r&&r.once)return nM(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)eM(t,e[s],n,r,i);return null}return n=mE(n),t&&t[jf]?t.O(e,n,Hf(r)?!!r.capture:!!r,i):tM(t,e,n,!1,r,i)}function tM(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Hf(i)?!!i.capture:!!i,a=pE(t);if(a||(t[dE]=a=new E1(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Woe(){const e=Koe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Loe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(iM(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function nM(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nM(t,e[s],n,r,i);return null}return n=mE(n),t&&t[jf]?t.P(e,n,Hf(r)?!!r.capture:!!r,i):tM(t,e,n,!0,r,i)}function rM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)rM(t,e[s],n,r,i);else r=Hf(r)?!!r.capture:!!r,n=mE(n),t&&t[jf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=uE(s=t.g[e],n,r,i))&&(y1(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=pE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=uE(e,n,r,i)),(n=-1<t?e[t]:null)&&hE(n))}function hE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[jf])lE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pE(e))?(lE(n,t),0==n.h&&(n.src=null,e[dE]=null)):y1(t)}}}function iM(t){return t in fE?fE[t]:fE[t]="on"+t}function Koe(t,e){if(t.fa)t=!0;else{e=new Uf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&hE(t),t=n.call(r,e)}return t}function pE(t){return(t=t[dE])instanceof E1?t:null}var gE="__closure_events_fn_"+(1e9*Math.random()>>>0);function mE(t){return"function"==typeof t?t:(t[gE]||(t[gE]=function(e){return t.handleEvent(e)}),t[gE])}function Nn(){Lo.call(this),this.i=new E1(this),this.S=this,this.J=null}function Kn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ar(e,t);else if(e instanceof ar)e.target=e.target||t;else{var i=e;ZP(e=new ar(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=x1(o,r,!0,e)&&i}if(i=x1(o=e.g=t,r,!0,e)&&i,i=x1(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=x1(o=e.g=n[s],r,!1,e)&&i}function x1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&lE(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}kn(Nn,Lo),Nn.prototype[jf]=!0,Nn.prototype.removeEventListener=function(t,e,n,r){rM(this,t,e,n,r)},Nn.prototype.N=function(){if(Nn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)y1(n[r]);delete t.g[e],t.h--}}this.J=null},Nn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Nn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var _E=Ge.JSON.stringify;function Qoe(){var t=vE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var sM=new class Yoe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Joe,t=>t.reset());class Joe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Zoe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function eae(t){Ge.setTimeout(()=>{throw t},0)}let $f,Gf=!1,vE=new class Xoe{constructor(){this.h=this.g=null}add(e,n){const r=sM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},oM=()=>{const t=Ge.Promise.resolve(void 0);$f=()=>{t.then(tae)}};var tae=()=>{for(var t;t=Qoe();){try{t.h.call(t.g)}catch(n){eae(n)}var e=sM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gf=!1};function C1(t,e){Nn.call(this),this.h=t||1,this.g=e||Ge,this.j=or(this.qb,this),this.l=Date.now()}function yE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function EE(t,e,n){if("function"==typeof t)n&&(t=or(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=or(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ge.setTimeout(t,e||0)}function aM(t){t.g=EE(()=>{t.g=null,t.i&&(t.i=!1,aM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}kn(C1,Nn),(Ee=C1.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kn(this,"tick"),this.ga&&(yE(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){C1.$.N.call(this),yE(this),delete this.g};class nae extends Lo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aM(this)}N(){super.N(),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qf(t){Lo.call(this),this.h=t,this.g={}}kn(qf,Lo);var cM=[];function lM(t,e,n,r){Array.isArray(n)||(n&&(cM[0]=n.toString()),n=cM);for(var i=0;i<n.length;i++){var s=eM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function uM(t){cE(t.g,function(e,n){this.g.hasOwnProperty(n)&&hE(e)},t),t.g={}}function I1(){this.g=!0}function Vl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function oae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return _E(n)}catch{return e}}(t,n)+(r?" "+r:"")})}qf.prototype.N=function(){qf.$.N.call(this),uM(this)},qf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},I1.prototype.Ea=function(){this.g=!1},I1.prototype.info=function(){};var qa={},dM=null;function b1(){return dM=dM||new Nn}function fM(t){ar.call(this,qa.Ta,t)}function Wf(t){const e=b1();Kn(e,new fM(e))}function hM(t,e){ar.call(this,qa.STAT_EVENT,t),this.stat=e}function br(t){const e=b1();Kn(e,new hM(e,t))}function pM(t,e){ar.call(this,qa.Ua,t),this.size=e}function Kf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){t()},e)}qa.Ta="serverreachability",kn(fM,ar),qa.STAT_EVENT="statevent",kn(hM,ar),qa.Ua="timingevent",kn(pM,ar);var w1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xE(){}function _M(){}xE.prototype.h=null;var bE,Yf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function CE(){ar.call(this,"d")}function IE(){ar.call(this,"c")}function A1(){}function Qf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new qf(this),this.P=aae,this.V=new C1(t=nE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vM}function vM(){this.i=null,this.g="",this.h=!1}kn(CE,ar),kn(IE,ar),kn(A1,xE),A1.prototype.g=function(){return new XMLHttpRequest},A1.prototype.i=function(){return{}},bE=new A1;var aae=45e3,wE={},D1={};function AE(t,e,n){t.L=1,t.v=P1(Zs(e)),t.s=n,t.S=!0,yM(t,null)}function yM(t,e){t.G=Date.now(),Xf(t),t.A=Zs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),SM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new vM,t.g=ZM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new nae(or(t.Pa,t,t.g),t.O)),lM(t.U,t.g,"readystatechange",t.nb),e=t.I?XP(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Wf(),function rae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function EM(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function xM(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=cae(t,n),i==D1){4==e&&(t.o=4,br(14),r=!1),Vl(t.j,t.m,null,"[Incomplete Response]");break}if(i==wE){t.o=4,br(15),Vl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Vl(t.j,t.m,i,null),DE(t,i)}EM(t)&&i!=D1&&i!=wE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,br(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),NE(e),e.M=!0,br(11))):(Vl(t.j,t.m,n,"[Invalid Chunked Response]"),Wa(t),Jf(t))}function cae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?D1:(n=Number(e.substring(n,r)),isNaN(n)?wE:(r+=1)+n>e.length?D1:(e=e.slice(r,r+n),t.C=r+n,e))}function Xf(t){t.Y=Date.now()+t.P,CM(t,t.P)}function CM(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Kf(or(t.lb,t),e)}function T1(t){t.B&&(Ge.clearTimeout(t.B),t.B=null)}function Jf(t){0==t.l.H||t.J||YM(t.l,t)}function Wa(t){T1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,yE(t.V),uM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function DE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||TE(n.i,t)))if(!t.K&&TE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;V1(n),O1(n)}kE(n),br(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Kf(or(n.ib,n),6e3));if(1>=MM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ya(n,11)}else if((t.K||n.g==t)&&V1(n),!zf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(SE(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Vt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=JM(r,r.J?r.pa:null,r.Y),o.K){kM(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(T1(a),Xf(a)),r.g=o}else WM(r);0<n.j.length&&F1(n)}else"stop"!=l[0]&&"close"!=l[0]||Ya(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ya(n,7):ME(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Wf()}catch{}}function IM(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function uae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(m1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function lae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(m1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(Ee=Qf.prototype).setTimeout=function(t){this.P=t},Ee.nb=function(t){t=t.target;const e=this.M;e&&3==us(t)?e.l():this.Pa(t)},Ee.Pa=function(t){try{if(t==this.g)e:{const u=us(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||nE||this.g&&(this.h.h||this.g.ja()||zM(this.g)))){this.J||4!=u||7==e||Wf(),T1(this);var n=this.g.da();this.ca=n;t:if(EM(this)){var r=zM(this.g);t="";var i=r.length,s=4==us(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wa(this),Jf(this);var o="";break t}this.h.i=new Ge.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function iae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,br(12),Wa(this),Jf(this);break e}Vl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,DE(this,n)}this.S?(xM(this,u,o),nE&&this.i&&3==u&&(lM(this.U,this.V,"tick",this.mb),this.V.start())):(Vl(this.j,this.m,o,null),DE(this,o)),4==u&&Wa(this),this.i&&!this.J&&(4==u?YM(this.l,this):(this.i=!1,Xf(this)))}else(function Tae(t){const e={};t=(t.g&&2<=us(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(zf(t[r]))continue;var n=Zoe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function qoe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,br(12)):(this.o=0,br(13)),Wa(this),Jf(this)}}}catch{}},Ee.mb=function(){if(this.g){var t=us(this.g),e=this.g.ja();this.C<e.length&&(T1(this),xM(this,t,e),this.i&&4!=t&&Xf(this))}},Ee.cancel=function(){this.J=!0,Wa(this)},Ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function sae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Wf(),br(17)),Wa(this),this.o=2,Jf(this)):CM(this,this.Y-t)};var bM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ka){this.h=t.h,S1(this,t.j),this.s=t.s,this.g=t.g,R1(this,t.m),this.l=t.l;var e=t.i,n=new th;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wM(this,n),this.o=t.o}else t&&(e=String(t).match(bM))?(this.h=!1,S1(this,e[1]||"",!0),this.s=Zf(e[2]||""),this.g=Zf(e[3]||"",!0),R1(this,e[4]),this.l=Zf(e[5]||"",!0),wM(this,e[6]||"",!0),this.o=Zf(e[7]||"")):(this.h=!1,this.i=new th(null,this.h))}function Zs(t){return new Ka(t)}function S1(t,e,n){t.j=n?Zf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function R1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wM(t,e,n){e instanceof th?(t.i=e,function _ae(t,e){e&&!t.j&&(Bo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(DM(this,r),SM(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=eh(e,gae)),t.i=new th(e,t.h))}function Vt(t,e,n){t.i.set(e,n)}function P1(t){return Vt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function eh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,fae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ka.prototype.toString=function(){var t=[],e=this.j;e&&t.push(eh(e,AM,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(eh(e,AM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(eh(n,"/"==n.charAt(0)?pae:hae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",eh(n,mae)),t.join("")};var AM=/[#\/\?@]/g,hae=/[#\?:]/g,pae=/[#\?]/g,gae=/[#\?@]/g,mae=/#/g;function th(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Bo(t){t.g||(t.g=new Map,t.h=0,t.i&&function dae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function DM(t,e){Bo(t),e=Ll(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function TM(t,e){return Bo(t),e=Ll(t,e),t.g.has(e)}function SM(t,e,n){DM(t,e),0<n.length&&(t.i=null,t.g.set(Ll(t,e),eE(n)),t.h+=n.length)}function Ll(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function RM(t){this.l=t||yae,t=Ge.PerformanceNavigationTiming?0<(t=Ge.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ge.g&&Ge.g.Ka&&Ge.g.Ka()&&Ge.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=th.prototype).add=function(t,e){Bo(this),this.i=null,t=Ll(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ee.forEach=function(t,e){Bo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ee.ta=function(){Bo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},Ee.Z=function(t){Bo(this);let e=[];if("string"==typeof t)TM(this,t)&&(e=e.concat(this.g.get(Ll(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ee.set=function(t,e){return Bo(this),this.i=null,TM(this,t=Ll(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ee.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var yae=10;function PM(t){return!!t.h||!!t.g&&t.g.size>=t.j}function MM(t){return t.h?1:t.g?t.g.size:0}function TE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function SE(t,e){t.g?t.g.add(e):t.h=e}function kM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function NM(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return eE(t.i)}RM.prototype.cancel=function(){if(this.i=NM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Eae=class{stringify(t){return Ge.JSON.stringify(t,void 0)}parse(t){return Ge.JSON.parse(t,void 0)}};function xae(){this.g=new Eae}function Cae(t,e,n){const r=n||"";try{IM(t,function(i,s){let o=i;Hf(i)&&(o=_E(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function M1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function nh(t){this.l=t.ec||null,this.j=t.ob||!1}function k1(t,e){Nn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=RE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kn(nh,xE),nh.prototype.g=function(){return new k1(this.l,this.j)},nh.prototype.i=function(t){return function(){return t}}({}),kn(k1,Nn);var RE=0;function OM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function rh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ih(t)}function ih(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ee=k1.prototype).open=function(t,e){if(this.readyState!=RE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ih(this)},Ee.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rh(this)),this.readyState=RE},Ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ih(this)),this.g&&(this.readyState=3,ih(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?rh(this):ih(this),3==this.readyState&&OM(this)}},Ee.Za=function(t){this.g&&(this.response=this.responseText=t,rh(this))},Ee.Ya=function(t){this.g&&(this.response=t,rh(this))},Ee.ka=function(){this.g&&rh(this)},Ee.setRequestHeader=function(t,e){this.v.append(t,e)},Ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(k1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var bae=Ge.JSON.parse;function sn(t){Nn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=FM,this.L=this.M=!1}kn(sn,Nn);var FM="",wae=/^https?$/i,Aae=["POST","PUT"];function VM(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,LM(t),N1(t)}function LM(t){t.F||(t.F=!0,Kn(t,"complete"),Kn(t,"error"))}function BM(t){if(t.h&&typeof J3<"u"&&(!t.C[1]||4!=us(t)||2!=t.da()))if(t.v&&4==us(t))EE(t.La,0,t);else if(Kn(t,"readystatechange"),4==us(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(bM)[1]||null;!i&&Ge.self&&Ge.self.location&&(i=Ge.self.location.protocol.slice(0,-1)),r=!wae.test(i?i.toLowerCase():"")}n=r}if(n)Kn(t,"complete"),Kn(t,"success");else{t.m=6;try{var s=2<us(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",LM(t)}}finally{N1(t)}}}function N1(t,e){if(t.g){HM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Kn(t,"ready");try{n.onreadystatechange=r}catch{}}}function HM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ge.clearTimeout(t.A),t.A=null)}function us(t){return t.g?t.g.readyState:0}function zM(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case FM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function UM(t){let e="";return cE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function PE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=UM(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Vt(t,e,n))}function sh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jM(t){this.Ga=0,this.j=[],this.l=new I1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sh("baseRetryDelayMs",5e3,t),this.hb=sh("retryDelaySeedMs",1e4,t),this.eb=sh("forwardChannelMaxRetries",2,t),this.xa=sh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new RM(t&&t.concurrentRequestLimit),this.Ja=new xae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ME(t){if($M(t),3==t.H){var e=t.W++,n=Zs(t.I);if(Vt(n,"SID",t.K),Vt(n,"RID",e),Vt(n,"TYPE","terminate"),oh(t,n),(e=new Qf(t,t.l,e)).L=2,e.v=P1(Zs(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon)try{n=Ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ge.Image&&((new Image).src=e.v,n=!0),n||(e.g=ZM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xf(e)}XM(t)}function O1(t){t.g&&(NE(t),t.g.cancel(),t.g=null)}function $M(t){O1(t),t.u&&(Ge.clearTimeout(t.u),t.u=null),V1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ge.clearTimeout(t.m),t.m=null)}function F1(t){if(!PM(t.i)&&!t.m){t.m=!0;var e=t.Na;$f||oM(),Gf||($f(),Gf=!0),vE.add(e,t),t.C=0}}function GM(t,e){var n;n=e?e.m:t.W++;const r=Zs(t.I);Vt(r,"SID",t.K),Vt(r,"RID",n),Vt(r,"AID",t.V),oh(t,r),t.o&&t.s&&PE(r,t.o,t.s),n=new Qf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=qM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),SE(t.i,n),AE(n,r,e)}function oh(t,e){t.na&&cE(t.na,function(n,r){Vt(e,r,n)}),t.h&&IM({},function(n,r){Vt(e,r,n)})}function qM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?or(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Cae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function WM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;$f||oM(),Gf||($f(),Gf=!0),vE.add(e,t),t.A=0}}function kE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Kf(or(t.Ma,t),QM(t,t.A)),t.A++,0))}function NE(t){null!=t.B&&(Ge.clearTimeout(t.B),t.B=null)}function KM(t){t.g=new Qf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Zs(t.wa);Vt(e,"RID","rpc"),Vt(e,"SID",t.K),Vt(e,"AID",t.V),Vt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Vt(e,"TO",t.qa),Vt(e,"TYPE","xmlhttp"),oh(t,e),t.o&&t.s&&PE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=P1(Zs(e)),n.s=null,n.S=!0,yM(n,t)}function V1(t){null!=t.v&&(Ge.clearTimeout(t.v),t.v=null)}function YM(t,e){var n=null;if(t.g==e){V1(t),NE(t),t.g=null;var r=2}else{if(!TE(t.i,e))return;n=e.F,kM(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Kn(r=b1(),new pM(r,n)),F1(t)}else WM(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Sae(t,e){return!(MM(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Kf(or(t.Na,t,e),QM(t,t.C)),t.C++,0)))}(t,e)||2==r&&kE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ya(t,5);break;case 4:Ya(t,10);break;case 3:Ya(t,6);break;default:Ya(t,2)}}function QM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ya(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=or(t.pb,t);n||(n=new Ka("//www.google.com/images/cleardot.gif"),Ge.location&&"http"==Ge.location.protocol||S1(n,"https"),P1(n)),function Iae(t,e){const n=new I1;if(Ge.Image){const r=new Image;r.onload=_1(M1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_1(M1,n,r,"TestLoadImage: error",!1,e),r.onabort=_1(M1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_1(M1,n,r,"TestLoadImage: timeout",!1,e),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else br(2);t.H=0,t.h&&t.h.za(e),XM(t),$M(t)}function XM(t){if(t.H=0,t.ma=[],t.h){const e=NM(t.i);(0!=e.length||0!=t.j.length)&&(qP(t.ma,e),qP(t.ma,t.j),t.i.i.length=0,eE(t.j),t.j.length=0),t.h.ya()}}function JM(t,e,n){var r=n instanceof Ka?Zs(n):new Ka(n);if(""!=r.g)e&&(r.g=e+"."+r.g),R1(r,r.m);else{var i=Ge.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ka(null);r&&S1(s,r),e&&(s.g=e),i&&R1(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Vt(r,n,e),Vt(r,"VER",t.ra),oh(t,r),r}function ZM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sn(n&&t.Ha&&!t.va?new nh({ob:!0}):t.va)).Oa(t.J),e}function ek(){}function L1(){if(Fl&&!(10<=Number(Uoe)))throw Error("Environmental error: no available transport.")}function Jr(t,e){Nn.call(this),this.g=new jM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Bl(this)}function tk(t){CE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function nk(){IE.call(this),this.status=1}function Bl(t){this.g=t}function Vi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function OE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function xt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(Ee=sn.prototype).Oa=function(t){this.M=t},Ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bE.g(),this.C=function mM(t){return t.h||(t.h=t.i())}(this.u?this.u:bE),this.g.onreadystatechange=or(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void VM(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ge.FormData&&t instanceof Ge.FormData,!(0<=GP(Aae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{HM(this),0<this.B&&((this.L=function Dae(t){return Fl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.ua,this)):this.A=EE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){VM(this,s)}},Ee.ua=function(){typeof J3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kn(this,"timeout"),this.abort(8))},Ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kn(this,"complete"),Kn(this,"abort"),N1(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),N1(this,!0)),sn.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?BM(this):this.kb())},Ee.kb=function(){BM(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<us(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),bae(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=jM.prototype).ra=8,Ee.H=1,Ee.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Qf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=XP(s),ZP(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qM(this,i,e),Vt(n=Zs(this.I),"RID",t),Vt(n,"CVER",22),this.F&&Vt(n,"X-HTTP-Session-Id",this.F),oh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(UM(s)))+"&"+e:this.o&&PE(n,this.o,s)),SE(this.i,i),this.bb&&Vt(n,"TYPE","init"),this.P?(Vt(n,"$req",e),Vt(n,"SID","null"),i.aa=!0,AE(i,n,null)):AE(i,n,e),this.H=2}}else 3==this.H&&(t?GM(this,t):0==this.j.length||PM(this.i)||GM(this))},Ee.Ma=function(){if(this.u=null,KM(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Kf(or(this.jb,this),t)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,br(10),O1(this),KM(this))},Ee.ib=function(){null!=this.v&&(this.v=null,O1(this),kE(this),br(19))},Ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),br(2)):(this.l.info("Failed to ping google.com"),br(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=ek.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},L1.prototype.g=function(t,e){return new Jr(t,e)},kn(Jr,Nn),Jr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;br(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=JM(t,null,t.Y),F1(t)},Jr.prototype.close=function(){ME(this.g)},Jr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=_E(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&F1(e)},Jr.prototype.N=function(){this.g.h=null,delete this.j,ME(this.g),delete this.g,Jr.$.N.call(this)},kn(tk,CE),kn(nk,IE),kn(Bl,ek),Bl.prototype.Ba=function(){Kn(this.g,"a")},Bl.prototype.Aa=function(t){Kn(this.g,new tk(t))},Bl.prototype.za=function(t){Kn(this.g,new nk)},Bl.prototype.ya=function(){Kn(this.g,"b")},kn(Vi,function Rae(){this.blockSize=-1}),Vi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)OE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){OE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){OE(this,r),i=0;break}}this.h=i,this.i+=e},Vi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Pae={};function FE(t){return-128<=t&&128>t?function Boe(t,e){var n=Pae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new xt([0|e],0>e?-1:0)}):new xt([0|t],0>t?-1:0)}function ds(t){if(isNaN(t)||!isFinite(t))return Hl;if(0>t)return Yn(ds(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=VE;return new xt(e,0)}var VE=4294967296,Hl=FE(0),LE=FE(1),ik=FE(16777216);function eo(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function vi(t){return-1==t.h}function Yn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xt(n,~t.h).add(LE)}function B1(t,e){return t.add(Yn(e))}function H1(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ah(t,e){this.g=t,this.h=e}function z1(t,e){if(eo(e))throw Error("division by zero");if(eo(t))return new ah(Hl,Hl);if(vi(t))return e=z1(Yn(t),e),new ah(Yn(e.g),Yn(e.h));if(vi(e))return e=z1(t,Yn(e)),new ah(Yn(e.g),e.h);if(30<t.g.length){if(vi(t)||vi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=LE,r=e;0>=r.X(t);)n=sk(n),r=sk(r);var i=zl(n,1),s=zl(r,1);for(r=zl(r,2),n=zl(n,2);!eo(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=zl(r,1),n=zl(n,1)}return e=B1(t,i.R(e)),new ah(i,e)}for(i=Hl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ds(n)).R(e);vi(o)||0<o.X(t);)o=(s=ds(n-=r)).R(e);eo(s)&&(s=LE),i=i.add(s),t=B1(t,o)}return new ah(i,t)}function sk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xt(n,t.h)}function zl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new xt(i,t.h)}(Ee=xt.prototype).ea=function(){if(vi(this))return-Yn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:VE+r)*e,e*=VE}return t},Ee.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(eo(this))return"0";if(vi(this))return"-"+Yn(this).toString(t);for(var e=ds(Math.pow(t,6)),n=this,r="";;){var i=z1(n,e).g,s=((0<(n=B1(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(eo(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ee.X=function(t){return vi(t=B1(this,t))?-1:eo(t)?0:1},Ee.abs=function(){return vi(this)?Yn(this):this},Ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new xt(n,-2147483648&n[n.length-1]?-1:0)},Ee.R=function(t){if(eo(this)||eo(t))return Hl;if(vi(this))return vi(t)?Yn(this).R(Yn(t)):Yn(Yn(this).R(t));if(vi(t))return Yn(this.R(Yn(t)));if(0>this.X(ik)&&0>t.X(ik))return ds(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,H1(n,2*r+2*i),n[2*r+2*i+1]+=s*c,H1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,H1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,H1(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xt(n,0)},Ee.gb=function(t){return z1(this,t).h},Ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xt(n,this.h&t.h)},Ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xt(n,this.h|t.h)},Ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xt(n,this.h^t.h)},L1.prototype.createWebChannel=L1.prototype.g,Jr.prototype.send=Jr.prototype.u,Jr.prototype.open=Jr.prototype.m,Jr.prototype.close=Jr.prototype.close,w1.NO_ERROR=0,w1.TIMEOUT=8,w1.HTTP_ERROR=6,gM.COMPLETE="complete",_M.EventType=Yf,Yf.OPEN="a",Yf.CLOSE="b",Yf.ERROR="c",Yf.MESSAGE="d",Nn.prototype.listen=Nn.prototype.O,sn.prototype.listenOnce=sn.prototype.P,sn.prototype.getLastError=sn.prototype.Sa,sn.prototype.getLastErrorCode=sn.prototype.Ia,sn.prototype.getStatus=sn.prototype.da,sn.prototype.getResponseJson=sn.prototype.Wa,sn.prototype.getResponseText=sn.prototype.ja,sn.prototype.send=sn.prototype.ha,sn.prototype.setWithCredentials=sn.prototype.Oa,Vi.prototype.digest=Vi.prototype.l,Vi.prototype.reset=Vi.prototype.reset,Vi.prototype.update=Vi.prototype.j,xt.prototype.add=xt.prototype.add,xt.prototype.multiply=xt.prototype.R,xt.prototype.modulo=xt.prototype.gb,xt.prototype.compare=xt.prototype.X,xt.prototype.toNumber=xt.prototype.ea,xt.prototype.toString=xt.prototype.toString,xt.prototype.getBits=xt.prototype.D,xt.fromNumber=ds,xt.fromString=function rk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Yn(rk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ds(Math.pow(e,8)),r=Hl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ds(Math.pow(e,s)),r=r.R(s).add(ds(o))):r=(r=r.R(n)).add(ds(o))}return r};var Mae=Fi.createWebChannelTransport=function(){return new L1},kae=Fi.getStatEventTarget=function(){return b1()},BE=Fi.ErrorCode=w1,Nae=Fi.EventType=gM,Oae=Fi.Event=qa,ok=Fi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fae=Fi.FetchXmlHttpFactory=nh,U1=Fi.WebChannel=_M,Vae=Fi.XhrIo=sn,Lae=Fi.Md5=Vi,Ul=Fi.Integer=xt;const ak="@firebase/firestore";class On{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");let jl="10.5.2";const Ho=new Cf("@firebase/firestore");function $l(){return Ho.logLevel}function te(t,...e){if(Ho.logLevel<=ot.DEBUG){const n=e.map(HE);Ho.debug(`Firestore (${jl}): ${t}`,...n)}}function hn(t,...e){if(Ho.logLevel<=ot.ERROR){const n=e.map(HE);Ho.error(`Firestore (${jl}): ${t}`,...n)}}function Zr(t,...e){if(Ho.logLevel<=ot.WARN){const n=e.map(HE);Ho.warn(`Firestore (${jl}): ${t}`,...n)}}function HE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function we(t="Unexpected state"){const e=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: `+t;throw hn(e),new Error(e)}function Re(t,e){t||we()}function pe(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Sn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ck{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class Hae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zae{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(v(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re("string"==typeof r.accessToken),new ck(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Re(null===e||"string"==typeof e),new On(e)}}class Uae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Uae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $ae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re("string"==typeof n.token),this.R=n.token,new lk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class uk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Gae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Gl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Xt(0,0))}static max(){return new ke(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ch{constructor(e,n,r){void 0===n?n=0:n>e.length&&we(),void 0===r?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ch.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ch?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends ch{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const qae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends ch{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return qae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ne(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ne(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ne(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ne(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(lt.fromString(e))}static fromName(e){return new ge(lt.fromString(e).popFirst(5))}static empty(){return new ge(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new lt(e.slice()))}}function hk(t){return new ei(t.readTime,t.key,-1)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(ke.min(),ge.empty(),-1)}static max(){return new ei(ke.max(),ge.empty(),-1)}}function UE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ge.comparator(t.documentKey,e.documentKey),0!==n?n:Ue(t.largestBatchId,e.largestBatchId))}const pk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zo(t){return jE.apply(this,arguments)}function jE(){return jE=v(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==pk)throw t;te("LocalStore","Unexpectedly lost primary lease")}),jE.apply(this,arguments)}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Uo(t){return"IndexedDbTransactionError"===t.name}let ti=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function uh(t){return null==t}function dh(t){return 0===t&&1/t==-1/0}function Ik(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class kt{constructor(e,n){this.comparator=e,this.root=n||Qn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new G1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new G1(this.root,e,this.comparator,!1)}getReverseIterator(){return new G1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new G1(this.root,e,this.comparator,!0)}}class G1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qn.RED,this.left=i??Qn.EMPTY,this.right=s??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1,Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wk(this.data.getIterator())}getIteratorFrom(e){return new wk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class wk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hr{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Hr([])}unionWith(e){let n=new wt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Ak extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ak("Invalid base64 string: "+s):s}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const vce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $o(t){if(Re(!!t),"string"==typeof t){let e=0;const n=vce.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:on(t.seconds),nanos:on(t.nanos)}}function on(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function to(t){return"string"==typeof t?Rn.fromBase64String(t):Rn.fromUint8Array(t)}function q1(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function W1(t){const e=t.mapValue.fields.__previous_value__;return q1(e)?W1(e):e}function fh(t){const e=$o(t.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}class yce{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Za{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Za("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}const Go={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q1(t)?4:Rk(t)?9007199254740991:10:we()}function hs(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fh(t).isEqual(fh(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$o(i.timestampValue),a=$o(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,to(t.bytesValue).isEqual(to(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return on(i.geoPointValue.latitude)===on(s.geoPointValue.latitude)&&on(i.geoPointValue.longitude)===on(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return on(i.integerValue)===on(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=on(i.doubleValue),a=on(s.doubleValue);return o===a?dh(o)===dh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Gl(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Ik(o)!==Ik(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!hs(o[c],a[c])))return!1;return!0}(t,e);default:return we()}var s}function hh(t,e){return void 0!==(t.values||[]).find(n=>hs(n,e))}function Wo(t,e){if(t===e)return 0;const n=qo(t),r=qo(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=on(s.integerValue||s.doubleValue),c=on(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Dk(t.timestampValue,e.timestampValue);case 4:return Dk(fh(t),fh(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=to(s),c=to(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Ue(a[l],c[l]);if(0!==u)return u}return Ue(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ue(on(s.latitude),on(o.latitude));return 0!==a?a:Ue(on(s.longitude),on(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=Wo(a[l],c[l]);if(u)return u}return Ue(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Go.mapValue&&o===Go.mapValue)return 0;if(s===Go.mapValue)return 1;if(o===Go.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=Ue(c[d],u[d]);if(0!==f)return f;const h=Wo(a[c[d]],l[u[d]]);if(0!==h)return h}return Ue(c.length,u.length)}(t.mapValue,e.mapValue);default:throw we()}}function Dk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ue(t,e);const n=$o(t),r=$o(e),i=Ue(n.seconds,r.seconds);return 0!==i?i:Ue(n.nanos,r.nanos)}function Yl(t){return qE(t)}function qE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$o(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?to(t.bytesValue).toBase64():"referenceValue"in t?ge.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${qE(n.fields[o])}`;return i+"}"}(t.mapValue):we()}function ec(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function WE(t){return!!t&&"integerValue"in t}function ph(t){return!!t&&"arrayValue"in t}function Tk(t){return!!t&&"nullValue"in t}function Sk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Q1(t){return!!t&&"mapValue"in t}function gh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Rk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Q1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gh(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Q1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Q1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xn(gh(this.value))}}function kk(t){const e=[];return jo(t.fields,(n,r)=>{const i=new qt([n]);if(Q1(r)){const s=kk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Hr(e)}class Lt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Lt(e,0,ke.min(),ke.min(),ke.min(),Xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Lt(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new Lt(e,2,n,ke.min(),ke.min(),Xn.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,ke.min(),ke.min(),Xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ko{constructor(e,n){this.position=e,this.inclusive=n}}function Nk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ge.comparator(ge.fromName(o.referenceValue),n.key):Wo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ok(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}class mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Fk{}class rt extends Fk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Ice(e,n,r):"array-contains"===n?new Ace(e,r):"in"===n?new Uk(e,r):"not-in"===n?new Dce(e,r):"array-contains-any"===n?new Tce(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new bce(e,r):new wce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Wo(n,this.value)):null!==n&&qo(this.value)===qo(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ct extends Fk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ct(e,n)}matches(e){return Ql(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ql(t){return"and"===t.op}function YE(t){return function Vk(t){for(const e of t.filters)if(e instanceof Ct)return!1;return!0}(t)&&Ql(t)}function QE(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Yl(t.value);if(YE(t))return t.filters.map(e=>QE(e)).join(",");{const e=t.filters.map(n=>QE(n)).join(",");return`${t.op}(${e})`}}function Lk(t,e){return t instanceof rt?(r=t,(i=e)instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&hs(r.value,i.value)):t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&Lk(o,i.filters[a]),!0)}(t,e):void we();var r,i}function Hk(t){return t instanceof rt?`${(n=t).field.canonicalString()} ${n.op} ${Yl(n.value)}`:t instanceof Ct?function(n){return n.op.toString()+" {"+n.getFilters().map(Hk).join(" ,")+"}"}(t):"Filter";var n}class Ice extends rt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class bce extends rt{constructor(e,n){super(e,"in",n),this.keys=zk(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wce extends rt{constructor(e,n){super(e,"not-in",n),this.keys=zk(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zk(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class Ace extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ph(n)&&hh(n.arrayValue,this.value)}}class Uk extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&hh(this.value.arrayValue,n)}}class Dce extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!hh(this.value.arrayValue,n)}}class Tce extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ph(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hh(this.value.arrayValue,r))}}class Sce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function XE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Sce(t,e,n,r,i,s,o)}function tc(t){const e=pe(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>QE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yl(r)).join(",")),e.ce=n}return e.ce}function _h(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Lk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ok(t.startAt,e.startAt)&&Ok(t.endAt,e.endAt)}function X1(t){return ge.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class no{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function Xl(t){return new no(t)}function qk(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function JE(t){return null!==t.collectionGroup}function Jl(t){const e=pe(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wt(qt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new mh(s,r))}),n.has(qt.keyField().canonicalString())||e.le.push(new mh(qt.keyField(),r))}return e.le}function wr(t){const e=pe(t);return e.he||(e.he=function Wk(t,e){if("F"===t.limitType)return XE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new mh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Ko(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ko(t.startAt.position,t.startAt.inclusive):null;return XE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Jl(t))),e.he}function ZE(t,e){const n=t.filters.concat([e]);return new no(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Z1(t,e,n){return new no(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return _h(wr(t),wr(e))&&t.limitType===e.limitType}function Kk(t){return`${tc(wr(t))}|lt:${t.limitType}`}function Zl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Hk(i)).join(", ")}]`),uh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yl(i)).join(",")),`Target(${r})`}(wr(t))}; limitType=${t.limitType})`}function yh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Jl(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=Nk(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,Jl(r),i)||r.endAt&&!function(o,a,c){const l=Nk(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,Jl(r),i)));var r,i}function Qk(t){return(e,n)=>{let r=!1;for(const i of Jl(t)){const s=Rce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Rce(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?Wo(c,l):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bk(this.inner)}size(){return this.innerSize}}const Pce=new kt(ge.comparator);function zr(){return Pce}const Xk=new kt(ge.comparator);function Eh(...t){let e=Xk;for(const n of t)e=e.insert(n.key,n);return e}function Jk(t){let e=Xk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ps(){return xh()}function Zk(){return xh()}function xh(){return new ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const Mce=new kt(ge.comparator),kce=new wt(ge.comparator);function Qe(...t){let e=kce;for(const n of t)e=e.add(n);return e}const Nce=new wt(Ue);function eN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function tN(t){return{integerValue:""+t}}function nN(t,e){return function mk(t){return"number"==typeof t&&Number.isInteger(t)&&!dh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?tN(e):eN(t,e)}class em{constructor(){this._=void 0}}function Oce(t,e,n){return t instanceof eu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&q1(s)&&(s=W1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof nc?iN(t,e):t instanceof rc?sN(t,e):function(i,s){const o=rN(i,s),a=oN(o)+oN(i.Ie);return WE(o)&&WE(i.Ie)?tN(a):eN(i.serializer,a)}(t,e)}function Fce(t,e,n){return t instanceof nc?iN(t,e):t instanceof rc?sN(t,e):n}function rN(t,e){return t instanceof tu?WE(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class eu extends em{}class nc extends em{constructor(e){super(),this.elements=e}}function iN(t,e){const n=aN(e);for(const r of t.elements)n.some(i=>hs(i,r))||n.push(r);return{arrayValue:{values:n}}}class rc extends em{constructor(e){super(),this.elements=e}}function sN(t,e){let n=aN(e);for(const r of t.elements)n=n.filter(i=>!hs(i,r));return{arrayValue:{values:n}}}class tu extends em{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function oN(t){return on(t.integerValue||t.doubleValue)}function aN(t){return ph(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Lce{constructor(e,n){this.version=e,this.transformResults=n}}class Wt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wt}static exists(e){return new Wt(void 0,e)}static updateTime(e){return new Wt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class nm{}function cN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ru(t.key,Wt.none()):new nu(t.key,t.data,Wt.none());{const n=t.data,r=Xn.empty();let i=new wt(qt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new io(t.key,r,new Hr(i.toArray()),Wt.none())}}function Bce(t,e,n){t instanceof nu?function(i,s,o){const a=i.value.clone(),c=dN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof io?function(i,s,o){if(!tm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=dN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(uN(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ih(t,e,n,r){return t instanceof nu?function(s,o,a,c){if(!tm(s.precondition,o))return a;const l=s.value.clone(),u=fN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof io?function(s,o,a,c){if(!tm(s.precondition,o))return a;const l=fN(s.fieldTransforms,c,o),u=o.data;return u.setAll(uN(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,tm(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Hce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rN(r.transform,i||null);null!=s&&(null===n&&(n=Xn.empty()),n.set(r.field,s))}return n||null}function lN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Gl(r,i,(s,o)=>function Vce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof nc&&i instanceof nc||r instanceof rc&&i instanceof rc?Gl(r.elements,i.elements,hs):r instanceof tu&&i instanceof tu?hs(r.Ie,i.Ie):r instanceof eu&&i instanceof eu);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class nu extends nm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class io extends nm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dN(t,e,n){const r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Fce(o,a,n[i]))}return r}function fN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Oce(s,o,e))}return r}class ru extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t8 extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class n8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Bce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ih(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ih(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Zk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=cN(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Gl(this.mutations,e.mutations,(n,r)=>lN(n,r))&&Gl(this.baseMutations,e.baseMutations,(n,r)=>lN(n,r))}}class r8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=Mce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new r8(e,n,r,i)}}class i8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uce{constructor(e,n){this.count=e,this.unchangedNames=n}}var xn,ut;function pN(t){if(void 0===t)return hn("GRPC error has no .code"),B.UNKNOWN;switch(t){case xn.OK:return B.OK;case xn.CANCELLED:return B.CANCELLED;case xn.UNKNOWN:return B.UNKNOWN;case xn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case xn.INTERNAL:return B.INTERNAL;case xn.UNAVAILABLE:return B.UNAVAILABLE;case xn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case xn.NOT_FOUND:return B.NOT_FOUND;case xn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case xn.ABORTED:return B.ABORTED;case xn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case xn.DATA_LOSS:return B.DATA_LOSS;default:return we()}}(ut=xn||(xn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";const jce=new Ul([4294967295,4294967295],0);function mN(t){const e=function gN(){return new TextEncoder}().encode(t),n=new Lae;return n.update(e),new Uint8Array(n.digest())}function _N(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ul([n,r],0),new Ul([i,s],0)]}class s8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bh(`Invalid padding: ${n}`);if(r<0)throw new bh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new bh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new bh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ul.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ul.fromNumber(r)));return 1===i.compare(jce)&&(i=new Ul([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=mN(e),[r,i]=_N(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new s8(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=mN(e),[r,i]=_N(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ah.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wh(ke.min(),i,new kt(Ue),zr(),Qe())}}class Ah{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ah(r,n,Qe(),Qe(),Qe())}}class im{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class vN{constructor(e,n){this.targetId=e,this.fe=n}}class yN{constructor(e,n,r=Rn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class EN{constructor(){this.ge=0,this.pe=CN(),this.ye=Rn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:we()}}),new Ah(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=CN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class $ce{constructor(e){this.Le=e,this.ke=new Map,this.qe=zr(),this.Qe=xN(),this.Ke=new kt(Ue)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(X1(s))if(0===r){const o=new ge(s.path);this.We(n,o,Lt.newNoDocument(o,ke.min()))}else Re(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=to(r).toUint8Array()}catch(c){if(c instanceof Ak)return Zr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new s8(o,i,s)}catch(c){return Zr(c instanceof bh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&X1(a.target)){const c=new ge(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,Lt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Qe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new wh(e,n,this.Ke,this.qe,r);return this.qe=zr(),this.Qe=xN(),this.Ke=new kt(Ue),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new EN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new wt(Ue),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new EN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function xN(){return new kt(ge.comparator)}function CN(){return new kt(ge.comparator)}const Gce={asc:"ASCENDING",desc:"DESCENDING"},qce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wce={and:"AND",or:"OR"};class Kce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function o8(t,e){return t.useProto3Json||uh(e)?e:{value:e}}function iu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yce(t,e){return iu(t,e.toTimestamp())}function pn(t){return Re(!!t),ke.fromTimestamp(function(n){const r=$o(n);return new Xt(r.seconds,r.nanos)}(t))}function a8(t,e){return(r=t,new lt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function bN(t){const e=lt.fromString(t);return Re(kN(e)),e}function Dh(t,e){return a8(t.databaseId,e.path)}function gs(t,e){const n=bN(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(AN(n))}function c8(t,e){return a8(t.databaseId,e)}function Th(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AN(t){return Re(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function DN(t,e,n){return{name:Dh(t,e),fields:n.value.mapValue.fields}}function SN(t,e){return{documents:[c8(t,e.path)]}}function u8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=c8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=c8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return MN(Ct.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Yo((d=l).field),direction:ele(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=o8(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function RN(t){let e=function wN(t){const e=bN(t);return 4===e.length?lt.emptyPath():AN(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=PN(d);return f instanceof Ct&&YE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>{return new mh(su((p=f).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,uh(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new Ko((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new Ko(d.values||[],!d.before)}(n.endAt)),function Gk(t,e,n,r,i,s,o,a){return new no(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function PN(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=su(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=su(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=su(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=su(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):void 0!==t.fieldFilter?rt.create(su((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Ct.create(n.compositeFilter.filters.map(r=>PN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we();var n}function ele(t){return Gce[t]}function tle(t){return qce[t]}function nle(t){return Wce[t]}function Yo(t){return{fieldPath:t.canonicalString()}}function su(t){return qt.fromServerFormat(t.fieldPath)}function MN(t){return t instanceof rt?function(n){if("=="===n.op){if(Sk(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(Tk(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Sk(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(Tk(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:tle(n.op),value:n.value}}}(t):t instanceof Ct?function(n){const r=n.getFilters().map(i=>MN(i));return 1===r.length?r[0]:{compositeFilter:{op:nle(n.op),filters:r}}}(t):we()}function rle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kN(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class so{constructor(e,n,r,i,s=ke.min(),o=ke.min(),a=Rn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new so(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NN{constructor(e){this.ut=e}}function d8(t){const e=RN({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Z1(e,e.limit,"L"):e}class ac{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(on(e.integerValue));else if("doubleValue"in e){const r=on(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),dh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(to(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?Rk(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):we()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ge.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}ac.St=new ac;class dle{constructor(){this.on=new _8}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(ei.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class _8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wt(lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(lt.comparator)).toArray()}}new Uint8Array(0);class lr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(41943040,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);class lc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new lc(0)}static Nn(){return new lc(-1)}}class _le{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ele{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class aO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Ih(r.mutation,i,Hr.empty(),Xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=ps();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Eh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=zr();const o=xh(),a=xh();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof io)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),Ih(u.mutation,l,u.mutation.getFieldMask(),Xt.now())):o.set(l.key,Hr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Ele(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xh();let i=new kt((o,a)=>o-a),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||Hr.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Qe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=Zk();u.forEach(f=>{if(!s.has(f)){const h=cN(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ge.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):JE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(ps());let a=-1,c=s;return o.next(l=>M.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Qe())).next(u=>({batchId:a,changes:Jk(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=Eh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Eh();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,c=>{const l=(d=n,f=c.child(s),new no(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,Lt.newInvalidDocument(u)))});let a=Eh();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&Ih(u.mutation,l,Hr.empty(),Xt.now()),yh(n,l)&&(a=a.insert(c,l))}),a})}}class xle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:pn(i.createTime)}),M.resolve();var i}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:d8(i.bundledQuery),readTime:pn(i.readTime)}),M.resolve();var i}}class Cle{constructor(){this.overlays=new kt(ge.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ps();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=ps(),s=n.length+1,o=new ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new kt((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=ps(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=ps(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return M.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new i8(n,r));let s=this.lr.get(n);void 0===s&&(s=Qe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class v8{constructor(){this.hr=new wt(Vn.Pr),this.Ir=new wt(Vn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Vn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Vn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ge(new lt([])),r=new Vn(n,e),i=new Vn(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ge(new lt([])),r=new Vn(n,e),i=new Vn(n,e+1);let s=Qe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Vn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Vn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ge.comparator(e.key,n.key)||Ue(e.gr,n.gr)}static Tr(e,n){return Ue(e.gr,n.gr)||ge.comparator(e.key,n.key)}}class Ile{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new wt(Vn.Pr)}checkEmpty(e){return M.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new n8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Vn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vn(n,0),i=new Vn(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(Ue);return n.forEach(i=>{const s=new Vn(i,0),o=new Vn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ge.isDocumentKey(s)||(s=s.child(""));const o=new Vn(new ge(s),0);let a=new wt(Ue);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),M.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Re(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,i=>{const s=new Vn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Vn(n,0),i=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ble{constructor(e){this.Cr=e,this.docs=new kt(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let r=zr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Lt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=zr();const o=n.path,a=new ge(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||UE(hk(u),r)<=0||(i.has(u.key)||yh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){we()}vr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wle(this)}getSize(e){return M.resolve(this.size)}}class wle extends _le{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Ale{constructor(e){this.persistence=e,this.Fr=new ro(n=>tc(n),_h),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new v8,this.targetCount=0,this.Nr=lc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new lc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}}class y8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ti(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ale(this),this.indexManager=new dle,this.remoteDocumentCache=new ble(r=>this.referenceDelegate.Qr(r)),this.serializer=new NN(n),this.Kr=new xle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Ile(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new Dle(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Dle extends Yae{constructor(e){super(),this.currentSequenceNumber=e}}class fm{constructor(e){this.persistence=e,this.Gr=new v8,this.zr=null}static jr(e){return new fm(e)}get Hr(){if(this.zr)return this.zr;throw we()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const i=ge.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class I8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new I8(e,n.fromCache,r,i)}}class Sle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Sle;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?($l()<=ot.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):($l()<=ot.DEBUG&&te("QueryEngine","Query:",Zl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?($l()<=ot.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):M.resolve())}zi(e,n){if(qk(n))return M.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Z1(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Qe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,Z1(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return qk(n)||i.isEqual(ke.min())?M.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?M.resolve(null):($l()<=ot.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zl(n)),this.Xi(e,o,n,function fk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(1e9===r?new Xt(n+1,0):new Xt(n,r));return new ei(i,ge.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new wt(Qk(e));return n.forEach((i,s)=>{yh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return $l()<=ot.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Zl(n)),this.Gi.getDocumentsMatchingQuery(e,n,ei.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Rle{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new kt(Ue),this.ns=new ro(s=>tc(s),_h),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function dO(t,e){return b8.apply(this,arguments)}function b8(){return b8=v(function*(t,e){const n=pe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Qe();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),b8.apply(this,arguments)}function fO(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function kle(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function du(t,e,n){return w8.apply(this,arguments)}function w8(){return w8=v(function*(t,e,n){const r=pe(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Uo(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),w8.apply(this,arguments)}function gm(t,e,n){const r=pe(t);let i=ke.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=pe(c),f=d.ns.get(u);return void 0!==f?M.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,o,wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:Qe())).next(a=>(function mO(t,e,n){let r=t.rs.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function Yk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class R8{constructor(){this.activeTargetIds=function e8(){return Nce}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yO{constructor(){this.eo=new R8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new R8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fle{ro(e){}shutdown(){}}class EO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vm=null;function M8(){return null===vm?vm=268435456+Math.round(2147483648*Math.random()):vm++,"0x"+vm.toString(16)}const Vle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lle{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const ur="WebChannelConnection";class Ble extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=M8(),c=this.So(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(te("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Zr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+jl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${Vle[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=M8();return new Promise((o,a)=>{const c=new Vae;c.setWithCredentials(!0),c.listenOnce(Nae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case BE.NO_ERROR:const u=c.getResponseJson();te(ur,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case BE.TIMEOUT:te(ur,`RPC '${e}' ${s} timed out`),a(new ne(B.DEADLINE_EXCEEDED,"Request time out"));break;case BE.HTTP_ERROR:const d=c.getStatus();if(te(ur,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(S)>=0?S:B.UNKNOWN}(h.status);a(new ne(p,h.message))}else a(new ne(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ne(B.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{te(ur,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);te(ur,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=M8(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Mae(),a=kae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Fae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");te(ur,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let f=!1,h=!1;const p=new Lle({co:E=>{h?te(ur,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(te(ur,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),te(ur,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},lo:()=>d.close()}),g=(E,S,I)=>{E.listen(S,H=>{try{I(H)}catch(G){setTimeout(()=>{throw G},0)}})};return g(d,U1.EventType.OPEN,()=>{h||te(ur,`RPC '${e}' stream ${i} transport opened.`)}),g(d,U1.EventType.CLOSE,()=>{h||(h=!0,te(ur,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,U1.EventType.ERROR,E=>{h||(h=!0,Zr(ur,`RPC '${e}' stream ${i} transport errored:`,E),p.Ro(new ne(B.UNAVAILABLE,"The operation could not be completed")))}),g(d,U1.EventType.MESSAGE,E=>{var S;if(!h){const I=E.data[0];Re(!!I);const G=I.error||(null===(S=I[0])||void 0===S?void 0:S.error);if(G){te(ur,`RPC '${e}' stream ${i} received error:`,G);const ue=G.status;let Te=function(Jt){const Ci=xn[Jt];if(void 0!==Ci)return pN(Ci)}(ue),Fe=G.message;void 0===Te&&(Te=B.INTERNAL,Fe="Unknown error status: "+ue+" with message "+G.message),h=!0,p.Ro(new ne(Te,Fe)),d.close()}else te(ur,`RPC '${e}' stream ${i} received:`,I),p.Vo(I)}}),g(a,Oae.STAT_EVENT,E=>{E.stat===ok.PROXY?te(ur,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===ok.NOPROXY&&te(ur,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function ym(){return typeof document<"u"?document:null}function Vh(t){return new Kce(t,!0)}class k8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class CO{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new k8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return v(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return v(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return v(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(hn(n.toString()),hn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new ne(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(v(function*(){e.state=0,e.start()}))}o_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hle extends CO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Xce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:we(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Re(void 0===u||"string"==typeof u),Rn.fromBase64String(u||"")):(Re(void 0===u||u instanceof Uint8Array),Rn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?B.UNKNOWN:pN(l.code);return new ne(u,l.message||"")}(o);n=new yN(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=gs(t,r.document.name),s=pn(r.document.updateTime),o=r.document.createTime?pn(r.document.createTime):ke.min(),a=new Xn({mapValue:{fields:r.document.fields}}),c=Lt.newFoundDocument(i,s,o,a);n=new im(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=gs(t,r.document),s=r.readTime?pn(r.readTime):ke.min(),o=Lt.newNoDocument(i,s);n=new im([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=gs(t,r.document);n=new im([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return we();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Uce(i,s);n=new vN(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?pn(o.readTime):ke.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Th(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=X1(c)?{documents:SN(s,c)}:{query:u8(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IN(s,o.resumeToken);const l=o8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=iu(s,o.snapshotVersion.toTimestamp());const l=o8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function Zce(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Th(this.serializer),n.removeTarget=e,this.e_(n)}}class zle extends CO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Jce(t,e){return t&&t.length>0?(Re(void 0!==e),t.map(n=>function(i,s){let o=pn(i.updateTime?i.updateTime:s);return o.isEqual(ke.min())&&(o=pn(s)),new Lce(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=pn(e.commitTime);return this.listener.I_(r,n)}return Re(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Th(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Sh(t,e){let n;if(e instanceof nu)n={update:DN(t,e.key,e.value)};else if(e instanceof ru)n={delete:Dh(t,e.key)};else if(e instanceof io)n={update:DN(t,e.key,e.data),updateMask:rle(e.fieldMask)};else{if(!(e instanceof t8))return we();n={verify:Dh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof eu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof nc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof rc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Yce(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:we()),n;var s}(this.serializer,r))};this.e_(n)}}class Ule extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(B.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class $le{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(hn(n),this.f_=!1):te("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Gle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(v(function*(){var c;Zo(o)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(c=v(function*(u){const d=pe(u);d.C_.add(4),yield fu(d),d.M_.set("Unknown"),d.C_.delete(4),yield Lh(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new $le(r,i)}}function Lh(t){return O8.apply(this,arguments)}function O8(){return O8=v(function*(t){if(Zo(t))for(const e of t.v_)yield e(!0)}),O8.apply(this,arguments)}function fu(t){return F8.apply(this,arguments)}function F8(){return F8=v(function*(t){for(const e of t.v_)yield e(!1)}),F8.apply(this,arguments)}function Em(t,e){const n=pe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),B8(n)?L8(n):pu(n).Ho()&&V8(n,e))}function Bh(t,e){const n=pe(t),r=pu(n);n.D_.delete(e),r.Ho()&&IO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Zo(n)&&n.M_.set("Unknown"))}function V8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pu(t).u_(e)}function IO(t,e){t.x_.Oe(e),pu(t).c_(e)}function L8(t){t.x_=new $ce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),pu(t).start(),t.M_.g_()}function B8(t){return Zo(t)&&!pu(t).jo()&&t.D_.size>0}function Zo(t){return 0===pe(t).C_.size}function bO(t){t.x_=void 0}function qle(t){return H8.apply(this,arguments)}function H8(){return H8=v(function*(t){t.D_.forEach((e,n)=>{V8(t,e)})}),H8.apply(this,arguments)}function Wle(t,e){return z8.apply(this,arguments)}function z8(){return z8=v(function*(t,e){bO(t),B8(t)?(t.M_.w_(e),L8(t)):t.M_.set("Unknown")}),z8.apply(this,arguments)}function Kle(t,e,n){return U8.apply(this,arguments)}function U8(){return U8=v(function*(t,e,n){if(t.M_.set("Online"),e instanceof yN&&2===e.state&&e.cause)try{yield(r=v(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xm(t,r)}else if(e instanceof im?t.x_.$e(e):e instanceof vN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ke.min()))try{const r=yield fO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(Rn.EMPTY_BYTE_STRING,u.snapshotVersion)),IO(s,c);const d=new so(u.target,c,l,u.sequenceNumber);V8(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){te("RemoteStore","Failed to raise snapshot:",r),yield xm(t,r)}var r}),U8.apply(this,arguments)}function xm(t,e,n){return j8.apply(this,arguments)}function j8(){return j8=v(function*(t,e,n){if(!Uo(e))throw e;t.C_.add(1),yield fu(t),t.M_.set("Offline"),n||(n=()=>fO(t.localStore)),t.asyncQueue.enqueueRetryable(v(function*(){te("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Lh(t)}))}),j8.apply(this,arguments)}function wO(t,e){return e().catch(n=>xm(t,n,e))}function hu(t){return $8.apply(this,arguments)}function $8(){return $8=v(function*(t){const e=pe(t),n=ea(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Yle(e);)try{const i=yield kle(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Qle(e,i)}catch(i){yield xm(e,i)}AO(e)&&DO(e)}),$8.apply(this,arguments)}function Yle(t){return Zo(t)&&t.b_.length<10}function Qle(t,e){t.b_.push(e);const n=ea(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function AO(t){return Zo(t)&&!ea(t).jo()&&t.b_.length>0}function DO(t){ea(t).start()}function Xle(t){return G8.apply(this,arguments)}function G8(){return G8=v(function*(t){ea(t).E_()}),G8.apply(this,arguments)}function Jle(t){return q8.apply(this,arguments)}function q8(){return q8=v(function*(t){const e=ea(t);for(const n of t.b_)e.P_(n.mutations)}),q8.apply(this,arguments)}function Zle(t,e,n){return W8.apply(this,arguments)}function W8(){return W8=v(function*(t,e,n){const r=t.b_.shift(),i=r8.from(r,e,n);yield wO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hu(t)}),W8.apply(this,arguments)}function eue(t,e){return K8.apply(this,arguments)}function K8(){return K8=v(function*(t,e){var n;e&&ea(t).h_&&(yield(n=v(function*(i,s){if(function hN(t){switch(t){default:return we();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}(a=s.code)&&a!==B.ABORTED){const o=i.b_.shift();ea(i).Yo(),yield wO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield hu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),AO(t)&&DO(t)}),K8.apply(this,arguments)}function TO(t,e){return Y8.apply(this,arguments)}function Y8(){return Y8=v(function*(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Zo(n);n.C_.add(3),yield fu(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Lh(n)}),Y8.apply(this,arguments)}function X8(){return X8=v(function*(t,e){const n=pe(t);e?(n.C_.delete(2),yield Lh(n)):e||(n.C_.add(2),yield fu(n),n.M_.set("Unknown"))}),X8.apply(this,arguments)}function pu(t){return t.O_||(t.O_=function(n,r,i){const s=pe(n);return s.A_(),new Hle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:qle.bind(null,t),Io:Wle.bind(null,t),a_:Kle.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.O_.Yo(),B8(t)?L8(t):t.M_.set("Unknown")):(yield t.O_.stop(),bO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function ea(t){return t.N_||(t.N_=function(n,r,i){const s=pe(n);return s.A_(),new zle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Xle.bind(null,t),Io:eue.bind(null,t),T_:Jle.bind(null,t),I_:Zle.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.N_.Yo(),yield hu(t)):(yield t.N_.stop(),t.b_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class J8{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new J8(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ne(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gu(t,e){if(hn("AsyncQueue",`${e}: ${t}`),Uo(t))return new ne(B.UNAVAILABLE,`${e}: ${t}`);throw t}class mu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Eh(),this.sortedSet=new kt(this.comparator)}static emptySet(e){return new mu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new mu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class SO{constructor(){this.B_=new kt(ge.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):we():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _u{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _u(e,n,mu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class tue{constructor(){this.k_=void 0,this.listeners=[]}}class nue{constructor(){this.queries=new ro(e=>Kk(e),vh),this.onlineState="Unknown",this.q_=new Set}}function ex(){return ex=v(function*(t,e){const n=pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new tue),i)try{s.k_=yield n.onListen(r)}catch(o){const a=gu(o,`Initialization of query '${Zl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&rx(n)}),ex.apply(this,arguments)}function nx(){return nx=v(function*(t,e){const n=pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),nx.apply(this,arguments)}function rue(t,e){const n=pe(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&rx(n)}function iue(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function rx(t){t.q_.forEach(e=>{e.next()})}class ix{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new _u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=_u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class MO{constructor(e){this.key=e}}class kO{constructor(e){this.key=e}}class NO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Qe(),this.mutatedKeys=Qe(),this._a=Qk(e),this.aa=new mu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new SO,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=yh(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let E=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),E=!0):this.ha(f,h)||(r.track({type:2,doc:h}),E=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),E=!0):f&&!h&&(r.track({type:1,doc:f}),E=!0,(c||l)&&(a=!0)),E&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new _u(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new SO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Qe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new kO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new MO(r))}),n}da(e){this.ia=e.ls,this.oa=Qe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return _u.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class aue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cue{constructor(e){this.key=e,this.Ra=!1}}class lue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ro(a=>Kk(a),vh),this.fa=new Map,this.ga=new Set,this.pa=new kt(ge.comparator),this.ya=new Map,this.wa=new v8,this.Sa={},this.ba=new Map,this.Da=lc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function uue(t,e){return sx.apply(this,arguments)}function sx(){return sx=v(function*(t,e){const n=function Tx(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hue.bind(null,e),e.Va.a_=rue.bind(null,e.eventManager),e.Va.Fa=iue.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function uu(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new so(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,wr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function ox(t,e,n,r,i){return ax.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Em(n.remoteStore,o)}return i}),sx.apply(this,arguments)}function ax(){return ax=v(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=v(function*(E,S,I,H){let G=S.view.ca(I);G.Zi&&(G=yield gm(E.localStore,S.query,!1).then(({documents:Fe})=>S.view.ca(Fe,G)));const ue=H&&H.targetChanges.get(S.targetId),Te=S.view.applyChanges(G,E.isPrimaryClient,ue);return _x(E,S.targetId,Te.Ta),Te.snapshot}),function g(E,S,I,H){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield gm(t.localStore,e,!0),o=new NO(e,s.ls),a=o.ca(s.documents),c=Ah.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);_x(t,n,l.Ta);const u=new aue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),ax.apply(this,arguments)}function due(t,e){return cx.apply(this,arguments)}function cx(){return cx=v(function*(t,e){const n=pe(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!vh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield du(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Bh(n.remoteStore,r.targetId),vu(n,r.targetId)}).catch(zo))):(vu(n,r.targetId),yield du(n.localStore,r.targetId,!0))}),cx.apply(this,arguments)}function lx(){return lx=v(function*(t,e,n){const r=function Sx(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gue.bind(null,e),e}(t);try{const i=yield function(o,a){const c=pe(o),l=Xt.now(),u=a.reduce((h,p)=>h.add(p.key),Qe());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=zr(),g=Qe();return c.ss.getEntries(h,u).next(E=>{p=E,p.forEach((S,I)=>{I.isValidDocument()||(g=g.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(E=>{d=E;const S=[];for(const I of a){const H=Hce(I,d.get(I.key).overlayedDocument);null!=H&&S.push(new io(I.key,H,kk(H.value.mapValue),Wt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,S,a)}).next(E=>{f=E;const S=E.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,E.batchId,S)})}).then(()=>({batchId:f.batchId,changes:Jk(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new kt(Ue)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield oo(r,i.changes),yield hu(r.remoteStore)}catch(i){const s=gu(i,"Failed to persist write");n.reject(s)}}),lx.apply(this,arguments)}function OO(t,e){return ux.apply(this,arguments)}function ux(){return ux=v(function*(t,e){const n=pe(t);try{const r=yield function Mle(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var g,E,S;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Rn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),E=h,S=u,(0===(g=f).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,h))});let c=zr(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function hO(t,e,n){let r=Qe(),i=Qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=zr();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(ke.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Re(o.Ra):i.removedDocuments.size>0&&(Re(o.Ra),o.Ra=!1))}),yield oo(n,r,e)}catch(r){yield zo(r)}}),ux.apply(this,arguments)}function FO(t,e,n){const r=pe(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=pe(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&rx(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hue(t,e,n){return dx.apply(this,arguments)}function dx(){return dx=v(function*(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new kt(ge.comparator);o=o.insert(s,Lt.newNoDocument(s,ke.min()));const a=Qe().add(s),c=new wh(ke.min(),new Map,new kt(Ue),o,a);yield OO(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),vx(r)}else yield du(r.localStore,e,!1).then(()=>vu(r,e,n)).catch(zo)}),dx.apply(this,arguments)}function pue(t,e){return fx.apply(this,arguments)}function fx(){return fx=v(function*(t,e){const n=pe(t),r=e.batch.batchId;try{const i=yield function Ple(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=M.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const E=l.docVersions.get(p);Re(null!==E),g.version.compareTo(E)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);mx(n,r,null),gx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield oo(n,i)}catch(i){yield zo(i)}}),fx.apply(this,arguments)}function gue(t,e,n){return hx.apply(this,arguments)}function hx(){return hx=v(function*(t,e,n){const r=pe(t);try{const i=yield function(o,a){const c=pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Re(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);mx(r,e,n),gx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield oo(r,i)}catch(i){yield zo(i)}}),hx.apply(this,arguments)}function gx(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function mx(t,e,n){const r=pe(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function vu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||VO(t,r)})}function VO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Bh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),vx(t))}function _x(t,e,n){for(const r of n)r instanceof MO?(t.wa.addReference(r.key,e),_ue(t,r)):r instanceof kO?(te("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||VO(t,r.key)):we()}function _ue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(te("SyncEngine","New document in limbo: "+n),t.ga.add(r),vx(t))}function vx(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ge(lt.fromString(e)),r=t.Da.next();t.ya.set(r,new cue(n)),t.pa=t.pa.insert(n,r),Em(t.remoteStore,new so(wr(Xl(n.path)),r,"TargetPurposeLimboResolution",ti._e))}}function oo(t,e,n){return yx.apply(this,arguments)}function yx(){return yx=v(function*(t,e,n){const r=pe(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=I8.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=v(function*(l,u){const d=pe(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(u,h=>M.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>M.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Uo(f))throw f;te("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),E=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,E)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),yx.apply(this,arguments)}function vue(t,e){return Ex.apply(this,arguments)}function Ex(){return Ex=v(function*(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=yield dO(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new ne(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield oo(n,r._s)}var s}),Ex.apply(this,arguments)}function yue(t,e){const n=pe(t),r=n.ya.get(e);if(r&&r.Ra)return Qe().add(r.key);{let i=Qe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class Cm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=Vh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function uO(t,e,n,r){return new Rle(t,e,n,r)}(this.persistence,new lO,e.initialUser,this.serializer)}createPersistence(e){return new y8(fm.jr,this.serializer)}createSharedClientState(e){return new yO}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yu{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>FO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=vue.bind(null,r.syncEngine),yield function Q8(t,e){return X8.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nue}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),r=new Ble(e.databaseInfo);return new Ule(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>FO(this.syncEngine,n,0),a=EO.D()?new EO:new Fle,new Gle(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new lue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=v(function*(r){const i=pe(r);te("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield fu(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Im{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):hn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Mue{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=On.UNAUTHENTICATED,this.clientId=uk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){te("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=gu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function bm(t,e){return Rx.apply(this,arguments)}function Rx(){return Rx=v(function*(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield dO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Rx.apply(this,arguments)}function Px(t,e){return Mx.apply(this,arguments)}function Mx(){return Mx=v(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function kx(t){return Nx.apply(this,arguments)}(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>TO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>TO(e.remoteStore,s)),t._onlineComponents=e}),Mx.apply(this,arguments)}function Nx(){return Nx=v(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function jO(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Zr("Error using user provided cache. Falling back to memory cache: "+n),yield bm(t,new Cm)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield bm(t,new Cm);return t._offlineComponents}),Nx.apply(this,arguments)}function wm(t){return Ox.apply(this,arguments)}function Ox(){return Ox=v(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield Px(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield Px(t,new yu))),t._onlineComponents}),Ox.apply(this,arguments)}function xu(t){return Vx.apply(this,arguments)}function Vx(){return Vx=v(function*(t){const e=yield wm(t),n=e.eventManager;return n.onListen=uue.bind(null,e.syncEngine),n.onUnlisten=due.bind(null,e.syncEngine),n}),Vx.apply(this,arguments)}function YO(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const QO=new Map;function Lx(t,e,n){if(!n)throw new ne(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XO(t){if(!ge.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JO(t){if(ge.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Am(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":we()}function it(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Am(t);throw new ne(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class eF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ne(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ne(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function jue(t,e,n,r){if(!0===e&&!0===r)throw new ne(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=YO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Bae;switch(r.type){case"firstParty":return new jae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=QO.get(n);r&&(te("ComponentProvider","Removing Datastore"),QO.delete(n),r.terminate())}(this),Promise.resolve()}}class Jn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jn(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class ms extends Jn{constructor(e,n,r){super(e,n,Xl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ge(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function Gue(t,e,...n){if(t=nn(t),Lx("collection","path",e),t instanceof Hh){const r=lt.fromString(e,...n);return JO(r),new ms(t,null,r)}{if(!(t instanceof gn||t instanceof ms))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return JO(r),new ms(t.firestore,null,r)}}function tF(t,e,...n){if(t=nn(t),1===arguments.length&&(e=uk.newId()),Lx("doc","path",e),t instanceof Hh){const r=lt.fromString(e,...n);return XO(r),new gn(t,null,new ge(r))}{if(!(t instanceof gn||t instanceof ms))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return XO(r),new gn(t.firestore,t instanceof ms?t.converter:null,new ge(r))}}class que{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new k8(this,"async_queue_retry"),this.iu=()=>{const n=ym();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=ym();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=ym();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Sn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return v(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Uo(n))throw n;te("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,hn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=J8.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&we()}verifyOperationInProgress(){}uu(){var e=this;return v(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Bx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Nt extends Hh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new que,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rF(this),this._firestoreClient.terminate()}}function Kue(t,e){const r="string"==typeof t?t:e||"(default)",i=as("object"==typeof t?t:Rl(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=l9("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function $ue(t,e,n,r={}){var i;const s=(t=it(t,Hh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=On.MOCK_USER;else{a=function zte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jg(JSON.stringify({alg:"none",type:"JWT"})),jg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ne(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new On(l)}t._authCredentials=new Hae(new ck(a,c))}}(i,...s)}return i}function mn(t){return t._firestoreClient||rF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rF(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new yce(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,YO(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new Mue(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dc(Rn.fromBase64String(e))}catch(n){throw new ne(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dc(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ne(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hx{constructor(e){this._methodName=e}}class zx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}const Que=/^__.*__$/;class Xue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class oF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new io(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Dm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Sm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(aF(this.Iu)&&Que.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Jue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vh(e)}pu(e,n,r,i=!1){return new Dm({Iu:e,methodName:n,gu:r,path:qt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iu(t){const e=t._freezeSettings(),n=Vh(t._databaseId);return new Jue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ux(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);$x("Data must be an object, but it was:",o,r);const a=fF(r,o);let c,l;if(s.merge)c=new Hr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=jh(e,d,n);if(!o.contains(f))throw new ne(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);pF(u,f)||u.push(f)}c=new Hr(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new Xue(new Xn(a),c,l)}class Uh extends Hx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function fc(t,e){if(hF(t=nn(t)))return $x("Unsupported field value:",e,t),fF(t,e);if(t instanceof Hx)return function(r,i){if(!aF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=fc(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=nn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return nN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Xt.fromDate(r);return{timestampValue:iu(i.serializer,s)}}if(r instanceof Xt){const s=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:iu(i.serializer,s)}}if(r instanceof zx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dc)return{bytesValue:IN(i.serializer,r._byteString)};if(r instanceof gn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:a8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Am(r)}`)}(t,e)}function fF(t,e){const n={};return bk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,i)=>{const s=fc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function hF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof zx||t instanceof dc||t instanceof gn||t instanceof Hx)}function $x(t,e,n){if(!hF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Am(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function jh(t,e,n){if((e=nn(e))instanceof Cu)return e._internalPath;if("string"==typeof e)return Tm(t,e);throw Sm("Field path arguments must be of type string or ",t,!1,void 0,n)}const nde=new RegExp("[~\\*/\\[\\]]");function Tm(t,e,n){if(e.search(nde)>=0)throw Sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cu(...e.split("."))._internalPath}catch{throw Sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ne(B.INVALID_ARGUMENT,a+t+c)}function pF(t,e){return t.some(n=>n.isEqual(e))}class Gx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class rde extends Gx{data(){return super.data()}}function Rm(t,e){return"string"==typeof e?Tm(t,e):e instanceof Cu?e._internalPath:e._delegate._internalPath}class qx{}class mF extends qx{}function ide(t,e,...n){let r=[];e instanceof qx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof bu).length,a=s.filter(c=>c instanceof $h).length;if(o>1||o>0&&a>0)throw new ne(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $h extends mF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $h(e,n,r)}_apply(e){const n=this._parse(e);return EF(e._query,n),new Jn(e.firestore,e.converter,ZE(e._query,n))}_parse(e){const n=Iu(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new ne(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){yF(d,u);const h=[];for(const p of d)h.push(vF(c,s,p));f={arrayValue:{values:h}}}else f=vF(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||yF(d,u),f=function dF(t,e,n,r=!1){return fc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return rt.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function sde(t,e,n){const r=e,i=Rm("where",t);return $h._create(i,r,n)}class bu extends qx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Ct.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)EF(o,c),o=ZE(o,c)}(e._query,n),new Jn(e.firestore,e.converter,ZE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Pm extends mF{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Pm(e,n,r)}_apply(e){return new Jn(e.firestore,e.converter,Z1(e._query,this._limit,this._limitType))}}function ode(t){return function ZO(t,e){if(e<=0)throw new ne(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Pm._create("limit",t,"F")}function vF(t,e,n){if("string"==typeof(n=nn(n))){if(""===n)throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JE(e)&&-1!==n.indexOf("/"))throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!ge.isDocumentKey(r))throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ec(t,new ge(r))}if(n instanceof gn)return ec(t,n._key);throw new ne(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Am(n)}.`)}function yF(t,e){if(!Array.isArray(t)||0===t.length)throw new ne(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ne(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ade{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return on(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(to(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new zx(on(e.latitude),on(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=W1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fh(e));default:return null}}convertTimestamp(e){const n=$o(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Re(kN(r));const i=new Za(r.get(1),r.get(3)),s=new ge(r.popFirst(5));return i.isEqual(n)||hn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function Kx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wu extends Gx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nm extends wu{data(e={}){return super.data(e)}}class Au{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nm(this._firestore,this._userDataWriter,r.key,r,new hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Nm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new Nm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new hc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:lde(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class ta extends ade{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function ude(t,e,n){t=it(t,gn);const r=it(t.firestore,Nt),i=Kx(t.converter,e,n);return Gh(r,[Ux(Iu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Wt.none())])}function dde(t,e,n,...r){t=it(t,gn);const i=it(t.firestore,Nt),s=Iu(i);let o;return o="string"==typeof(e=nn(e))||e instanceof Cu?function uF(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[jh(e,r,n)],c=[i];if(s.length%2!=0)throw new ne(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(jh(e,s[f])),c.push(s[f+1]);const l=[],u=Xn.empty();for(let f=a.length-1;f>=0;--f)if(!pF(l,a[f])){const h=a[f];let p=c[f];p=nn(p);const g=o.Ru(h);if(p instanceof Uh)l.push(h);else{const E=fc(p,g);null!=E&&(l.push(h),u.set(h,E))}}const d=new Hr(l);return new oF(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function lF(t,e,n,r){const i=t.pu(1,e,n);$x("Data must be an object, but it was:",i,r);const s=[],o=Xn.empty();jo(r,(c,l)=>{const u=Tm(e,c,n);l=nn(l);const d=i.Ru(u);if(l instanceof Uh)s.push(u);else{const f=fc(l,d);null!=f&&(s.push(u),o.set(u,f))}});const a=new Hr(s);return new oF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Gh(i,[o.toMutation(t._key,Wt.exists(!0))])}function fde(t,e){const n=it(t.firestore,Nt),r=tF(t),i=Kx(t.converter,e);return Gh(n,[Ux(Iu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Wt.exists(!1))]).then(()=>r)}function Gh(t,e){return function(r,i){const s=new Sn;return r.asyncQueue.enqueueAndForget(v(function*(){return function fue(t,e,n){return lx.apply(this,arguments)}(yield function Fx(t){return wm(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(mn(t),e)}!function(e,n=!0){jl=Sl,mi(new Qr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Nt(new zae(r.getProvider("auth-internal")),new $ae(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ne(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),rn(ak,"4.3.2",e),rn(ak,"4.3.2","esm2017")}();var Vm=function(){return Vm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},Vm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Ade={includeMetadataChanges:!1};function Jx(t,e){return void 0===e&&(e=Ade),new de(function(n){var r=function hde(t,...e){var n,r,i;t=nn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Bx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Bx(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof gn)l=it(t.firestore,Nt),u=Xl(t._key.path),c={next:d=>{e[o]&&e[o](function Yx(t,e,n){const r=n.docs.get(e._key),i=new ta(t);return new wu(t,i,e._key,r,new hc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=it(t,Jn);l=it(d.firestore,Nt),u=d._query;const f=new ta(l);c={next:h=>{e[o]&&e[o](new Au(l,f,d,h))},error:e[o+1],complete:e[o+2]},function gF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ne(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const E=new Im(g),S=new ix(h,E,p);return f.asyncQueue.enqueueAndForget(v(function*(){return function Z8(t,e){return ex.apply(this,arguments)}(yield xu(f),S)})),()=>{E.Na(),f.asyncQueue.enqueueAndForget(v(function*(){return function tx(t,e){return nx.apply(this,arguments)}(yield xu(f),S)}))}}(mn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Tde(t,e){return void 0===e&&(e={}),function Dde(t){return Jx(t,{includeMetadataChanges:!0})}(t).pipe(Ye(function(n){return wF(n,e)}))}function wF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Vm(Vm({},r),((n={})[e.idField]=t.id,n)):r}function Nde(t,e){return void 0===e&&(e={}),function kde(t){return Jx(t,{includeMetadataChanges:!0}).pipe(Ye(function(e){return e.docs}))}(t).pipe(Ye(function(n){return n.map(function(r){return wF(r,e)})}))}class Bi{constructor(e){return e}}const SF="firestore",tC=new ye("angularfire2.firestore-instances");function Lde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Bi(r)}}const Bde={provide:class Fde{constructor(){return Xg(SF)}},deps:[[new _n,tC]]},Hde={provide:Bi,useFactory:function Vde(t,e){const n=Qg(SF,t,e);return n&&new Bi(n)},deps:[[new _n,tC],Ha]};let zde=(()=>{var t;class e{constructor(){rn("angularfire",Mo.full,"fst")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Ut({type:t})),gt(e,"\u0275inj",Ft({providers:[Hde,Bde]})),e})();function na(t,...e){return{ngModule:zde,providers:[{provide:tC,useFactory:Lde(t),multi:!0,deps:[dt,An,wf,Af,[new _n,jP],[new _n,U4],...e]}]}}const Du=fn(Nde,!0),qh=fn(Tde,!0),Ude=fn(fde,!0),Hi=fn(Gue,!0),_s=fn(tF,!0),ra=fn(Kue,!0),nC=fn(ode,!0),Tu=fn(ide,!0),RF=fn(ude,!0),rC=fn(dde,!0),Wh=fn(sde,!0);class PF{constructor(e,n,r){this._user=e,this._value=JSON.stringify(n),this._ttl=r,this._expiry=Date.now()+r}get user(){return this._user}set user(e){this._user=e}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{user:this.user,ttl:this.ttl,expiry:this.expiry,value:this.value}}}var Su,Bt=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.ACTIVE_ORDERS="active-orders",t.VERSION="version",t.UPDATE_AVAILABLE="update-available",t.PLAYERS_STATS="players-stats",t.LAST_PLAYERS_RANKINGS_UPDATE_TURN="last-players-rankings-update",t.LAST_PLANETS_UPDATE_TURN="last-planets-update",t}(Bt||{});class yi{constructor(){this.cachedUsername=null}cache(e,n,r=0){const i=new PF(this.username(),n,r);localStorage.setItem(e,JSON.stringify(i))}getVersion(){return localStorage.getItem(Bt.VERSION)}get(e){const n=localStorage.getItem(e);if(!n)return null;const r=Object.assign(PF,JSON.parse(n));return this.username()!==r.user||r.ttl>0&&Date.now()>r.expiry?(localStorage.removeItem(e),null):JSON.parse(r.value)}remove(e){localStorage.removeItem(e)}username(){if(null==this.cachedUsername){let e=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();0==e.indexOf("[")&&4==e.indexOf("]")&&(e=e.substring(5,e.length)),this.cachedUsername=e.toLowerCase()}return this.cachedUsername}}(Su=yi).\u0275fac=function(e){return new(e||Su)},Su.\u0275prov=Ce({token:Su,factory:Su.\u0275fac,providedIn:"platform"}),In([Gi(2,_n())],yi.prototype,"cache",null);let MF=(()=>{var t;class e{constructor(){this.firestore=W(Bi),this.localStorageService=W(yi)}checkVersion(r,i){let s=Hi(this.firestore,"config"),o=qh(_s(s,"version")).subscribe(a=>{let c=Object.assign({value:""},a).value;this.localStorageService.getVersion()!==c?(this.localStorageService.cache(Bt.UPDATE_AVAILABLE,!0),r.next(!0)):(this.localStorageService.cache(Bt.UPDATE_AVAILABLE,!1),r.next(!1)),document.querySelector(".local-update-badge")&&(document.querySelector(".local-update-badge").style.display="none"),i.detectChanges(),o.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class iC{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class kF{constructor(){this._orbit=0,this._ground=0,this._workers=new iC,this._soldiers=new iC,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class sC{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let jde=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new kF,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),d=new sC;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class NF{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new iC,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var dr=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(dr||{});class $de{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Gde{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Ot=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Ot||{});class OF{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let qde=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new NF,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:s=dr.RESOURCE;break;case 1:s=dr.SURFACE;break;case 2:s=dr.FLEET;break;default:s=dr.UNKNOWN}});let o=new $de(r,s);if(s!==dr.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new OF(c.split("Owner:")[1].trim(),""):new OF("Uninhabited Planet",a.substring(1,a.length-1))}if((s===dr.RESOURCE||s===dr.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===dr.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new sC;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===dr.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new sC;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new Gde(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Ot.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Ot.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Ot.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Ot.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Ot.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Ot.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Ot.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Ot.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Ot.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Ot.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Ot.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Ot.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Ot.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Wde=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new kF;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class FF{constructor(){this._score=0,this._combatScore=0,this._planets=0,this._rank=0}get name(){return this._name}set name(e){this._name=e}get rank(){return this._rank}set rank(e){this._rank=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{name:this.name,planets:this.planets,score:this.score,combatScore:this.combatScore,rank:this.rank}}}class Kde{constructor(){this._stats=new FF}get stats(){return this._stats}set stats(e){this._stats=e}get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,dgId:this.dgId,kickEta:this.kickEta,stats:this.stats}}}let Yde=(()=>{var t;class e{constructor(){this.localStorageService=W(yi)}extract(){let r=this.localStorageService.get(Bt.ALLIANCE_MEMBERS)||[];return 0==r.length&&!document.querySelector('[action="/alliances/join/"]')&&(document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(s=>{let o=new Kde;if(null!=s.querySelector('[action^="/alliances/note/"]')){let a=s.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);o.dgId=a[a.length-2]}null==s.querySelector('[action="/alliances/kick/"] input')&&null!=s.querySelector(".right>b")&&(o.kickEta=s.querySelector(".right>b").textContent.trim().toLowerCase()),null!=s.querySelector("div.name")&&(o.name=s.querySelector("div.name").childNodes[0].textContent.trim(),r.push(o))})}),this.localStorageService.cache(Bt.ALLIANCE_MEMBERS,r,432e5)),r}cleanAfterExtract(){document.querySelectorAll(".allianceBox").forEach(r=>{r.querySelector(".plainHeader")&&"member list"===r.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(r.querySelector(".plainHeader").remove(),r.querySelector(".playerList").remove())})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Ru;class ao{constructor(){this.planetListExtractor=W(jde),this.planetScanExtractor=W(qde),this.navigationSystemPlanetsExtractor=W(Wde),this.allianceMembersExtractor=W(Yde),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(e){let n=this.allianceMembersExtractor.extract();return e&&this.allianceMembersExtractor.cleanAfterExtract(),n}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}(Ru=ao).\u0275fac=function(e){return new(e||Ru)},Ru.\u0275prov=Ce({token:Ru,factory:Ru.\u0275fac,providedIn:"platform"}),In([Gi(0,_n())],ao.prototype,"username",null);class Lm{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Pu,oC=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(oC||{}),aC=V(874);class pc{constructor(){this.localStorageService=W(yi),this._authState=new bt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(Bt.USER))return!1;let n=this.localStorageService.get(Bt.USER).session.timeToken,r=this.localStorageService.get(Bt.USER).session.refreshToken,i=Date.parse(aC.AES.decrypt(n,r).toString(aC.enc.Utf8)),s=Date.now()-i<=6048e5;return s&&e&&this._authState.emit(new Lm(s,this.localStorageService.get(Bt.USER).session.role)),s}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(Bt.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=$P(e).subscribe(r=>{null!=r?Du(Tu(Hi(n,"valid-users"),Wh("email","==",r.email),nC(1))).subscribe(i=>{if(i.length>0){let s=Object.assign({email:"",enabled:!1,role:oC.USER},i[0]);s.enabled?(this.localStorageService.cache(Bt.USER,{session:{timeToken:aC.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:s.role}}),this._authState.emit(new Lm(!0,s.role)),location.reload()):this.signOut(e)}else this.signOut(e)}):(this.localStorageService.remove(Bt.USER),this._authState.emit(new Lm(!1,null)))})}}signInWithEmailAndPassword(e,n,r){Roe(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){Poe(e,new Die).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(Bt.USER),this._refreshInProgress=!0,this._authState.emit(new Lm(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().then(()=>{location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function vs(t,e){return Ve((n,r)=>{let i=0;n.subscribe(et(r,s=>t.call(e,s,i++)&&r.next(s)))})}function cC(...t){return function Xde(){return X0(1)}()(Hn(t,ad(t)))}function VF(...t){const e=ad(t);return Ve((n,r)=>{(e?cC(t,n,e):cC(t,n)).subscribe(r)})}(Pu=pc).\u0275fac=function(e){return new(e||Pu)},Pu.\u0275prov=Ce({token:Pu,factory:Pu.\u0275fac,providedIn:"platform"}),In([Gi(0,_n())],pc.prototype,"checkLoginValidity",null);const Zde=(t,e)=>e.some(n=>t instanceof n);let LF,BF;const HF=new WeakMap,lC=new WeakMap,zF=new WeakMap,uC=new WeakMap,dC=new WeakMap;let fC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return lC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||zF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ia(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ofe(t){return"function"==typeof t?function sfe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tfe(){return BF||(BF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(hC(this),e),ia(HF.get(this))}:function(...e){return ia(t.apply(hC(this),e))}:function(e,...n){const r=t.call(hC(this),e,...n);return zF.set(r,e.sort?e.sort():[e]),ia(r)}}(t):(t instanceof IDBTransaction&&function rfe(t){if(lC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lC.set(t,e)}(t),Zde(t,function efe(){return LF||(LF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,fC):t)}function ia(t){if(t instanceof IDBRequest)return function nfe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ia(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&HF.set(n,t)}).catch(()=>{}),dC.set(e,t),e}(t);if(uC.has(t))return uC.get(t);const e=ofe(t);return e!==t&&(uC.set(t,e),dC.set(e,t)),e}const hC=t=>dC.get(t),cfe=["get","getKey","getAll","getAllKeys","count"],lfe=["put","add","delete","clear"],pC=new Map;function UF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(pC.get(e))return pC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lfe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!cfe.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return pC.set(e,s),s}!function ife(t){fC=t(fC)}(t=>({...t,get:(e,n,r)=>UF(e,n)||t.get(e,n,r),has:(e,n)=>!!UF(e,n)||t.has(e,n)}));const jF="@firebase/installations",gC="0.6.4",$F=1e4,GF=`w:${gC}`,qF="FIS_v2",ufe="https://firebaseinstallations.googleapis.com/v1",dfe=36e5,co=new Ro("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function WF(t){return t instanceof Oi&&t.code.includes("request-failed")}function mC({projectId:t}){return`${ufe}/projects/${t}/installations`}function KF(t){return{token:t.token,requestStatus:2,expiresIn:gfe(t.expiresIn),creationTime:Date.now()}}function _C(t,e){return vC.apply(this,arguments)}function vC(){return vC=v(function*(t,e){const r=(yield e.json()).error;return co.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),vC.apply(this,arguments)}function YF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yC(t){return EC.apply(this,arguments)}function EC(){return EC=v(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),EC.apply(this,arguments)}function gfe(t){return Number(t.replace("s","000"))}function xC(){return xC=v(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=mC(t),i=YF(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:qF,appId:t.appId,sdkVersion:GF})},c=yield yC(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:KF(l.authToken)}}throw yield _C("Create Installation",c)}),xC.apply(this,arguments)}function XF(t){return new Promise(e=>{setTimeout(e,t)})}const yfe=/^[cdef][\w-]{21}$/,CC="";function Efe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function xfe(t){return function vfe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return yfe.test(n)?n:CC}catch{return CC}}function Mu(t){return`${t.appName}!${t.appId}`}const ku=new Map;function JF(t,e){const n=Mu(t);ZF(n,e),function bfe(t,e){const n=function eV(){return!gc&&"BroadcastChannel"in self&&(gc=new BroadcastChannel("[Firebase] FID Change"),gc.onmessage=t=>{ZF(t.data.key,t.data.fid)}),gc}();n&&n.postMessage({key:t,fid:e}),function tV(){0===ku.size&&gc&&(gc.close(),gc=null)}()}(n,e)}function ZF(t,e){const n=ku.get(t);if(n)for(const r of n)r(e)}let gc=null;const wfe="firebase-installations-database",Afe=1,mc="firebase-installations-store";let IC=null;function bC(){return IC||(IC=function afe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ia(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ia(o.result),c.oldVersion,c.newVersion,ia(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(wfe,Afe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(mc)}})),IC}function Bm(t,e){return wC.apply(this,arguments)}function wC(){return wC=v(function*(t,e){const n=Mu(t),i=(yield bC()).transaction(mc,"readwrite"),s=i.objectStore(mc),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&JF(t,e.fid),e}),wC.apply(this,arguments)}function AC(t){return DC.apply(this,arguments)}function DC(){return DC=v(function*(t){const e=Mu(t),r=(yield bC()).transaction(mc,"readwrite");yield r.objectStore(mc).delete(e),yield r.done}),DC.apply(this,arguments)}function Kh(t,e){return TC.apply(this,arguments)}function TC(){return TC=v(function*(t,e){const n=Mu(t),i=(yield bC()).transaction(mc,"readwrite"),s=i.objectStore(mc),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&JF(t,a.fid),a}),TC.apply(this,arguments)}function SC(t){return RC.apply(this,arguments)}function RC(){return RC=v(function*(t){let e;const n=yield Kh(t.appConfig,r=>{const i=function Dfe(t){return rV(t||{fid:Efe(),registrationStatus:0})}(r),s=function Tfe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(co.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Sfe(t,e){return PC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Rfe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===CC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),RC.apply(this,arguments)}function PC(){return PC=v(function*(t,e){try{const n=yield function _fe(t,e){return xC.apply(this,arguments)}(t,e);return Bm(t.appConfig,n)}catch(n){throw WF(n)&&409===n.customData.serverCode?yield AC(t.appConfig):yield Bm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),PC.apply(this,arguments)}function Rfe(t){return MC.apply(this,arguments)}function MC(){return MC=v(function*(t){let e=yield nV(t.appConfig);for(;1===e.registrationStatus;)yield XF(100),e=yield nV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield SC(t);return r||n}return e}),MC.apply(this,arguments)}function nV(t){return Kh(t,e=>{if(!e)throw co.create("installation-not-found");return rV(e)})}function rV(t){return function Pfe(t){return 1===t.registrationStatus&&t.registrationTime+$F<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function kC(){return kC=v(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function kfe(t,{fid:e}){return`${mC(t)}/${e}/authTokens:generate`}(t,n),i=function QF(t,{refreshToken:e}){const n=YF(t);return n.append("Authorization",function mfe(t){return`${qF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:GF,appId:t.appId}})},c=yield yC(()=>fetch(r,a));if(c.ok)return KF(yield c.json());throw yield _C("Generate Auth Token",c)}),kC.apply(this,arguments)}function NC(t){return OC.apply(this,arguments)}function OC(){return OC=v(function*(t,e=!1){let n;const r=yield Kh(t.appConfig,s=>{if(!sV(s))throw co.create("not-registered");const o=s.authToken;if(!e&&function Ffe(t){return 2===t.requestStatus&&!function Vfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dfe}(t)}(o))return s;if(1===o.requestStatus)return n=function Nfe(t,e){return FC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw co.create("app-offline");const a=function Lfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Ofe(t,e){return VC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),OC.apply(this,arguments)}function FC(){return FC=v(function*(t,e){let n=yield iV(t.appConfig);for(;1===n.authToken.requestStatus;)yield XF(100),n=yield iV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?NC(t,e):r}),FC.apply(this,arguments)}function iV(t){return Kh(t,e=>{if(!sV(e))throw co.create("not-registered");return function Bfe(t){return 1===t.requestStatus&&t.requestTime+$F<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function VC(){return VC=v(function*(t,e){try{const n=yield function Mfe(t,e){return kC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Bm(t.appConfig,r),n}catch(n){if(!WF(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Bm(t.appConfig,r)}else yield AC(t.appConfig);throw n}}),VC.apply(this,arguments)}function sV(t){return void 0!==t&&2===t.registrationStatus}function LC(){return LC=v(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield SC(e);return r?r.catch(console.error):NC(e).catch(console.error),n.fid}),LC.apply(this,arguments)}function BC(){return BC=v(function*(t,e=!1){const n=t;return yield function Ufe(t){return HC.apply(this,arguments)}(n),(yield NC(n,e)).token}),BC.apply(this,arguments)}function HC(){return HC=v(function*(t){const{registrationPromise:e}=yield SC(t);e&&(yield e)}),HC.apply(this,arguments)}function jC(t){return co.create("missing-app-config-values",{valueName:t})}const oV="installations",Wfe=t=>{const e=t.getProvider("app").getImmediate(),n=function Gfe(t){if(!t||!t.options)throw jC("App Configuration");if(!t.name)throw jC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:as(e,"heartbeat"),_delete:()=>Promise.resolve()}},Kfe=t=>{const n=as(t.getProvider("app").getImmediate(),oV).getImmediate();return{getId:()=>function Hfe(t){return LC.apply(this,arguments)}(n),getToken:i=>function zfe(t){return BC.apply(this,arguments)}(n,i)}};(function Yfe(){mi(new Qr(oV,Wfe,"PUBLIC")),mi(new Qr("installations-internal",Kfe,"PRIVATE"))})(),rn(jF,gC),rn(jF,gC,"esm2017");const Hm="analytics",Qfe="firebase_id",Xfe="origin",Jfe=6e4,Zfe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$C="https://www.googletagmanager.com/gtag/js",Ln=new Cf("@firebase/analytics"),Ar=new Ro("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function the(t){if(!t.startsWith($C)){const e=Ar.create("invalid-gtag-resource",{gtagURL:t});return Ln.warn(e.message),""}return t}function aV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function GC(){return GC=v(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield aV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Ln.error(a)}t("config",i,s)}),GC.apply(this,arguments)}function qC(){return qC=v(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield aV(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Ln.error(s)}}),qC.apply(this,arguments)}const uhe=30,cV=new class fhe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function hhe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function WC(){return WC=v(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:hhe(r)},s=Zfe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Ar.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),WC.apply(this,arguments)}function KC(){return KC=v(function*(t,e=cV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ar.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ar.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new vhe;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:Jfe),lV({appId:r,apiKey:i,measurementId:s},o,a,e)}),KC.apply(this,arguments)}function lV(t,e,n){return YC.apply(this,arguments)}function YC(){return YC=v(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=cV){var s;const{appId:o,measurementId:a}=t;try{yield function mhe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ar.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function phe(t){return WC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function _he(t){if(!(t instanceof Oi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?S4(n,i.intervalMillis,uhe):S4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ln.debug(`Calling attemptFetch again in ${u} millis`),lV(t,d,r,i)}}),YC.apply(this,arguments)}class vhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let QC,rI;function XC(){return XC=v(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),XC.apply(this,arguments)}function ZC(){return ZC=v(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),ZC.apply(this,arguments)}function iI(){return iI=v(function*(){if(!_f())return Ln.warn(Ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield A4()}catch(t){return Ln.warn(Ar.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),iI.apply(this,arguments)}function sI(){return sI=v(function*(t,e,n,r,i,s,o){var a;const c=function ghe(t){return KC.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Ln.error(h)),e.push(c);const l=function whe(){return iI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function lhe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($C)&&n.src.includes(t))return n;return null})(s)||function rhe(t,e){const n=function nhe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:the}),r=document.createElement("script"),i=`${$C}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),rI&&(i("consent","default",rI),function uV(t){rI=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[Xfe]="firebase",f.update=!0,null!=d&&(f[Qfe]=d),i("config",u.measurementId,f),QC&&(i("set",QC),function dV(t){QC=t}(void 0)),u.measurementId}),sI.apply(this,arguments)}class Dhe{constructor(e){this.app=e}_delete(){return delete ys[this.app.options.appId],Promise.resolve()}}let ys={},fV=[];const hV={};let gV,Es,zm="dataLayer",oI=!1;function She(t,e,n){!function The(){const t=[];if(w4()&&t.push("This is a browser extension environment."),f9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ar.create("invalid-analytics-context",{errorInfo:e});Ln.warn(n.message)}}();const r=t.options.appId;if(!r)throw Ar.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Ar.create("no-api-key");Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ys[r])throw Ar.create("already-exists",{id:r});if(!oI){!function ihe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(zm);const{wrappedGtag:s,gtagCore:o}=function che(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function ahe(t,e,n,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function ohe(t,e,n,r,i){return qC.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function she(t,e,n,r,i,s){return GC.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){Ln.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ys,fV,hV,zm,"gtag");Es=s,gV=o,oI=!0}return ys[r]=function Ahe(t,e,n,r,i,s,o){return sI.apply(this,arguments)}(t,fV,hV,e,gV,zm,n),new Dhe(t)}function Rhe(t=Rl()){const e=as(t=nn(t),Hm);return e.isInitialized()?e.getImmediate():function Phe(t,e={}){const n=as(t,Hm);if(n.isInitialized()){const i=n.getImmediate();if(vf(e,n.getOptions()))return i;throw Ar.create("already-initialized")}return n.initialize({options:e})}(t)}function Mhe(){return aI.apply(this,arguments)}function aI(){return(aI=v(function*(){if(w4()||!f9()||!_f())return!1;try{return yield A4()}catch{return!1}})).apply(this,arguments)}function khe(t,e,n){t=nn(t),function xhe(t,e,n,r){return ZC.apply(this,arguments)}(Es,ys[t.app.options.appId],e,n).catch(r=>Ln.error(r))}function mV(t,e,n,r){t=nn(t),function yhe(t,e,n,r,i){return XC.apply(this,arguments)}(Es,ys[t.app.options.appId],e,n,r).catch(i=>Ln.error(i))}const _V="@firebase/analytics";!function Nhe(){mi(new Qr(Hm,(e,{options:n})=>She(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),mi(new Qr("analytics-internal",function t(e){try{const n=e.getProvider(Hm).getImmediate();return{logEvent:(r,i,s)=>mV(n,r,i,s)}}catch(n){throw Ar.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),rn(_V,"0.10.0"),rn(_V,"0.10.0","esm2017")}();const Yh=b(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Fhe}=Array,{getPrototypeOf:Vhe,prototype:Lhe,keys:Bhe}=Object;function yV(t){if(1===t.length){const e=t[0];if(Fhe(e))return{args:e,keys:null};if(function Hhe(t){return t&&"object"==typeof t&&Vhe(t)===Lhe}(e)){const n=Bhe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:zhe}=Array;function EV(t){return Ye(e=>function Uhe(t,e){return zhe(e)?t(...e):t(e)}(t,e))}function xV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function CV(...t){const e=ad(t),n=mw(t),{args:r,keys:i}=yV(t);if(0===r.length)return Hn([],e);const s=new de(function jhe(t,e,n=me){return r=>{IV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)IV(e,()=>{const l=Hn(t[c],e);let u=!1;l.subscribe(et(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>xV(i,o):me));return n?s.pipe(EV(n)):s}function IV(t,e,n){t?Ps(n,t,e):e()}function bV(t){return new de(e=>{nr(t()).subscribe(e)})}function Qh(t,e){const n=R(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function lI(){return Ve((t,e)=>{let n=null;t._refCount++;const r=et(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class wV extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,At(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Y;const n=this.getSubject();e.add(this.source.subscribe(et(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Y.EMPTY)}return e}refCount(){return lI()(this)}}function Nu(t){return t<=0?()=>qi:Ve((e,n)=>{let r=0;e.subscribe(et(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Um(t){return Ve((e,n)=>{let r=!1;e.subscribe(et(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function AV(t=$he){return Ve((e,n)=>{let r=!1;e.subscribe(et(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $he(){return new Yh}function _c(t,e){const n=arguments.length>=2;return r=>r.pipe(t?vs((i,s)=>t(i,s,r)):me,Nu(1),n?Um(e):AV(()=>new Yh))}function Xh(t,e){return R(e)?Bn(t,e,1):Bn(t,1)}function vc(t){return Ve((e,n)=>{let s,r=null,i=!1;r=e.subscribe(et(n,void 0,void 0,o=>{s=nr(t(o,vc(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function uI(t){return t<=0?()=>qi:Ve((e,n)=>{let r=[];e.subscribe(et(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Jh(t){return Ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Xe="primary",Zh=Symbol("RouteTitle");class Qhe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ou(t){return new Qhe(t)}function Xhe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xs(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!DV(t[i],e[i]))return!1;return!0}function DV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function TV(t){return t.length>0?t[t.length-1]:null}function sa(t){return function Ohe(t){return!!t&&(t instanceof de||R(t.lift)&&R(t.subscribe))}(t)?t:Yd(t)?Hn(Promise.resolve(t)):Le(t)}const Zhe={exact:function PV(t,e,n){if(!yc(t.segments,e.segments)||!jm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!PV(t.children[r],e.children[r],n))return!1;return!0},subset:MV},SV={exact:function e0e(t,e){return xs(t,e)},subset:function t0e(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>DV(t[n],e[n]))},ignored:()=>!0};function RV(t,e,n){return Zhe[n.paths](t.root,e.root,n.matrixParams)&&SV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function MV(t,e,n){return kV(t,e,e.segments,n)}function kV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!yc(i,n)||e.hasChildren()||!jm(i,n,r))}if(t.segments.length===n.length){if(!yc(t.segments,n)||!jm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!MV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(yc(t.segments,i)&&jm(t.segments,i,r)&&t.children[Xe])&&kV(t.children[Xe],e,s,r)}}function jm(t,e,n){return e.every((r,i)=>SV[n](t[i].parameters,r.parameters))}class Fu{constructor(e=new It([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ou(this.queryParams)),this._queryParamMap}toString(){return i0e.serialize(this)}}class It{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $m(this)}}class e0{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ou(this.parameters)),this._parameterMap}toString(){return FV(this)}}function yc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let t0=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return new dI},providedIn:"root"}),e})();class dI{parse(e){const n=new g0e(e);return new Fu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${n0(e.root,!0)}`,r=function a0e(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Gm(n)}=${Gm(i)}`).join("&"):`${Gm(n)}=${Gm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function s0e(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const i0e=new dI;function $m(t){return t.segments.map(e=>FV(e)).join("/")}function n0(t,e){if(!t.hasChildren())return $m(t);if(e){const n=t.children[Xe]?n0(t.children[Xe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Xe&&r.push(`${i}:${n0(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function r0e(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Xe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Xe&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Xe?[n0(t.children[Xe],!1)]:[`${i}:${n0(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Xe]?`${$m(t)}/${n[0]}`:`${$m(t)}/(${n.join("//")})`}}function NV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gm(t){return NV(t).replace(/%3B/gi,";")}function fI(t){return NV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qm(t){return decodeURIComponent(t)}function OV(t){return qm(t.replace(/\+/g,"%20"))}function FV(t){return`${fI(t.path)}${function o0e(t){return Object.keys(t).map(e=>`;${fI(e)}=${fI(t[e])}`).join("")}(t.parameters)}`}const c0e=/^[^\/()?;#]+/;function hI(t){const e=t.match(c0e);return e?e[0]:""}const l0e=/^[^\/()?;=#]+/,d0e=/^[^=?&#]+/,h0e=/^[^&#]+/;class g0e{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Xe]=new It(e,n)),r}parseSegment(){const e=hI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new e0(qm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function u0e(t){const e=t.match(l0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=hI(this.remaining);i&&(r=i,this.capture(r))}e[qm(n)]=qm(r)}parseQueryParam(e){const n=function f0e(t){const e=t.match(d0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function p0e(t){const e=t.match(h0e);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=OV(n),s=OV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Xe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Xe]:new It([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}}function VV(t){return t.segments.length>0?new It([],{[Xe]:t}):t}function LV(t){const e={};for(const r of Object.keys(t.children)){const s=LV(t.children[r]);if(r===Xe&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function m0e(t){if(1===t.numberOfChildren&&t.children[Xe]){const e=t.children[Xe];return new It(t.segments.concat(e.segments),e.children)}return t}(new It(t.segments,e))}function Ec(t){return t instanceof Fu}function BV(t){let e;const i=VV(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new It(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function HV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return pI(i,i,i,n,r);const s=function v0e(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new UV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new UV(n,e,r)}(e);if(s.toRoot())return pI(i,i,new It([],{}),n,r);const o=function y0e(t,e,n){if(t.isAbsolute)return new Km(e,!0,0);if(!n)return new Km(e,!1,NaN);if(null===n.parent)return new Km(n,!0,0);const r=Wm(t.commands[0])?0:1;return function E0e(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new Km(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?s0(o.segmentGroup,o.index,s.commands):jV(o.segmentGroup,o.index,s.commands);return pI(i,o.segmentGroup,a,n,r)}function Wm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function r0(t){return"object"==typeof t&&null!=t&&t.outlets}function pI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:zV(t,e,n);const a=VV(LV(o));return new Fu(a,s,i)}function zV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:zV(s,e,n)}),new It(t.segments,r)}class UV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wm(r[0]))throw new ee(4003,!1);const i=r.find(r0);if(i&&i!==TV(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Km{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function jV(t,e,n){if(t||(t=new It([],{})),0===t.segments.length&&t.hasChildren())return s0(t,e,n);const r=function C0e(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(r0(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!GV(c,l,o))return s;r+=2}else{if(!GV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new It(t.segments.slice(0,r.pathIndex),{});return s.children[Xe]=new It(t.segments.slice(r.pathIndex),t.children),s0(s,0,i)}return r.match&&0===i.length?new It(t.segments,{}):r.match&&!t.hasChildren()?gI(t,e,n):r.match?s0(t,0,i):gI(t,e,n)}function s0(t,e,n){if(0===n.length)return new It(t.segments,{});{const r=function x0e(t){return r0(t[0])?t[0].outlets:{[Xe]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Xe)&&t.children[Xe]&&1===t.numberOfChildren&&0===t.children[Xe].segments.length){const s=s0(t.children[Xe],e,n);return new It(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=jV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new It(t.segments,i)}}function gI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(r0(s)){const c=I0e(s.outlets);return new It(r,c)}if(0===i&&Wm(n[0])){r.push(new e0(t.segments[e].path,$V(n[0]))),i++;continue}const o=r0(s)?s.outlets[Xe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Wm(a)?(r.push(new e0(o,$V(a))),i+=2):(r.push(new e0(o,{})),i++)}return new It(r,{})}function I0e(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=gI(new It([],{}),0,r))}),e}function $V(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function GV(t,e,n){return t==n.path&&xs(e,n.parameters)}const o0="imperative";class Cs{constructor(e,n){this.id=e,this.url=n}}class mI extends Cs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends Cs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class a0 extends Cs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class c0 extends Cs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Ym extends Cs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qV extends Cs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class b0e extends Cs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w0e extends Cs{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class A0e extends Cs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D0e extends Cs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T0e{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class S0e{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class R0e{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P0e{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M0e{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WV{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _I{}class vI{constructor(e){this.url=e}}class k0e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new l0,this.attachRef=null}}let l0=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new k0e,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class KV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=yI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=yI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=EI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return EI(e,this._root).map(n=>n.value)}}function yI(t,e){if(t===e.value)return e;for(const n of e.children){const r=yI(t,n);if(r)return r}return null}function EI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=EI(t,n);if(r.length)return r.unshift(e),r}return[]}class lo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Lu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class YV extends KV{constructor(e,n){super(e),this.snapshot=n,xI(this,e)}toString(){return this.snapshot.toString()}}function QV(t,e){const n=function N0e(t,e){const o=new Qm([],{},{},"",{},Xe,e,null,{});return new JV("",new lo(o,[]))}(0,e),r=new ii([new e0("",{})]),i=new ii({}),s=new ii({}),o=new ii({}),a=new ii(""),c=new Bu(r,i,o,a,s,Xe,e,n.root);return c.snapshot=n.root,new YV(new lo(c,[]),n)}class Bu{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ye(l=>l[Zh]))??Le(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(e=>Ou(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(e=>Ou(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function XV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function O0e(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Qm{get title(){return this.data?.[Zh]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ou(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ou(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class JV extends KV{constructor(e,n){super(n),this.url=e,xI(this,n)}toString(){return ZV(this._root)}}function xI(t,e){e.value._routerState=t,e.children.forEach(n=>xI(t,n))}function ZV(t){const e=t.children.length>0?` { ${t.children.map(ZV).join(", ")} } `:"";return`${t.value}${e}`}function CI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xs(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),xs(e.params,n.params)||t.paramsSubject.next(n.params),function Jhe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xs(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),xs(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function II(t,e){const n=xs(t.params,e.params)&&function n0e(t,e){return yc(t,e)&&t.every((n,r)=>xs(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||II(t.parent,e.parent))}let eL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new bt,this.deactivateEvents=new bt,this.attachEvents=new bt,this.detachEvents=new bt,this.parentContexts=W(l0),this.location=W(Mi),this.changeDetector=W(Do),this.environmentInjector=W(ui),this.inputBinder=W(Xm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new F0e(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mr]}),e})();class F0e{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Bu?this.route:e===l0?this.childContexts:this.parent.get(e,n)}}const Xm=new ye("");function u0(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function L0e(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return u0(t,r,i);return u0(t,r)})}(t,e,n);return new lo(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>u0(t,a)),o}}const r=function B0e(t){return new Bu(new ii(t.url),new ii(t.params),new ii(t.queryParams),new ii(t.fragment),new ii(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>u0(t,s));return new lo(r,i)}}const bI="ngNavigationCancelingError";function nL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function rL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[bI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function iL(t){return t&&t[bI]}let wI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pr({type:t,selectors:[["ng-component"]],standalone:!0,features:[US],decls:1,vars:0,template:function(r,i){1&r&&_t(0,"router-outlet")},dependencies:[eL],encapsulation:2}),e})();function AI(t){const e=t.children&&t.children.map(AI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=wI),n}function zi(t){return t.outlet||Xe}function d0(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class W0e{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),CI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Lu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Lu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Lu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Lu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new WV(s.value.snapshot))}),e.children.length&&this.forwardEvent(new P0e(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(CI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),CI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=d0(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class sL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jm{constructor(e,n){this.component=e,this.route=n}}function K0e(t,e,n){const r=t._root;return f0(r,e?e._root:null,n,[r.value])}function Hu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Cj(t){return null!==np(t)}(t)?e.get(t):t:r}function f0(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Lu(e);return t.children.forEach(o=>{(function Q0e(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function X0e(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!yc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!yc(t.url,e.url)||!xs(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!II(t,e)||!xs(t.queryParams,e.queryParams);default:return!II(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new sL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),f0(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jm(a.outlet.component,o))}else o&&h0(e,a,i),i.canActivateChecks.push(new sL(r)),f0(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>h0(a,n.getContext(o),i)),i}function h0(t,e,n){const r=Lu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{h0(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Jm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function p0(t){return"function"==typeof t}function oL(t){return t instanceof Yh||"EmptyError"===t?.name}const Zm=Symbol("INITIAL_VALUE");function zu(){return si(t=>CV(t.map(e=>e.pipe(Nu(1),VF(Zm)))).pipe(Ye(e=>{for(const n of e)if(!0!==n){if(n===Zm)return Zm;if(!1===n||n instanceof Fu)return n}return!0}),vs(e=>e!==Zm),Nu(1)))}function aL(t){return function se(...t){return Ne(t)}(Wn(e=>{if(Ec(e))throw nL(0,e)}),Ye(e=>!0===e))}class e2{constructor(e){this.segmentGroup=e||null}}class cL{constructor(e){this.urlTree=e}}function Uu(t){return Qh(new e2(t))}function lL(t){return Qh(new cL(t))}class _pe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new ee(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Le(r);if(i.numberOfChildren>1||!i.children[Xe])return Qh(new ee(4e3,!1));i=i.children[Xe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Fu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new It(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const DI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vpe(t,e,n,r,i){const s=TI(t,e,n);return s.matched?(r=function z0e(t,e){return t.providers&&!t._injector&&(t._injector=zS(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function ppe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Le(i.map(o=>{const a=Hu(o,t);return sa(function rpe(t){return t&&p0(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(zu(),aL()):Le(!0)}(r,e,n).pipe(Ye(o=>!0===o?s:{...DI}))):Le(s)}function TI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...DI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Xhe)(n,t,e);if(!i)return{...DI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function uL(t,e,n,r){return n.length>0&&function xpe(t,e,n){return n.some(r=>t2(t,e,r)&&zi(r)!==Xe)}(t,n,r)?{segmentGroup:new It(e,Epe(r,new It(n,t.children))),slicedSegments:[]}:0===n.length&&function Cpe(t,e,n){return n.some(r=>t2(t,e,r))}(t,n,r)?{segmentGroup:new It(t.segments,ype(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new It(t.segments,t.children),slicedSegments:n}}function ype(t,e,n,r,i){const s={};for(const o of r)if(t2(t,n,o)&&!i[zi(o)]){const a=new It([],{});s[zi(o)]=a}return{...i,...s}}function Epe(t,e){const n={};n[Xe]=e;for(const r of t)if(""===r.path&&zi(r)!==Xe){const i=new It([],{});n[zi(r)]=i}return n}function t2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Ape{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new _pe(this.urlSerializer,this.urlTree)}noMatchError(e){return new ee(4002,!1)}recognize(){const e=uL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xe).pipe(vc(n=>{if(n instanceof cL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof e2?this.noMatchError(n):n}),Ye(n=>{const r=new Qm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),i=new lo(r,n),s=new JV("",i),o=function _0e(t,e,n=null,r=null){return HV(BV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Xe).pipe(vc(r=>{throw r instanceof e2?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=XV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Hn(i).pipe(Xh(s=>{const o=r.children[s],a=function G0e(t,e){const n=t.filter(r=>zi(r)===e);return n.push(...t.filter(r=>zi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function qhe(t,e){return Ve(function Ghe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(et(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Um(null),function Whe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?vs((i,s)=>t(i,s,r)):me,uI(1),n?Um(e):AV(()=>new Yh))}(),Bn(s=>{if(null===s)return Uu(r);const o=dL(s);return function Dpe(t){t.sort((e,n)=>e.value.outlet===Xe?-1:n.value.outlet===Xe?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Le(o)}))}processSegment(e,n,r,i,s,o){return Hn(n).pipe(Xh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(vc(c=>{if(c instanceof e2)return Le(null);throw c}))),_c(a=>!!a),vc(a=>{if(oL(a))return function bpe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Le([]):Uu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Ipe(t,e,n,r){return!!(zi(t)===r||r!==Xe&&t2(e,n,t))&&("**"===t.path||TI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Uu(i):Uu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lL(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Bn(o=>{const a=new It(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=TI(n,i,s);if(!a)return Uu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?lL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Bn(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?TV(i).parameters:{};a=Le({snapshot:new Qm(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fL(r),zi(r),r.component??r._loadedComponent??null,r,hL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=vpe(n,r,i,e).pipe(Ye(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new Qm(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fL(r),zi(r),r.component??r._loadedComponent??null,r,hL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(si(c=>null===c?Uu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(si(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=uL(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Ye(S=>null===S?null:[new lo(d,S)]));if(0===l.length&&0===g.length)return Le([new lo(d,[])]);const E=zi(r)===s;return this.processSegment(u,l,p,g,E?Xe:s,!0).pipe(Ye(S=>[new lo(d,S)]))}))))}getChildConfig(e,n,r){return n.children?Le({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Le({routes:n._loadedRoutes,injector:n._loadedInjector}):function hpe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Le(!0):Le(i.map(o=>{const a=Hu(o,t);return sa(function Z0e(t){return t&&p0(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(zu(),aL())}(e,n,r).pipe(Bn(i=>i?this.configLoader.loadChildren(e,n).pipe(Wn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function mpe(t){return Qh(rL(!1,3))}())):Le({routes:[],injector:e})}}function Tpe(t){const e=t.value.routeConfig;return e&&""===e.path}function dL(t){const e=[],n=new Set;for(const r of t){if(!Tpe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=dL(r.children);e.push(new lo(r.value,i))}return e.filter(r=>!n.has(r))}function fL(t){return t.data||{}}function hL(t){return t.resolve||{}}function pL(t){return"string"==typeof t.title||null===t.title}function SI(t){return si(e=>{const n=t(e);return n?Hn(n).pipe(Ye(()=>e)):Le(e)})}const n2=new ye("ROUTES");let gL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=W(aJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Le(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=sa(r.loadComponent()).pipe(Ye(mL),Wn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Jh(()=>{this.componentLoaders.delete(r)})),s=new wV(i,()=>new Z).pipe(lI());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Le({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Ope(t,e,n,r){return sa(t.loadChildren()).pipe(Ye(mL),Bn(i=>i instanceof BS||Array.isArray(i)?Le(i):Hn(e.compileModuleAsync(i))),Ye(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(n2,[],{optional:!0,self:!0}).flat()),{routes:o.map(AI),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(Jh(()=>{this.childrenLoaders.delete(i)})),a=new wV(o,()=>new Z).pipe(lI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function mL(t){return function Fpe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let r2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Z,this.transitionAbortSubject=new Z,this.configLoader=W(gL),this.environmentInjector=W(ui),this.urlSerializer=W(t0),this.rootContexts=W(l0),this.inputBindingEnabled=null!==W(Xm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Le(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new S0e(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new T0e(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new ii({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:o0,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vs(o=>0!==o.id),Ye(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),si(o=>{this.currentTransition=o;let a=!1,c=!1;return Le(o).pipe(Wn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),si(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new c0(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),qi}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Le(l).pipe(si(h=>{const p=this.transitions?.getValue();return this.events.next(new mI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?qi:Promise.resolve(h)}),function Spe(t,e,n,r,i,s){return Bn(o=>function wpe(t,e,n,r,i,s,o="emptyOnly"){return new Ape(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ye(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Wn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new qV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:E,extras:S}=l,I=new mI(h,this.urlSerializer.serialize(p),g,E);this.events.next(I);const H=QV(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:H,urlAfterRedirects:p,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},Le(o)}{const h="";return this.events.next(new c0(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),qi}}),Wn(l=>{const u=new b0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ye(l=>(this.currentTransition=o={...l,guards:K0e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function spe(t,e){return Bn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Le({...n,guardsResult:!0}):function ope(t,e,n,r){return Hn(t).pipe(Bn(i=>function fpe(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Le(s.map(a=>{const c=d0(e)??i,l=Hu(a,c);return sa(function npe(t){return t&&p0(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(_c())})).pipe(zu()):Le(!0)}(i.component,i.route,n,e,r)),_c(i=>!0!==i,!0))}(o,r,i,t).pipe(Bn(a=>a&&function J0e(t){return"boolean"==typeof t}(a)?function ape(t,e,n,r){return Hn(e).pipe(Xh(i=>cC(function lpe(t,e){return null!==t&&e&&e(new R0e(t)),Le(!0)}(i.route.parent,r),function cpe(t,e){return null!==t&&e&&e(new M0e(t)),Le(!0)}(i.route,r),function dpe(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Y0e(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>bV(()=>Le(o.guards.map(c=>{const l=d0(o.node)??n,u=Hu(c,l);return sa(function tpe(t){return t&&p0(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(_c())})).pipe(zu())));return Le(s).pipe(zu())}(t,i.path,n),function upe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Le(!0);const i=r.map(s=>bV(()=>{const o=d0(e)??n,a=Hu(s,o);return sa(function epe(t){return t&&p0(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(_c())}));return Le(i).pipe(zu())}(t,i.route,n))),_c(i=>!0!==i,!0))}(r,s,t,e):Le(a)),Ye(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Wn(l=>{if(o.guardsResult=l.guardsResult,Ec(l.guardsResult))throw nL(0,l.guardsResult);const u=new w0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),vs(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),SI(l=>{if(l.guards.canActivateChecks.length)return Le(l).pipe(Wn(u=>{const d=new A0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),si(u=>{let d=!1;return Le(u).pipe(function Rpe(t,e){return Bn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Le(n);let s=0;return Hn(i).pipe(Xh(o=>function Ppe(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!pL(i)&&(s[Zh]=i.title),function Mpe(t,e,n,r){const i=function kpe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Le({});const s={};return Hn(i).pipe(Bn(o=>function Npe(t,e,n,r){const i=d0(e)??r,s=Hu(t,i);return sa(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(_c(),Wn(a=>{s[o]=a}))),uI(1),function Khe(t){return Ye(()=>t)}(s),vc(o=>oL(o)?qi:Qh(o)))}(s,t,e,r).pipe(Ye(o=>(t._resolvedData=o,t.data=XV(t,n).resolve,i&&pL(i)&&(t.data[Zh]=i.title),null)))}(o.route,r,t,e)),Wn(()=>s++),uI(1),Bn(o=>s===i.length?Le(n):qi))})}(r.paramsInheritanceStrategy,this.environmentInjector),Wn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Wn(u=>{const d=new D0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),SI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Wn(h=>{d.component=h}),Ye(()=>{})));for(const h of d.children)f.push(...u(h));return f};return CV(u(l.targetSnapshot.root)).pipe(Um(),Nu(1))}),SI(()=>this.afterPreactivation()),Ye(l=>{const u=function V0e(t,e,n){const r=u0(t,e._root,n?n._root:void 0);return new YV(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Wn(()=>{this.events.next(new _I)}),((t,e,n,r)=>Ye(i=>(new W0e(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Nu(1),Wn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Yhe(t){return Ve((e,n)=>{nr(t).subscribe(et(n,()=>n.complete(),D)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Wn(l=>{throw l}))),Jh(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),vc(l=>{if(c=!0,iL(l))this.events.next(new a0(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function H0e(t){return iL(t)&&Ec(t.url)}(l)?this.events.next(new vI(l.url)):o.resolve(!1);else{this.events.next(new Ym(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return qi}))}))}cancelNavigationTransition(r,i,s){const o=new a0(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function _L(t){return t!==o0}let vL=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Xe);return i}getResolvedTitleForRoute(r){return r.data[Zh]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return W(Vpe)},providedIn:"root"}),e})(),Vpe=(()=>{var t;class e extends vL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(x4))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Lpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return W(Hpe)},providedIn:"root"}),e})();class Bpe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Hpe=(()=>{var t;class e extends Bpe{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=qn(t)))(i||t)}}(),t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const RI=new ye("",{providedIn:"root",factory:()=>({})});let zpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:function(){return W(Upe)},providedIn:"root"}),e})(),Upe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var g0=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(g0||{});function jpe(t){throw t}function $pe(t,e,n){return e.parse("/")}const Gpe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=W(k7),this.isNgZoneEnabled=!1,this._events=new Z,this.options=W(RI,{optional:!0})||{},this.pendingTasks=W(xg),this.errorHandler=this.options.errorHandler||jpe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$pe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=W(zpe),this.routeReuseStrategy=W(Lpe),this.titleStrategy=W(vL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=W(n2,{optional:!0})?.flat()??[],this.navigationTransitions=W(r2),this.urlSerializer=W(t0),this.location=W(Yy),this.componentInputBindingEnabled=!!W(Xm,{optional:!0}),this.eventsSubscription=new Y,this.isNgZoneEnabled=W(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=QV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(EL(i)&&this._events.next(i));if(i instanceof mI)_L(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof c0)this.rawUrlTree=s.rawUrl;else if(i instanceof qV){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof _I)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof a0)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof vI){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_L(s.source)};this.scheduleNavigation(o,o0,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof Ym&&this.restoreHistory(s,!0),i instanceof Vu&&(this.navigated=!0),EL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),o0,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(AI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=BV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return HV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Ec(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,o0,null,i)}navigate(r,i={skipLocationChange:!1}){return function Wpe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new ee(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...Gpe}:!1===i?{...qpe}:i,Ec(r))return RV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return RV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function yL(t,e){t.events.pipe(vs(n=>n instanceof Vu||n instanceof a0||n instanceof Ym||n instanceof c0),Ye(n=>n instanceof Vu||n instanceof c0?g0.COMPLETE:n instanceof a0&&(0===n.code||1===n.code)?g0.REDIRECTING:g0.FAILED),vs(n=>n!==g0.REDIRECTING),Nu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function EL(t){return!(t instanceof _I||t instanceof vI)}class ju{constructor(e){return e}}const DL="analytics",NI="__angularfire_symbol__analyticsIsSupportedValue",TL="__angularfire_symbol__analyticsIsSupported";globalThis[TL]||=Mhe().then(t=>globalThis[NI]=t).catch(()=>globalThis[NI]=!1);const s2={async:()=>globalThis[TL],sync:()=>{const t=globalThis[NI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},SL=s2.async,RL=fn(Rhe,!0),m0=fn(mV,!0),nge=fn(khe,!0);let OI=(()=>{var t;class e{constructor(r,i,s){let o;gt(this,"initialized",void 0),gt(this,"disposables",[]),rn("angularfire",Mo.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{o=a})),SL().then(()=>{const a=s.get(ju);a?this.disposables=[$P(r).subscribe(c=>{nge(a,c?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(Se(Bf),Se(dt),Se(An))}),gt(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac})),e})();const PL="firebase_screen_id",FI="outlet",_0="screen_class",ML="screen_name";let pge=Math.floor(Math.random()*(2**32-1))-2**31;const VI={},gge=t=>{const e=[t[_0],t[FI]].join("#");if(VI.hasOwnProperty(e))return VI[e];{const n=pge++;return VI[e]=n,n}},mge=(t,e,n)=>t.events.pipe(vs(i=>i instanceof WV)).pipe(si(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return Le(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[ML]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[FI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===wI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return Le({...u,[_0]:d});if(d){const f=n.resolveComponentFactory(d);return Le({...u,[_0]:f.selector})}return Le(null)}),vs(i=>!!i),Ye(i=>({firebase_screen_class:i[_0],[PL]:gge(i),...i})),function Qde(t,e,n,r){return Ve((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new Je(s,p=>{try{const g=t(p);let E=a.get(g);if(!E){a.set(g,E=r?r():new Z);const S=function h(p,g){const E=new de(S=>{u++;const I=g.subscribe(S);return()=>{I.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return E.key=p,E}(g,E);if(s.next(S),n){const I=et(E,()=>{E.complete(),I?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(nr(n(S)).subscribe(I))}}E.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[FI]),Bn(i=>i.pipe(yw((s,o)=>JSON.stringify(s)===JSON.stringify(o)),VF(void 0),function Jde(){return Ve((t,e)=>{let n,r=!1;t.subscribe(et(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Ye(([s,o])=>s?{firebase_previous_class:s[_0],firebase_previous_screen:s[ML],firebase_previous_id:s[PL],...o}:o))));let kL=(()=>{var t;class e{constructor(r,i,s,o,a,c){gt(this,"disposable",void 0),rn("angularfire",Mo.full,"screen-tracking"),SL().then(()=>{const l=c.get(ju);!r||!l||o.runOutsideAngular(()=>{this.disposable=mge(r,i,s).pipe(si(function(){var u=v(function*(d){return a&&(yield a.initialized),m0(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(Se(Ui,8),Se(x4,8),Se(Bd),Se(dt),Se(OI,8),Se(An))}),gt(e,"\u0275prov",Ce({token:t,factory:t.\u0275fac})),e})();const LI=new ye("angularfire2.analytics-instances");function vge(t){return(e,n)=>{if(!s2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new ju(r)}}const yge={provide:class tge{constructor(){return Xg(DL)}},deps:[[new _n,LI]]},Ege={provide:ju,useFactory:function _ge(t,e){if(!s2.sync())return null;const n=Qg(DL,t,e);return n&&new ju(n)},deps:[[new _n,LI],Ha]};let xge=(()=>{var t;class e{constructor(r,i){rn("angularfire",Mo.full,"analytics")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(Se(kL,8),Se(OI,8))}),gt(e,"\u0275mod",Ut({type:t})),gt(e,"\u0275inj",Ft({providers:[Ege,yge,{provide:M7,useValue:s2.async,multi:!0}]})),e})();function NL(t,...e){return{ngModule:xge,providers:[{provide:LI,useFactory:vge(t),multi:!0,deps:[dt,An,wf,Af,...e]}]}}class Cge{get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance}}}let Ige=(()=>{var t;class e{constructor(){this.firestore=W(Bi),this.localStorageService=W(yi)}checkAndCachePlayersRankings(){let r=qh(_s(Hi(this.firestore,"config"),"last-players-rankings-update-turn")).subscribe(i=>{if(!this.localStorageService.get(Bt.LAST_PLAYERS_RANKINGS_UPDATE_TURN)||this.localStorageService.get(Bt.LAST_PLAYERS_RANKINGS_UPDATE_TURN)!=Object.assign({value:0},i).value){let s=Du(Tu(Hi(this.firestore,"players"))).subscribe(o=>{let a=Object.assign([],o),c=[];a.forEach(l=>{let u=new Cge;u.playerId=l.playerId,u.rank=l.rank,u.planets=l.planets.length,u.name=l.name,u.alliance=l.alliance,u.combatScore=l.combatScore,u.combinedScore=l.combinedScore,u.score=l.score,c.push(u)}),this.localStorageService.cache(Bt.PLAYERS_STATS,c),this.localStorageService.cache(Bt.LAST_PLAYERS_RANKINGS_UPDATE_TURN,Object.assign({value:0},i).value),s.unsubscribe(),r.unsubscribe()})}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Qd("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function wge(t,e){1&t&&(ae(0,"span",26),De(1,"1"),_e())}function Age(t,e){1&t&&(ae(0,"span",27),De(1,"1"),_e())}let Dge=(()=>{var t;class e{constructor(){this.badgeService=W(MF),this.dgAPI=W(ao),this.changeDetection=W(Do),this.authService=W(pc),this.localStorageService=W(yi),this.globalConfigService=W(Ige),this.analytics=W(ju),this.localUpdateBadge=!1,this.initialized=!1;let r=window.location.pathname.split("/");m0(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),m0(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.localUpdateBadge=this.localStorageService.get(Bt.UPDATE_AVAILABLE),this.updateAvailableNotification=new de(i=>{this.badgeService.checkVersion(i,this.changeDetection)}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.globalConfigService.checkAndCachePlayersRankings(),this.initialized=!0)}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pr({type:t,selectors:[["dgt-navbar"]],decls:40,vars:11,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","local-update-badge notification-badge",4,"ngIf"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"local-update-badge","notification-badge",2,"z-index","0"],[1,"notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(ae(0,"div",0)(1,"ul",1)(2,"li",2),Kr(3,wge,2,0,"span",3),Kr(4,Age,2,0,"span",4),Tn(5,"async"),ae(6,"a",5),_t(7,"img",6),ae(8,"span",7),De(9,"home"),_e()()(),ae(10,"li",8)(11,"a",9),_t(12,"img",10),ae(13,"span",7),De(14,"planets"),_e()()(),ae(15,"li",11)(16,"a",12),_t(17,"img",13),ae(18,"span",7),De(19,"radar"),_e()()(),ae(20,"li",14)(21,"a",15),_t(22,"img",16),ae(23,"span",7),De(24,"fleets"),_e()()(),ae(25,"li",17)(26,"a",18),_t(27,"img",19),ae(28,"span",7),De(29,"navigation"),_e()()(),ae(30,"li",20)(31,"a",21),_t(32,"img",22),ae(33,"span",7),De(34,"research"),_e()()(),ae(35,"li",23)(36,"a",24),_t(37,"img",25),ae(38,"span",7),De(39,"alliances"),_e()()()()()),2&r&&(Me(2),nt("tabName","home"),Me(1),nt("ngIf",i.localUpdateBadge),Me(1),nt("ngIf",hi(5,9,i.updateAvailableNotification)),Me(6),nt("tabName","planets"),Me(5),nt("tabName","radar"),Me(5),nt("tabName","fleets"),Me(5),nt("tabName","navigation"),Me(5),nt("tabName","research"),Me(5),nt("tabName","alliances"))},dependencies:[Oa,bge,hf],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const fr_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},BI=new Map,OL={activated:!1,tokenObservers:[]},Tge={initialized:!1,enabled:!1};function an(t){return BI.get(t)||Object.assign({},OL)}function o2(){return Tge}const HI="https://content-firebaseappcheck.googleapis.com/v1",Mge="exchangeDebugToken",FL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Nge{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new Tl,yield function Oge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Tl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Zn=new Ro("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function a2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function zI(t){if(!an(t).activated)throw Zn.create("use-before-activation",{appName:t.name})}function UI(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=c2(n)+"d:"),r&&(o+=c2(r)+"h:"),o+=c2(i)+"m:"+c2(s)+"s",o}function c2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function l2(t,e){return jI.apply(this,arguments)}function jI(){return jI=v(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Zn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Zn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Zn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Zn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),jI.apply(this,arguments)}function VL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${HI}/projects/${n}/apps/${r}:${Mge}?key=${i}`,body:{debug_token:e}}}const Bge="firebase-app-check-database",Hge=1,v0="firebase-app-check-store",LL="debug-token";let u2=null;function BL(){return u2||(u2=new Promise((t,e)=>{try{const n=indexedDB.open(Bge,Hge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Zn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(v0,{keyPath:"compositeKey"})}}catch(n){e(Zn.create("storage-open",{originalErrorMessage:n?.message}))}}),u2)}function HL(t,e){return $I.apply(this,arguments)}function $I(){return $I=v(function*(t,e){const r=(yield BL()).transaction(v0,"readwrite"),s=r.objectStore(v0).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(Zn.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),$I.apply(this,arguments)}function zL(t){return GI.apply(this,arguments)}function GI(){return GI=v(function*(t){const n=(yield BL()).transaction(v0,"readonly"),i=n.objectStore(v0).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(Zn.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),GI.apply(this,arguments)}function UL(t){return`${t.options.appId}-${t.name}`}const y0=new Cf("@firebase/app-check");function qI(){return qI=v(function*(t){if(_f()){let e;try{e=yield function zge(t){return zL(UL(t))}(t)}catch(n){y0.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),qI.apply(this,arguments)}function WI(t,e){return _f()?function Uge(t,e){return HL(UL(t),e)}(t,e).catch(n=>{y0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function KI(){return KI=v(function*(){let t;try{t=yield function $ge(){return zL(LL)}()}catch{}if(t)return t;{const e=Zte();return function jge(t){return HL(LL,t)}(e).catch(n=>y0.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),KI.apply(this,arguments)}function YI(){return o2().enabled}function QI(){return XI.apply(this,arguments)}function XI(){return XI=v(function*(){const t=o2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),XI.apply(this,arguments)}const Kge={error:"UNKNOWN_ERROR"};function Yge(t){return b4.encodeString(JSON.stringify(t),!1)}function d2(t){return JI.apply(this,arguments)}function JI(){return JI=v(function*(t,e=!1){const n=t.app;zI(n);const r=an(n);let s,i=r.token;if(i&&!$u(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&($u(c)?i=c:yield WI(n,void 0))}if(!e&&i&&$u(i))return{token:i.token};let a,o=!1;if(YI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=l2(VL(n,yield QI()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield WI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield an(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?y0.warn(c.message):y0.error(c),s=c}return i?s?a=$u(i)?{token:i.token,internalError:s}:qL(s):(a={token:i.token},r.token=i,yield WI(n,i)):a=qL(s),o&&GL(n,a),a}),JI.apply(this,arguments)}function ZI(){return ZI=v(function*(t){const e=t.app;zI(e);const{provider:n}=an(e);if(YI()){const r=yield QI(),{token:i}=yield l2(VL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),ZI.apply(this,arguments)}function eb(t,e,n,r){const{app:i}=t,s=an(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&$u(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),$L(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>$L(t))}function tb(t,e){const n=an(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function $L(t){const{app:e}=t,n=an(e);let r=n.tokenRefresher;r||(r=function Qge(t){const{app:e}=t;return new Nge(v(function*(){let r;if(r=an(e).token?yield d2(t,!0):yield d2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=an(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},FL.RETRIAL_MIN_WAIT,FL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function GL(t,e){const n=an(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function $u(t){return t.expireTimeMillis-Date.now()>0}function qL(t){return{token:Yge(Kge),error:t}}class Xge{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=an(this.app);for(const n of e)tb(this.app,n.next);return Promise.resolve()}}function i1e(t,e){const n=new Tl;an(t).reCAPTCHAState={initialized:n};const i=function WL(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=a2(!1);return s?f2(t,e,s,i,n):function a1e(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=a2(!1);if(!o)throw new Error("no recaptcha");f2(t,e,o,i,n)}),n.promise}function f2(t,e,n,r,i){n.ready(()=>{(function o1e(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{an(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{an(t).reCAPTCHAState.succeeded=!1}}),s=an(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function nb(){return nb=v(function*(t){zI(t);const n=yield an(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=an(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}),nb.apply(this,arguments)}class Is{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return v(function*(){var n,r,i;!function JL(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Zn.create("throttled",{time:UI(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield function KL(t){return nb.apply(this,arguments)}(e._app).catch(a=>{throw Zn.create("recaptcha-error")});if(null===(n=an(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw Zn.create("recaptcha-error");let o;try{o=yield l2(function Vge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${HI}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function XL(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=S4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),Zn.create("throttled",{time:UI(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=as(e,"heartbeat"),i1e(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Is&&this._siteKey===e._siteKey}}function l1e(t=Rl(),e){const n=as(t=nn(t),"app-check");if(o2().initialized||function Wge(){const t=c9(),e=o2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Tl;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function qge(){return KI.apply(this,arguments)}())}(),YI()&&QI().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Zn.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function u1e(t,e,n){const r=function Sge(t,e){return BI.set(t,e),BI.get(t)}(t,Object.assign({},OL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Gge(t){return qI.apply(this,arguments)}(t).then(i=>(i&&$u(i)&&(r.token=i,GL(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),an(t).isTokenAutoRefreshEnabled&&eb(r,"INTERNAL",()=>{}),r}const ZL="app-check-internal";!function f1e(){mi(new Qr("app-check",t=>function Jge(t,e){return new Xge(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ZL).initialize()})),mi(new Qr(ZL,t=>function Zge(t){return{getToken:e=>d2(t,e),getLimitedUseToken:()=>function jL(t){return ZI.apply(this,arguments)}(t),addTokenListener:e=>eb(t,"INTERNAL",e),removeTokenListener:e=>tb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),rn("@firebase/app-check","0.8.0")}();class ib{constructor(e){return e}}const sb=new ye("angularfire2.app-check-instances"),p1e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function g1e(t){return(e,n,r)=>{!d4(r)&&p1e&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new ib(i)}}const m1e={provide:U4,deps:[[new _n,sb]]},_1e={provide:ib,useFactory:function h1e(t,e){const n=Qg(M9,t,e);return n&&new ib(n)},deps:[[new _n,sb],Ha,es]};let v1e=(()=>{var t;class e{constructor(){rn("angularfire",Mo.full,"app-check")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Ut({type:t})),gt(e,"\u0275inj",Ft({providers:[_1e,m1e]})),e})();function oa(t,...e){return{ngModule:v1e,providers:[{provide:sb,useFactory:g1e(t),multi:!0,deps:[dt,An,es,wf,Af,...e]}]}}const aa=fn(l1e,!0);let y1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t,bootstrap:[Dge]}),t.\u0275inj=Ft({providers:[MF],imports:[os,ko(()=>Oo(fr_firebase)),$a(()=>Ga()),na(()=>ra()),oa(()=>aa(No(),{provider:new Is(fr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),NL(()=>RL())]}),e})();class E1e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class x1e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class eB{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class tB{constructor(){this._resources=new x1e,this._workers=new eB,this._soldiers=new eB,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var Cn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(Cn||{});let nB=(()=>{var t;class e{constructor(){this.dgAPI=W(ao)}extractStats(){let r=new E1e;return r.stats.set(Cn.ALL,new tB),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new tB),r.stats.get(Cn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(Cn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(Cn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(Cn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(Cn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(Cn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case Cn.METAL:r.stats.get(Cn.ALL).resources.metalStored+=s.stored,r.stats.get(Cn.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case Cn.MINERAL:r.stats.get(Cn.ALL).resources.mineralStored+=s.stored,r.stats.get(Cn.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case Cn.FOOD:r.stats.get(Cn.ALL).resources.foodStored+=s.stored,r.stats.get(Cn.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case Cn.ENERGY:r.stats.get(Cn.ALL).resources.energyStored+=s.stored,r.stats.get(Cn.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),C1e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=zn({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),ob=(()=>{var t;class e{constructor(){this.decimalPipe=W(Dl)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=zn({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const I1e=function(t){return{"dgt-stats-totals-last-row":t}},Ei=function(t){return{"dgt-padding-bottom-xs":t}};function b1e(t,e){if(1&t&&(ae(0,"tr",4)(1,"th",5)(2,"span",6),De(3),Tn(4,"galaxyNameFormatter"),_e(),ae(5,"span",7),De(6),_e()(),ae(7,"td",8)(8,"div",9),_t(9,"img",10),ae(10,"span",11),De(11),Tn(12,"number"),_e()()(),ae(13,"td",12)(14,"div",9)(15,"span",11),De(16),Tn(17,"resourceProductionFormatter"),_e()()(),ae(18,"td",13)(19,"div",14),_t(20,"img",15),ae(21,"span",11),De(22),Tn(23,"number"),_e()()(),ae(24,"td",12)(25,"div",14)(26,"span",11),De(27),Tn(28,"resourceProductionFormatter"),_e()()(),ae(29,"td",13)(30,"div",16),_t(31,"img",17),ae(32,"span",11),De(33),Tn(34,"number"),_e()()(),ae(35,"td",12)(36,"div",16)(37,"span",11),De(38),Tn(39,"resourceProductionFormatter"),_e()()(),ae(40,"td",13)(41,"div",18),_t(42,"img",19),ae(43,"span",11),De(44),Tn(45,"number"),_e()()(),ae(46,"td",20)(47,"div",18)(48,"span",11),De(49),Tn(50,"resourceProductionFormatter"),_e()()(),ae(51,"td",21)(52,"div",22),_t(53,"img",23),ae(54,"span",11),De(55),Tn(56,"number"),_e()()(),ae(57,"td",24)(58,"div",25),_t(59,"img",26),ae(60,"span",11),De(61),Tn(62,"number"),_e()()(),ae(63,"td",27)(64,"div",28),_t(65,"img",29),ae(66,"span",11),De(67),Tn(68,"number"),_e()()()()),2&t){const n=e.$implicit,r=e.index,i=fi();nt("ngClass",Fr(64,I1e,r==i.panel.stats.size-1)),Me(1),nt("ngClass",Fr(66,Ei,r==i.panel.stats.size-2)),Me(2),Yt(hi(4,26,n.key)),Me(3),Ra("[",n.value.count,"]"),Me(1),nt("ngClass",Fr(68,Ei,r==i.panel.stats.size-2)),Me(4),Yt(bo(12,28,n.value.resources.metalStored,"1.0","en-US")),Me(2),nt("ngClass",Fr(70,Ei,r==i.panel.stats.size-2)),Me(3),Yt(hi(17,32,n.value.resources.metalProduction)),Me(2),nt("ngClass",Fr(72,Ei,r==i.panel.stats.size-2)),Me(4),Yt(bo(23,34,n.value.resources.mineralStored,"1.0","en-US")),Me(2),nt("ngClass",Fr(74,Ei,r==i.panel.stats.size-2)),Me(3),Yt(hi(28,38,n.value.resources.mineralProduction)),Me(2),nt("ngClass",Fr(76,Ei,r==i.panel.stats.size-2)),Me(4),Yt(bo(34,40,n.value.resources.foodStored,"1.0","en-US")),Me(2),nt("ngClass",Fr(78,Ei,r==i.panel.stats.size-2)),Me(3),Yt(hi(39,44,n.value.resources.foodProduction)),Me(2),nt("ngClass",Fr(80,Ei,r==i.panel.stats.size-2)),Me(4),Yt(bo(45,46,n.value.resources.energyStored,"1.0","en-US")),Me(2),nt("ngClass",Fr(82,Ei,r==i.panel.stats.size-2)),Me(3),Yt(hi(50,50,n.value.resources.energyProduction)),Me(2),nt("ngClass",Fr(84,Ei,r==i.panel.stats.size-2)),Me(4),Yt(bo(56,52,n.value.resources.ground,"1.0","en-US")),Me(2),nt("ngClass",Fr(86,Ei,r==i.panel.stats.size-2)),Me(4),Yt(bo(62,56,n.value.resources.orbit,"1.0","en-US")),Me(2),nt("ngClass",Fr(88,Ei,r==i.panel.stats.size-2)),Me(4),Yt(bo(68,60,n.value.soldiers.total,"1.0","en-US"))}}let w1e=(()=>{var t;class e{constructor(){this.statsPanelService=W(nB)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pr({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(ae(0,"div",0)(1,"div",1)(2,"table",2),Kr(3,b1e,69,90,"tr",3),Tn(4,"keyvalue"),_e()()()),2&r&&(Me(3),nt("ngForOf",hi(4,1,i.panel.stats)))},dependencies:[TR,o4,Dl,kR,C1e,ob],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function rB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rB(Object(n),!0).forEach(function(r){Pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h2(t){return(h2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function iB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ab(t,e){return function R1e(t){if(Array.isArray(t))return t}(t)||function M1e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||sB(t,e)||function N1e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x0(t){return function S1e(t){if(Array.isArray(t))return cb(t)}(t)||function P1e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||sB(t)||function k1e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sB(t,e){if(t){if("string"==typeof t)return cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cb(t,e)}}function cb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oB=function(){},lb={},aB={},cB=null,lB={mark:oB,measure:oB};try{typeof window<"u"&&(lb=window),typeof document<"u"&&(aB=document),typeof MutationObserver<"u"&&(cB=MutationObserver),typeof performance<"u"&&(lB=performance)}catch{}var m2,_2,v2,y2,E2,uB=(lb.navigator||{}).userAgent,dB=void 0===uB?"":uB,ca=lb,Ht=aB,fB=cB,g2=lB,fo=!!Ht.documentElement&&!!Ht.head&&"function"==typeof Ht.addEventListener&&"function"==typeof Ht.createElement,hB=~dB.indexOf("MSIE")||~dB.indexOf("Trident/"),ho="___FONT_AWESOME___",pB="fa",gB="svg-inline--fa",xc="data-fa-i2svg",db="data-fa-pseudo-element",F1e="data-fa-pseudo-element-pending",fb="data-prefix",hb="data-icon",mB="fontawesome-i2svg",V1e="async",L1e=["HTML","HEAD","STYLE","SCRIPT"],_B=function(){try{return!0}catch{return!1}}(),zt="classic",cn="sharp",pb=[zt,cn];function C0(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[zt]}})}var I0=C0((Pn(m2={},zt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Pn(m2,cn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),m2)),b0=C0((Pn(_2={},zt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Pn(_2,cn,{solid:"fass",regular:"fasr",light:"fasl"}),_2)),w0=C0((Pn(v2={},zt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Pn(v2,cn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),v2)),B1e=C0((Pn(y2={},zt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Pn(y2,cn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),y2)),H1e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,vB="fa-layers-text",z1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,U1e=C0((Pn(E2={},zt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Pn(E2,cn,{900:"fass",400:"fasr",300:"fasl"}),E2)),yB=[1,2,3,4,5,6,7,8,9,10],j1e=yB.concat([11,12,13,14,15,16,17,18,19,20]),$1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Cc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},A0=new Set;Object.keys(b0[zt]).map(A0.add.bind(A0)),Object.keys(b0[cn]).map(A0.add.bind(A0));var G1e=[].concat(pb,x0(A0),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Cc.GROUP,Cc.SWAP_OPACITY,Cc.PRIMARY,Cc.SECONDARY]).concat(yB.map(function(t){return"".concat(t,"x")})).concat(j1e.map(function(t){return"w-".concat(t)})),D0=ca.FontAwesomeConfig||{};Ht&&"function"==typeof Ht.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=ab(t,2),r=e[1],i=function W1e(t){return""===t||"false"!==t&&("true"===t||t)}(function q1e(t){var e=Ht.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(D0[r]=i)});var EB={styleDefault:"solid",familyDefault:"classic",cssPrefix:pB,replacementClass:gB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};D0.familyPrefix&&(D0.cssPrefix=D0.familyPrefix);var Gu=Ae(Ae({},EB),D0);Gu.autoReplaceSvg||(Gu.observeMutations=!1);var Pe={};Object.keys(EB).forEach(function(t){Object.defineProperty(Pe,t,{enumerable:!0,set:function(n){Gu[t]=n,T0.forEach(function(r){return r(Pe)})},get:function(){return Gu[t]}})}),Object.defineProperty(Pe,"familyPrefix",{enumerable:!0,set:function(e){Gu.cssPrefix=e,T0.forEach(function(n){return n(Pe)})},get:function(){return Gu.cssPrefix}}),ca.FontAwesomeConfig=Pe;var T0=[],bs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},X1e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function S0(){for(var t=12,e="";t-- >0;)e+=X1e[62*Math.random()|0];return e}function qu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function gb(t){return t.classList?qu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function xB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function x2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function mb(t){return t.size!==bs.size||t.x!==bs.x||t.y!==bs.y||t.rotate!==bs.rotate||t.flipX||t.flipY}var tme=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function CB(){var t=pB,e=gB,n=Pe.cssPrefix,r=Pe.replacementClass,i=tme;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var IB=!1;function _b(){Pe.autoAddCss&&!IB&&(function Q1e(t){if(t&&fo){var e=Ht.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ht.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Ht.head.insertBefore(e,r)}}(CB()),IB=!0)}var nme={mixout:function(){return{dom:{css:CB,insertCss:_b}}},hooks:function(){return{beforeDOMElementCreation:function(){_b()},beforeI2svg:function(){_b()}}}},po=ca||{};po[ho]||(po[ho]={}),po[ho].styles||(po[ho].styles={}),po[ho].hooks||(po[ho].hooks={}),po[ho].shims||(po[ho].shims=[]);var ji=po[ho],bB=[],C2=!1;function R0(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?xB(t):"<".concat(e," ").concat(function J1e(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(xB(t[n]),'" ')},"").trim()}(r),">").concat(s.map(R0).join(""),"</").concat(e,">")}function wB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}fo&&((C2=(Ht.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ht.readyState))||Ht.addEventListener("DOMContentLoaded",function t(){Ht.removeEventListener("DOMContentLoaded",t),C2=1,bB.map(function(e){return e()})}));var vb=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function yb(t){var e=function ome(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function AB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Eb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=AB(e);"function"!=typeof ji.hooks.addPack||i?ji.styles[t]=Ae(Ae({},ji.styles[t]||{}),s):ji.hooks.addPack(t,AB(e)),"fas"===t&&Eb("fa",e)}var I2,b2,w2,Wu=ji.styles,cme=ji.shims,lme=(Pn(I2={},zt,Object.values(w0[zt])),Pn(I2,cn,Object.values(w0[cn])),I2),xb=null,DB={},TB={},SB={},RB={},PB={},ume=(Pn(b2={},zt,Object.keys(I0[zt])),Pn(b2,cn,Object.keys(I0[cn])),b2);var MB=function(){var e=function(s){return vb(Wu,function(o,a,c){return o[c]=vb(a,s,{}),o},{})};DB=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),TB=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),PB=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Wu||Pe.autoFetchSvg,r=vb(cme,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});SB=r.names,RB=r.unicodes,xb=A2(Pe.styleDefault,{family:Pe.familyDefault})};function Cb(t,e){return(DB[t]||{})[e]}function Ic(t,e){return(PB[t]||{})[e]}function kB(t){return SB[t]||{prefix:null,iconName:null}}function ua(){return xb}(function Y1e(t){T0.push(t)})(function(t){xb=A2(t.styleDefault,{family:Pe.familyDefault})}),MB();var Ib=function(){return{prefix:null,iconName:null,rest:[]}};function A2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?zt:n;return b0[r][t]||b0[r][I0[r][t]]||(t in ji.styles?t:null)||null}var NB=(Pn(w2={},zt,Object.keys(w0[zt])),Pn(w2,cn,Object.keys(w0[cn])),w2);function D2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Pn(e={},zt,"".concat(Pe.cssPrefix,"-").concat(zt)),Pn(e,cn,"".concat(Pe.cssPrefix,"-").concat(cn)),e),o=null,a=zt;(t.includes(s[zt])||t.some(function(l){return NB[zt].includes(l)}))&&(a=zt),(t.includes(s[cn])||t.some(function(l){return NB[cn].includes(l)}))&&(a=cn);var c=t.reduce(function(l,u){var d=function fme(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function dme(t){return~G1e.indexOf(t)}(i)?null:i}(Pe.cssPrefix,u);if(Wu[u]?(u=lme[a].includes(u)?B1e[a][u]:u,o=u,l.prefix=u):ume[a].indexOf(u)>-1?(o=u,l.prefix=A2(u,{family:a})):d?l.iconName=d:u!==Pe.replacementClass&&u!==s[zt]&&u!==s[cn]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===o?kB(l.iconName):{},h=Ic(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Wu.far&&Wu.fas&&!Pe.autoFetchSvg&&(l.prefix="fas")}return l},Ib());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===cn&&(Wu.fass||Pe.autoFetchSvg)&&(c.prefix="fass",c.iconName=Ic(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=ua()||"fas"),c}var gme=function(){function t(){(function A1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function D1e(t,e,n){e&&iB(t.prototype,e),n&&iB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=Ae(Ae({},n.definitions[a]||{}),o[a]),Eb(a,o[a]);var c=w0[zt][a];c&&Eb(c,o[a]),MB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),OB=[],Ku={},Yu={},mme=Object.keys(Yu);function bb(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Ku[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function bc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Ku[t]||[]).forEach(function(s){s.apply(null,n)})}function go(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Yu[t]?Yu[t].apply(null,e):void 0}function wb(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||ua();if(e)return e=Ic(n,e)||e,wB(FB.definitions,n,e)||wB(ji.styles,n,e)}var FB=new gme,yme={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fo?(bc("beforeI2svg",e),go("pseudoElements2svg",e),go("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Pe.autoReplaceSvg&&(Pe.autoReplaceSvg=!0),Pe.observeMutations=!0,function ime(t){fo&&(C2?setTimeout(t,0):bB.push(t))}(function(){xme({autoReplaceSvgRoot:n}),bc("watch",e)})}},ni={noAuto:function(){Pe.autoReplaceSvg=!1,Pe.observeMutations=!1,bc("noAuto")},config:Pe,dom:yme,parse:{icon:function(e){if(null===e)return null;if("object"===h2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ic(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=A2(e[0]);return{prefix:r,iconName:Ic(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Pe.cssPrefix,"-"))>-1||e.match(H1e))){var i=D2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||ua(),iconName:Ic(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=ua();return{prefix:s,iconName:Ic(s,e)||e}}}},library:FB,findIconDefinition:wb,toHtml:R0},xme=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Ht:n;(Object.keys(ji.styles).length>0||Pe.autoFetchSvg)&&fo&&Pe.autoReplaceSvg&&ni.dom.i2svg({node:r})};function T2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return R0(r)})}}),Object.defineProperty(t,"node",{get:function(){if(fo){var r=Ht.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Ab(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,E=p.height,S="fak"===i,I=[Pe.replacementClass,s?"".concat(Pe.cssPrefix,"-").concat(s):""].filter(function(Jt){return-1===d.classes.indexOf(Jt)}).filter(function(Jt){return""!==Jt||!!Jt}).concat(d.classes).join(" "),H={children:[],attributes:Ae(Ae({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:I,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(E)})},G=S&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/E*16*.0625,"em")}:{};h&&(H.attributes[xc]=""),c&&(H.children.push({tag:"title",attributes:{id:H.attributes["aria-labelledby"]||"title-".concat(u||S0())},children:[c]}),delete H.attributes.title);var ue=Ae(Ae({},H),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:Ae(Ae({},G),d.styles)}),Te=r.found&&n.found?go("generateAbstractMask",ue)||{children:[],attributes:{}}:go("generateAbstractIcon",ue)||{children:[],attributes:{}},vt=Te.attributes;return ue.children=Te.children,ue.attributes=vt,a?function Ime(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(Pe.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ae(Ae({},i),{},{id:o}),children:r}]}]}(ue):function Cme(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(mb(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=x2(Ae(Ae({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(ue)}function VB(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=Ae(Ae(Ae({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[xc]="");var u=Ae({},o.styles);mb(i)&&(u.transform=function eme(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&hB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=x2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var Db=ji.styles;function Tb(t){var e=t[0],n=t[1],s=ab(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(Cc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(Cc.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Pe.cssPrefix,"-").concat(Cc.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var wme={found:!1,width:512,height:512};function Sb(t,e){var n=e;return"fa"===e&&null!==Pe.styleDefault&&(e=ua()),new Promise(function(r,i){if(go("missingIconAbstract"),"fa"===n){var o=kB(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Db[e]&&Db[e][t])return r(Tb(Db[e][t]));(function Ame(t,e){!_B&&!Pe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(Ae(Ae({},wme),{},{icon:Pe.showMissingIcons&&t&&go("missingIconAbstract")||{}}))})}var LB=function(){},Rb=Pe.measurePerformance&&g2&&g2.mark&&g2.measure?g2:{mark:LB,measure:LB},P0='FA "6.4.2"',BB=function(e){Rb.mark("".concat(P0," ").concat(e," ends")),Rb.measure("".concat(P0," ").concat(e),"".concat(P0," ").concat(e," begins"),"".concat(P0," ").concat(e," ends"))},Pb={begin:function(e){return Rb.mark("".concat(P0," ").concat(e," begins")),function(){return BB(e)}},end:BB},S2=function(){};function HB(t){return"string"==typeof(t.getAttribute?t.getAttribute(xc):null)}function Pme(t){return Ht.createElementNS("http://www.w3.org/2000/svg",t)}function Mme(t){return Ht.createElement(t)}function zB(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Pme:Mme:n;if("string"==typeof t)return Ht.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(zB(o,{ceFn:r}))}),i}var R2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(zB(i),n)}),null===n.getAttribute(xc)&&Pe.keepOriginalSource){var r=Ht.createComment(function kme(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~gb(n).indexOf(Pe.replacementClass))return R2.replace(e);var i=new RegExp("".concat(Pe.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Pe.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return R0(a)}).join("\n");n.setAttribute(xc,""),n.innerHTML=o}};function UB(t){t()}function jB(t,e){var n="function"==typeof e?e:S2;if(0===t.length)n();else{var r=UB;Pe.mutateApproach===V1e&&(r=ca.requestAnimationFrame||UB),r(function(){var i=function Rme(){return!0===Pe.autoReplaceSvg?R2.replace:R2[Pe.autoReplaceSvg]||R2.replace}(),s=Pb.begin("mutate");t.map(i),s(),n()})}}var Mb=!1;function $B(){Mb=!0}function kb(){Mb=!1}var P2=null;function GB(t){if(fB&&Pe.observeMutations){var e=t.treeCallback,n=void 0===e?S2:e,r=t.nodeCallback,i=void 0===r?S2:r,s=t.pseudoElementsCallback,o=void 0===s?S2:s,a=t.observeMutationsRoot,c=void 0===a?Ht:a;P2=new fB(function(l){if(!Mb){var u=ua();qu(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!HB(d.addedNodes[0])&&(Pe.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Pe.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&HB(d.target)&&~$1e.indexOf(d.attributeName))if("class"===d.attributeName&&function Tme(t){var e=t.getAttribute?t.getAttribute(fb):null,n=t.getAttribute?t.getAttribute(hb):null;return e&&n}(d.target)){var f=D2(gb(d.target)),p=f.iconName;d.target.setAttribute(fb,f.prefix||u),p&&d.target.setAttribute(hb,p)}else(function Sme(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Pe.replacementClass)})(d.target)&&i(d.target)})}}),fo&&P2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function qB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function Fme(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=D2(gb(t));return i.prefix||(i.prefix=ua()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function hme(t,e){return(TB[t]||{})[e]}(i.prefix,t.innerText)||Cb(i.prefix,yb(t.innerText))),!i.iconName&&Pe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function Vme(t){var e=qu(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Pe.autoA11y&&(n?e["aria-labelledby"]="".concat(Pe.replacementClass,"-title-").concat(r||S0()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=bb("parseNodeAttributes",{},t),c=e.styleParser?function Ome(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return Ae({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:bs,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var Bme=ji.styles;function WB(t){var e="nest"===Pe.autoReplaceSvg?qB(t,{styleParser:!1}):qB(t);return~e.extra.classes.indexOf(vB)?go("generateLayersText",t,e):go("generateSvgReplacementMutation",t,e)}var da=new Set;function KB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!fo)return Promise.resolve();var n=Ht.documentElement.classList,r=function(d){return n.add("".concat(mB,"-").concat(d))},i=function(d){return n.remove("".concat(mB,"-").concat(d))},s=Pe.autoFetchSvg?da:pb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Bme));s.includes("fa")||s.push("fa");var o=[".".concat(vB,":not([").concat(xc,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(xc,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=qu(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Pb.begin("onTree"),l=a.reduce(function(u,d){try{var f=WB(d);f&&u.push(f)}catch(h){_B||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){jB(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function Hme(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;WB(t).then(function(n){n&&jB([n],e)})}function zme(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:wb(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:wb(i||{})),t(r,Ae(Ae({},n),{},{mask:i}))}}pb.map(function(t){da.add("fa-".concat(t))}),Object.keys(I0[zt]).map(da.add.bind(da)),Object.keys(I0[cn]).map(da.add.bind(da)),da=x0(da);var Ume=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?bs:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,E=void 0===g?[]:g,S=n.attributes,I=void 0===S?{}:S,H=n.styles,G=void 0===H?{}:H;if(e){var ue=e.prefix,Te=e.iconName,Fe=e.icon;return T2(Ae({type:"icon"},e),function(){return bc("beforeDOMElementCreation",{iconDefinition:e,params:n}),Pe.autoA11y&&(f?I["aria-labelledby"]="".concat(Pe.replacementClass,"-title-").concat(p||S0()):(I["aria-hidden"]="true",I.focusable="false")),Ab({icons:{main:Tb(Fe),mask:c?Tb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ue,iconName:Te,transform:Ae(Ae({},bs),i),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:I,styles:G,classes:E}})})}},jme={mixout:function(){return{icon:zme(Ume)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=KB,n.nodeCallback=Hme,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return KB(void 0===r?Ht:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([Sb(i,a),u.iconName?Sb(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var E=ab(g,2);h([n,Ab({icons:{main:E[0],mask:E[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=x2(n.styles);return c.length>0&&(i.style=c),mb(o)&&(l=go("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},$me={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return T2({type:"layer"},function(){bc("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Pe.cssPrefix,"-layers")].concat(x0(s)).join(" ")},children:o}]})}}}},Gme={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return T2({type:"counter",content:n},function(){return bc("beforeDOMElementCreation",{content:n,params:r}),function bme(t){var e=t.content,n=t.title,r=t.extra,i=Ae(Ae(Ae({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=x2(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(Pe.cssPrefix,"-layers-counter")].concat(x0(a))}})})}}}},qme={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?bs:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return T2({type:"text",content:n},function(){return bc("beforeDOMElementCreation",{content:n,params:r}),VB({content:n,transform:Ae(Ae({},bs),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(Pe.cssPrefix,"-layers-text")].concat(x0(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(hB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Pe.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,VB({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},Wme=new RegExp('"',"ug"),YB=[1105920,1112319];function QB(t,e){var n="".concat(F1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=qu(t.children).filter(function(Fe){return Fe.getAttribute(db)===e})[0],a=ca.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(z1e),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?cn:zt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?b0[f][c[2].toLowerCase()]:U1e[f][l],p=function Kme(t){var e=t.replace(Wme,""),n=function ame(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=YB[0]&&n<=YB[1],i=2===e.length&&e[0]===e[1];return{value:yb(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,E=p.isSecondary,S=c[0].startsWith("FontAwesome"),I=Cb(h,g),H=I;if(S){var G=function pme(t){var e=RB[t],n=Cb("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);G.iconName&&G.prefix&&(I=G.iconName,h=G.prefix)}if(!I||E||o&&o.getAttribute(fb)===h&&o.getAttribute(hb)===H)r();else{t.setAttribute(n,H),o&&t.removeChild(o);var ue=function Lme(){return{iconName:null,title:null,titleId:null,prefix:null,transform:bs,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Te=ue.extra;Te.attributes[db]=e,Sb(I,h).then(function(Fe){var vt=Ab(Ae(Ae({},ue),{},{icons:{main:Fe,mask:Ib()},prefix:h,iconName:H,extra:Te,watchable:!0})),Jt=Ht.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Jt,t.firstChild):t.appendChild(Jt),Jt.outerHTML=vt.map(function(Ci){return R0(Ci)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function Yme(t){return Promise.all([QB(t,"::before"),QB(t,"::after")])}function Qme(t){return!(t.parentNode===document.head||~L1e.indexOf(t.tagName.toUpperCase())||t.getAttribute(db)||t.parentNode&&"svg"===t.parentNode.tagName)}function XB(t){if(fo)return new Promise(function(e,n){var r=qu(t.querySelectorAll("*")).filter(Qme).map(Yme),i=Pb.begin("searchPseudoElements");$B(),Promise.all(r).then(function(){i(),kb(),e()}).catch(function(){i(),kb(),n()})})}var JB=!1,ZB=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Nb={x:0,y:0,width:"100%",height:"100%"};function eH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function e2e(t){return"g"===t.tag?t.children:[t]}var t2e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?D2(i.split(" ").map(function(o){return o.trim()})):Ib();return s.prefix||(s.prefix=ua()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,f=o.icon,h=function Z1e(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:Ae(Ae({},Nb),{},{fill:"white"})},g=u.children?{children:u.children.map(eH)}:{},E={tag:"g",attributes:Ae({},h.inner),children:[eH(Ae({tag:u.tag,attributes:Ae(Ae({},u.attributes),h.path)},g))]},S={tag:"g",attributes:Ae({},h.outer),children:[E]},I="mask-".concat(a||S0()),H="clip-".concat(a||S0()),G={tag:"mask",attributes:Ae(Ae({},Nb),{},{id:I,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,S]},ue={tag:"defs",children:[{tag:"clipPath",attributes:{id:H},children:e2e(f)},G]};return r.push(ue,{tag:"rect",attributes:Ae({fill:"currentColor","clip-path":"url(#".concat(H,")"),mask:"url(#".concat(I,")")},Nb)}),{children:r,attributes:i}}}};!function _me(t,e){var n=e.mixoutsTo;OB=t,Ku={},Object.keys(Yu).forEach(function(r){-1===mme.indexOf(r)&&delete Yu[r]}),OB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===h2(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Ku[o]||(Ku[o]=[]),Ku[o].push(s[o])})}r.provides&&r.provides(Yu)})}([nme,jme,$me,Gme,qme,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=XB,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Pe.searchPseudoElements&&XB(void 0===r?Ht:r)}}},{mixout:function(){return{dom:{unwatch:function(){$B(),JB=!0}}}},hooks:function(){return{bootstrap:function(){GB(bb("mutationObserverCallbacks",{}))},noAuto:function(){!function Nme(){P2&&P2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;JB?kb():GB(bb("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return ZB(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=ZB(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:Ae({},h.outer),children:[{tag:"g",attributes:Ae({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Ae(Ae({},r.icon.attributes),h.path)}]}]}}}},t2e,{provides:function(e){var n=!1;ca.matchMedia&&(n=ca.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Ae(Ae({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Ae(Ae({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Ae(Ae({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Ae(Ae({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ae(Ae({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Ae(Ae({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Ae(Ae({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Ae(Ae({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ae(Ae({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:ni});var s2e=ni.parse,o2e=ni.icon;const a2e=["*"],u2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let h2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),tH=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),p2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[mr]}),e})(),g2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(ts),J(Er))},t.\u0275cmp=Pr({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[mr],ngContentSelectors:a2e,decls:1,vars:0,template:function(r,i){1&r&&(function CT(t){const e=X()[un][rr];if(!e.projection){const r=e.projection=Td(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?tY(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function IT(t,e=0,n){const r=X(),i=ct(),s=ul(i,tt+t,16,null,n||null);null===s.projection&&(s.projection=e),M_(),(!r[Ns]||zc())&&32!=(32&s.flags)&&function ZG(t,e,n){b5(e[$e],0,e,n,ov(t,n,e),v5(n.parent||e[rr],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),m2e=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?s2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...u2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=o2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(n9),J(h2e),J(tH),J(p2e,8),J(g2e,8))},t.\u0275cmp=Pr({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(hy("innerHTML",i.renderedIconHTML,V5),Si("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[mr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),nH=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ft({}),e})(),_2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t,bootstrap:[w1e]}),t.\u0275inj=Ft({providers:[Dl,nB],imports:[os,nH]}),e})(),rH=(()=>{var t;class e{constructor(){this.firestore=W(Bi),this.dgAPI=W(ao)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(this.planetScanSubscription)return;let i=Hi(this.firestore,"scans");this.planetScanSubscription=Du(Tu(i,Wh("location","==",r.planetScan.location),nC(1)),{idField:"id"}).subscribe(s=>{let o=Object.assign(new NF,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==dr.RESOURCE||r.type==dr.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==dr.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==dr.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==dr.FLEET?o.fleets=r.planetScan.fleets:(0==s.length?Ude(i,JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):rC(_s(i,o.id),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=null)})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function v2e(t,e){1&t&&(ae(0,"p",3),De(1,"Each scan will be cached and shared with your alliance members "),_t(2,"img",4),_e())}let y2e=(()=>{var t;class e{constructor(){this.scanService=W(rH),this.authService=W(pc),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-shared-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pr({type:t,selectors:[["dgt-shared-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/G0qBRyH.png","alt","beer"]],template:function(r,i){1&r&&(ae(0,"div",0),_t(1,"span",1),_e(),Kr(2,v2e,3,0,"p",2)),2&r&&(Me(2),nt("ngIf",i.active))},dependencies:[Oa],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),E2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t,bootstrap:[y2e]}),t.\u0275inj=Ft({providers:[rH],imports:[os,ko(()=>Oo(fr_firebase)),$a(()=>Ga()),na(()=>ra()),oa(()=>aa(No(),{provider:new Is(fr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),iH=(()=>{var t;class e{constructor(){this.firestore=W(Bi),this.dgAPI=W(ao),this.resourceProductionFormatterPipe=W(ob),this.decimalPipe=W(Dl)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(s=>s.location.join("."));this.scansSubscription=Du(Tu(Hi(this.firestore,"scans"),Wh("location","in",i))).subscribe(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Ot.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Ot.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Ot.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Ot.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Ot.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Ot.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Ot.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),d.includes(Ot.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Ot.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Ot.MEDICAL_CENTRE)&&(f+=.3),d.includes(Ot.LEISURE_CENTRE)&&(f+=.4),d.includes(Ot.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+u.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"})})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function x2e(t,e){1&t&&(ae(0,"p",3),De(1,"Planets will display the newest scan data available "),_t(2,"img",4),_e())}let C2e=(()=>{var t;class e{constructor(){this.scanService=W(iH),this.authService=W(pc),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pr({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/G0qBRyH.png","alt","beer"]],template:function(r,i){1&r&&(ae(0,"div",0),_t(1,"span",1),_e(),Kr(2,x2e,3,0,"p",2)),2&r&&(Me(2),nt("ngIf",i.active))},dependencies:[Oa],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),I2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t,bootstrap:[C2e]}),t.\u0275inj=Ft({providers:[Dl,ob,iH],imports:[os,ko(()=>Oo(fr_firebase)),$a(()=>Ga()),na(()=>ra()),oa(()=>aa(No(),{provider:new Is(fr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function b2e(t,e){if(1&t){const n=dg();ae(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),De(6,"DGT Login"),_e()()(),ae(7,"tr",3)(8,"td"),_t(9,"input",4,5),_e(),ae(11,"td"),_t(12,"input",6,7),_e()(),ae(14,"tr",8)(15,"td",2)(16,"button",9),en("click",function(){Ed(n);const i=sy(10),s=sy(13);return xd(fi().signInWithEmailAndPassword(i.value,s.value))}),De(17,"Login"),_e(),ae(18,"button",10),en("click",function(){return Ed(n),xd(fi().signInWithGoogle())}),_t(19,"img",11),_e()()()()()()}}let w2e=(()=>{var t;class e{constructor(){this.authService=W(pc),this.auth=W(Bf),this.firestore=W(Bi),this.localStorageService=W(yi),this.changeDetection=W(Do),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new de(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(Bt.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pr({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(Kr(0,b2e,20,0,"div",0),Tn(1,"async")),2&r&&nt("ngIf",hi(1,1,i.displayLogin))},dependencies:[Oa,hf],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),A2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t,bootstrap:[w2e]}),t.\u0275inj=Ft({imports:[os,ko(()=>Oo(fr_firebase)),$a(()=>Ga()),na(()=>ra()),oa(()=>aa(No(),{provider:new Is(fr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var k2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let Fye=(()=>{var t;class e{constructor(){this.localStorageService=W(yi),this._statsEventEmitter=new bt}loadStats(r){let i=r.map(s=>s.name.toLowerCase());this.localStorageService.get(Bt.PLAYERS_STATS).forEach(s=>{let o=new FF;o.name=s.name,o.score=s.score,o.combatScore=s.combatScore,o.rank=s.rank,o.planets=s.planets,i.indexOf(o.name.toLowerCase())>=0&&this._statsEventEmitter.emit(o)})}get statsEventEmitter(){return this._statsEventEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Vye=(()=>{var t;class e{sortMembersByScore(r){for(let i=0;i<r.length-1;i++)for(let s=i+1;s<r.length;s++)if(r[i].stats&&r[s].stats&&r[i].stats.score<r[s].stats.score){let o=r[i];r[i]=r[s],r[s]=o}}showComponent(r,i){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show")),i.nativeElement&&i.nativeElement.classList.contains("hide")&&(i.nativeElement.classList.add("show"),i.nativeElement.classList.remove("hide"))}setStats(r,i){r.forEach(s=>{s.name.toLowerCase()===i.name&&(s.stats.score=i.score,s.stats.combatScore=i.combatScore,s.stats.planets=i.planets,s.stats.rank=i.rank)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Rz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(ts),J(Er))},t.\u0275dir=Oe({type:t}),e})(),wc=(()=>{var t;class e extends Rz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=qn(t)))(i||t)}}(),t.\u0275dir=Oe({type:t,features:[Et]}),e})();const ws=new ye("NgValueAccessor"),Hye={provide:ws,useExisting:Tt(()=>N2),multi:!0},Uye=new ye("CompositionEventMode");let N2=(()=>{var t;class e extends Rz{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zye(){const t=To()?To().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(ts),J(Er),J(Uye,8))},t.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&en("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[$t([Hye]),Et]}),e})();const hr=new ye("NgValidators"),ha=new ye("NgAsyncValidators");function zz(t){return null!=t}function Uz(t){return Yd(t)?Hn(t):t}function jz(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function $z(t,e){return e.map(n=>n(t))}function Gz(t){return t.map(e=>function $ye(t){return!t.validate}(e)?e:n=>e.validate(n))}function Hb(t){return null!=t?function qz(t){if(!t)return null;const e=t.filter(zz);return 0==e.length?null:function(n){return jz($z(n,e))}}(Gz(t)):null}function zb(t){return null!=t?function Wz(t){if(!t)return null;const e=t.filter(zz);return 0==e.length?null:function(n){return function Lye(...t){const e=mw(t),{args:n,keys:r}=yV(t),i=new de(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;nr(n[u]).subscribe(et(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?xV(r,a):a),s.complete())}))}});return e?i.pipe(EV(e)):i}($z(n,e).map(Uz)).pipe(Ye(jz))}}(Gz(t)):null}function Kz(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ub(t){return t?Array.isArray(t)?t:[t]:[]}function F2(t,e){return Array.isArray(t)?t.includes(e):t===e}function Xz(t,e){const n=Ub(e);return Ub(t).forEach(i=>{F2(n,i)||n.push(i)}),n}function Jz(t,e){return Ub(e).filter(n=>!F2(t,n))}class Zz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Dr extends Zz{get formDirective(){return null}get path(){return null}}class pa extends Zz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tU=(()=>{var t;class e extends eU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(pa,2))},t.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Et]}),e})(),jb=(()=>{var t;class e extends eU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Dr,10))},t.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Qd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Et]}),e})();const M0="VALID",L2="INVALID",Qu="PENDING",k0="DISABLED";function qb(t){return(B2(t)?t.validators:t)||null}function Wb(t,e){return(B2(e)?e.asyncValidators:t)||null}function B2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class sU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===M0}get invalid(){return this.status===L2}get pending(){return this.status==Qu}get disabled(){return this.status===k0}get enabled(){return this.status!==k0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Xz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Xz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Jz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Jz(e,this._rawAsyncValidators))}hasValidator(e){return F2(this._rawValidators,e)}hasAsyncValidator(e){return F2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=k0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=M0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===M0||this.status===Qu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?k0:M0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qu,this._hasOwnPendingAsyncValidator=!0;const n=Uz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new bt,this.statusChanges=new bt}_calculateStatus(){return this._allControlsDisabled()?k0:this.errors?L2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qu)?Qu:this._anyControlsHaveStatus(L2)?L2:M0}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){B2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Kye(t){return Array.isArray(t)?Hb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Yye(t){return Array.isArray(t)?zb(t):t||null}(this._rawAsyncValidators)}}class Kb extends sU{constructor(e,n,r){super(qb(n),Wb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function iU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new ee(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function rU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[n])throw new ee(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Xu=new ye("CallSetDisabledState",{providedIn:"root",factory:()=>H2}),H2="always";function N0(t,e,n=H2){Yb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Jye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oU(t,e)})}(t,e),function e4e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Zye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Xye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function j2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Yb(t,e){const n=function Yz(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Kz(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Qz(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Kz(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();j2(e._rawValidators,i),j2(e._rawAsyncValidators,i)}function oU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const s4e={provide:Dr,useExisting:Tt(()=>F0)},O0=(()=>Promise.resolve())();let F0=(()=>{var t;class e extends Dr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new bt,this.form=new Kb({},Hb(r),zb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){O0.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),N0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){O0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){O0.then(()=>{const i=this._findContainer(r.path),s=new Kb({});(function aU(t,e){Yb(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){O0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){O0.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function cU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(J(hr,10),J(ha,10),J(Xu,8))},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&en("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([s4e]),Et]}),e})();function lU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function uU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const dU=class extends sU{constructor(e=null,n,r){super(qb(n),Wb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=uU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){uU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},c4e={provide:pa,useExisting:Tt(()=>Zb)},pU=(()=>Promise.resolve())();let Zb=(()=>{var t;class e extends pa{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new dU,this._registered=!1,this.name="",this.update=new bt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function Jb(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===N2?n=s:function r4e(t){return Object.getPrototypeOf(t.constructor)===wc}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function Xb(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){N0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){pU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function wl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);pU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function z2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Dr,9),J(hr,10),J(ha,10),J(ws,10),J(Do,8),J(Xu,8))},t.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$t([c4e]),Et,mr]}),e})(),ew=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),mU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ft({}),e})(),M4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ft({imports:[mU]}),e})(),NU=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Xu,useValue:r.callSetDisabledState??H2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ft({imports:[M4e]}),e})(),N4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=zn({name:"kickMemberFormatter",type:t,pure:!0}),e})();const O4e=["dgtSpinner"],F4e=["dgtMainContainer"];function V4e(t,e){if(1&t&&(ae(0,"span",18),De(1),_e()),2&t){const n=fi().$implicit;Me(1),Ra("[",n.kickEta,"]")}}const L4e=function(){return["far","circle-xmark"]};function B4e(t,e){if(1&t){const n=dg();ae(0,"div",19)(1,"form",20,21),en("ngSubmit",function(i){return Ed(n),xd(fi(4).onSubmitKickMember(i))}),_t(3,"input",22),Tn(4,"kickMemberFormatter"),ae(5,"button",23),_t(6,"fa-icon",24),_e()()()}if(2&t){const n=fi().$implicit;Me(3),ay("name",hi(4,2,n.dgId)),Me(3),nt("icon",function YS(t,e,n){const r=_r()+t,i=X();return i[r]===qe?rs(i,r,n?e.call(n):e()):function Gd(t,e){return t[e]}(i,r)}(4,L4e))}}function H4e(t,e){if(1&t&&(ae(0,"div",8)(1,"div",9)(2,"span",10),De(3),_e(),ae(4,"span",11),De(5,"Rank: "),ae(6,"span",12),De(7),_e()(),Kr(8,V4e,2,1,"span",13),ae(9,"span",14),De(10,"Score: "),ae(11,"span",12),De(12),_e()(),ae(13,"span",15),De(14,"Combat: "),ae(15,"span",12),De(16),_e()(),ae(17,"span",16),De(18,"Planets: "),ae(19,"span",12),De(20),_e()(),Kr(21,B4e,7,5,"div",17),_e()()),2&t){const n=e.$implicit,r=fi(2).ngIf,i=fi();Me(3),Yt(n.name),Me(4),Yt(n.stats.rank),Me(1),nt("ngIf",null!=n.kickEta),Me(4),Yt(n.stats.score),Me(4),Yt(n.stats.combatScore),Me(4),Yt(n.stats.planets),Me(1),nt("ngIf",null==n.kickEta&&r===i.UserRole.ADMIN)}}function z4e(t,e){if(1&t&&(ae(0,"div",5,6),Kr(2,H4e,22,7,"div",7),_e()),2&t){const n=fi(2);Me(2),nt("ngForOf",n.allianceMembers)}}function U4e(t,e){if(1&t&&(lg(0),Kr(1,z4e,3,1,"div",4),ug()),2&t){const n=fi();Me(1),nt("ngIf",n.active)}}let j4e=(()=>{var t;class e{constructor(r){this.dgAPI=W(ao),this.authService=W(pc),this.localStorageService=W(yi),this.statsService=W(Fye),this.membersPanelService=W(Vye),this.active=!1,this.initialized=!1,this.UserRole=oC,r.addIcons(k2),this.authService.authState.subscribe(i=>{i.status&&!this.initialized&&(this.allianceMembers=this.dgAPI.allianceMembers(!0),this.active=i.status,this.role=new de(s=>{s.next(i.role),s.complete()}),this.statsService.statsEventEmitter.subscribe(s=>{this.membersPanelService.setStats(this.allianceMembers,s),this.membersPanelService.sortMembersByScore(this.allianceMembers)}),this.statsService.loadStats(this.allianceMembers),this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.membersPanelService.showComponent(this.loadSpinner,this.mainContainer)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(Bt.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(tH))},t.\u0275cmp=Pr({type:t,selectors:[["dgt-alliance-members"]],viewQuery:function(r,i){if(1&r&&(wo(O4e,5),wo(F4e,5)),2&r){let s;Us(s=js())&&(i.loadSpinner=s.first),Us(s=js())&&(i.mainContainer=s.first)}},decls:5,vars:3,consts:[[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-alliance-members-panel user hide",4,"ngIf"],[1,"dgt-alliance-members-panel","user","hide"],["dgtMainContainer",""],["class","dgt-alliance-members-member",4,"ngFor","ngForOf"],[1,"dgt-alliance-members-member"],[1,"player","user"],[1,"name"],[1,"rank","stats"],[1,"value"],["class","kick-eta",4,"ngIf"],[1,"score","stats"],[1,"combat-score","stats"],[1,"planets","stats"],["class","dgt-alliance-members-kick",4,"ngIf"],[1,"kick-eta"],[1,"dgt-alliance-members-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"]],template:function(r,i){1&r&&(ae(0,"div",0,1),_t(2,"span",2),_e(),Kr(3,U4e,2,1,"ng-container",3),Tn(4,"async")),2&r&&(Me(3),nt("ngIf",hi(4,1,i.role)))},dependencies:[o4,Oa,ew,jb,F0,m2e,hf,N4e],styles:[".dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-alliance-members-panel.show[_ngcontent-%COMP%]{display:block}.dgt-alliance-members-panel.hide[_ngcontent-%COMP%]{display:none}.dgt-alliance-members-panel[_ngcontent-%COMP%], .dgt-alliance-members-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-alliance-members-kick[_ngcontent-%COMP%]{float:right!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:0;line-height:22px}span.name[_ngcontent-%COMP%]{font-weight:400!important;font-size:1em!important;width:175px!important;display:inline-block;color:#ffd46f}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}"]}),e})(),$4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t,bootstrap:[j4e]}),t.\u0275inj=Ft({imports:[os,NU,nH,ko(()=>Oo(fr_firebase)),$a(()=>Ga()),na(()=>ra()),oa(()=>aa(No(),{provider:new Is(fr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),G4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pr({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),q4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t,bootstrap:[G4e]}),t.\u0275inj=Ft({imports:[os]}),e})(),W4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pr({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),K4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t,bootstrap:[W4e]}),t.\u0275inj=Ft({providers:[kL,OI],imports:[os,ko(()=>Oo(fr_firebase)),$a(()=>Ga()),NL(()=>RL()),oa(()=>aa(No(),{provider:new Is(fr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),na(()=>ra())]}),e})(),OU=(()=>{var t;class e{constructor(){this.firestore=W(Bi),this.localStorageService=W(yi)}checkVersion(r,i){let s=Hi(this.firestore,"config"),o=qh(_s(s,"version")).subscribe(a=>{let c=Object.assign({value:""},a).value;this.localStorageService.getVersion()!==c?(this.localStorageService.cache(Bt.UPDATE_AVAILABLE,!0),i.next(!0)):(this.localStorageService.cache(Bt.UPDATE_AVAILABLE,!1),i.next(!1)),i.complete(),r.detectChanges(),document.querySelector("dgt-changelog .dgt-spinner-container")&&(document.querySelector("dgt-changelog .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-changelog .dgt-spinner-container").classList.remove("show")),o.unsubscribe()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Y4e(t,e){if(1&t){const n=dg();ae(0,"div",6)(1,"span"),De(2,"There is a new update for DarkGalaxy Toolbox. "),ae(3,"a",7),en("click",function(){return Ed(n),xd(fi().installUpdate())}),De(4,"Click here"),_e(),De(5," to install it."),_e()()}}let Q4e=(()=>{var t;class e{constructor(){this.changeLogService=W(OU),this.changeDetection=W(Do),this.localStorageService=W(yi),this.changed=new de(r=>{this.changeLogService.checkVersion(this.changeDetection,r)}),this.version=this.localStorageService.getVersion()}installUpdate(){this.localStorageService.cache(Bt.UPDATE_AVAILABLE,!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pr({type:t,selectors:[["dgt-changelog"]],decls:29,vars:4,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container"],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-important"],["id","dgt-update"],["target","_blank","href","https://github.com/vberezan/dg-toolbox/raw/main/tampermonkey/dg-toolbox.user.js",3,"click"]],template:function(r,i){1&r&&(ae(0,"div",0)(1,"h2"),De(2,"DarkGalaxy Tools "),ae(3,"span"),De(4),_e()(),ae(5,"div",1),_t(6,"span",2),_e(),Kr(7,Y4e,6,0,"div",3),Tn(8,"async"),ae(9,"div",4)(10,"div")(11,"span"),De(12,"Changelog:"),_e()(),ae(13,"ul")(14,"li"),De(15,"fix - fleets/fleet various screens"),_e(),ae(16,"li"),De(17,"fix - increased some buttons size"),_e()()(),ae(18,"div",5)(19,"div")(20,"span"),De(21,"Important:"),_e()(),ae(22,"ul")(23,"li"),De(24,"please report any bug to Whatsapp channel"),_e(),ae(25,"li")(26,"b"),De(27,"disable browser ads-blocking plugins on game domain"),_e(),De(28," - some of them are interfering with Firebase communication"),_e()()()()),2&r&&(Me(4),Yt(i.version),Me(3),nt("ngIf",hi(8,2,i.changed)))},dependencies:[Oa,hf],styles:["#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border:1px solid #5e5e5e;border-radius:5px;background:rgb(75,75,75)}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin-top:0;font-size:18px;font-weight:700;border-bottom:1px solid #5e5e5e;margin-bottom:6px;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{background:#576740;margin:5px;border-radius:3px;padding:5px 10px!important;color:#ffffffad}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#784946;border-radius:3px;display:block;margin:0 5px;color:#ffffffad}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}"]}),e})(),X4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t,bootstrap:[Q4e]}),t.\u0275inj=Ft({providers:[OU],imports:[os,ko(()=>Oo(fr_firebase)),na(()=>ra()),oa(()=>aa(No(),{provider:new Is(fr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function G2(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new le({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Yh)}});t.subscribe(s)})}class q2{}class W2{}class As{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof As?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new As;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof As?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class J4e{encodeKey(e){return FU(e)}encodeValue(e){return FU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const e6e=/%(\d[a-f0-9])/gi,t6e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FU(t){return encodeURIComponent(t).replace(e6e,(e,n)=>t6e[n]??e)}function K2(t){return`${t}`}class ga{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new J4e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Z4e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(K2):[K2(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ga({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(K2(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(K2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class n6e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function VU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function LU(t){return typeof Blob<"u"&&t instanceof Blob}function BU(t){return typeof FormData<"u"&&t instanceof FormData}class V0{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function r6e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new As),this.context||(this.context=new n6e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new ga,this.urlWithParams=n}serializeBody(){return null===this.body?null:VU(this.body)||LU(this.body)||BU(this.body)||function i6e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ga?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BU(this.body)?null:LU(this.body)?this.body.type||null:VU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ga?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new V0(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var Ju=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ju||{});class aw{constructor(e,n=200,r="OK"){this.headers=e.headers||new As,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class cw extends aw{constructor(e={}){super(e),this.type=Ju.ResponseHeader}clone(e={}){return new cw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Zu extends aw{constructor(e={}){super(e),this.type=Ju.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Zu({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class HU extends aw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function lw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let uw=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof V0)o=r;else{let l,u;l=s.headers instanceof As?s.headers:new As(s.headers),s.params&&(u=s.params instanceof ga?s.params:new ga({fromObject:s.params})),o=new V0(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Le(o).pipe(Xh(l=>this.handler.handle(l)));if(r instanceof V0||"events"===s.observe)return a;const c=a.pipe(vs(l=>l instanceof Zu));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Ye(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Ye(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new ga).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,lw(s,i))}post(r,i,s={}){return this.request("POST",r,lw(s,i))}put(r,i,s={}){return this.request("PUT",r,lw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(q2))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();function jU(t,e){return e(t)}function o6e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const c6e=new ye(""),L0=new ye(""),$U=new ye("");function l6e(){let t=null;return(e,n)=>{null===t&&(t=(W(c6e,{optional:!0})??[]).reduceRight(o6e,jU));const r=W(xg),i=r.add();return t(e,n).pipe(Jh(()=>r.remove(i)))}}let GU=(()=>{var t;class e extends q2{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=W(xg)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(L0),...this.injector.get($U,[])]));this.chain=s.reduceRight((o,a)=>function a6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),jU)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Jh(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(W2),Se(ui))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const h6e=/^\)\]\}',?\n/;let WU=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new ee(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Hn(i.\u0275loadImpl()):Le(null)).pipe(si(()=>new de(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((E,S)=>a.setRequestHeader(E,S.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const E=r.detectContentTypeHeader();null!==E&&a.setRequestHeader("Content-Type",E)}if(r.responseType){const E=r.responseType.toLowerCase();a.responseType="json"!==E?E:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const E=a.statusText||"OK",S=new As(a.getAllResponseHeaders()),I=function p6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new cw({headers:S,status:a.status,statusText:E,url:I}),l},d=()=>{let{headers:E,status:S,statusText:I,url:H}=u(),G=null;204!==S&&(G=typeof a.response>"u"?a.responseText:a.response),0===S&&(S=G?200:0);let ue=S>=200&&S<300;if("json"===r.responseType&&"string"==typeof G){const Te=G;G=G.replace(h6e,"");try{G=""!==G?JSON.parse(G):null}catch(Fe){G=Te,ue&&(ue=!1,G={error:Fe,text:G})}}ue?(o.next(new Zu({body:G,headers:E,status:S,statusText:I,url:H||void 0})),o.complete()):o.error(new HU({error:G,headers:E,status:S,statusText:I,url:H||void 0}))},f=E=>{const{url:S}=u(),I=new HU({error:E,status:a.status||0,statusText:a.statusText||"Unknown Error",url:S||void 0});o.error(I)};let h=!1;const p=E=>{h||(o.next(u()),h=!0);let S={type:Ju.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(S.total=E.total),"text"===r.responseType&&a.responseText&&(S.partialText=a.responseText),o.next(S)},g=E=>{let S={type:Ju.UploadProgress,loaded:E.loaded};E.lengthComputable&&(S.total=E.total),o.next(S)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:Ju.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(FR))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();const dw=new ye("XSRF_ENABLED"),KU=new ye("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),YU=new ye("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class QU{}let _6e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=AR(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Lr),Se(es),Se(KU))},t.\u0275prov=Ce({token:t,factory:t.\u0275fac}),e})();function v6e(t,e){const n=t.url.toLowerCase();if(!W(dw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=W(QU).getToken(),i=W(YU);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ma=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ma||{});function Dc(t,e){return{\u0275kind:t,\u0275providers:e}}function y6e(...t){const e=[uw,WU,GU,{provide:q2,useExisting:GU},{provide:W2,useExisting:WU},{provide:L0,useValue:v6e,multi:!0},{provide:dw,useValue:!0},{provide:QU,useClass:_6e}];for(const n of t)e.push(...n.\u0275providers);return function _v(t){return{\u0275providers:t}}(e)}const XU=new ye("LEGACY_INTERCEPTOR_FN");let x6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t}),t.\u0275inj=Ft({providers:[y6e(Dc(ma.LegacyInterceptors,[{provide:XU,useFactory:l6e},{provide:L0,useExisting:XU,multi:!0}]))]}),e})();class D6e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}var ed;class fw{constructor(){this.NAVIGATION_BASE_URL="https://andromeda.darkgalaxy.com/navigation/",this.GALAXIES=49,this.G1_SECTORS=25,this.INNER_SECTORS=6,this.OUTER_SECTORS=2,this.SYSTEMS=4,this.httpClient=W(uw),this.firestore=W(Bi),this.dgAPI=W(ao),this._systemScanEmitter=new bt,this._planetScanEmitter=new bt,this.delay=function(){var e=v(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}scanNavigationScreen(e,n=[]){var r=this;return v(function*(){const i=1500+Math.floor(1500*Math.random()),s=Hi(r.firestore,"planets"),o=r.filterValidGalaxies(n);let a=0,c=!0,l=e.subscribe(d=>{c=!d});const u=r.totalSystemsNr(n);for(let d=0;d<o.length;d++){if(1===o[d])for(let f=1;f<=r.G1_SECTORS;f++)for(let h=1;h<=r.SYSTEMS;h++)c&&(yield r.parseAndSave(o[d],f,h,s),r._systemScanEmitter.emit({system:++a,total:u}),yield r.delay(i));if(o[d]>1&&o[d]<14)for(let f=1;f<=r.INNER_SECTORS;f++)for(let h=1;h<=r.SYSTEMS;h++)c&&(yield r.parseAndSave(o[d],f,h,s),r._systemScanEmitter.emit({system:++a,total:u}),yield r.delay(i));if(o[d]>=14)for(let f=1;f<=r.OUTER_SECTORS;f++)for(let h=1;h<=r.SYSTEMS;h++)c&&(yield r.parseAndSave(o[d],f,h,s),r._systemScanEmitter.emit({system:++a,total:u}),yield r.delay(i))}l.unsubscribe()})()}totalSystemsNr(e){let n=0;const r=this.filterValidGalaxies(e);for(let i=0;i<r.length;i++)1===r[i]&&(n+=this.G1_SECTORS*this.SYSTEMS),r[i]>1&&r[i]<14&&(n+=this.INNER_SECTORS*this.SYSTEMS),r[i]>=14&&(n+=this.OUTER_SECTORS*this.SYSTEMS);return n}allGalaxies(){let e=[];for(let n=1;n<=this.GALAXIES;n++)e.push(n);return e}parseAndSave(e,n,r,i){var s=this;return v(function*(){const o=yield G2(s.httpClient.get(s.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(o,"text/html").querySelectorAll(".navigation .planets").forEach((c,l)=>{setTimeout(()=>{let u=new D6e;const d=c.querySelector(".coords span").textContent.trim(),f=d.split(/\./);s.planetScanEmitter.emit(d),u.location=d,u.galaxy=parseInt(f[0]),u.sector=parseInt(f[1]),u.system=parseInt(f[2]),u.planet=parseInt(f[3]),c.classList.contains("neutral")?(u.owner="none",u.playerId=-1,u.alliance="-"):(u.alliance=c.querySelector(".allianceName")?c.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",u.owner=c.querySelector(".playerName").textContent.trim().toLowerCase(),u.playerId=parseInt(c.querySelector(".playerName").attributes.playerId.value.trim())),u.turn=s.dgAPI.gameTurn(),RF(_s(i,u.location),JSON.parse(JSON.stringify(u))).catch(h=>{console.log(h)})},100*l)})})()}filterValidGalaxies(e){let n=[];if(1===e.length&&149===e[0])n.push(...this.allGalaxies());else if(1===e.length&&213===e[0])for(let r=2;r<=13;r++)n.push(r);else if(1===e.length&&1449===e[0])for(let r=14;r<=49;r++)n.push(r);else for(let r=0;r<e.length;r++)e[r]>0&&e[r]<=this.GALAXIES&&n.push(e[r]);return n}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(ed=fw).\u0275fac=function(e){return new(e||ed)},ed.\u0275prov=Ce({token:ed,factory:ed.\u0275fac,providedIn:"root"}),In([Gi(1,_n())],fw.prototype,"scanNavigationScreen",null);class hw{constructor(){this._planets=[]}get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get planets(){return this._planets}set planets(e){this._planets=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance}}}let T6e=(()=>{var t;class e{constructor(){this.PLAYER_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/combat/players/",this.ALLIANCE_RANKINGS_URL="https://andromeda.darkgalaxy.com/navigation/",this.ALLIANCE_COMBAT_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/combat/alliances/",this.httpClient=W(uw),this.firestore=W(Bi),this.dgAPI=W(ao),this._playersRankingsEmitter=new bt,this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayerRankingsScreens(r){var i=this;return v(function*(){const s=1500+Math.floor(1500*Math.random()),o=Hi(i.firestore,"players"),a=Hi(i.firestore,"planets"),c=Hi(i.firestore,"config");let l=!0,u=r.subscribe(S=>{l=!S}),d=0,f=new Map,h=yield G2(i.httpClient.get(i.PLAYER_RANKINGS_URL,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html");const g=parseInt(p.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[p.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim());for(let S=1;S<=g;S++)l&&(h=yield G2(i.httpClient.get(i.PLAYER_RANKINGS_URL+S,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html"),p.querySelectorAll(".rankingsList .entry").forEach(I=>{const H=parseInt(I.querySelector(".playerName").attributes.playerId.value.trim());f.has(H)||f.set(H,new hw);let G=f.get(H);G.playerId=H,G.name=I.querySelector(".playerName").textContent.trim().toLowerCase(),G.rank=parseInt(I.querySelector(".rank").textContent.trim().replace(/,/g,"")),G.score=parseInt(I.querySelector(".score").textContent.trim().replace(/,/g,"")),G.combinedScore=G.combatScore+G.score,G.alliance=I.querySelector(".allianceName")?I.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-"}),i._playersRankingsEmitter.emit({action:"load",page:++d,total:2*g}),yield i.delay(s),h=yield G2(i.httpClient.get(i.PLAYER_COMBAT_RANKINGS_URL+S,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html"),p.querySelectorAll(".rankingsList .entry").forEach(I=>{const H=parseInt(I.querySelector(".playerName").attributes.playerId.value.trim());f.has(H)||f.set(H,new hw);let G=f.get(H);G.combatScore=parseInt(I.querySelector(".score").textContent.trim().replace(/,/g,"")),G.combinedScore=G.combatScore+G.score}),i._playersRankingsEmitter.emit({action:"load",page:++d,total:2*g}),yield i.delay(s)),u.unsubscribe();let E=qh(_s(c,"last-navigation-scan-turn")).subscribe(S=>{let I=Object.assign({value:0},S).value,H=qh(_s(c,"last-player-rankings-scan-turn")).subscribe(G=>{let ue=Object.assign({value:0},G).value;if(I>=ue){let Te=0;f.forEach((Fe,vt)=>{l&&setTimeout(()=>{let Jt=Du(Tu(a,Wh("playerId","==",vt))).subscribe(Ci=>{Object.assign([],Ci).forEach(B0=>{Fe.planets.push(B0.location)}),RF(_s(o,vt.toString()),JSON.parse(JSON.stringify(Fe))).then(()=>{i._playersRankingsEmitter.emit({action:"save",page:++Te,total:f.size})}).catch(B0=>{console.log(B0)}),Jt.unsubscribe()})},50*Te)})}else{let Te=0;f.forEach((Fe,vt)=>{l&&setTimeout(()=>{let Jt=Du(Tu(o,Wh("playerId","==",vt),nC(1))).subscribe(Ci=>{let Q2=Object.assign(new hw,Ci[0]);Fe.planets=Q2.planets,console.log(Fe.playerId),rC(_s(o,vt.toString()),JSON.parse(JSON.stringify(Fe))).then(()=>{i._playersRankingsEmitter.emit({action:"save",page:++Te,total:f.size})}).catch(B0=>{console.log(B0)}),Jt.unsubscribe()})},50*Te)})}H.unsubscribe()});E.unsubscribe()});yield i.delay(75*f.size),rC(_s(c," last-players-rankings-update-turn "),JSON.parse(JSON.stringify({value:i.dgAPI.gameTurn()}))).catch(S=>{console.log(S)})})()}scanAllianceRankingsScreens(){return v(function*(){})()}get playersRankingsEmitter(){return this._playersRankingsEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),S6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Er))},t.\u0275dir=Oe({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&en("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();const R6e=["planetsLoadModal"],P6e=["rankingsLoadModal"],M6e=["planetProgressBar"],k6e=["playersProgressBar"],N6e=["planetCounter"];let O6e=(()=>{var t;class e{constructor(){this.navigationLoaderService=W(fw),this.rankingsLoaderService=W(T6e),this.changeDetection=W(Do),this.cancelScanEmitter=new bt,this.controls={galaxies:""},this.loadedPlanet="x.x.x.x",this.planetPercentage=0,this.playersPercentage=0}scanNavigationScreen(){var r=this;return v(function*(){let i=r.controls.galaxies.trim().split(",").map(function(s){return parseInt(s,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.navigationLoaderService.systemScanEmitter.subscribe(s=>{r.loadedSystem="Loading "+s.system+"/"+s.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*s.system/s.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.navigationLoaderService.planetScanEmitter.subscribe(s=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=s,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.navigationLoaderService.scanNavigationScreen(r.cancelScanEmitter,i),r.cancelScan()})()}scanRankingsScreens(){var r=this;return v(function*(){r.playersProgressBar.nativeElement.style.width="0%",r.loadedRankings="Loading ranking pages",r.rankingsLoadModal.nativeElement.classList.add("show"),r.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.rankingsCountSubscription=r.rankingsLoaderService.playersRankingsEmitter.subscribe(i=>{switch(i.action){case"load":r.loadedRankings="Loading "+i.page+"/"+i.total+" ranking page",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%";break;case"save":r.loadedRankings="Saving "+i.page+"/"+i.total+" ranking page",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%"}}),yield r.rankingsLoaderService.scanPlayerRankingsScreens(r.cancelScanEmitter),r.cancelScan()})()}cancelScan(){this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe(),this.rankingsCountSubscription&&this.rankingsCountSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pr({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(wo(R6e,5),wo(P6e,5),wo(M6e,5),wo(k6e,5),wo(N6e,5)),2&r){let s;Us(s=js())&&(i.planetsLoadModal=s.first),Us(s=js())&&(i.rankingsLoadModal=s.first),Us(s=js())&&(i.planetProgressBar=s.first),Us(s=js())&&(i.playersProgressBar=s.first),Us(s=js())&&(i.planetCounter=s.first)}},decls:61,vars:6,consts:[[1,"opacBackground","lightBorder","noPadding","seperatorLarge"],[1,"opacDarkBackground","padding"],[1,"noPadding","ofHidden"],["id","admin-load-planets"],["type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","load-planets-example"],[1,"usage-warning"],["id","admin-load-rankings",2,"padding","3px","font-weight","bold"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"rankings-counter"],["playersProgressBar",""]],template:function(r,i){1&r&&(ae(0,"div",0)(1,"div",1)(2,"b"),De(3,"DGT Admin Panel"),_e()(),ae(4,"div",2)(5,"div",3)(6,"form")(7,"input",4),en("ngModelChange",function(o){return i.controls.galaxies=o}),_e(),ae(8,"button",5),en("click",function(){return i.scanNavigationScreen()}),De(9,"Scan"),_e()(),ae(10,"div",6)(11,"span",7),De(12,"Use this with caution. Universe scan it's a very expensive operation for both DG server and DGT database!"),_e(),ae(13,"span",7),De(14,"Usage examples:"),_e(),ae(15,"ul")(16,"li"),De(17,"1,2 - G01 and G02"),_e(),ae(18,"li"),De(19,"34 - G34"),_e(),ae(20,"li"),De(21,"special: 213 - first ring (G02-G13)"),_e(),ae(22,"li"),De(23,"special: 1449 - second ring (G14-G49)"),_e(),ae(24,"li"),De(25,"special: 149 - everything (G01-G49)"),_e()()()(),ae(26,"div",8)(27,"form")(28,"button",5),en("click",function(){return i.scanRankingsScreens()}),De(29,"Load Rankings"),_e()()()()(),ae(30,"div",9,10)(32,"div",11)(33,"div",12)(34,"span",13),De(35),_e(),ae(36,"span",14,15),De(38),_e()(),ae(39,"div",16)(40,"span",17),De(41),_e(),_t(42,"span",18,19),_e(),ae(44,"div",20)(45,"button",21),en("click",function(){return i.cancelScan()}),De(46,"Cancel"),_e()()()(),ae(47,"div",22,23)(49,"div",11)(50,"div",12)(51,"span",24),De(52),_e()(),ae(53,"div",16)(54,"span",17),De(55),_e(),_t(56,"span",18,25),_e(),ae(58,"div",20)(59,"button",21),en("click",function(){return i.cancelScan()}),De(60,"Cancel"),_e()()()()),2&r&&(Me(7),nt("ngModel",i.controls.galaxies),Me(28),Yt(i.loadedSystem),Me(3),Yt(i.loadedPlanet),Me(3),Ra("",i.planetPercentage,"%"),Me(11),Yt(i.loadedRankings),Me(3),Ra("",i.playersPercentage,"%"))},dependencies:[ew,N2,tU,jb,Zb,F0,S6e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%], #dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #676767;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#ffffff;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;border-radius:5px;max-width:200px;width:100%;margin:10px auto;height:20px;background:rgb(75,75,75);overflow:hidden}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#576740}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#fff;font-size:15px}.counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-size:14px}span.planet-counter[_ngcontent-%COMP%]{transition:all .1s}#load-planets-example[_ngcontent-%COMP%]{display:table}#load-planets-example[_ngcontent-%COMP%]{font-weight:400!important;background:#576740!important;color:#ffffffad!important;font-size:11px;text-align:left;padding:5px;border-radius:3px}#load-planets-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%], #load-planets-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{padding:5px;font-weight:700}"]}),e})(),F6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ut({type:t,bootstrap:[O6e]}),t.\u0275inj=Ft({imports:[os,NU,x6e,ko(()=>Oo(fr_firebase)),$a(()=>Ga()),na(()=>ra()),oa(()=>aa(No(),{provider:new Is(fr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Ds=xte();let xi=window.location.pathname.split(/\//g);Ds.bootstrapModule(K4e).catch(t=>console.error(t)),Ds.bootstrapModule(q4e).catch(t=>console.error(t)),Ds.bootstrapModule(A2e).catch(t=>console.error(t)),Ds.bootstrapModule(y1e).catch(t=>console.error(t)),2===xi.length&&0===xi[1].trim().length&&(Ds.bootstrapModule(X4e).catch(t=>console.error(t)),Ds.bootstrapModule(F6e).catch(t=>console.error(t))),"planets"===xi[1]&&Ds.bootstrapModule(_2e).catch(t=>console.error(t)),"planet"===xi[1]&&"comms"===(5===xi.length&&xi[3])&&Ds.bootstrapModule(E2e).catch(t=>console.error(t)),"navigation"===xi[1]&&6===xi.length&&!isNaN(+xi[2])&&!isNaN(+xi[3])&&!isNaN(+xi[4])&&Ds.bootstrapModule(I2e).catch(t=>console.error(t)),"alliances"===xi[1]&&Ds.bootstrapModule($4e).catch(t=>console.error(t))},42:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.BlockCipher,Y=b.algo,N=[],q=[],_=[],w=[],P=[],y=[],D=[],x=[],T=[],A=[];!function(){for(var m=[],C=0;C<256;C++)m[C]=C<128?C<<1:C<<1^283;var L=0,O=0;for(C=0;C<256;C++){var z=O^O<<1^O<<2^O<<3^O<<4;N[L]=z=z>>>8^255&z^99,q[z]=L;var fe,j=m[L],le=m[j],oe=m[le];_[L]=(fe=257*m[z]^16843008*z)<<24|fe>>>8,w[L]=fe<<16|fe>>>16,P[L]=fe<<8|fe>>>24,y[L]=fe,D[z]=(fe=16843009*oe^65537*le^257*j^16843008*L)<<24|fe>>>8,x[z]=fe<<16|fe>>>16,T[z]=fe<<8|fe>>>24,A[z]=fe,L?(L=j^m[m[m[oe^j]]],O^=m[m[O]]):L=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],k=Y.AES=U.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var C=this._keyPriorReset=this._key,L=C.words,O=C.sigBytes/4,j=4*((this._nRounds=O+6)+1),le=this._keySchedule=[],oe=0;oe<j;oe++)oe<O?le[oe]=L[oe]:(m=le[oe-1],oe%O?O>6&&oe%O==4&&(m=N[m>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m]):(m=N[(m=m<<8|m>>>24)>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m],m^=F[oe/O|0]<<24),le[oe]=le[oe-O]^m);for(var fe=this._invKeySchedule=[],be=0;be<j;be++){if(oe=j-be,be%4)var m=le[oe];else m=le[oe-4];fe[be]=be<4||oe<=4?m:D[N[m>>>24]]^x[N[m>>>16&255]]^T[N[m>>>8&255]]^A[N[255&m]]}}},encryptBlock:function(m,C){this._doCryptBlock(m,C,this._keySchedule,_,w,P,y,N)},decryptBlock:function(m,C){var L=m[C+1];m[C+1]=m[C+3],m[C+3]=L,this._doCryptBlock(m,C,this._invKeySchedule,D,x,T,A,q),L=m[C+1],m[C+1]=m[C+3],m[C+3]=L},_doCryptBlock:function(m,C,L,O,z,j,le,oe){for(var fe=this._nRounds,be=m[C]^L[0],K=m[C+1]^L[1],ce=m[C+2]^L[2],me=m[C+3]^L[3],se=4,Ne=1;Ne<fe;Ne++){var de=O[be>>>24]^z[K>>>16&255]^j[ce>>>8&255]^le[255&me]^L[se++],We=O[K>>>24]^z[ce>>>16&255]^j[me>>>8&255]^le[255&be]^L[se++],Ze=O[ce>>>24]^z[me>>>16&255]^j[be>>>8&255]^le[255&K]^L[se++],Q=O[me>>>24]^z[be>>>16&255]^j[K>>>8&255]^le[255&ce]^L[se++];be=de,K=We,ce=Ze,me=Q}de=(oe[be>>>24]<<24|oe[K>>>16&255]<<16|oe[ce>>>8&255]<<8|oe[255&me])^L[se++],We=(oe[K>>>24]<<24|oe[ce>>>16&255]<<16|oe[me>>>8&255]<<8|oe[255&be])^L[se++],Ze=(oe[ce>>>24]<<24|oe[me>>>16&255]<<16|oe[be>>>8&255]<<8|oe[255&K])^L[se++],Q=(oe[me>>>24]<<24|oe[be>>>16&255]<<16|oe[K>>>8&255]<<8|oe[255&ce])^L[se++],m[C]=de,m[C+1]=We,m[C+2]=Ze,m[C+3]=Q},keySize:8});b.AES=U._createHelper(k)}(),R.AES)},172:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.BlockCipher;const N=16,q=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],_=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var w={pbox:[],sbox:[]};function P(A,F){let O=A.sbox[0][F>>24&255]+A.sbox[1][F>>16&255];return O^=A.sbox[2][F>>8&255],O+=A.sbox[3][255&F],O}function y(A,F,k){let L,m=F,C=k;for(let O=0;O<N;++O)m^=A.pbox[O],C=P(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[N],m^=A.pbox[N+1],{left:m,right:C}}var T=b.algo.Blowfish=U.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function x(A,F,k){for(let z=0;z<4;z++){A.sbox[z]=[];for(let j=0;j<256;j++)A.sbox[z][j]=_[z][j]}let m=0;for(let z=0;z<N+2;z++)A.pbox[z]=q[z]^F[m],m++,m>=k&&(m=0);let C=0,L=0,O=0;for(let z=0;z<N+2;z+=2)O=y(A,C,L),C=O.left,L=O.right,A.pbox[z]=C,A.pbox[z+1]=L;for(let z=0;z<4;z++)for(let j=0;j<256;j+=2)O=y(A,C,L),C=O.left,L=O.right,A.sbox[z][j]=C,A.sbox[z][j+1]=L;return!0}(w,A.words,A.sigBytes/4)}},encryptBlock:function(A,F){var k=y(w,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},decryptBlock:function(A,F){var k=function D(A,F,k){let L,m=F,C=k;for(let O=N+1;O>1;--O)m^=A.pbox[O],C=P(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[1],m^=A.pbox[0],{left:m,right:C}}(w,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},blockSize:2,keySize:4,ivSize:2});b.Blowfish=U._createHelper(T)}(),R.Blowfish)},270:function(ve,xe,V){var $,U,Y,N,q,_,P,D,x,A,F,k,C,O,j,le,fe,be,R;ve.exports=(R=V(12),V(66),void(R.lib.Cipher||($=R,U=$.lib,Y=U.Base,N=U.WordArray,q=U.BufferedBlockAlgorithm,_=$.enc,P=_.Base64,D=$.algo.EvpKDF,x=U.Cipher=q.extend({cfg:Y.extend(),createEncryptor:function(K,ce){return this.create(this._ENC_XFORM_MODE,K,ce)},createDecryptor:function(K,ce){return this.create(this._DEC_XFORM_MODE,K,ce)},init:function(K,ce,me){this.cfg=this.cfg.extend(me),this._xformMode=K,this._key=ce,this.reset()},reset:function(){q.reset.call(this),this._doReset()},process:function(K){return this._append(K),this._process()},finalize:function(K){return K&&this._append(K),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function K(ce){return"string"==typeof ce?be:le}return function(ce){return{encrypt:function(me,se,Ne){return K(se).encrypt(ce,me,se,Ne)},decrypt:function(me,se,Ne){return K(se).decrypt(ce,me,se,Ne)}}}}()}),U.StreamCipher=x.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=$.mode={},F=U.BlockCipherMode=Y.extend({createEncryptor:function(K,ce){return this.Encryptor.create(K,ce)},createDecryptor:function(K,ce){return this.Decryptor.create(K,ce)},init:function(K,ce){this._cipher=K,this._iv=ce}}),k=A.CBC=function(){var K=F.extend();function ce(me,se,Ne){var de,We=this._iv;We?(de=We,this._iv=undefined):de=this._prevBlock;for(var Ze=0;Ze<Ne;Ze++)me[se+Ze]^=de[Ze]}return K.Encryptor=K.extend({processBlock:function(me,se){var Ne=this._cipher,de=Ne.blockSize;ce.call(this,me,se,de),Ne.encryptBlock(me,se),this._prevBlock=me.slice(se,se+de)}}),K.Decryptor=K.extend({processBlock:function(me,se){var Ne=this._cipher,de=Ne.blockSize,We=me.slice(se,se+de);Ne.decryptBlock(me,se),ce.call(this,me,se,de),this._prevBlock=We}}),K}(),C=($.pad={}).Pkcs7={pad:function(K,ce){for(var me=4*ce,se=me-K.sigBytes%me,Ne=se<<24|se<<16|se<<8|se,de=[],We=0;We<se;We+=4)de.push(Ne);var Ze=N.create(de,se);K.concat(Ze)},unpad:function(K){K.sigBytes-=255&K.words[K.sigBytes-1>>>2]}},U.BlockCipher=x.extend({cfg:x.cfg.extend({mode:k,padding:C}),reset:function(){var K;x.reset.call(this);var ce=this.cfg,me=ce.iv,se=ce.mode;this._xformMode==this._ENC_XFORM_MODE?K=se.createEncryptor:(K=se.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==K?this._mode.init(this,me&&me.words):(this._mode=K.call(se,this,me&&me.words),this._mode.__creator=K)},_doProcessBlock:function(K,ce){this._mode.processBlock(K,ce)},_doFinalize:function(){var K,ce=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ce.pad(this._data,this.blockSize),K=this._process(!0)):(K=this._process(!0),ce.unpad(K)),K},blockSize:4}),O=U.CipherParams=Y.extend({init:function(K){this.mixIn(K)},toString:function(K){return(K||this.formatter).stringify(this)}}),j=($.format={}).OpenSSL={stringify:function(K){var me=K.ciphertext,se=K.salt;return(se?N.create([1398893684,1701076831]).concat(se).concat(me):me).toString(P)},parse:function(K){var ce,me=P.parse(K),se=me.words;return 1398893684==se[0]&&1701076831==se[1]&&(ce=N.create(se.slice(2,4)),se.splice(0,4),me.sigBytes-=16),O.create({ciphertext:me,salt:ce})}},le=U.SerializableCipher=Y.extend({cfg:Y.extend({format:j}),encrypt:function(K,ce,me,se){se=this.cfg.extend(se);var Ne=K.createEncryptor(me,se),de=Ne.finalize(ce),We=Ne.cfg;return O.create({ciphertext:de,key:me,iv:We.iv,algorithm:K,mode:We.mode,padding:We.padding,blockSize:K.blockSize,formatter:se.format})},decrypt:function(K,ce,me,se){return se=this.cfg.extend(se),ce=this._parse(ce,se.format),K.createDecryptor(me,se).finalize(ce.ciphertext)},_parse:function(K,ce){return"string"==typeof K?ce.parse(K,this):K}}),fe=($.kdf={}).OpenSSL={execute:function(K,ce,me,se,Ne){if(se||(se=N.random(8)),Ne)var de=D.create({keySize:ce+me,hasher:Ne}).compute(K,se);else de=D.create({keySize:ce+me}).compute(K,se);var We=N.create(de.words.slice(ce),4*me);return de.sigBytes=4*ce,O.create({key:de,iv:We,salt:se})}},be=U.PasswordBasedCipher=le.extend({cfg:le.cfg.extend({kdf:fe}),encrypt:function(K,ce,me,se){var Ne=(se=this.cfg.extend(se)).kdf.execute(me,K.keySize,K.ivSize,se.salt,se.hasher);se.iv=Ne.iv;var de=le.encrypt.call(this,K,ce,Ne.key,se);return de.mixIn(Ne),de},decrypt:function(K,ce,me,se){se=this.cfg.extend(se),ce=this._parse(ce,se.format);var Ne=se.kdf.execute(me,K.keySize,K.ivSize,ce.salt,se.hasher);return se.iv=Ne.iv,le.decrypt.call(this,K,ce,Ne.key,se)}}))))},12:function(ve,xe,V){var R;ve.exports=(R=R||function(b,$){var U;if(typeof window<"u"&&window.crypto&&(U=window.crypto),typeof self<"u"&&self.crypto&&(U=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(U=globalThis.crypto),!U&&typeof window<"u"&&window.msCrypto&&(U=window.msCrypto),!U&&typeof global<"u"&&global.crypto&&(U=global.crypto),!U)try{U=V(480)}catch{}var Y=function(){if(U){if("function"==typeof U.getRandomValues)try{return U.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof U.randomBytes)try{return U.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},N=Object.create||function(){function m(){}return function(C){var L;return m.prototype=C,L=new m,m.prototype=null,L}}(),q={},_=q.lib={},w=_.Base={extend:function(m){var C=N(this);return m&&C.mixIn(m),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var C in m)m.hasOwnProperty(C)&&(this[C]=m[C]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}},P=_.WordArray=w.extend({init:function(m,C){m=this.words=m||[],this.sigBytes=null!=C?C:4*m.length},toString:function(m){return(m||D).stringify(this)},concat:function(m){var C=this.words,L=m.words,O=this.sigBytes,z=m.sigBytes;if(this.clamp(),O%4)for(var j=0;j<z;j++)C[O+j>>>2]|=(L[j>>>2]>>>24-j%4*8&255)<<24-(O+j)%4*8;else for(var oe=0;oe<z;oe+=4)C[O+oe>>>2]=L[oe>>>2];return this.sigBytes+=z,this},clamp:function(){var m=this.words,C=this.sigBytes;m[C>>>2]&=4294967295<<32-C%4*8,m.length=b.ceil(C/4)},clone:function(){var m=w.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var C=[],L=0;L<m;L+=4)C.push(Y());return new P.init(C,m)}}),y=q.enc={},D=y.Hex={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],z=0;z<L;z++){var j=C[z>>>2]>>>24-z%4*8&255;O.push((j>>>4).toString(16)),O.push((15&j).toString(16))}return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O+=2)L[O>>>3]|=parseInt(m.substr(O,2),16)<<24-O%8*4;return new P.init(L,C/2)}},x=y.Latin1={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],z=0;z<L;z++)O.push(String.fromCharCode(C[z>>>2]>>>24-z%4*8&255));return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O++)L[O>>>2]|=(255&m.charCodeAt(O))<<24-O%4*8;return new P.init(L,C)}},T=y.Utf8={stringify:function(m){try{return decodeURIComponent(escape(x.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return x.parse(unescape(encodeURIComponent(m)))}},A=_.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new P.init,this._nDataBytes=0},_append:function(m){"string"==typeof m&&(m=T.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var C,L=this._data,O=L.words,z=L.sigBytes,j=this.blockSize,oe=z/(4*j),fe=(oe=m?b.ceil(oe):b.max((0|oe)-this._minBufferSize,0))*j,be=b.min(4*fe,z);if(fe){for(var K=0;K<fe;K+=j)this._doProcessBlock(O,K);C=O.splice(0,fe),L.sigBytes-=be}return new P.init(C,be)},clone:function(){var m=w.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),k=(_.Hasher=A.extend({cfg:w.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){return m&&this._append(m),this._doFinalize()},blockSize:16,_createHelper:function(m){return function(C,L){return new m.init(L).finalize(C)}},_createHmacHelper:function(m){return function(C,L){return new k.HMAC.init(m,L).finalize(C)}}}),q.algo={});return q}(Math),R)},506:function(ve,xe,V){var R,U;ve.exports=(R=V(12),U=R.lib.WordArray,R.enc.Base64={stringify:function(_){var w=_.words,P=_.sigBytes,y=this._map;_.clamp();for(var D=[],x=0;x<P;x+=3)for(var k=(w[x>>>2]>>>24-x%4*8&255)<<16|(w[x+1>>>2]>>>24-(x+1)%4*8&255)<<8|w[x+2>>>2]>>>24-(x+2)%4*8&255,m=0;m<4&&x+.75*m<P;m++)D.push(y.charAt(k>>>6*(3-m)&63));var C=y.charAt(64);if(C)for(;D.length%4;)D.push(C);return D.join("")},parse:function(_){var w=_.length,P=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var D=0;D<P.length;D++)y[P.charCodeAt(D)]=D}var x=P.charAt(64);if(x){var T=_.indexOf(x);-1!==T&&(w=T)}return function q(_,w,P){for(var y=[],D=0,x=0;x<w;x++)if(x%4){var T=P[_.charCodeAt(x-1)]<<x%4*2,A=P[_.charCodeAt(x)]>>>6-x%4*2;y[D>>>2]|=(T|A)<<24-D%4*8,D++}return U.create(y,D)}(_,w,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},R.enc.Base64)},523:function(ve,xe,V){var R,U;ve.exports=(R=V(12),U=R.lib.WordArray,R.enc.Base64url={stringify:function(_,w){void 0===w&&(w=!0);var P=_.words,y=_.sigBytes,D=w?this._safe_map:this._map;_.clamp();for(var x=[],T=0;T<y;T+=3)for(var m=(P[T>>>2]>>>24-T%4*8&255)<<16|(P[T+1>>>2]>>>24-(T+1)%4*8&255)<<8|P[T+2>>>2]>>>24-(T+2)%4*8&255,C=0;C<4&&T+.75*C<y;C++)x.push(D.charAt(m>>>6*(3-C)&63));var L=D.charAt(64);if(L)for(;x.length%4;)x.push(L);return x.join("")},parse:function(_,w){void 0===w&&(w=!0);var P=_.length,y=w?this._safe_map:this._map,D=this._reverseMap;if(!D){D=this._reverseMap=[];for(var x=0;x<y.length;x++)D[y.charCodeAt(x)]=x}var T=y.charAt(64);if(T){var A=_.indexOf(T);-1!==A&&(P=A)}return function q(_,w,P){for(var y=[],D=0,x=0;x<w;x++)if(x%4){var T=P[_.charCodeAt(x-1)]<<x%4*2,A=P[_.charCodeAt(x)]>>>6-x%4*2;y[D>>>2]|=(T|A)<<24-D%4*8,D++}return U.create(y,D)}(_,P,D)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},R.enc.Base64url)},454:function(ve,xe,V){var R;ve.exports=(R=V(12),function(){var U=R.lib.WordArray,Y=R.enc;function q(_){return _<<8&4278255360|_>>>8&16711935}Y.Utf16=Y.Utf16BE={stringify:function(_){for(var w=_.words,P=_.sigBytes,y=[],D=0;D<P;D+=2)y.push(String.fromCharCode(w[D>>>2]>>>16-D%4*8&65535));return y.join("")},parse:function(_){for(var w=_.length,P=[],y=0;y<w;y++)P[y>>>1]|=_.charCodeAt(y)<<16-y%2*16;return U.create(P,2*w)}},Y.Utf16LE={stringify:function(_){for(var w=_.words,P=_.sigBytes,y=[],D=0;D<P;D+=2){var x=q(w[D>>>2]>>>16-D%4*8&65535);y.push(String.fromCharCode(x))}return y.join("")},parse:function(_){for(var w=_.length,P=[],y=0;y<w;y++)P[y>>>1]|=q(_.charCodeAt(y)<<16-y%2*16);return U.create(P,2*w)}}}(),R.enc.Utf16)},66:function(ve,xe,V){var b,$,U,Y,N,_,R;ve.exports=(R=V(12),V(446),V(990),Y=($=(b=R).lib).WordArray,_=(N=b.algo).EvpKDF=(U=$.Base).extend({cfg:U.extend({keySize:4,hasher:N.MD5,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,P){for(var y,D=this.cfg,x=D.hasher.create(),T=Y.create(),A=T.words,F=D.keySize,k=D.iterations;A.length<F;){y&&x.update(y),y=x.update(w).finalize(P),x.reset();for(var m=1;m<k;m++)y=x.finalize(y),x.reset();T.concat(y)}return T.sigBytes=4*F,T}}),b.EvpKDF=function(w,P,y){return _.create(y).compute(w,P)},R.EvpKDF)},826:function(ve,xe,V){var R,Y,q;ve.exports=(R=V(12),V(270),Y=R.lib.CipherParams,q=R.enc.Hex,R.format.Hex={stringify:function(P){return P.ciphertext.toString(q)},parse:function(P){var y=q.parse(P);return Y.create({ciphertext:y})}},R.format.Hex)},990:function(ve,xe,V){var R,N;ve.exports=(R=V(12),N=R.enc.Utf8,void(R.algo.HMAC=R.lib.Base.extend({init:function(w,P){w=this._hasher=new w.init,"string"==typeof P&&(P=N.parse(P));var y=w.blockSize,D=4*y;P.sigBytes>D&&(P=w.finalize(P)),P.clamp();for(var x=this._oKey=P.clone(),T=this._iKey=P.clone(),A=x.words,F=T.words,k=0;k<y;k++)A[k]^=1549556828,F[k]^=909522486;x.sigBytes=T.sigBytes=D,this.reset()},reset:function(){var w=this._hasher;w.reset(),w.update(this._iKey)},update:function(w){return this._hasher.update(w),this},finalize:function(w){var P=this._hasher,y=P.finalize(w);return P.reset(),P.finalize(this._oKey.clone().concat(y))}})))},874:function(ve,xe,V){var R;ve.exports=(R=V(12),V(802),V(37),V(454),V(506),V(523),V(873),V(446),V(78),V(811),V(870),V(913),V(545),V(558),V(990),V(538),V(66),V(270),V(228),V(392),V(584),V(15),V(594),V(237),V(501),V(4),V(297),V(738),V(826),V(42),V(769),V(195),V(969),V(848),V(172),R)},37:function(ve,xe,V){var R;ve.exports=(R=V(12),function(){if("function"==typeof ArrayBuffer){var U=R.lib.WordArray,Y=U.init,N=U.init=function(q){if(q instanceof ArrayBuffer&&(q=new Uint8Array(q)),(q instanceof Int8Array||typeof Uint8ClampedArray<"u"&&q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array)&&(q=new Uint8Array(q.buffer,q.byteOffset,q.byteLength)),q instanceof Uint8Array){for(var _=q.byteLength,w=[],P=0;P<_;P++)w[P>>>2]|=q[P]<<24-P%4*8;Y.call(this,w,_)}else Y.apply(this,arguments)};N.prototype=U}}(),R.lib.WordArray)},873:function(ve,xe,V){var R;ve.exports=(R=V(12),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,q=$.algo,_=[];!function(){for(var T=0;T<64;T++)_[T]=4294967296*b.abs(b.sin(T+1))|0}();var w=q.MD5=N.extend({_doReset:function(){this._hash=new Y.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(T,A){for(var F=0;F<16;F++){var k=A+F,m=T[k];T[k]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var C=this._hash.words,L=T[A+0],O=T[A+1],z=T[A+2],j=T[A+3],le=T[A+4],oe=T[A+5],fe=T[A+6],be=T[A+7],K=T[A+8],ce=T[A+9],me=T[A+10],se=T[A+11],Ne=T[A+12],de=T[A+13],We=T[A+14],Ze=T[A+15],Q=C[0],ie=C[1],Z=C[2],re=C[3];Q=P(Q,ie,Z,re,L,7,_[0]),re=P(re,Q,ie,Z,O,12,_[1]),Z=P(Z,re,Q,ie,z,17,_[2]),ie=P(ie,Z,re,Q,j,22,_[3]),Q=P(Q,ie,Z,re,le,7,_[4]),re=P(re,Q,ie,Z,oe,12,_[5]),Z=P(Z,re,Q,ie,fe,17,_[6]),ie=P(ie,Z,re,Q,be,22,_[7]),Q=P(Q,ie,Z,re,K,7,_[8]),re=P(re,Q,ie,Z,ce,12,_[9]),Z=P(Z,re,Q,ie,me,17,_[10]),ie=P(ie,Z,re,Q,se,22,_[11]),Q=P(Q,ie,Z,re,Ne,7,_[12]),re=P(re,Q,ie,Z,de,12,_[13]),Z=P(Z,re,Q,ie,We,17,_[14]),Q=y(Q,ie=P(ie,Z,re,Q,Ze,22,_[15]),Z,re,O,5,_[16]),re=y(re,Q,ie,Z,fe,9,_[17]),Z=y(Z,re,Q,ie,se,14,_[18]),ie=y(ie,Z,re,Q,L,20,_[19]),Q=y(Q,ie,Z,re,oe,5,_[20]),re=y(re,Q,ie,Z,me,9,_[21]),Z=y(Z,re,Q,ie,Ze,14,_[22]),ie=y(ie,Z,re,Q,le,20,_[23]),Q=y(Q,ie,Z,re,ce,5,_[24]),re=y(re,Q,ie,Z,We,9,_[25]),Z=y(Z,re,Q,ie,j,14,_[26]),ie=y(ie,Z,re,Q,K,20,_[27]),Q=y(Q,ie,Z,re,de,5,_[28]),re=y(re,Q,ie,Z,z,9,_[29]),Z=y(Z,re,Q,ie,be,14,_[30]),Q=D(Q,ie=y(ie,Z,re,Q,Ne,20,_[31]),Z,re,oe,4,_[32]),re=D(re,Q,ie,Z,K,11,_[33]),Z=D(Z,re,Q,ie,se,16,_[34]),ie=D(ie,Z,re,Q,We,23,_[35]),Q=D(Q,ie,Z,re,O,4,_[36]),re=D(re,Q,ie,Z,le,11,_[37]),Z=D(Z,re,Q,ie,be,16,_[38]),ie=D(ie,Z,re,Q,me,23,_[39]),Q=D(Q,ie,Z,re,de,4,_[40]),re=D(re,Q,ie,Z,L,11,_[41]),Z=D(Z,re,Q,ie,j,16,_[42]),ie=D(ie,Z,re,Q,fe,23,_[43]),Q=D(Q,ie,Z,re,ce,4,_[44]),re=D(re,Q,ie,Z,Ne,11,_[45]),Z=D(Z,re,Q,ie,Ze,16,_[46]),Q=x(Q,ie=D(ie,Z,re,Q,z,23,_[47]),Z,re,L,6,_[48]),re=x(re,Q,ie,Z,be,10,_[49]),Z=x(Z,re,Q,ie,We,15,_[50]),ie=x(ie,Z,re,Q,oe,21,_[51]),Q=x(Q,ie,Z,re,Ne,6,_[52]),re=x(re,Q,ie,Z,j,10,_[53]),Z=x(Z,re,Q,ie,me,15,_[54]),ie=x(ie,Z,re,Q,O,21,_[55]),Q=x(Q,ie,Z,re,K,6,_[56]),re=x(re,Q,ie,Z,Ze,10,_[57]),Z=x(Z,re,Q,ie,fe,15,_[58]),ie=x(ie,Z,re,Q,de,21,_[59]),Q=x(Q,ie,Z,re,le,6,_[60]),re=x(re,Q,ie,Z,se,10,_[61]),Z=x(Z,re,Q,ie,z,15,_[62]),ie=x(ie,Z,re,Q,ce,21,_[63]),C[0]=C[0]+Q|0,C[1]=C[1]+ie|0,C[2]=C[2]+Z|0,C[3]=C[3]+re|0},_doFinalize:function(){var T=this._data,A=T.words,F=8*this._nDataBytes,k=8*T.sigBytes;A[k>>>5]|=128<<24-k%32;var m=b.floor(F/4294967296),C=F;A[15+(k+64>>>9<<4)]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),A[14+(k+64>>>9<<4)]=16711935&(C<<8|C>>>24)|4278255360&(C<<24|C>>>8),T.sigBytes=4*(A.length+1),this._process();for(var L=this._hash,O=L.words,z=0;z<4;z++){var j=O[z];O[z]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8)}return L},clone:function(){var T=N.clone.call(this);return T._hash=this._hash.clone(),T}});function P(T,A,F,k,m,C,L){var O=T+(A&F|~A&k)+m+L;return(O<<C|O>>>32-C)+A}function y(T,A,F,k,m,C,L){var O=T+(A&k|F&~k)+m+L;return(O<<C|O>>>32-C)+A}function D(T,A,F,k,m,C,L){var O=T+(A^F^k)+m+L;return(O<<C|O>>>32-C)+A}function x(T,A,F,k,m,C,L){var O=T+(F^(A|~k))+m+L;return(O<<C|O>>>32-C)+A}$.MD5=N._createHelper(w),$.HmacMD5=N._createHmacHelper(w)}(Math),R.MD5)},228:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.mode.CFB=function(){var b=R.lib.BlockCipherMode.extend();function $(U,Y,N,q){var _,w=this._iv;w?(_=w.slice(0),this._iv=void 0):_=this._prevBlock,q.encryptBlock(_,0);for(var P=0;P<N;P++)U[Y+P]^=_[P]}return b.Encryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize;$.call(this,U,Y,q,N),this._prevBlock=U.slice(Y,Y+q)}}),b.Decryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize,_=U.slice(Y,Y+q);$.call(this,U,Y,q,N),this._prevBlock=_}}),b}(),R.mode.CFB)},584:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.mode.CTRGladman=function(){var b=R.lib.BlockCipherMode.extend();function $(N){if(255==(N>>24&255)){var q=N>>16&255,_=N>>8&255,w=255&N;255===q?(q=0,255===_?(_=0,255===w?w=0:++w):++_):++q,N=0,N+=q<<16,N+=_<<8,N+=w}else N+=1<<24;return N}var Y=b.Encryptor=b.extend({processBlock:function(N,q){var _=this._cipher,w=_.blockSize,P=this._iv,y=this._counter;P&&(y=this._counter=P.slice(0),this._iv=void 0),function U(N){return 0===(N[0]=$(N[0]))&&(N[1]=$(N[1])),N}(y);var D=y.slice(0);_.encryptBlock(D,0);for(var x=0;x<w;x++)N[q+x]^=D[x]}});return b.Decryptor=Y,b}(),R.mode.CTRGladman)},392:function(ve,xe,V){var b,$,R;ve.exports=(R=V(12),V(270),R.mode.CTR=($=(b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize,_=this._iv,w=this._counter;_&&(w=this._counter=_.slice(0),this._iv=void 0);var P=w.slice(0);N.encryptBlock(P,0),w[q-1]=w[q-1]+1|0;for(var y=0;y<q;y++)U[Y+y]^=P[y]}}),b.Decryptor=$,b),R.mode.CTR)},594:function(ve,xe,V){var b,R;ve.exports=(R=V(12),V(270),R.mode.ECB=((b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function($,U){this._cipher.encryptBlock($,U)}}),b.Decryptor=b.extend({processBlock:function($,U){this._cipher.decryptBlock($,U)}}),b),R.mode.ECB)},15:function(ve,xe,V){var b,$,R;ve.exports=(R=V(12),V(270),R.mode.OFB=($=(b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize,_=this._iv,w=this._keystream;_&&(w=this._keystream=_.slice(0),this._iv=void 0),N.encryptBlock(w,0);for(var P=0;P<q;P++)U[Y+P]^=w[P]}}),b.Decryptor=$,b),R.mode.OFB)},237:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.AnsiX923={pad:function(b,$){var U=b.sigBytes,Y=4*$,N=Y-U%Y,q=U+N-1;b.clamp(),b.words[q>>>2]|=N<<24-q%4*8,b.sigBytes+=N},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},R.pad.Ansix923)},501:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.Iso10126={pad:function(b,$){var U=4*$,Y=U-b.sigBytes%U;b.concat(R.lib.WordArray.random(Y-1)).concat(R.lib.WordArray.create([Y<<24],1))},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},R.pad.Iso10126)},4:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.Iso97971={pad:function(b,$){b.concat(R.lib.WordArray.create([2147483648],1)),R.pad.ZeroPadding.pad(b,$)},unpad:function(b){R.pad.ZeroPadding.unpad(b),b.sigBytes--}},R.pad.Iso97971)},738:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.NoPadding={pad:function(){},unpad:function(){}},R.pad.NoPadding)},297:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.ZeroPadding={pad:function(b,$){var U=4*$;b.clamp(),b.sigBytes+=U-(b.sigBytes%U||U)},unpad:function(b){var $=b.words,U=b.sigBytes-1;for(U=b.sigBytes-1;U>=0;U--)if($[U>>>2]>>>24-U%4*8&255){b.sigBytes=U+1;break}}},R.pad.ZeroPadding)},538:function(ve,xe,V){var b,$,U,Y,N,_,w,R;ve.exports=(R=V(12),V(78),V(990),Y=($=(b=R).lib).WordArray,_=(N=b.algo).HMAC,w=N.PBKDF2=(U=$.Base).extend({cfg:U.extend({keySize:4,hasher:N.SHA256,iterations:25e4}),init:function(P){this.cfg=this.cfg.extend(P)},compute:function(P,y){for(var D=this.cfg,x=_.create(D.hasher,P),T=Y.create(),A=Y.create([1]),F=T.words,k=A.words,m=D.keySize,C=D.iterations;F.length<m;){var L=x.update(y).finalize(A);x.reset();for(var O=L.words,z=O.length,j=L,le=1;le<C;le++){j=x.finalize(j),x.reset();for(var oe=j.words,fe=0;fe<z;fe++)O[fe]^=oe[fe]}T.concat(L),k[0]++}return T.sigBytes=4*m,T}}),b.PBKDF2=function(P,y,D){return w.create(D).compute(P,y)},R.PBKDF2)},848:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,N=[],q=[],_=[],w=b.algo.RabbitLegacy=U.extend({_doReset:function(){var y=this._key.words,D=this.cfg.iv,x=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],T=this._C=[y[2]<<16|y[2]>>>16,4294901760&y[0]|65535&y[1],y[3]<<16|y[3]>>>16,4294901760&y[1]|65535&y[2],y[0]<<16|y[0]>>>16,4294901760&y[2]|65535&y[3],y[1]<<16|y[1]>>>16,4294901760&y[3]|65535&y[0]];this._b=0;for(var A=0;A<4;A++)P.call(this);for(A=0;A<8;A++)T[A]^=x[A+4&7];if(D){var F=D.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,z=L<<16|65535&C;for(T[0]^=C,T[1]^=O,T[2]^=L,T[3]^=z,T[4]^=C,T[5]^=O,T[6]^=L,T[7]^=z,A=0;A<4;A++)P.call(this)}},_doProcessBlock:function(y,D){var x=this._X;P.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var T=0;T<4;T++)N[T]=16711935&(N[T]<<8|N[T]>>>24)|4278255360&(N[T]<<24|N[T]>>>8),y[D+T]^=N[T]},blockSize:4,ivSize:2});function P(){for(var y=this._X,D=this._C,x=0;x<8;x++)q[x]=D[x];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<q[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<q[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<q[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<q[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<q[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<q[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<q[6]>>>0?1:0)|0,this._b=D[7]>>>0<q[7]>>>0?1:0,x=0;x<8;x++){var T=y[x]+D[x],A=65535&T,F=T>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&T)*T|0)+((65535&T)*T|0)}y[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,y[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,y[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,y[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,y[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,y[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,y[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,y[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}b.RabbitLegacy=U._createHelper(w)}(),R.RabbitLegacy)},969:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,N=[],q=[],_=[],w=b.algo.Rabbit=U.extend({_doReset:function(){for(var y=this._key.words,D=this.cfg.iv,x=0;x<4;x++)y[x]=16711935&(y[x]<<8|y[x]>>>24)|4278255360&(y[x]<<24|y[x]>>>8);var T=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],A=this._C=[y[2]<<16|y[2]>>>16,4294901760&y[0]|65535&y[1],y[3]<<16|y[3]>>>16,4294901760&y[1]|65535&y[2],y[0]<<16|y[0]>>>16,4294901760&y[2]|65535&y[3],y[1]<<16|y[1]>>>16,4294901760&y[3]|65535&y[0]];for(this._b=0,x=0;x<4;x++)P.call(this);for(x=0;x<8;x++)A[x]^=T[x+4&7];if(D){var F=D.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,z=L<<16|65535&C;for(A[0]^=C,A[1]^=O,A[2]^=L,A[3]^=z,A[4]^=C,A[5]^=O,A[6]^=L,A[7]^=z,x=0;x<4;x++)P.call(this)}},_doProcessBlock:function(y,D){var x=this._X;P.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var T=0;T<4;T++)N[T]=16711935&(N[T]<<8|N[T]>>>24)|4278255360&(N[T]<<24|N[T]>>>8),y[D+T]^=N[T]},blockSize:4,ivSize:2});function P(){for(var y=this._X,D=this._C,x=0;x<8;x++)q[x]=D[x];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<q[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<q[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<q[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<q[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<q[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<q[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<q[6]>>>0?1:0)|0,this._b=D[7]>>>0<q[7]>>>0?1:0,x=0;x<8;x++){var T=y[x]+D[x],A=65535&T,F=T>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&T)*T|0)+((65535&T)*T|0)}y[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,y[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,y[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,y[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,y[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,y[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,y[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,y[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}b.Rabbit=U._createHelper(w)}(),R.Rabbit)},195:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,Y=b.algo,N=Y.RC4=U.extend({_doReset:function(){for(var w=this._key,P=w.words,y=w.sigBytes,D=this._S=[],x=0;x<256;x++)D[x]=x;x=0;for(var T=0;x<256;x++){var A=x%y,k=D[x];D[x]=D[T=(T+D[x]+(P[A>>>2]>>>24-A%4*8&255))%256],D[T]=k}this._i=this._j=0},_doProcessBlock:function(w,P){w[P]^=q.call(this)},keySize:8,ivSize:0});function q(){for(var w=this._S,P=this._i,y=this._j,D=0,x=0;x<4;x++){var T=w[P=(P+1)%256];w[P]=w[y=(y+w[P])%256],w[y]=T,D|=w[(w[P]+w[y])%256]<<24-8*x}return this._i=P,this._j=y,D}b.RC4=U._createHelper(N);var _=Y.RC4Drop=N.extend({cfg:N.cfg.extend({drop:192}),_doReset:function(){N._doReset.call(this);for(var w=this.cfg.drop;w>0;w--)q.call(this)}});b.RC4Drop=U._createHelper(_)}(),R.RC4)},558:function(ve,xe,V){var R;ve.exports=(R=V(12),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,q=$.algo,_=Y.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=Y.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),P=Y.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=Y.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),D=Y.create([0,1518500249,1859775393,2400959708,2840853838]),x=Y.create([1352829926,1548603684,1836072691,2053994217,0]),T=q.RIPEMD160=N.extend({_doReset:function(){this._hash=Y.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,z){for(var j=0;j<16;j++){var le=z+j,oe=O[le];O[le]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8)}var de,We,Ze,Q,ie,Z,re,At,Ve,et,Je,fe=this._hash.words,be=D.words,K=x.words,ce=_.words,me=w.words,se=P.words,Ne=y.words;for(Z=de=fe[0],re=We=fe[1],At=Ze=fe[2],Ve=Q=fe[3],et=ie=fe[4],j=0;j<80;j+=1)Je=de+O[z+ce[j]]|0,Je+=j<16?A(We,Ze,Q)+be[0]:j<32?F(We,Ze,Q)+be[1]:j<48?k(We,Ze,Q)+be[2]:j<64?m(We,Ze,Q)+be[3]:C(We,Ze,Q)+be[4],Je=(Je=L(Je|=0,se[j]))+ie|0,de=ie,ie=Q,Q=L(Ze,10),Ze=We,We=Je,Je=Z+O[z+me[j]]|0,Je+=j<16?C(re,At,Ve)+K[0]:j<32?m(re,At,Ve)+K[1]:j<48?k(re,At,Ve)+K[2]:j<64?F(re,At,Ve)+K[3]:A(re,At,Ve)+K[4],Je=(Je=L(Je|=0,Ne[j]))+et|0,Z=et,et=Ve,Ve=L(At,10),At=re,re=Je;Je=fe[1]+Ze+Ve|0,fe[1]=fe[2]+Q+et|0,fe[2]=fe[3]+ie+Z|0,fe[3]=fe[4]+de+re|0,fe[4]=fe[0]+We+At|0,fe[0]=Je},_doFinalize:function(){var O=this._data,z=O.words,j=8*this._nDataBytes,le=8*O.sigBytes;z[le>>>5]|=128<<24-le%32,z[14+(le+64>>>9<<4)]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8),O.sigBytes=4*(z.length+1),this._process();for(var oe=this._hash,fe=oe.words,be=0;be<5;be++){var K=fe[be];fe[be]=16711935&(K<<8|K>>>24)|4278255360&(K<<24|K>>>8)}return oe},clone:function(){var O=N.clone.call(this);return O._hash=this._hash.clone(),O}});function A(O,z,j){return O^z^j}function F(O,z,j){return O&z|~O&j}function k(O,z,j){return(O|~z)^j}function m(O,z,j){return O&j|z&~j}function C(O,z,j){return O^(z|~j)}function L(O,z){return O<<z|O>>>32-z}$.RIPEMD160=N._createHelper(T),$.HmacRIPEMD160=N._createHmacHelper(T)}(Math),R.RIPEMD160)},446:function(ve,xe,V){var b,$,U,Y,q,_,R;ve.exports=(R=V(12),U=($=(b=R).lib).WordArray,q=[],_=b.algo.SHA1=(Y=$.Hasher).extend({_doReset:function(){this._hash=new U.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,P){for(var y=this._hash.words,D=y[0],x=y[1],T=y[2],A=y[3],F=y[4],k=0;k<80;k++){if(k<16)q[k]=0|w[P+k];else{var m=q[k-3]^q[k-8]^q[k-14]^q[k-16];q[k]=m<<1|m>>>31}var C=(D<<5|D>>>27)+F+q[k];C+=k<20?1518500249+(x&T|~x&A):k<40?1859775393+(x^T^A):k<60?(x&T|x&A|T&A)-1894007588:(x^T^A)-899497514,F=A,A=T,T=x<<30|x>>>2,x=D,D=C}y[0]=y[0]+D|0,y[1]=y[1]+x|0,y[2]=y[2]+T|0,y[3]=y[3]+A|0,y[4]=y[4]+F|0},_doFinalize:function(){var w=this._data,P=w.words,y=8*this._nDataBytes,D=8*w.sigBytes;return P[D>>>5]|=128<<24-D%32,P[14+(D+64>>>9<<4)]=Math.floor(y/4294967296),P[15+(D+64>>>9<<4)]=y,w.sigBytes=4*P.length,this._process(),this._hash},clone:function(){var w=Y.clone.call(this);return w._hash=this._hash.clone(),w}}),b.SHA1=Y._createHelper(_),b.HmacSHA1=Y._createHmacHelper(_),R.SHA1)},811:function(ve,xe,V){var b,U,Y,N,q,R;ve.exports=(R=V(12),V(78),U=(b=R).lib.WordArray,q=(Y=b.algo).SHA224=(N=Y.SHA256).extend({_doReset:function(){this._hash=new U.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var _=N._doFinalize.call(this);return _.sigBytes-=4,_}}),b.SHA224=N._createHelper(q),b.HmacSHA224=N._createHmacHelper(q),R.SHA224)},78:function(ve,xe,V){var R;ve.exports=(R=V(12),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,q=$.algo,_=[],w=[];!function(){function D(F){for(var k=b.sqrt(F),m=2;m<=k;m++)if(!(F%m))return!1;return!0}function x(F){return 4294967296*(F-(0|F))|0}for(var T=2,A=0;A<64;)D(T)&&(A<8&&(_[A]=x(b.pow(T,.5))),w[A]=x(b.pow(T,1/3)),A++),T++}();var P=[],y=q.SHA256=N.extend({_doReset:function(){this._hash=new Y.init(_.slice(0))},_doProcessBlock:function(D,x){for(var T=this._hash.words,A=T[0],F=T[1],k=T[2],m=T[3],C=T[4],L=T[5],O=T[6],z=T[7],j=0;j<64;j++){if(j<16)P[j]=0|D[x+j];else{var le=P[j-15],fe=P[j-2];P[j]=((le<<25|le>>>7)^(le<<14|le>>>18)^le>>>3)+P[j-7]+((fe<<15|fe>>>17)^(fe<<13|fe>>>19)^fe>>>10)+P[j-16]}var ce=A&F^A&k^F&k,Ne=z+((C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25))+(C&L^~C&O)+w[j]+P[j];z=O,O=L,L=C,C=m+Ne|0,m=k,k=F,F=A,A=Ne+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+ce)|0}T[0]=T[0]+A|0,T[1]=T[1]+F|0,T[2]=T[2]+k|0,T[3]=T[3]+m|0,T[4]=T[4]+C|0,T[5]=T[5]+L|0,T[6]=T[6]+O|0,T[7]=T[7]+z|0},_doFinalize:function(){var D=this._data,x=D.words,T=8*this._nDataBytes,A=8*D.sigBytes;return x[A>>>5]|=128<<24-A%32,x[14+(A+64>>>9<<4)]=b.floor(T/4294967296),x[15+(A+64>>>9<<4)]=T,D.sigBytes=4*x.length,this._process(),this._hash},clone:function(){var D=N.clone.call(this);return D._hash=this._hash.clone(),D}});$.SHA256=N._createHelper(y),$.HmacSHA256=N._createHmacHelper(y)}(Math),R.SHA256)},545:function(ve,xe,V){var R;ve.exports=(R=V(12),V(802),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,_=$.x64.Word,w=$.algo,P=[],y=[],D=[];!function(){for(var A=1,F=0,k=0;k<24;k++){P[A+5*F]=(k+1)*(k+2)/2%64;var C=(2*A+3*F)%5;A=F%5,F=C}for(A=0;A<5;A++)for(F=0;F<5;F++)y[A+5*F]=F+(2*A+3*F)%5*5;for(var L=1,O=0;O<24;O++){for(var z=0,j=0,le=0;le<7;le++){if(1&L){var oe=(1<<le)-1;oe<32?j^=1<<oe:z^=1<<oe-32}128&L?L=L<<1^113:L<<=1}D[O]=_.create(z,j)}}();var x=[];!function(){for(var A=0;A<25;A++)x[A]=_.create()}();var T=w.SHA3=N.extend({cfg:N.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new _.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var k=this._state,m=this.blockSize/2,C=0;C<m;C++){var L=A[F+2*C],O=A[F+2*C+1];L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),(z=k[C]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),z.low^=L}for(var j=0;j<24;j++){for(var le=0;le<5;le++){for(var oe=0,fe=0,be=0;be<5;be++)oe^=(z=k[le+5*be]).high,fe^=z.low;var K=x[le];K.high=oe,K.low=fe}for(le=0;le<5;le++){var ce=x[(le+4)%5],me=x[(le+1)%5],se=me.high,Ne=me.low;for(oe=ce.high^(se<<1|Ne>>>31),fe=ce.low^(Ne<<1|se>>>31),be=0;be<5;be++)(z=k[le+5*be]).high^=oe,z.low^=fe}for(var de=1;de<25;de++){var We=(z=k[de]).high,Ze=z.low,Q=P[de];Q<32?(oe=We<<Q|Ze>>>32-Q,fe=Ze<<Q|We>>>32-Q):(oe=Ze<<Q-32|We>>>64-Q,fe=We<<Q-32|Ze>>>64-Q);var ie=x[y[de]];ie.high=oe,ie.low=fe}var Z=x[0],re=k[0];for(Z.high=re.high,Z.low=re.low,le=0;le<5;le++)for(be=0;be<5;be++){var At=x[de=le+5*be],Ve=x[(le+1)%5+5*be],et=x[(le+2)%5+5*be];(z=k[de]).high=At.high^~Ve.high&et.high,z.low=At.low^~Ve.low&et.low}var z,Je=D[j];(z=k[0]).high^=Je.high,z.low^=Je.low}},_doFinalize:function(){var A=this._data,F=A.words,m=8*A.sigBytes,C=32*this.blockSize;F[m>>>5]|=1<<24-m%32,F[(b.ceil((m+1)/C)*C>>>5)-1]|=128,A.sigBytes=4*F.length,this._process();for(var L=this._state,O=this.cfg.outputLength/8,z=O/8,j=[],le=0;le<z;le++){var oe=L[le],fe=oe.high,be=oe.low;fe=16711935&(fe<<8|fe>>>24)|4278255360&(fe<<24|fe>>>8),j.push(be=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8)),j.push(fe)}return new Y.init(j,O)},clone:function(){for(var A=N.clone.call(this),F=A._state=this._state.slice(0),k=0;k<25;k++)F[k]=F[k].clone();return A}});$.SHA3=N._createHelper(T),$.HmacSHA3=N._createHmacHelper(T)}(Math),R.SHA3)},913:function(ve,xe,V){var b,$,U,Y,N,q,_,R;ve.exports=(R=V(12),V(802),V(870),U=($=(b=R).x64).Word,Y=$.WordArray,_=(N=b.algo).SHA384=(q=N.SHA512).extend({_doReset:function(){this._hash=new Y.init([new U.init(3418070365,3238371032),new U.init(1654270250,914150663),new U.init(2438529370,812702999),new U.init(355462360,4144912697),new U.init(1731405415,4290775857),new U.init(2394180231,1750603025),new U.init(3675008525,1694076839),new U.init(1203062813,3204075428)])},_doFinalize:function(){var w=q._doFinalize.call(this);return w.sigBytes-=16,w}}),b.SHA384=q._createHelper(_),b.HmacSHA384=q._createHmacHelper(_),R.SHA384)},870:function(ve,xe,V){var R;ve.exports=(R=V(12),V(802),function(){var b=R,U=b.lib.Hasher,Y=b.x64,N=Y.Word,q=Y.WordArray,_=b.algo;function w(){return N.create.apply(N,arguments)}var P=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],y=[];!function(){for(var x=0;x<80;x++)y[x]=w()}();var D=_.SHA512=U.extend({_doReset:function(){this._hash=new q.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(x,T){for(var A=this._hash.words,F=A[0],k=A[1],m=A[2],C=A[3],L=A[4],O=A[5],z=A[6],j=A[7],le=F.high,oe=F.low,fe=k.high,be=k.low,K=m.high,ce=m.low,me=C.high,se=C.low,Ne=L.high,de=L.low,We=O.high,Ze=O.low,Q=z.high,ie=z.low,Z=j.high,re=j.low,At=le,Ve=oe,et=fe,Je=be,Ye=K,$i=ce,td=me,Ts=se,er=Ne,In=de,Gi=We,Tc=Ze,nd=Q,Sc=ie,H0=Z,_a=re,Tr=0;Tr<80;Tr++){var Sr,ri,Rc=y[Tr];if(Tr<16)ri=Rc.high=0|x[T+2*Tr],Sr=Rc.low=0|x[T+2*Tr+1];else{var Pc=y[Tr-15],Ss=Pc.high,va=Pc.low,z0=(va>>>1|Ss<<31)^(va>>>8|Ss<<24)^(va>>>7|Ss<<25),Ii=y[Tr-2],Rs=Ii.high,ya=Ii.low,j0=(ya>>>19|Rs<<13)^(ya<<3|Rs>>>29)^(ya>>>6|Rs<<26),$0=y[Tr-7],G0=y[Tr-16],q0=G0.low;Rc.high=ri=(ri=(ri=((Ss>>>1|va<<31)^(Ss>>>8|va<<24)^Ss>>>7)+$0.high+((Sr=z0+$0.low)>>>0<z0>>>0?1:0))+((Rs>>>19|ya<<13)^(Rs<<3|ya>>>29)^Rs>>>6)+((Sr+=j0)>>>0<j0>>>0?1:0))+G0.high+((Sr+=q0)>>>0<q0>>>0?1:0),Rc.low=Sr}var tr,t_=er&Gi^~er&nd,W0=In&Tc^~In&Sc,n_=At&et^At&Ye^et&Ye,rd=(Ve>>>28|At<<4)^(Ve<<30|At>>>2)^(Ve<<25|At>>>7),id=P[Tr],sd=id.low,bi=H0+((er>>>14|In<<18)^(er>>>18|In<<14)^(er<<23|In>>>9))+((tr=_a+((In>>>14|er<<18)^(In>>>18|er<<14)^(In<<23|er>>>9)))>>>0<_a>>>0?1:0),od=rd+(Ve&Je^Ve&$i^Je&$i);H0=nd,_a=Sc,nd=Gi,Sc=Tc,Gi=er,Tc=In,er=td+(bi=(bi=(bi=bi+t_+((tr+=W0)>>>0<W0>>>0?1:0))+id.high+((tr+=sd)>>>0<sd>>>0?1:0))+ri+((tr+=Sr)>>>0<Sr>>>0?1:0))+((In=Ts+tr|0)>>>0<Ts>>>0?1:0)|0,td=Ye,Ts=$i,Ye=et,$i=Je,et=At,Je=Ve,At=bi+(((At>>>28|Ve<<4)^(At<<30|Ve>>>2)^(At<<25|Ve>>>7))+n_+(od>>>0<rd>>>0?1:0))+((Ve=tr+od|0)>>>0<tr>>>0?1:0)|0}oe=F.low=oe+Ve,F.high=le+At+(oe>>>0<Ve>>>0?1:0),be=k.low=be+Je,k.high=fe+et+(be>>>0<Je>>>0?1:0),ce=m.low=ce+$i,m.high=K+Ye+(ce>>>0<$i>>>0?1:0),se=C.low=se+Ts,C.high=me+td+(se>>>0<Ts>>>0?1:0),de=L.low=de+In,L.high=Ne+er+(de>>>0<In>>>0?1:0),Ze=O.low=Ze+Tc,O.high=We+Gi+(Ze>>>0<Tc>>>0?1:0),ie=z.low=ie+Sc,z.high=Q+nd+(ie>>>0<Sc>>>0?1:0),re=j.low=re+_a,j.high=Z+H0+(re>>>0<_a>>>0?1:0)},_doFinalize:function(){var x=this._data,T=x.words,A=8*this._nDataBytes,F=8*x.sigBytes;return T[F>>>5]|=128<<24-F%32,T[30+(F+128>>>10<<5)]=Math.floor(A/4294967296),T[31+(F+128>>>10<<5)]=A,x.sigBytes=4*T.length,this._process(),this._hash.toX32()},clone:function(){var x=U.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:32});b.SHA512=U._createHelper(D),b.HmacSHA512=U._createHmacHelper(D)}(),R.SHA512)},769:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,$=b.lib,U=$.WordArray,Y=$.BlockCipher,N=b.algo,q=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],_=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],w=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],D=N.DES=Y.extend({_doReset:function(){for(var k=this._key.words,m=[],C=0;C<56;C++){var L=q[C]-1;m[C]=k[L>>>5]>>>31-L%32&1}for(var O=this._subKeys=[],z=0;z<16;z++){var j=O[z]=[],le=w[z];for(C=0;C<24;C++)j[C/6|0]|=m[(_[C]-1+le)%28]<<31-C%6,j[4+(C/6|0)]|=m[28+(_[C+24]-1+le)%28]<<31-C%6;for(j[0]=j[0]<<1|j[0]>>>31,C=1;C<7;C++)j[C]=j[C]>>>4*(C-1)+3;j[7]=j[7]<<5|j[7]>>>27}var oe=this._invSubKeys=[];for(C=0;C<16;C++)oe[C]=O[15-C]},encryptBlock:function(F,k){this._doCryptBlock(F,k,this._subKeys)},decryptBlock:function(F,k){this._doCryptBlock(F,k,this._invSubKeys)},_doCryptBlock:function(F,k,m){this._lBlock=F[k],this._rBlock=F[k+1],x.call(this,4,252645135),x.call(this,16,65535),T.call(this,2,858993459),T.call(this,8,16711935),x.call(this,1,1431655765);for(var C=0;C<16;C++){for(var L=m[C],O=this._lBlock,z=this._rBlock,j=0,le=0;le<8;le++)j|=P[le][((z^L[le])&y[le])>>>0];this._lBlock=z,this._rBlock=O^j}var oe=this._lBlock;this._lBlock=this._rBlock,this._rBlock=oe,x.call(this,1,1431655765),T.call(this,8,16711935),T.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),F[k]=this._lBlock,F[k+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function x(F,k){var m=(this._lBlock>>>F^this._rBlock)&k;this._rBlock^=m,this._lBlock^=m<<F}function T(F,k){var m=(this._rBlock>>>F^this._lBlock)&k;this._lBlock^=m,this._rBlock^=m<<F}b.DES=Y._createHelper(D);var A=N.TripleDES=Y.extend({_doReset:function(){var k=this._key.words;if(2!==k.length&&4!==k.length&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=k.slice(0,2),C=k.length<4?k.slice(0,2):k.slice(2,4),L=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=D.createEncryptor(U.create(m)),this._des2=D.createEncryptor(U.create(C)),this._des3=D.createEncryptor(U.create(L))},encryptBlock:function(F,k){this._des1.encryptBlock(F,k),this._des2.decryptBlock(F,k),this._des3.encryptBlock(F,k)},decryptBlock:function(F,k){this._des3.decryptBlock(F,k),this._des2.encryptBlock(F,k),this._des1.decryptBlock(F,k)},keySize:6,ivSize:2,blockSize:2});b.TripleDES=Y._createHelper(A)}(),R.TripleDES)},802:function(ve,xe,V){var U,Y,N,q,R;ve.exports=(R=V(12),Y=(U=R.lib).Base,N=U.WordArray,(q=R.x64={}).Word=Y.extend({init:function(P,y){this.high=P,this.low=y}}),q.WordArray=Y.extend({init:function(P,y){P=this.words=P||[],this.sigBytes=null!=y?y:8*P.length},toX32:function(){for(var P=this.words,y=P.length,D=[],x=0;x<y;x++){var T=P[x];D.push(T.high),D.push(T.low)}return N.create(D,this.sigBytes)},clone:function(){for(var P=Y.clone.call(this),y=P.words=this.words.slice(0),D=y.length,x=0;x<D;x++)y[x]=y[x].clone();return P}}),R)},480:()=>{}},ve=>{ve(ve.s=142)}]);