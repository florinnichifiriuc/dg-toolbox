(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{497:(ve,xe,V)=>{"use strict";function R(t){return"function"==typeof t}function b(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const $=b(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function U(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Y{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(R(r))try{r()}catch(s){e=s instanceof $?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_(s)}catch(o){e=e??[],o instanceof $?e=[...e,...o.errors]:e.push(o)}}if(e)throw new $(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_(e);else{if(e instanceof Y){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&U(n,e)}remove(e){const{_finalizers:n}=this;n&&U(n,e),e instanceof Y&&e._removeParent(this)}}Y.EMPTY=(()=>{const t=new Y;return t.closed=!0,t})();const N=Y.EMPTY;function q(t){return t instanceof Y||t&&"closed"in t&&R(t.remove)&&R(t.add)&&R(t.unsubscribe)}function _(t){R(t)?t():t.unsubscribe()}const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},P={setTimeout(t,e,...n){const{delegate:r}=P;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=P;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function E(t){P.setTimeout(()=>{const{onUnhandledError:e}=w;if(!e)throw t;e(t)})}function D(){}const x=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let k=null;function m(t){if(w.useDeprecatedSynchronousErrorHandling){const e=!k;if(e&&(k={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=k;if(k=null,n)throw r}}else t()}class L extends Y{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,q(e)&&e.add(this)):this.destination=W}static create(e,n,r){return new le(e,n,r)}next(e){this.isStopped?Ie(function A(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ie(function S(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ie(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function z(t,e){return O.call(t,e)}class j{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){oe(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){oe(r)}else oe(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){oe(n)}}}class le extends L{constructor(e,n,r){let i;if(super(),R(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&w.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&z(e.next,s),error:e.error&&z(e.error,s),complete:e.complete&&z(e.complete,s)}):i=e}this.destination=new j(i)}}function oe(t){w.useDeprecatedSynchronousErrorHandling?function C(t){w.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=t)}(t):E(t)}function Ie(t,e){const{onStoppedNotification:n}=w;n&&P.setTimeout(()=>n(t,e))}const W={closed:!0,next:D,error:function fe(t){throw t},complete:D},ce="function"==typeof Symbol&&Symbol.observable||"@@observable";function me(t){return t}function Ne(t){return 0===t.length?me:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Q(t){return t&&t instanceof L||function Ze(t){return t&&R(t.next)&&R(t.error)&&R(t.complete)}(t)&&q(t)}(n)?n:new le(n,r,i);return m(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qe(r))((i,s)=>{const o=new le({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ce](){return this}pipe(...n){return Ne(n)(this)}toPromise(n){return new(n=qe(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function qe(t){var e;return null!==(e=t??w.Promise)&&void 0!==e?e:Promise}const ie=b(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Z=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new re(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ie}next(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?N:(this.currentObservers=null,s.push(n),new Y(()=>{this.currentObservers=null,U(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new de;return n.source=this,n}}return t.create=(e,n)=>new re(e,n),t})();class re extends Z{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:N}}function At(t){return R(t?.lift)}function Fe(t){return e=>{if(At(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function et(t,e,n,r,i){return new Je(t,e,n,r,i)}class Je extends L{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ye(t,e){return Fe((n,r)=>{let i=0;n.subscribe(et(r,s=>{r.next(t.call(e,s,i++))}))})}function tr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function mn(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Ii(t,e){return function(n,r){e(n,r,t)}}function bi(t){return this instanceof bi?(this.v=t,this):new bi(t)}function z0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Pc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const W0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function rd(t){return R(t?.then)}function K0(t){return R(t[ce])}function Y0(t){return Symbol.asyncIterator&&R(t?.[Symbol.asyncIterator])}function id(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sd=function t_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nr(t){return R(t?.[sd])}function wi(t){return function ks(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof bi?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield bi(n.read());if(i)return yield bi(void 0);yield yield bi(r)}}finally{n.releaseLock()}})}function od(t){return R(t?.getReader)}function rr(t){if(t instanceof de)return t;if(null!=t){if(K0(t))return function KU(t){return new de(e=>{const n=t[ce]();if(R(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(W0(t))return function YU(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(rd(t))return function QU(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,E)})}(t);if(Y0(t))return gw(t);if(nr(t))return function XU(t){return new de(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(od(t))return function JU(t){return gw(wi(t))}(t)}throw id(t)}function gw(t){return new de(e=>{(function ZU(t,e){var n,r,i,s;return function Rr(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=z0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ns(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Hn(t,e,n=1/0){return R(e)?Hn((r,i)=>Ye((s,o)=>e(r,s,i,o))(rr(t(r,i))),n):("number"==typeof e&&(n=e),Fe((r,i)=>function ej(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let v=!1;rr(n(g,u++)).subscribe(et(e,T=>{i?.(T),s?h(T):e.next(T)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){const T=c.shift();o?Ns(e,o,()=>p(T)):p(T)}f()}catch(T){e.error(T)}}))};return t.subscribe(et(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function Q0(t=1/0){return Hn(me,t)}const Wi=new de(t=>t.complete());function n_(t){return t[t.length-1]}function mw(t){return R(n_(t))?t.pop():void 0}function ad(t){return function nj(t){return t&&R(t.schedule)}(n_(t))?t.pop():void 0}function X0(t,e=0){return Fe((n,r)=>{n.subscribe(et(r,i=>Ns(r,t,()=>r.next(i),e),()=>Ns(r,t,()=>r.complete(),e),i=>Ns(r,t,()=>r.error(i),e)))})}function J0(t,e=0){return Fe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _w(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{Ns(n,e,()=>{const r=t[Symbol.asyncIterator]();Ns(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zn(t,e){return e?function lj(t,e){if(null!=t){if(K0(t))return function ij(t,e){return rr(t).pipe(J0(e),X0(e))}(t,e);if(W0(t))return function oj(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(rd(t))return function sj(t,e){return rr(t).pipe(J0(e),X0(e))}(t,e);if(Y0(t))return _w(t,e);if(nr(t))return function aj(t,e){return new de(n=>{let r;return Ns(n,e,()=>{r=t[sd](),Ns(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>R(r?.return)&&r.return()})}(t,e);if(od(t))return function cj(t,e){return _w(wi(t),e)}(t,e)}throw id(t)}(t,e):rr(t)}class oi extends Z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Ve(...t){return zn(t,ad(t))}function vw(t={}){const{connector:e=(()=>new Z),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Fe((g,v)=>{l++,!d&&!u&&f();const T=c=c??e();v.add(()=>{l--,0===l&&!d&&!u&&(a=r_(p,i))}),T.subscribe(v),!o&&l>0&&(o=new le({next:I=>T.next(I),error:I=>{d=!0,f(),a=r_(h,n,I),T.error(I)},complete:()=>{u=!0,f(),a=r_(h,r),T.complete()}}),rr(g).subscribe(o))})(s)}}function r_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new le({next:()=>{r.unsubscribe(),t()}});return rr(e(...n)).subscribe(r)}function ai(t,e){return Fe((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(et(r,c=>{i?.unsubscribe();let l=0;const u=s++;rr(t(c,u)).subscribe(i=et(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function yw(t,e=me){return t=t??dj,Fe((n,r)=>{let i,s=!0;n.subscribe(et(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function dj(t,e){return t===e}function _t(t){for(let e in t)if(t[e]===_t)return e;throw Error("Could not find renamed property on target object.")}function Z0(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function In(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(In).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function i_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const fj=_t({__forward_ref__:_t});function St(t){return t.__forward_ref__=St,t.toString=function(){return In(this())},t}function He(t){return s_(t)?t():t}function s_(t){return"function"==typeof t&&t.hasOwnProperty(fj)&&t.__forward_ref__===St}function o_(t){return t&&!!t.\u0275providers}const Ew="https://g.co/ng/security#xss";class ee extends Error{constructor(e,n){super(function ep(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ue(t){return"string"==typeof t?t:null==t?"":String(t)}function a_(t,e){throw new ee(-201,!1)}function ci(t,e){null==t&&function Le(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function be(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tt(t){return{providers:t.providers||[],imports:t.imports||[]}}function tp(t){return xw(t,rp)||xw(t,Cw)}function xw(t,e){return t.hasOwnProperty(e)?t[e]:null}function np(t){return t&&(t.hasOwnProperty(c_)||t.hasOwnProperty(Ej))?t[c_]:null}const rp=_t({\u0275prov:_t}),c_=_t({\u0275inj:_t}),Cw=_t({ngInjectableDef:_t}),Ej=_t({ngInjectorDef:_t});var st=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(st||{});let l_;function Mr(t){const e=l_;return l_=t,e}function bw(t,e,n){const r=tp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&st.Optional?null:void 0!==e?e:void a_(In(t))}const Rt=globalThis;class ye{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=be({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const cd={},p_="__NG_DI_FLAG__",ip="ngTempTokenPath",Ij=/\n/gm,Aw="__source";let Mc;function vo(t){const e=Mc;return Mc=t,e}function Aj(t,e=st.Default){if(void 0===Mc)throw new ee(-203,!1);return null===Mc?bw(t,void 0,e):Mc.get(t,e&st.Optional?null:void 0,e)}function De(t,e=st.Default){return(function Iw(){return l_}()||Aj)(He(t),e)}function K(t,e=st.Default){return De(t,sp(e))}function sp(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function g_(t){const e=[];for(let n=0;n<t.length;n++){const r=He(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ee(900,!1);let i,s=st.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Tj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(De(i,s))}else e.push(De(r))}return e}function ld(t,e){return t[p_]=e,t.prototype[p_]=e,t}function Tj(t){return t[p_]}function Os(t){return{toString:t}.toString()}var op=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(op||{}),Ai=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ai||{});const Ki={},ft=[],ap=_t({\u0275cmp:_t}),m_=_t({\u0275dir:_t}),__=_t({\u0275pipe:_t}),Dw=_t({\u0275mod:_t}),Fs=_t({\u0275fac:_t}),ud=_t({__NG_ELEMENT_ID__:_t}),Sw=_t({__NG_ENV_ID__:_t});function Rw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function v_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Mw(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Pw(t){return 3===t||4===t||6===t}function Mw(t){return 64===t.charCodeAt(0)}function dd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||kw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function kw(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Nw="ng-template";function Rj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Rw(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Ow(t){return 4===t.type&&t.value!==Nw}function Pj(t,e,n){return e===(4!==t.type||n?t.value:Nw)}function Mj(t,e,n){let r=4;const i=t.attrs||[],s=function Oj(t){for(let e=0;e<t.length;e++)if(Pw(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Pj(t,c,n)||""===c&&1===e.length){if(Ti(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Rj(t.attrs,l,n)){if(Ti(r))return!1;o=!0}continue}const d=kj(8&r?"class":c,i,Ow(t),n);if(-1===d){if(Ti(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Rw(h,l,0)||2&r&&l!==f){if(Ti(r))return!1;o=!0}}}}else{if(!o&&!Ti(r)&&!Ti(c))return!1;if(o&&Ti(c))continue;o=!1,r=c|1&r}}return Ti(r)||o}function Ti(t){return 0==(1&t)}function kj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Fj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Fw(t,e,n=!1){for(let r=0;r<e.length;r++)if(Mj(t,e[r],n))return!0;return!1}function Vj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Vw(t,e){return t?":not("+e.trim()+")":e}function Lj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ti(o)&&(e+=Vw(s,i),i=""),r=o,s=s||!Ti(r);n++}return""!==i&&(e+=Vw(s,i)),e}function ir(t){return Os(()=>{const e=Bw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===op.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ai.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""};Hw(n);const r=t.dependencies;return n.directiveDefs=cp(r,!1),n.pipeDefs=cp(r,!0),n.id=function qj(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function Uj(t){return at(t)||jn(t)}function jj(t){return null!==t}function Pt(t){return Os(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Lw(t,e){if(null==t)return Ki;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Oe(t){return Os(()=>{const e=Bw(t);return Hw(e),e})}function Un(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[ap]||null}function jn(t){return t[m_]||null}function mr(t){return t[__]||null}function Gr(t,e){const n=t[Dw]||null;if(!n&&!0===e)throw new Error(`Type ${In(t)} does not have '\u0275mod' property.`);return n}function Bw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ki,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lw(t.inputs,e),outputs:Lw(t.outputs)}}function Hw(t){t.features?.forEach(e=>e(t))}function cp(t,e){if(!t)return null;const n=e?mr:Uj;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(jj)}const Jt=0,Ce=1,We=2,Ut=3,Di=4,fd=5,sr=6,Nc=7,cn=8,yo=9,Oc=10,je=11,hd=12,zw=13,Fc=14,ln=15,pd=16,Vc=17,Yi=18,gd=19,Uw=20,Eo=21,Vs=22,md=23,_d=24,tt=25,y_=1,jw=2,Qi=7,Lc=9,$n=11;function kr(t){return Array.isArray(t)&&"object"==typeof t[y_]}function _r(t){return Array.isArray(t)&&!0===t[y_]}function E_(t){return 0!=(4&t.flags)}function Ca(t){return t.componentOffset>-1}function up(t){return 1==(1&t.flags)}function Si(t){return!!t.template}function x_(t){return 0!=(512&t[We])}function Ia(t,e){return t.hasOwnProperty(Fs)?t[Fs]:null}let Gn=null,dp=!1;function li(t){const e=Gn;return Gn=t,e}const qw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Kw(t){if(!yd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Xw(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Qw(t){t.dirty=!0,function Yw(t){if(void 0===t.liveConsumerNode)return;const e=dp;dp=!0;try{for(const n of t.liveConsumerNode)n.dirty||Qw(n)}finally{dp=e}}(t),t.consumerMarkedDirty?.(t)}function I_(t){return t&&(t.nextProducerIndex=0),li(t)}function b_(t,e){if(li(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(yd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)fp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Xw(t){Bc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Kw(n),r!==n.version))return!0}return!1}function Jw(t){if(Bc(t),yd(t))for(let e=0;e<t.producerNode.length;e++)fp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fp(t,e){if(function eA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Bc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)fp(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Bc(i),i.producerIndexOfThis[r]=e}}function yd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let tA=null;function iA(t){const e=li(null);try{return t()}finally{li(e)}}const sA=()=>{},s$=(()=>({...qw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:sA}))();class o${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function vr(){return oA}function oA(t){return t.type.prototype.ngOnChanges&&(t.setInput=c$),a$}function a$(){const t=cA(this),e=t?.current;if(e){const n=t.previous;if(n===Ki)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function c$(t,e,n,r){const i=this.declaredInputs[n],s=cA(t)||function l$(t,e){return t[aA]=e}(t,{previous:Ki,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new o$(c&&c.currentValue,e,a===Ki),t[r]=e}vr.ngInherit=!0;const aA="__ngSimpleChanges__";function cA(t){return t[aA]||null}const Xi=function(t,e,n){};function Mt(t){for(;Array.isArray(t);)t=t[Jt];return t}function hp(t,e){return Mt(e[t])}function Nr(t,e){return Mt(e[t.index])}function dA(t,e){return t.data[e]}function Hc(t,e){return t[e]}function qr(t,e){const n=e[t];return kr(n)?n:n[Jt]}function Co(t,e){return null==e?null:t[e]}function fA(t){t[Vc]=0}function g$(t){1024&t[We]||(t[We]|=1024,pA(t,1))}function hA(t){1024&t[We]&&(t[We]&=-1025,pA(t,-1))}function pA(t,e){let n=t[Ut];if(null===n)return;n[fd]+=e;let r=n;for(n=n[Ut];null!==n&&(1===e&&1===r[fd]||-1===e&&0===r[fd]);)n[fd]+=e,r=n,n=n[Ut]}const Be={lFrame:wA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _A(){return Be.bindingsEnabled}function zc(){return null!==Be.skipHydrationRootTNode}function X(){return Be.lFrame.lView}function ct(){return Be.lFrame.tView}function Ji(t){return Be.lFrame.contextLView=t,t[cn]}function Zi(t){return Be.lFrame.contextLView=null,t}function qn(){let t=vA();for(;null!==t&&64===t.type;)t=t.parent;return t}function vA(){return Be.lFrame.currentTNode}function es(t,e){const n=Be.lFrame;n.currentTNode=t,n.isParent=e}function S_(){return Be.lFrame.isParent}function R_(){Be.lFrame.isParent=!1}function yr(){const t=Be.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Uc(){return Be.lFrame.bindingIndex++}function T$(t,e){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,P_(e)}function P_(t){Be.lFrame.currentDirectiveIndex=t}function CA(){return Be.lFrame.currentQueryIndex}function k_(t){Be.lFrame.currentQueryIndex=t}function S$(t){const e=t[Ce];return 2===e.type?e.declTNode:1===e.type?t[sr]:null}function IA(t,e,n){if(n&st.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&st.Host||(i=S$(s),null===i||(s=s[Fc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Be.lFrame=bA();return r.currentTNode=e,r.lView=t,!0}function N_(t){const e=bA(),n=t[Ce];Be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function bA(){const t=Be.lFrame,e=null===t?null:t.child;return null===e?wA(t):e}function wA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function AA(){const t=Be.lFrame;return Be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const TA=AA;function O_(){const t=AA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Er(){return Be.lFrame.selectedIndex}function ba(t){Be.lFrame.selectedIndex=t}function Kt(){const t=Be.lFrame;return dA(t.tView,t.selectedIndex)}let SA=!0;function pp(){return SA}function Io(t){SA=t}function gp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function mp(t,e,n){RA(t,e,3,n)}function _p(t,e,n,r){(3&t[We])===n&&RA(t,e,n,r)}function F_(t,e){let n=t[We];(3&n)===e&&(n&=8191,n+=1,t[We]=n)}function RA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Vc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Vc]+=65536),(a<s||-1==s)&&(V$(t,n,e,c),t[Vc]=(4294901760&t[Vc])+c+2),c++}function PA(t,e){Xi(4,t,e);const n=li(null);try{e.call(t)}finally{li(n),Xi(5,t,e)}}function V$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[We]>>13<t[Vc]>>16&&(3&t[We])===e&&(t[We]+=8192,PA(a,s)):PA(a,s)}const jc=-1;class xd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function L_(t){return t!==jc}function Cd(t){return 32767&t}function Id(t,e){let n=function z$(t){return t>>16}(t),r=e;for(;n>0;)r=r[Fc],n--;return r}let B_=!0;function vp(t){const e=B_;return B_=t,e}const MA=255,kA=5;let U$=0;const ts={};function yp(t,e){const n=NA(t,e);if(-1!==n)return n;const r=e[Ce];r.firstCreatePass&&(t.injectorIndex=e.length,H_(r.data,t),H_(e,null),H_(r.blueprint,null));const i=Ep(t,e),s=t.injectorIndex;if(L_(i)){const o=Cd(i),a=Id(i,e),c=a[Ce].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function H_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function NA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ep(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=zA(i),null===r)return jc;if(n++,i=i[Fc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return jc}function z_(t,e,n){!function j$(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ud)&&(r=n[ud]),null==r&&(r=n[ud]=U$++);const i=r&MA;e.data[t+(i>>kA)]|=1<<i}(t,e,n)}function OA(t,e,n){if(n&st.Optional||void 0!==t)return t;a_()}function FA(t,e,n,r){if(n&st.Optional&&void 0===r&&(r=null),!(n&(st.Self|st.Host))){const i=t[yo],s=Mr(void 0);try{return i?i.get(e,r,n&st.Optional):bw(e,r,n&st.Optional)}finally{Mr(s)}}return OA(r,0,n)}function VA(t,e,n,r=st.Default,i){if(null!==t){if(2048&e[We]&&!(r&st.Self)){const o=function Y$(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[We]&&!(512&o[We]);){const a=LA(s,o,n,r|st.Self,ts);if(a!==ts)return a;let c=s.parent;if(!c){const l=o[Uw];if(l){const u=l.get(n,ts,r);if(u!==ts)return u}c=zA(o),o=o[Fc]}s=c}return i}(t,e,n,r,ts);if(o!==ts)return o}const s=LA(t,e,n,r,ts);if(s!==ts)return s}return FA(e,n,r,i)}function LA(t,e,n,r,i){const s=function q$(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ud)?t[ud]:void 0;return"number"==typeof e?e>=0?e&MA:K$:e}(n);if("function"==typeof s){if(!IA(e,t,r))return r&st.Host?OA(i,0,r):FA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&st.Optional)return o;a_()}finally{TA()}}else if("number"==typeof s){let o=null,a=NA(t,e),c=jc,l=r&st.Host?e[ln][sr]:null;for((-1===a||r&st.SkipSelf)&&(c=-1===a?Ep(t,e):e[a+8],c!==jc&&HA(r,!1)?(o=e[Ce],a=Cd(c),e=Id(c,e)):a=-1);-1!==a;){const u=e[Ce];if(BA(s,a,u.data)){const d=G$(a,e,n,o,r,l);if(d!==ts)return d}c=e[a+8],c!==jc&&HA(r,e[Ce].data[a+8]===l)&&BA(s,a,e)?(o=u,a=Cd(c),e=Id(c,e)):a=-1}}return i}function G$(t,e,n,r,i,s){const o=e[Ce],a=o.data[t+8],u=xp(a,o,n,null==r?Ca(a)&&B_:r!=o&&0!=(3&a.type),i&st.Host&&s===a);return null!==u?wa(e,o,u,a):ts}function xp(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Si(h)&&h.type===n)return c}return null}function wa(t,e,n,r){let i=t[n];const s=e.data;if(function L$(t){return t instanceof xd}(i)){const o=i;o.resolving&&function hj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ee(-200,`Circular dependency in DI detected for ${t}${n}`)}(function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ue(t)}(s[n]));const a=vp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Mr(o.injectImpl):null;IA(t,r,st.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function F$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=oA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Mr(l),vp(a),o.resolving=!1,TA()}}return i}function BA(t,e,n){return!!(n[e+(t>>kA)]&1<<t)}function HA(t,e){return!(t&st.Self||t&st.Host&&e)}class xr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return VA(this._tNode,this._lView,e,sp(r),n)}}function K$(){return new xr(qn(),X())}function Wn(t){return Os(()=>{const e=t.prototype.constructor,n=e[Fs]||U_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Fs]||U_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function U_(t){return s_(t)?()=>{const e=U_(He(t));return e&&e()}:Ia(t)}function zA(t){const e=t[Ce],n=e.type;return 2===n?e.declTNode:1===n?t[sr]:null}const Gc="__parameters__";function Wc(t,e,n){return Os(()=>{const r=function j_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Gc)?c[Gc]:Object.defineProperty(c,Gc,{value:[]})[Gc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Yc(t,e){t.forEach(n=>Array.isArray(n)?Yc(n,e):e(n))}function jA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ip(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ad(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Wr(t,e,n){let r=Qc(t,e);return r>=0?t[1|r]=n:(r=~r,function nG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function $_(t,e){const n=Qc(t,e);if(n>=0)return t[1|n]}function Qc(t,e){return function $A(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const un=ld(Wc("Optional"),8),q_=ld(Wc("SkipSelf"),4);function Sp(t){return 128==(128&t.flags)}var bo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bo||{});const IG=/^>|^->|<!--|-->|--!>|<!-$/g,bG=/(<|>)/g,wG="\u200b$1\u200b";const Q_=new Map;let AG=0;const J_="__ngContext__";function or(t,e){kr(e)?(t[J_]=e[gd],function DG(t){Q_.set(t[gd],t)}(e)):t[J_]=e}let Z_;function ev(t,e){return Z_(t,e)}function Sd(t){const e=t[Ut];return _r(e)?e[Ut]:e}function u5(t){return f5(t[hd])}function d5(t){return f5(t[Di])}function f5(t){for(;null!==t&&!_r(t);)t=t[Di];return t}function Zc(t,e,n,r,i){if(null!=r){let s,o=!1;_r(r)?s=r:kr(r)&&(o=!0,r=r[Jt]);const a=Mt(r);0===t&&null!==n?null==i?m5(e,n,a):Aa(e,n,a,i||null,!0):1===t&&null!==n?Aa(e,n,a,i||null,!0):2===t?function Fp(t,e,n){const r=Np(t,e);r&&function WG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function QG(t,e,n,r,i){const s=n[Qi];s!==Mt(n)&&Zc(e,t,r,s,i);for(let a=$n;a<n.length;a++){const c=n[a];Pd(c[Ce],c,t,e,r,s)}}(e,t,s,n,i)}}function tv(t,e){return t.createComment(function n5(t){return t.replace(IG,e=>e.replace(bG,wG))}(e))}function Mp(t,e,n){return t.createElement(e,n)}function p5(t,e){const n=t[Lc],r=n.indexOf(e);hA(e),n.splice(r,1)}function kp(t,e){if(t.length<=$n)return;const n=$n+e,r=t[n];if(r){const i=r[pd];null!==i&&i!==t&&p5(i,r),e>0&&(t[n-1][Di]=r[Di]);const s=Ip(t,$n+e);!function BG(t,e){Pd(t,e,e[je],2,null,null),e[Jt]=null,e[sr]=null}(r[Ce],r);const o=s[Yi];null!==o&&o.detachView(s[Ce]),r[Ut]=null,r[Di]=null,r[We]&=-129}return r}function nv(t,e){if(!(256&e[We])){const n=e[je];e[md]&&Jw(e[md]),e[_d]&&Jw(e[_d]),n.destroyNode&&Pd(t,e,n,3,null,null),function UG(t){let e=t[hd];if(!e)return rv(t[Ce],t);for(;e;){let n=null;if(kr(e))n=e[hd];else{const r=e[$n];r&&(n=r)}if(!n){for(;e&&!e[Di]&&e!==t;)kr(e)&&rv(e[Ce],e),e=e[Ut];null===e&&(e=t),kr(e)&&rv(e[Ce],e),n=e&&e[Di]}e=n}}(e)}}function rv(t,e){if(!(256&e[We])){e[We]&=-129,e[We]|=256,function qG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof xd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Xi(4,a,c);try{c.call(a)}finally{Xi(5,a,c)}}else{Xi(4,i,s);try{s.call(i)}finally{Xi(5,i,s)}}}}}(t,e),function GG(t,e){const n=t.cleanup,r=e[Nc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Nc]=null);const i=e[Eo];if(null!==i){e[Eo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[Ce].type&&e[je].destroy();const n=e[pd];if(null!==n&&_r(e[Ut])){n!==e[Ut]&&p5(n,e);const r=e[Yi];null!==r&&r.detachView(t)}!function SG(t){Q_.delete(t[gd])}(e)}}function iv(t,e,n){return function g5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Jt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ai.None||s===Ai.Emulated)return null}return Nr(r,n)}}(t,e.parent,n)}function Aa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function m5(t,e,n){t.appendChild(e,n)}function _5(t,e,n,r,i){null!==r?Aa(t,e,n,r,i):m5(t,e,n)}function Np(t,e){return t.parentNode(e)}function v5(t,e,n){return E5(t,e,n)}let sv,Vp,lv,Lp,E5=function y5(t,e,n){return 40&t.type?Nr(t,n):null};function Op(t,e,n,r){const i=iv(t,r,e),s=e[je],a=v5(r.parent||e[sr],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)_5(s,i,n[c],a,!1);else _5(s,i,n,a,!1);void 0!==sv&&sv(s,r,e,n,i)}function Rd(t,e){if(null!==e){const n=e.type;if(3&n)return Nr(e,t);if(4&n)return ov(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Rd(t,r);{const i=t[e.index];return _r(i)?ov(-1,i):Mt(i)}}if(32&n)return ev(e,t)()||Mt(t[e.index]);{const r=C5(t,e);return null!==r?Array.isArray(r)?r[0]:Rd(Sd(t[ln]),r):Rd(t,e.next)}}return null}function C5(t,e){return null!==e?t[ln][sr].projection[e.projection]:null}function ov(t,e){const n=$n+t+1;if(n<e.length){const r=e[n],i=r[Ce].firstChild;if(null!==i)return Rd(r,i)}return e[Qi]}function av(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&or(Mt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)av(t,e,n.child,r,i,s,!1),Zc(e,t,i,a,s);else if(32&c){const l=ev(n,r);let u;for(;u=l();)Zc(e,t,i,u,s);Zc(e,t,i,a,s)}else 16&c?b5(t,e,r,n,i,s):Zc(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Pd(t,e,n,r,i,s){av(n,r,t.firstChild,e,i,s,!1)}function b5(t,e,n,r,i,s){const o=n[ln],c=o[sr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Zc(e,t,i,c[l],s);else{let l=c;const u=o[Ut];Sp(r)&&(l.flags|=128),av(t,e,l,u,i,s,!0)}}function w5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function A5(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&v_(t,e,r),null!==i&&w5(t,e,i),null!==s&&function JG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function el(t){return function cv(){if(void 0===Vp&&(Vp=null,Rt.trustedTypes))try{Vp=Rt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vp}()?.createHTML(t)||t}function tl(){if(void 0!==lv)return lv;if(typeof document<"u")return document;throw new ee(210,!1)}function T5(t){return function uv(){if(void 0===Lp&&(Lp=null,Rt.trustedTypes))try{Lp=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Lp}()?.createHTML(t)||t}class Ta{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ew})`}}class rq extends Ta{getTypeName(){return"HTML"}}class iq extends Ta{getTypeName(){return"Style"}}class sq extends Ta{getTypeName(){return"Script"}}class oq extends Ta{getTypeName(){return"URL"}}class aq extends Ta{getTypeName(){return"ResourceURL"}}function Kr(t){return t instanceof Ta?t.changingThisBreaksApplicationSecurity:t}function ns(t,e){const n=function cq(t){return t instanceof Ta&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ew})`)}return n===e}class pq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(el(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class gq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=el(e),n}}const _q=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bp(t){return(t=String(t)).match(_q)?t:"unsafe:"+t}function Hs(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Md(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const P5=Hs("area,br,col,hr,img,wbr"),M5=Hs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k5=Hs("rp,rt"),dv=Md(P5,Md(M5,Hs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Md(k5,Hs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Md(k5,M5)),fv=Hs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),N5=Md(fv,Hs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vq=Hs("script,style,template");class yq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!dv.hasOwnProperty(n))return this.sanitizedSomething=!0,!vq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!N5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;fv[a]&&(c=Bp(c)),this.buf.push(" ",o,'="',O5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();dv.hasOwnProperty(n)&&!P5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(O5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Eq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xq=/([^\#-~ |!])/g;function O5(t){return t.replace(/&/g,"&amp;").replace(Eq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(xq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hp;function F5(t,e){let n=null;try{Hp=Hp||function R5(t){const e=new gq(t);return function mq(){try{return!!(new window.DOMParser).parseFromString(el(""),"text/html")}catch{return!1}}()?new pq(e):e}(t);let r=e?String(e):"";n=Hp.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Hp.getInertBodyElement(r)}while(r!==s);return el((new yq).sanitizeChildren(hv(n)||n))}finally{if(n){const r=hv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function hv(t){return"content"in t&&function Cq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var di=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(di||{});function V5(t){const e=function kd(){const t=X();return t&&t[Oc].sanitizer}();return e?T5(e.sanitize(di.HTML,t)||""):ns(t,"HTML")?T5(Kr(t)):F5(tl(),Ue(t))}const Nd=new ye("ENVIRONMENT_INITIALIZER"),z5=new ye("INJECTOR",-1),U5=new ye("INJECTOR_DEF_TYPES");class pv{get(e,n=cd){if(n===cd){const r=new Error(`NullInjectorError: No provider for ${In(e)}!`);throw r.name="NullInjectorError",r}return n}}function Dq(...t){return{\u0275providers:j5(0,t),\u0275fromNgModule:!0}}function j5(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Yc(e,o=>{const a=o;zp(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&$5(i,s),n}function $5(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];mv(i,s=>{e(s,r)})}}function zp(t,e,n,r){if(!(t=He(t)))return!1;let i=null,s=np(t);const o=!s&&at(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=np(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)zp(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Yc(s.imports,u=>{zp(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&$5(l,e)}if(!a){const l=Ia(i)||(()=>new i);e({provide:i,useFactory:l,deps:ft},i),e({provide:U5,useValue:i,multi:!0},i),e({provide:Nd,useValue:()=>De(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;mv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function mv(t,e){for(let n of t)o_(n)&&(n=n.\u0275providers),Array.isArray(n)?mv(n,e):e(n)}const Sq=_t({provide:String,useValue:_t});function _v(t){return null!==t&&"object"==typeof t&&Sq in t}function Da(t){return"function"==typeof t}const vv=new ye("Set Injector scope."),Up={},Pq={};let yv;function jp(){return void 0===yv&&(yv=new pv),yv}class fi{}class nl extends fi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xv(e,o=>this.processProvider(o)),this.records.set(z5,rl(void 0,this)),i.has("environment")&&this.records.set(fi,rl(void 0,this));const s=this.records.get(vv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(U5.multi,ft,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=vo(this),r=Mr(void 0);try{return e()}finally{vo(n),Mr(r)}}get(e,n=cd,r=st.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Sw))return e[Sw](this);r=sp(r);const s=vo(this),o=Mr(void 0);try{if(!(r&st.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Fq(t){return"function"==typeof t||"object"==typeof t&&t instanceof ye}(e)&&tp(e);c=l&&this.injectableDefInScope(l)?rl(Ev(e),Up):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&st.Self?jp():this.parent).get(e,n=r&st.Optional&&n===cd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ip]=a[ip]||[]).unshift(In(e)),s)throw a;return function Dj(t,e,n,r){const i=t[ip];throw e[Aw]&&i.unshift(e[Aw]),t.message=function Sj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=In(e);if(Array.isArray(e))i=e.map(In).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):In(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ij,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ip]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Mr(o),vo(s)}}resolveInjectorInitializers(){const e=vo(this),n=Mr(void 0);try{const i=this.get(Nd.multi,ft,st.Self);for(const s of i)s()}finally{vo(e),Mr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(In(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){let n=Da(e=He(e))?e:He(e&&e.provide);const r=function kq(t){return _v(t)?rl(void 0,t.useValue):rl(W5(t),Up)}(e);if(Da(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=rl(void 0,Up,!0),i.factory=()=>g_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Up&&(n.value=Pq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Oq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=He(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ev(t){const e=tp(t),n=null!==e?e.factory:Ia(t);if(null!==n)return n;if(t instanceof ye)throw new ee(204,!1);if(t instanceof Function)return function Mq(t){const e=t.length;if(e>0)throw Ad(e,"?"),new ee(204,!1);const n=function yj(t){return t&&(t[rp]||t[Cw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ee(204,!1)}function W5(t,e,n){let r;if(Da(t)){const i=He(t);return Ia(i)||Ev(i)}if(_v(t))r=()=>He(t.useValue);else if(function q5(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...g_(t.deps||[]));else if(function G5(t){return!(!t||!t.useExisting)}(t))r=()=>De(He(t.useExisting));else{const i=He(t&&(t.useClass||t.provide));if(!function Nq(t){return!!t.deps}(t))return Ia(i)||Ev(i);r=()=>new i(...g_(t.deps))}return r}function rl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xv(t,e){for(const n of t)Array.isArray(n)?xv(n,e):n&&o_(n)?xv(n.\u0275providers,e):e(n)}const $p=new ye("AppId",{providedIn:"root",factory:()=>Vq}),Vq="ng",K5=new ye("Platform Initializer"),rs=new ye("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Y5=new ye("CSP nonce",{providedIn:"root",factory:()=>tl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Q5=(t,e,n)=>null;function Sv(t,e,n=!1){return Q5(t,e,n)}class Wq{}class Z5{}class Yq{resolveComponentFactory(e){throw function Kq(t){const e=Error(`No component factory found for ${In(t)}.`);return e.ngComponent=t,e}(e)}}let Vd=(()=>{class e{}return e.NULL=new Yq,e})();function Qq(){return ol(qn(),X())}function ol(t,e){return new Cr(Nr(t,e))}let Cr=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=Qq,e})();function Xq(t){return t instanceof Cr?t.nativeElement:t}class tT{}let is=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Jq(){const t=X(),n=qr(qn().index,t);return(kr(n)?n:t)[je]}(),e})(),Zq=(()=>{var t;class e{}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>null}),e})();class al{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const nT=new al("16.2.12"),Mv={};function oT(t,e=null,n=null,r){const i=aT(t,e,n,r);return i.resolveInjectorInitializers(),i}function aT(t,e=null,n=null,r,i=new Set){const s=[n||ft,Dq(t)];return r=r||("object"==typeof t?void 0:In(t)),new nl(s,e||jp(),r||null,i)}let wn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return oT({name:""},i,r,"");{const s=r.name??"";return oT({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=cd,t.NULL=new pv,t.\u0275prov=be({token:t,providedIn:"any",factory:()=>De(z5)}),t.__NG_ELEMENT_ID__=-1,e})();function Nv(t){return t.ngOriginalError}class zs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Nv(e);for(;n&&Nv(n);)n=Nv(n);return n||null}}function Fv(t){return e=>{setTimeout(t,void 0,e)}}const bt=class oW extends Z{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Fv(s),i&&(i=Fv(i)),o&&(o=Fv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Y&&e.add(a),a}};function lT(...t){}class dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bt(!1),this.onMicrotaskEmpty=new bt(!1),this.onStable=new bt(!1),this.onError=new bt(!1),typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function aW(){const t="function"==typeof Rt.requestAnimationFrame;let e=Rt[t?"requestAnimationFrame":"setTimeout"],n=Rt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function uW(t){const e=()=>{!function lW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Lv(t),t.isCheckStableRunning=!0,Vv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Lv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function fW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return uT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),dT(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return uT(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),dT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Lv(t),Vv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new ee(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,cW,lT,lT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const cW={};function Vv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Lv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function uT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function dT(t){t._nesting--,Vv(t)}class dW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bt,this.onMicrotaskEmpty=new bt,this.onStable=new bt,this.onError=new bt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const fT=new ye("",{providedIn:"root",factory:hT});function hT(){const t=K(dt);let e=!0;return function uj(...t){const e=ad(t),n=function rj(t,e){return"number"==typeof n_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?rr(r[0]):Q0(n)(zn(r,e)):Wi}(new de(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new de(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{dt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(vw()))}function Us(t){return t instanceof Function?t():t}let Bv=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function Ld(t){for(;t;){t[We]|=64;const e=Sd(t);if(x_(t)&&!e)return t;t=e}return null}const vT=new ye("",{providedIn:"root",factory:()=>!1});let Xp=null;function CT(t,e){return t[e]??wT()}function IT(t,e){const n=wT();n.producerNode?.length&&(t[e]=Xp,n.lView=t,Xp=bT())}const CW={...qw,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ld(t.lView)},lView:null};function bT(){return Object.create(CW)}function wT(){return Xp??=bT(),Xp}const Ge={};function ke(t){AT(ct(),X(),Er()+t,!1)}function AT(t,e,n,r){if(!r)if(3==(3&e[We])){const s=t.preOrderCheckHooks;null!==s&&mp(e,s,n)}else{const s=t.preOrderHooks;null!==s&&_p(e,s,0,n)}ba(n)}function J(t,e=st.Default){const n=X();return null===n?De(t,e):VA(qn(),n,He(t),e)}function Jp(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[Jt]=i,d[We]=140|r,(null!==l||t&&2048&t[We])&&(d[We]|=2048),fA(d),d[Ut]=d[Fc]=t,d[cn]=n,d[Oc]=o||t&&t[Oc],d[je]=a||t&&t[je],d[yo]=c||t&&t[yo]||null,d[sr]=s,d[gd]=function TG(){return AG++}(),d[Vs]=u,d[Uw]=l,d[ln]=2==e.type?t[ln]:d,d}function ul(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Hv(t,e,n,r,i){const s=vA(),o=S_(),c=t.data[e]=function PW(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return zc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function A$(){return Be.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ed(){const t=Be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return es(s,!0),s}function Bd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function TT(t,e,n,r,i){const s=CT(e,md),o=Er(),a=2&r;try{ba(-1),a&&e.length>tt&&AT(t,e,tt,!1),Xi(a?2:0,i);const l=a?s:null,u=I_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{b_(l,u)}}finally{a&&null===e[md]&&IT(e,md),ba(o),Xi(a?3:1,i)}}function zv(t,e,n){if(E_(e)){const r=li(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{li(r)}}}function Uv(t,e,n){_A()&&(function LW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ca(n)&&function GW(t,e,n){const r=Nr(e,t),i=DT(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Zp(t,Jp(t,i,null,o,r,e,null,t[Oc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||yp(n,e),or(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=wa(e,t,a,n);or(l,e),null!==o&&qW(0,a-i,l,c,0,o),Si(c)&&(qr(n.index,e)[cn]=wa(e,t,a,n))}}(t,e,n,Nr(n,e)),64==(64&n.flags)&&kT(t,e,n))}function jv(t,e,n=Nr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function DT(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$v(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function $v(t,e,n,r,i,s,o,a,c,l,u){const d=tt+r,f=d+i,h=function wW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ge);return n}(d,f),p="function"==typeof l?l():l;return h[Ce]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let ST=t=>null;function RT(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?PT(n,e,i,s):r.hasOwnProperty(i)&&PT(n,e,r[i],s)}return n}function PT(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Yr(t,e,n,r,i,s,o,a){const c=Nr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Yv(t,n,u,r,i),Ca(e)&&function NW(t,e){const n=qr(e,t);16&n[We]||(n[We]|=64)}(n,e.index)):3&e.type&&(r=function kW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Gv(t,e,n,r){if(_A()){const i=null===r?null:{"":-1},s=function HW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Fw(e,o.selectors,!1))if(r||(r=[]),Si(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),qv(t,e,a.length)}else r.unshift(o),qv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&MT(t,e,n,o,i,a),i&&function zW(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ee(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=dd(n.mergedAttrs,n.attrs)}function MT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)z_(yp(n,e),t,r[l].type);!function jW(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Bd(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=dd(n.mergedAttrs,u.hostAttrs),$W(t,n,e,c,u),UW(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function MW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;c=RT(d.inputs,u,c,f?f.inputs:null),l=RT(d.outputs,u,l,p);const g=null===c||null===o||Ow(e)?null:WW(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function kT(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function D$(){return Be.lFrame.currentDirectiveIndex}();try{ba(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];P_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&BW(c,l)}}finally{ba(-1),P_(o)}}function BW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function qv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function UW(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Si(e)&&(n[""]=t)}}function $W(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ia(i.type)),o=new xd(s,Si(i),J);t.blueprint[r]=o,n[r]=o,function FW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function VW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Bd(t,n,i.hostVars,Ge),i)}function ss(t,e,n,r,i,s){const o=Nr(t,e);!function Wv(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Ue(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[je],o,s,t.value,n,r,i)}function qW(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)NT(r,n,o[a++],o[a++],o[a++])}function NT(t,e,n,r,i){const s=li(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{li(s)}}function WW(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function OT(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function FT(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];k_(n[r]),o.contentQueries(2,e[s],s)}}}function Zp(t,e){return t[hd]?t[zw][Di]=e:t[hd]=e,t[zw]=e,e}function Kv(t,e,n){k_(0);const r=li(null);try{e(t,n)}finally{li(r)}}function VT(t){return t[Nc]||(t[Nc]=[])}function LT(t){return t.cleanup||(t.cleanup=[])}function HT(t,e){const n=t[yo],r=n?n.get(zs,null):null;r&&r.handleError(e)}function Yv(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];NT(t.data[o],e[o],r,a,i)}}function KW(t,e){const n=qr(e,t),r=n[Ce];!function YW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Jt];null!==i&&null===n[Vs]&&(n[Vs]=Sv(i,n[yo])),Qv(r,n,n[cn])}function Qv(t,e,n){N_(e);try{const r=t.viewQuery;null!==r&&Kv(1,r,n);const i=t.template;null!==i&&TT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&FT(t,e),t.staticViewQueries&&Kv(2,t.viewQuery,n);const s=t.components;null!==s&&function QW(t,e){for(let n=0;n<e.length;n++)KW(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[We]&=-5,O_()}}let zT=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function i$(t,e,n){const r=Object.create(s$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Qw(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Xw(r))return;r.hasRun=!0;const o=I_(r);try{r.cleanupFn(),r.cleanupFn=sA,r.fn(i)}finally{b_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function eg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=i_(i,a):2==s&&(r=i_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Hd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Mt(s)),_r(s)&&UT(s,r);const o=n.type;if(8&o)Hd(t,e,n.child,r);else if(32&o){const a=ev(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=C5(e,n);if(Array.isArray(a))r.push(...a);else{const c=Sd(e[ln]);Hd(c[Ce],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function UT(t,e){for(let n=$n;n<t.length;n++){const r=t[n],i=r[Ce].firstChild;null!==i&&Hd(r[Ce],r,i,e)}t[Qi]!==t[Jt]&&e.push(t[Qi])}function tg(t,e,n,r=!0){const i=e[Oc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{jT(t,e,t.template,n)}catch(c){throw r&&HT(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function jT(t,e,n,r){const i=e[We];if(256!=(256&i)){e[Oc].effectManager?.flush(),N_(e);try{fA(e),function EA(t){return Be.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&TT(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&mp(e,l,null)}else{const l=t.preOrderHooks;null!==l&&_p(e,l,0,null),F_(e,0)}if(function ZW(t){for(let e=u5(t);null!==e;e=d5(e)){if(!e[jw])continue;const n=e[Lc];for(let r=0;r<n.length;r++){g$(n[r])}}}(e),$T(e,2),null!==t.contentQueries&&FT(t,e),o){const l=t.contentCheckHooks;null!==l&&mp(e,l)}else{const l=t.contentHooks;null!==l&&_p(e,l,1),F_(e,1)}!function bW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=CT(e,_d);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ba(~s);else{const o=s,a=n[++i],c=n[++i];T$(a,o),r.dirty=!1;const l=I_(r);try{c(2,e[o])}finally{b_(r,l)}}}}finally{null===e[_d]&&IT(e,_d),ba(-1)}}(t,e);const a=t.components;null!==a&&qT(e,a,0);const c=t.viewQuery;if(null!==c&&Kv(2,c,r),o){const l=t.viewCheckHooks;null!==l&&mp(e,l)}else{const l=t.viewHooks;null!==l&&_p(e,l,2),F_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[We]&=-73,hA(e)}finally{O_()}}}function $T(t,e){for(let n=u5(t);null!==n;n=d5(n))for(let r=$n;r<n.length;r++)GT(n[r],e)}function eK(t,e,n){GT(qr(e,t),n)}function GT(t,e){if(!function h$(t){return 128==(128&t[We])}(t))return;const n=t[Ce],r=t[We];if(80&r&&0===e||1024&r||2===e)jT(n,t,n.template,t[cn]);else if(t[fd]>0){$T(t,1);const i=n.components;null!==i&&qT(t,i,1)}}function qT(t,e,n){for(let r=0;r<e.length;r++)eK(t,e[r],n)}class zd{get rootNodes(){const e=this._lView,n=e[Ce];return Hd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[cn]}set context(e){this._lView[cn]=e}get destroyed(){return 256==(256&this._lView[We])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ut];if(_r(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(kp(e,r),Ip(n,r))}this._attachedToViewContainer=!1}nv(this._lView[Ce],this._lView)}onDestroy(e){!function gA(t,e){if(256==(256&t[We]))throw new ee(911,!1);null===t[Eo]&&(t[Eo]=[]),t[Eo].push(e)}(this._lView,e)}markForCheck(){Ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[We]&=-129}reattach(){this._lView[We]|=128}detectChanges(){tg(this._lView[Ce],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zG(t,e){Pd(t,e,e[je],2,null,null)}(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e}}class tK extends zd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;tg(e[Ce],e,e[cn],!1)}checkNoChanges(){}get context(){return null}}class WT extends Vd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=at(e);return new Ud(n,this.ngModule)}}function KT(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class rK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=sp(r);const i=this.injector.get(e,Mv,r);return i!==Mv||n===Mv?i:this.parentInjector.get(e,n,r)}}class Ud extends Z5{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=KT(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return KT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Bj(t){return t.map(Lj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof fi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new rK(e,s):e,a=o.get(tT,null);if(null===a)throw new ee(407,!1);const d={rendererFactory:a,sanitizer:o.get(Zq,null),effectManager:o.get(zT,null),afterRenderEventManager:o.get(Bv,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function AW(t,e,n,r){const s=r.get(vT,!1)||n===Ai.ShadowDom,o=t.selectRootElement(e,s);return function TW(t){ST(t)}(o),o}(f,r,this.componentDef.encapsulation,o):Mp(f,h,function nK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let I=null;null!==p&&(I=Sv(p,o,!0));const B=$v(0,null,null,1,0,null,null,null,null,null,null),G=Jp(null,B,null,T,null,null,d,f,o,null,I);let ue,Pe;N_(G);try{const Ke=this.componentDef;let Wt,Pn=null;Ke.findHostDirectiveDefs?(Wt=[],Pn=new Map,Ke.findHostDirectiveDefs(Ke,Wt,Pn),Wt.push(Ke)):Wt=[Ke];const _a=function sK(t,e){const n=t[Ce],r=tt;return t[r]=e,ul(n,r,2,"#host",null)}(G,p),B6e=function oK(t,e,n,r,i,s,o){const a=i[Ce];!function aK(t,e,n,r){for(const i of t)e.mergedAttrs=dd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(eg(e,e.mergedAttrs,!0),null!==n&&A5(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Sv(e,i[yo]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Jp(i,DT(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&qv(a,t,r.length-1),Zp(i,d),i[t.index]=d}(_a,p,Ke,Wt,G,d,f);Pe=dA(B,tt),p&&function lK(t,e,n,r){if(r)v_(t,n,["ng-version",nT.full]);else{const{attrs:i,classes:s}=function Hj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ti(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&v_(t,n,i),s&&s.length>0&&w5(t,n,s.join(" "))}}(f,Ke,p,r),void 0!==n&&function uK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Pe,this.ngContentSelectors,n),ue=function cK(t,e,n,r,i,s){const o=qn(),a=i[Ce],c=Nr(o,i);MT(a,i,o,n,null,r);for(let u=0;u<n.length;u++)or(wa(i,a,o.directiveStart+u,o),i);kT(a,i,o),c&&or(c,i);const l=wa(i,a,o.directiveStart+o.componentOffset,o);if(t[cn]=i[cn]=l,null!==s)for(const u of s)u(l,e);return zv(a,o,t),l}(B6e,Ke,Wt,Pn,G,[dK]),Qv(B,G,null)}finally{O_()}return new iK(this.componentType,ue,ol(Pe,G),G,Pe)}}class iK extends Wq{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new tK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Yv(s[Ce],s,i,e,n),this.previousInputValues.set(e,n),Ld(qr(this._tNode.index,s))}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function dK(){const t=qn();gp(X()[Ce],t)}function vt(t){let e=function YT(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Si(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=ng(t.inputs),o.inputTransforms=ng(t.inputTransforms),o.declaredInputs=ng(t.declaredInputs),o.outputs=ng(t.outputs);const a=i.hostBindings;a&&gK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&hK(t,c),l&&pK(t,l),Z0(t.inputs,i.inputs),Z0(t.declaredInputs,i.declaredInputs),Z0(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Z0(o.inputTransforms,i.inputTransforms)),Si(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===vt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function fK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dd(i.hostAttrs,n=dd(n,i.hostAttrs))}}(r)}function ng(t){return t===Ki?{}:t===ft?[]:t}function hK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function pK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function gK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function rg(t){return!!Xv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Xv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function os(t,e,n){return t[e]=n}function ar(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ig(t,e,n,r,i){const s=function Sa(t,e,n,r){const i=ar(t,e,n);return ar(t,e+1,r)||i}(t,e,n,r);return ar(t,e+2,i)||s}function Ri(t,e,n,r){const i=X();return ar(i,Uc(),e)&&(ct(),ss(Kt(),i,t,e,n,r)),Ri}function fl(t,e,n,r){return ar(t,Uc(),n)?e+Ue(n)+r:Ge}function Qr(t,e,n,r,i,s,o,a){const c=X(),l=ct(),u=t+tt,d=l.firstCreatePass?function HK(t,e,n,r,i,s,o,a,c){const l=e.consts,u=ul(e,t,4,o||null,Co(l,a));Gv(e,n,u,Co(l,c)),gp(e,u);const d=u.tView=$v(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];es(d,!1);const f=fD(l,c,d,t);pp()&&Op(l,c,f,d),or(f,c),Zp(c,c[u]=OT(f,c,f,d)),up(d)&&Uv(l,c,d),null!=o&&jv(c,d,a)}let fD=function hD(t,e,n,r){return Io(!0),e[je].createComment("")};function ry(t){return Hc(function w$(){return Be.lFrame.contextLView}(),tt+t)}function nt(t,e,n){const r=X();return ar(r,Uc(),e)&&Yr(ct(),Kt(),r,t,e,r[je],n,!1),nt}function iy(t,e,n,r,i){const o=i?"class":"style";Yv(t,n,e.inputs[o],o,r)}function ae(t,e,n,r){const i=X(),s=ct(),o=tt+t,a=i[je],c=s.firstCreatePass?function $K(t,e,n,r,i,s){const o=e.consts,c=ul(e,t,2,r,Co(o,i));return Gv(e,n,c,Co(o,s)),null!==c.attrs&&eg(c,c.attrs,!1),null!==c.mergedAttrs&&eg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=pD(s,i,c,a,e,t);i[o]=l;const u=up(c);return es(c,!0),A5(a,l,c),32!=(32&c.flags)&&pp()&&Op(s,i,l,c),0===function _$(){return Be.lFrame.elementDepthCount}()&&or(l,i),function v$(){Be.lFrame.elementDepthCount++}(),u&&(Uv(s,i,c),zv(s,c,i)),null!==r&&jv(i,c),ae}function _e(){let t=qn();S_()?R_():(t=t.parent,es(t,!1));const e=t;(function E$(t){return Be.skipHydrationRootTNode===t})(e)&&function b$(){Be.skipHydrationRootTNode=null}(),function y$(){Be.lFrame.elementDepthCount--}();const n=ct();return n.firstCreatePass&&(gp(n,t),E_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function B$(t){return 0!=(8&t.flags)}(e)&&iy(n,e,X(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function H$(t){return 0!=(16&t.flags)}(e)&&iy(n,e,X(),e.stylesWithoutHost,!1),_e}function yt(t,e,n,r){return ae(t,e,n,r),_e(),yt}let pD=(t,e,n,r,i,s)=>(Io(!0),Mp(r,i,function DA(){return Be.lFrame.currentNamespace}()));function Wd(t,e,n){const r=X(),i=ct(),s=t+tt,o=i.firstCreatePass?function WK(t,e,n,r,i){const s=e.consts,o=Co(s,r),a=ul(e,t,8,"ng-container",o);return null!==o&&eg(a,o,!0),Gv(e,n,a,Co(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];es(o,!0);const a=mD(i,r,o,t);return r[s]=a,pp()&&Op(i,r,a,o),or(a,r),up(o)&&(Uv(i,r,o),zv(i,o,r)),null!=n&&jv(r,o),Wd}function Kd(){let t=qn();const e=ct();return S_()?R_():(t=t.parent,es(t,!1)),e.firstCreatePass&&(gp(e,t),E_(t)&&e.queries.elementEnd(t)),Kd}let mD=(t,e,n,r)=>(Io(!0),tv(e[je],""));function Yd(){return X()}function Qd(t){return!!t&&"function"==typeof t.then}function _D(t){return!!t&&"function"==typeof t.subscribe}function Zt(t,e,n,r){const i=X(),s=ct(),o=qn();return function yD(t,e,n,r,i,s,o){const a=up(r),l=t.firstCreatePass&&LT(t),u=e[cn],d=VT(e);let f=!0;if(3&r.type||o){const g=Nr(r,e),v=o?o(g):g,T=d.length,I=o?G=>o(Mt(G[r.index])):r.index;let B=null;if(!o&&a&&(B=function QK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Nc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=s,B.__ngLastListenerFn__=s,f=!1;else{s=xD(r,e,u,s,!1);const G=n.listen(v,i,s);d.push(s,G),l&&l.push(i,I,T,T+1)}}else s=xD(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const ue=e[p[v]][p[v+1]].subscribe(s),Pe=d.length;d.push(s,ue),l&&l.push(i,r.index,Pe,-(Pe+1))}}}(s,i,i[je],o,t,e,r),Zt}function ED(t,e,n,r){try{return Xi(6,e,n),!1!==n(r)}catch(i){return HT(t,i),!1}finally{Xi(7,e,n)}}function xD(t,e,n,r,i){return function s(o){if(o===Function)return r;Ld(t.componentOffset>-1?qr(t.index,e):e);let c=ED(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=ED(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Mn(t=1){return function R$(t){return(Be.lFrame.contextLView=function P$(t,e){for(;t>0;)e=e[Fc],t--;return e}(t,Be.lFrame.contextLView))[cn]}(t)}function XK(t,e){let n=null;const r=function Nj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Fw(t,s,!0):Vj(r,s))return i}else n=i}return n}function sy(t,e,n){return oy(t,"",e,"",n),sy}function oy(t,e,n,r,i){const s=X(),o=fl(s,e,n,r);return o!==Ge&&Yr(ct(),Kt(),s,t,o,s[je],i,!1),oy}function cg(t,e){return t<<17|e<<2}function wo(t){return t>>17&32767}function ay(t){return 2|t}function Ra(t){return(131068&t)>>2}function cy(t,e){return-131069&t|e<<2}function ly(t){return 1|t}function MD(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?wo(s):Ra(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];rY(t[a],e)&&(c=!0,t[a+1]=r?ly(u):ay(u)),a=r?wo(u):Ra(u)}c&&(t[n+1]=r?ay(s):ly(s))}function rY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Qc(t,e)>=0}function Xd(t,e){return function Pi(t,e,n,r){const i=X(),s=ct(),o=function Bs(t){const e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function zD(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Er()],o=function HD(t,e){return e>=t.expandoStartIndex}(t,n);(function GD(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function fY(t,e,n,r){const i=function M_(t){const e=Be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Jd(n=uy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=uy(i,t,e,n,r),null===s){let c=function hY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ra(r))return t[wo(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=uy(null,t,e,c[1],r),c=Jd(c,e.attrs,r),function pY(t,e,n,r){t[wo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function gY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Jd(r,t[s].hostAttrs,n);return Jd(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function tY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wo(o),c=Ra(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||Qc(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=wo(t[a+1]);t[r+1]=cg(f,a),0!==f&&(t[f+1]=cy(t[f+1],r)),t[a+1]=function ZK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=cg(a,0),0!==a&&(t[a+1]=cy(t[a+1],r)),a=r;else t[r+1]=cg(c,0),0===a?a=r:t[c+1]=cy(t[c+1],r),c=r;l&&(t[r+1]=ay(t[r+1])),MD(t,u,r,!0),MD(t,u,r,!1),function nY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Qc(s,e)>=0&&(n[r+1]=ly(n[r+1]))}(e,u,t,r,s),o=cg(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Ge&&ar(i,o,e)&&function jD(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function eY(t){return 1==(1&t)}(l)?$D(c,e,n,i,Ra(l),o):void 0;lg(u)||(lg(s)||function JK(t){return 2==(2&t)}(l)&&(s=$D(c,null,n,i,a,o)),function XG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:bo.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=bo.Important),t.setStyle(n,r,i,s))}}(r,o,hp(Er(),n),i,s))}(s,s.data[Er()],i,i[je],t,i[o+1]=function yY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=In(Kr(t)))),t}(e,n),r,o)}(t,e,null,!0),Xd}function uy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Jd(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Jd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Wr(t,o,!!n||e[++s]))}return void 0===t?null:t}function $D(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===Ge&&(f=d?ft:void 0);let h=d?$_(f,r):u===r?f:void 0;if(l&&!lg(h)&&(h=$_(c,r)),lg(h)&&(a=h,o))return a;const p=t[i+1];i=o?wo(p):Ra(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=$_(c,r))}return a}function lg(t){return void 0!==t}function we(t,e=""){const n=X(),r=ct(),i=t+tt,s=r.firstCreatePass?ul(r,i,1,e,null):r.data[i],o=qD(r,n,s,e,t);n[i]=o,pp()&&Op(r,n,o,s),es(s,!1)}let qD=(t,e,n,r,i)=>(Io(!0),function Pp(t,e){return t.createText(e)}(e[je],r));function Yt(t){return Pa("",t,""),Yt}function Pa(t,e,n){const r=X(),i=fl(r,t,e,n);return i!==Ge&&function js(t,e,n){const r=hp(e,t);!function h5(t,e,n){t.setValue(e,n)}(t[je],r,n)}(r,Er(),i),Pa}function dy(t,e,n){const r=X();return ar(r,Uc(),e)&&Yr(ct(),Kt(),r,t,e,r[je],n,!0),dy}const Ma=void 0;var zY=["en",[["a","p"],["AM","PM"],Ma],[["AM","PM"],Ma,Ma],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ma,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ma,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ma,"{1} 'at' {0}",Ma],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HY(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let xl={};function Ir(t){const e=function UY(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=fS(e);if(n)return n;const r=e.split("-")[0];if(n=fS(r),n)return n;if("en"===r)return zY;throw new ee(701,!1)}function fS(t){return t in xl||(xl[t]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[t]),xl[t]}var kt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(kt||{});const Cl="en-US";let hS=Cl;function py(t,e,n,r,i){if(t=He(t),Array.isArray(t))for(let s=0;s<t.length;s++)py(t[s],e,n,r,i);else{const s=ct(),o=X(),a=qn();let c=Da(t)?t:He(t.provide);const l=W5(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Da(t)||!t.multi){const h=new xd(l,i,J),p=my(c,e,i?u:u+f,d);-1===p?(z_(yp(a,o),s,c),gy(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=my(c,e,u+f,d),p=my(c,e,u,u+f),v=p>=0&&n[p];if(i&&!v||!i&&!(h>=0&&n[h])){z_(yp(a,o),s,c);const T=function HQ(t,e,n,r,i){const s=new xd(t,n,J);return s.multi=[],s.index=e,s.componentProviders=0,LS(s,i,r&&!n),s}(i?BQ:LQ,n.length,i,r,l);!i&&v&&(n[p].providerFactory=T),gy(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else gy(s,t,h>-1?h:p,LS(n[i?p:h],l,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function gy(t,e,n,r){const i=Da(e),s=function Rq(t){return!!t.useClass}(e);if(i||s){const c=(s?He(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function LS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function my(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function LQ(t,e,n,r){return _y(this.multi,[])}function BQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=wa(n,n[Ce],this.providerFactory.index,r);s=a.slice(0,o),_y(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],_y(i,s);return s}function _y(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function jt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function VQ(t,e,n){const r=ct();if(r.firstCreatePass){const i=Si(t);py(n,r.data,r.blueprint,i,!0),py(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ka{}class BS{}class vy extends ka{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new WT(this);const i=Gr(e);this._bootstrapComponents=Us(i.bootstrap),this._r3Injector=aT(e,n,[{provide:ka,useValue:this},{provide:Vd,useValue:this.componentFactoryResolver},...r],In(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class yy extends BS{constructor(e){super(),this.moduleType=e}create(e){return new vy(this.moduleType,e,[])}}class HS extends ka{constructor(e){super(),this.componentFactoryResolver=new WT(this),this.instance=null;const n=new nl([...e.providers,{provide:ka,useValue:this},{provide:Vd,useValue:this.componentFactoryResolver}],e.parent||jp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function zS(t,e,n=null){return new HS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let jQ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=j5(0,r.type),s=i.length>0?zS([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=be({token:t,providedIn:"environment",factory:()=>new t(De(fi))}),e})();function US(t){t.getStandaloneInjector=e=>e.get(jQ).getOrCreateStandaloneInjector(t)}function Vr(t,e,n,r){return QS(X(),yr(),t,e,n,r)}function sf(t,e){const n=t[e];return n===Ge?void 0:n}function QS(t,e,n,r,i,s){const o=e+n;return ar(t,o,i)?os(t,o+1,s?r.call(s,i):r(i)):sf(t,o+1)}function Tn(t,e){const n=ct();let r;const i=t+tt;n.firstCreatePass?(r=function oX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ia(r.type)),a=Mr(J);try{const c=vp(!1),l=s();return vp(c),function jK(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,X(),i,l),l}finally{Mr(a)}}function pi(t,e,n){const r=t+tt,i=X(),s=Hc(i,r);return af(i,r)?QS(i,yr(),e,s.transform,n,s):s.transform(n)}function Ao(t,e,n,r,i){const s=t+tt,o=X(),a=Hc(o,s);return af(o,s)?function JS(t,e,n,r,i,s,o,a){const c=e+n;return ig(t,c,i,s,o)?os(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):sf(t,c+3)}(o,yr(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function af(t,e){return t[Ce].data[e].pure}function uX(){return this._results[Symbol.iterator]()}class xy{get changes(){return this._changes||(this._changes=new bt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=xy.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=uX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function ui(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function eG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function fX(t,e,n,r=!0){const i=e[Ce];if(function jG(t,e,n,r){const i=$n+r,s=n.length;r>0&&(n[i-1][Di]=e),r<s-$n?(e[Di]=n[i],jA(n,$n+r,e)):(n.push(e),e[Di]=null),e[Ut]=n;const o=e[pd];null!==o&&n!==o&&function $G(t,e){const n=t[Lc];e[ln]!==e[Ut][Ut][ln]&&(t[jw]=!0),null===n?t[Lc]=[e]:n.push(e)}(o,e);const a=e[Yi];null!==a&&a.insertView(t),e[We]|=128}(i,e,t,n),r){const s=ov(n,t),o=e[je],a=Np(o,t[Qi]);null!==a&&function HG(t,e,n,r,i,s){r[Jt]=i,r[sr]=e,Pd(t,r,n,1,i,s)}(i,t[sr],o,e,a,s)}}let $s=(()=>{class e{}return e.__NG_ELEMENT_ID__=gX,e})();const hX=$s,pX=class extends hX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function dX(t,e,n,r){const i=e.tView,a=Jp(t,i,n,4096&t[We]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[pd]=t[e.index];const l=t[Yi];return null!==l&&(a[Yi]=l.createEmbeddedView(i)),Qv(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new zd(i)}};function gX(){return pg(qn(),X())}function pg(t,e){return 4&t.type?new pX(e,t,ol(t,e)):null}let ki=(()=>{class e{}return e.__NG_ELEMENT_ID__=xX,e})();function xX(){return a7(qn(),X())}const CX=ki,s7=class extends CX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ol(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ep(this._hostTNode,this._hostLView);if(L_(e)){const n=Id(e,this._hostLView),r=Cd(e);return new xr(n[Ce].data[r+8],n)}return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=o7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function wd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new Ud(at(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const v=(o?l:this.parentInjector).get(fi,null);v&&(s=v)}at(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function p$(t){return _r(t[Ut])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Ut],u=new s7(l,l[sr],l[Ut]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return fX(a,i,o,!r),e.attachToViewContainerRef(),jA(Cy(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=o7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=kp(this._lContainer,n);r&&(Ip(Cy(this._lContainer),n),nv(r[Ce],r))}detach(e){const n=this._adjustIndex(e,-1),r=kp(this._lContainer,n);return r&&null!=Ip(Cy(this._lContainer),n)?new zd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function o7(t){return t[8]}function Cy(t){return t[8]||(t[8]=[])}function a7(t,e){let n;const r=e[t.index];return _r(r)?n=r:(n=OT(r,e,null,t),e[t.index]=n,Zp(e,n)),c7(n,e,t,r),new s7(n,t,e)}let c7=function l7(t,e,n,r){if(t[Qi])return;let i;i=8&n.type?Mt(r):function IX(t,e){const n=t[je],r=n.createComment(""),i=Nr(e,t);return Aa(n,Np(n,i),r,function KG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Qi]=i};class Iy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Iy(this.queryList)}setDirty(){this.queryList.setDirty()}}class by{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new by(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==g7(e,n).matches&&this.queries[n].setDirty()}}class u7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class wy{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new wy(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ay{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Ay(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,AX(n,s)),this.matchTNodeWithReadOption(e,n,xp(n,e,s,!1,!1))}else r===$s?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,xp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Cr||i===ki||i===$s&&4&n.type)this.addMatch(n.index,-2);else{const s=xp(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function AX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function DX(t,e,n,r){return-1===n?function TX(t,e){return 11&t.type?ol(t,e):4&t.type?pg(t,e):null}(e,t):-2===n?function SX(t,e,n){return n===Cr?ol(e,t):n===$s?pg(e,t):n===ki?a7(e,t):void 0}(t,e,r):wa(t,t[Ce],n,e)}function d7(t,e,n,r){const i=e[Yi].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:DX(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function Ty(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=d7(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=$n;d<u.length;d++){const f=u[d];f[pd]===f[Ut]&&Ty(f[Ce],f,l,r)}if(null!==u[Lc]){const d=u[Lc];for(let f=0;f<d.length;f++){const h=d[f];Ty(h[Ce],h,l,r)}}}}}return r}function Ni(t){const e=X(),n=ct(),r=CA();k_(r+1);const i=g7(n,r);if(t.dirty&&function f$(t){return 4==(4&t[We])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Ty(n,e,r,[]):d7(n,e,i,r);t.reset(s,Xq),t.notifyOnChanges()}return!0}return!1}function ls(t,e,n){const r=ct();r.firstCreatePass&&(function p7(t,e,n){null===t.queries&&(t.queries=new wy),t.queries.track(new Ay(e,n))}(r,new u7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function h7(t,e,n){const r=new xy(4==(4&n));(function RW(t,e,n,r){const i=VT(e);i.push(n),t.firstCreatePass&&LT(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Yi]&&(e[Yi]=new by),e[Yi].queries.push(new Iy(r))}(r,X(),e)}function Oi(){return function RX(t,e){return t[Yi].queries[e].queryList}(X(),CA())}function g7(t,e){return t.queries.getByIndex(e)}const M7=new ye("Application Initializer");let ky=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=K(M7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Qd(o))r.push(o);else if(_D(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),k7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Gs=new ye("LocaleId",{providedIn:"root",factory:()=>K(Gs,st.Optional|st.SkipSelf)||function ZX(){return typeof $localize<"u"&&$localize.locale||Cl}()});let _g=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new oi(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class nJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let rJ=(()=>{var t;class e{compileModuleSync(r){return new yy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Us(Gr(r).declarations).reduce((a,c)=>{const l=at(c);return l&&a.push(new Ud(l)),a},[]);return new nJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const V7=new ye(""),yg=new ye("");let Ly,Fy=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ly||(function wJ(t){Ly=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(De(dt),De(Vy),De(yg))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})(),Vy=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Ly?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),To=null;const L7=new ye("AllowMultipleToken"),By=new ye("PlatformDestroyListeners"),B7=new ye("appBootstrapListener");function U7(t,e,n=[]){const r=`Platform: ${e}`,i=new ye(r);return(s=[])=>{let o=Hy();if(!o||o.injector.get(L7,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function DJ(t){if(To&&!To.get(L7,!1))throw new ee(400,!1);(function H7(){!function Zj(t){tA=t}(()=>{throw new ee(600,!1)})})(),To=t;const e=t.get($7);(function z7(t){t.get(K5,null)?.forEach(n=>n())})(t)}(function j7(t=[],e){return wn.create({name:e,providers:[{provide:vv,useValue:"platform"},{provide:By,useValue:new Set([()=>To=null])},...t]})}(a,r))}return function RJ(t){const e=Hy();if(!e)throw new ee(401,!1);return e}()}}function Hy(){return To?.get($7)??null}let $7=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function PJ(t="zone.js",e){return"noop"===t?new dW:"zone.js"===t?new dt(e):t}(i?.ngZone,function G7(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function UQ(t,e,n){return new vy(t,e,n)}(r.moduleType,this.injector,function Q7(t){return[{provide:dt,useFactory:t},{provide:Nd,multi:!0,useFactory:()=>{const e=K(kJ,{optional:!0});return()=>e.initialize()}},{provide:Y7,useFactory:MJ},{provide:fT,useFactory:hT}]}(()=>s)),a=o.injector.get(zs,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{Eg(this._modules,o),c.unsubscribe()})}),function q7(t,e,n){try{const r=n();return Qd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(ky);return c.runInitializers(),c.donePromise.then(()=>(function pS(t){ci(t,"Expected localeId to be defined"),"string"==typeof t&&(hS=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Gs,Cl)||Cl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=W7({},i);return function AJ(t,e,n){const r=new yy(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(uf);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new ee(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(By,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(De(wn))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function W7(t,e){return Array.isArray(e)?e.reduce(W7,t):{...t,...e}}let uf=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(Y7),this.zoneIsStable=K(fT),this.componentTypes=[],this.components=[],this.isStable=K(_g).hasPendingTasks.pipe(ai(r=>r?Ve(!1):this.zoneIsStable),yw(),vw()),this._injector=K(fi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof Z5;if(!this._injector.get(ky).done)throw!s&&function kc(t){const e=at(t)||jn(t)||mr(t);return null!==e&&e.standalone}(r),new ee(405,!1);let a;a=s?r:this._injector.get(Vd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function TJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(ka),u=a.create(wn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(V7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Eg(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Eg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(B7,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Eg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ee(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Eg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Y7=new ye("",{providedIn:"root",factory:()=>K(zs).handleError.bind(void 0)});function MJ(){const t=K(dt),e=K(zs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let kJ=(()=>{var t;class e{constructor(){this.zone=K(dt),this.applicationRef=K(uf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Do=(()=>{class e{}return e.__NG_ELEMENT_ID__=FJ,e})();function FJ(t){return function VJ(t,e,n){if(Ca(t)&&!n){const r=qr(t.index,e);return new zd(r,r)}return 47&t.type?new zd(e[ln],e):null}(qn(),X(),16==(16&t))}class eR{constructor(){}supports(e){return rg(e)}create(e){return new jJ(e)}}const UJ=(t,e)=>e;class jJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||UJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<nR(r,i,s)?n:r,a=nR(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!rg(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function CK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new $J(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new tR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $J{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class tR{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new GJ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nR(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class rR{constructor(){}supports(e){return e instanceof Map||Xv(e)}create(){return new qJ}}class qJ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Xv(e)))throw new ee(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new WJ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class WJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iR(){return new Ig([new eR])}let Ig=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||iR()),deps:[[e,new q_,new un]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:iR}),e})();function sR(){return new df([new rR])}let df=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||sR()),deps:[[e,new q_,new un]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new ee(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:sR}),e})();const QJ=U7(null,"core",[]);let XJ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(De(uf))},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({}),e})();let qy=null;function So(){return qy}class uZ{}const Br=new ye("DocumentToken");let pR=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return K(dZ)},providedIn:"platform"}),e})(),dZ=(()=>{var t;class e extends pR{constructor(){super(),this._doc=K(Br),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return So().getBaseHref(this._doc)}onPopState(r){const i=So().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=So().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function gR(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function mR(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Oa(t){return t&&"?"!==t[0]?"?"+t:t}let wg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return K(hZ)},providedIn:"root"}),e})();const fZ=new ye("appBaseHref");let hZ=(()=>{var t;class e extends wg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??K(Br).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return gR(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Oa(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Oa(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Oa(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(pR),De(fZ,8))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Wy=(()=>{var t;class e{constructor(r){this._subject=new bt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function mZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(mR(_R(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Oa(i))}normalize(r){return e.stripTrailingSlash(function gZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,_R(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Oa(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Oa(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Oa,t.joinWithSlash=gR,t.stripTrailingSlash=mR,t.\u0275fac=function(r){return new(r||t)(De(wg))},t.\u0275prov=be({token:t,factory:function(){return function pZ(){return new Wy(De(wg))}()},providedIn:"root"}),e})();function _R(t){return t.replace(/\/index.html$/,"")}var Ag=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Ag||{}),dn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(dn||{});function gi(t,e){const n=Ir(t),r=n[kt.NumberSymbols][e];if(typeof r>"u"){if(e===dn.CurrencyDecimal)return n[kt.NumberSymbols][dn.Decimal];if(e===dn.CurrencyGroup)return n[kt.NumberSymbols][dn.Group]}return r}const jZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function t4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function AR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const r4=/\s+/,TR=[];let DR=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=TR,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(r4):TR}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(r4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(r4).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Ig),J(df),J(Cr),J(is))},t.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class tee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let i4=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new tee(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),RR(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{RR(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(J(ki),J($s),J(Ig))},t.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function RR(t,e){t.context.$implicit=e.item}let Ro=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new nee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){PR("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){PR("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(J(ki),J($s))},t.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class nee{constructor(){this.$implicit=null,this.ngIf=null}}function PR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${In(e)}'.`)}function Vi(t,e){return new ee(2100,!1)}class see{createSubscription(e,n){return iA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){iA(()=>e.unsubscribe())}}class oee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const aee=new oee,cee=new see;let pf=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Qd(r))return aee;if(_D(r))return cee;throw Vi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Do,16))},t.\u0275pipe=Un({name:"async",type:t,pure:!1,standalone:!0}),e})(),kR=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=NR}transform(r,i=NR){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function xee(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(J(df,16))},t.\u0275pipe=Un({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function NR(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let Tl=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function a4(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function YZ(t,e,n){return function Zy(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function XZ(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function QZ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const I=s.match(jZ);if(null===I)throw new Error(`${s} is not a valid digit info`);const B=I[1],G=I[3],ue=I[5];null!=B&&(u=t4(B)),null!=G&&(d=t4(G)),null!=ue?f=t4(ue):null!=G&&d>f&&(f=d)}!function JZ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let v=[];for(c=h.every(I=>!I);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?v=h.splice(p,h.length):(v=h,h=[0]);const T=[];for(h.length>=e.lgSize&&T.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)T.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&T.unshift(h.join("")),a=T.join(gi(n,r)),v.length&&(a+=gi(n,i)+v.join("")),g&&(a+=gi(n,dn.Exponential)+"+"+g)}else a=gi(n,dn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function e4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function Ky(t,e){return Ir(t)[kt.NumberFormats][e]}(e,Ag.Decimal),gi(e,dn.MinusSign)),e,dn.Group,dn.Decimal,n)}(function c4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw Vi()}}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Gs,16))},t.\u0275pipe=Un({name:"number",type:t,pure:!0,standalone:!0}),e})();let bee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({}),e})();const wee="server";function l4(t){return t===wee}class FR{}class Xee extends uZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f4 extends Xee{static makeCurrent(){!function lZ(t){qy||(qy=t)}(new f4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Jee(){return mf=mf||document.querySelector("base"),mf?mf.getAttribute("href"):null}();return null==n?null:function Zee(t){Lg=Lg||document.createElement("a"),Lg.setAttribute("href",t);const e=Lg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){mf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return AR(document.cookie,e)}}let Lg,mf=null,tte=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const h4=new ye("EventManagerPlugins");let zR=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new ee(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(De(h4),De(dt))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class UR{constructor(e){this._doc=e}}const p4="ng-app-id";let jR=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=l4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${p4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(p4),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(p4,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Br),De($p),De(Y5,8),De(rs))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const g4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},m4=/%COMP%/g,ste=new ye("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function GR(t,e){return e.map(n=>n.replace(m4,t))}let qR=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=l4(c),this.defaultRenderer=new _4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ai.ShadowDom&&(i={...i,encapsulation:Ai.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof KR?s.applyToHost(r):s instanceof v4&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ai.Emulated:o=new KR(l,u,i,this.appId,d,a,c,f);break;case Ai.ShadowDom:return new lte(l,u,r,i,a,c,this.nonce,f);default:o=new v4(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(De(zR),De(jR),De($p),De(ste),De(Br),De(rs),De(dt),De(Y5))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class _4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(g4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(WR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(WR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=g4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=g4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(bo.DashCase|bo.Important)?e.style.setProperty(n,r,i&bo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&bo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=So().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function WR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class lte extends _4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=GR(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class v4 extends _4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?GR(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class KR extends v4{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function ote(t){return"_ngcontent-%COMP%".replace(m4,t)}(l),this.hostAttr=function ate(t){return"_nghost-%COMP%".replace(m4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let ute=(()=>{var t;class e extends UR{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Br))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const YR=["alt","control","meta","shift"],dte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let hte=(()=>{var t;class e extends UR{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>So().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),YR.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=dte[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),YR.forEach(a=>{a!==s&&(0,fte[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Br))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const XR=[{provide:rs,useValue:"browser"},{provide:K5,useValue:function pte(){f4.makeCurrent()},multi:!0},{provide:Br,useFactory:function mte(){return function nq(t){lv=t}(document),document},deps:[]}],_te=U7(QJ,"browser",XR),vte=new ye(""),JR=[{provide:yg,useClass:class ete{addToWindow(e){Rt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new ee(5103,!1);return s},Rt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Rt.getAllAngularRootElements=()=>e.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(r=>{const i=Rt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?So().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:V7,useClass:Fy,deps:[dt,Vy,yg]},{provide:Fy,useClass:Fy,deps:[dt,Vy,yg]}],ZR=[{provide:vv,useValue:"root"},{provide:zs,useFactory:function gte(){return new zs},deps:[]},{provide:h4,useClass:ute,multi:!0,deps:[Br,dt,rs]},{provide:h4,useClass:hte,multi:!0,deps:[Br]},qR,jR,zR,{provide:tT,useExisting:qR},{provide:FR,useClass:tte,deps:[]},[]];let _i=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:$p,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(De(vte,12))},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({providers:[...ZR,...JR],imports:[bee,XJ]}),e})(),y4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Br))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function Ete(){return new y4(De(Br))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let n9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new(r||t):De(r9),i},providedIn:"root"}),e})(),r9=(()=>{var t;class e extends n9{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case di.NONE:return i;case di.HTML:return ns(i,"HTML")?Kr(i):F5(this._doc,String(i)).toString();case di.STYLE:return ns(i,"Style")?Kr(i):i;case di.SCRIPT:if(ns(i,"Script"))return Kr(i);throw new ee(5200,!1);case di.URL:return ns(i,"URL")?Kr(i):Bp(String(i));case di.RESOURCE_URL:if(ns(i,"ResourceURL"))return Kr(i);throw new ee(5201,!1);default:throw new ee(5202,!1)}}bypassSecurityTrustHtml(r){return function lq(t){return new rq(t)}(r)}bypassSecurityTrustStyle(r){return function uq(t){return new iq(t)}(r)}bypassSecurityTrustScript(r){return function dq(t){return new sq(t)}(r)}bypassSecurityTrustUrl(r){return function fq(t){return new oq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function hq(t){return new aq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Br))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function bte(t){return new r9(t.get(Br))}(De(wn)),i},providedIn:"root"}),e})();class x4{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class s9{constructor(){this._orbit=0,this._ground=0,this._workers=new x4,this._soldiers=new x4,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class C4{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let wte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new s9,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),d=new C4;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class o9{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new x4,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var cr=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(cr||{});class Ate{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Tte{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Ot=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.SPACE_TETHER="space tether",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Ot||{});class a9{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let Dte=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new o9,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:s=cr.RESOURCE;break;case 1:s=cr.SURFACE;break;case 2:s=cr.FLEET;break;default:s=cr.UNKNOWN}});let o=new Ate(r,s);if(s!==cr.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new a9(c.split("Owner:")[1].trim(),""):new a9("Uninhabited Planet",a.substring(1,a.length-1))}if((s===cr.RESOURCE||s===cr.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),s===cr.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new C4;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===cr.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new C4;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new Tte(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Ot.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Ot.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Ot.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Ot.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Ot.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Ot.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Ot.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Ot.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Ot.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Ot.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Ot.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Ot.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Ot.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Ste=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new s9;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Dl;class Ks{constructor(){this.planetListExtractor=K(wte),this.planetScanExtractor=K(Dte),this.navigationSystemPlanetsExtractor=K(Ste),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}function _f(t){return(_f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gt(t,e,n){return(e=function Pte(t){var e=function Rte(t,e){if("object"!==_f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_f(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c9(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){c9(s,r,i,o,a,"next",c)}function a(c){c9(s,r,i,o,a,"throw",c)}o(void 0)})}}(Dl=Ks).\u0275fac=function(e){return new(e||Dl)},Dl.\u0275prov=be({token:Dl,factory:Dl.\u0275fac,providedIn:"platform"}),mn([Ii(0,un())],Ks.prototype,"username",null);const l9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},b4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new Ote;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ote extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bg=function(t){return function(t){const e=l9(t);return b4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Hg=function(t){try{return b4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zg=()=>{try{return d9().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},f9=t=>{var e,n;return null===(n=null===(e=zg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},h9=()=>{var t;return null===(t=zg())||void 0===t?void 0:t.config},p9=t=>{var e;return null===(e=zg())||void 0===e?void 0:e[`_${t}`]};class Sl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function kn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function w4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function vf(){try{return"object"==typeof indexedDB}catch{return!1}}function A4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function g9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mo.prototype.create)}}class Mo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Kte(t,e){return t.replace(Yte,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Li(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Yte=/\{\$([^}]+)}/g;function yf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(_9(s)&&_9(o)){if(!yf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _9(t){return null!==t&&"object"==typeof t}function Ef(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Jte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Zte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=T4),void 0===i.error&&(i.error=T4),void 0===i.complete&&(i.complete=T4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T4(){}const ene=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},tne=1e3,nne=2,rne=144e5,ine=.5;function S4(t,e=tne,n=nne){const r=e*Math.pow(n,t),i=Math.round(ine*r*(Math.random()-.5)*2);return Math.min(rne,r+i)}function tn(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class one{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function cne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Fa?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new one(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const R4=[];var ot=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ot||{});const v9={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},une=ot.INFO,dne={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},fne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=dne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class If{constructor(e){this.name=e,this._logLevel=une,this._logHandler=fne,this._userLogHandler=null,R4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?v9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const hne=(t,e)=>e.some(n=>t instanceof n);let y9,E9;const x9=new WeakMap,P4=new WeakMap,C9=new WeakMap,M4=new WeakMap,k4=new WeakMap;let N4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return P4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||C9.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ko(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ene(t){return"function"==typeof t?function yne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gne(){return E9||(E9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(O4(this),e),ko(x9.get(this))}:function(...e){return ko(t.apply(O4(this),e))}:function(e,...n){const r=t.call(O4(this),e,...n);return C9.set(r,e.sort?e.sort():[e]),ko(r)}}(t):(t instanceof IDBTransaction&&function _ne(t){if(P4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});P4.set(t,e)}(t),hne(t,function pne(){return y9||(y9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,N4):t)}function ko(t){if(t instanceof IDBRequest)return function mne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ko(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&x9.set(n,t)}).catch(()=>{}),k4.set(e,t),e}(t);if(M4.has(t))return M4.get(t);const e=Ene(t);return e!==t&&(M4.set(t,e),k4.set(e,t)),e}const O4=t=>k4.get(t),Cne=["get","getKey","getAll","getAllKeys","count"],Ine=["put","add","delete","clear"],F4=new Map;function I9(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(F4.get(e))return F4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ine.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Cne.includes(n))return;const s=function(){var o=y(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return F4.set(e,s),s}!function vne(t){N4=t(N4)}(t=>({...t,get:(e,n,r)=>I9(e,n)||t.get(e,n,r),has:(e,n)=>!!I9(e,n)||t.has(e,n)}));class bne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function wne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const V4="@firebase/app",Va=new If("@firebase/app"),jg="[DEFAULT]",Xne={[V4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},La=new Map,$g=new Map;function Jne(t,e){try{t.container.addComponent(e)}catch(n){Va.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vi(t){const e=t.name;if($g.has(e))return Va.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,t);for(const n of La.values())Jne(n,t);return!0}function us(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ys=new Mo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ere{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}const Rl="10.5.2";function w9(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:jg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(n||(n=h9()),!n)throw Ys.create("no-options");const s=La.get(i);if(s){if(yf(n,s.options)&&yf(r,s.config))return s;throw Ys.create("duplicate-app",{appName:i})}const o=new lne(i);for(const c of $g.values())o.addComponent(c);const a=new ere(n,r,o);return La.set(i,a),a}function Pl(t=jg){const e=La.get(t);if(!e&&t===jg&&h9())return w9();if(!e)throw Ys.create("no-app",{appName:t});return e}function A9(){return Array.from(La.values())}function nn(t,e,n){var r;let i=null!==(r=Xne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Va.warn(a.join(" "))}vi(new Jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const tre="firebase-heartbeat-database",nre=1,bf="firebase-heartbeat-store";let B4=null;function T9(){return B4||(B4=function xne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ko(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ko(o.result),c.oldVersion,c.newVersion,ko(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(tre,nre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(bf)}}).catch(t=>{throw Ys.create("idb-open",{originalErrorMessage:t.message})})),B4}function H4(){return(H4=y(function*(t){try{return yield(yield T9()).transaction(bf).objectStore(bf).get(S9(t))}catch(e){if(e instanceof Li)Va.warn(e.message);else{const n=Ys.create("idb-get",{originalErrorMessage:e?.message});Va.warn(n.message)}}})).apply(this,arguments)}function D9(t,e){return z4.apply(this,arguments)}function z4(){return(z4=y(function*(t,e){try{const r=(yield T9()).transaction(bf,"readwrite");yield r.objectStore(bf).put(e,S9(t)),yield r.done}catch(n){if(n instanceof Li)Va.warn(n.message);else{const r=Ys.create("idb-set",{originalErrorMessage:n?.message});Va.warn(r.message)}}})).apply(this,arguments)}function S9(t){return`${t.name}!${t.options.appId}`}class ore{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=R9();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=R9(),{heartbeatsToSend:r,unsentEntries:i}=function are(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),P9(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),P9(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Bg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function R9(){return(new Date).toISOString().substring(0,10)}class cre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!vf()&&A4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function rre(t){return H4.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return D9(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return D9(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function P9(t){return Bg(JSON.stringify({version:2,heartbeats:t})).length}!function lre(t){vi(new Jr("platform-logger",e=>new bne(e),"PRIVATE")),vi(new Jr("heartbeat",e=>new ore(e),"PRIVATE")),nn(V4,"0.9.22",t),nn(V4,"0.9.22","esm2017"),nn("fire-js","")}(""),nn("firebase","10.5.2","app");class fre extends Y{constructor(e,n){super()}schedule(e,n=0){return this}}const Gg={setInterval(t,e,...n){const{delegate:r}=Gg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Gg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class M9 extends fre{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Gg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Gg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,U(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const k9={now:()=>(k9.delegate||Date).now(),delegate:void 0};class wf{constructor(e,n=wf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}wf.now=k9.now;class N9 extends wf{constructor(e,n=wf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const gre=new class pre extends N9{}(class hre extends M9{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),mre=new N9(M9);function Kn(t,e,n){const r=R(t)||e||n?{next:t,error:e,complete:n}:t;return r?Fe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(et(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):me}const No=new al("ANGULARFIRE2_VERSION");function qg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Wg=(t,e)=>{const n=e?[e]:A9(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class U4{constructor(){return Wg(O9)}}const O9="app-check";function Ml(){}class F9{constructor(e,n=gre){gt(this,"zone",void 0),gt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class vre{constructor(e){gt(this,"zone",void 0),gt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ml,{},Ml,Ml)),n.pipe(Kn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Af=(()=>{var t;class e{constructor(r){gt(this,"ngZone",void 0),gt(this,"outsideAngular",void 0),gt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new F9(Zone.current)),this.insideAngular=r.run(()=>new F9(Zone.current,mre)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(De(dt))}),gt(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function kl(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ba(t){return kl().ngZone.run(()=>t())}function Ere(t){return function xre(t){return function(n){return(n=n.lift(new vre(t.ngZone))).pipe(J0(t.outsideAngular),X0(t.insideAngular))}}(kl())(t)}const Cre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ba(()=>t.apply(void 0,r))},vn=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=Ba(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ml,{},Ml,Ml))),r[s]=Cre(r[s],n));const i=function yre(t){return kl().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof de){const s=kl();return i.pipe(J0(s.outsideAngular),X0(s.insideAngular))}return Ba(()=>i)}return i instanceof de?i.pipe(Ere):i instanceof Promise?Ba(()=>new Promise((s,o)=>i.then(a=>Ba(()=>s(a)),a=>Ba(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ba(()=>i)};class Ha{constructor(e){return e}}class Tf{constructor(){return A9()}}const j4=new ye("angularfire2._apps"),bre={provide:Ha,useFactory:function Ire(t){return t&&1===t.length?t[0]:new Ha(Pl())},deps:[[new un,j4]]},wre={provide:Tf,deps:[[new un,j4]]};function Are(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ha(r)}}let Tre=(()=>{var t;class e{constructor(r){nn("angularfire",No.full,"core"),nn("angularfire",No.full,"app"),nn("angular",nT.full,r.toString())}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(De(rs))}),gt(e,"\u0275mod",Pt({type:t})),gt(e,"\u0275inj",Tt({providers:[bre,wre]})),e})();function Oo(t,...e){return{ngModule:Tre,providers:[{provide:j4,useFactory:Are(t),multi:!0,deps:[dt,wn,Af,...e]}]}}const Fo=vn(Pl,!0),Vo=vn(w9,!0);const Dre=function V9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},L9=new Mo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kg=new If("@firebase/auth");function Yg(t,...e){Kg.logLevel<=ot.ERROR&&Kg.error(`Auth (${Rl}): ${t}`,...e)}function Hr(t,...e){throw $4(t,...e)}function Zr(t,...e){return $4(t,...e)}function B9(t,e,n){const r=Object.assign(Object.assign({},Dre()),{[e]:n});return new Mo("auth","Firebase",r).create(e,{appName:t.name})}function $4(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return L9.create(t,...e)}function he(t,e,...n){if(!t)throw $4(e,...n)}function ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yg(e),new Error(e)}function Qs(t,e){t||ds(e)}function Df(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function H9(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Sf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qs(n>e,"Short delay should be less than long delay!"),this.isMobile=function jte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}()||function Gte(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Rre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function G4(){return"http:"===H9()||"https:"===H9()}()||w4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function q4(t,e){Qs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class z9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},kre=new Sf(3e4,6e4);function $t(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Qt(t,e,n,r){return W4.apply(this,arguments)}function W4(){return(W4=y(function*(t,e,n,r,i={}){return U9(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ef(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),z9.fetch()(j9(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function U9(t,e,n){return K4.apply(this,arguments)}function K4(){return(K4=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mre),e);try{const i=new Ore(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Rf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Rf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Rf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Rf(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw B9(t,u,l);Hr(t,u)}}catch(i){if(i instanceof Li)throw i;Hr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Xs(t,e,n,r){return Y4.apply(this,arguments)}function Y4(){return(Y4=y(function*(t,e,n,r,i={}){const s=yield Qt(t,e,n,r,i);return"mfaPendingCredential"in s&&Hr(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function j9(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?q4(t.config,i):`${t.config.apiScheme}://${i}`}function Nre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ore{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),kre.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zr(t,e,r);return i.customData._tokenResponse=n,i}function G9(t){return void 0!==t&&void 0!==t.enterprise}class q9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Nre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function W9(t,e){return X4.apply(this,arguments)}function X4(){return(X4=y(function*(t,e){return Qt(t,"GET","/v2/recaptchaConfig",$t(t,e))})).apply(this,arguments)}function J4(){return(J4=y(function*(t,e){return Qt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function e6(){return(e6=y(function*(t,e){return Qt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Pf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function t6(){return(t6=y(function*(t,e=!1){const n=tn(t),r=yield n.getIdToken(e),i=Qg(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Pf(n6(i.auth_time)),issuedAtTime:Pf(n6(i.iat)),expirationTime:Pf(n6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function n6(t){return 1e3*Number(t)}function Qg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Yg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hg(n);return i?JSON.parse(i):(Yg("Failed to decode base64 JWT payload"),null)}catch(i){return Yg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Js(t,e){return r6.apply(this,arguments)}function r6(){return(r6=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Li&&function Ure({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class jre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class K9{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pf(this.lastLoginAt),this.creationTime=Pf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mf(t){return i6.apply(this,arguments)}function i6(){return i6=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Js(t,function Bre(t,e){return e6.apply(this,arguments)}(n,{idToken:r}));he(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function qre(t){return t.map(e=>{var{providerId:n}=e,r=tr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Gre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new K9(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),i6.apply(this,arguments)}function s6(){return(s6=y(function*(t){const e=tn(t);yield Mf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function o6(){return(o6=y(function*(t,e){const n=yield U9(t,{},y(function*(){const r=Ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=j9(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",z9.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class kf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function zre(t){const e=Qg(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return he(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Wre(t,e){return o6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new kf;return r&&(he("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(he("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(he("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kf,this.toJSON())}_performRefresh(){return ds("not implemented")}}function Lo(t,e){he("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class za{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new K9(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Js(n,n.stsTokenManager.getToken(n.auth,e));return he(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Hre(t){return t6.apply(this,arguments)}(this,e)}reload(){return function $re(t){return s6.apply(this,arguments)}(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new za(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Mf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Js(e,function Vre(t,e){return J4.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,T=null!==(l=n.createdAt)&&void 0!==l?l:void 0,I=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:B,emailVerified:G,isAnonymous:ue,providerData:Pe,stsTokenManager:Ke}=n;he(B&&Ke,e,"internal-error");const Wt=kf.fromJSON(this.name,Ke);he("string"==typeof B,e,"internal-error"),Lo(d,e.name),Lo(f,e.name),he("boolean"==typeof G,e,"internal-error"),he("boolean"==typeof ue,e,"internal-error"),Lo(h,e.name),Lo(p,e.name),Lo(g,e.name),Lo(v,e.name),Lo(T,e.name),Lo(I,e.name);const Pn=new za({uid:B,auth:e,email:f,emailVerified:G,displayName:d,isAnonymous:ue,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:Wt,createdAt:T,lastLoginAt:I});return Pe&&Array.isArray(Pe)&&(Pn.providerData=Pe.map(_a=>Object.assign({},_a))),v&&(Pn._redirectEventId=v),Pn}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new kf;i.updateFromServerResponse(n);const s=new za({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Mf(s),s})()}}const Y9=new Map;function Zs(t){Qs(t instanceof Function,"Expected a class definition");let e=Y9.get(t);return e?(Qs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y9.set(t,e),e)}const Q9=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Xg(t,e,n){return`firebase:${t}:${e}:${n}`}class Ol{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?za._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new Ol(Zs(Q9),e,r);const i=(yield Promise.all(n.map(function(){var l=y(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Zs(Q9);const o=Xg(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=za._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=y(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Ol(s,e,r)):new Ol(s,e,r)})()}}function X9(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nP(e))return"Blackberry";if(rP(e))return"Webos";if(a6(e))return"Safari";if((e.includes("chrome/")||Z9(e))&&!e.includes("edge/"))return"Chrome";if(tP(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function J9(t=kn()){return/firefox\//i.test(t)}function a6(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z9(t=kn()){return/crios\//i.test(t)}function eP(t=kn()){return/iemobile/i.test(t)}function tP(t=kn()){return/android/i.test(t)}function nP(t=kn()){return/blackberry/i.test(t)}function rP(t=kn()){return/webos/i.test(t)}function Jg(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iP(t=kn()){return Jg(t)||tP(t)||rP(t)||nP(t)||/windows phone/i.test(t)||eP(t)}function sP(t,e=[]){let n;switch(t){case"Browser":n=X9(kn());break;case"Worker":n=`${X9(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rl}/${r}`}class Xre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function c6(){return(c6=y(function*(t,e={}){return Qt(t,"GET","/v2/passwordPolicy",$t(t,e))})).apply(this,arguments)}class eie{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class tie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oP(this),this.idTokenSubscription=new oP(this),this.beforeStateQueue=new Xre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Zs(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ol.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return he(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Mf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Pre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?tn(e):null;return r&&he(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&he(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Zs(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return y(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return y(function*(){const n=yield function Jre(t){return c6.apply(this,arguments)}(e),r=new eie(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Zs(e)||n._popupRedirectResolver;he(r,n,"argument-error"),n.redirectPersistenceManager=yield Ol.create(n,[Zs(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Sre(t,...e){Kg.logLevel<=ot.WARN&&Kg.warn(`Auth (${Rl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function yn(t){return tn(t)}class oP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Xte(t,e){const n=new Jte(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function l6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function nie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function aP(t){return`__${t}${Math.floor(1e6*Math.random())}`}class cP{constructor(e){this.type="recaptcha-enterprise",this.auth=yn(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=y(function*(l,u){W9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new q9(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;G9(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&G9(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));l6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function lP(t,e,n){return u6.apply(this,arguments)}function u6(){return(u6=y(function*(t,e,n,r=!1){const i=new cP(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function d6(){return d6=y(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield lP(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=y(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield lP(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),d6.apply(this,arguments)}function uP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class h6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,n){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}function hP(t,e){return g6.apply(this,arguments)}function g6(){return(g6=y(function*(t,e){return Qt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function hie(t,e){return _6.apply(this,arguments)}function _6(){return(_6=y(function*(t,e){return Xs(t,"POST","/v1/accounts:signInWithPassword",$t(t,e))})).apply(this,arguments)}function I6(){return(I6=y(function*(t,e){return Xs(t,"POST","/v1/accounts:signInWithEmailLink",$t(t,e))})).apply(this,arguments)}function b6(){return(b6=y(function*(t,e){return Xs(t,"POST","/v1/accounts:signInWithEmailLink",$t(t,e))})).apply(this,arguments)}class Nf extends h6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return y(function*(){switch(n.signInMethod){case"password":return function Zg(t,e,n,r){return d6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",hie);case"emailLink":return function vie(t,e){return I6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Hr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return y(function*(){switch(r.signInMethod){case"password":return hP(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function yie(t,e){return b6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Hr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function eo(t,e){return w6.apply(this,arguments)}function w6(){return(w6=y(function*(t,e){return Xs(t,"POST","/v1/accounts:signInWithIdp",$t(t,e))})).apply(this,arguments)}class Fl extends h6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=tr(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Fl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return eo(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ef(n)}return e}}class Ff{constructor(e){var n,r,i,s,o,a;const c=xf(Cf(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Aie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);he(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Tie(t){const e=xf(Cf(t)).link,n=e?xf(Cf(e)).deep_link_id:null,r=xf(Cf(t)).deep_link_id;return(r?xf(Cf(r)).link:null)||r||n||e||t}(e);try{return new Ff(n)}catch{return null}}}let pP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Nf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Ff.parseLink(r);return he(i,"argument-error"),Nf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Bo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gP extends Bo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Die=(()=>{class t extends gP{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Fl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return y(function*(){const s=yield za._fromIdTokenResponse(e,r,i),o=_P(r);return new yi({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=_P(r);return new yi({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function _P(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class n1 extends Li{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n1.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new n1(e,n,r,i)}}function vP(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?n1._fromErrorAndOperation(t,s,e,r):s})}function O6(){return(O6=y(function*(t,e,n=!1){const r=yield Js(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return yi._forOperation(t,"link",r)})).apply(this,arguments)}function V6(){return(V6=y(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Js(t,vP(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=Qg(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),yi._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Hr(r,"user-mismatch"),s}})).apply(this,arguments)}function xP(t,e){return L6.apply(this,arguments)}function L6(){return(L6=y(function*(t,e,n=!1){const r="signIn",i=yield vP(t,r,e),s=yield yi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function H6(){return(H6=y(function*(t,e){return xP(yn(t),e)})).apply(this,arguments)}function Y6(){return(Y6=y(function*(t){const e=yn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Oie(t,e,n){return function B6(t,e){return H6.apply(this,arguments)}(tn(t),pP.credential(e,n)).catch(function(){var r=y(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function K6(t){return Y6.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const s1="__sak";class IP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(s1,"1"),this.storage.removeItem(s1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zie=(()=>{class t extends IP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qie(){const t=kn();return a6(t)||Jg(t)}()&&function Qre(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=iP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Yre(){return function qte(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return y(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return y(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),bP=(()=>{class t extends IP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let tse=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return y(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=y(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function ese(t){return Promise.all(t.map(function(){var e=y(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function o1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class nse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return y(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=o1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function En(){return window}function _3(){return typeof En().WorkerGlobalScope<"u"&&"function"==typeof En().importScripts}function v3(){return(v3=y(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wP="firebaseLocalStorageDb",a1="firebaseLocalStorage",AP="fbase_key";class Lf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function c1(t,e){return t.transaction([a1],e?"readwrite":"readonly").objectStore(a1)}function y3(){const t=indexedDB.open(wP,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(a1,{keyPath:AP})}catch(i){n(i)}}),t.addEventListener("success",y(function*(){const r=t.result;r.objectStoreNames.contains(a1)?e(r):(r.close(),yield function cse(){const t=indexedDB.deleteDatabase(wP);return new Lf(t).toPromise()}(),e(yield y3()))}))})}function TP(t,e,n){return E3.apply(this,arguments)}function E3(){return(E3=y(function*(t,e,n){const r=c1(t,!0).put({[AP]:e,value:n});return new Lf(r).toPromise()})).apply(this,arguments)}function x3(){return(x3=y(function*(t,e){const n=c1(t,!1).get(e),r=yield new Lf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function DP(t,e){const n=c1(t,!0).delete(e);return new Lf(n).toPromise()}const fse=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return y(function*(){return n.db||(n.db=yield y3()),n.db})()}_withRetries(n){var r=this;return y(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return y(function*(){return _3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return y(function*(){n.receiver=tse._getInstance(function ose(){return _3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=y(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=y(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return y(function*(){var r,i;if(n.activeServiceWorker=yield function ise(){return v3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new nse(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function sse(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const n=yield y3();return yield TP(n,s1,"1"),yield DP(n,s1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return y(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(s=>TP(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return y(function*(){const i=yield r._withRetries(s=>function lse(t,e){return x3.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>DP(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return y(function*(){const r=yield n._withRetries(o=>{const a=c1(o,!1).getAll();return new Lf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function ja(t,e){return e?Zs(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}aP("rcb"),new Sf(3e4,6e4);class R3 extends h6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Dse(t){return xP(t.auth,new R3(t),t.bypassAuthState)}function Sse(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),function EP(t,e){return V6.apply(this,arguments)}(n,new R3(t),t.bypassAuthState)}function Rse(t){return P3.apply(this,arguments)}function P3(){return(P3=y(function*(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),function N6(t,e){return O6.apply(this,arguments)}(n,new R3(t),t.bypassAuthState)})).apply(this,arguments)}class RP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dse;case"linkViaPopup":case"linkViaRedirect":return Rse;case"reauthViaPopup":case"reauthViaRedirect":return Sse;default:Hr(this.auth,"internal-error")}}resolve(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pse=new Sf(2e3,1e4);function Mse(t,e,n){return M3.apply(this,arguments)}function M3(){return(M3=y(function*(t,e,n){const r=yn(t);!function Nl(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Hr(t,"argument-error"),B9(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Bo);const i=ja(r,n);return new O3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let O3=(()=>{class t extends RP{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return y(function*(){const r=yield n.execute();return he(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return y(function*(){Qs(1===n.filter.length,"Popup operations only handle one event");const r=o1();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Zr(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Pse.get())};n()}}return t.currentPopupAction=null,t})();const kse="pendingRedirect",Bf=new Map;class Nse extends RP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return y(function*(){let r=Bf.get(n.auth._key());if(!r){try{const s=(yield function Ose(t,e){return F3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Bf.set(n.auth._key(),r)}return n.bypassAuthState||Bf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function F3(){return(F3=y(function*(t,e){const n=function MP(t){return Xg(kse,t.config.apiKey,t.name)}(e),r=function PP(t){return Zs(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Fse(t,e){Bf.set(t._key(),e)}function kP(t,e){return j3.apply(this,arguments)}function j3(){return(j3=y(function*(t,e,n=!1){const r=yn(t),i=ja(r,e),o=yield new Nse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class zse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Use(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FP(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FP(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(OP(e))}saveEventToCache(e){this.cachedEventUids.add(OP(e)),this.lastProcessedEventTime=Date.now()}}function OP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FP({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function G3(){return(G3=y(function*(t,e={}){return Qt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const $se=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gse=/^https?/;function q3(){return q3=y(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function jse(t){return G3.apply(this,arguments)}(t);for(const n of e)try{if(Wse(n))return}catch{}Hr(t,"unauthorized-domain")}),q3.apply(this,arguments)}function Wse(t){const e=Df(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Gse.test(n))return!1;if($se.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Kse=new Sf(3e4,6e4);function VP(){const t=En().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let u1=null;const Xse=new Sf(5e3,15e3),Jse="__/auth/iframe",Zse="emulator/auth/iframe",eoe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},toe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function noe(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?q4(e,Zse):`https://${t.config.authDomain}/${Jse}`,r={apiKey:e.apiKey,appName:t.name,v:Rl},i=toe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ef(r).slice(1)}`}function W3(){return W3=y(function*(t){const e=yield function Qse(t){return u1=u1||function Yse(t){return new Promise((e,n)=>{var r,i,s;function o(){VP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VP(),n(Zr(t,"network-request-failed"))},timeout:Kse.get()})}if(null!==(i=null===(r=En().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=En().gapi)||void 0===s||!s.load){const a=aP("iframefcb");return En()[a]=()=>{gapi.load?o():n(Zr(t,"network-request-failed"))},l6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw u1=null,e})}(t),u1}(t),n=En().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:noe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eoe,dontclear:!0},r=>new Promise(function(){var i=y(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Zr(t,"network-request-failed"),c=En().setTimeout(()=>{o(a)},Xse.get());function l(){En().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),W3.apply(this,arguments)}const ioe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class LP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const doe="__/auth/handler",foe="emulator/auth/handler",hoe=encodeURIComponent("fac");function BP(t,e,n,r,i,s){return K3.apply(this,arguments)}function K3(){return(K3=y(function*(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rl,eventId:i};if(e instanceof Bo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function Qte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof gP){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${hoe}=${encodeURIComponent(c)}`:"";return`${function poe({config:t}){return t.emulator?q4(t,foe):`https://${t.authDomain}/${doe}`}(t)}?${Ef(a).slice(1)}${l}`})).apply(this,arguments)}const Y3="webStorageSupport",moe=class goe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bP,this._completeRedirectFn=kP,this._overrideRedirectResult=Fse}_openPopup(e,n,r,i){var s=this;return y(function*(){var o;Qs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield BP(e,n,r,Df(),i);return function loe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},ioe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=kn().toLowerCase();n&&(a=Z9(l)?"_blank":n),J9(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function Kre(t=kn()){var e;return Jg(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function uoe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new LP(null);const d=window.open(e||"",a,u);he(d,t,"popup-blocked");try{d.focus()}catch{}return new LP(d)}(e,a,o1())})()}_openRedirect(e,n,r,i){var s=this;return y(function*(){return yield s._originValidation(e),function rse(t){En().location.href=t}(yield BP(e,n,r,Df(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return y(function*(){const r=yield function roe(t){return W3.apply(this,arguments)}(e),i=new zse(e);return r.register("authEvent",s=>(he(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Y3,{type:Y3},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Y3];void 0!==o&&n(!!o),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function qse(t){return q3.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iP()||a6()||Jg()}};var UP="@firebase/auth";class _oe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xoe=p9("authIdTokenMaxAge")||300;let $P=null;const Coe=t=>function(){var e=y(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>xoe)return;const s=r?.token;$P!==s&&($P=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Ioe(t=Pl()){const e=us(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function aie(t,e){const n=us(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(yf(n.getOptions(),e??{}))return i;Hr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:moe,persistence:[fse,Zie,bP]}),r=p9("authTokenSyncURL");if(r){const s=Coe(r);(function $ie(t,e,n){tn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function jie(t,e,n,r){tn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=f9("auth");return i&&function lie(t,e,n){const r=yn(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=uP(e),{host:o,port:a}=function uie(t){const e=uP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dP(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:dP(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function die(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function boe(t){return new de(function(e){var n=function Gie(t,e,n,r){return tn(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function yoe(t){vi(new Jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sP(t)},l=new tie(r,i,s,c);return function cie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vi(new Jr("auth-internal",e=>{const n=yn(e.getProvider("auth").getImmediate());return new _oe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nn(UP,"1.3.2",function voe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),nn(UP,"1.3.2","esm2017")}("Browser");class Hf{constructor(e){return e}}class qP{constructor(){return Wg("auth")}}const X3=new ye("angularfire2.auth-instances");function Toe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Hf(r)}}const Doe={provide:qP,deps:[[new un,X3]]},Soe={provide:Hf,useFactory:function Aoe(t,e){const n=qg("auth",t,e);return n&&new Hf(n)},deps:[[new un,X3],Ha]};let Roe=(()=>{var t;class e{constructor(){nn("angularfire",No.full,"auth")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Pt({type:t})),gt(e,"\u0275inj",Tt({providers:[Soe,Doe]})),e})();function Vl(t,...e){return{ngModule:Roe,providers:[{provide:X3,useFactory:Toe(t),multi:!0,deps:[dt,wn,Af,Tf,[new un,U4],...e]}]}}const WP=vn(boe,!0),Ll=vn(Ioe,!0),Poe=vn(Oie,!0),Moe=vn(Mse,!0);var Ee,koe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bi={},J3=J3||{},$e=koe||self;function f1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function zf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Z3="closure_uid_"+(1e9*Math.random()>>>0),Ooe=0;function Foe(t,e,n){return t.call.apply(t.bind,arguments)}function Voe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function lr(t,e,n){return(lr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Foe:Voe).apply(null,arguments)}function h1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ho(){this.s=this.s,this.o=this.o}Ho.prototype.s=!1,Ho.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Noe(t){Object.prototype.hasOwnProperty.call(t,Z3)&&t[Z3]||(t[Z3]=++Ooe)}(this)},Ho.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function eE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function YP(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(f1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ur(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ur.prototype.h=function(){this.defaultPrevented=!0};var Boe=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return t}();function Uf(t){return/^[\s\xa0]*$/.test(t)}function p1(){var t=$e.navigator;return t&&(t=t.userAgent)?t:""}function fs(t){return-1!=p1().indexOf(t)}function tE(t){return tE[" "](t),t}tE[" "]=function(){};var rE,t,zoe=fs("Opera"),Bl=fs("Trident")||fs("MSIE"),QP=fs("Edge"),nE=QP||Bl,XP=fs("Gecko")&&!(-1!=p1().toLowerCase().indexOf("webkit")&&!fs("Edge"))&&!(fs("Trident")||fs("MSIE"))&&!fs("Edge"),Uoe=-1!=p1().toLowerCase().indexOf("webkit")&&!fs("Edge");function JP(){var t=$e.document;return t?t.documentMode:void 0}e:{var iE="",sE=(t=p1(),XP?/rv:([^\);]+)(\)|;)/.exec(t):QP?/Edge\/([\d\.]+)/.exec(t):Bl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Uoe?/WebKit\/(\S+)/.exec(t):zoe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(sE&&(iE=sE?sE[1]:""),Bl){var oE=JP();if(null!=oE&&oE>parseFloat(iE)){rE=String(oE);break e}}rE=iE}var joe=$e.document&&Bl&&(JP()||parseInt(rE,10))||void 0;function jf(t,e){if(ur.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(XP){e:{try{tE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$oe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&jf.$.h.call(this)}}Nn(jf,ur);var $oe={2:"touch",3:"pen",4:"mouse"};jf.prototype.h=function(){jf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $f="closure_listenable_"+(1e6*Math.random()|0),Goe=0;function qoe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Goe,this.fa=this.ia=!1}function g1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function cE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function eM(t){const e={};for(const n in t)e[n]=t[n];return e}const tM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nM(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<tM.length;s++)n=tM[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function m1(t){this.src=t,this.g={},this.h=0}function lE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=KP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(g1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function uE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}m1.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=uE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new qoe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var dE="closure_lm_"+(1e6*Math.random()|0),fE={};function rM(t,e,n,r,i){if(r&&r.once)return sM(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)rM(t,e[s],n,r,i);return null}return n=mE(n),t&&t[$f]?t.O(e,n,zf(r)?!!r.capture:!!r,i):iM(t,e,n,!1,r,i)}function iM(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=zf(i)?!!i.capture:!!i,a=pE(t);if(a||(t[dE]=a=new m1(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Koe(){const e=Yoe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Boe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(aM(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function sM(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)sM(t,e[s],n,r,i);return null}return n=mE(n),t&&t[$f]?t.P(e,n,zf(r)?!!r.capture:!!r,i):iM(t,e,n,!0,r,i)}function oM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)oM(t,e[s],n,r,i);else r=zf(r)?!!r.capture:!!r,n=mE(n),t&&t[$f]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=uE(s=t.g[e],n,r,i))&&(g1(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=pE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=uE(e,n,r,i)),(n=-1<t?e[t]:null)&&hE(n))}function hE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[$f])lE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(aM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pE(e))?(lE(n,t),0==n.h&&(n.src=null,e[dE]=null)):g1(t)}}}function aM(t){return t in fE?fE[t]:fE[t]="on"+t}function Yoe(t,e){if(t.fa)t=!0;else{e=new jf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&hE(t),t=n.call(r,e)}return t}function pE(t){return(t=t[dE])instanceof m1?t:null}var gE="__closure_events_fn_"+(1e9*Math.random()>>>0);function mE(t){return"function"==typeof t?t:(t[gE]||(t[gE]=function(e){return t.handleEvent(e)}),t[gE])}function On(){Ho.call(this),this.i=new m1(this),this.S=this,this.J=null}function Yn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ur(e,t);else if(e instanceof ur)e.target=e.target||t;else{var i=e;nM(e=new ur(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=_1(o,r,!0,e)&&i}if(i=_1(o=e.g=t,r,!0,e)&&i,i=_1(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=_1(o=e.g=n[s],r,!1,e)&&i}function _1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&lE(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Nn(On,Ho),On.prototype[$f]=!0,On.prototype.removeEventListener=function(t,e,n,r){oM(this,t,e,n,r)},On.prototype.N=function(){if(On.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)g1(n[r]);delete t.g[e],t.h--}}this.J=null},On.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},On.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var _E=$e.JSON.stringify;function Xoe(){var t=vE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var cM=new class Qoe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Zoe,t=>t.reset());class Zoe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function eae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function tae(t){$e.setTimeout(()=>{throw t},0)}let Gf,qf=!1,vE=new class Joe{constructor(){this.h=this.g=null}add(e,n){const r=cM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},lM=()=>{const t=$e.Promise.resolve(void 0);Gf=()=>{t.then(nae)}};var nae=()=>{for(var t;t=Xoe();){try{t.h.call(t.g)}catch(n){tae(n)}var e=cM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qf=!1};function v1(t,e){On.call(this),this.h=t||1,this.g=e||$e,this.j=lr(this.qb,this),this.l=Date.now()}function yE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function EE(t,e,n){if("function"==typeof t)n&&(t=lr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=lr(t.handleEvent,t)}return 2147483647<Number(e)?-1:$e.setTimeout(t,e||0)}function uM(t){t.g=EE(()=>{t.g=null,t.i&&(t.i=!1,uM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Nn(v1,On),(Ee=v1.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yn(this,"tick"),this.ga&&(yE(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){v1.$.N.call(this),yE(this),delete this.g};class rae extends Ho{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uM(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wf(t){Ho.call(this),this.h=t,this.g={}}Nn(Wf,Ho);var dM=[];function fM(t,e,n,r){Array.isArray(n)||(n&&(dM[0]=n.toString()),n=dM);for(var i=0;i<n.length;i++){var s=rM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function hM(t){cE(t.g,function(e,n){this.g.hasOwnProperty(n)&&hE(e)},t),t.g={}}function y1(){this.g=!0}function Hl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return _E(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Wf.prototype.N=function(){Wf.$.N.call(this),hM(this)},Wf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},y1.prototype.Ea=function(){this.g=!1},y1.prototype.info=function(){};var $a={},pM=null;function E1(){return pM=pM||new On}function gM(t){ur.call(this,$a.Ta,t)}function Kf(t){const e=E1();Yn(e,new gM(e))}function mM(t,e){ur.call(this,$a.STAT_EVENT,t),this.stat=e}function Ar(t){const e=E1();Yn(e,new mM(e,t))}function _M(t,e){ur.call(this,$a.Ua,t),this.size=e}function Yf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){t()},e)}$a.Ta="serverreachability",Nn(gM,ur),$a.STAT_EVENT="statevent",Nn(mM,ur),$a.Ua="timingevent",Nn(_M,ur);var x1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xE(){}function EM(){}xE.prototype.h=null;var bE,Qf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function CE(){ur.call(this,"d")}function IE(){ur.call(this,"c")}function C1(){}function Xf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Wf(this),this.P=cae,this.V=new v1(t=nE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xM}function xM(){this.i=null,this.g="",this.h=!1}Nn(CE,ur),Nn(IE,ur),Nn(C1,xE),C1.prototype.g=function(){return new XMLHttpRequest},C1.prototype.i=function(){return{}},bE=new C1;var cae=45e3,wE={},I1={};function AE(t,e,n){t.L=1,t.v=T1(to(e)),t.s=n,t.S=!0,CM(t,null)}function CM(t,e){t.G=Date.now(),Jf(t),t.A=to(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),MM(n.i,"t",r),t.C=0,n=t.l.J,t.h=new xM,t.g=nk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new rae(lr(t.Pa,t,t.g),t.O)),fM(t.U,t.g,"readystatechange",t.nb),e=t.I?eM(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Kf(),function iae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function IM(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function bM(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=lae(t,n),i==I1){4==e&&(t.o=4,Ar(14),r=!1),Hl(t.j,t.m,null,"[Incomplete Response]");break}if(i==wE){t.o=4,Ar(15),Hl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Hl(t.j,t.m,i,null),TE(t,i)}IM(t)&&i!=I1&&i!=wE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ar(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),NE(e),e.M=!0,Ar(11))):(Hl(t.j,t.m,n,"[Invalid Chunked Response]"),Ga(t),Zf(t))}function lae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?I1:(n=Number(e.substring(n,r)),isNaN(n)?wE:(r+=1)+n>e.length?I1:(e=e.slice(r,r+n),t.C=r+n,e))}function Jf(t){t.Y=Date.now()+t.P,wM(t,t.P)}function wM(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Yf(lr(t.lb,t),e)}function b1(t){t.B&&($e.clearTimeout(t.B),t.B=null)}function Zf(t){0==t.l.H||t.J||JM(t.l,t)}function Ga(t){b1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,yE(t.V),hM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function TE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||DE(n.i,t)))if(!t.K&&DE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;k1(n),P1(n)}kE(n),Ar(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Yf(lr(n.ib,n),6e3));if(1>=OM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wa(n,11)}else if((t.K||n.g==t)&&k1(n),!Uf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(SE(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Lt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=tk(r,r.J?r.pa:null,r.Y),o.K){FM(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(b1(a),Jf(a)),r.g=o}else QM(r);0<n.j.length&&M1(n)}else"stop"!=l[0]&&"close"!=l[0]||Wa(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Wa(n,7):ME(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Kf()}catch{}}function AM(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function dae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(f1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function uae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(f1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(Ee=Xf.prototype).setTimeout=function(t){this.P=t},Ee.nb=function(t){t=t.target;const e=this.M;e&&3==hs(t)?e.l():this.Pa(t)},Ee.Pa=function(t){try{if(t==this.g)e:{const u=hs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||nE||this.g&&(this.h.h||this.g.ja()||$M(this.g)))){this.J||4!=u||7==e||Kf(),b1(this);var n=this.g.da();this.ca=n;t:if(IM(this)){var r=$M(this.g);t="";var i=r.length,s=4==hs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ga(this),Zf(this);var o="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function sae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Ar(12),Ga(this),Zf(this);break e}Hl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,TE(this,n)}this.S?(bM(this,u,o),nE&&this.i&&3==u&&(fM(this.U,this.V,"tick",this.mb),this.V.start())):(Hl(this.j,this.m,o,null),TE(this,o)),4==u&&Ga(this),this.i&&!this.J&&(4==u?JM(this.l,this):(this.i=!1,Jf(this)))}else(function Sae(t){const e={};t=(t.g&&2<=hs(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Uf(t[r]))continue;var n=eae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Woe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),Ga(this),Zf(this)}}}catch{}},Ee.mb=function(){if(this.g){var t=hs(this.g),e=this.g.ja();this.C<e.length&&(b1(this),bM(this,t,e),this.i&&4!=t&&Jf(this))}},Ee.cancel=function(){this.J=!0,Ga(this)},Ee.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function oae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Kf(),Ar(17)),Ga(this),this.o=2,Zf(this)):wM(this,this.Y-t)};var TM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof qa){this.h=t.h,w1(this,t.j),this.s=t.s,this.g=t.g,A1(this,t.m),this.l=t.l;var e=t.i,n=new nh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),DM(this,n),this.o=t.o}else t&&(e=String(t).match(TM))?(this.h=!1,w1(this,e[1]||"",!0),this.s=eh(e[2]||""),this.g=eh(e[3]||"",!0),A1(this,e[4]),this.l=eh(e[5]||"",!0),DM(this,e[6]||"",!0),this.o=eh(e[7]||"")):(this.h=!1,this.i=new nh(null,this.h))}function to(t){return new qa(t)}function w1(t,e,n){t.j=n?eh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function A1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function DM(t,e,n){e instanceof nh?(t.i=e,function vae(t,e){e&&!t.j&&(zo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(RM(this,r),MM(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=th(e,mae)),t.i=new nh(e,t.h))}function Lt(t,e,n){t.i.set(e,n)}function T1(t){return Lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function eh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function th(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,hae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(th(e,SM,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(th(e,SM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(th(n,"/"==n.charAt(0)?gae:pae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",th(n,_ae)),t.join("")};var SM=/[#\/\?@]/g,pae=/[#\?:]/g,gae=/[#\?]/g,mae=/[#\?@]/g,_ae=/#/g;function nh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function zo(t){t.g||(t.g=new Map,t.h=0,t.i&&function fae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function RM(t,e){zo(t),e=zl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function PM(t,e){return zo(t),e=zl(t,e),t.g.has(e)}function MM(t,e,n){RM(t,e),0<n.length&&(t.i=null,t.g.set(zl(t,e),eE(n)),t.h+=n.length)}function zl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function kM(t){this.l=t||Eae,t=$e.PerformanceNavigationTiming?0<(t=$e.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=nh.prototype).add=function(t,e){zo(this),this.i=null,t=zl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ee.forEach=function(t,e){zo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ee.ta=function(){zo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},Ee.Z=function(t){zo(this);let e=[];if("string"==typeof t)PM(this,t)&&(e=e.concat(this.g.get(zl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ee.set=function(t,e){return zo(this),this.i=null,PM(this,t=zl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ee.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Eae=10;function NM(t){return!!t.h||!!t.g&&t.g.size>=t.j}function OM(t){return t.h?1:t.g?t.g.size:0}function DE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function SE(t,e){t.g?t.g.add(e):t.h=e}function FM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function VM(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return eE(t.i)}kM.prototype.cancel=function(){if(this.i=VM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var xae=class{stringify(t){return $e.JSON.stringify(t,void 0)}parse(t){return $e.JSON.parse(t,void 0)}};function Cae(){this.g=new xae}function Iae(t,e,n){const r=n||"";try{AM(t,function(i,s){let o=i;zf(i)&&(o=_E(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function D1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function rh(t){this.l=t.ec||null,this.j=t.ob||!1}function S1(t,e){On.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=RE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nn(rh,xE),rh.prototype.g=function(){return new S1(this.l,this.j)},rh.prototype.i=function(t){return function(){return t}}({}),Nn(S1,On);var RE=0;function LM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ih(t){t.readyState=4,t.l=null,t.j=null,t.A=null,sh(t)}function sh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ee=S1.prototype).open=function(t,e){if(this.readyState!=RE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,sh(this)},Ee.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ih(this)),this.readyState=RE},Ee.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,sh(this)),this.g&&(this.readyState=3,sh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ih(this):sh(this),3==this.readyState&&LM(this)}},Ee.Za=function(t){this.g&&(this.response=this.responseText=t,ih(this))},Ee.Ya=function(t){this.g&&(this.response=t,ih(this))},Ee.ka=function(){this.g&&ih(this)},Ee.setRequestHeader=function(t,e){this.v.append(t,e)},Ee.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(S1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var wae=$e.JSON.parse;function rn(t){On.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=BM,this.L=this.M=!1}Nn(rn,On);var BM="",Aae=/^https?$/i,Tae=["POST","PUT"];function HM(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zM(t),R1(t)}function zM(t){t.F||(t.F=!0,Yn(t,"complete"),Yn(t,"error"))}function UM(t){if(t.h&&typeof J3<"u"&&(!t.C[1]||4!=hs(t)||2!=t.da()))if(t.v&&4==hs(t))EE(t.La,0,t);else if(Yn(t,"readystatechange"),4==hs(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(TM)[1]||null;!i&&$e.self&&$e.self.location&&(i=$e.self.location.protocol.slice(0,-1)),r=!Aae.test(i?i.toLowerCase():"")}n=r}if(n)Yn(t,"complete"),Yn(t,"success");else{t.m=6;try{var s=2<hs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",zM(t)}}finally{R1(t)}}}function R1(t,e){if(t.g){jM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Yn(t,"ready");try{n.onreadystatechange=r}catch{}}}function jM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&($e.clearTimeout(t.A),t.A=null)}function hs(t){return t.g?t.g.readyState:0}function $M(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case BM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function GM(t){let e="";return cE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function PE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GM(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Lt(t,e,n))}function oh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qM(t){this.Ga=0,this.j=[],this.l=new y1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=oh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=oh("baseRetryDelayMs",5e3,t),this.hb=oh("retryDelaySeedMs",1e4,t),this.eb=oh("forwardChannelMaxRetries",2,t),this.xa=oh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new kM(t&&t.concurrentRequestLimit),this.Ja=new Cae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ME(t){if(WM(t),3==t.H){var e=t.W++,n=to(t.I);if(Lt(n,"SID",t.K),Lt(n,"RID",e),Lt(n,"TYPE","terminate"),ah(t,n),(e=new Xf(t,t.l,e)).L=2,e.v=T1(to(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon)try{n=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&$e.Image&&((new Image).src=e.v,n=!0),n||(e.g=nk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Jf(e)}ek(t)}function P1(t){t.g&&(NE(t),t.g.cancel(),t.g=null)}function WM(t){P1(t),t.u&&($e.clearTimeout(t.u),t.u=null),k1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&$e.clearTimeout(t.m),t.m=null)}function M1(t){if(!NM(t.i)&&!t.m){t.m=!0;var e=t.Na;Gf||lM(),qf||(Gf(),qf=!0),vE.add(e,t),t.C=0}}function KM(t,e){var n;n=e?e.m:t.W++;const r=to(t.I);Lt(r,"SID",t.K),Lt(r,"RID",n),Lt(r,"AID",t.V),ah(t,r),t.o&&t.s&&PE(r,t.o,t.s),n=new Xf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=YM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),SE(t.i,n),AE(n,r,e)}function ah(t,e){t.na&&cE(t.na,function(n,r){Lt(e,r,n)}),t.h&&AM({},function(n,r){Lt(e,r,n)})}function YM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?lr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Iae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function QM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Gf||lM(),qf||(Gf(),qf=!0),vE.add(e,t),t.A=0}}function kE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Yf(lr(t.Ma,t),ZM(t,t.A)),t.A++,0))}function NE(t){null!=t.B&&($e.clearTimeout(t.B),t.B=null)}function XM(t){t.g=new Xf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=to(t.wa);Lt(e,"RID","rpc"),Lt(e,"SID",t.K),Lt(e,"AID",t.V),Lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Lt(e,"TO",t.qa),Lt(e,"TYPE","xmlhttp"),ah(t,e),t.o&&t.s&&PE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=T1(to(e)),n.s=null,n.S=!0,CM(n,t)}function k1(t){null!=t.v&&($e.clearTimeout(t.v),t.v=null)}function JM(t,e){var n=null;if(t.g==e){k1(t),NE(t),t.g=null;var r=2}else{if(!DE(t.i,e))return;n=e.F,FM(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Yn(r=E1(),new _M(r,n)),M1(t)}else QM(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Rae(t,e){return!(OM(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Yf(lr(t.Na,t,e),ZM(t,t.C)),t.C++,0)))}(t,e)||2==r&&kE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wa(t,5);break;case 4:Wa(t,10);break;case 3:Wa(t,6);break;default:Wa(t,2)}}function ZM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wa(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=lr(t.pb,t);n||(n=new qa("//www.google.com/images/cleardot.gif"),$e.location&&"http"==$e.location.protocol||w1(n,"https"),T1(n)),function bae(t,e){const n=new y1;if($e.Image){const r=new Image;r.onload=h1(D1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=h1(D1,n,r,"TestLoadImage: error",!1,e),r.onabort=h1(D1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=h1(D1,n,r,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ar(2);t.H=0,t.h&&t.h.za(e),ek(t),WM(t)}function ek(t){if(t.H=0,t.ma=[],t.h){const e=VM(t.i);(0!=e.length||0!=t.j.length)&&(YP(t.ma,e),YP(t.ma,t.j),t.i.i.length=0,eE(t.j),t.j.length=0),t.h.ya()}}function tk(t,e,n){var r=n instanceof qa?to(n):new qa(n);if(""!=r.g)e&&(r.g=e+"."+r.g),A1(r,r.m);else{var i=$e.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new qa(null);r&&w1(s,r),e&&(s.g=e),i&&A1(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Lt(r,n,e),Lt(r,"VER",t.ra),ah(t,r),r}function nk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rn(n&&t.Ha&&!t.va?new rh({ob:!0}):t.va)).Oa(t.J),e}function rk(){}function N1(){if(Bl&&!(10<=Number(joe)))throw Error("Environmental error: no available transport.")}function ei(t,e){On.call(this),this.g=new qM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Uf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Uf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ul(this)}function ik(t){CE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function sk(){IE.call(this),this.status=1}function Ul(t){this.g=t}function Hi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function OE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Et(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(Ee=rn.prototype).Oa=function(t){this.M=t},Ee.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bE.g(),this.C=function yM(t){return t.h||(t.h=t.i())}(this.u?this.u:bE),this.g.onreadystatechange=lr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void HM(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=$e.FormData&&t instanceof $e.FormData,!(0<=KP(Tae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jM(this),0<this.B&&((this.L=function Dae(t){return Bl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lr(this.ua,this)):this.A=EE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){HM(this,s)}},Ee.ua=function(){typeof J3<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yn(this,"timeout"),this.abort(8))},Ee.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Yn(this,"complete"),Yn(this,"abort"),R1(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R1(this,!0)),rn.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?UM(this):this.kb())},Ee.kb=function(){UM(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<hs(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wae(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=qM.prototype).ra=8,Ee.H=1,Ee.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Xf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=eM(s),nM(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=YM(this,i,e),Lt(n=to(this.I),"RID",t),Lt(n,"CVER",22),this.F&&Lt(n,"X-HTTP-Session-Id",this.F),ah(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(GM(s)))+"&"+e:this.o&&PE(n,this.o,s)),SE(this.i,i),this.bb&&Lt(n,"TYPE","init"),this.P?(Lt(n,"$req",e),Lt(n,"SID","null"),i.aa=!0,AE(i,n,null)):AE(i,n,e),this.H=2}}else 3==this.H&&(t?KM(this,t):0==this.j.length||NM(this.i)||KM(this))},Ee.Ma=function(){if(this.u=null,XM(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Yf(lr(this.jb,this),t)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ar(10),P1(this),XM(this))},Ee.ib=function(){null!=this.v&&(this.v=null,P1(this),kE(this),Ar(19))},Ee.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ar(2)):(this.l.info("Failed to ping google.com"),Ar(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=rk.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},N1.prototype.g=function(t,e){return new ei(t,e)},Nn(ei,On),ei.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ar(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=tk(t,null,t.Y),M1(t)},ei.prototype.close=function(){ME(this.g)},ei.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=_E(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&M1(e)},ei.prototype.N=function(){this.g.h=null,delete this.j,ME(this.g),delete this.g,ei.$.N.call(this)},Nn(ik,CE),Nn(sk,IE),Nn(Ul,rk),Ul.prototype.Ba=function(){Yn(this.g,"a")},Ul.prototype.Aa=function(t){Yn(this.g,new ik(t))},Ul.prototype.za=function(t){Yn(this.g,new sk)},Ul.prototype.ya=function(){Yn(this.g,"b")},Nn(Hi,function Pae(){this.blockSize=-1}),Hi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Hi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)OE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){OE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){OE(this,r),i=0;break}}this.h=i,this.i+=e},Hi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Mae={};function FE(t){return-128<=t&&128>t?function Hoe(t,e){var n=Mae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Et([0|e],0>e?-1:0)}):new Et([0|t],0>t?-1:0)}function ps(t){if(isNaN(t)||!isFinite(t))return jl;if(0>t)return Qn(ps(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=VE;return new Et(e,0)}var VE=4294967296,jl=FE(0),LE=FE(1),ak=FE(16777216);function no(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ei(t){return-1==t.h}function Qn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Et(n,~t.h).add(LE)}function O1(t,e){return t.add(Qn(e))}function F1(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ch(t,e){this.g=t,this.h=e}function V1(t,e){if(no(e))throw Error("division by zero");if(no(t))return new ch(jl,jl);if(Ei(t))return e=V1(Qn(t),e),new ch(Qn(e.g),Qn(e.h));if(Ei(e))return e=V1(t,Qn(e)),new ch(Qn(e.g),e.h);if(30<t.g.length){if(Ei(t)||Ei(e))throw Error("slowDivide_ only works with positive integers.");for(var n=LE,r=e;0>=r.X(t);)n=ck(n),r=ck(r);var i=$l(n,1),s=$l(r,1);for(r=$l(r,2),n=$l(n,2);!no(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=$l(r,1),n=$l(n,1)}return e=O1(t,i.R(e)),new ch(i,e)}for(i=jl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ps(n)).R(e);Ei(o)||0<o.X(t);)o=(s=ps(n-=r)).R(e);no(s)&&(s=LE),i=i.add(s),t=O1(t,o)}return new ch(i,t)}function ck(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Et(n,t.h)}function $l(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Et(i,t.h)}(Ee=Et.prototype).ea=function(){if(Ei(this))return-Qn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:VE+r)*e,e*=VE}return t},Ee.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(no(this))return"0";if(Ei(this))return"-"+Qn(this).toString(t);for(var e=ps(Math.pow(t,6)),n=this,r="";;){var i=V1(n,e).g,s=((0<(n=O1(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(no(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ee.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ee.X=function(t){return Ei(t=O1(this,t))?-1:no(t)?0:1},Ee.abs=function(){return Ei(this)?Qn(this):this},Ee.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Et(n,-2147483648&n[n.length-1]?-1:0)},Ee.R=function(t){if(no(this)||no(t))return jl;if(Ei(this))return Ei(t)?Qn(this).R(Qn(t)):Qn(Qn(this).R(t));if(Ei(t))return Qn(this.R(Qn(t)));if(0>this.X(ak)&&0>t.X(ak))return ps(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,F1(n,2*r+2*i),n[2*r+2*i+1]+=s*c,F1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,F1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,F1(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Et(n,0)},Ee.gb=function(t){return V1(this,t).h},Ee.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Et(n,this.h&t.h)},Ee.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Et(n,this.h|t.h)},Ee.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Et(n,this.h^t.h)},N1.prototype.createWebChannel=N1.prototype.g,ei.prototype.send=ei.prototype.u,ei.prototype.open=ei.prototype.m,ei.prototype.close=ei.prototype.close,x1.NO_ERROR=0,x1.TIMEOUT=8,x1.HTTP_ERROR=6,vM.COMPLETE="complete",EM.EventType=Qf,Qf.OPEN="a",Qf.CLOSE="b",Qf.ERROR="c",Qf.MESSAGE="d",On.prototype.listen=On.prototype.O,rn.prototype.listenOnce=rn.prototype.P,rn.prototype.getLastError=rn.prototype.Sa,rn.prototype.getLastErrorCode=rn.prototype.Ia,rn.prototype.getStatus=rn.prototype.da,rn.prototype.getResponseJson=rn.prototype.Wa,rn.prototype.getResponseText=rn.prototype.ja,rn.prototype.send=rn.prototype.ha,rn.prototype.setWithCredentials=rn.prototype.Oa,Hi.prototype.digest=Hi.prototype.l,Hi.prototype.reset=Hi.prototype.reset,Hi.prototype.update=Hi.prototype.j,Et.prototype.add=Et.prototype.add,Et.prototype.multiply=Et.prototype.R,Et.prototype.modulo=Et.prototype.gb,Et.prototype.compare=Et.prototype.X,Et.prototype.toNumber=Et.prototype.ea,Et.prototype.toString=Et.prototype.toString,Et.prototype.getBits=Et.prototype.D,Et.fromNumber=ps,Et.fromString=function ok(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Qn(ok(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ps(Math.pow(e,8)),r=jl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ps(Math.pow(e,s)),r=r.R(s).add(ps(o))):r=(r=r.R(n)).add(ps(o))}return r};var kae=Bi.createWebChannelTransport=function(){return new N1},Nae=Bi.getStatEventTarget=function(){return E1()},BE=Bi.ErrorCode=x1,Oae=Bi.EventType=vM,Fae=Bi.Event=$a,lk=Bi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vae=Bi.FetchXmlHttpFactory=rh,L1=Bi.WebChannel=EM,Lae=Bi.XhrIo=rn,Bae=Bi.Md5=Hi,Gl=Bi.Integer=Et;const uk="@firebase/firestore";class Fn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");let ql="10.5.2";const Uo=new If("@firebase/firestore");function Wl(){return Uo.logLevel}function te(t,...e){if(Uo.logLevel<=ot.DEBUG){const n=e.map(HE);Uo.debug(`Firestore (${ql}): ${t}`,...n)}}function fn(t,...e){if(Uo.logLevel<=ot.ERROR){const n=e.map(HE);Uo.error(`Firestore (${ql}): ${t}`,...n)}}function ti(t,...e){if(Uo.logLevel<=ot.WARN){const n=e.map(HE);Uo.warn(`Firestore (${ql}): ${t}`,...n)}}function HE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Ae(t="Unexpected state"){const e=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: `+t;throw fn(e),new Error(e)}function Se(t,e){t||Ae()}function pe(t,e){return t}const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class dk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class zae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Uae{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(y(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se("string"==typeof r.accessToken),new dk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Se(null===e||"string"==typeof e),new Fn(e)}}class jae{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $ae{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jae(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gae{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se("string"==typeof n.token),this.R=n.token,new fk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class hk{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=qae(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Kl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Xt(0,0))}static max(){return new Me(new Xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lh{constructor(e,n,r){void 0===n?n=0:n>e.length&&Ae(),void 0===r?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===lh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends lh{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const Wae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends lh{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return Wae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ne(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ne(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ne(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ne(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(lt.fromString(e))}static fromName(e){return new ge(lt.fromString(e).popFirst(5))}static empty(){return new ge(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new lt(e.slice()))}}function mk(t){return new ni(t.readTime,t.key,-1)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(Me.min(),ge.empty(),-1)}static max(){return new ni(Me.max(),ge.empty(),-1)}}function UE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ge.comparator(t.documentKey,e.documentKey),0!==n?n:ze(t.largestBatchId,e.largestBatchId))}const _k="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function jo(t){return jE.apply(this,arguments)}function jE(){return jE=y(function*(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==_k)throw t;te("LocalStore","Unexpectedly lost primary lease")}),jE.apply(this,arguments)}class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function $o(t){return"IndexedDbTransactionError"===t.name}let ri=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function dh(t){return null==t}function fh(t){return 0===t&&1/t==-1/0}function Ak(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ft{constructor(e,n){this.comparator=e,this.root=n||Xn.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new z1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new z1(this.root,e,this.comparator,!1)}getReverseIterator(){return new z1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new z1(this.root,e,this.comparator,!0)}}class z1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xn.RED,this.left=i??Xn.EMPTY,this.right=s??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Xn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1,Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wt{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dk(this.data.getIterator())}getIteratorFrom(e){return new Dk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class Dk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zr{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new zr([])}unionWith(e){let n=new wt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Sk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Sk("Invalid base64 string: "+s):s}}(e);return new Sn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const yce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(t){if(Se(!!t),"string"==typeof t){let e=0;const n=yce.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ro(t){return"string"==typeof t?Sn.fromBase64String(t):Sn.fromUint8Array(t)}function U1(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function j1(t){const e=t.mapValue.fields.__previous_value__;return U1(e)?j1(e):e}function hh(t){const e=qo(t.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}class Ece{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class Xa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}const Wo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U1(t)?4:kk(t)?9007199254740991:10:Ae()}function ms(t,e){if(t===e)return!0;const n=Ko(t);if(n!==Ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hh(t).isEqual(hh(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=qo(i.timestampValue),a=qo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,ro(t.bytesValue).isEqual(ro(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return sn(i.geoPointValue.latitude)===sn(s.geoPointValue.latitude)&&sn(i.geoPointValue.longitude)===sn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return sn(i.integerValue)===sn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=sn(i.doubleValue),a=sn(s.doubleValue);return o===a?fh(o)===fh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Kl(t.arrayValue.values||[],e.arrayValue.values||[],ms);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Ak(o)!==Ak(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!ms(o[c],a[c])))return!1;return!0}(t,e);default:return Ae()}var s}function ph(t,e){return void 0!==(t.values||[]).find(n=>ms(n,e))}function Yo(t,e){if(t===e)return 0;const n=Ko(t),r=Ko(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=sn(s.integerValue||s.doubleValue),c=sn(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Rk(t.timestampValue,e.timestampValue);case 4:return Rk(hh(t),hh(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ro(s),c=ro(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=ze(a[l],c[l]);if(0!==u)return u}return ze(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ze(sn(s.latitude),sn(o.latitude));return 0!==a?a:ze(sn(s.longitude),sn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=Yo(a[l],c[l]);if(u)return u}return ze(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Wo.mapValue&&o===Wo.mapValue)return 0;if(s===Wo.mapValue)return 1;if(o===Wo.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=ze(c[d],u[d]);if(0!==f)return f;const h=Yo(a[c[d]],l[u[d]]);if(0!==h)return h}return ze(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function Rk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ze(t,e);const n=qo(t),r=qo(e),i=ze(n.seconds,r.seconds);return 0!==i?i:ze(n.nanos,r.nanos)}function Jl(t){return qE(t)}function qE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ro(t.bytesValue).toBase64():"referenceValue"in t?ge.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${qE(n.fields[o])}`;return i+"}"}(t.mapValue):Ae()}function Ja(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function WE(t){return!!t&&"integerValue"in t}function gh(t){return!!t&&"arrayValue"in t}function Pk(t){return!!t&&"nullValue"in t}function Mk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function q1(t){return!!t&&"mapValue"in t}function mh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!q1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(n)}setAll(e){let n=Gt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());q1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];q1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Go(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jn(mh(this.value))}}function Fk(t){const e=[];return Go(t.fields,(n,r)=>{const i=new Gt([n]);if(q1(r)){const s=Fk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new zr(e)}class Bt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,Me.min(),Me.min(),Me.min(),Jn.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,Me.min(),Me.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,Me.min(),Me.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qo{constructor(e,n){this.position=e,this.inclusive=n}}function Vk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ge.comparator(ge.fromName(o.referenceValue),n.key):Yo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Lk(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ms(t.position[n],e.position[n]))return!1;return!0}class _h{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ice(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Bk{}class rt extends Bk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new bce(e,n,r):"array-contains"===n?new Tce(e,r):"in"===n?new Gk(e,r):"not-in"===n?new Dce(e,r):"array-contains-any"===n?new Sce(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new wce(e,r):new Ace(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Yo(n,this.value)):null!==n&&Ko(this.value)===Ko(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xt extends Bk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new xt(e,n)}matches(e){return Zl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Zl(t){return"and"===t.op}function YE(t){return function Hk(t){for(const e of t.filters)if(e instanceof xt)return!1;return!0}(t)&&Zl(t)}function QE(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Jl(t.value);if(YE(t))return t.filters.map(e=>QE(e)).join(",");{const e=t.filters.map(n=>QE(n)).join(",");return`${t.op}(${e})`}}function zk(t,e){return t instanceof rt?(r=t,(i=e)instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&ms(r.value,i.value)):t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&zk(o,i.filters[a]),!0)}(t,e):void Ae();var r,i}function jk(t){return t instanceof rt?`${(n=t).field.canonicalString()} ${n.op} ${Jl(n.value)}`:t instanceof xt?function(n){return n.op.toString()+" {"+n.getFilters().map(jk).join(" ,")+"}"}(t):"Filter";var n}class bce extends rt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class wce extends rt{constructor(e,n){super(e,"in",n),this.keys=$k(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ace extends rt{constructor(e,n){super(e,"not-in",n),this.keys=$k(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $k(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class Tce extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gh(n)&&ph(n.arrayValue,this.value)}}class Gk extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ph(this.value.arrayValue,n)}}class Dce extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ph(this.value.arrayValue,n)}}class Sce extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}class Rce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function XE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Rce(t,e,n,r,i,s,o)}function Za(t){const e=pe(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>QE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jl(r)).join(",")),e.ce=n}return e.ce}function vh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ice(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lk(t.startAt,e.startAt)&&Lk(t.endAt,e.endAt)}function W1(t){return ge.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class io{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function eu(t){return new io(t)}function Yk(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function JE(t){return null!==t.collectionGroup}function tu(t){const e=pe(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wt(Gt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new _h(s,r))}),n.has(Gt.keyField().canonicalString())||e.le.push(new _h(Gt.keyField(),r))}return e.le}function Tr(t){const e=pe(t);return e.he||(e.he=function Qk(t,e){if("F"===t.limitType)return XE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new _h(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Qo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qo(t.startAt.position,t.startAt.inclusive):null;return XE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,tu(t))),e.he}function ZE(t,e){const n=t.filters.concat([e]);return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Y1(t,e,n){return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yh(t,e){return vh(Tr(t),Tr(e))&&t.limitType===e.limitType}function Xk(t){return`${Za(Tr(t))}|lt:${t.limitType}`}function nu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jk(i)).join(", ")}]`),dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Jl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Jl(i)).join(",")),`Target(${r})`}(Tr(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of tu(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=Vk(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,tu(r),i)||r.endAt&&!function(o,a,c){const l=Vk(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,tu(r),i)));var r,i}function Zk(t){return(e,n)=>{let r=!1;for(const i of tu(t)){const s=Pce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Pce(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?Yo(c,l):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Tk(this.inner)}size(){return this.innerSize}}const Mce=new Ft(ge.comparator);function Ur(){return Mce}const eN=new Ft(ge.comparator);function xh(...t){let e=eN;for(const n of t)e=e.insert(n.key,n);return e}function tN(t){let e=eN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _s(){return Ch()}function nN(){return Ch()}function Ch(){return new so(t=>t.toString(),(t,e)=>t.isEqual(e))}const kce=new Ft(ge.comparator),Nce=new wt(ge.comparator);function Qe(...t){let e=Nce;for(const n of t)e=e.add(n);return e}const Oce=new wt(ze);function rN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function iN(t){return{integerValue:""+t}}function sN(t,e){return function yk(t){return"number"==typeof t&&Number.isInteger(t)&&!fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?iN(e):rN(t,e)}class Q1{constructor(){this._=void 0}}function Fce(t,e,n){return t instanceof ru?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&U1(s)&&(s=j1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ec?aN(t,e):t instanceof tc?cN(t,e):function(i,s){const o=oN(i,s),a=lN(o)+lN(i.Ie);return WE(o)&&WE(i.Ie)?iN(a):rN(i.serializer,a)}(t,e)}function Vce(t,e,n){return t instanceof ec?aN(t,e):t instanceof tc?cN(t,e):n}function oN(t,e){return t instanceof iu?WE(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class ru extends Q1{}class ec extends Q1{constructor(e){super(),this.elements=e}}function aN(t,e){const n=uN(e);for(const r of t.elements)n.some(i=>ms(i,r))||n.push(r);return{arrayValue:{values:n}}}class tc extends Q1{constructor(e){super(),this.elements=e}}function cN(t,e){let n=uN(e);for(const r of t.elements)n=n.filter(i=>!ms(i,r));return{arrayValue:{values:n}}}class iu extends Q1{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lN(t){return sn(t.integerValue||t.doubleValue)}function uN(t){return gh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Bce{constructor(e,n){this.version=e,this.transformResults=n}}class qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qt}static exists(e){return new qt(void 0,e)}static updateTime(e){return new qt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function X1(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class J1{}function dN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ou(t.key,qt.none()):new su(t.key,t.data,qt.none());{const n=t.data,r=Jn.empty();let i=new wt(Gt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new oo(t.key,r,new zr(i.toArray()),qt.none())}}function Hce(t,e,n){t instanceof su?function(i,s,o){const a=i.value.clone(),c=pN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof oo?function(i,s,o){if(!X1(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(hN(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function bh(t,e,n,r){return t instanceof su?function(s,o,a,c){if(!X1(s.precondition,o))return a;const l=s.value.clone(),u=gN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof oo?function(s,o,a,c){if(!X1(s.precondition,o))return a;const l=gN(s.fieldTransforms,c,o),u=o.data;return u.setAll(hN(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,X1(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function zce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=oN(r.transform,i||null);null!=s&&(null===n&&(n=Jn.empty()),n.set(r.field,s))}return n||null}function fN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Kl(r,i,(s,o)=>function Lce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof ec&&i instanceof ec||r instanceof tc&&i instanceof tc?Kl(r.elements,i.elements,ms):r instanceof iu&&i instanceof iu?ms(r.Ie,i.Ie):r instanceof ru&&i instanceof ru);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class su extends J1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class oo extends J1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pN(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Vce(o,a,n[i]))}return r}function gN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Fce(s,o,e))}return r}class ou extends J1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t8 extends J1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class n8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Hce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=dN(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Kl(this.mutations,e.mutations,(n,r)=>fN(n,r))&&Kl(this.baseMutations,e.baseMutations,(n,r)=>fN(n,r))}}class r8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=kce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new r8(e,n,r,i)}}class i8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jce{constructor(e,n){this.count=e,this.unchangedNames=n}}var xn,ut;function _N(t){if(void 0===t)return fn("GRPC error has no .code"),H.UNKNOWN;switch(t){case xn.OK:return H.OK;case xn.CANCELLED:return H.CANCELLED;case xn.UNKNOWN:return H.UNKNOWN;case xn.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case xn.INTERNAL:return H.INTERNAL;case xn.UNAVAILABLE:return H.UNAVAILABLE;case xn.UNAUTHENTICATED:return H.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case xn.NOT_FOUND:return H.NOT_FOUND;case xn.ALREADY_EXISTS:return H.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return H.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case xn.ABORTED:return H.ABORTED;case xn.OUT_OF_RANGE:return H.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return H.UNIMPLEMENTED;case xn.DATA_LOSS:return H.DATA_LOSS;default:return Ae()}}(ut=xn||(xn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";const $ce=new Gl([4294967295,4294967295],0);function yN(t){const e=function vN(){return new TextEncoder}().encode(t),n=new Bae;return n.update(e),new Uint8Array(n.digest())}function EN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gl([n,r],0),new Gl([i,s],0)]}class s8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wh(`Invalid padding: ${n}`);if(r<0)throw new wh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new wh(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new wh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Gl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Gl.fromNumber(r)));return 1===i.compare($ce)&&(i=new Gl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=yN(e),[r,i]=EN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new s8(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=yN(e),[r,i]=EN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ah(Me.min(),i,new Ft(ze),Ur(),Qe())}}class Th{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Th(r,n,Qe(),Qe(),Qe())}}class em{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class xN{constructor(e,n){this.targetId=e,this.fe=n}}class CN{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class IN{constructor(){this.ge=0,this.pe=wN(),this.ye=Sn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae()}}),new Th(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=wN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Gce{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ur(),this.Qe=bN(),this.Ke=new Ft(ze)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(W1(s))if(0===r){const o=new ge(s.path);this.We(n,o,Bt.newNoDocument(o,Me.min()))}else Se(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ro(r).toUint8Array()}catch(c){if(c instanceof Sk)return ti("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new s8(o,i,s)}catch(c){return ti(c instanceof wh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&W1(a.target)){const c=new ge(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,Bt.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Qe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ah(e,n,this.Ke,this.qe,r);return this.qe=Ur(),this.Qe=bN(),this.Ke=new Ft(ze),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new IN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new wt(ze),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new IN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bN(){return new Ft(ge.comparator)}function wN(){return new Ft(ge.comparator)}const qce={asc:"ASCENDING",desc:"DESCENDING"},Wce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kce={and:"AND",or:"OR"};class Yce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function o8(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function au(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qce(t,e){return au(t,e.toTimestamp())}function hn(t){return Se(!!t),Me.fromTimestamp(function(n){const r=qo(n);return new Xt(r.seconds,r.nanos)}(t))}function a8(t,e){return(r=t,new lt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function TN(t){const e=lt.fromString(t);return Se(FN(e)),e}function Dh(t,e){return a8(t.databaseId,e.path)}function vs(t,e){const n=TN(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(SN(n))}function c8(t,e){return a8(t.databaseId,e)}function Sh(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SN(t){return Se(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function RN(t,e,n){return{name:Dh(t,e),fields:n.value.mapValue.fields}}function MN(t,e){return{documents:[c8(t,e.path)]}}function u8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=c8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=c8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return ON(xt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:Xo((d=l).field),direction:tle(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=o8(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function kN(t){let e=function DN(t){const e=TN(t);return 4===e.length?lt.emptyPath():SN(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=NN(d);return f instanceof xt&&YE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>{return new _h(cu((p=f).field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,dh(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new Qo((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new Qo(d.values||[],!d.before)}(n.endAt)),function Kk(t,e,n,r,i,s,o,a){return new io(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function NN(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cu(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cu(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cu(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cu(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):void 0!==t.fieldFilter?rt.create(cu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return xt.create(n.compositeFilter.filters.map(r=>NN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae();var n}function tle(t){return qce[t]}function nle(t){return Wce[t]}function rle(t){return Kce[t]}function Xo(t){return{fieldPath:t.canonicalString()}}function cu(t){return Gt.fromServerFormat(t.fieldPath)}function ON(t){return t instanceof rt?function(n){if("=="===n.op){if(Mk(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NAN"}};if(Pk(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Mk(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NAN"}};if(Pk(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(n.field),op:nle(n.op),value:n.value}}}(t):t instanceof xt?function(n){const r=n.getFilters().map(i=>ON(i));return 1===r.length?r[0]:{compositeFilter:{op:rle(n.op),filters:r}}}(t):Ae()}function ile(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FN(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ao{constructor(e,n,r,i,s=Me.min(),o=Me.min(),a=Sn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class VN{constructor(e){this.ut=e}}function d8(t){const e=kN({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Y1(e,e.limit,"L"):e}class sc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(sn(e.integerValue));else if("doubleValue"in e){const r=sn(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),fh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(ro(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?kk(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Ae()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ge.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}sc.St=new sc;class fle{constructor(){this.on=new _8}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(ni.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class _8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wt(lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(lt.comparator)).toArray()}}new Uint8Array(0);class fr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(41943040,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);class ac{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ac(0)}static Nn(){return new ac(-1)}}class vle{constructor(){this.changes=new so(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class uO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&bh(r.mutation,i,zr.empty(),Xt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=_s();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=xh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ur();const o=Ch(),a=Ch();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof oo)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),bh(u.mutation,l,u.mutation.getFieldMask(),Xt.now())):o.set(l.key,zr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new xle(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ch();let i=new Ft((o,a)=>o-a),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||zr.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Qe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=nN();u.forEach(f=>{if(!s.has(f)){const h=dN(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ge.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):JE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(_s());let a=-1,c=s;return o.next(l=>M.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Qe())).next(u=>({batchId:a,changes:tN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=xh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=xh();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,c=>{const l=(d=n,f=c.child(s),new io(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,Bt.newInvalidDocument(u)))});let a=xh();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&bh(u.mutation,l,zr.empty(),Xt.now()),Eh(n,l)&&(a=a.insert(c,l))}),a})}}class Cle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:hn(i.createTime)}),M.resolve();var i}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:d8(i.bundledQuery),readTime:hn(i.readTime)}),M.resolve();var i}}class Ile{constructor(){this.overlays=new Ft(ge.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_s();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=_s(),s=n.length+1,o=new ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ft((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=_s(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=_s(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return M.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new i8(n,r));let s=this.lr.get(n);void 0===s&&(s=Qe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class v8{constructor(){this.hr=new wt(Ln.Pr),this.Ir=new wt(Ln.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ln(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ln(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ge(new lt([])),r=new Ln(n,e),i=new Ln(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ge(new lt([])),r=new Ln(n,e),i=new Ln(n,e+1);let s=Qe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ln(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ln{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ge.comparator(e.key,n.key)||ze(e.gr,n.gr)}static Tr(e,n){return ze(e.gr,n.gr)||ge.comparator(e.key,n.key)}}class ble{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new wt(Ln.Pr)}checkEmpty(e){return M.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new n8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Ln(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ln(n,0),i=new Ln(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(ze);return n.forEach(i=>{const s=new Ln(i,0),o=new Ln(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ge.isDocumentKey(s)||(s=s.child(""));const o=new Ln(new ge(s),0);let a=new wt(ze);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),M.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Se(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,i=>{const s=new Ln(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ln(n,0),i=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wle{constructor(e){this.Cr=e,this.docs=new Ft(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ur();const o=n.path,a=new ge(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||UE(mk(u),r)<=0||(i.has(u.key)||Eh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ae()}vr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ale(this)}getSize(e){return M.resolve(this.size)}}class Ale extends vle{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Tle{constructor(e){this.persistence=e,this.Fr=new so(n=>Za(n),vh),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Mr=0,this.Or=new v8,this.targetCount=0,this.Nr=ac.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ac(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}}class y8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new ri(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Tle(this),this.indexManager=new fle,this.remoteDocumentCache=new wle(r=>this.referenceDelegate.Qr(r)),this.serializer=new VN(n),this.Kr=new Cle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ile,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ble(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new Dle(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Dle extends Qae{constructor(e){super(),this.currentSequenceNumber=e}}class cm{constructor(e){this.persistence=e,this.Gr=new v8,this.zr=null}static jr(e){return new cm(e)}get Hr(){if(this.zr)return this.zr;throw Ae()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const i=ge.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Me.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class I8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new I8(e,n.fromCache,r,i)}}class Rle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Rle;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Wl()<=ot.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",nu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),M.resolve()):(Wl()<=ot.DEBUG&&te("QueryEngine","Query:",nu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Wl()<=ot.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",nu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):M.resolve())}zi(e,n){if(Yk(n))return M.resolve(null);let r=Tr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Y1(n,null,"F"),r=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Qe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,Y1(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return Yk(n)||i.isEqual(Me.min())?M.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?M.resolve(null):(Wl()<=ot.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nu(n)),this.Xi(e,o,n,function gk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(1e9===r?new Xt(n+1,0):new Xt(n,r));return new ni(i,ge.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new wt(Zk(e));return n.forEach((i,s)=>{Eh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Wl()<=ot.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",nu(n)),this.Gi.getDocumentsMatchingQuery(e,n,ni.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Ple{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ft(ze),this.ns=new so(s=>Za(s),vh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function pO(t,e){return b8.apply(this,arguments)}function b8(){return b8=y(function*(t,e){const n=pe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Qe();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),b8.apply(this,arguments)}function gO(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Nle(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pu(t,e,n){return w8.apply(this,arguments)}function w8(){return w8=y(function*(t,e,n){const r=pe(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!$o(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),w8.apply(this,arguments)}function dm(t,e,n){const r=pe(t);let i=Me.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=pe(c),f=d.ns.get(u);return void 0!==f?M.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,o,Tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Me.min(),n?s:Qe())).next(a=>(function yO(t,e,n){let r=t.rs.get(e)||Me.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function Jk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class R8{constructor(){this.activeTargetIds=function e8(){return Oce}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CO{constructor(){this.eo=new R8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new R8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vle{ro(e){}shutdown(){}}class IO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let pm=null;function M8(){return null===pm?pm=268435456+Math.round(2147483648*Math.random()):pm++,"0x"+pm.toString(16)}const Lle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ble{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const hr="WebChannelConnection";class Hle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=M8(),c=this.So(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(te("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ti("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+ql,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${Lle[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=M8();return new Promise((o,a)=>{const c=new Lae;c.setWithCredentials(!0),c.listenOnce(Oae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case BE.NO_ERROR:const u=c.getResponseJson();te(hr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case BE.TIMEOUT:te(hr,`RPC '${e}' ${s} timed out`),a(new ne(H.DEADLINE_EXCEEDED,"Request time out"));break;case BE.HTTP_ERROR:const d=c.getStatus();if(te(hr,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(v){const T=v.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(T)>=0?T:H.UNKNOWN}(h.status);a(new ne(p,h.message))}else a(new ne(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ne(H.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{te(hr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);te(hr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=M8(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kae(),a=Nae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Vae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");te(hr,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let f=!1,h=!1;const p=new Ble({co:v=>{h?te(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(te(hr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),te(hr,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},lo:()=>d.close()}),g=(v,T,I)=>{v.listen(T,B=>{try{I(B)}catch(G){setTimeout(()=>{throw G},0)}})};return g(d,L1.EventType.OPEN,()=>{h||te(hr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,L1.EventType.CLOSE,()=>{h||(h=!0,te(hr,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,L1.EventType.ERROR,v=>{h||(h=!0,ti(hr,`RPC '${e}' stream ${i} transport errored:`,v),p.Ro(new ne(H.UNAVAILABLE,"The operation could not be completed")))}),g(d,L1.EventType.MESSAGE,v=>{var T;if(!h){const I=v.data[0];Se(!!I);const G=I.error||(null===(T=I[0])||void 0===T?void 0:T.error);if(G){te(hr,`RPC '${e}' stream ${i} received error:`,G);const ue=G.status;let Pe=function(Pn){const _a=xn[Pn];if(void 0!==_a)return _N(_a)}(ue),Ke=G.message;void 0===Pe&&(Pe=H.INTERNAL,Ke="Unknown error status: "+ue+" with message "+G.message),h=!0,p.Ro(new ne(Pe,Ke)),d.close()}else te(hr,`RPC '${e}' stream ${i} received:`,I),p.Vo(I)}}),g(a,Fae.STAT_EVENT,v=>{v.stat===lk.PROXY?te(hr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===lk.NOPROXY&&te(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function gm(){return typeof document<"u"?document:null}function Lh(t){return new Yce(t,!0)}class k8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class wO{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new k8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return y(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return y(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return y(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(fn(n.toString()),fn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===H.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new ne(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(y(function*(){e.state=0,e.start()}))}o_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zle extends wO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Jce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ae(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Se(void 0===u||"string"==typeof u),Sn.fromBase64String(u||"")):(Se(void 0===u||u instanceof Uint8Array),Sn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?H.UNKNOWN:_N(l.code);return new ne(u,l.message||"")}(o);n=new CN(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=vs(t,r.document.name),s=hn(r.document.updateTime),o=r.document.createTime?hn(r.document.createTime):Me.min(),a=new Jn({mapValue:{fields:r.document.fields}}),c=Bt.newFoundDocument(i,s,o,a);n=new em(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=vs(t,r.document),s=r.readTime?hn(r.readTime):Me.min(),o=Bt.newNoDocument(i,s);n=new em([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=vs(t,r.document);n=new em([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ae();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new jce(i,s);n=new xN(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?hn(o.readTime):Me.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Sh(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=W1(c)?{documents:MN(s,c)}:{query:u8(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=AN(s,o.resumeToken);const l=o8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(Me.min())>0){a.readTime=au(s,o.snapshotVersion.toTimestamp());const l=o8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function ele(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Sh(this.serializer),n.removeTarget=e,this.e_(n)}}class Ule extends wO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Zce(t,e){return t&&t.length>0?(Se(void 0!==e),t.map(n=>function(i,s){let o=hn(i.updateTime?i.updateTime:s);return o.isEqual(Me.min())&&(o=hn(s)),new Bce(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.I_(r,n)}return Se(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Sh(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Rh(t,e){let n;if(e instanceof su)n={update:RN(t,e.key,e.value)};else if(e instanceof ou)n={delete:Dh(t,e.key)};else if(e instanceof oo)n={update:RN(t,e.key,e.data),updateMask:ile(e.fieldMask)};else{if(!(e instanceof t8))return Ae();n={verify:Dh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ru)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof iu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Qce(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ae()),n;var s}(this.serializer,r))};this.e_(n)}}class jle extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ne(H.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(H.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Gle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(fn(n),this.f_=!1):te("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class qle{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(y(function*(){var c;ta(o)&&(te("RemoteStore","Restarting streams for network reachability change."),yield(c=y(function*(u){const d=pe(u);d.C_.add(4),yield gu(d),d.M_.set("Unknown"),d.C_.delete(4),yield Bh(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new Gle(r,i)}}function Bh(t){return O8.apply(this,arguments)}function O8(){return O8=y(function*(t){if(ta(t))for(const e of t.v_)yield e(!0)}),O8.apply(this,arguments)}function gu(t){return F8.apply(this,arguments)}function F8(){return F8=y(function*(t){for(const e of t.v_)yield e(!1)}),F8.apply(this,arguments)}function mm(t,e){const n=pe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),B8(n)?L8(n):_u(n).Ho()&&V8(n,e))}function Hh(t,e){const n=pe(t),r=_u(n);n.D_.delete(e),r.Ho()&&AO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():ta(n)&&n.M_.set("Unknown"))}function V8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_u(t).u_(e)}function AO(t,e){t.x_.Oe(e),_u(t).c_(e)}function L8(t){t.x_=new Gce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),_u(t).start(),t.M_.g_()}function B8(t){return ta(t)&&!_u(t).jo()&&t.D_.size>0}function ta(t){return 0===pe(t).C_.size}function TO(t){t.x_=void 0}function Wle(t){return H8.apply(this,arguments)}function H8(){return H8=y(function*(t){t.D_.forEach((e,n)=>{V8(t,e)})}),H8.apply(this,arguments)}function Kle(t,e){return z8.apply(this,arguments)}function z8(){return z8=y(function*(t,e){TO(t),B8(t)?(t.M_.w_(e),L8(t)):t.M_.set("Unknown")}),z8.apply(this,arguments)}function Yle(t,e,n){return U8.apply(this,arguments)}function U8(){return U8=y(function*(t,e,n){if(t.M_.set("Online"),e instanceof CN&&2===e.state&&e.cause)try{yield(r=y(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _m(t,r)}else if(e instanceof em?t.x_.$e(e):e instanceof xN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Me.min()))try{const r=yield gO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(Sn.EMPTY_BYTE_STRING,u.snapshotVersion)),AO(s,c);const d=new ao(u.target,c,l,u.sequenceNumber);V8(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){te("RemoteStore","Failed to raise snapshot:",r),yield _m(t,r)}var r}),U8.apply(this,arguments)}function _m(t,e,n){return j8.apply(this,arguments)}function j8(){return j8=y(function*(t,e,n){if(!$o(e))throw e;t.C_.add(1),yield gu(t),t.M_.set("Offline"),n||(n=()=>gO(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){te("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Bh(t)}))}),j8.apply(this,arguments)}function DO(t,e){return e().catch(n=>_m(t,n,e))}function mu(t){return $8.apply(this,arguments)}function $8(){return $8=y(function*(t){const e=pe(t),n=na(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Qle(e);)try{const i=yield Nle(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,Xle(e,i)}catch(i){yield _m(e,i)}SO(e)&&RO(e)}),$8.apply(this,arguments)}function Qle(t){return ta(t)&&t.b_.length<10}function Xle(t,e){t.b_.push(e);const n=na(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function SO(t){return ta(t)&&!na(t).jo()&&t.b_.length>0}function RO(t){na(t).start()}function Jle(t){return G8.apply(this,arguments)}function G8(){return G8=y(function*(t){na(t).E_()}),G8.apply(this,arguments)}function Zle(t){return q8.apply(this,arguments)}function q8(){return q8=y(function*(t){const e=na(t);for(const n of t.b_)e.P_(n.mutations)}),q8.apply(this,arguments)}function eue(t,e,n){return W8.apply(this,arguments)}function W8(){return W8=y(function*(t,e,n){const r=t.b_.shift(),i=r8.from(r,e,n);yield DO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mu(t)}),W8.apply(this,arguments)}function tue(t,e){return K8.apply(this,arguments)}function K8(){return K8=y(function*(t,e){var n;e&&na(t).h_&&(yield(n=y(function*(i,s){if(function mN(t){switch(t){default:return Ae();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}(a=s.code)&&a!==H.ABORTED){const o=i.b_.shift();na(i).Yo(),yield DO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield mu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),SO(t)&&RO(t)}),K8.apply(this,arguments)}function PO(t,e){return Y8.apply(this,arguments)}function Y8(){return Y8=y(function*(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=ta(n);n.C_.add(3),yield gu(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Bh(n)}),Y8.apply(this,arguments)}function X8(){return X8=y(function*(t,e){const n=pe(t);e?(n.C_.delete(2),yield Bh(n)):e||(n.C_.add(2),yield gu(n),n.M_.set("Unknown"))}),X8.apply(this,arguments)}function _u(t){return t.O_||(t.O_=function(n,r,i){const s=pe(n);return s.A_(),new zle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Wle.bind(null,t),Io:Kle.bind(null,t),a_:Yle.bind(null,t)}),t.v_.push(function(){var e=y(function*(n){n?(t.O_.Yo(),B8(t)?L8(t):t.M_.set("Unknown")):(yield t.O_.stop(),TO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function na(t){return t.N_||(t.N_=function(n,r,i){const s=pe(n);return s.A_(),new Ule(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:Jle.bind(null,t),Io:tue.bind(null,t),T_:Zle.bind(null,t),I_:eue.bind(null,t)}),t.v_.push(function(){var e=y(function*(n){n?(t.N_.Yo(),yield mu(t)):(yield t.N_.stop(),t.b_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class J8{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new J8(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ne(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vu(t,e){if(fn("AsyncQueue",`${e}: ${t}`),$o(t))return new ne(H.UNAVAILABLE,`${e}: ${t}`);throw t}class yu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=xh(),this.sortedSet=new Ft(this.comparator)}static emptySet(e){return new yu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class MO{constructor(){this.B_=new Ft(ge.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ae():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Eu{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Eu(e,n,yu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class nue{constructor(){this.k_=void 0,this.listeners=[]}}class rue{constructor(){this.queries=new so(e=>Xk(e),yh),this.onlineState="Unknown",this.q_=new Set}}function ex(){return ex=y(function*(t,e){const n=pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new nue),i)try{s.k_=yield n.onListen(r)}catch(o){const a=vu(o,`Initialization of query '${nu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&rx(n)}),ex.apply(this,arguments)}function nx(){return nx=y(function*(t,e){const n=pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),nx.apply(this,arguments)}function iue(t,e){const n=pe(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&rx(n)}function sue(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function rx(t){t.q_.forEach(e=>{e.next()})}class ix{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class OO{constructor(e){this.key=e}}class FO{constructor(e){this.key=e}}class VO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Qe(),this.mutatedKeys=Qe(),this._a=Zk(e),this.aa=new yu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new MO,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=Eh(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),v=!0):this.ha(f,h)||(r.track({type:2,doc:h}),v=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),v=!0):f&&!h&&(r.track({type:1,doc:f}),v=!0,(c||l)&&(a=!0)),v&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new Eu(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new MO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Qe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new FO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new OO(r))}),n}da(e){this.ia=e.ls,this.oa=Qe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Eu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class cue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lue{constructor(e){this.key=e,this.Ra=!1}}class uue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new so(a=>Xk(a),yh),this.fa=new Map,this.ga=new Set,this.pa=new Ft(ge.comparator),this.ya=new Map,this.wa=new v8,this.Sa={},this.ba=new Map,this.Da=ac.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function due(t,e){return sx.apply(this,arguments)}function sx(){return sx=y(function*(t,e){const n=function Dx(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pue.bind(null,e),e.Va.a_=iue.bind(null,e.eventManager),e.Va.Fa=sue.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function hu(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new ao(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Tr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function ox(t,e,n,r,i){return ax.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&mm(n.remoteStore,o)}return i}),sx.apply(this,arguments)}function ax(){return ax=y(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=y(function*(v,T,I,B){let G=T.view.ca(I);G.Zi&&(G=yield dm(v.localStore,T.query,!1).then(({documents:Ke})=>T.view.ca(Ke,G)));const ue=B&&B.targetChanges.get(T.targetId),Pe=T.view.applyChanges(G,v.isPrimaryClient,ue);return _x(v,T.targetId,Pe.Ta),Pe.snapshot}),function g(v,T,I,B){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield dm(t.localStore,e,!0),o=new VO(e,s.ls),a=o.ca(s.documents),c=Th.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);_x(t,n,l.Ta);const u=new cue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),ax.apply(this,arguments)}function fue(t,e){return cx.apply(this,arguments)}function cx(){return cx=y(function*(t,e){const n=pe(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!yh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hh(n.remoteStore,r.targetId),xu(n,r.targetId)}).catch(jo))):(xu(n,r.targetId),yield pu(n.localStore,r.targetId,!0))}),cx.apply(this,arguments)}function lx(){return lx=y(function*(t,e,n){const r=function Sx(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mue.bind(null,e),e}(t);try{const i=yield function(o,a){const c=pe(o),l=Xt.now(),u=a.reduce((h,p)=>h.add(p.key),Qe());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ur(),g=Qe();return c.ss.getEntries(h,u).next(v=>{p=v,p.forEach((T,I)=>{I.isValidDocument()||(g=g.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(v=>{d=v;const T=[];for(const I of a){const B=zce(I,d.get(I.key).overlayedDocument);null!=B&&T.push(new oo(I.key,B,Fk(B.value.mapValue),qt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,T,a)}).next(v=>{f=v;const T=v.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,v.batchId,T)})}).then(()=>({batchId:f.batchId,changes:tN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Ft(ze)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield co(r,i.changes),yield mu(r.remoteStore)}catch(i){const s=vu(i,"Failed to persist write");n.reject(s)}}),lx.apply(this,arguments)}function LO(t,e){return ux.apply(this,arguments)}function ux(){return ux=y(function*(t,e){const n=pe(t);try{const r=yield function kle(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var g,v,T;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Sn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),v=h,T=u,(0===(g=f).resumeToken.approximateByteSize()||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,h))});let c=Ur(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function mO(t,e,n){let r=Qe(),i=Qe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ur();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Me.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(Me.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Se(o.Ra):i.removedDocuments.size>0&&(Se(o.Ra),o.Ra=!1))}),yield co(n,r,e)}catch(r){yield jo(r)}}),ux.apply(this,arguments)}function BO(t,e,n){const r=pe(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=pe(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&rx(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pue(t,e,n){return dx.apply(this,arguments)}function dx(){return dx=y(function*(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Ft(ge.comparator);o=o.insert(s,Bt.newNoDocument(s,Me.min()));const a=Qe().add(s),c=new Ah(Me.min(),new Map,new Ft(ze),o,a);yield LO(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),vx(r)}else yield pu(r.localStore,e,!1).then(()=>xu(r,e,n)).catch(jo)}),dx.apply(this,arguments)}function gue(t,e){return fx.apply(this,arguments)}function fx(){return fx=y(function*(t,e){const n=pe(t),r=e.batch.batchId;try{const i=yield function Mle(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=M.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const v=l.docVersions.get(p);Se(null!==v),g.version.compareTo(v)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);mx(n,r,null),gx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield co(n,i)}catch(i){yield jo(i)}}),fx.apply(this,arguments)}function mue(t,e,n){return hx.apply(this,arguments)}function hx(){return hx=y(function*(t,e,n){const r=pe(t);try{const i=yield function(o,a){const c=pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Se(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);mx(r,e,n),gx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield co(r,i)}catch(i){yield jo(i)}}),hx.apply(this,arguments)}function gx(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function mx(t,e,n){const r=pe(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function xu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||HO(t,r)})}function HO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Hh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),vx(t))}function _x(t,e,n){for(const r of n)r instanceof OO?(t.wa.addReference(r.key,e),vue(t,r)):r instanceof FO?(te("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||HO(t,r.key)):Ae()}function vue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(te("SyncEngine","New document in limbo: "+n),t.ga.add(r),vx(t))}function vx(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ge(lt.fromString(e)),r=t.Da.next();t.ya.set(r,new lue(n)),t.pa=t.pa.insert(n,r),mm(t.remoteStore,new ao(Tr(eu(n.path)),r,"TargetPurposeLimboResolution",ri._e))}}function co(t,e,n){return yx.apply(this,arguments)}function yx(){return yx=y(function*(t,e,n){const r=pe(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=I8.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=y(function*(l,u){const d=pe(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(u,h=>M.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>M.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!$o(f))throw f;te("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),v=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,v)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),yx.apply(this,arguments)}function yue(t,e){return Ex.apply(this,arguments)}function Ex(){return Ex=y(function*(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=yield pO(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new ne(H.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield co(n,r._s)}var s}),Ex.apply(this,arguments)}function Eue(t,e){const n=pe(t),r=n.ya.get(e);if(r&&r.Ra)return Qe().add(r.key);{let i=Qe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class vm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=Lh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function hO(t,e,n,r){return new Ple(t,e,n,r)}(this.persistence,new fO,e.initialUser,this.serializer)}createPersistence(e){return new y8(cm.jr,this.serializer)}createSharedClientState(e){return new CO}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cu{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>BO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=yue.bind(null,r.syncEngine),yield function Q8(t,e){return X8.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new rue}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),r=new Hle(e.databaseInfo);return new jle(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>BO(this.syncEngine,n,0),a=IO.D()?new IO:new Vle,new qle(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new uue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=y(function*(r){const i=pe(r);te("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield gu(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class ym{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):fn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class kue{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fn.UNAUTHENTICATED,this.clientId=hk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){te("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=vu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Em(t,e){return Rx.apply(this,arguments)}function Rx(){return Rx=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield pO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Rx.apply(this,arguments)}function Px(t,e){return Mx.apply(this,arguments)}function Mx(){return Mx=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function kx(t){return Nx.apply(this,arguments)}(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>PO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>PO(e.remoteStore,s)),t._onlineComponents=e}),Mx.apply(this,arguments)}function Nx(){return Nx=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Em(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function qO(t){return"FirebaseError"===t.name?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ti("Error using user provided cache. Falling back to memory cache: "+n),yield Em(t,new vm)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield Em(t,new vm);return t._offlineComponents}),Nx.apply(this,arguments)}function xm(t){return Ox.apply(this,arguments)}function Ox(){return Ox=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield Px(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield Px(t,new Cu))),t._onlineComponents}),Ox.apply(this,arguments)}function bu(t){return Vx.apply(this,arguments)}function Vx(){return Vx=y(function*(t){const e=yield xm(t),n=e.eventManager;return n.onListen=due.bind(null,e.syncEngine),n.onUnlisten=fue.bind(null,e.syncEngine),n}),Vx.apply(this,arguments)}function JO(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const ZO=new Map;function Lx(t,e,n){if(!n)throw new ne(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eF(t){if(!ge.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tF(t){if(ge.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Ae()}function it(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cm(t);throw new ne(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class rF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ne(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ne(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $ue(t,e,n,r){if(!0===e&&!0===r)throw new ne(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=JO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ne(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Hae;switch(r.type){case"firstParty":return new $ae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ZO.get(n);r&&(te("ComponentProvider","Removing Datastore"),ZO.delete(n),r.terminate())}(this),Promise.resolve()}}class Zn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zn(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class ys extends Zn{constructor(e,n,r){super(e,n,eu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new ge(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function que(t,e,...n){if(t=tn(t),Lx("collection","path",e),t instanceof zh){const r=lt.fromString(e,...n);return tF(r),new ys(t,null,r)}{if(!(t instanceof pn||t instanceof ys))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return tF(r),new ys(t.firestore,null,r)}}function iF(t,e,...n){if(t=tn(t),1===arguments.length&&(e=hk.newId()),Lx("doc","path",e),t instanceof zh){const r=lt.fromString(e,...n);return eF(r),new pn(t,null,new ge(r))}{if(!(t instanceof pn||t instanceof ys))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return eF(r),new pn(t.firestore,t instanceof ys?t.converter:null,new ge(r))}}class Wue{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new k8(this,"async_queue_retry"),this.iu=()=>{const n=gm();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=gm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=gm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Dn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return y(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!$o(n))throw n;te("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,fn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=J8.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Ae()}verifyOperationInProgress(){}uu(){var e=this;return y(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Bx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Vt extends zh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Wue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oF(this),this._firestoreClient.terminate()}}function Yue(t,e){const r="string"==typeof t?t:e||"(default)",i=us("object"==typeof t?t:Pl(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=f9("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function Gue(t,e,n,r={}){var i;const s=(t=it(t,zh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ti("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Fn.MOCK_USER;else{a=function Ute(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bg(JSON.stringify({alg:"none",type:"JWT"})),Bg(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ne(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fn(l)}t._authCredentials=new zae(new dk(a,c))}}(i,...s)}return i}function gn(t){return t._firestoreClient||oF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oF(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Ece(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,JO(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new kue(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class lc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lc(Sn.fromBase64String(e))}catch(n){throw new ne(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lc(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ne(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hx{constructor(e){this._methodName=e}}class zx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}const Xue=/^__.*__$/;class Jue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class lF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Im{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return wm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(uF(this.Iu)&&Xue.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Zue{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(e)}pu(e,n,r,i=!1){return new Im({Iu:e,methodName:n,gu:r,path:Gt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Au(t){const e=t._freezeSettings(),n=Lh(t._databaseId);return new Zue(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ux(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);$x("Data must be an object, but it was:",o,r);const a=gF(r,o);let c,l;if(s.merge)c=new zr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=$h(e,d,n);if(!o.contains(f))throw new ne(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);_F(u,f)||u.push(f)}c=new zr(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new Jue(new Jn(a),c,l)}class jh extends Hx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function uc(t,e){if(mF(t=tn(t)))return $x("Unsupported field value:",e,t),gF(t,e);if(t instanceof Hx)return function(r,i){if(!uF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=uc(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=tn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return sN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Xt.fromDate(r);return{timestampValue:au(i.serializer,s)}}if(r instanceof Xt){const s=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:au(i.serializer,s)}}if(r instanceof zx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lc)return{bytesValue:AN(i.serializer,r._byteString)};if(r instanceof pn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:a8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Cm(r)}`)}(t,e)}function gF(t,e){const n={};return Tk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(t,(r,i)=>{const s=uc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function mF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof zx||t instanceof lc||t instanceof pn||t instanceof Hx)}function $x(t,e,n){if(!mF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Cm(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function $h(t,e,n){if((e=tn(e))instanceof wu)return e._internalPath;if("string"==typeof e)return bm(t,e);throw wm("Field path arguments must be of type string or ",t,!1,void 0,n)}const rde=new RegExp("[~\\*/\\[\\]]");function bm(t,e,n){if(e.search(rde)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wu(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ne(H.INVALID_ARGUMENT,a+t+c)}function _F(t,e){return t.some(n=>n.isEqual(e))}class Gx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ide(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Am("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ide extends Gx{data(){return super.data()}}function Am(t,e){return"string"==typeof e?bm(t,e):e instanceof wu?e._internalPath:e._delegate._internalPath}class qx{}class yF extends qx{}function sde(t,e,...n){let r=[];e instanceof qx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Tu).length,a=s.filter(c=>c instanceof Gh).length;if(o>1||o>0&&a>0)throw new ne(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Gh extends yF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gh(e,n,r)}_apply(e){const n=this._parse(e);return IF(e._query,n),new Zn(e.firestore,e.converter,ZE(e._query,n))}_parse(e){const n=Au(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new ne(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){CF(d,u);const h=[];for(const p of d)h.push(xF(c,s,p));f={arrayValue:{values:h}}}else f=xF(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||CF(d,u),f=function pF(t,e,n,r=!1){return uc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return rt.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function ode(t,e,n){const r=e,i=Am("where",t);return Gh._create(i,r,n)}class Tu extends qx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:xt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)IF(o,c),o=ZE(o,c)}(e._query,n),new Zn(e.firestore,e.converter,ZE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Tm extends yF{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Tm(e,n,r)}_apply(e){return new Zn(e.firestore,e.converter,Y1(e._query,this._limit,this._limitType))}}function ade(t){return function nF(t,e){if(e<=0)throw new ne(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Tm._create("limit",t,"F")}function xF(t,e,n){if("string"==typeof(n=tn(n))){if(""===n)throw new ne(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JE(e)&&-1!==n.indexOf("/"))throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!ge.isDocumentKey(r))throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ja(t,new ge(r))}if(n instanceof pn)return Ja(t,n._key);throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(n)}.`)}function CF(t,e){if(!Array.isArray(t)||0===t.length)throw new ne(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ne(H.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cde{convertValue(e,n="none"){switch(Ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Go(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new zx(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=j1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const n=qo(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Se(FN(r));const i=new Xa(r.get(1),r.get(3)),s=new ge(r.popFirst(5));return i.isEqual(n)||fn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Du extends Gx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Am("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rm extends Du{data(e={}){return super.data(e)}}class Su{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rm(this._firestore,this._userDataWriter,r.key,r,new dc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Rm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new Rm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new dc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:ude(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ude(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class ra extends cde{constructor(e){super(),this.firestore=e}convertBytes(e){return new lc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function dde(t,e,n){t=it(t,pn);const r=it(t.firestore,Vt),i=function Kx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return qh(r,[Ux(Au(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,qt.none())])}function fde(t,e,n,...r){t=it(t,pn);const i=it(t.firestore,Vt),s=Au(i);let o;return o="string"==typeof(e=tn(e))||e instanceof wu?function hF(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[$h(e,r,n)],c=[i];if(s.length%2!=0)throw new ne(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push($h(e,s[f])),c.push(s[f+1]);const l=[],u=Jn.empty();for(let f=a.length-1;f>=0;--f)if(!_F(l,a[f])){const h=a[f];let p=c[f];p=tn(p);const g=o.Ru(h);if(p instanceof jh)l.push(h);else{const v=uc(p,g);null!=v&&(l.push(h),u.set(h,v))}}const d=new zr(l);return new lF(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function fF(t,e,n,r){const i=t.pu(1,e,n);$x("Data must be an object, but it was:",i,r);const s=[],o=Jn.empty();Go(r,(c,l)=>{const u=bm(e,c,n);l=tn(l);const d=i.Ru(u);if(l instanceof jh)s.push(u);else{const f=uc(l,d);null!=f&&(s.push(u),o.set(u,f))}});const a=new zr(s);return new lF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),qh(i,[o.toMutation(t._key,qt.exists(!0))])}function qh(t,e){return function(r,i){const s=new Dn;return r.asyncQueue.enqueueAndForget(y(function*(){return function hue(t,e,n){return lx.apply(this,arguments)}(yield function Fx(t){return xm(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(gn(t),e)}!function(e,n=!0){ql=Rl,vi(new Jr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Vt(new Uae(r.getProvider("auth-internal")),new Gae(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ne(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),nn(uk,"4.3.2",e),nn(uk,"4.3.2","esm2017")}();var km=function(){return km=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},km.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Ade={includeMetadataChanges:!1};function Jx(t,e){return void 0===e&&(e=Ade),new de(function(n){var r=function hde(t,...e){var n,r,i;t=tn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Bx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Bx(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof pn)l=it(t.firestore,Vt),u=eu(t._key.path),c={next:d=>{e[o]&&e[o](function Yx(t,e,n){const r=n.docs.get(e._key),i=new ra(t);return new Du(t,i,e._key,r,new dc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=it(t,Zn);l=it(d.firestore,Vt),u=d._query;const f=new ra(l);c={next:h=>{e[o]&&e[o](new Su(l,f,d,h))},error:e[o+1],complete:e[o+2]},function vF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ne(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const v=new ym(g),T=new ix(h,v,p);return f.asyncQueue.enqueueAndForget(y(function*(){return function Z8(t,e){return ex.apply(this,arguments)}(yield bu(f),T)})),()=>{v.Na(),f.asyncQueue.enqueueAndForget(y(function*(){return function tx(t,e){return nx.apply(this,arguments)}(yield bu(f),T)}))}}(gn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Dde(t,e){return void 0===e&&(e={}),function Tde(t){return Jx(t,{includeMetadataChanges:!0})}(t).pipe(Ye(function(n){return DF(n,e)}))}function DF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?km(km({},r),((n={})[e.idField]=t.id,n)):r}function Nde(t,e){return void 0===e&&(e={}),function kde(t){return Jx(t,{includeMetadataChanges:!0}).pipe(Ye(function(e){return e.docs}))}(t).pipe(Ye(function(n){return n.map(function(r){return DF(r,e)})}))}class lo{constructor(e){return e}}const MF="firestore",tC=new ye("angularfire2.firestore-instances");function Lde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new lo(r)}}const Bde={provide:class Fde{constructor(){return Wg(MF)}},deps:[[new un,tC]]},Hde={provide:lo,useFactory:function Vde(t,e){const n=qg(MF,t,e);return n&&new lo(n)},deps:[[new un,tC],Ha]};let zde=(()=>{var t;class e{constructor(){nn("angularfire",No.full,"fst")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Pt({type:t})),gt(e,"\u0275inj",Tt({providers:[Hde,Bde]})),e})();function fc(t,...e){return{ngModule:zde,providers:[{provide:tC,useFactory:Lde(t),multi:!0,deps:[dt,wn,Af,Tf,[new un,qP],[new un,U4],...e]}]}}const Nm=vn(Nde,!0),Om=vn(Dde,!0),Es=vn(que,!0),Ui=vn(iF,!0),hc=vn(Yue,!0),kF=vn(ade,!0),nC=vn(sde,!0),Fm=vn(dde,!0),rC=vn(fde,!0),iC=vn(ode,!0);class Vm{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Ru,sC=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(sC||{}),Ct=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.LOCAL_VERSION="local-version",t.REMOTE_VERSION="remote-version",t.PLAYERS_STATS="players-stats",t.LAST_UPDATE_TURN="last-update-turn",t}(Ct||{});class oC{constructor(e,n){this._value=JSON.stringify(e),this._ttl=n,this._expiry=Date.now()+n}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{ttl:this.ttl,expiry:this.expiry,value:this.value}}}class xs{cache(e,n,r=0){const i=new oC(n,r);localStorage.setItem(e,JSON.stringify(i))}get(e,n=!0){const r=localStorage.getItem(e);if(!r)return null;const i=Object.assign(oC,JSON.parse(r));return i.ttl>0&&Date.now()>i.expiry&&n?(localStorage.removeItem(e),null):JSON.parse(i.value)}isExpired(e){const n=localStorage.getItem(e);if(!n)return!0;const r=Object.assign(oC,JSON.parse(n));return r.ttl>0&&Date.now()>r.expiry}remove(e){localStorage.removeItem(e)}}(Ru=xs).\u0275fac=function(e){return new(e||Ru)},Ru.\u0275prov=be({token:Ru,factory:Ru.\u0275fac,providedIn:"platform"}),mn([Ii(2,un())],xs.prototype,"cache",null),mn([Ii(1,un())],xs.prototype,"get",null);var Pu,aC=V(874);class pc{constructor(){this.localStorageService=K(xs),this._authState=new bt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(Ct.USER))return!1;let n=this.localStorageService.get(Ct.USER).session.timeToken,r=this.localStorageService.get(Ct.USER).session.refreshToken,i=Date.parse(aC.AES.decrypt(n,r).toString(aC.enc.Utf8)),s=Date.now()-i<=6048e5;return s&&e&&this._authState.emit(new Vm(s,this.localStorageService.get(Ct.USER).session.role)),s}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(Ct.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=WP(e).subscribe(r=>{null!=r?Nm(nC(Es(n,"valid-users"),iC("email","==",r.email),kF(1))).subscribe(i=>{if(i.length>0){let s=Object.assign({email:"",enabled:!1,role:sC.USER},i[0]);s.enabled?(this.localStorageService.cache(Ct.USER,{session:{timeToken:aC.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:s.role}}),this._authState.emit(new Vm(!0,s.role)),location.reload()):this.signOut(e)}else this.signOut(e)}):(this.localStorageService.remove(Ct.USER),this._authState.emit(new Vm(!1,null)))})}}signInWithEmailAndPassword(e,n,r){Poe(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){Moe(e,new Die).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(Ct.USER),this._refreshInProgress=!0,this._authState.emit(new Vm(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().then(()=>{location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function Cs(t,e){return Fe((n,r)=>{let i=0;n.subscribe(et(r,s=>t.call(e,s,i++)&&r.next(s)))})}function cC(...t){return function jde(){return Q0(1)}()(zn(t,ad(t)))}function NF(...t){const e=ad(t);return Fe((n,r)=>{(e?cC(t,n,e):cC(t,n)).subscribe(r)})}(Pu=pc).\u0275fac=function(e){return new(e||Pu)},Pu.\u0275prov=be({token:Pu,factory:Pu.\u0275fac,providedIn:"platform"}),mn([Ii(0,un())],pc.prototype,"checkLoginValidity",null);const Gde=(t,e)=>e.some(n=>t instanceof n);let OF,FF;const VF=new WeakMap,lC=new WeakMap,LF=new WeakMap,uC=new WeakMap,dC=new WeakMap;let fC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return lC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||LF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ia(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Jde(t){return"function"==typeof t?function Xde(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Wde(){return FF||(FF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(hC(this),e),ia(VF.get(this))}:function(...e){return ia(t.apply(hC(this),e))}:function(e,...n){const r=t.call(hC(this),e,...n);return LF.set(r,e.sort?e.sort():[e]),ia(r)}}(t):(t instanceof IDBTransaction&&function Yde(t){if(lC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lC.set(t,e)}(t),Gde(t,function qde(){return OF||(OF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,fC):t)}function ia(t){if(t instanceof IDBRequest)return function Kde(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ia(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VF.set(n,t)}).catch(()=>{}),dC.set(e,t),e}(t);if(uC.has(t))return uC.get(t);const e=Jde(t);return e!==t&&(uC.set(t,e),dC.set(e,t)),e}const hC=t=>dC.get(t),efe=["get","getKey","getAll","getAllKeys","count"],tfe=["put","add","delete","clear"],pC=new Map;function BF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(pC.get(e))return pC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tfe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!efe.includes(n))return;const s=function(){var o=y(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return pC.set(e,s),s}!function Qde(t){fC=t(fC)}(t=>({...t,get:(e,n,r)=>BF(e,n)||t.get(e,n,r),has:(e,n)=>!!BF(e,n)||t.has(e,n)}));const HF="@firebase/installations",gC="0.6.4",zF=1e4,UF=`w:${gC}`,jF="FIS_v2",nfe="https://firebaseinstallations.googleapis.com/v1",rfe=36e5,uo=new Mo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $F(t){return t instanceof Li&&t.code.includes("request-failed")}function mC({projectId:t}){return`${nfe}/projects/${t}/installations`}function GF(t){return{token:t.token,requestStatus:2,expiresIn:afe(t.expiresIn),creationTime:Date.now()}}function _C(t,e){return vC.apply(this,arguments)}function vC(){return vC=y(function*(t,e){const r=(yield e.json()).error;return uo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),vC.apply(this,arguments)}function qF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yC(t){return EC.apply(this,arguments)}function EC(){return EC=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),EC.apply(this,arguments)}function afe(t){return Number(t.replace("s","000"))}function xC(){return xC=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=mC(t),i=qF(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:jF,appId:t.appId,sdkVersion:UF})},c=yield yC(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:GF(l.authToken)}}throw yield _C("Create Installation",c)}),xC.apply(this,arguments)}function KF(t){return new Promise(e=>{setTimeout(e,t)})}const dfe=/^[cdef][\w-]{21}$/,CC="";function ffe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function hfe(t){return function ufe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return dfe.test(n)?n:CC}catch{return CC}}function Mu(t){return`${t.appName}!${t.appId}`}const ku=new Map;function YF(t,e){const n=Mu(t);QF(n,e),function mfe(t,e){const n=function XF(){return!gc&&"BroadcastChannel"in self&&(gc=new BroadcastChannel("[Firebase] FID Change"),gc.onmessage=t=>{QF(t.data.key,t.data.fid)}),gc}();n&&n.postMessage({key:t,fid:e}),function JF(){0===ku.size&&gc&&(gc.close(),gc=null)}()}(n,e)}function QF(t,e){const n=ku.get(t);if(n)for(const r of n)r(e)}let gc=null;const _fe="firebase-installations-database",vfe=1,mc="firebase-installations-store";let IC=null;function bC(){return IC||(IC=function Zde(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ia(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ia(o.result),c.oldVersion,c.newVersion,ia(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(_fe,vfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(mc)}})),IC}function Lm(t,e){return wC.apply(this,arguments)}function wC(){return wC=y(function*(t,e){const n=Mu(t),i=(yield bC()).transaction(mc,"readwrite"),s=i.objectStore(mc),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&YF(t,e.fid),e}),wC.apply(this,arguments)}function AC(t){return TC.apply(this,arguments)}function TC(){return TC=y(function*(t){const e=Mu(t),r=(yield bC()).transaction(mc,"readwrite");yield r.objectStore(mc).delete(e),yield r.done}),TC.apply(this,arguments)}function Wh(t,e){return DC.apply(this,arguments)}function DC(){return DC=y(function*(t,e){const n=Mu(t),i=(yield bC()).transaction(mc,"readwrite"),s=i.objectStore(mc),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&YF(t,a.fid),a}),DC.apply(this,arguments)}function SC(t){return RC.apply(this,arguments)}function RC(){return RC=y(function*(t){let e;const n=yield Wh(t.appConfig,r=>{const i=function yfe(t){return eV(t||{fid:ffe(),registrationStatus:0})}(r),s=function Efe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(uo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function xfe(t,e){return PC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Cfe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===CC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),RC.apply(this,arguments)}function PC(){return PC=y(function*(t,e){try{const n=yield function lfe(t,e){return xC.apply(this,arguments)}(t,e);return Lm(t.appConfig,n)}catch(n){throw $F(n)&&409===n.customData.serverCode?yield AC(t.appConfig):yield Lm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),PC.apply(this,arguments)}function Cfe(t){return MC.apply(this,arguments)}function MC(){return MC=y(function*(t){let e=yield ZF(t.appConfig);for(;1===e.registrationStatus;)yield KF(100),e=yield ZF(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield SC(t);return r||n}return e}),MC.apply(this,arguments)}function ZF(t){return Wh(t,e=>{if(!e)throw uo.create("installation-not-found");return eV(e)})}function eV(t){return function Ife(t){return 1===t.registrationStatus&&t.registrationTime+zF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function kC(){return kC=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function wfe(t,{fid:e}){return`${mC(t)}/${e}/authTokens:generate`}(t,n),i=function WF(t,{refreshToken:e}){const n=qF(t);return n.append("Authorization",function cfe(t){return`${jF} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:UF,appId:t.appId}})},c=yield yC(()=>fetch(r,a));if(c.ok)return GF(yield c.json());throw yield _C("Generate Auth Token",c)}),kC.apply(this,arguments)}function NC(t){return OC.apply(this,arguments)}function OC(){return OC=y(function*(t,e=!1){let n;const r=yield Wh(t.appConfig,s=>{if(!nV(s))throw uo.create("not-registered");const o=s.authToken;if(!e&&function Dfe(t){return 2===t.requestStatus&&!function Sfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+rfe}(t)}(o))return s;if(1===o.requestStatus)return n=function Afe(t,e){return FC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw uo.create("app-offline");const a=function Rfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Tfe(t,e){return VC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),OC.apply(this,arguments)}function FC(){return FC=y(function*(t,e){let n=yield tV(t.appConfig);for(;1===n.authToken.requestStatus;)yield KF(100),n=yield tV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?NC(t,e):r}),FC.apply(this,arguments)}function tV(t){return Wh(t,e=>{if(!nV(e))throw uo.create("not-registered");return function Pfe(t){return 1===t.requestStatus&&t.requestTime+zF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function VC(){return VC=y(function*(t,e){try{const n=yield function bfe(t,e){return kC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Lm(t.appConfig,r),n}catch(n){if(!$F(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Lm(t.appConfig,r)}else yield AC(t.appConfig);throw n}}),VC.apply(this,arguments)}function nV(t){return void 0!==t&&2===t.registrationStatus}function LC(){return LC=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield SC(e);return r?r.catch(console.error):NC(e).catch(console.error),n.fid}),LC.apply(this,arguments)}function BC(){return BC=y(function*(t,e=!1){const n=t;return yield function Nfe(t){return HC.apply(this,arguments)}(n),(yield NC(n,e)).token}),BC.apply(this,arguments)}function HC(){return HC=y(function*(t){const{registrationPromise:e}=yield SC(t);e&&(yield e)}),HC.apply(this,arguments)}function jC(t){return uo.create("missing-app-config-values",{valueName:t})}const rV="installations",Bfe=t=>{const e=t.getProvider("app").getImmediate(),n=function Vfe(t){if(!t||!t.options)throw jC("App Configuration");if(!t.name)throw jC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:us(e,"heartbeat"),_delete:()=>Promise.resolve()}},Hfe=t=>{const n=us(t.getProvider("app").getImmediate(),rV).getImmediate();return{getId:()=>function Mfe(t){return LC.apply(this,arguments)}(n),getToken:i=>function kfe(t){return BC.apply(this,arguments)}(n,i)}};(function zfe(){vi(new Jr(rV,Bfe,"PUBLIC")),vi(new Jr("installations-internal",Hfe,"PRIVATE"))})(),nn(HF,gC),nn(HF,gC,"esm2017");const Bm="analytics",Ufe="firebase_id",jfe="origin",$fe=6e4,Gfe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$C="https://www.googletagmanager.com/gtag/js",Bn=new If("@firebase/analytics"),Dr=new Mo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Wfe(t){if(!t.startsWith($C)){const e=Dr.create("invalid-gtag-resource",{gtagURL:t});return Bn.warn(e.message),""}return t}function iV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function GC(){return GC=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield iV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Bn.error(a)}t("config",i,s)}),GC.apply(this,arguments)}function qC(){return qC=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield iV(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Bn.error(s)}}),qC.apply(this,arguments)}const nhe=30,sV=new class ihe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function she(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function WC(){return WC=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:she(r)},s=Gfe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Dr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),WC.apply(this,arguments)}function KC(){return KC=y(function*(t,e=sV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Dr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Dr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new uhe;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:$fe),oV({appId:r,apiKey:i,measurementId:s},o,a,e)}),KC.apply(this,arguments)}function oV(t,e,n){return YC.apply(this,arguments)}function YC(){return YC=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=sV){var s;const{appId:o,measurementId:a}=t;try{yield function che(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Dr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function ohe(t){return WC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function lhe(t){if(!(t instanceof Li&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?S4(n,i.intervalMillis,nhe):S4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),Bn.debug(`Calling attemptFetch again in ${u} millis`),oV(t,d,r,i)}}),YC.apply(this,arguments)}class uhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let QC,rI;function XC(){return XC=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),XC.apply(this,arguments)}function ZC(){return ZC=y(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),ZC.apply(this,arguments)}function iI(){return iI=y(function*(){if(!vf())return Bn.warn(Dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield A4()}catch(t){return Bn.warn(Dr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),iI.apply(this,arguments)}function sI(){return sI=y(function*(t,e,n,r,i,s,o){var a;const c=function ahe(t){return KC.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Bn.error(h)),e.push(c);const l=function _he(){return iI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function the(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($C)&&n.src.includes(t))return n;return null})(s)||function Yfe(t,e){const n=function Kfe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Wfe}),r=document.createElement("script"),i=`${$C}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),rI&&(i("consent","default",rI),function aV(t){rI=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[jfe]="firebase",f.update=!0,null!=d&&(f[Ufe]=d),i("config",u.measurementId,f),QC&&(i("set",QC),function cV(t){QC=t}(void 0)),u.measurementId}),sI.apply(this,arguments)}class yhe{constructor(e){this.app=e}_delete(){return delete Is[this.app.options.appId],Promise.resolve()}}let Is={},lV=[];const uV={};let fV,bs,Hm="dataLayer",oI=!1;function xhe(t,e,n){!function Ehe(){const t=[];if(w4()&&t.push("This is a browser extension environment."),g9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Dr.create("invalid-analytics-context",{errorInfo:e});Bn.warn(n.message)}}();const r=t.options.appId;if(!r)throw Dr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Dr.create("no-api-key");Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Is[r])throw Dr.create("already-exists",{id:r});if(!oI){!function Qfe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Hm);const{wrappedGtag:s,gtagCore:o}=function ehe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Zfe(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function Jfe(t,e,n,r,i){return qC.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function Xfe(t,e,n,r,i,s){return GC.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){Bn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Is,lV,uV,Hm,"gtag");bs=s,fV=o,oI=!0}return Is[r]=function vhe(t,e,n,r,i,s,o){return sI.apply(this,arguments)}(t,lV,uV,e,fV,Hm,n),new yhe(t)}function Che(t=Pl()){const e=us(t=tn(t),Bm);return e.isInitialized()?e.getImmediate():function Ihe(t,e={}){const n=us(t,Bm);if(n.isInitialized()){const i=n.getImmediate();if(yf(e,n.getOptions()))return i;throw Dr.create("already-initialized")}return n.initialize({options:e})}(t)}function bhe(){return aI.apply(this,arguments)}function aI(){return(aI=y(function*(){if(w4()||!g9()||!vf())return!1;try{return yield A4()}catch{return!1}})).apply(this,arguments)}function whe(t,e,n){t=tn(t),function hhe(t,e,n,r){return ZC.apply(this,arguments)}(bs,Is[t.app.options.appId],e,n).catch(r=>Bn.error(r))}function hV(t,e,n,r){t=tn(t),function dhe(t,e,n,r,i){return XC.apply(this,arguments)}(bs,Is[t.app.options.appId],e,n,r).catch(i=>Bn.error(i))}const pV="@firebase/analytics";!function Ahe(){vi(new Jr(Bm,(e,{options:n})=>xhe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),vi(new Jr("analytics-internal",function t(e){try{const n=e.getProvider(Bm).getImmediate();return{logEvent:(r,i,s)=>hV(n,r,i,s)}}catch(n){throw Dr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),nn(pV,"0.10.0"),nn(pV,"0.10.0","esm2017")}();const Kh=b(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Dhe}=Array,{getPrototypeOf:She,prototype:Rhe,keys:Phe}=Object;function mV(t){if(1===t.length){const e=t[0];if(Dhe(e))return{args:e,keys:null};if(function Mhe(t){return t&&"object"==typeof t&&She(t)===Rhe}(e)){const n=Phe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:khe}=Array;function _V(t){return Ye(e=>function Nhe(t,e){return khe(e)?t(...e):t(e)}(t,e))}function vV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function yV(...t){const e=ad(t),n=mw(t),{args:r,keys:i}=mV(t);if(0===r.length)return zn([],e);const s=new de(function Ohe(t,e,n=me){return r=>{EV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)EV(e,()=>{const l=zn(t[c],e);let u=!1;l.subscribe(et(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>vV(i,o):me));return n?s.pipe(_V(n)):s}function EV(t,e,n){t?Ns(n,t,e):e()}function xV(t){return new de(e=>{rr(t()).subscribe(e)})}function Yh(t,e){const n=R(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function lI(){return Fe((t,e)=>{let n=null;t._refCount++;const r=et(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class CV extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,At(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Y;const n=this.getSubject();e.add(this.source.subscribe(et(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Y.EMPTY)}return e}refCount(){return lI()(this)}}function Nu(t){return t<=0?()=>Wi:Fe((e,n)=>{let r=0;e.subscribe(et(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zm(t){return Fe((e,n)=>{let r=!1;e.subscribe(et(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function IV(t=Fhe){return Fe((e,n)=>{let r=!1;e.subscribe(et(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Fhe(){return new Kh}function _c(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Cs((i,s)=>t(i,s,r)):me,Nu(1),n?zm(e):IV(()=>new Kh))}function Qh(t,e){return R(e)?Hn(t,e,1):Hn(t,1)}function vc(t){return Fe((e,n)=>{let s,r=null,i=!1;r=e.subscribe(et(n,void 0,void 0,o=>{s=rr(t(o,vc(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function uI(t){return t<=0?()=>Wi:Fe((e,n)=>{let r=[];e.subscribe(et(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Xh(t){return Fe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Xe="primary",Jh=Symbol("RouteTitle");class Uhe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ou(t){return new Uhe(t)}function jhe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ws(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!bV(t[i],e[i]))return!1;return!0}function bV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function wV(t){return t.length>0?t[t.length-1]:null}function sa(t){return function The(t){return!!t&&(t instanceof de||R(t.lift)&&R(t.subscribe))}(t)?t:Qd(t)?zn(Promise.resolve(t)):Ve(t)}const Ghe={exact:function DV(t,e,n){if(!yc(t.segments,e.segments)||!Um(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!DV(t.children[r],e.children[r],n))return!1;return!0},subset:SV},AV={exact:function qhe(t,e){return ws(t,e)},subset:function Whe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bV(t[n],e[n]))},ignored:()=>!0};function TV(t,e,n){return Ghe[n.paths](t.root,e.root,n.matrixParams)&&AV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function SV(t,e,n){return RV(t,e,e.segments,n)}function RV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!yc(i,n)||e.hasChildren()||!Um(i,n,r))}if(t.segments.length===n.length){if(!yc(t.segments,n)||!Um(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!SV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(yc(t.segments,i)&&Um(t.segments,i,r)&&t.children[Xe])&&RV(t.children[Xe],e,s,r)}}function Um(t,e,n){return e.every((r,i)=>AV[n](t[i].parameters,r.parameters))}class Fu{constructor(e=new It([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ou(this.queryParams)),this._queryParamMap}toString(){return Qhe.serialize(this)}}class It{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jm(this)}}class Zh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ou(this.parameters)),this._parameterMap}toString(){return kV(this)}}function yc(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let e0=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new dI},providedIn:"root"}),e})();class dI{parse(e){const n=new a0e(e);return new Fu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${t0(e.root,!0)}`,r=function Zhe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${$m(n)}=${$m(i)}`).join("&"):`${$m(n)}=${$m(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Xhe(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const Qhe=new dI;function jm(t){return t.segments.map(e=>kV(e)).join("/")}function t0(t,e){if(!t.hasChildren())return jm(t);if(e){const n=t.children[Xe]?t0(t.children[Xe],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Xe&&r.push(`${i}:${t0(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Yhe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Xe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Xe&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Xe?[t0(t.children[Xe],!1)]:[`${i}:${t0(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Xe]?`${jm(t)}/${n[0]}`:`${jm(t)}/(${n.join("//")})`}}function PV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $m(t){return PV(t).replace(/%3B/gi,";")}function fI(t){return PV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gm(t){return decodeURIComponent(t)}function MV(t){return Gm(t.replace(/\+/g,"%20"))}function kV(t){return`${fI(t.path)}${function Jhe(t){return Object.keys(t).map(e=>`;${fI(e)}=${fI(t[e])}`).join("")}(t.parameters)}`}const e0e=/^[^\/()?;#]+/;function hI(t){const e=t.match(e0e);return e?e[0]:""}const t0e=/^[^\/()?;=#]+/,r0e=/^[^=?&#]+/,s0e=/^[^&#]+/;class a0e{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Xe]=new It(e,n)),r}parseSegment(){const e=hI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new Zh(Gm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function n0e(t){const e=t.match(t0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=hI(this.remaining);i&&(r=i,this.capture(r))}e[Gm(n)]=Gm(r)}parseQueryParam(e){const n=function i0e(t){const e=t.match(r0e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function o0e(t){const e=t.match(s0e);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=MV(n),s=MV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Xe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Xe]:new It([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}}function NV(t){return t.segments.length>0?new It([],{[Xe]:t}):t}function OV(t){const e={};for(const r of Object.keys(t.children)){const s=OV(t.children[r]);if(r===Xe&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function c0e(t){if(1===t.numberOfChildren&&t.children[Xe]){const e=t.children[Xe];return new It(t.segments.concat(e.segments),e.children)}return t}(new It(t.segments,e))}function Ec(t){return t instanceof Fu}function FV(t){let e;const i=NV(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new It(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function VV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return pI(i,i,i,n,r);const s=function u0e(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new BV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new BV(n,e,r)}(e);if(s.toRoot())return pI(i,i,new It([],{}),n,r);const o=function d0e(t,e,n){if(t.isAbsolute)return new Wm(e,!0,0);if(!n)return new Wm(e,!1,NaN);if(null===n.parent)return new Wm(n,!0,0);const r=qm(t.commands[0])?0:1;return function f0e(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new Wm(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?r0(o.segmentGroup,o.index,s.commands):HV(o.segmentGroup,o.index,s.commands);return pI(i,o.segmentGroup,a,n,r)}function qm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function n0(t){return"object"==typeof t&&null!=t&&t.outlets}function pI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:LV(t,e,n);const a=NV(OV(o));return new Fu(a,s,i)}function LV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:LV(s,e,n)}),new It(t.segments,r)}class BV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&qm(r[0]))throw new ee(4003,!1);const i=r.find(n0);if(i&&i!==wV(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function HV(t,e,n){if(t||(t=new It([],{})),0===t.segments.length&&t.hasChildren())return r0(t,e,n);const r=function p0e(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(n0(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!UV(c,l,o))return s;r+=2}else{if(!UV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new It(t.segments.slice(0,r.pathIndex),{});return s.children[Xe]=new It(t.segments.slice(r.pathIndex),t.children),r0(s,0,i)}return r.match&&0===i.length?new It(t.segments,{}):r.match&&!t.hasChildren()?gI(t,e,n):r.match?r0(t,0,i):gI(t,e,n)}function r0(t,e,n){if(0===n.length)return new It(t.segments,{});{const r=function h0e(t){return n0(t[0])?t[0].outlets:{[Xe]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Xe)&&t.children[Xe]&&1===t.numberOfChildren&&0===t.children[Xe].segments.length){const s=r0(t.children[Xe],e,n);return new It(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=HV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new It(t.segments,i)}}function gI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(n0(s)){const c=g0e(s.outlets);return new It(r,c)}if(0===i&&qm(n[0])){r.push(new Zh(t.segments[e].path,zV(n[0]))),i++;continue}const o=n0(s)?s.outlets[Xe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&qm(a)?(r.push(new Zh(o,zV(a))),i+=2):(r.push(new Zh(o,{})),i++)}return new It(r,{})}function g0e(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=gI(new It([],{}),0,r))}),e}function zV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function UV(t,e,n){return t==n.path&&ws(e,n.parameters)}const s0="imperative";class As{constructor(e,n){this.id=e,this.url=n}}class mI extends As{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends As{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class o0 extends As{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class a0 extends As{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Km extends As{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jV extends As{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m0e extends As{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _0e extends As{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class v0e extends As{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y0e extends As{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E0e{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class x0e{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class C0e{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I0e{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b0e{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $V{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _I{}class vI{constructor(e){this.url=e}}class w0e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new c0,this.attachRef=null}}let c0=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new w0e,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class GV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=yI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=yI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=EI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return EI(e,this._root).map(n=>n.value)}}function yI(t,e){if(t===e.value)return e;for(const n of e.children){const r=yI(t,n);if(r)return r}return null}function EI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=EI(t,n);if(r.length)return r.unshift(e),r}return[]}class fo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Lu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class qV extends GV{constructor(e,n){super(e),this.snapshot=n,xI(this,e)}toString(){return this.snapshot.toString()}}function WV(t,e){const n=function A0e(t,e){const o=new Ym([],{},{},"",{},Xe,e,null,{});return new YV("",new fo(o,[]))}(0,e),r=new oi([new Zh("",{})]),i=new oi({}),s=new oi({}),o=new oi({}),a=new oi(""),c=new Bu(r,i,o,a,s,Xe,e,n.root);return c.snapshot=n.root,new qV(new fo(c,[]),n)}class Bu{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ye(l=>l[Jh]))??Ve(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ye(e=>Ou(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ye(e=>Ou(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function T0e(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ym{get title(){return this.data?.[Jh]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ou(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ou(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YV extends GV{constructor(e,n){super(n),this.url=e,xI(this,n)}toString(){return QV(this._root)}}function xI(t,e){e.value._routerState=t,e.children.forEach(n=>xI(t,n))}function QV(t){const e=t.children.length>0?` { ${t.children.map(QV).join(", ")} } `:"";return`${t.value}${e}`}function CI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ws(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ws(e.params,n.params)||t.paramsSubject.next(n.params),function $he(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ws(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ws(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function II(t,e){const n=ws(t.params,e.params)&&function Khe(t,e){return yc(t,e)&&t.every((n,r)=>ws(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||II(t.parent,e.parent))}let XV=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new bt,this.deactivateEvents=new bt,this.attachEvents=new bt,this.detachEvents=new bt,this.parentContexts=K(c0),this.location=K(ki),this.changeDetector=K(Do),this.environmentInjector=K(fi),this.inputBinder=K(Qm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new D0e(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vr]}),e})();class D0e{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Bu?this.route:e===c0?this.childContexts:this.parent.get(e,n)}}const Qm=new ye("");function l0(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function R0e(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return l0(t,r,i);return l0(t,r)})}(t,e,n);return new fo(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>l0(t,a)),o}}const r=function P0e(t){return new Bu(new oi(t.url),new oi(t.params),new oi(t.queryParams),new oi(t.fragment),new oi(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>l0(t,s));return new fo(r,i)}}const bI="ngNavigationCancelingError";function ZV(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function eL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[bI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function tL(t){return t&&t[bI]}let wI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["ng-component"]],standalone:!0,features:[US],decls:1,vars:0,template:function(r,i){1&r&&yt(0,"router-outlet")},dependencies:[XV],encapsulation:2}),e})();function AI(t){const e=t.children&&t.children.map(AI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=wI),n}function ji(t){return t.outlet||Xe}function u0(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class B0e{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),CI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Lu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Lu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Lu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Lu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new $V(s.value.snapshot))}),e.children.length&&this.forwardEvent(new I0e(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(CI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),CI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=u0(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class nL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xm{constructor(e,n){this.component=e,this.route=n}}function H0e(t,e,n){const r=t._root;return d0(r,e?e._root:null,n,[r.value])}function Hu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function vj(t){return null!==tp(t)}(t)?e.get(t):t:r}function d0(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Lu(e);return t.children.forEach(o=>{(function U0e(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function j0e(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!yc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!yc(t.url,e.url)||!ws(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!II(t,e)||!ws(t.queryParams,e.queryParams);default:return!II(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new nL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),d0(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xm(a.outlet.component,o))}else o&&f0(e,a,i),i.canActivateChecks.push(new nL(r)),d0(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>f0(a,n.getContext(o),i)),i}function f0(t,e,n){const r=Lu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{f0(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Xm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function h0(t){return"function"==typeof t}function rL(t){return t instanceof Kh||"EmptyError"===t?.name}const Jm=Symbol("INITIAL_VALUE");function zu(){return ai(t=>yV(t.map(e=>e.pipe(Nu(1),NF(Jm)))).pipe(Ye(e=>{for(const n of e)if(!0!==n){if(n===Jm)return Jm;if(!1===n||n instanceof Fu)return n}return!0}),Cs(e=>e!==Jm),Nu(1)))}function iL(t){return function se(...t){return Ne(t)}(Kn(e=>{if(Ec(e))throw ZV(0,e)}),Ye(e=>!0===e))}class Zm{constructor(e){this.segmentGroup=e||null}}class sL{constructor(e){this.urlTree=e}}function Uu(t){return Yh(new Zm(t))}function oL(t){return Yh(new sL(t))}class lpe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new ee(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ve(r);if(i.numberOfChildren>1||!i.children[Xe])return Yh(new ee(4e3,!1));i=i.children[Xe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Fu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new It(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const TI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function upe(t,e,n,r,i){const s=DI(t,e,n);return s.matched?(r=function k0e(t,e){return t.providers&&!t._injector&&(t._injector=zS(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function ope(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Ve(i.map(o=>{const a=Hu(o,t);return sa(function Y0e(t){return t&&h0(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(zu(),iL()):Ve(!0)}(r,e,n).pipe(Ye(o=>!0===o?s:{...TI}))):Ve(s)}function DI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...TI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||jhe)(n,t,e);if(!i)return{...TI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function aL(t,e,n,r){return n.length>0&&function hpe(t,e,n){return n.some(r=>e2(t,e,r)&&ji(r)!==Xe)}(t,n,r)?{segmentGroup:new It(e,fpe(r,new It(n,t.children))),slicedSegments:[]}:0===n.length&&function ppe(t,e,n){return n.some(r=>e2(t,e,r))}(t,n,r)?{segmentGroup:new It(t.segments,dpe(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new It(t.segments,t.children),slicedSegments:n}}function dpe(t,e,n,r,i){const s={};for(const o of r)if(e2(t,n,o)&&!i[ji(o)]){const a=new It([],{});s[ji(o)]=a}return{...i,...s}}function fpe(t,e){const n={};n[Xe]=e;for(const r of t)if(""===r.path&&ji(r)!==Xe){const i=new It([],{});n[ji(r)]=i}return n}function e2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class vpe{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new lpe(this.urlSerializer,this.urlTree)}noMatchError(e){return new ee(4002,!1)}recognize(){const e=aL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xe).pipe(vc(n=>{if(n instanceof sL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Zm?this.noMatchError(n):n}),Ye(n=>{const r=new Ym([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),i=new fo(r,n),s=new YV("",i),o=function l0e(t,e,n=null,r=null){return VV(FV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Xe).pipe(vc(r=>{throw r instanceof Zm?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=KV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return zn(i).pipe(Qh(s=>{const o=r.children[s],a=function V0e(t,e){const n=t.filter(r=>ji(r)===e);return n.push(...t.filter(r=>ji(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Lhe(t,e){return Fe(function Vhe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(et(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),zm(null),function Bhe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Cs((i,s)=>t(i,s,r)):me,uI(1),n?zm(e):IV(()=>new Kh))}(),Hn(s=>{if(null===s)return Uu(r);const o=cL(s);return function ype(t){t.sort((e,n)=>e.value.outlet===Xe?-1:n.value.outlet===Xe?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Ve(o)}))}processSegment(e,n,r,i,s,o){return zn(n).pipe(Qh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(vc(c=>{if(c instanceof Zm)return Ve(null);throw c}))),_c(a=>!!a),vc(a=>{if(rL(a))return function mpe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Ve([]):Uu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function gpe(t,e,n,r){return!!(ji(t)===r||r!==Xe&&e2(e,n,t))&&("**"===t.path||DI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Uu(i):Uu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oL(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Hn(o=>{const a=new It(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=DI(n,i,s);if(!a)return Uu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?oL(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Hn(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?wV(i).parameters:{};a=Ve({snapshot:new Ym(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lL(r),ji(r),r.component??r._loadedComponent??null,r,uL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=upe(n,r,i,e).pipe(Ye(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new Ym(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lL(r),ji(r),r.component??r._loadedComponent??null,r,uL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(ai(c=>null===c?Uu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(ai(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=aL(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Ye(T=>null===T?null:[new fo(d,T)]));if(0===l.length&&0===g.length)return Ve([new fo(d,[])]);const v=ji(r)===s;return this.processSegment(u,l,p,g,v?Xe:s,!0).pipe(Ye(T=>[new fo(d,T)]))}))))}getChildConfig(e,n,r){return n.children?Ve({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Ve({routes:n._loadedRoutes,injector:n._loadedInjector}):function spe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Ve(!0):Ve(i.map(o=>{const a=Hu(o,t);return sa(function G0e(t){return t&&h0(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(zu(),iL())}(e,n,r).pipe(Hn(i=>i?this.configLoader.loadChildren(e,n).pipe(Kn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function cpe(t){return Yh(eL(!1,3))}())):Ve({routes:[],injector:e})}}function Epe(t){const e=t.value.routeConfig;return e&&""===e.path}function cL(t){const e=[],n=new Set;for(const r of t){if(!Epe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=cL(r.children);e.push(new fo(r.value,i))}return e.filter(r=>!n.has(r))}function lL(t){return t.data||{}}function uL(t){return t.resolve||{}}function dL(t){return"string"==typeof t.title||null===t.title}function SI(t){return ai(e=>{const n=t(e);return n?zn(n).pipe(Ye(()=>e)):Ve(e)})}const t2=new ye("ROUTES");let fL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(rJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Ve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=sa(r.loadComponent()).pipe(Ye(hL),Kn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Xh(()=>{this.componentLoaders.delete(r)})),s=new CV(i,()=>new Z).pipe(lI());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Tpe(t,e,n,r){return sa(t.loadChildren()).pipe(Ye(hL),Hn(i=>i instanceof BS||Array.isArray(i)?Ve(i):zn(e.compileModuleAsync(i))),Ye(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(t2,[],{optional:!0,self:!0}).flat()),{routes:o.map(AI),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(Xh(()=>{this.childrenLoaders.delete(i)})),a=new CV(o,()=>new Z).pipe(lI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function hL(t){return function Dpe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let n2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Z,this.transitionAbortSubject=new Z,this.configLoader=K(fL),this.environmentInjector=K(fi),this.urlSerializer=K(e0),this.rootContexts=K(c0),this.inputBindingEnabled=null!==K(Qm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new x0e(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new E0e(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new oi({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:s0,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Cs(o=>0!==o.id),Ye(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),ai(o=>{this.currentTransition=o;let a=!1,c=!1;return Ve(o).pipe(Kn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ai(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new a0(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Wi}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ve(l).pipe(ai(h=>{const p=this.transitions?.getValue();return this.events.next(new mI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Wi:Promise.resolve(h)}),function xpe(t,e,n,r,i,s){return Hn(o=>function _pe(t,e,n,r,i,s,o="emptyOnly"){return new vpe(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Ye(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Kn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new jV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:v,extras:T}=l,I=new mI(h,this.urlSerializer.serialize(p),g,v);this.events.next(I);const B=WV(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:B,urlAfterRedirects:p,extras:{...T,skipLocationChange:!1,replaceUrl:!1}},Ve(o)}{const h="";return this.events.next(new a0(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Wi}}),Kn(l=>{const u=new m0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ye(l=>(this.currentTransition=o={...l,guards:H0e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function X0e(t,e){return Hn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Ve({...n,guardsResult:!0}):function J0e(t,e,n,r){return zn(t).pipe(Hn(i=>function ipe(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ve(s.map(a=>{const c=u0(e)??i,l=Hu(a,c);return sa(function K0e(t){return t&&h0(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(_c())})).pipe(zu()):Ve(!0)}(i.component,i.route,n,e,r)),_c(i=>!0!==i,!0))}(o,r,i,t).pipe(Hn(a=>a&&function $0e(t){return"boolean"==typeof t}(a)?function Z0e(t,e,n,r){return zn(e).pipe(Qh(i=>cC(function tpe(t,e){return null!==t&&e&&e(new C0e(t)),Ve(!0)}(i.route.parent,r),function epe(t,e){return null!==t&&e&&e(new b0e(t)),Ve(!0)}(i.route,r),function rpe(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function z0e(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>xV(()=>Ve(o.guards.map(c=>{const l=u0(o.node)??n,u=Hu(c,l);return sa(function W0e(t){return t&&h0(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(_c())})).pipe(zu())));return Ve(s).pipe(zu())}(t,i.path,n),function npe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ve(!0);const i=r.map(s=>xV(()=>{const o=u0(e)??n,a=Hu(s,o);return sa(function q0e(t){return t&&h0(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(_c())}));return Ve(i).pipe(zu())}(t,i.route,n))),_c(i=>!0!==i,!0))}(r,s,t,e):Ve(a)),Ye(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Kn(l=>{if(o.guardsResult=l.guardsResult,Ec(l.guardsResult))throw ZV(0,l.guardsResult);const u=new _0e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Cs(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),SI(l=>{if(l.guards.canActivateChecks.length)return Ve(l).pipe(Kn(u=>{const d=new v0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ai(u=>{let d=!1;return Ve(u).pipe(function Cpe(t,e){return Hn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ve(n);let s=0;return zn(i).pipe(Qh(o=>function Ipe(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!dL(i)&&(s[Jh]=i.title),function bpe(t,e,n,r){const i=function wpe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Ve({});const s={};return zn(i).pipe(Hn(o=>function Ape(t,e,n,r){const i=u0(e)??r,s=Hu(t,i);return sa(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(_c(),Kn(a=>{s[o]=a}))),uI(1),function Hhe(t){return Ye(()=>t)}(s),vc(o=>rL(o)?Wi:Yh(o)))}(s,t,e,r).pipe(Ye(o=>(t._resolvedData=o,t.data=KV(t,n).resolve,i&&dL(i)&&(t.data[Jh]=i.title),null)))}(o.route,r,t,e)),Kn(()=>s++),uI(1),Hn(o=>s===i.length?Ve(n):Wi))})}(r.paramsInheritanceStrategy,this.environmentInjector),Kn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Kn(u=>{const d=new y0e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),SI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Kn(h=>{d.component=h}),Ye(()=>{})));for(const h of d.children)f.push(...u(h));return f};return yV(u(l.targetSnapshot.root)).pipe(zm(),Nu(1))}),SI(()=>this.afterPreactivation()),Ye(l=>{const u=function S0e(t,e,n){const r=l0(t,e._root,n?n._root:void 0);return new qV(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Kn(()=>{this.events.next(new _I)}),((t,e,n,r)=>Ye(i=>(new B0e(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Nu(1),Kn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function zhe(t){return Fe((e,n)=>{rr(t).subscribe(et(n,()=>n.complete(),D)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Kn(l=>{throw l}))),Xh(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),vc(l=>{if(c=!0,tL(l))this.events.next(new o0(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function M0e(t){return tL(t)&&Ec(t.url)}(l)?this.events.next(new vI(l.url)):o.resolve(!1);else{this.events.next(new Km(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return Wi}))}))}cancelNavigationTransition(r,i,s){const o=new o0(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function pL(t){return t!==s0}let gL=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Xe);return i}getResolvedTitleForRoute(r){return r.data[Jh]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return K(Spe)},providedIn:"root"}),e})(),Spe=(()=>{var t;class e extends gL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(De(y4))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Rpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return K(Mpe)},providedIn:"root"}),e})();class Ppe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Mpe=(()=>{var t;class e extends Ppe{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Wn(t)))(i||t)}}(),t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const RI=new ye("",{providedIn:"root",factory:()=>({})});let kpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return K(Npe)},providedIn:"root"}),e})(),Npe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var p0=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(p0||{});function Ope(t){throw t}function Fpe(t,e,n){return e.parse("/")}const Vpe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=K(k7),this.isNgZoneEnabled=!1,this._events=new Z,this.options=K(RI,{optional:!0})||{},this.pendingTasks=K(_g),this.errorHandler=this.options.errorHandler||Ope,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Fpe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=K(kpe),this.routeReuseStrategy=K(Rpe),this.titleStrategy=K(gL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=K(t2,{optional:!0})?.flat()??[],this.navigationTransitions=K(n2),this.urlSerializer=K(e0),this.location=K(Wy),this.componentInputBindingEnabled=!!K(Qm,{optional:!0}),this.eventsSubscription=new Y,this.isNgZoneEnabled=K(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=WV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(_L(i)&&this._events.next(i));if(i instanceof mI)pL(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof a0)this.rawUrlTree=s.rawUrl;else if(i instanceof jV){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof _I)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof o0)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof vI){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pL(s.source)};this.scheduleNavigation(o,s0,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof Km&&this.restoreHistory(s,!0),i instanceof Vu&&(this.navigated=!0),_L(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),s0,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(AI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=FV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return VV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Ec(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,s0,null,i)}navigate(r,i={skipLocationChange:!1}){return function Bpe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new ee(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...Vpe}:!1===i?{...Lpe}:i,Ec(r))return TV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return TV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function mL(t,e){t.events.pipe(Cs(n=>n instanceof Vu||n instanceof o0||n instanceof Km||n instanceof a0),Ye(n=>n instanceof Vu||n instanceof a0?p0.COMPLETE:n instanceof o0&&(0===n.code||1===n.code)?p0.REDIRECTING:p0.FAILED),Cs(n=>n!==p0.REDIRECTING),Nu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function _L(t){return!(t instanceof _I||t instanceof vI)}class ju{constructor(e){return e}}const bL="analytics",NI="__angularfire_symbol__analyticsIsSupportedValue",wL="__angularfire_symbol__analyticsIsSupported";globalThis[wL]||=bhe().then(t=>globalThis[NI]=t).catch(()=>globalThis[NI]=!1);const r2={async:()=>globalThis[wL],sync:()=>{const t=globalThis[NI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},AL=r2.async,Kpe=vn(Che,!0),g0=vn(hV,!0),Ype=vn(whe,!0);let TL=(()=>{var t;class e{constructor(r,i,s){let o;gt(this,"initialized",void 0),gt(this,"disposables",[]),nn("angularfire",No.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{o=a})),AL().then(()=>{const a=s.get(ju);a?this.disposables=[WP(r).subscribe(c=>{Ype(a,c?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(De(Hf),De(dt),De(wn))}),gt(e,"\u0275prov",be({token:t,factory:t.\u0275fac})),e})();const DL="firebase_screen_id",OI="outlet",m0="screen_class",SL="screen_name";let age=Math.floor(Math.random()*(2**32-1))-2**31;const FI={},cge=t=>{const e=[t[m0],t[OI]].join("#");if(FI.hasOwnProperty(e))return FI[e];{const n=age++;return FI[e]=n,n}},lge=(t,e,n)=>t.events.pipe(Cs(i=>i instanceof $V)).pipe(ai(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return Ve(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[SL]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[OI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===wI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return Ve({...u,[m0]:d});if(d){const f=n.resolveComponentFactory(d);return Ve({...u,[m0]:f.selector})}return Ve(null)}),Cs(i=>!!i),Ye(i=>({firebase_screen_class:i[m0],[DL]:cge(i),...i})),function Ude(t,e,n,r){return Fe((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new Je(s,p=>{try{const g=t(p);let v=a.get(g);if(!v){a.set(g,v=r?r():new Z);const T=function h(p,g){const v=new de(T=>{u++;const I=g.subscribe(T);return()=>{I.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return v.key=p,v}(g,v);if(s.next(T),n){const I=et(v,()=>{v.complete(),I?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(rr(n(T)).subscribe(I))}}v.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[OI]),Hn(i=>i.pipe(yw((s,o)=>JSON.stringify(s)===JSON.stringify(o)),NF(void 0),function $de(){return Fe((t,e)=>{let n,r=!1;t.subscribe(et(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Ye(([s,o])=>s?{firebase_previous_class:s[m0],firebase_previous_screen:s[SL],firebase_previous_id:s[DL],...o}:o))));let uge=(()=>{var t;class e{constructor(r,i,s,o,a,c){gt(this,"disposable",void 0),nn("angularfire",No.full,"screen-tracking"),AL().then(()=>{const l=c.get(ju);!r||!l||o.runOutsideAngular(()=>{this.disposable=lge(r,i,s).pipe(ai(function(){var u=y(function*(d){return a&&(yield a.initialized),g0(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(De($i,8),De(y4,8),De(Vd),De(dt),De(TL,8),De(wn))}),gt(e,"\u0275prov",be({token:t,factory:t.\u0275fac})),e})();const VI=new ye("angularfire2.analytics-instances");function fge(t){return(e,n)=>{if(!r2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new ju(r)}}const hge={provide:class Wpe{constructor(){return Wg(bL)}},deps:[[new un,VI]]},pge={provide:ju,useFactory:function dge(t,e){if(!r2.sync())return null;const n=qg(bL,t,e);return n&&new ju(n)},deps:[[new un,VI],Ha]};let gge=(()=>{var t;class e{constructor(r,i){nn("angularfire",No.full,"analytics")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)(De(uge,8),De(TL,8))}),gt(e,"\u0275mod",Pt({type:t})),gt(e,"\u0275inj",Tt({providers:[pge,hge,{provide:M7,useValue:r2.async,multi:!0}]})),e})();function mge(t,...e){return{ngModule:gge,providers:[{provide:VI,useFactory:fge(t),multi:!0,deps:[dt,wn,Af,Tf,...e]}]}}let RL=(()=>{var t;class e{constructor(){this.localStorageService=K(xs),this._installUpdateEmitter=new bt}checkForUpdate(r,i){let s=this.localStorageService.get(Ct.REMOTE_VERSION,!1),o=this.localStorageService.get(Ct.LOCAL_VERSION);i.next(null!==s&&s!==o&&""!==s),i.complete(),r.detectChanges()}showComponent(r){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"))}get installUpdateEmitter(){return this._installUpdateEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),_ge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Xd("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();const vge=["updateNotification"];function yge(t,e){1&t&&(ae(0,"span",25,26),we(2,"1"),_e())}let Ege=(()=>{var t;class e{constructor(){this.dgAPI=K(Ks),this.changeDetector=K(Do),this.authService=K(pc),this.changelogService=K(RL),this.analytics=K(ju),this.initialized=!1;let r=window.location.pathname.split("/");g0(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),g0(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailableNotification=new de(i=>{this.changelogService.checkForUpdate(this.changeDetector,i)}),this.changelogService.installUpdateEmitter.subscribe(i=>{i&&(this.updateNotification.nativeElement.remove(),this.changeDetector.detectChanges())}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.initialized=!0)}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-navbar"]],viewQuery:function(r,i){if(1&r&&ls(vge,5),2&r){let s;Ni(s=Oi())&&(i.updateNotification=s.first)}},decls:39,vars:10,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],["updateNotification",""]],template:function(r,i){1&r&&(ae(0,"div",0)(1,"ul",1)(2,"li",2),Qr(3,yge,3,0,"span",3),Tn(4,"async"),ae(5,"a",4),yt(6,"img",5),ae(7,"span",6),we(8,"home"),_e()()(),ae(9,"li",7)(10,"a",8),yt(11,"img",9),ae(12,"span",6),we(13,"planets"),_e()()(),ae(14,"li",10)(15,"a",11),yt(16,"img",12),ae(17,"span",6),we(18,"radar"),_e()()(),ae(19,"li",13)(20,"a",14),yt(21,"img",15),ae(22,"span",6),we(23,"fleets"),_e()()(),ae(24,"li",16)(25,"a",17),yt(26,"img",18),ae(27,"span",6),we(28,"navigation"),_e()()(),ae(29,"li",19)(30,"a",20),yt(31,"img",21),ae(32,"span",6),we(33,"research"),_e()()(),ae(34,"li",22)(35,"a",23),yt(36,"img",24),ae(37,"span",6),we(38,"alliances"),_e()()()()()),2&r&&(ke(2),nt("tabName","home"),ke(1),nt("ngIf",pi(4,8,i.updateAvailableNotification)),ke(6),nt("tabName","planets"),ke(5),nt("tabName","radar"),ke(5),nt("tabName","fleets"),ke(5),nt("tabName","navigation"),ke(5),nt("tabName","research"),ke(5),nt("tabName","alliances"))},dependencies:[Ro,_ge,pf],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const pr_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},LI=new Map,PL={activated:!1,tokenObservers:[]},xge={initialized:!1,enabled:!1};function on(t){return LI.get(t)||Object.assign({},PL)}function s2(){return xge}const BI="https://content-firebaseappcheck.googleapis.com/v1",wge="exchangeDebugToken",ML={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Tge{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new Sl,yield function Dge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Sl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const er=new Mo("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function o2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function HI(t){if(!on(t).activated)throw er.create("use-before-activation",{appName:t.name})}function zI(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=a2(n)+"d:"),r&&(o+=a2(r)+"h:"),o+=a2(i)+"m:"+a2(s)+"s",o}function a2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function c2(t,e){return UI.apply(this,arguments)}function UI(){return UI=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw er.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw er.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw er.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),UI.apply(this,arguments)}function kL(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${BI}/projects/${n}/apps/${r}:${wge}?key=${i}`,body:{debug_token:e}}}const Mge="firebase-app-check-database",kge=1,_0="firebase-app-check-store",NL="debug-token";let l2=null;function OL(){return l2||(l2=new Promise((t,e)=>{try{const n=indexedDB.open(Mge,kge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(er.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_0,{keyPath:"compositeKey"})}}catch(n){e(er.create("storage-open",{originalErrorMessage:n?.message}))}}),l2)}function FL(t,e){return jI.apply(this,arguments)}function jI(){return jI=y(function*(t,e){const r=(yield OL()).transaction(_0,"readwrite"),s=r.objectStore(_0).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(er.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),jI.apply(this,arguments)}function VL(t){return $I.apply(this,arguments)}function $I(){return $I=y(function*(t){const n=(yield OL()).transaction(_0,"readonly"),i=n.objectStore(_0).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(er.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),$I.apply(this,arguments)}function LL(t){return`${t.options.appId}-${t.name}`}const v0=new If("@firebase/app-check");function GI(){return GI=y(function*(t){if(vf()){let e;try{e=yield function Nge(t){return VL(LL(t))}(t)}catch(n){v0.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),GI.apply(this,arguments)}function qI(t,e){return vf()?function Oge(t,e){return FL(LL(t),e)}(t,e).catch(n=>{v0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function WI(){return WI=y(function*(){let t;try{t=yield function Vge(){return VL(NL)}()}catch{}if(t)return t;{const e=ene();return function Fge(t){return FL(NL,t)}(e).catch(n=>v0.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),WI.apply(this,arguments)}function KI(){return s2().enabled}function YI(){return QI.apply(this,arguments)}function QI(){return QI=y(function*(){const t=s2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),QI.apply(this,arguments)}const zge={error:"UNKNOWN_ERROR"};function Uge(t){return b4.encodeString(JSON.stringify(t),!1)}function u2(t){return XI.apply(this,arguments)}function XI(){return XI=y(function*(t,e=!1){const n=t.app;HI(n);const r=on(n);let s,i=r.token;if(i&&!$u(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&($u(c)?i=c:yield qI(n,void 0))}if(!e&&i&&$u(i))return{token:i.token};let a,o=!1;if(KI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=c2(kL(n,yield YI()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield qI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield on(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?v0.warn(c.message):v0.error(c),s=c}return i?s?a=$u(i)?{token:i.token,internalError:s}:UL(s):(a={token:i.token},r.token=i,yield qI(n,i)):a=UL(s),o&&zL(n,a),a}),XI.apply(this,arguments)}function JI(){return JI=y(function*(t){const e=t.app;HI(e);const{provider:n}=on(e);if(KI()){const r=yield YI(),{token:i}=yield c2(kL(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),JI.apply(this,arguments)}function ZI(t,e,n,r){const{app:i}=t,s=on(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&$u(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),HL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>HL(t))}function eb(t,e){const n=on(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function HL(t){const{app:e}=t,n=on(e);let r=n.tokenRefresher;r||(r=function jge(t){const{app:e}=t;return new Tge(y(function*(){let r;if(r=on(e).token?yield u2(t,!0):yield u2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=on(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},ML.RETRIAL_MIN_WAIT,ML.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function zL(t,e){const n=on(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function $u(t){return t.expireTimeMillis-Date.now()>0}function UL(t){return{token:Uge(zge),error:t}}class $ge{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=on(this.app);for(const n of e)eb(this.app,n.next);return Promise.resolve()}}function Xge(t,e){const n=new Sl;on(t).reCAPTCHAState={initialized:n};const i=function jL(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=o2(!1);return s?d2(t,e,s,i,n):function e1e(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=o2(!1);if(!o)throw new Error("no recaptcha");d2(t,e,o,i,n)}),n.promise}function d2(t,e,n,r,i){n.ready(()=>{(function Zge(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{on(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{on(t).reCAPTCHAState.succeeded=!1}}),s=on(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function tb(){return tb=y(function*(t){HI(t);const n=yield on(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=on(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}),tb.apply(this,arguments)}class Ts{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return y(function*(){var n,r,i;!function KL(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw er.create("throttled",{time:zI(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield function $L(t){return tb.apply(this,arguments)}(e._app).catch(a=>{throw er.create("recaptcha-error")});if(null===(n=on(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw er.create("recaptcha-error");let o;try{o=yield c2(function Rge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${BI}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function WL(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=S4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),er.create("throttled",{time:zI(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=us(e,"heartbeat"),Xge(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Ts&&this._siteKey===e._siteKey}}function n1e(t=Pl(),e){const n=us(t=tn(t),"app-check");if(s2().initialized||function Hge(){const t=d9(),e=s2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new Sl;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function Bge(){return WI.apply(this,arguments)}())}(),KI()&&YI().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw er.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function r1e(t,e,n){const r=function Cge(t,e){return LI.set(t,e),LI.get(t)}(t,Object.assign({},PL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Lge(t){return GI.apply(this,arguments)}(t).then(i=>(i&&$u(i)&&(r.token=i,zL(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),on(t).isTokenAutoRefreshEnabled&&ZI(r,"INTERNAL",()=>{}),r}const YL="app-check-internal";!function s1e(){vi(new Jr("app-check",t=>function Gge(t,e){return new $ge(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(YL).initialize()})),vi(new Jr(YL,t=>function qge(t){return{getToken:e=>u2(t,e),getLimitedUseToken:()=>function BL(t){return JI.apply(this,arguments)}(t),addTokenListener:e=>ZI(t,"INTERNAL",e),removeTokenListener:e=>eb(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),nn("@firebase/app-check","0.8.0")}();class rb{constructor(e){return e}}const ib=new ye("angularfire2.app-check-instances"),a1e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function c1e(t){return(e,n,r)=>{!l4(r)&&a1e&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new rb(i)}}const l1e={provide:U4,deps:[[new un,ib]]},u1e={provide:rb,useFactory:function o1e(t,e){const n=qg(O9,t,e);return n&&new rb(n)},deps:[[new un,ib],Ha,rs]};let d1e=(()=>{var t;class e{constructor(){nn("angularfire",No.full,"app-check")}}return t=e,gt(e,"\u0275fac",function(r){return new(r||t)}),gt(e,"\u0275mod",Pt({type:t})),gt(e,"\u0275inj",Tt({providers:[u1e,l1e]})),e})();function oa(t,...e){return{ngModule:d1e,providers:[{provide:ib,useFactory:c1e(t),multi:!0,deps:[dt,wn,rs,Af,Tf,...e]}]}}const aa=vn(n1e,!0);let f1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[Ege]}),t.\u0275inj=Tt({imports:[_i,Oo(()=>Vo(pr_firebase)),Vl(()=>Ll()),fc(()=>hc()),oa(()=>aa(Fo(),{provider:new Ts(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),mge(()=>Kpe())]}),e})();class h1e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class p1e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class QL{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class XL{constructor(){this._resources=new p1e,this._workers=new QL,this._soldiers=new QL,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var Cn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(Cn||{});let JL=(()=>{var t;class e{constructor(){this.dgAPI=K(Ks)}extractStats(){let r=new h1e;return r.stats.set(Cn.ALL,new XL),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new XL),r.stats.get(Cn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(Cn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(Cn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(Cn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(Cn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(Cn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case Cn.METAL:r.stats.get(Cn.ALL).resources.metalStored+=s.stored,r.stats.get(Cn.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case Cn.MINERAL:r.stats.get(Cn.ALL).resources.mineralStored+=s.stored,r.stats.get(Cn.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case Cn.FOOD:r.stats.get(Cn.ALL).resources.foodStored+=s.stored,r.stats.get(Cn.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case Cn.ENERGY:r.stats.get(Cn.ALL).resources.energyStored+=s.stored,r.stats.get(Cn.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),g1e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Un({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),sb=(()=>{var t;class e{constructor(){this.decimalPipe=K(Tl)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Un({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const m1e=function(t){return{"dgt-stats-totals-last-row":t}},xi=function(t){return{"dgt-padding-bottom-xs":t}};function _1e(t,e){if(1&t&&(ae(0,"tr",4)(1,"th",5)(2,"span",6),we(3),Tn(4,"galaxyNameFormatter"),_e(),ae(5,"span",7),we(6),_e()(),ae(7,"td",8)(8,"div",9),yt(9,"img",10),ae(10,"span",11),we(11),Tn(12,"number"),_e()()(),ae(13,"td",12)(14,"div",9)(15,"span",11),we(16),Tn(17,"resourceProductionFormatter"),_e()()(),ae(18,"td",13)(19,"div",14),yt(20,"img",15),ae(21,"span",11),we(22),Tn(23,"number"),_e()()(),ae(24,"td",12)(25,"div",14)(26,"span",11),we(27),Tn(28,"resourceProductionFormatter"),_e()()(),ae(29,"td",13)(30,"div",16),yt(31,"img",17),ae(32,"span",11),we(33),Tn(34,"number"),_e()()(),ae(35,"td",12)(36,"div",16)(37,"span",11),we(38),Tn(39,"resourceProductionFormatter"),_e()()(),ae(40,"td",13)(41,"div",18),yt(42,"img",19),ae(43,"span",11),we(44),Tn(45,"number"),_e()()(),ae(46,"td",20)(47,"div",18)(48,"span",11),we(49),Tn(50,"resourceProductionFormatter"),_e()()(),ae(51,"td",21)(52,"div",22),yt(53,"img",23),ae(54,"span",11),we(55),Tn(56,"number"),_e()()(),ae(57,"td",24)(58,"div",25),yt(59,"img",26),ae(60,"span",11),we(61),Tn(62,"number"),_e()()(),ae(63,"td",27)(64,"div",28),yt(65,"img",29),ae(66,"span",11),we(67),Tn(68,"number"),_e()()()()),2&t){const n=e.$implicit,r=e.index,i=Mn();nt("ngClass",Vr(64,m1e,r==i.panel.stats.size-1)),ke(1),nt("ngClass",Vr(66,xi,r==i.panel.stats.size-2)),ke(2),Yt(pi(4,26,n.key)),ke(3),Pa("[",n.value.count,"]"),ke(1),nt("ngClass",Vr(68,xi,r==i.panel.stats.size-2)),ke(4),Yt(Ao(12,28,n.value.resources.metalStored,"1.0","en-US")),ke(2),nt("ngClass",Vr(70,xi,r==i.panel.stats.size-2)),ke(3),Yt(pi(17,32,n.value.resources.metalProduction)),ke(2),nt("ngClass",Vr(72,xi,r==i.panel.stats.size-2)),ke(4),Yt(Ao(23,34,n.value.resources.mineralStored,"1.0","en-US")),ke(2),nt("ngClass",Vr(74,xi,r==i.panel.stats.size-2)),ke(3),Yt(pi(28,38,n.value.resources.mineralProduction)),ke(2),nt("ngClass",Vr(76,xi,r==i.panel.stats.size-2)),ke(4),Yt(Ao(34,40,n.value.resources.foodStored,"1.0","en-US")),ke(2),nt("ngClass",Vr(78,xi,r==i.panel.stats.size-2)),ke(3),Yt(pi(39,44,n.value.resources.foodProduction)),ke(2),nt("ngClass",Vr(80,xi,r==i.panel.stats.size-2)),ke(4),Yt(Ao(45,46,n.value.resources.energyStored,"1.0","en-US")),ke(2),nt("ngClass",Vr(82,xi,r==i.panel.stats.size-2)),ke(3),Yt(pi(50,50,n.value.resources.energyProduction)),ke(2),nt("ngClass",Vr(84,xi,r==i.panel.stats.size-2)),ke(4),Yt(Ao(56,52,n.value.resources.ground,"1.0","en-US")),ke(2),nt("ngClass",Vr(86,xi,r==i.panel.stats.size-2)),ke(4),Yt(Ao(62,56,n.value.resources.orbit,"1.0","en-US")),ke(2),nt("ngClass",Vr(88,xi,r==i.panel.stats.size-2)),ke(4),Yt(Ao(68,60,n.value.soldiers.total,"1.0","en-US"))}}let v1e=(()=>{var t;class e{constructor(){this.statsPanelService=K(JL)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(ae(0,"div",0)(1,"div",1)(2,"table",2),Qr(3,_1e,69,90,"tr",3),Tn(4,"keyvalue"),_e()()()),2&r&&(ke(3),nt("ngForOf",pi(4,1,i.panel.stats)))},dependencies:[DR,i4,Tl,kR,g1e,sb],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function ZL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ZL(Object(n),!0).forEach(function(r){Rn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f2(t){return(f2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function eB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ob(t,e){return function I1e(t){if(Array.isArray(t))return t}(t)||function w1e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||tB(t,e)||function T1e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E0(t){return function C1e(t){if(Array.isArray(t))return ab(t)}(t)||function b1e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||tB(t)||function A1e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tB(t,e){if(t){if("string"==typeof t)return ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ab(t,e)}}function ab(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nB=function(){},cb={},rB={},iB=null,sB={mark:nB,measure:nB};try{typeof window<"u"&&(cb=window),typeof document<"u"&&(rB=document),typeof MutationObserver<"u"&&(iB=MutationObserver),typeof performance<"u"&&(sB=performance)}catch{}var g2,m2,_2,v2,y2,oB=(cb.navigator||{}).userAgent,aB=void 0===oB?"":oB,ca=cb,Ht=rB,cB=iB,p2=sB,po=!!Ht.documentElement&&!!Ht.head&&"function"==typeof Ht.addEventListener&&"function"==typeof Ht.createElement,lB=~aB.indexOf("MSIE")||~aB.indexOf("Trident/"),go="___FONT_AWESOME___",uB="fa",dB="svg-inline--fa",xc="data-fa-i2svg",ub="data-fa-pseudo-element",S1e="data-fa-pseudo-element-pending",db="data-prefix",fb="data-icon",fB="fontawesome-i2svg",R1e="async",P1e=["HTML","HEAD","STYLE","SCRIPT"],hB=function(){try{return!0}catch{return!1}}(),zt="classic",an="sharp",hb=[zt,an];function x0(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[zt]}})}var C0=x0((Rn(g2={},zt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Rn(g2,an,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),g2)),I0=x0((Rn(m2={},zt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Rn(m2,an,{solid:"fass",regular:"fasr",light:"fasl"}),m2)),b0=x0((Rn(_2={},zt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Rn(_2,an,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),_2)),M1e=x0((Rn(v2={},zt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Rn(v2,an,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),v2)),k1e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,pB="fa-layers-text",N1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,O1e=x0((Rn(y2={},zt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Rn(y2,an,{900:"fass",400:"fasr",300:"fasl"}),y2)),gB=[1,2,3,4,5,6,7,8,9,10],F1e=gB.concat([11,12,13,14,15,16,17,18,19,20]),V1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Cc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},w0=new Set;Object.keys(I0[zt]).map(w0.add.bind(w0)),Object.keys(I0[an]).map(w0.add.bind(w0));var L1e=[].concat(hb,E0(w0),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Cc.GROUP,Cc.SWAP_OPACITY,Cc.PRIMARY,Cc.SECONDARY]).concat(gB.map(function(t){return"".concat(t,"x")})).concat(F1e.map(function(t){return"w-".concat(t)})),A0=ca.FontAwesomeConfig||{};Ht&&"function"==typeof Ht.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=ob(t,2),r=e[1],i=function H1e(t){return""===t||"false"!==t&&("true"===t||t)}(function B1e(t){var e=Ht.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(A0[r]=i)});var mB={styleDefault:"solid",familyDefault:"classic",cssPrefix:uB,replacementClass:dB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};A0.familyPrefix&&(A0.cssPrefix=A0.familyPrefix);var Gu=Te(Te({},mB),A0);Gu.autoReplaceSvg||(Gu.observeMutations=!1);var Re={};Object.keys(mB).forEach(function(t){Object.defineProperty(Re,t,{enumerable:!0,set:function(n){Gu[t]=n,T0.forEach(function(r){return r(Re)})},get:function(){return Gu[t]}})}),Object.defineProperty(Re,"familyPrefix",{enumerable:!0,set:function(e){Gu.cssPrefix=e,T0.forEach(function(n){return n(Re)})},get:function(){return Gu.cssPrefix}}),ca.FontAwesomeConfig=Re;var T0=[],Ds={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},$1e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function D0(){for(var t=12,e="";t-- >0;)e+=$1e[62*Math.random()|0];return e}function qu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function pb(t){return t.classList?qu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function _B(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function E2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function gb(t){return t.size!==Ds.size||t.x!==Ds.x||t.y!==Ds.y||t.rotate!==Ds.rotate||t.flipX||t.flipY}var K1e=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function vB(){var t=uB,e=dB,n=Re.cssPrefix,r=Re.replacementClass,i=K1e;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var yB=!1;function mb(){Re.autoAddCss&&!yB&&(function j1e(t){if(t&&po){var e=Ht.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ht.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Ht.head.insertBefore(e,r)}}(vB()),yB=!0)}var Y1e={mixout:function(){return{dom:{css:vB,insertCss:mb}}},hooks:function(){return{beforeDOMElementCreation:function(){mb()},beforeI2svg:function(){mb()}}}},mo=ca||{};mo[go]||(mo[go]={}),mo[go].styles||(mo[go].styles={}),mo[go].hooks||(mo[go].hooks={}),mo[go].shims||(mo[go].shims=[]);var Gi=mo[go],EB=[],x2=!1;function S0(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?_B(t):"<".concat(e," ").concat(function G1e(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(_B(t[n]),'" ')},"").trim()}(r),">").concat(s.map(S0).join(""),"</").concat(e,">")}function xB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}po&&((x2=(Ht.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ht.readyState))||Ht.addEventListener("DOMContentLoaded",function t(){Ht.removeEventListener("DOMContentLoaded",t),x2=1,EB.map(function(e){return e()})}));var _b=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function vb(t){var e=function Z1e(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function CB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function yb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=CB(e);"function"!=typeof Gi.hooks.addPack||i?Gi.styles[t]=Te(Te({},Gi.styles[t]||{}),s):Gi.hooks.addPack(t,CB(e)),"fas"===t&&yb("fa",e)}var C2,I2,b2,Wu=Gi.styles,tme=Gi.shims,nme=(Rn(C2={},zt,Object.values(b0[zt])),Rn(C2,an,Object.values(b0[an])),C2),Eb=null,IB={},bB={},wB={},AB={},TB={},rme=(Rn(I2={},zt,Object.keys(C0[zt])),Rn(I2,an,Object.keys(C0[an])),I2);var DB=function(){var e=function(s){return _b(Wu,function(o,a,c){return o[c]=_b(a,s,{}),o},{})};IB=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),bB=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),TB=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Wu||Re.autoFetchSvg,r=_b(tme,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});wB=r.names,AB=r.unicodes,Eb=w2(Re.styleDefault,{family:Re.familyDefault})};function xb(t,e){return(IB[t]||{})[e]}function Ic(t,e){return(TB[t]||{})[e]}function SB(t){return wB[t]||{prefix:null,iconName:null}}function ua(){return Eb}(function U1e(t){T0.push(t)})(function(t){Eb=w2(t.styleDefault,{family:Re.familyDefault})}),DB();var Cb=function(){return{prefix:null,iconName:null,rest:[]}};function w2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?zt:n;return I0[r][t]||I0[r][C0[r][t]]||(t in Gi.styles?t:null)||null}var RB=(Rn(b2={},zt,Object.keys(b0[zt])),Rn(b2,an,Object.keys(b0[an])),b2);function A2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Rn(e={},zt,"".concat(Re.cssPrefix,"-").concat(zt)),Rn(e,an,"".concat(Re.cssPrefix,"-").concat(an)),e),o=null,a=zt;(t.includes(s[zt])||t.some(function(l){return RB[zt].includes(l)}))&&(a=zt),(t.includes(s[an])||t.some(function(l){return RB[an].includes(l)}))&&(a=an);var c=t.reduce(function(l,u){var d=function sme(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function ime(t){return~L1e.indexOf(t)}(i)?null:i}(Re.cssPrefix,u);if(Wu[u]?(u=nme[a].includes(u)?M1e[a][u]:u,o=u,l.prefix=u):rme[a].indexOf(u)>-1?(o=u,l.prefix=w2(u,{family:a})):d?l.iconName=d:u!==Re.replacementClass&&u!==s[zt]&&u!==s[an]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===o?SB(l.iconName):{},h=Ic(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Wu.far&&Wu.fas&&!Re.autoFetchSvg&&(l.prefix="fas")}return l},Cb());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===an&&(Wu.fass||Re.autoFetchSvg)&&(c.prefix="fass",c.iconName=Ic(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=ua()||"fas"),c}var cme=function(){function t(){(function y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function E1e(t,e,n){e&&eB(t.prototype,e),n&&eB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=Te(Te({},n.definitions[a]||{}),o[a]),yb(a,o[a]);var c=b0[zt][a];c&&yb(c,o[a]),DB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),PB=[],Ku={},Yu={},lme=Object.keys(Yu);function Ib(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Ku[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function bc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Ku[t]||[]).forEach(function(s){s.apply(null,n)})}function _o(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Yu[t]?Yu[t].apply(null,e):void 0}function bb(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||ua();if(e)return e=Ic(n,e)||e,xB(MB.definitions,n,e)||xB(Gi.styles,n,e)}var MB=new cme,fme={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return po?(bc("beforeI2svg",e),_o("pseudoElements2svg",e),_o("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Re.autoReplaceSvg&&(Re.autoReplaceSvg=!0),Re.observeMutations=!0,function X1e(t){po&&(x2?setTimeout(t,0):EB.push(t))}(function(){pme({autoReplaceSvgRoot:n}),bc("watch",e)})}},ii={noAuto:function(){Re.autoReplaceSvg=!1,Re.observeMutations=!1,bc("noAuto")},config:Re,dom:fme,parse:{icon:function(e){if(null===e)return null;if("object"===f2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ic(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=w2(e[0]);return{prefix:r,iconName:Ic(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Re.cssPrefix,"-"))>-1||e.match(k1e))){var i=A2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||ua(),iconName:Ic(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=ua();return{prefix:s,iconName:Ic(s,e)||e}}}},library:MB,findIconDefinition:bb,toHtml:S0},pme=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Ht:n;(Object.keys(Gi.styles).length>0||Re.autoFetchSvg)&&po&&Re.autoReplaceSvg&&ii.dom.i2svg({node:r})};function T2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return S0(r)})}}),Object.defineProperty(t,"node",{get:function(){if(po){var r=Ht.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function wb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,v=p.height,T="fak"===i,I=[Re.replacementClass,s?"".concat(Re.cssPrefix,"-").concat(s):""].filter(function(Pn){return-1===d.classes.indexOf(Pn)}).filter(function(Pn){return""!==Pn||!!Pn}).concat(d.classes).join(" "),B={children:[],attributes:Te(Te({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:I,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},G=T&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};h&&(B.attributes[xc]=""),c&&(B.children.push({tag:"title",attributes:{id:B.attributes["aria-labelledby"]||"title-".concat(u||D0())},children:[c]}),delete B.attributes.title);var ue=Te(Te({},B),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:Te(Te({},G),d.styles)}),Pe=r.found&&n.found?_o("generateAbstractMask",ue)||{children:[],attributes:{}}:_o("generateAbstractIcon",ue)||{children:[],attributes:{}},Wt=Pe.attributes;return ue.children=Pe.children,ue.attributes=Wt,a?function mme(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(Re.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Te(Te({},i),{},{id:o}),children:r}]}]}(ue):function gme(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(gb(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=E2(Te(Te({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(ue)}function kB(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=Te(Te(Te({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[xc]="");var u=Te({},o.styles);gb(i)&&(u.transform=function W1e(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&lB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=E2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var Ab=Gi.styles;function Tb(t){var e=t[0],n=t[1],s=ob(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Re.cssPrefix,"-").concat(Cc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Re.cssPrefix,"-").concat(Cc.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Re.cssPrefix,"-").concat(Cc.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var vme={found:!1,width:512,height:512};function Db(t,e){var n=e;return"fa"===e&&null!==Re.styleDefault&&(e=ua()),new Promise(function(r,i){if(_o("missingIconAbstract"),"fa"===n){var o=SB(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Ab[e]&&Ab[e][t])return r(Tb(Ab[e][t]));(function yme(t,e){!hB&&!Re.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(Te(Te({},vme),{},{icon:Re.showMissingIcons&&t&&_o("missingIconAbstract")||{}}))})}var NB=function(){},Sb=Re.measurePerformance&&p2&&p2.mark&&p2.measure?p2:{mark:NB,measure:NB},R0='FA "6.4.2"',OB=function(e){Sb.mark("".concat(R0," ").concat(e," ends")),Sb.measure("".concat(R0," ").concat(e),"".concat(R0," ").concat(e," begins"),"".concat(R0," ").concat(e," ends"))},Rb={begin:function(e){return Sb.mark("".concat(R0," ").concat(e," begins")),function(){return OB(e)}},end:OB},D2=function(){};function FB(t){return"string"==typeof(t.getAttribute?t.getAttribute(xc):null)}function bme(t){return Ht.createElementNS("http://www.w3.org/2000/svg",t)}function wme(t){return Ht.createElement(t)}function VB(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?bme:wme:n;if("string"==typeof t)return Ht.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(VB(o,{ceFn:r}))}),i}var S2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(VB(i),n)}),null===n.getAttribute(xc)&&Re.keepOriginalSource){var r=Ht.createComment(function Ame(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~pb(n).indexOf(Re.replacementClass))return S2.replace(e);var i=new RegExp("".concat(Re.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Re.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return S0(a)}).join("\n");n.setAttribute(xc,""),n.innerHTML=o}};function LB(t){t()}function BB(t,e){var n="function"==typeof e?e:D2;if(0===t.length)n();else{var r=LB;Re.mutateApproach===R1e&&(r=ca.requestAnimationFrame||LB),r(function(){var i=function Ime(){return!0===Re.autoReplaceSvg?S2.replace:S2[Re.autoReplaceSvg]||S2.replace}(),s=Rb.begin("mutate");t.map(i),s(),n()})}}var Pb=!1;function HB(){Pb=!0}function Mb(){Pb=!1}var R2=null;function zB(t){if(cB&&Re.observeMutations){var e=t.treeCallback,n=void 0===e?D2:e,r=t.nodeCallback,i=void 0===r?D2:r,s=t.pseudoElementsCallback,o=void 0===s?D2:s,a=t.observeMutationsRoot,c=void 0===a?Ht:a;R2=new cB(function(l){if(!Pb){var u=ua();qu(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!FB(d.addedNodes[0])&&(Re.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Re.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&FB(d.target)&&~V1e.indexOf(d.attributeName))if("class"===d.attributeName&&function xme(t){var e=t.getAttribute?t.getAttribute(db):null,n=t.getAttribute?t.getAttribute(fb):null;return e&&n}(d.target)){var f=A2(pb(d.target)),p=f.iconName;d.target.setAttribute(db,f.prefix||u),p&&d.target.setAttribute(fb,p)}else(function Cme(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Re.replacementClass)})(d.target)&&i(d.target)})}}),po&&R2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function UB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function Sme(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=A2(pb(t));return i.prefix||(i.prefix=ua()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function ome(t,e){return(bB[t]||{})[e]}(i.prefix,t.innerText)||xb(i.prefix,vb(t.innerText))),!i.iconName&&Re.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function Rme(t){var e=qu(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Re.autoA11y&&(n?e["aria-labelledby"]="".concat(Re.replacementClass,"-title-").concat(r||D0()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=Ib("parseNodeAttributes",{},t),c=e.styleParser?function Dme(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return Te({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Ds,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var Mme=Gi.styles;function jB(t){var e="nest"===Re.autoReplaceSvg?UB(t,{styleParser:!1}):UB(t);return~e.extra.classes.indexOf(pB)?_o("generateLayersText",t,e):_o("generateSvgReplacementMutation",t,e)}var da=new Set;function $B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!po)return Promise.resolve();var n=Ht.documentElement.classList,r=function(d){return n.add("".concat(fB,"-").concat(d))},i=function(d){return n.remove("".concat(fB,"-").concat(d))},s=Re.autoFetchSvg?da:hb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Mme));s.includes("fa")||s.push("fa");var o=[".".concat(pB,":not([").concat(xc,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(xc,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=qu(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Rb.begin("onTree"),l=a.reduce(function(u,d){try{var f=jB(d);f&&u.push(f)}catch(h){hB||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){BB(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function kme(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;jB(t).then(function(n){n&&BB([n],e)})}function Nme(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:bb(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:bb(i||{})),t(r,Te(Te({},n),{},{mask:i}))}}hb.map(function(t){da.add("fa-".concat(t))}),Object.keys(C0[zt]).map(da.add.bind(da)),Object.keys(C0[an]).map(da.add.bind(da)),da=E0(da);var Ome=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Ds:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,v=void 0===g?[]:g,T=n.attributes,I=void 0===T?{}:T,B=n.styles,G=void 0===B?{}:B;if(e){var ue=e.prefix,Pe=e.iconName,Ke=e.icon;return T2(Te({type:"icon"},e),function(){return bc("beforeDOMElementCreation",{iconDefinition:e,params:n}),Re.autoA11y&&(f?I["aria-labelledby"]="".concat(Re.replacementClass,"-title-").concat(p||D0()):(I["aria-hidden"]="true",I.focusable="false")),wb({icons:{main:Tb(Ke),mask:c?Tb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ue,iconName:Pe,transform:Te(Te({},Ds),i),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:I,styles:G,classes:v}})})}},Fme={mixout:function(){return{icon:Nme(Ome)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=$B,n.nodeCallback=kme,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return $B(void 0===r?Ht:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([Db(i,a),u.iconName?Db(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=ob(g,2);h([n,wb({icons:{main:v[0],mask:v[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=E2(n.styles);return c.length>0&&(i.style=c),gb(o)&&(l=_o("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},Vme={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return T2({type:"layer"},function(){bc("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Re.cssPrefix,"-layers")].concat(E0(s)).join(" ")},children:o}]})}}}},Lme={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return T2({type:"counter",content:n},function(){return bc("beforeDOMElementCreation",{content:n,params:r}),function _me(t){var e=t.content,n=t.title,r=t.extra,i=Te(Te(Te({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=E2(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(Re.cssPrefix,"-layers-counter")].concat(E0(a))}})})}}}},Bme={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?Ds:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return T2({type:"text",content:n},function(){return bc("beforeDOMElementCreation",{content:n,params:r}),kB({content:n,transform:Te(Te({},Ds),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(Re.cssPrefix,"-layers-text")].concat(E0(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(lB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Re.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,kB({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},Hme=new RegExp('"',"ug"),GB=[1105920,1112319];function qB(t,e){var n="".concat(S1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=qu(t.children).filter(function(Ke){return Ke.getAttribute(ub)===e})[0],a=ca.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(N1e),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?an:zt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?I0[f][c[2].toLowerCase()]:O1e[f][l],p=function zme(t){var e=t.replace(Hme,""),n=function eme(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=GB[0]&&n<=GB[1],i=2===e.length&&e[0]===e[1];return{value:vb(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,v=p.isSecondary,T=c[0].startsWith("FontAwesome"),I=xb(h,g),B=I;if(T){var G=function ame(t){var e=AB[t],n=xb("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);G.iconName&&G.prefix&&(I=G.iconName,h=G.prefix)}if(!I||v||o&&o.getAttribute(db)===h&&o.getAttribute(fb)===B)r();else{t.setAttribute(n,B),o&&t.removeChild(o);var ue=function Pme(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ds,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Pe=ue.extra;Pe.attributes[ub]=e,Db(I,h).then(function(Ke){var Wt=wb(Te(Te({},ue),{},{icons:{main:Ke,mask:Cb()},prefix:h,iconName:B,extra:Pe,watchable:!0})),Pn=Ht.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Pn,t.firstChild):t.appendChild(Pn),Pn.outerHTML=Wt.map(function(_a){return S0(_a)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function Ume(t){return Promise.all([qB(t,"::before"),qB(t,"::after")])}function jme(t){return!(t.parentNode===document.head||~P1e.indexOf(t.tagName.toUpperCase())||t.getAttribute(ub)||t.parentNode&&"svg"===t.parentNode.tagName)}function WB(t){if(po)return new Promise(function(e,n){var r=qu(t.querySelectorAll("*")).filter(jme).map(Ume),i=Rb.begin("searchPseudoElements");HB(),Promise.all(r).then(function(){i(),Mb(),e()}).catch(function(){i(),Mb(),n()})})}var KB=!1,YB=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},kb={x:0,y:0,width:"100%",height:"100%"};function QB(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function Wme(t){return"g"===t.tag?t.children:[t]}var Kme={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?A2(i.split(" ").map(function(o){return o.trim()})):Cb();return s.prefix||(s.prefix=ua()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,f=o.icon,h=function q1e(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:Te(Te({},kb),{},{fill:"white"})},g=u.children?{children:u.children.map(QB)}:{},v={tag:"g",attributes:Te({},h.inner),children:[QB(Te({tag:u.tag,attributes:Te(Te({},u.attributes),h.path)},g))]},T={tag:"g",attributes:Te({},h.outer),children:[v]},I="mask-".concat(a||D0()),B="clip-".concat(a||D0()),G={tag:"mask",attributes:Te(Te({},kb),{},{id:I,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,T]},ue={tag:"defs",children:[{tag:"clipPath",attributes:{id:B},children:Wme(f)},G]};return r.push(ue,{tag:"rect",attributes:Te({fill:"currentColor","clip-path":"url(#".concat(B,")"),mask:"url(#".concat(I,")")},kb)}),{children:r,attributes:i}}}};!function ume(t,e){var n=e.mixoutsTo;PB=t,Ku={},Object.keys(Yu).forEach(function(r){-1===lme.indexOf(r)&&delete Yu[r]}),PB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===f2(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Ku[o]||(Ku[o]=[]),Ku[o].push(s[o])})}r.provides&&r.provides(Yu)})}([Y1e,Fme,Vme,Lme,Bme,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=WB,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Re.searchPseudoElements&&WB(void 0===r?Ht:r)}}},{mixout:function(){return{dom:{unwatch:function(){HB(),KB=!0}}}},hooks:function(){return{bootstrap:function(){zB(Ib("mutationObserverCallbacks",{}))},noAuto:function(){!function Tme(){R2&&R2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;KB?Mb():zB(Ib("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return YB(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=YB(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:Te({},h.outer),children:[{tag:"g",attributes:Te({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Te(Te({},r.icon.attributes),h.path)}]}]}}}},Kme,{provides:function(e){var n=!1;ca.matchMedia&&(n=ca.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Te(Te({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=Te(Te({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Te(Te({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:Te(Te({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Te(Te({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:Te(Te({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Te(Te({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Te(Te({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Te(Te({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:ii});var Jme=ii.parse,Zme=ii.icon;const e2e=["*"],r2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let o2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),XB=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),a2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[vr]}),e})(),c2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(is),J(Cr))},t.\u0275cmp=ir({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[vr],ngContentSelectors:e2e,decls:1,vars:0,template:function(r,i){1&r&&(function CD(t){const e=X()[ln][sr];if(!e.projection){const r=e.projection=Ad(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?XK(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function ID(t,e=0,n){const r=X(),i=ct(),s=ul(i,tt+t,16,null,n||null);null===s.projection&&(s.projection=e),R_(),(!r[Vs]||zc())&&32!=(32&s.flags)&&function YG(t,e,n){b5(e[je],0,e,n,iv(t,n,e),v5(n.parent||e[sr],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),l2e=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?Jme.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...r2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=Zme(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(J(n9),J(o2e),J(XB),J(a2e,8),J(c2e,8))},t.\u0275cmp=ir({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(dy("innerHTML",i.renderedIconHTML,V5),Ri("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[vr],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),JB=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({}),e})(),u2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[v1e]}),t.\u0275inj=Tt({providers:[Tl,JL],imports:[_i,JB]}),e})(),ZB=(()=>{var t;class e{constructor(){this.firestore=K(lo),this.dgAPI=K(Ks)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(this.planetScanSubscription)return;const i=Es(this.firestore,"scans-g"+r.planetScan.location.split(/\./)[0]);this.planetScanSubscription=Nm(nC(i,iC("location","==",r.planetScan.location),kF(1))).subscribe(s=>{let o=Object.assign(new o9,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==cr.RESOURCE||r.type==cr.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==cr.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==cr.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==cr.FLEET?o.fleets=r.planetScan.fleets:(0==s.length?Fm(Ui(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):rC(Ui(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=null)})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function d2e(t,e){1&t&&(ae(0,"p",3),we(1,"Each scan will be cached and shared with your alliance members "),yt(2,"img",4),_e())}let f2e=(()=>{var t;class e{constructor(){this.scanService=K(ZB),this.authService=K(pc),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-shared-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-shared-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/G0qBRyH.png","alt","beer"]],template:function(r,i){1&r&&(ae(0,"div",0),yt(1,"span",1),_e(),Qr(2,d2e,3,0,"p",2)),2&r&&(ke(2),nt("ngIf",i.active))},dependencies:[Ro],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),h2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[f2e]}),t.\u0275inj=Tt({providers:[ZB],imports:[_i,Oo(()=>Vo(pr_firebase)),Vl(()=>Ll()),fc(()=>hc()),oa(()=>aa(Fo(),{provider:new Ts(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),eH=(()=>{var t;class e{constructor(){this.firestore=K(lo),this.dgAPI=K(Ks),this.resourceProductionFormatterPipe=K(sb),this.decimalPipe=K(Tl)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(s=>s.location.join("."));this.scansSubscription=Nm(nC(Es(this.firestore,"scans-g"+i[0].split(/\./)[0]),iC("location","in",i))).subscribe(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Ot.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Ot.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Ot.SPACE_TETHER)&&(c.querySelector(".dgt-navigation-scan-structures-data .st").textContent="ST"),d.includes(Ot.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Ot.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Ot.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Ot.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Ot.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Ot.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Ot.MEDICAL_CENTRE)&&(f+=.3),d.includes(Ot.LEISURE_CENTRE)&&(f+=.4),d.includes(Ot.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+1.5*u.soldiers+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"}),this.scansSubscription.unsubscribe()})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function p2e(t,e){1&t&&(ae(0,"p",3),we(1,"AB - Army Barracks | ST - Space Tether | HB - Hyperspace Beacon | JG - Jump Gate | CS - Comms Satellite | LW - Light Weapons | HW - Heavy Weapons | SY - Ship Yard | SD - Space Dock | 1/1.4/1.7/2 - Population growth rate"),_e())}let g2e=(()=>{var t;class e{constructor(){this.scanService=K(eH),this.authService=K(pc),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&(ae(0,"div",0),yt(1,"span",1),_e(),Qr(2,p2e,2,0,"p",2)),2&r&&(ke(2),nt("ngIf",i.active))},dependencies:[Ro],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),m2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[g2e]}),t.\u0275inj=Tt({providers:[Tl,sb,eH],imports:[_i,Oo(()=>Vo(pr_firebase)),Vl(()=>Ll()),fc(()=>hc()),oa(()=>aa(Fo(),{provider:new Ts(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function _2e(t,e){if(1&t){const n=Yd();ae(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),we(6,"DGT Login"),_e()()(),ae(7,"tr",3)(8,"td"),yt(9,"input",4,5),_e(),ae(11,"td"),yt(12,"input",6,7),_e()(),ae(14,"tr",8)(15,"td",2)(16,"button",9),Zt("click",function(){Ji(n);const i=ry(10),s=ry(13);return Zi(Mn().signInWithEmailAndPassword(i.value,s.value))}),we(17,"Login"),_e(),ae(18,"button",10),Zt("click",function(){return Ji(n),Zi(Mn().signInWithGoogle())}),yt(19,"img",11),_e()()()()()()}}let v2e=(()=>{var t;class e{constructor(){this.authService=K(pc),this.auth=K(Hf),this.firestore=K(lo),this.localStorageService=K(xs),this.changeDetection=K(Do),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new de(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(Ct.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(Qr(0,_2e,20,0,"div",0),Tn(1,"async")),2&r&&nt("ngIf",pi(1,1,i.displayLogin))},dependencies:[Ro,pf],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),y2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[v2e]}),t.\u0275inj=Tt({imports:[_i,Oo(()=>Vo(pr_firebase)),Vl(()=>Ll()),fc(()=>hc()),oa(()=>aa(Fo(),{provider:new Ts(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var M2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let Sye=(()=>{var t;class e{constructor(){this.localStorageService=K(xs)}sortMembersByScore(r){for(let i=0;i<r.length-1;i++)for(let s=i+1;s<r.length;s++)if(r[i].stats&&r[s].stats&&r[i].stats.score<r[s].stats.score){let o=r[i];r[i]=r[s],r[s]=o}}showComponent(r,i){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show")),i.nativeElement&&i.nativeElement.classList.contains("hide")&&(i.nativeElement.classList.add("show"),i.nativeElement.classList.remove("hide"))}fetchAndClean(){let r=this.localStorageService.get(Ct.ALLIANCE_MEMBERS)||[];return document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(i.querySelector(".plainHeader").remove(),i.querySelector(".playerList").remove())}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Az=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(is),J(Cr))},t.\u0275dir=Oe({type:t}),e})(),wc=(()=>{var t;class e extends Az{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Wn(t)))(i||t)}}(),t.\u0275dir=Oe({type:t,features:[vt]}),e})();const Ss=new ye("NgValueAccessor"),Mye={provide:Ss,useExisting:St(()=>k2),multi:!0},Nye=new ye("CompositionEventMode");let k2=(()=>{var t;class e extends Az{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kye(){const t=So()?So().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(is),J(Cr),J(Nye,8))},t.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Zt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[jt([Mye]),vt]}),e})();const gr=new ye("NgValidators"),ha=new ye("NgAsyncValidators");function Vz(t){return null!=t}function Lz(t){return Qd(t)?zn(t):t}function Bz(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Hz(t,e){return e.map(n=>n(t))}function zz(t){return t.map(e=>function Fye(t){return!t.validate}(e)?e:n=>e.validate(n))}function Bb(t){return null!=t?function Uz(t){if(!t)return null;const e=t.filter(Vz);return 0==e.length?null:function(n){return Bz(Hz(n,e))}}(zz(t)):null}function Hb(t){return null!=t?function jz(t){if(!t)return null;const e=t.filter(Vz);return 0==e.length?null:function(n){return function Rye(...t){const e=mw(t),{args:n,keys:r}=mV(t),i=new de(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;rr(n[u]).subscribe(et(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?vV(r,a):a),s.complete())}))}});return e?i.pipe(_V(e)):i}(Hz(n,e).map(Lz)).pipe(Ye(Bz))}}(zz(t)):null}function $z(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function zb(t){return t?Array.isArray(t)?t:[t]:[]}function O2(t,e){return Array.isArray(t)?t.includes(e):t===e}function Wz(t,e){const n=zb(e);return zb(t).forEach(i=>{O2(n,i)||n.push(i)}),n}function Kz(t,e){return zb(e).filter(n=>!O2(t,n))}class Yz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Bb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Sr extends Yz{get formDirective(){return null}get path(){return null}}class pa extends Yz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xz=(()=>{var t;class e extends Qz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(pa,2))},t.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Xd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[vt]}),e})(),Ub=(()=>{var t;class e extends Qz{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Sr,10))},t.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Xd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[vt]}),e})();const P0="VALID",V2="INVALID",Qu="PENDING",M0="DISABLED";function Gb(t){return(L2(t)?t.validators:t)||null}function qb(t,e){return(L2(e)?e.asyncValidators:t)||null}function L2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class tU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===P0}get invalid(){return this.status===V2}get pending(){return this.status==Qu}get disabled(){return this.status===M0}get enabled(){return this.status!==M0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Wz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Wz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Kz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Kz(e,this._rawAsyncValidators))}hasValidator(e){return O2(this._rawValidators,e)}hasAsyncValidator(e){return O2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=M0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=P0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===P0||this.status===Qu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?M0:P0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qu,this._hasOwnPendingAsyncValidator=!0;const n=Lz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new bt,this.statusChanges=new bt}_calculateStatus(){return this._allControlsDisabled()?M0:this.errors?V2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qu)?Qu:this._anyControlsHaveStatus(V2)?V2:P0}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){L2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Hye(t){return Array.isArray(t)?Bb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zye(t){return Array.isArray(t)?Hb(t):t||null}(this._rawAsyncValidators)}}class Wb extends tU{constructor(e,n,r){super(Gb(n),qb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function eU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new ee(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Zz(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[n])throw new ee(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Xu=new ye("CallSetDisabledState",{providedIn:"root",factory:()=>B2}),B2="always";function k0(t,e,n=B2){Kb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function $ye(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&nU(t,e)})}(t,e),function qye(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Gye(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&nU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function jye(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function U2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Kb(t,e){const n=function Gz(t){return t._rawValidators}(t);null!==e.validator?t.setValidators($z(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function qz(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators($z(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();U2(e._rawValidators,i),U2(e._rawAsyncValidators,i)}function nU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Xye={provide:Sr,useExisting:St(()=>O0)},N0=(()=>Promise.resolve())();let O0=(()=>{var t;class e extends Sr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new bt,this.form=new Wb({},Bb(r),Hb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){N0.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),k0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){N0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){N0.then(()=>{const i=this._findContainer(r.path),s=new Wb({});(function rU(t,e){Kb(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){N0.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){N0.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function iU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(J(gr,10),J(ha,10),J(Xu,8))},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Zt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[jt([Xye]),vt]}),e})();function sU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function oU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const aU=class extends tU{constructor(e=null,n,r){super(Gb(n),qb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=oU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){oU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},e4e={provide:pa,useExisting:St(()=>Jb)},uU=(()=>Promise.resolve())();let Jb=(()=>{var t;class e extends pa{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new aU,this._registered=!1,this.name="",this.update=new bt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function Xb(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===k2?n=s:function Yye(t){return Object.getPrototypeOf(t.constructor)===wc}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function Qb(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){k0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){uU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function wl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);uU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function H2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Sr,9),J(gr,10),J(ha,10),J(Ss,10),J(Do,8),J(Xu,8))},t.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jt([e4e]),vt,vr]}),e})(),Zb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),fU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({}),e})(),b4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({imports:[fU]}),e})(),RU=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Xu,useValue:r.callSetDisabledState??B2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({imports:[b4e]}),e})(),A4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Un({name:"kickMemberFormatter",type:t,pure:!0}),e})();const T4e=["dgtSpinner"],D4e=["dgtMainContainer"];function S4e(t,e){if(1&t&&(ae(0,"span",18),we(1),_e()),2&t){const n=Mn().$implicit;ke(1),Pa("[",n.kickEta,"]")}}const R4e=function(){return["far","circle-xmark"]};function P4e(t,e){if(1&t){const n=Yd();ae(0,"div",19)(1,"form",20,21),Zt("ngSubmit",function(i){return Ji(n),Zi(Mn(4).onSubmitKickMember(i))}),yt(3,"input",22),Tn(4,"kickMemberFormatter"),ae(5,"button",23),yt(6,"fa-icon",24),_e()()()}if(2&t){const n=Mn().$implicit;ke(3),sy("name",pi(4,2,n.dgId)),ke(3),nt("icon",function YS(t,e,n){const r=yr()+t,i=X();return i[r]===Ge?os(i,r,n?e.call(n):e()):function jd(t,e){return t[e]}(i,r)}(4,R4e))}}function M4e(t,e){if(1&t&&(ae(0,"div",8)(1,"div",9)(2,"span",10),we(3),_e(),ae(4,"span",11),we(5,"Rank: "),ae(6,"span",12),we(7),_e()(),Qr(8,S4e,2,1,"span",13),ae(9,"span",14),we(10,"Score: "),ae(11,"span",12),we(12),_e()(),ae(13,"span",15),we(14,"Combat: "),ae(15,"span",12),we(16),_e()(),ae(17,"span",16),we(18,"Planets: "),ae(19,"span",12),we(20),_e()(),Qr(21,P4e,7,5,"div",17),_e()()),2&t){const n=e.$implicit,r=Mn(2).ngIf,i=Mn();ke(3),Yt(n.name),ke(4),Yt(n.stats.rank),ke(1),nt("ngIf",null!=n.kickEta),ke(4),Yt(n.stats.score),ke(4),Yt(n.stats.combatScore),ke(4),Yt(n.stats.planets),ke(1),nt("ngIf",null==n.kickEta&&r===i.UserRole.ADMIN)}}function k4e(t,e){if(1&t&&(ae(0,"div",5,6),Qr(2,M4e,22,7,"div",7),_e()),2&t){const n=Mn(2);ke(2),nt("ngForOf",n.allianceMembers)}}function N4e(t,e){if(1&t&&(Wd(0),Qr(1,k4e,3,1,"div",4),Kd()),2&t){const n=Mn();ke(1),nt("ngIf",n.active)}}let O4e=(()=>{var t;class e{constructor(r){this.authService=K(pc),this.localStorageService=K(xs),this.membersPanelService=K(Sye),this.active=!1,this.initialized=!1,this.UserRole=sC,r.addIcons(M2),this.authService.authState.subscribe(i=>{i.status&&!this.initialized&&(this.allianceMembers=this.membersPanelService.fetchAndClean(),this.active=i.status,this.role=new de(s=>{s.next(i.role),s.complete()}),this.membersPanelService.sortMembersByScore(this.allianceMembers),this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.membersPanelService.showComponent(this.loadSpinner,this.mainContainer)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(Ct.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(XB))},t.\u0275cmp=ir({type:t,selectors:[["dgt-alliance-members"]],viewQuery:function(r,i){if(1&r&&(ls(T4e,5),ls(D4e,5)),2&r){let s;Ni(s=Oi())&&(i.loadSpinner=s.first),Ni(s=Oi())&&(i.mainContainer=s.first)}},decls:5,vars:3,consts:[[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-alliance-members-panel user hide",4,"ngIf"],[1,"dgt-alliance-members-panel","user","hide"],["dgtMainContainer",""],["class","dgt-alliance-members-member",4,"ngFor","ngForOf"],[1,"dgt-alliance-members-member"],[1,"player","user"],[1,"name"],[1,"rank","stats"],[1,"value"],["class","kick-eta",4,"ngIf"],[1,"score","stats"],[1,"combat-score","stats"],[1,"planets","stats"],["class","dgt-alliance-members-kick",4,"ngIf"],[1,"kick-eta"],[1,"dgt-alliance-members-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"]],template:function(r,i){1&r&&(ae(0,"div",0,1),yt(2,"span",2),_e(),Qr(3,N4e,2,1,"ng-container",3),Tn(4,"async")),2&r&&(ke(3),nt("ngIf",pi(4,1,i.role)))},dependencies:[i4,Ro,Zb,Ub,O0,l2e,pf,A4e],styles:[".dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-alliance-members-panel.show[_ngcontent-%COMP%]{display:block}.dgt-alliance-members-panel.hide[_ngcontent-%COMP%]{display:none}.dgt-alliance-members-panel[_ngcontent-%COMP%], .dgt-alliance-members-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-alliance-members-kick[_ngcontent-%COMP%]{float:right!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:0;line-height:22px}span.name[_ngcontent-%COMP%]{font-weight:400!important;font-size:1em!important;width:175px!important;display:inline-block;color:#ffd46f}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}"]}),e})(),F4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[O4e]}),t.\u0275inj=Tt({imports:[_i,RU,JB,Oo(()=>Vo(pr_firebase)),Vl(()=>Ll()),fc(()=>hc()),oa(()=>aa(Fo(),{provider:new Ts(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),V4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),L4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[V4e]}),t.\u0275inj=Tt({imports:[_i]}),e})(),B4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),H4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[B4e]}),t.\u0275inj=Tt({imports:[_i]}),e})();const z4e=["dgtSpinner"];function U4e(t,e){if(1&t){const n=Yd();ae(0,"div",7)(1,"span"),we(2,"There is a new update for DarkGalaxy Toolbox. "),ae(3,"a",8),Zt("click",function(){return Ji(n),Zi(Mn().installUpdate())}),we(4,"Click here"),_e(),we(5," to install it."),_e()()}}let j4e=(()=>{var t;class e{constructor(){this.changeLogService=K(RL),this.changeDetector=K(Do),this.localStorageService=K(xs),this.updateAvailable=new de(r=>{this.changeLogService.checkForUpdate(this.changeDetector,r)}),this.version=this.localStorageService.get(Ct.LOCAL_VERSION)}installUpdate(){this.changeLogService.installUpdateEmitter.emit(!0)}ngAfterViewInit(){this.changeLogService.showComponent(this.loadSpinner)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-changelog"]],viewQuery:function(r,i){if(1&r&&ls(z4e,5),2&r){let s;Ni(s=Oi())&&(i.loadSpinner=s.first)}},decls:30,vars:4,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-important"],["id","dgt-update"],["target","_blank","href","https://github.com/vberezan/dg-toolbox/raw/main/tampermonkey/dg-toolbox.user.js",3,"click"]],template:function(r,i){1&r&&(ae(0,"div",0)(1,"h2"),we(2,"DarkGalaxy Tools "),ae(3,"span"),we(4),_e()(),ae(5,"div",1,2),yt(7,"span",3),_e(),Qr(8,U4e,6,0,"div",4),Tn(9,"async"),ae(10,"div",5)(11,"div")(12,"span"),we(13,"Changelog:"),_e()(),ae(14,"ul")(15,"li"),we(16,"Technical updates"),_e(),ae(17,"li"),we(18,"Added images for all ships"),_e()()(),ae(19,"div",6)(20,"div")(21,"span"),we(22,"Important:"),_e()(),ae(23,"ul")(24,"li"),we(25,"please report any bug to Whatsapp channel"),_e(),ae(26,"li")(27,"b"),we(28,"disable browser ads-blocking plugins on game domain"),_e(),we(29," - some of them are interfering with Firebase communication"),_e()()()()),2&r&&(ke(4),Yt(i.version),ke(4),nt("ngIf",pi(9,2,i.updateAvailable)))},dependencies:[Ro,pf],styles:["#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border:1px solid #5e5e5e;border-radius:5px;background:rgb(75,75,75)}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin-top:0;font-size:18px;font-weight:700;border-bottom:1px solid #5e5e5e;margin-bottom:6px;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{background:#576740;margin:5px;border-radius:3px;padding:5px 10px!important;color:#ffffffad}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#784946;border-radius:3px;display:block;margin:0 5px;color:#ffffffad}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}"]}),e})(),$4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[j4e]}),t.\u0275inj=Tt({imports:[_i,Oo(()=>Vo(pr_firebase)),oa(()=>aa(Fo(),{provider:new Ts(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function F0(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new le({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Kh)}});t.subscribe(s)})}class $2{}class G2{}class Rs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Rs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Rs;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Rs?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class G4e{encodeKey(e){return PU(e)}encodeValue(e){return PU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const W4e=/%(\d[a-f0-9])/gi,K4e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PU(t){return encodeURIComponent(t).replace(W4e,(e,n)=>K4e[n]??e)}function q2(t){return`${t}`}class ga{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new G4e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function q4e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(q2):[q2(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ga({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(q2(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(q2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Y4e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function MU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function kU(t){return typeof Blob<"u"&&t instanceof Blob}function NU(t){return typeof FormData<"u"&&t instanceof FormData}class V0{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Q4e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Rs),this.context||(this.context=new Y4e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new ga,this.urlWithParams=n}serializeBody(){return null===this.body?null:MU(this.body)||kU(this.body)||NU(this.body)||function X4e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ga?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||NU(this.body)?null:kU(this.body)?this.body.type||null:MU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ga?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new V0(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var Ju=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ju||{});class ow{constructor(e,n=200,r="OK"){this.headers=e.headers||new Rs,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class aw extends ow{constructor(e={}){super(e),this.type=Ju.ResponseHeader}clone(e={}){return new aw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Zu extends ow{constructor(e={}){super(e),this.type=Ju.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Zu({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class OU extends ow{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function cw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let W2=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof V0)o=r;else{let l,u;l=s.headers instanceof Rs?s.headers:new Rs(s.headers),s.params&&(u=s.params instanceof ga?s.params:new ga({fromObject:s.params})),o=new V0(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Ve(o).pipe(Qh(l=>this.handler.handle(l)));if(r instanceof V0||"events"===s.observe)return a;const c=a.pipe(Cs(l=>l instanceof Zu));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Ye(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Ye(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Ye(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new ga).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,cw(s,i))}post(r,i,s={}){return this.request("POST",r,cw(s,i))}put(r,i,s={}){return this.request("PUT",r,cw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(De($2))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function LU(t,e){return e(t)}function Z4e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const t6e=new ye(""),L0=new ye(""),BU=new ye("");function n6e(){let t=null;return(e,n)=>{null===t&&(t=(K(t6e,{optional:!0})??[]).reduceRight(Z4e,LU));const r=K(_g),i=r.add();return t(e,n).pipe(Xh(()=>r.remove(i)))}}let HU=(()=>{var t;class e extends $2{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=K(_g)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(L0),...this.injector.get(BU,[])]));this.chain=s.reduceRight((o,a)=>function e6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),LU)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Xh(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(De(G2),De(fi))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const o6e=/^\)\]\}',?\n/;let UU=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new ee(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?zn(i.\u0275loadImpl()):Ve(null)).pipe(ai(()=>new de(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((v,T)=>a.setRequestHeader(v,T.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const v=r.detectContentTypeHeader();null!==v&&a.setRequestHeader("Content-Type",v)}if(r.responseType){const v=r.responseType.toLowerCase();a.responseType="json"!==v?v:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const v=a.statusText||"OK",T=new Rs(a.getAllResponseHeaders()),I=function a6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new aw({headers:T,status:a.status,statusText:v,url:I}),l},d=()=>{let{headers:v,status:T,statusText:I,url:B}=u(),G=null;204!==T&&(G=typeof a.response>"u"?a.responseText:a.response),0===T&&(T=G?200:0);let ue=T>=200&&T<300;if("json"===r.responseType&&"string"==typeof G){const Pe=G;G=G.replace(o6e,"");try{G=""!==G?JSON.parse(G):null}catch(Ke){G=Pe,ue&&(ue=!1,G={error:Ke,text:G})}}ue?(o.next(new Zu({body:G,headers:v,status:T,statusText:I,url:B||void 0})),o.complete()):o.error(new OU({error:G,headers:v,status:T,statusText:I,url:B||void 0}))},f=v=>{const{url:T}=u(),I=new OU({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:T||void 0});o.error(I)};let h=!1;const p=v=>{h||(o.next(u()),h=!0);let T={type:Ju.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(T.total=v.total),"text"===r.responseType&&a.responseText&&(T.partialText=a.responseText),o.next(T)},g=v=>{let T={type:Ju.UploadProgress,loaded:v.loaded};v.lengthComputable&&(T.total=v.total),o.next(T)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:Ju.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(De(FR))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const lw=new ye("XSRF_ENABLED"),jU=new ye("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),$U=new ye("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class GU{}let u6e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=AR(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(De(Br),De(rs),De(jU))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function d6e(t,e){const n=t.url.toLowerCase();if(!K(lw)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=K(GU).getToken(),i=K($U);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ma=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ma||{});function Tc(t,e){return{\u0275kind:t,\u0275providers:e}}function f6e(...t){const e=[W2,UU,HU,{provide:$2,useExisting:HU},{provide:G2,useExisting:UU},{provide:L0,useValue:d6e,multi:!0},{provide:lw,useValue:!0},{provide:GU,useClass:u6e}];for(const n of t)e.push(...n.\u0275providers);return function gv(t){return{\u0275providers:t}}(e)}const qU=new ye("LEGACY_INTERCEPTOR_FN");let WU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t}),t.\u0275inj=Tt({providers:[f6e(Tc(ma.LegacyInterceptors,[{provide:qU,useFactory:n6e},{provide:L0,useExisting:qU,multi:!0}]))]}),e})();class y6e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}class uw{constructor(){this._planets=[]}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get planets(){return this._planets}set planets(e){this._planets=e}get name(){return this._name}set name(e){this._name=e}toJSON(){return{playerId:this.playerId,planets:this.planets,name:this.name,turn:this.turn,total:this.total}}}class E6e{constructor(e,n){this._planets=[],this._galaxy=e,this._planets=n}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{galaxy:this.galaxy,planets:this.planets}}}class dw{constructor(e,n,r){this._page=e,this._total=n,this._action=r}get page(){return this._page}set page(e){this._page=e}get total(){return this._total}set total(e){this._total=e}get action(){return this._action}set action(e){this._action=e}}var ed;class fw{constructor(){this.NAVIGATION_BASE_URL="https://andromeda.darkgalaxy.com/navigation/",this.GALAXIES=49,this.G1_SECTORS=25,this.INNER_SECTORS=6,this.OUTER_SECTORS=2,this.SYSTEMS=4,this.httpClient=K(W2),this.firestore=K(lo),this.dgAPI=K(Ks),this._systemScanEmitter=new bt,this._planetScanEmitter=new bt,this.delay=function(){var e=y(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}scanNavigationScreen(e,n=[]){var r=this;return y(function*(){const i=500+Math.floor(1e3*Math.random()),s=r.filterValidGalaxies(n);let o=0,a=!0,c=e.subscribe(u=>{a=!u});const l=r.totalSystemsNr(n);for(let u=0;u<s.length;u++){let d=new Map;const f=Es(r.firestore,"planets-g"+s[u]);if(1===s[u])for(let h=1;h<=r.G1_SECTORS;h++)for(let p=1;p<=r.SYSTEMS;p++)a&&(yield r.parseAndSave(s[u],h,p,d,f),r._systemScanEmitter.emit(new dw(++o,l,"load-save")),yield r.delay(i));if(s[u]>1&&s[u]<14)for(let h=1;h<=r.INNER_SECTORS;h++)for(let p=1;p<=r.SYSTEMS;p++)a&&(yield r.parseAndSave(s[u],h,p,d,f),r._systemScanEmitter.emit(new dw(++o,l,"load-save")),yield r.delay(i));if(s[u]>=14)for(let h=1;h<=r.OUTER_SECTORS;h++)for(let p=1;p<=r.SYSTEMS;p++)a&&(yield r.parseAndSave(s[u],h,p,d,f),r._systemScanEmitter.emit(new dw(++o,l,"load-save")),yield r.delay(i));r.savePlayerPlanets(d)}c.unsubscribe()})()}savePlayerPlanets(e){const n=Es(this.firestore,"players-planets");e.forEach((r,i)=>{let s=Om(Ui(n,i.toString())).subscribe(o=>{if(o){Object.assign(new uw,o).planets.forEach(l=>{r.planets.some(d=>d.galaxy===l.galaxy)||r.planets.push(l)});let c=0;r.planets.forEach(l=>{c+=l.planets.length}),r.total=c+1,rC(Ui(n,i.toString()),JSON.parse(JSON.stringify(r))).catch(l=>console.log(l))}else{let a=0;r.planets.forEach(c=>{a+=c.planets.length}),r.total=a,Fm(Ui(n,r.playerId.toString()),JSON.parse(JSON.stringify(r))).catch(c=>console.log(c))}s.unsubscribe()})})}totalSystemsNr(e){let n=0;const r=this.filterValidGalaxies(e);for(let i=0;i<r.length;i++)1===r[i]&&(n+=this.G1_SECTORS*this.SYSTEMS),r[i]>1&&r[i]<14&&(n+=this.INNER_SECTORS*this.SYSTEMS),r[i]>=14&&(n+=this.OUTER_SECTORS*this.SYSTEMS);return n}allGalaxies(){let e=[];for(let n=1;n<=this.GALAXIES;n++)e.push(n);return e}parseAndSave(e,n,r,i,s){var o=this;return y(function*(){const a=yield F0(o.httpClient.get(o.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(a,"text/html").querySelectorAll(".navigation .planets").forEach((l,u)=>{setTimeout(()=>{let d=new y6e;const f=l.querySelector(".coords span").textContent.trim(),h=f.split(/\./);if(o.planetScanEmitter.emit(f),d.location=f,d.galaxy=parseInt(h[0]),d.sector=parseInt(h[1]),d.system=parseInt(h[2]),d.planet=parseInt(h[3]),l.classList.contains("neutral")?(d.owner="none",d.playerId=-1,d.alliance="-"):(d.alliance=l.querySelector(".allianceName")?l.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",d.owner=l.querySelector(".playerName").textContent.trim().toLowerCase(),d.playerId=parseInt(l.querySelector(".playerName").attributes.playerId.value.trim())),d.playerId>=0){d.turn=o.dgAPI.gameTurn(),i.has(d.playerId)||i.set(d.playerId,new uw);let p=i.get(d.playerId).planets;p.some(v=>v.galaxy===e)?p.filter(T=>T.galaxy===e&&!T.planets.includes(d.location)).forEach(T=>T.planets.push(d.location)):i.get(d.playerId).planets.push(new E6e(e,[d.location])),i.get(d.playerId).name=d.owner,i.get(d.playerId).playerId=d.playerId,i.get(d.playerId).turn=o.dgAPI.gameTurn(),Fm(Ui(s,d.location),JSON.parse(JSON.stringify(d))).catch(v=>console.log(v))}},50*u)})})()}filterValidGalaxies(e){let n=[];if(1===e.length&&149===e[0])n.push(...this.allGalaxies());else if(1===e.length&&213===e[0])for(let r=2;r<=13;r++)n.push(r);else if(1===e.length&&1449===e[0])for(let r=14;r<=49;r++)n.push(r);else for(let r=0;r<e.length;r++)e[r]>0&&e[r]<=this.GALAXIES&&n.push(e[r]);return n}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(ed=fw).\u0275fac=function(e){return new(e||ed)},ed.\u0275prov=be({token:ed,factory:ed.\u0275fac,providedIn:"root"}),mn([Ii(1,un())],fw.prototype,"scanNavigationScreen",null);class hw{get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance}}}class x6e{constructor(e,n){this._turn=e,this._version=n}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{turn:this.turn,version:this.version}}}let C6e=(()=>{var t;class e{constructor(){this.PLAYER_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/combat/players/",this.ALLIANCE_RANKINGS_URL="https://andromeda.darkgalaxy.com/navigation/",this.ALLIANCE_COMBAT_RANKINGS_URL="https://andromeda.darkgalaxy.com/rankings/combat/alliances/",this.httpClient=K(W2),this.firestore=K(lo),this.dgAPI=K(Ks),this._playersRankingsEmitter=new bt,this.delay=function(){var r=y(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayersRankingsScreens(r){var i=this;return y(function*(){const s=1500+Math.floor(1500*Math.random()),o=Es(i.firestore,"players-rankings"),a=Es(i.firestore,"metadata"),c=Es(i.firestore,"players-planets");let l=!0,u=r.subscribe(T=>{l=!T}),d=0,f=new Map,h=yield F0(i.httpClient.get(i.PLAYER_RANKINGS_URL,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html");const g=parseInt(p.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[p.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim());for(let T=1;T<=g;T++)l&&(h=yield F0(i.httpClient.get(i.PLAYER_RANKINGS_URL+T,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html"),p.querySelectorAll(".rankingsList .entry").forEach(I=>{const B=parseInt(I.querySelector(".playerName").attributes.playerId.value.trim());f.has(B)||f.set(B,new hw);let G=f.get(B);G.playerId=B,G.name=I.querySelector(".playerName").textContent.trim().toLowerCase(),G.rank=parseInt(I.querySelector(".rank").textContent.trim().replace(/,/g,"")),G.score=parseInt(I.querySelector(".score").textContent.trim().replace(/,/g,"")),G.combinedScore=G.combatScore+G.score,G.alliance=I.querySelector(".allianceName")?I.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-"}),i._playersRankingsEmitter.emit({action:"load",page:++d,total:2*g}),yield i.delay(s),h=yield F0(i.httpClient.get(i.PLAYER_COMBAT_RANKINGS_URL+T,{responseType:"text"})),p=(new DOMParser).parseFromString(h,"text/html"),p.querySelectorAll(".rankingsList .entry").forEach(I=>{const B=parseInt(I.querySelector(".playerName").attributes.playerId.value.trim());f.has(B)||f.set(B,new hw);let G=f.get(B);G.combatScore=parseInt(I.querySelector(".score").textContent.trim().replace(/,/g,"")),G.combinedScore=G.combatScore+G.score}),i._playersRankingsEmitter.emit({action:"load",page:++d,total:2*g}),yield i.delay(s)),u.unsubscribe();let v=0;f.forEach((T,I)=>{l&&setTimeout(()=>{let B=Om(Ui(c,I.toString())).subscribe(G=>{T.planets=Object.assign(new uw,G).total,Fm(Ui(o,I.toString()),JSON.parse(JSON.stringify(T))).then(()=>{i._playersRankingsEmitter.emit({action:"save",page:++v,total:f.size})}).catch(ue=>console.log(ue)),B.unsubscribe()})},50*v)}),yield i.delay(50*f.size),Om(Ui(a,"players-rankings-turn")).subscribe(T=>{let I=Object.assign(new x6e(0,0),T);I.turn===i.dgAPI.gameTurn()&&I.version++,rC(Ui(a,"players-rankings-turn"),JSON.parse(JSON.stringify(I))).catch(B=>console.log(B))})})()}scanAlliancesRankingsScreens(){return y(function*(){})()}get playersRankingsEmitter(){return this._playersRankingsEmitter}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),I6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(J(Cr))},t.\u0275dir=Oe({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&Zt("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();const b6e=["planetsLoadModal"],w6e=["rankingsLoadModal"],A6e=["planetProgressBar"],T6e=["playersProgressBar"],D6e=["planetCounter"];function S6e(t,e){if(1&t){const n=Yd();Wd(0),ae(1,"div",1)(2,"div",2)(3,"b"),we(4,"DGT Admin Panel"),_e()(),ae(5,"div",3)(6,"div",4)(7,"form")(8,"input",5),Zt("ngModelChange",function(i){return Ji(n),Zi(Mn().controls.galaxies=i)}),_e(),ae(9,"button",6),Zt("click",function(){return Ji(n),Zi(Mn().scanNavigationScreen())}),we(10,"Scan"),_e()(),ae(11,"div",7)(12,"span",8),we(13,"Use this with caution. Universe scan it's a very expensive operation for both DG server and DGT database!"),_e(),ae(14,"span",8),we(15,"Usage examples:"),_e(),ae(16,"ul")(17,"li"),we(18,"1,2 - G01 and G02"),_e(),ae(19,"li"),we(20,"34 - G34"),_e(),ae(21,"li"),we(22,"special: 213 - first ring (G02-G13)"),_e(),ae(23,"li"),we(24,"special: 1449 - second ring (G14-G49)"),_e(),ae(25,"li"),we(26,"special: 149 - everything (G01-G49)"),_e()()()(),ae(27,"div",9)(28,"form")(29,"button",6),Zt("click",function(){return Ji(n),Zi(Mn().scanPlayersRankingScreens())}),we(30,"Load Rankings"),_e()()()()(),ae(31,"div",10,11)(33,"div",12)(34,"div",13)(35,"span",14),we(36),_e(),ae(37,"span",15,16),we(39),_e()(),ae(40,"div",17)(41,"span",18),we(42),_e(),yt(43,"span",19,20),_e(),ae(45,"div",21)(46,"button",22),Zt("click",function(){return Ji(n),Zi(Mn().cancelScan())}),we(47,"Cancel"),_e()()()(),ae(48,"div",23,24)(50,"div",12)(51,"div",13)(52,"span",25),we(53),_e()(),ae(54,"div",17)(55,"span",18),we(56),_e(),yt(57,"span",19,26),_e(),ae(59,"div",21)(60,"button",22),Zt("click",function(){return Ji(n),Zi(Mn().cancelScan())}),we(61,"Cancel"),_e()()()(),Kd()}if(2&t){const n=Mn();ke(8),nt("ngModel",n.controls.galaxies),ke(28),Yt(n.loadedSystem),ke(3),Yt(n.loadedPlanet),ke(3),Pa("",n.planetPercentage,"%"),ke(11),Yt(n.loadedRankings),ke(3),Pa("",n.playersPercentage,"%")}}let R6e=(()=>{var t;class e{constructor(){this.navigationLoaderService=K(fw),this.rankingsLoaderService=K(C6e),this.changeDetection=K(Do),this.cancelScanEmitter=new bt,this.controls={galaxies:""},this.loadedPlanet="",this.planetPercentage=0,this.playersPercentage=0}scanNavigationScreen(){var r=this;return y(function*(){let i=r.controls.galaxies.trim().split(",").map(function(s){return parseInt(s,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.navigationLoaderService.systemScanEmitter.subscribe(s=>{r.loadedSystem="Loading "+s.page+"/"+s.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*s.page/s.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.navigationLoaderService.planetScanEmitter.subscribe(s=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=s,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.navigationLoaderService.scanNavigationScreen(r.cancelScanEmitter,i),r.cancelScan()})()}scanPlayersRankingScreens(){var r=this;return y(function*(){r.playersProgressBar.nativeElement.style.width="0%",r.loadedRankings="Loading ranking pages",r.rankingsLoadModal.nativeElement.classList.add("show"),r.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.rankingsCountSubscription=r.rankingsLoaderService.playersRankingsEmitter.subscribe(i=>{switch(i.action){case"load":r.loadedRankings="Loading "+i.page+"/"+i.total+" ranking page",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%";break;case"save":r.loadedRankings="Saving "+i.page+"/"+i.total+" players",r.changeDetection.detectChanges(),r.playersPercentage=Math.floor(100*i.page/i.total),r.playersProgressBar.nativeElement.style.width=r.playersPercentage+"%"}}),yield r.rankingsLoaderService.scanPlayersRankingsScreens(r.cancelScanEmitter),r.cancelScan()})()}cancelScan(){this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe(),this.rankingsCountSubscription&&this.rankingsCountSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(ls(b6e,5),ls(w6e,5),ls(A6e,5),ls(T6e,5),ls(D6e,5)),2&r){let s;Ni(s=Oi())&&(i.planetsLoadModal=s.first),Ni(s=Oi())&&(i.rankingsLoadModal=s.first),Ni(s=Oi())&&(i.planetProgressBar=s.first),Ni(s=Oi())&&(i.playersProgressBar=s.first),Ni(s=Oi())&&(i.planetCounter=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],[1,"opacBackground","lightBorder","noPadding","seperatorLarge"],[1,"opacDarkBackground","padding"],[1,"noPadding","ofHidden"],["id","admin-load-planets"],["type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","load-planets-example"],[1,"usage-warning"],["id","admin-load-rankings",2,"padding","3px","font-weight","bold"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"rankings-counter"],["playersProgressBar",""]],template:function(r,i){1&r&&Qr(0,S6e,62,6,"ng-container",0),2&r&&nt("ngIf",!0)},dependencies:[Ro,Zb,k2,Xz,Ub,Jb,O0,I6e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%], #dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #676767;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#ffffff;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;border-radius:5px;max-width:200px;width:100%;margin:10px auto;height:20px;background:rgb(75,75,75);overflow:hidden}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #767676;border-radius:3px;background:rgb(75,75,75);cursor:pointer;width:auto;height:24px;line-height:20px;font-size:13px;min-width:65px!important}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgb(45,45,45);border:1px solid #545454}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#598b0f}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#fff;font-size:15px}.counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000;font-size:14px}span.planet-counter[_ngcontent-%COMP%]{transition:all .1s}#load-planets-example[_ngcontent-%COMP%]{display:table}#load-planets-example[_ngcontent-%COMP%]{font-weight:400!important;background:#576740!important;color:#ffffffad!important;font-size:11px;text-align:left;padding:5px;border-radius:3px}#load-planets-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%], #load-planets-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{padding:5px;font-weight:700}"]}),e})(),P6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[R6e]}),t.\u0275inj=Tt({imports:[_i,RU,WU,Oo(()=>Vo(pr_firebase)),Vl(()=>Ll()),fc(()=>hc()),oa(()=>aa(Fo(),{provider:new Ts(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),M6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-alliance-rankings"]],decls:2,vars:0,template:function(r,i){1&r&&(ae(0,"p"),we(1,"rankings-panel works!"),_e())}}),e})(),k6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[M6e]}),t.\u0275inj=Tt({imports:[_i]}),e})();class N6e{constructor(){this._stats=new hw}get stats(){return this._stats}set stats(e){this._stats=e}get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,dgId:this.dgId,kickEta:this.kickEta,stats:this.stats}}}class O6e{constructor(){this._playersRankings=0,this._allianceMembers=0,this._planets=0}get playersRankings(){return this._playersRankings}set playersRankings(e){this._playersRankings=e}get allianceMembers(){return this._allianceMembers}set allianceMembers(e){this._allianceMembers=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{playersRankings:this.playersRankings,allianceMembers:this.allianceMembers,planets:this.planets}}}let F6e=(()=>{var t;class e{constructor(){this.ALLIANCES_URL="https://andromeda.darkgalaxy.com/alliances/",this.httpClient=K(W2),this.firestore=K(lo),this.localStorageService=K(xs)}loadTurnBasedUpdates(r){null==this.localStorageService.get(Ct.LAST_UPDATE_TURN)&&this.localStorageService.cache(Ct.LAST_UPDATE_TURN,new O6e);let i=this.localStorageService.get(Ct.LAST_UPDATE_TURN);(null==this.localStorageService.get(Ct.PLAYERS_STATS)||0===i.playersRankings||r>i.playersRankings)&&this.loadPlayersRankings(r),(null==this.localStorageService.get(Ct.ALLIANCE_MEMBERS)||0===i.allianceMembers||r>i.allianceMembers)&&this.loadAllianceMembers(r)}loadLiveUpdates(){this.loadVersion()}loadVersion(){const r=Es(this.firestore,"metadata");if(this.localStorageService.isExpired(Ct.REMOTE_VERSION)){let s=Om(Ui(r,"version")).subscribe(o=>{this.localStorageService.cache(Ct.REMOTE_VERSION,Object.assign({value:""},o).value,3e5),s.unsubscribe()})}}loadPlayersRankings(r){const i=Es(this.firestore,"players-rankings");let s=Nm(i).subscribe(o=>{let a=Object.assign([],o);this.localStorageService.cache(Ct.PLAYERS_STATS,a);let c=this.localStorageService.get(Ct.LAST_UPDATE_TURN);c.playersRankings=r,this.localStorageService.cache(Ct.LAST_UPDATE_TURN,c),s.unsubscribe()})}loadAllianceMembers(r){var i=this;return y(function*(){const s=yield F0(i.httpClient.get(i.ALLIANCES_URL,{responseType:"text"})),o=(new DOMParser).parseFromString(s,"text/html"),a=i.localStorageService.get(Ct.PLAYERS_STATS);if(!o.querySelector('[action="/alliances/join/"]')){let c=[];o.querySelectorAll(".allianceBox").forEach(u=>{u.querySelector(".plainHeader")&&"member list"===u.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&u.querySelectorAll(".player").forEach(d=>{let f=new N6e;if(null!=d.querySelector('[action^="/alliances/note/"]')){let h=d.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);f.dgId=h[h.length-2]}null==d.querySelector('[action="/alliances/kick/"] input')&&null!=d.querySelector(".right>b")&&(f.kickEta=d.querySelector(".right>b").textContent.trim().toLowerCase()),null!=d.querySelector("div.name")&&(f.name=d.querySelector("div.name").childNodes[0].textContent.trim(),f.stats=a.find(h=>h.name.toLowerCase()===f.name.toLowerCase()),c.push(f))})});let l=i.localStorageService.get(Ct.LAST_UPDATE_TURN);l.allianceMembers=r,i.localStorageService.cache(Ct.ALLIANCE_MEMBERS,c),i.localStorageService.cache(Ct.LAST_UPDATE_TURN,l)}})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),V6e=(()=>{var t;class e{constructor(){this.synchronizerService=K(F6e),this.dgAPI=K(Ks),this.synchronizerService.loadLiveUpdates(),this.synchronizerService.loadTurnBasedUpdates(this.dgAPI.gameTurn())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=ir({type:t,selectors:[["dgt-local-storage-synchronizer"]],decls:2,vars:0,template:function(r,i){1&r&&(ae(0,"p"),we(1,"local-storage-synchronizer works!"),_e())}}),e})(),L6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Pt({type:t,bootstrap:[V6e]}),t.\u0275inj=Tt({imports:[_i,WU,Oo(()=>Vo(pr_firebase)),fc(()=>hc()),oa(()=>aa(Fo(),{provider:new Ts(pr_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Ci=_te();let jr=window.location.pathname.split(/\//g);Ci.bootstrapModule(H4e).catch(t=>console.error(t)),Ci.bootstrapModule(L4e).catch(t=>console.error(t)),Ci.bootstrapModule(y2e).catch(t=>console.error(t)),Ci.bootstrapModule(L6e).catch(t=>console.log(t)),Ci.bootstrapModule(f1e).catch(t=>console.error(t)),2===jr.length&&0===jr[1].trim().length&&(Ci.bootstrapModule($4e).catch(t=>console.error(t)),Ci.bootstrapModule(P6e).catch(t=>console.error(t))),"planets"===jr[1]&&Ci.bootstrapModule(u2e).catch(t=>console.error(t)),"planet"===jr[1]&&"comms"===(5===jr.length&&jr[3])&&Ci.bootstrapModule(h2e).catch(t=>console.error(t)),"navigation"===jr[1]&&6===jr.length&&!isNaN(+jr[2])&&!isNaN(+jr[3])&&!isNaN(+jr[4])&&Ci.bootstrapModule(m2e).catch(t=>console.error(t)),"alliances"===jr[1]&&Ci.bootstrapModule(F4e).catch(t=>console.error(t)),"rankings"===jr[1]&&"alliances"===jr[2]&&Ci.bootstrapModule(k6e).catch(t=>console.error(t))},42:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.BlockCipher,Y=b.algo,N=[],q=[],_=[],w=[],P=[],E=[],D=[],x=[],S=[],A=[];!function(){for(var m=[],C=0;C<256;C++)m[C]=C<128?C<<1:C<<1^283;var L=0,O=0;for(C=0;C<256;C++){var z=O^O<<1^O<<2^O<<3^O<<4;N[L]=z=z>>>8^255&z^99,q[z]=L;var fe,j=m[L],le=m[j],oe=m[le];_[L]=(fe=257*m[z]^16843008*z)<<24|fe>>>8,w[L]=fe<<16|fe>>>16,P[L]=fe<<8|fe>>>24,E[L]=fe,D[z]=(fe=16843009*oe^65537*le^257*j^16843008*L)<<24|fe>>>8,x[z]=fe<<16|fe>>>16,S[z]=fe<<8|fe>>>24,A[z]=fe,L?(L=j^m[m[m[oe^j]]],O^=m[m[O]]):L=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],k=Y.AES=U.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var C=this._keyPriorReset=this._key,L=C.words,O=C.sigBytes/4,j=4*((this._nRounds=O+6)+1),le=this._keySchedule=[],oe=0;oe<j;oe++)oe<O?le[oe]=L[oe]:(m=le[oe-1],oe%O?O>6&&oe%O==4&&(m=N[m>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m]):(m=N[(m=m<<8|m>>>24)>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m],m^=F[oe/O|0]<<24),le[oe]=le[oe-O]^m);for(var fe=this._invKeySchedule=[],Ie=0;Ie<j;Ie++){if(oe=j-Ie,Ie%4)var m=le[oe];else m=le[oe-4];fe[Ie]=Ie<4||oe<=4?m:D[N[m>>>24]]^x[N[m>>>16&255]]^S[N[m>>>8&255]]^A[N[255&m]]}}},encryptBlock:function(m,C){this._doCryptBlock(m,C,this._keySchedule,_,w,P,E,N)},decryptBlock:function(m,C){var L=m[C+1];m[C+1]=m[C+3],m[C+3]=L,this._doCryptBlock(m,C,this._invKeySchedule,D,x,S,A,q),L=m[C+1],m[C+1]=m[C+3],m[C+3]=L},_doCryptBlock:function(m,C,L,O,z,j,le,oe){for(var fe=this._nRounds,Ie=m[C]^L[0],W=m[C+1]^L[1],ce=m[C+2]^L[2],me=m[C+3]^L[3],se=4,Ne=1;Ne<fe;Ne++){var de=O[Ie>>>24]^z[W>>>16&255]^j[ce>>>8&255]^le[255&me]^L[se++],qe=O[W>>>24]^z[ce>>>16&255]^j[me>>>8&255]^le[255&Ie]^L[se++],Ze=O[ce>>>24]^z[me>>>16&255]^j[Ie>>>8&255]^le[255&W]^L[se++],Q=O[me>>>24]^z[Ie>>>16&255]^j[W>>>8&255]^le[255&ce]^L[se++];Ie=de,W=qe,ce=Ze,me=Q}de=(oe[Ie>>>24]<<24|oe[W>>>16&255]<<16|oe[ce>>>8&255]<<8|oe[255&me])^L[se++],qe=(oe[W>>>24]<<24|oe[ce>>>16&255]<<16|oe[me>>>8&255]<<8|oe[255&Ie])^L[se++],Ze=(oe[ce>>>24]<<24|oe[me>>>16&255]<<16|oe[Ie>>>8&255]<<8|oe[255&W])^L[se++],Q=(oe[me>>>24]<<24|oe[Ie>>>16&255]<<16|oe[W>>>8&255]<<8|oe[255&ce])^L[se++],m[C]=de,m[C+1]=qe,m[C+2]=Ze,m[C+3]=Q},keySize:8});b.AES=U._createHelper(k)}(),R.AES)},172:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.BlockCipher;const N=16,q=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],_=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var w={pbox:[],sbox:[]};function P(A,F){let O=A.sbox[0][F>>24&255]+A.sbox[1][F>>16&255];return O^=A.sbox[2][F>>8&255],O+=A.sbox[3][255&F],O}function E(A,F,k){let L,m=F,C=k;for(let O=0;O<N;++O)m^=A.pbox[O],C=P(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[N],m^=A.pbox[N+1],{left:m,right:C}}var S=b.algo.Blowfish=U.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function x(A,F,k){for(let z=0;z<4;z++){A.sbox[z]=[];for(let j=0;j<256;j++)A.sbox[z][j]=_[z][j]}let m=0;for(let z=0;z<N+2;z++)A.pbox[z]=q[z]^F[m],m++,m>=k&&(m=0);let C=0,L=0,O=0;for(let z=0;z<N+2;z+=2)O=E(A,C,L),C=O.left,L=O.right,A.pbox[z]=C,A.pbox[z+1]=L;for(let z=0;z<4;z++)for(let j=0;j<256;j+=2)O=E(A,C,L),C=O.left,L=O.right,A.sbox[z][j]=C,A.sbox[z][j+1]=L;return!0}(w,A.words,A.sigBytes/4)}},encryptBlock:function(A,F){var k=E(w,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},decryptBlock:function(A,F){var k=function D(A,F,k){let L,m=F,C=k;for(let O=N+1;O>1;--O)m^=A.pbox[O],C=P(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[1],m^=A.pbox[0],{left:m,right:C}}(w,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},blockSize:2,keySize:4,ivSize:2});b.Blowfish=U._createHelper(S)}(),R.Blowfish)},270:function(ve,xe,V){var $,U,Y,N,q,_,P,D,x,A,F,k,C,O,j,le,fe,Ie,R;ve.exports=(R=V(12),V(66),void(R.lib.Cipher||($=R,U=$.lib,Y=U.Base,N=U.WordArray,q=U.BufferedBlockAlgorithm,_=$.enc,P=_.Base64,D=$.algo.EvpKDF,x=U.Cipher=q.extend({cfg:Y.extend(),createEncryptor:function(W,ce){return this.create(this._ENC_XFORM_MODE,W,ce)},createDecryptor:function(W,ce){return this.create(this._DEC_XFORM_MODE,W,ce)},init:function(W,ce,me){this.cfg=this.cfg.extend(me),this._xformMode=W,this._key=ce,this.reset()},reset:function(){q.reset.call(this),this._doReset()},process:function(W){return this._append(W),this._process()},finalize:function(W){return W&&this._append(W),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function W(ce){return"string"==typeof ce?Ie:le}return function(ce){return{encrypt:function(me,se,Ne){return W(se).encrypt(ce,me,se,Ne)},decrypt:function(me,se,Ne){return W(se).decrypt(ce,me,se,Ne)}}}}()}),U.StreamCipher=x.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=$.mode={},F=U.BlockCipherMode=Y.extend({createEncryptor:function(W,ce){return this.Encryptor.create(W,ce)},createDecryptor:function(W,ce){return this.Decryptor.create(W,ce)},init:function(W,ce){this._cipher=W,this._iv=ce}}),k=A.CBC=function(){var W=F.extend();function ce(me,se,Ne){var de,qe=this._iv;qe?(de=qe,this._iv=undefined):de=this._prevBlock;for(var Ze=0;Ze<Ne;Ze++)me[se+Ze]^=de[Ze]}return W.Encryptor=W.extend({processBlock:function(me,se){var Ne=this._cipher,de=Ne.blockSize;ce.call(this,me,se,de),Ne.encryptBlock(me,se),this._prevBlock=me.slice(se,se+de)}}),W.Decryptor=W.extend({processBlock:function(me,se){var Ne=this._cipher,de=Ne.blockSize,qe=me.slice(se,se+de);Ne.decryptBlock(me,se),ce.call(this,me,se,de),this._prevBlock=qe}}),W}(),C=($.pad={}).Pkcs7={pad:function(W,ce){for(var me=4*ce,se=me-W.sigBytes%me,Ne=se<<24|se<<16|se<<8|se,de=[],qe=0;qe<se;qe+=4)de.push(Ne);var Ze=N.create(de,se);W.concat(Ze)},unpad:function(W){W.sigBytes-=255&W.words[W.sigBytes-1>>>2]}},U.BlockCipher=x.extend({cfg:x.cfg.extend({mode:k,padding:C}),reset:function(){var W;x.reset.call(this);var ce=this.cfg,me=ce.iv,se=ce.mode;this._xformMode==this._ENC_XFORM_MODE?W=se.createEncryptor:(W=se.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==W?this._mode.init(this,me&&me.words):(this._mode=W.call(se,this,me&&me.words),this._mode.__creator=W)},_doProcessBlock:function(W,ce){this._mode.processBlock(W,ce)},_doFinalize:function(){var W,ce=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ce.pad(this._data,this.blockSize),W=this._process(!0)):(W=this._process(!0),ce.unpad(W)),W},blockSize:4}),O=U.CipherParams=Y.extend({init:function(W){this.mixIn(W)},toString:function(W){return(W||this.formatter).stringify(this)}}),j=($.format={}).OpenSSL={stringify:function(W){var me=W.ciphertext,se=W.salt;return(se?N.create([1398893684,1701076831]).concat(se).concat(me):me).toString(P)},parse:function(W){var ce,me=P.parse(W),se=me.words;return 1398893684==se[0]&&1701076831==se[1]&&(ce=N.create(se.slice(2,4)),se.splice(0,4),me.sigBytes-=16),O.create({ciphertext:me,salt:ce})}},le=U.SerializableCipher=Y.extend({cfg:Y.extend({format:j}),encrypt:function(W,ce,me,se){se=this.cfg.extend(se);var Ne=W.createEncryptor(me,se),de=Ne.finalize(ce),qe=Ne.cfg;return O.create({ciphertext:de,key:me,iv:qe.iv,algorithm:W,mode:qe.mode,padding:qe.padding,blockSize:W.blockSize,formatter:se.format})},decrypt:function(W,ce,me,se){return se=this.cfg.extend(se),ce=this._parse(ce,se.format),W.createDecryptor(me,se).finalize(ce.ciphertext)},_parse:function(W,ce){return"string"==typeof W?ce.parse(W,this):W}}),fe=($.kdf={}).OpenSSL={execute:function(W,ce,me,se,Ne){if(se||(se=N.random(8)),Ne)var de=D.create({keySize:ce+me,hasher:Ne}).compute(W,se);else de=D.create({keySize:ce+me}).compute(W,se);var qe=N.create(de.words.slice(ce),4*me);return de.sigBytes=4*ce,O.create({key:de,iv:qe,salt:se})}},Ie=U.PasswordBasedCipher=le.extend({cfg:le.cfg.extend({kdf:fe}),encrypt:function(W,ce,me,se){var Ne=(se=this.cfg.extend(se)).kdf.execute(me,W.keySize,W.ivSize,se.salt,se.hasher);se.iv=Ne.iv;var de=le.encrypt.call(this,W,ce,Ne.key,se);return de.mixIn(Ne),de},decrypt:function(W,ce,me,se){se=this.cfg.extend(se),ce=this._parse(ce,se.format);var Ne=se.kdf.execute(me,W.keySize,W.ivSize,ce.salt,se.hasher);return se.iv=Ne.iv,le.decrypt.call(this,W,ce,Ne.key,se)}}))))},12:function(ve,xe,V){var R;ve.exports=(R=R||function(b,$){var U;if(typeof window<"u"&&window.crypto&&(U=window.crypto),typeof self<"u"&&self.crypto&&(U=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(U=globalThis.crypto),!U&&typeof window<"u"&&window.msCrypto&&(U=window.msCrypto),!U&&typeof global<"u"&&global.crypto&&(U=global.crypto),!U)try{U=V(480)}catch{}var Y=function(){if(U){if("function"==typeof U.getRandomValues)try{return U.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof U.randomBytes)try{return U.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},N=Object.create||function(){function m(){}return function(C){var L;return m.prototype=C,L=new m,m.prototype=null,L}}(),q={},_=q.lib={},w=_.Base={extend:function(m){var C=N(this);return m&&C.mixIn(m),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var C in m)m.hasOwnProperty(C)&&(this[C]=m[C]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}},P=_.WordArray=w.extend({init:function(m,C){m=this.words=m||[],this.sigBytes=null!=C?C:4*m.length},toString:function(m){return(m||D).stringify(this)},concat:function(m){var C=this.words,L=m.words,O=this.sigBytes,z=m.sigBytes;if(this.clamp(),O%4)for(var j=0;j<z;j++)C[O+j>>>2]|=(L[j>>>2]>>>24-j%4*8&255)<<24-(O+j)%4*8;else for(var oe=0;oe<z;oe+=4)C[O+oe>>>2]=L[oe>>>2];return this.sigBytes+=z,this},clamp:function(){var m=this.words,C=this.sigBytes;m[C>>>2]&=4294967295<<32-C%4*8,m.length=b.ceil(C/4)},clone:function(){var m=w.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var C=[],L=0;L<m;L+=4)C.push(Y());return new P.init(C,m)}}),E=q.enc={},D=E.Hex={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],z=0;z<L;z++){var j=C[z>>>2]>>>24-z%4*8&255;O.push((j>>>4).toString(16)),O.push((15&j).toString(16))}return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O+=2)L[O>>>3]|=parseInt(m.substr(O,2),16)<<24-O%8*4;return new P.init(L,C/2)}},x=E.Latin1={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],z=0;z<L;z++)O.push(String.fromCharCode(C[z>>>2]>>>24-z%4*8&255));return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O++)L[O>>>2]|=(255&m.charCodeAt(O))<<24-O%4*8;return new P.init(L,C)}},S=E.Utf8={stringify:function(m){try{return decodeURIComponent(escape(x.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return x.parse(unescape(encodeURIComponent(m)))}},A=_.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new P.init,this._nDataBytes=0},_append:function(m){"string"==typeof m&&(m=S.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var C,L=this._data,O=L.words,z=L.sigBytes,j=this.blockSize,oe=z/(4*j),fe=(oe=m?b.ceil(oe):b.max((0|oe)-this._minBufferSize,0))*j,Ie=b.min(4*fe,z);if(fe){for(var W=0;W<fe;W+=j)this._doProcessBlock(O,W);C=O.splice(0,fe),L.sigBytes-=Ie}return new P.init(C,Ie)},clone:function(){var m=w.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),k=(_.Hasher=A.extend({cfg:w.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){return m&&this._append(m),this._doFinalize()},blockSize:16,_createHelper:function(m){return function(C,L){return new m.init(L).finalize(C)}},_createHmacHelper:function(m){return function(C,L){return new k.HMAC.init(m,L).finalize(C)}}}),q.algo={});return q}(Math),R)},506:function(ve,xe,V){var R,U;ve.exports=(R=V(12),U=R.lib.WordArray,R.enc.Base64={stringify:function(_){var w=_.words,P=_.sigBytes,E=this._map;_.clamp();for(var D=[],x=0;x<P;x+=3)for(var k=(w[x>>>2]>>>24-x%4*8&255)<<16|(w[x+1>>>2]>>>24-(x+1)%4*8&255)<<8|w[x+2>>>2]>>>24-(x+2)%4*8&255,m=0;m<4&&x+.75*m<P;m++)D.push(E.charAt(k>>>6*(3-m)&63));var C=E.charAt(64);if(C)for(;D.length%4;)D.push(C);return D.join("")},parse:function(_){var w=_.length,P=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var D=0;D<P.length;D++)E[P.charCodeAt(D)]=D}var x=P.charAt(64);if(x){var S=_.indexOf(x);-1!==S&&(w=S)}return function q(_,w,P){for(var E=[],D=0,x=0;x<w;x++)if(x%4){var S=P[_.charCodeAt(x-1)]<<x%4*2,A=P[_.charCodeAt(x)]>>>6-x%4*2;E[D>>>2]|=(S|A)<<24-D%4*8,D++}return U.create(E,D)}(_,w,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},R.enc.Base64)},523:function(ve,xe,V){var R,U;ve.exports=(R=V(12),U=R.lib.WordArray,R.enc.Base64url={stringify:function(_,w){void 0===w&&(w=!0);var P=_.words,E=_.sigBytes,D=w?this._safe_map:this._map;_.clamp();for(var x=[],S=0;S<E;S+=3)for(var m=(P[S>>>2]>>>24-S%4*8&255)<<16|(P[S+1>>>2]>>>24-(S+1)%4*8&255)<<8|P[S+2>>>2]>>>24-(S+2)%4*8&255,C=0;C<4&&S+.75*C<E;C++)x.push(D.charAt(m>>>6*(3-C)&63));var L=D.charAt(64);if(L)for(;x.length%4;)x.push(L);return x.join("")},parse:function(_,w){void 0===w&&(w=!0);var P=_.length,E=w?this._safe_map:this._map,D=this._reverseMap;if(!D){D=this._reverseMap=[];for(var x=0;x<E.length;x++)D[E.charCodeAt(x)]=x}var S=E.charAt(64);if(S){var A=_.indexOf(S);-1!==A&&(P=A)}return function q(_,w,P){for(var E=[],D=0,x=0;x<w;x++)if(x%4){var S=P[_.charCodeAt(x-1)]<<x%4*2,A=P[_.charCodeAt(x)]>>>6-x%4*2;E[D>>>2]|=(S|A)<<24-D%4*8,D++}return U.create(E,D)}(_,P,D)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},R.enc.Base64url)},454:function(ve,xe,V){var R;ve.exports=(R=V(12),function(){var U=R.lib.WordArray,Y=R.enc;function q(_){return _<<8&4278255360|_>>>8&16711935}Y.Utf16=Y.Utf16BE={stringify:function(_){for(var w=_.words,P=_.sigBytes,E=[],D=0;D<P;D+=2)E.push(String.fromCharCode(w[D>>>2]>>>16-D%4*8&65535));return E.join("")},parse:function(_){for(var w=_.length,P=[],E=0;E<w;E++)P[E>>>1]|=_.charCodeAt(E)<<16-E%2*16;return U.create(P,2*w)}},Y.Utf16LE={stringify:function(_){for(var w=_.words,P=_.sigBytes,E=[],D=0;D<P;D+=2){var x=q(w[D>>>2]>>>16-D%4*8&65535);E.push(String.fromCharCode(x))}return E.join("")},parse:function(_){for(var w=_.length,P=[],E=0;E<w;E++)P[E>>>1]|=q(_.charCodeAt(E)<<16-E%2*16);return U.create(P,2*w)}}}(),R.enc.Utf16)},66:function(ve,xe,V){var b,$,U,Y,N,_,R;ve.exports=(R=V(12),V(446),V(990),Y=($=(b=R).lib).WordArray,_=(N=b.algo).EvpKDF=(U=$.Base).extend({cfg:U.extend({keySize:4,hasher:N.MD5,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,P){for(var E,D=this.cfg,x=D.hasher.create(),S=Y.create(),A=S.words,F=D.keySize,k=D.iterations;A.length<F;){E&&x.update(E),E=x.update(w).finalize(P),x.reset();for(var m=1;m<k;m++)E=x.finalize(E),x.reset();S.concat(E)}return S.sigBytes=4*F,S}}),b.EvpKDF=function(w,P,E){return _.create(E).compute(w,P)},R.EvpKDF)},826:function(ve,xe,V){var R,Y,q;ve.exports=(R=V(12),V(270),Y=R.lib.CipherParams,q=R.enc.Hex,R.format.Hex={stringify:function(P){return P.ciphertext.toString(q)},parse:function(P){var E=q.parse(P);return Y.create({ciphertext:E})}},R.format.Hex)},990:function(ve,xe,V){var R,N;ve.exports=(R=V(12),N=R.enc.Utf8,void(R.algo.HMAC=R.lib.Base.extend({init:function(w,P){w=this._hasher=new w.init,"string"==typeof P&&(P=N.parse(P));var E=w.blockSize,D=4*E;P.sigBytes>D&&(P=w.finalize(P)),P.clamp();for(var x=this._oKey=P.clone(),S=this._iKey=P.clone(),A=x.words,F=S.words,k=0;k<E;k++)A[k]^=1549556828,F[k]^=909522486;x.sigBytes=S.sigBytes=D,this.reset()},reset:function(){var w=this._hasher;w.reset(),w.update(this._iKey)},update:function(w){return this._hasher.update(w),this},finalize:function(w){var P=this._hasher,E=P.finalize(w);return P.reset(),P.finalize(this._oKey.clone().concat(E))}})))},874:function(ve,xe,V){var R;ve.exports=(R=V(12),V(802),V(37),V(454),V(506),V(523),V(873),V(446),V(78),V(811),V(870),V(913),V(545),V(558),V(990),V(538),V(66),V(270),V(228),V(392),V(584),V(15),V(594),V(237),V(501),V(4),V(297),V(738),V(826),V(42),V(769),V(195),V(969),V(848),V(172),R)},37:function(ve,xe,V){var R;ve.exports=(R=V(12),function(){if("function"==typeof ArrayBuffer){var U=R.lib.WordArray,Y=U.init,N=U.init=function(q){if(q instanceof ArrayBuffer&&(q=new Uint8Array(q)),(q instanceof Int8Array||typeof Uint8ClampedArray<"u"&&q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array)&&(q=new Uint8Array(q.buffer,q.byteOffset,q.byteLength)),q instanceof Uint8Array){for(var _=q.byteLength,w=[],P=0;P<_;P++)w[P>>>2]|=q[P]<<24-P%4*8;Y.call(this,w,_)}else Y.apply(this,arguments)};N.prototype=U}}(),R.lib.WordArray)},873:function(ve,xe,V){var R;ve.exports=(R=V(12),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,q=$.algo,_=[];!function(){for(var S=0;S<64;S++)_[S]=4294967296*b.abs(b.sin(S+1))|0}();var w=q.MD5=N.extend({_doReset:function(){this._hash=new Y.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,A){for(var F=0;F<16;F++){var k=A+F,m=S[k];S[k]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var C=this._hash.words,L=S[A+0],O=S[A+1],z=S[A+2],j=S[A+3],le=S[A+4],oe=S[A+5],fe=S[A+6],Ie=S[A+7],W=S[A+8],ce=S[A+9],me=S[A+10],se=S[A+11],Ne=S[A+12],de=S[A+13],qe=S[A+14],Ze=S[A+15],Q=C[0],ie=C[1],Z=C[2],re=C[3];Q=P(Q,ie,Z,re,L,7,_[0]),re=P(re,Q,ie,Z,O,12,_[1]),Z=P(Z,re,Q,ie,z,17,_[2]),ie=P(ie,Z,re,Q,j,22,_[3]),Q=P(Q,ie,Z,re,le,7,_[4]),re=P(re,Q,ie,Z,oe,12,_[5]),Z=P(Z,re,Q,ie,fe,17,_[6]),ie=P(ie,Z,re,Q,Ie,22,_[7]),Q=P(Q,ie,Z,re,W,7,_[8]),re=P(re,Q,ie,Z,ce,12,_[9]),Z=P(Z,re,Q,ie,me,17,_[10]),ie=P(ie,Z,re,Q,se,22,_[11]),Q=P(Q,ie,Z,re,Ne,7,_[12]),re=P(re,Q,ie,Z,de,12,_[13]),Z=P(Z,re,Q,ie,qe,17,_[14]),Q=E(Q,ie=P(ie,Z,re,Q,Ze,22,_[15]),Z,re,O,5,_[16]),re=E(re,Q,ie,Z,fe,9,_[17]),Z=E(Z,re,Q,ie,se,14,_[18]),ie=E(ie,Z,re,Q,L,20,_[19]),Q=E(Q,ie,Z,re,oe,5,_[20]),re=E(re,Q,ie,Z,me,9,_[21]),Z=E(Z,re,Q,ie,Ze,14,_[22]),ie=E(ie,Z,re,Q,le,20,_[23]),Q=E(Q,ie,Z,re,ce,5,_[24]),re=E(re,Q,ie,Z,qe,9,_[25]),Z=E(Z,re,Q,ie,j,14,_[26]),ie=E(ie,Z,re,Q,W,20,_[27]),Q=E(Q,ie,Z,re,de,5,_[28]),re=E(re,Q,ie,Z,z,9,_[29]),Z=E(Z,re,Q,ie,Ie,14,_[30]),Q=D(Q,ie=E(ie,Z,re,Q,Ne,20,_[31]),Z,re,oe,4,_[32]),re=D(re,Q,ie,Z,W,11,_[33]),Z=D(Z,re,Q,ie,se,16,_[34]),ie=D(ie,Z,re,Q,qe,23,_[35]),Q=D(Q,ie,Z,re,O,4,_[36]),re=D(re,Q,ie,Z,le,11,_[37]),Z=D(Z,re,Q,ie,Ie,16,_[38]),ie=D(ie,Z,re,Q,me,23,_[39]),Q=D(Q,ie,Z,re,de,4,_[40]),re=D(re,Q,ie,Z,L,11,_[41]),Z=D(Z,re,Q,ie,j,16,_[42]),ie=D(ie,Z,re,Q,fe,23,_[43]),Q=D(Q,ie,Z,re,ce,4,_[44]),re=D(re,Q,ie,Z,Ne,11,_[45]),Z=D(Z,re,Q,ie,Ze,16,_[46]),Q=x(Q,ie=D(ie,Z,re,Q,z,23,_[47]),Z,re,L,6,_[48]),re=x(re,Q,ie,Z,Ie,10,_[49]),Z=x(Z,re,Q,ie,qe,15,_[50]),ie=x(ie,Z,re,Q,oe,21,_[51]),Q=x(Q,ie,Z,re,Ne,6,_[52]),re=x(re,Q,ie,Z,j,10,_[53]),Z=x(Z,re,Q,ie,me,15,_[54]),ie=x(ie,Z,re,Q,O,21,_[55]),Q=x(Q,ie,Z,re,W,6,_[56]),re=x(re,Q,ie,Z,Ze,10,_[57]),Z=x(Z,re,Q,ie,fe,15,_[58]),ie=x(ie,Z,re,Q,de,21,_[59]),Q=x(Q,ie,Z,re,le,6,_[60]),re=x(re,Q,ie,Z,se,10,_[61]),Z=x(Z,re,Q,ie,z,15,_[62]),ie=x(ie,Z,re,Q,ce,21,_[63]),C[0]=C[0]+Q|0,C[1]=C[1]+ie|0,C[2]=C[2]+Z|0,C[3]=C[3]+re|0},_doFinalize:function(){var S=this._data,A=S.words,F=8*this._nDataBytes,k=8*S.sigBytes;A[k>>>5]|=128<<24-k%32;var m=b.floor(F/4294967296),C=F;A[15+(k+64>>>9<<4)]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),A[14+(k+64>>>9<<4)]=16711935&(C<<8|C>>>24)|4278255360&(C<<24|C>>>8),S.sigBytes=4*(A.length+1),this._process();for(var L=this._hash,O=L.words,z=0;z<4;z++){var j=O[z];O[z]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8)}return L},clone:function(){var S=N.clone.call(this);return S._hash=this._hash.clone(),S}});function P(S,A,F,k,m,C,L){var O=S+(A&F|~A&k)+m+L;return(O<<C|O>>>32-C)+A}function E(S,A,F,k,m,C,L){var O=S+(A&k|F&~k)+m+L;return(O<<C|O>>>32-C)+A}function D(S,A,F,k,m,C,L){var O=S+(A^F^k)+m+L;return(O<<C|O>>>32-C)+A}function x(S,A,F,k,m,C,L){var O=S+(F^(A|~k))+m+L;return(O<<C|O>>>32-C)+A}$.MD5=N._createHelper(w),$.HmacMD5=N._createHmacHelper(w)}(Math),R.MD5)},228:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.mode.CFB=function(){var b=R.lib.BlockCipherMode.extend();function $(U,Y,N,q){var _,w=this._iv;w?(_=w.slice(0),this._iv=void 0):_=this._prevBlock,q.encryptBlock(_,0);for(var P=0;P<N;P++)U[Y+P]^=_[P]}return b.Encryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize;$.call(this,U,Y,q,N),this._prevBlock=U.slice(Y,Y+q)}}),b.Decryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize,_=U.slice(Y,Y+q);$.call(this,U,Y,q,N),this._prevBlock=_}}),b}(),R.mode.CFB)},584:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.mode.CTRGladman=function(){var b=R.lib.BlockCipherMode.extend();function $(N){if(255==(N>>24&255)){var q=N>>16&255,_=N>>8&255,w=255&N;255===q?(q=0,255===_?(_=0,255===w?w=0:++w):++_):++q,N=0,N+=q<<16,N+=_<<8,N+=w}else N+=1<<24;return N}var Y=b.Encryptor=b.extend({processBlock:function(N,q){var _=this._cipher,w=_.blockSize,P=this._iv,E=this._counter;P&&(E=this._counter=P.slice(0),this._iv=void 0),function U(N){return 0===(N[0]=$(N[0]))&&(N[1]=$(N[1])),N}(E);var D=E.slice(0);_.encryptBlock(D,0);for(var x=0;x<w;x++)N[q+x]^=D[x]}});return b.Decryptor=Y,b}(),R.mode.CTRGladman)},392:function(ve,xe,V){var b,$,R;ve.exports=(R=V(12),V(270),R.mode.CTR=($=(b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize,_=this._iv,w=this._counter;_&&(w=this._counter=_.slice(0),this._iv=void 0);var P=w.slice(0);N.encryptBlock(P,0),w[q-1]=w[q-1]+1|0;for(var E=0;E<q;E++)U[Y+E]^=P[E]}}),b.Decryptor=$,b),R.mode.CTR)},594:function(ve,xe,V){var b,R;ve.exports=(R=V(12),V(270),R.mode.ECB=((b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function($,U){this._cipher.encryptBlock($,U)}}),b.Decryptor=b.extend({processBlock:function($,U){this._cipher.decryptBlock($,U)}}),b),R.mode.ECB)},15:function(ve,xe,V){var b,$,R;ve.exports=(R=V(12),V(270),R.mode.OFB=($=(b=R.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(U,Y){var N=this._cipher,q=N.blockSize,_=this._iv,w=this._keystream;_&&(w=this._keystream=_.slice(0),this._iv=void 0),N.encryptBlock(w,0);for(var P=0;P<q;P++)U[Y+P]^=w[P]}}),b.Decryptor=$,b),R.mode.OFB)},237:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.AnsiX923={pad:function(b,$){var U=b.sigBytes,Y=4*$,N=Y-U%Y,q=U+N-1;b.clamp(),b.words[q>>>2]|=N<<24-q%4*8,b.sigBytes+=N},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},R.pad.Ansix923)},501:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.Iso10126={pad:function(b,$){var U=4*$,Y=U-b.sigBytes%U;b.concat(R.lib.WordArray.random(Y-1)).concat(R.lib.WordArray.create([Y<<24],1))},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},R.pad.Iso10126)},4:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.Iso97971={pad:function(b,$){b.concat(R.lib.WordArray.create([2147483648],1)),R.pad.ZeroPadding.pad(b,$)},unpad:function(b){R.pad.ZeroPadding.unpad(b),b.sigBytes--}},R.pad.Iso97971)},738:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.NoPadding={pad:function(){},unpad:function(){}},R.pad.NoPadding)},297:function(ve,xe,V){var R;ve.exports=(R=V(12),V(270),R.pad.ZeroPadding={pad:function(b,$){var U=4*$;b.clamp(),b.sigBytes+=U-(b.sigBytes%U||U)},unpad:function(b){var $=b.words,U=b.sigBytes-1;for(U=b.sigBytes-1;U>=0;U--)if($[U>>>2]>>>24-U%4*8&255){b.sigBytes=U+1;break}}},R.pad.ZeroPadding)},538:function(ve,xe,V){var b,$,U,Y,N,_,w,R;ve.exports=(R=V(12),V(78),V(990),Y=($=(b=R).lib).WordArray,_=(N=b.algo).HMAC,w=N.PBKDF2=(U=$.Base).extend({cfg:U.extend({keySize:4,hasher:N.SHA256,iterations:25e4}),init:function(P){this.cfg=this.cfg.extend(P)},compute:function(P,E){for(var D=this.cfg,x=_.create(D.hasher,P),S=Y.create(),A=Y.create([1]),F=S.words,k=A.words,m=D.keySize,C=D.iterations;F.length<m;){var L=x.update(E).finalize(A);x.reset();for(var O=L.words,z=O.length,j=L,le=1;le<C;le++){j=x.finalize(j),x.reset();for(var oe=j.words,fe=0;fe<z;fe++)O[fe]^=oe[fe]}S.concat(L),k[0]++}return S.sigBytes=4*m,S}}),b.PBKDF2=function(P,E,D){return w.create(D).compute(P,E)},R.PBKDF2)},848:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,N=[],q=[],_=[],w=b.algo.RabbitLegacy=U.extend({_doReset:function(){var E=this._key.words,D=this.cfg.iv,x=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],S=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];this._b=0;for(var A=0;A<4;A++)P.call(this);for(A=0;A<8;A++)S[A]^=x[A+4&7];if(D){var F=D.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,z=L<<16|65535&C;for(S[0]^=C,S[1]^=O,S[2]^=L,S[3]^=z,S[4]^=C,S[5]^=O,S[6]^=L,S[7]^=z,A=0;A<4;A++)P.call(this)}},_doProcessBlock:function(E,D){var x=this._X;P.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var S=0;S<4;S++)N[S]=16711935&(N[S]<<8|N[S]>>>24)|4278255360&(N[S]<<24|N[S]>>>8),E[D+S]^=N[S]},blockSize:4,ivSize:2});function P(){for(var E=this._X,D=this._C,x=0;x<8;x++)q[x]=D[x];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<q[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<q[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<q[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<q[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<q[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<q[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<q[6]>>>0?1:0)|0,this._b=D[7]>>>0<q[7]>>>0?1:0,x=0;x<8;x++){var S=E[x]+D[x],A=65535&S,F=S>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,E[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,E[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,E[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,E[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,E[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,E[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,E[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}b.RabbitLegacy=U._createHelper(w)}(),R.RabbitLegacy)},969:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,N=[],q=[],_=[],w=b.algo.Rabbit=U.extend({_doReset:function(){for(var E=this._key.words,D=this.cfg.iv,x=0;x<4;x++)E[x]=16711935&(E[x]<<8|E[x]>>>24)|4278255360&(E[x]<<24|E[x]>>>8);var S=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],A=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];for(this._b=0,x=0;x<4;x++)P.call(this);for(x=0;x<8;x++)A[x]^=S[x+4&7];if(D){var F=D.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,z=L<<16|65535&C;for(A[0]^=C,A[1]^=O,A[2]^=L,A[3]^=z,A[4]^=C,A[5]^=O,A[6]^=L,A[7]^=z,x=0;x<4;x++)P.call(this)}},_doProcessBlock:function(E,D){var x=this._X;P.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var S=0;S<4;S++)N[S]=16711935&(N[S]<<8|N[S]>>>24)|4278255360&(N[S]<<24|N[S]>>>8),E[D+S]^=N[S]},blockSize:4,ivSize:2});function P(){for(var E=this._X,D=this._C,x=0;x<8;x++)q[x]=D[x];for(D[0]=D[0]+1295307597+this._b|0,D[1]=D[1]+3545052371+(D[0]>>>0<q[0]>>>0?1:0)|0,D[2]=D[2]+886263092+(D[1]>>>0<q[1]>>>0?1:0)|0,D[3]=D[3]+1295307597+(D[2]>>>0<q[2]>>>0?1:0)|0,D[4]=D[4]+3545052371+(D[3]>>>0<q[3]>>>0?1:0)|0,D[5]=D[5]+886263092+(D[4]>>>0<q[4]>>>0?1:0)|0,D[6]=D[6]+1295307597+(D[5]>>>0<q[5]>>>0?1:0)|0,D[7]=D[7]+3545052371+(D[6]>>>0<q[6]>>>0?1:0)|0,this._b=D[7]>>>0<q[7]>>>0?1:0,x=0;x<8;x++){var S=E[x]+D[x],A=65535&S,F=S>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&S)*S|0)+((65535&S)*S|0)}E[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,E[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,E[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,E[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,E[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,E[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,E[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,E[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}b.Rabbit=U._createHelper(w)}(),R.Rabbit)},195:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,U=b.lib.StreamCipher,Y=b.algo,N=Y.RC4=U.extend({_doReset:function(){for(var w=this._key,P=w.words,E=w.sigBytes,D=this._S=[],x=0;x<256;x++)D[x]=x;x=0;for(var S=0;x<256;x++){var A=x%E,k=D[x];D[x]=D[S=(S+D[x]+(P[A>>>2]>>>24-A%4*8&255))%256],D[S]=k}this._i=this._j=0},_doProcessBlock:function(w,P){w[P]^=q.call(this)},keySize:8,ivSize:0});function q(){for(var w=this._S,P=this._i,E=this._j,D=0,x=0;x<4;x++){var S=w[P=(P+1)%256];w[P]=w[E=(E+w[P])%256],w[E]=S,D|=w[(w[P]+w[E])%256]<<24-8*x}return this._i=P,this._j=E,D}b.RC4=U._createHelper(N);var _=Y.RC4Drop=N.extend({cfg:N.cfg.extend({drop:192}),_doReset:function(){N._doReset.call(this);for(var w=this.cfg.drop;w>0;w--)q.call(this)}});b.RC4Drop=U._createHelper(_)}(),R.RC4)},558:function(ve,xe,V){var R;ve.exports=(R=V(12),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,q=$.algo,_=Y.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=Y.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),P=Y.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),E=Y.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),D=Y.create([0,1518500249,1859775393,2400959708,2840853838]),x=Y.create([1352829926,1548603684,1836072691,2053994217,0]),S=q.RIPEMD160=N.extend({_doReset:function(){this._hash=Y.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,z){for(var j=0;j<16;j++){var le=z+j,oe=O[le];O[le]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8)}var de,qe,Ze,Q,ie,Z,re,At,Fe,et,Je,fe=this._hash.words,Ie=D.words,W=x.words,ce=_.words,me=w.words,se=P.words,Ne=E.words;for(Z=de=fe[0],re=qe=fe[1],At=Ze=fe[2],Fe=Q=fe[3],et=ie=fe[4],j=0;j<80;j+=1)Je=de+O[z+ce[j]]|0,Je+=j<16?A(qe,Ze,Q)+Ie[0]:j<32?F(qe,Ze,Q)+Ie[1]:j<48?k(qe,Ze,Q)+Ie[2]:j<64?m(qe,Ze,Q)+Ie[3]:C(qe,Ze,Q)+Ie[4],Je=(Je=L(Je|=0,se[j]))+ie|0,de=ie,ie=Q,Q=L(Ze,10),Ze=qe,qe=Je,Je=Z+O[z+me[j]]|0,Je+=j<16?C(re,At,Fe)+W[0]:j<32?m(re,At,Fe)+W[1]:j<48?k(re,At,Fe)+W[2]:j<64?F(re,At,Fe)+W[3]:A(re,At,Fe)+W[4],Je=(Je=L(Je|=0,Ne[j]))+et|0,Z=et,et=Fe,Fe=L(At,10),At=re,re=Je;Je=fe[1]+Ze+Fe|0,fe[1]=fe[2]+Q+et|0,fe[2]=fe[3]+ie+Z|0,fe[3]=fe[4]+de+re|0,fe[4]=fe[0]+qe+At|0,fe[0]=Je},_doFinalize:function(){var O=this._data,z=O.words,j=8*this._nDataBytes,le=8*O.sigBytes;z[le>>>5]|=128<<24-le%32,z[14+(le+64>>>9<<4)]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8),O.sigBytes=4*(z.length+1),this._process();for(var oe=this._hash,fe=oe.words,Ie=0;Ie<5;Ie++){var W=fe[Ie];fe[Ie]=16711935&(W<<8|W>>>24)|4278255360&(W<<24|W>>>8)}return oe},clone:function(){var O=N.clone.call(this);return O._hash=this._hash.clone(),O}});function A(O,z,j){return O^z^j}function F(O,z,j){return O&z|~O&j}function k(O,z,j){return(O|~z)^j}function m(O,z,j){return O&j|z&~j}function C(O,z,j){return O^(z|~j)}function L(O,z){return O<<z|O>>>32-z}$.RIPEMD160=N._createHelper(S),$.HmacRIPEMD160=N._createHmacHelper(S)}(Math),R.RIPEMD160)},446:function(ve,xe,V){var b,$,U,Y,q,_,R;ve.exports=(R=V(12),U=($=(b=R).lib).WordArray,q=[],_=b.algo.SHA1=(Y=$.Hasher).extend({_doReset:function(){this._hash=new U.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,P){for(var E=this._hash.words,D=E[0],x=E[1],S=E[2],A=E[3],F=E[4],k=0;k<80;k++){if(k<16)q[k]=0|w[P+k];else{var m=q[k-3]^q[k-8]^q[k-14]^q[k-16];q[k]=m<<1|m>>>31}var C=(D<<5|D>>>27)+F+q[k];C+=k<20?1518500249+(x&S|~x&A):k<40?1859775393+(x^S^A):k<60?(x&S|x&A|S&A)-1894007588:(x^S^A)-899497514,F=A,A=S,S=x<<30|x>>>2,x=D,D=C}E[0]=E[0]+D|0,E[1]=E[1]+x|0,E[2]=E[2]+S|0,E[3]=E[3]+A|0,E[4]=E[4]+F|0},_doFinalize:function(){var w=this._data,P=w.words,E=8*this._nDataBytes,D=8*w.sigBytes;return P[D>>>5]|=128<<24-D%32,P[14+(D+64>>>9<<4)]=Math.floor(E/4294967296),P[15+(D+64>>>9<<4)]=E,w.sigBytes=4*P.length,this._process(),this._hash},clone:function(){var w=Y.clone.call(this);return w._hash=this._hash.clone(),w}}),b.SHA1=Y._createHelper(_),b.HmacSHA1=Y._createHmacHelper(_),R.SHA1)},811:function(ve,xe,V){var b,U,Y,N,q,R;ve.exports=(R=V(12),V(78),U=(b=R).lib.WordArray,q=(Y=b.algo).SHA224=(N=Y.SHA256).extend({_doReset:function(){this._hash=new U.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var _=N._doFinalize.call(this);return _.sigBytes-=4,_}}),b.SHA224=N._createHelper(q),b.HmacSHA224=N._createHmacHelper(q),R.SHA224)},78:function(ve,xe,V){var R;ve.exports=(R=V(12),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,q=$.algo,_=[],w=[];!function(){function D(F){for(var k=b.sqrt(F),m=2;m<=k;m++)if(!(F%m))return!1;return!0}function x(F){return 4294967296*(F-(0|F))|0}for(var S=2,A=0;A<64;)D(S)&&(A<8&&(_[A]=x(b.pow(S,.5))),w[A]=x(b.pow(S,1/3)),A++),S++}();var P=[],E=q.SHA256=N.extend({_doReset:function(){this._hash=new Y.init(_.slice(0))},_doProcessBlock:function(D,x){for(var S=this._hash.words,A=S[0],F=S[1],k=S[2],m=S[3],C=S[4],L=S[5],O=S[6],z=S[7],j=0;j<64;j++){if(j<16)P[j]=0|D[x+j];else{var le=P[j-15],fe=P[j-2];P[j]=((le<<25|le>>>7)^(le<<14|le>>>18)^le>>>3)+P[j-7]+((fe<<15|fe>>>17)^(fe<<13|fe>>>19)^fe>>>10)+P[j-16]}var ce=A&F^A&k^F&k,Ne=z+((C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25))+(C&L^~C&O)+w[j]+P[j];z=O,O=L,L=C,C=m+Ne|0,m=k,k=F,F=A,A=Ne+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+ce)|0}S[0]=S[0]+A|0,S[1]=S[1]+F|0,S[2]=S[2]+k|0,S[3]=S[3]+m|0,S[4]=S[4]+C|0,S[5]=S[5]+L|0,S[6]=S[6]+O|0,S[7]=S[7]+z|0},_doFinalize:function(){var D=this._data,x=D.words,S=8*this._nDataBytes,A=8*D.sigBytes;return x[A>>>5]|=128<<24-A%32,x[14+(A+64>>>9<<4)]=b.floor(S/4294967296),x[15+(A+64>>>9<<4)]=S,D.sigBytes=4*x.length,this._process(),this._hash},clone:function(){var D=N.clone.call(this);return D._hash=this._hash.clone(),D}});$.SHA256=N._createHelper(E),$.HmacSHA256=N._createHmacHelper(E)}(Math),R.SHA256)},545:function(ve,xe,V){var R;ve.exports=(R=V(12),V(802),function(b){var $=R,U=$.lib,Y=U.WordArray,N=U.Hasher,_=$.x64.Word,w=$.algo,P=[],E=[],D=[];!function(){for(var A=1,F=0,k=0;k<24;k++){P[A+5*F]=(k+1)*(k+2)/2%64;var C=(2*A+3*F)%5;A=F%5,F=C}for(A=0;A<5;A++)for(F=0;F<5;F++)E[A+5*F]=F+(2*A+3*F)%5*5;for(var L=1,O=0;O<24;O++){for(var z=0,j=0,le=0;le<7;le++){if(1&L){var oe=(1<<le)-1;oe<32?j^=1<<oe:z^=1<<oe-32}128&L?L=L<<1^113:L<<=1}D[O]=_.create(z,j)}}();var x=[];!function(){for(var A=0;A<25;A++)x[A]=_.create()}();var S=w.SHA3=N.extend({cfg:N.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new _.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var k=this._state,m=this.blockSize/2,C=0;C<m;C++){var L=A[F+2*C],O=A[F+2*C+1];L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),(z=k[C]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),z.low^=L}for(var j=0;j<24;j++){for(var le=0;le<5;le++){for(var oe=0,fe=0,Ie=0;Ie<5;Ie++)oe^=(z=k[le+5*Ie]).high,fe^=z.low;var W=x[le];W.high=oe,W.low=fe}for(le=0;le<5;le++){var ce=x[(le+4)%5],me=x[(le+1)%5],se=me.high,Ne=me.low;for(oe=ce.high^(se<<1|Ne>>>31),fe=ce.low^(Ne<<1|se>>>31),Ie=0;Ie<5;Ie++)(z=k[le+5*Ie]).high^=oe,z.low^=fe}for(var de=1;de<25;de++){var qe=(z=k[de]).high,Ze=z.low,Q=P[de];Q<32?(oe=qe<<Q|Ze>>>32-Q,fe=Ze<<Q|qe>>>32-Q):(oe=Ze<<Q-32|qe>>>64-Q,fe=qe<<Q-32|Ze>>>64-Q);var ie=x[E[de]];ie.high=oe,ie.low=fe}var Z=x[0],re=k[0];for(Z.high=re.high,Z.low=re.low,le=0;le<5;le++)for(Ie=0;Ie<5;Ie++){var At=x[de=le+5*Ie],Fe=x[(le+1)%5+5*Ie],et=x[(le+2)%5+5*Ie];(z=k[de]).high=At.high^~Fe.high&et.high,z.low=At.low^~Fe.low&et.low}var z,Je=D[j];(z=k[0]).high^=Je.high,z.low^=Je.low}},_doFinalize:function(){var A=this._data,F=A.words,m=8*A.sigBytes,C=32*this.blockSize;F[m>>>5]|=1<<24-m%32,F[(b.ceil((m+1)/C)*C>>>5)-1]|=128,A.sigBytes=4*F.length,this._process();for(var L=this._state,O=this.cfg.outputLength/8,z=O/8,j=[],le=0;le<z;le++){var oe=L[le],fe=oe.high,Ie=oe.low;fe=16711935&(fe<<8|fe>>>24)|4278255360&(fe<<24|fe>>>8),j.push(Ie=16711935&(Ie<<8|Ie>>>24)|4278255360&(Ie<<24|Ie>>>8)),j.push(fe)}return new Y.init(j,O)},clone:function(){for(var A=N.clone.call(this),F=A._state=this._state.slice(0),k=0;k<25;k++)F[k]=F[k].clone();return A}});$.SHA3=N._createHelper(S),$.HmacSHA3=N._createHmacHelper(S)}(Math),R.SHA3)},913:function(ve,xe,V){var b,$,U,Y,N,q,_,R;ve.exports=(R=V(12),V(802),V(870),U=($=(b=R).x64).Word,Y=$.WordArray,_=(N=b.algo).SHA384=(q=N.SHA512).extend({_doReset:function(){this._hash=new Y.init([new U.init(3418070365,3238371032),new U.init(1654270250,914150663),new U.init(2438529370,812702999),new U.init(355462360,4144912697),new U.init(1731405415,4290775857),new U.init(2394180231,1750603025),new U.init(3675008525,1694076839),new U.init(1203062813,3204075428)])},_doFinalize:function(){var w=q._doFinalize.call(this);return w.sigBytes-=16,w}}),b.SHA384=q._createHelper(_),b.HmacSHA384=q._createHmacHelper(_),R.SHA384)},870:function(ve,xe,V){var R;ve.exports=(R=V(12),V(802),function(){var b=R,U=b.lib.Hasher,Y=b.x64,N=Y.Word,q=Y.WordArray,_=b.algo;function w(){return N.create.apply(N,arguments)}var P=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],E=[];!function(){for(var x=0;x<80;x++)E[x]=w()}();var D=_.SHA512=U.extend({_doReset:function(){this._hash=new q.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(x,S){for(var A=this._hash.words,F=A[0],k=A[1],m=A[2],C=A[3],L=A[4],O=A[5],z=A[6],j=A[7],le=F.high,oe=F.low,fe=k.high,Ie=k.low,W=m.high,ce=m.low,me=C.high,se=C.low,Ne=L.high,de=L.low,qe=O.high,Ze=O.low,Q=z.high,ie=z.low,Z=j.high,re=j.low,At=le,Fe=oe,et=fe,Je=Ie,Ye=W,qi=ce,td=me,Ps=se,tr=Ne,mn=de,Ii=qe,Dc=Ze,nd=Q,Sc=ie,B0=Z,va=re,Rr=0;Rr<80;Rr++){var Pr,si,Rc=E[Rr];if(Rr<16)si=Rc.high=0|x[S+2*Rr],Pr=Rc.low=0|x[S+2*Rr+1];else{var Pc=E[Rr-15],Ms=Pc.high,ya=Pc.low,H0=(ya>>>1|Ms<<31)^(ya>>>8|Ms<<24)^(ya>>>7|Ms<<25),bi=E[Rr-2],ks=bi.high,Ea=bi.low,U0=(Ea>>>19|ks<<13)^(Ea<<3|ks>>>29)^(Ea>>>6|ks<<26),j0=E[Rr-7],$0=E[Rr-16],G0=$0.low;Rc.high=si=(si=(si=((Ms>>>1|ya<<31)^(Ms>>>8|ya<<24)^Ms>>>7)+j0.high+((Pr=H0+j0.low)>>>0<H0>>>0?1:0))+((ks>>>19|Ea<<13)^(ks<<3|Ea>>>29)^ks>>>6)+((Pr+=U0)>>>0<U0>>>0?1:0))+$0.high+((Pr+=G0)>>>0<G0>>>0?1:0),Rc.low=Pr}var nr,Z2=tr&Ii^~tr&nd,q0=mn&Dc^~mn&Sc,e_=At&et^At&Ye^et&Ye,rd=(Fe>>>28|At<<4)^(Fe<<30|At>>>2)^(Fe<<25|At>>>7),id=P[Rr],sd=id.low,wi=B0+((tr>>>14|mn<<18)^(tr>>>18|mn<<14)^(tr<<23|mn>>>9))+((nr=va+((mn>>>14|tr<<18)^(mn>>>18|tr<<14)^(mn<<23|tr>>>9)))>>>0<va>>>0?1:0),od=rd+(Fe&Je^Fe&qi^Je&qi);B0=nd,va=Sc,nd=Ii,Sc=Dc,Ii=tr,Dc=mn,tr=td+(wi=(wi=(wi=wi+Z2+((nr+=q0)>>>0<q0>>>0?1:0))+id.high+((nr+=sd)>>>0<sd>>>0?1:0))+si+((nr+=Pr)>>>0<Pr>>>0?1:0))+((mn=Ps+nr|0)>>>0<Ps>>>0?1:0)|0,td=Ye,Ps=qi,Ye=et,qi=Je,et=At,Je=Fe,At=wi+(((At>>>28|Fe<<4)^(At<<30|Fe>>>2)^(At<<25|Fe>>>7))+e_+(od>>>0<rd>>>0?1:0))+((Fe=nr+od|0)>>>0<nr>>>0?1:0)|0}oe=F.low=oe+Fe,F.high=le+At+(oe>>>0<Fe>>>0?1:0),Ie=k.low=Ie+Je,k.high=fe+et+(Ie>>>0<Je>>>0?1:0),ce=m.low=ce+qi,m.high=W+Ye+(ce>>>0<qi>>>0?1:0),se=C.low=se+Ps,C.high=me+td+(se>>>0<Ps>>>0?1:0),de=L.low=de+mn,L.high=Ne+tr+(de>>>0<mn>>>0?1:0),Ze=O.low=Ze+Dc,O.high=qe+Ii+(Ze>>>0<Dc>>>0?1:0),ie=z.low=ie+Sc,z.high=Q+nd+(ie>>>0<Sc>>>0?1:0),re=j.low=re+va,j.high=Z+B0+(re>>>0<va>>>0?1:0)},_doFinalize:function(){var x=this._data,S=x.words,A=8*this._nDataBytes,F=8*x.sigBytes;return S[F>>>5]|=128<<24-F%32,S[30+(F+128>>>10<<5)]=Math.floor(A/4294967296),S[31+(F+128>>>10<<5)]=A,x.sigBytes=4*S.length,this._process(),this._hash.toX32()},clone:function(){var x=U.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:32});b.SHA512=U._createHelper(D),b.HmacSHA512=U._createHmacHelper(D)}(),R.SHA512)},769:function(ve,xe,V){var R;ve.exports=(R=V(12),V(506),V(873),V(66),V(270),function(){var b=R,$=b.lib,U=$.WordArray,Y=$.BlockCipher,N=b.algo,q=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],_=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],w=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],E=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],D=N.DES=Y.extend({_doReset:function(){for(var k=this._key.words,m=[],C=0;C<56;C++){var L=q[C]-1;m[C]=k[L>>>5]>>>31-L%32&1}for(var O=this._subKeys=[],z=0;z<16;z++){var j=O[z]=[],le=w[z];for(C=0;C<24;C++)j[C/6|0]|=m[(_[C]-1+le)%28]<<31-C%6,j[4+(C/6|0)]|=m[28+(_[C+24]-1+le)%28]<<31-C%6;for(j[0]=j[0]<<1|j[0]>>>31,C=1;C<7;C++)j[C]=j[C]>>>4*(C-1)+3;j[7]=j[7]<<5|j[7]>>>27}var oe=this._invSubKeys=[];for(C=0;C<16;C++)oe[C]=O[15-C]},encryptBlock:function(F,k){this._doCryptBlock(F,k,this._subKeys)},decryptBlock:function(F,k){this._doCryptBlock(F,k,this._invSubKeys)},_doCryptBlock:function(F,k,m){this._lBlock=F[k],this._rBlock=F[k+1],x.call(this,4,252645135),x.call(this,16,65535),S.call(this,2,858993459),S.call(this,8,16711935),x.call(this,1,1431655765);for(var C=0;C<16;C++){for(var L=m[C],O=this._lBlock,z=this._rBlock,j=0,le=0;le<8;le++)j|=P[le][((z^L[le])&E[le])>>>0];this._lBlock=z,this._rBlock=O^j}var oe=this._lBlock;this._lBlock=this._rBlock,this._rBlock=oe,x.call(this,1,1431655765),S.call(this,8,16711935),S.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),F[k]=this._lBlock,F[k+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function x(F,k){var m=(this._lBlock>>>F^this._rBlock)&k;this._rBlock^=m,this._lBlock^=m<<F}function S(F,k){var m=(this._rBlock>>>F^this._lBlock)&k;this._lBlock^=m,this._rBlock^=m<<F}b.DES=Y._createHelper(D);var A=N.TripleDES=Y.extend({_doReset:function(){var k=this._key.words;if(2!==k.length&&4!==k.length&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=k.slice(0,2),C=k.length<4?k.slice(0,2):k.slice(2,4),L=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=D.createEncryptor(U.create(m)),this._des2=D.createEncryptor(U.create(C)),this._des3=D.createEncryptor(U.create(L))},encryptBlock:function(F,k){this._des1.encryptBlock(F,k),this._des2.decryptBlock(F,k),this._des3.encryptBlock(F,k)},decryptBlock:function(F,k){this._des3.decryptBlock(F,k),this._des2.encryptBlock(F,k),this._des1.decryptBlock(F,k)},keySize:6,ivSize:2,blockSize:2});b.TripleDES=Y._createHelper(A)}(),R.TripleDES)},802:function(ve,xe,V){var U,Y,N,q,R;ve.exports=(R=V(12),Y=(U=R.lib).Base,N=U.WordArray,(q=R.x64={}).Word=Y.extend({init:function(P,E){this.high=P,this.low=E}}),q.WordArray=Y.extend({init:function(P,E){P=this.words=P||[],this.sigBytes=null!=E?E:8*P.length},toX32:function(){for(var P=this.words,E=P.length,D=[],x=0;x<E;x++){var S=P[x];D.push(S.high),D.push(S.low)}return N.create(D,this.sigBytes)},clone:function(){for(var P=Y.clone.call(this),E=P.words=this.words.slice(0),D=E.length,x=0;x<D;x++)E[x]=E[x].clone();return P}}),R)},480:()=>{}},ve=>{ve(ve.s=497)}]);