"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{6304:(ut,Ve,k)=>{k.d(Ve,{Dh:()=>Le,GT:()=>he,cc:()=>Ne,on:()=>ze,pX:()=>oe,xv:()=>Te});var m=k(7989),O=k(7142);ut=k.hmd(ut);const T=["ngOnDestroy"],oe=(we,xe,Ke,Je={})=>new Proxy(we,{get:(Z,ue)=>Ke.runOutsideAngular(()=>{var Q;if(we[ue])return!(null===(Q=Je?.spy)||void 0===Q)&&Q.get&&Je.spy.get(ue,we[ue]),we[ue];if(T.indexOf(ue)>-1)return()=>{};const pe=xe.toPromise().then(Oe=>{const ie=Oe&&Oe[ue];return"function"==typeof ie?ie.bind(Oe):ie&&ie.then?ie.then(ft=>Ke.run(()=>ft)):Ke.run(()=>ie)});return new Proxy(()=>{},{get:(Oe,ie)=>pe[ie],apply:(Oe,ie,ft)=>pe.then(_t=>{var zt;const D2=_t&&_t(...ft);return!(null===(zt=Je?.spy)||void 0===zt)&&zt.apply&&Je.spy.apply(ue,ft,D2),D2})})})}),he=(we,xe)=>{xe.forEach(Ke=>{Object.getOwnPropertyNames(Ke.prototype||Ke).forEach(Je=>{Object.defineProperty(we.prototype,Je,Object.getOwnPropertyDescriptor(Ke.prototype||Ke,Je))})})};class Ee{constructor(xe){return xe}}const Le=new m.OlP("angularfire2.app.options"),Te=new m.OlP("angularfire2.app.name");function ze(we,xe,Ke){const Z="object"==typeof Ke&&Ke||{};Z.name=Z.name||"string"==typeof Ke&&Ke||"[DEFAULT]";const Q=O.Z.apps.filter(pe=>pe&&pe.name===Z.name)[0]||xe.runOutsideAngular(()=>O.Z.initializeApp(we,Z));try{JSON.stringify(we)!==JSON.stringify(Q.options)&&R("error",`${Q.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ee(Q)}const R=(we,...xe)=>{(0,m.X6Q)()&&typeof console<"u"&&console[we](...xe)};function Ne(we,xe,Ke,Je,Z){const[,ue,Q]=globalThis.\u0275AngularfireInstanceCache.find(pe=>pe[0]===we)||[];if(ue)return function be(we,xe){try{return we.toString()===xe.toString()}catch{return we===xe}}(Z,Q)||(ce("error",`${xe} was already initialized on the ${Ke} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Z,was:Q})),ue;{const pe=Je();return globalThis.\u0275AngularfireInstanceCache.push([we,pe,Z]),pe}}const nt=!!ut.hot,ce=(we,...xe)=>{(0,m.X6Q)()&&typeof console<"u"&&console[we](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6878:(ut,Ve,k)=>{k.d(Ve,{$:()=>fo,A:()=>B,D:()=>be,I:()=>Tc,J:()=>ui,L:()=>Pe,N:()=>Z1,P:()=>b6,Q:()=>wr,R:()=>w6,U:()=>Rc,V:()=>Yn,W:()=>Qn,X:()=>Ln,Y:()=>oo,Z:()=>ao,_:()=>pi,a:()=>Hr,a0:()=>jc,a1:()=>Gc,a2:()=>u8,a3:()=>D9,a4:()=>A9,a5:()=>po,a6:()=>Ji,a7:()=>Qc,a8:()=>f8,a9:()=>d8,aA:()=>ie,aB:()=>us,aC:()=>H2,aD:()=>K1,aE:()=>P3,aF:()=>ls,aG:()=>S6,aH:()=>h2,aL:()=>ts,aO:()=>Jn,aa:()=>xn,ab:()=>k2,ac:()=>Jc,ad:()=>m3,ae:()=>h8,af:()=>Co,ai:()=>T9,aj:()=>p8,ak:()=>t6,an:()=>lo,ao:()=>Vo,aq:()=>g8,ar:()=>l6,as:()=>_t,at:()=>$e,au:()=>de,av:()=>Z,aw:()=>jo,ax:()=>F3,ay:()=>Ot,az:()=>ue,b:()=>d6,c:()=>L8,d:()=>cs,e:()=>U9,f:()=>T3,g:()=>E6,h:()=>I6,i:()=>rs,j:()=>qr,k:()=>Go,l:()=>E3,m:()=>U8,o:()=>T6,p:()=>Te,r:()=>S8,s:()=>Do,u:()=>Ao});var m=k(5861),O=k(9058),T=k(534),oe=k(7582),he=k(7879),Ee=k(4537);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},B={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const be=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},nt=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ce=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new he.Yd("@firebase/auth");function Je(_,...h){xe.logLevel<=he.in.ERROR&&xe.error(`Auth (${T.SDK_VERSION}): ${_}`,...h)}function Z(_,...h){throw Oe(_,...h)}function ue(_,...h){return Oe(_,...h)}function Q(_,h,g){const M=Object.assign(Object.assign({},nt()),{[h]:g});return new O.LL("auth","Firebase",M).create(h,{appName:_.name})}function pe(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Z(_,"argument-error"),Q(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(_,...h){if("string"!=typeof _){const g=h[0],M=[...h.slice(1)];return M[0]&&(M[0].appName=_.name),_._errorFactory.create(g,...M)}return ce.create(_,...h)}function ie(_,h,...g){if(!_)throw Oe(h,...g)}function ft(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Je(h),new Error(h)}function _t(_,h){_||ft(h)}function zt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function D2(){return"http:"===dn()||"https:"===dn()}function dn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class hn{constructor(h,g){this.shortDelay=h,this.longDelay=g,_t(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Un(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(D2()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jn(_,h){_t(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class X{static initialize(h,g,M){this.fetchImpl=h,g&&(this.headersImpl=g),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fe=new hn(3e4,6e4);function ee(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function ve(_,h,g,M){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,m.Z)(function*(_,h,g,M,S={}){return Ye(_,S,(0,m.Z)(function*(){let L={},$={};M&&("GET"===h?$=M:L={body:JSON.stringify(M)});const J=(0,O.xO)(Object.assign({key:_.config.apiKey},$)).slice(1),De=yield _._getAdditionalHeaders();return De["Content-Type"]="application/json",_.languageCode&&(De["X-Firebase-Locale"]=_.languageCode),X.fetch()(Pt(_,_.config.apiHost,g,J),Object.assign({method:h,headers:De,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Ye(_,h,g){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,m.Z)(function*(_,h,g){_._canInitEmulator=!1;const M=Object.assign(Object.assign({},se),h);try{const S=new Mt(_),L=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const $=yield L.json();if("needConfirmation"in $)throw Wt(_,"account-exists-with-different-credential",$);if(L.ok&&!("errorMessage"in $))return $;{const J=L.ok?$.errorMessage:$.error.message,[De,Fe]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===De)throw Wt(_,"credential-already-in-use",$);if("EMAIL_EXISTS"===De)throw Wt(_,"email-already-in-use",$);if("USER_DISABLED"===De)throw Wt(_,"user-disabled",$);const rt=M[De]||De.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw Q(_,rt,Fe);Z(_,rt)}}catch(S){if(S instanceof O.ZR)throw S;Z(_,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function $t(_,h,g,M){return ht.apply(this,arguments)}function ht(){return(ht=(0,m.Z)(function*(_,h,g,M,S={}){const L=yield ve(_,h,g,M,S);return"mfaPendingCredential"in L&&Z(_,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Pt(_,h,g,M){const S=`${h}${g}?${M}`;return _.config.emulator?jn(_.config,S):`${_.config.apiScheme}://${S}`}class Mt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,M)=>{this.timer=setTimeout(()=>M(ue(this.auth,"network-request-failed")),fe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wt(_,h,g){const M={appName:_.name};g.email&&(M.email=g.email),g.phoneNumber&&(M.phoneNumber=g.phoneNumber);const S=ue(_,h,M);return S.customData._tokenResponse=g,S}function a2(){return(a2=(0,m.Z)(function*(_,h){return ve(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function A2(){return(A2=(0,m.Z)(function*(_,h){return ve(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function R1(){return(R1=(0,m.Z)(function*(_,h){return ve(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function i1(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function zn(){return(zn=(0,m.Z)(function*(_,h=!1){const g=(0,O.m9)(_),M=yield g.getIdToken(h),S=b1(M);ie(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const L="object"==typeof S.firebase?S.firebase:void 0,$=L?.sign_in_provider;return{claims:S,token:M,authTime:i1(vt(S.auth_time)),issuedAtTime:i1(vt(S.iat)),expirationTime:i1(vt(S.exp)),signInProvider:$||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function vt(_){return 1e3*Number(_)}function b1(_){const[h,g,M]=_.split(".");if(void 0===h||void 0===g||void 0===M)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,O.tV)(g);return S?JSON.parse(S):(Je("Failed to decode base64 JWT payload"),null)}catch(S){return Je("Caught error parsing JWT payload as JSON",S?.toString()),null}}function Rt(_,h){return O1.apply(this,arguments)}function O1(){return(O1=(0,m.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(M){throw M instanceof O.ZR&&function Wi({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(M)&&_.auth.currentUser===_&&(yield _.auth.signOut()),M}})).apply(this,arguments)}class Et{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const M=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield g.iteration()}),M)}iteration(){var h=this;return(0,m.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class mn{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=i1(this.lastLoginAt),this.creationTime=i1(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $n(_){return H1.apply(this,arguments)}function H1(){return H1=(0,m.Z)(function*(_){var h;const g=_.auth,M=yield _.getIdToken(),S=yield Rt(_,function w1(_,h){return R1.apply(this,arguments)}(g,{idToken:M}));ie(S?.users.length,g,"internal-error");const L=S.users[0];_._notifyReloadListener(L);const $=null!==(h=L.providerUserInfo)&&void 0!==h&&h.length?function Gn(_){return _.map(h=>{var{providerId:g}=h,M=(0,oe._T)(h,["providerId"]);return{providerId:g,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(L.providerUserInfo):[],J=function d2(_,h){return[..._.filter(M=>!h.some(S=>S.providerId===M.providerId)),...h]}(_.providerData,$),rt=!!_.isAnonymous&&!(_.email&&L.passwordHash||J?.length),Lt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:J,metadata:new mn(L.createdAt,L.lastLoginAt),isAnonymous:rt};Object.assign(_,Lt)}),H1.apply(this,arguments)}function T2(){return(T2=(0,m.Z)(function*(_){const h=(0,O.m9)(_);yield $n(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function yr(){return(yr=(0,m.Z)(function*(_,h){const g=yield Ye(_,{},(0,m.Z)(function*(){const M=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:S,apiKey:L}=_.config,$=Pt(_,S,"/v1/token",`key=${L}`),J=yield _._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",X.fetch()($,{method:"POST",headers:J,body:M})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class N2{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ie(h.idToken,"internal-error"),ie(typeof h.idToken<"u","internal-error"),ie(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function $2(_){const h=b1(_);return ie(h,"internal-error"),ie(typeof h.exp<"u","internal-error"),ie(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var M=this;return(0,m.Z)(function*(){return ie(!M.accessToken||M.refreshToken,h,"user-token-expired"),g||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(h,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var M=this;return(0,m.Z)(function*(){const{accessToken:S,refreshToken:L,expiresIn:$}=yield function gn(_,h){return yr.apply(this,arguments)}(h,g);M.updateTokensAndExpiration(S,L,Number($))})()}updateTokensAndExpiration(h,g,M){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(h,g){const{refreshToken:M,accessToken:S,expirationTime:L}=g,$=new N2;return M&&(ie("string"==typeof M,"internal-error",{appName:h}),$.refreshToken=M),S&&(ie("string"==typeof S,"internal-error",{appName:h}),$.accessToken=S),L&&(ie("number"==typeof L,"internal-error",{appName:h}),$.expirationTime=L),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new N2,this.toJSON())}_performRefresh(){return ft("not implemented")}}function G2(_,h){ie("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class s1{constructor(h){var{uid:g,auth:M,stsTokenManager:S}=h,L=(0,oe._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Et(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=M,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new mn(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,m.Z)(function*(){const M=yield Rt(g,g.stsTokenManager.getToken(g.auth,h));return ie(M,g.auth,"internal-error"),g.accessToken!==M&&(g.accessToken=M,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),M})()}getIdTokenResult(h){return function pn(_){return zn.apply(this,arguments)}(this,h)}reload(){return function vr(_){return T2.apply(this,arguments)}(this)}_assign(h){this!==h&&(ie(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new s1(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var M=this;return(0,m.Z)(function*(){let S=!1;h.idToken&&h.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(h),S=!0),g&&(yield $n(M)),yield M.auth._persistUserIfCurrent(M),S&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var h=this;return(0,m.Z)(function*(){const g=yield h.getIdToken();return yield Rt(h,function o2(_,h){return a2.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var M,S,L,$,J,De,Fe,rt;const Lt=null!==(M=g.displayName)&&void 0!==M?M:void 0,J2=null!==(S=g.email)&&void 0!==S?S:void 0,rr=null!==(L=g.phoneNumber)&&void 0!==L?L:void 0,W3=null!==($=g.photoURL)&&void 0!==$?$:void 0,Zo=null!==(J=g.tenantId)&&void 0!==J?J:void 0,Ko=null!==(De=g._redirectEventId)&&void 0!==De?De:void 0,Yo=null!==(Fe=g.createdAt)&&void 0!==Fe?Fe:void 0,G8=null!==(rt=g.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:Qo,emailVerified:N6,isAnonymous:ms,providerData:k6,stsTokenManager:q8}=g;ie(Qo&&q8,h,"internal-error");const Jo=N2.fromJSON(this.name,q8);ie("string"==typeof Qo,h,"internal-error"),G2(Lt,h.name),G2(J2,h.name),ie("boolean"==typeof N6,h,"internal-error"),ie("boolean"==typeof ms,h,"internal-error"),G2(rr,h.name),G2(W3,h.name),G2(Zo,h.name),G2(Ko,h.name),G2(Yo,h.name),G2(G8,h.name);const Xo=new s1({uid:Qo,auth:h,email:J2,emailVerified:N6,displayName:Lt,isAnonymous:ms,photoURL:W3,phoneNumber:rr,tenantId:Zo,stsTokenManager:Jo,createdAt:Yo,lastLoginAt:G8});return k6&&Array.isArray(k6)&&(Xo.providerData=k6.map(Q9=>Object.assign({},Q9))),Ko&&(Xo._redirectEventId=Ko),Xo}static _fromIdTokenResponse(h,g,M=!1){return(0,m.Z)(function*(){const S=new N2;S.updateFromServerResponse(g);const L=new s1({uid:g.localId,auth:h,stsTokenManager:S,isAnonymous:M});return yield $n(L),L})()}}const vn=new Map;function H2(_){_t(_ instanceof Function,"Expected a class definition");let h=vn.get(_);return h?(_t(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,vn.set(_,h),h)}const Z1=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(g,M){var S=this;return(0,m.Z)(function*(){S.storage[g]=M})()}_get(g){var M=this;return(0,m.Z)(function*(){const S=M.storage[g];return void 0===S?null:S})()}_remove(g){var M=this;return(0,m.Z)(function*(){delete M.storage[g]})()}_addListener(g,M){}_removeListener(g,M){}}return _.type="NONE",_})();function K1(_,h,g){return`firebase:${_}:${h}:${g}`}class F{constructor(h,g,M){this.persistence=h,this.auth=g,this.userKey=M;const{config:S,name:L}=this.auth;this.fullUserKey=K1(this.userKey,S.apiKey,L),this.fullPersistenceKey=K1("persistence",S.apiKey,L),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?s1._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,m.Z)(function*(){if(g.persistence===h)return;const M=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,M?g.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,M="authUser"){return(0,m.Z)(function*(){if(!g.length)return new F(H2(Z1),h,M);const S=(yield Promise.all(g.map(function(){var Fe=(0,m.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let L=S[0]||H2(Z1);const $=K1(M,h.config.apiKey,h.name);let J=null;for(const Fe of g)try{const rt=yield Fe._get($);if(rt){const Lt=s1._fromJSON(h,rt);Fe!==L&&(J=Lt),L=Fe;break}}catch{}const De=S.filter(Fe=>Fe._shouldAllowMigration);return L._shouldAllowMigration&&De.length?(L=De[0],J&&(yield L._set($,J.toJSON())),yield Promise.all(g.map(function(){var Fe=(0,m.Z)(function*(rt){if(rt!==L)try{yield rt._remove($)}catch{}});return function(rt){return Fe.apply(this,arguments)}}())),new F(L,h,M)):new F(L,h,M)})()}}function P(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(q(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(x(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ke(h))return"Blackberry";if(pt(h))return"Webos";if(D(h))return"Safari";if((h.includes("chrome/")||E(h))&&!h.includes("edge/"))return"Chrome";if(de(h))return"Android";{const M=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function x(_=(0,O.z$)()){return/firefox\//i.test(_)}function D(_=(0,O.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function E(_=(0,O.z$)()){return/crios\//i.test(_)}function q(_=(0,O.z$)()){return/iemobile/i.test(_)}function de(_=(0,O.z$)()){return/android/i.test(_)}function ke(_=(0,O.z$)()){return/blackberry/i.test(_)}function pt(_=(0,O.z$)()){return/webos/i.test(_)}function $e(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ot(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function St(_=(0,O.z$)()){return $e(_)||de(_)||pt(_)||ke(_)||/windows phone/i.test(_)||q(_)}function Rr(_,h=[]){let g;switch(_){case"Browser":g=P((0,O.z$)());break;case"Worker":g=`${P((0,O.z$)())}-${_}`;break;default:g=_}const M=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${T.SDK_VERSION}/${M}`}function K(){return(K=(0,m.Z)(function*(_){return(yield ve(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _e(_,h){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,m.Z)(function*(_,h){return ve(_,"GET","/v2/recaptchaConfig",ee(_,h))})).apply(this,arguments)}function Re(_){return void 0!==_&&void 0!==_.getResponse}function Ht(_){return void 0!==_&&void 0!==_.enterprise}class Ut{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function c2(_){return new Promise((h,g)=>{const M=document.createElement("script");M.setAttribute("src",_),M.onload=h,M.onerror=S=>{const L=ue("internal-error");L.customData=S,g(L)},M.type="text/javascript",M.charset="UTF-8",function L2(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(M)})}function q2(_){return`__${_}${Math.floor(1e6*Math.random())}`}class t3{constructor(h){this.type="recaptcha-enterprise",this.auth=h2(h)}verify(h="verify",g=!1){var M=this;return(0,m.Z)(function*(){function L(){return L=(0,m.Z)(function*(J){if(!g){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var De=(0,m.Z)(function*(Fe,rt){_e(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Lt=>{if(void 0!==Lt.recaptchaKey){const J2=new Ut(Lt);return null==J.tenantId?J._agentRecaptchaConfig=J2:J._tenantRecaptchaConfigs[J.tenantId]=J2,Fe(J2.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(Lt=>{rt(Lt)})});return function(Fe,rt){return De.apply(this,arguments)}}())}),L.apply(this,arguments)}function $(J,De,Fe){const rt=window.grecaptcha;Ht(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(J,{action:h}).then(Lt=>{De(Lt)}).catch(()=>{De("NO_RECAPTCHA")})}):Fe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,De)=>{(function S(J){return L.apply(this,arguments)})(M.auth).then(Fe=>{if(!g&&Ht(window.grecaptcha))$(Fe,J,De);else{if(typeof window>"u")return void De(new Error("RecaptchaVerifier is only supported in browser"));c2("https://www.google.com/recaptcha/enterprise.js?render="+Fe).then(()=>{$(Fe,J,De)}).catch(rt=>{De(rt)})}}).catch(Fe=>{De(Fe)})})})()}}function Wn(_,h,g){return n3.apply(this,arguments)}function n3(){return(n3=(0,m.Z)(function*(_,h,g,M=!1){const S=new t3(_);let L;try{L=yield S.verify(g)}catch{L=yield S.verify(g,!0)}const $=Object.assign({},h);return Object.assign($,M?{captchaResp:L}:{captchaResponse:L}),Object.assign($,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$})).apply(this,arguments)}class Zi{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const M=L=>new Promise(($,J)=>{try{$(h(L))}catch(De){J(De)}});M.onAbort=g,this.queue.push(M);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,m.Z)(function*(){if(g.auth.currentUser===h)return;const M=[];try{for(const S of g.queue)yield S(h),S.onAbort&&M.push(S.onAbort)}catch(S){M.reverse();for(const L of M)try{L()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class X4{constructor(h,g,M,S){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=M,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xc(this),this.idTokenSubscription=new xc(this),this.beforeStateQueue=new Zi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ce,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(h,g){var M=this;return g&&(this._popupRedirectResolver=H2(g)),this._initializationPromise=this.queue((0,m.Z)(function*(){var S,L;if(!M._deleted&&(M.persistenceManager=yield F.create(M,h),!M._deleted)){if(null!==(S=M._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(g),M.lastNotifiedUid=(null===(L=M.currentUser)||void 0===L?void 0:L.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,m.Z)(function*(){var M;const S=yield g.assertedPersistence.getCurrentUser();let L=S,$=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const J=null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId,De=L?._redirectEventId,Fe=yield g.tryRedirectSignIn(h);(!J||J===De)&&Fe?.user&&(L=Fe.user,$=!0)}if(!L)return g.directlySetCurrentUser(null);if(!L._redirectEventId){if($)try{yield g.beforeStateQueue.runMiddleware(L)}catch(J){L=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(J))}return L?g.reloadAndSetCurrentUserOrClear(L):g.directlySetCurrentUser(null)}return ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===L._redirectEventId?g.directlySetCurrentUser(L):g.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(h){var g=this;return(0,m.Z)(function*(){let M=null;try{M=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,m.Z)(function*(){try{yield $n(h)}catch(M){if("auth/network-request-failed"!==M?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function r2(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,m.Z)(function*(){const M=h?(0,O.m9)(h):null;return M&&ie(M.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(M&&M._clone(g))})()}_updateCurrentUser(h,g=!1){var M=this;return(0,m.Z)(function*(){if(!M._deleted)return h&&ie(M.tenantId===h.tenantId,M,"tenant-id-mismatch"),g||(yield M.beforeStateQueue.runMiddleware(h)),M.queue((0,m.Z)(function*(){yield M.directlySetCurrentUser(h),M.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,m.Z)(function*(){yield g.assertedPersistence.setPersistence(H2(h))}))}initializeRecaptchaConfig(){var h=this;return(0,m.Z)(function*(){const g=yield _e(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),M=new Ut(g);null==h.tenantId?h._agentRecaptchaConfig=M:h._tenantRecaptchaConfigs[h.tenantId]=M,M.emailPasswordEnabled&&new t3(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,g,M){return this.registerStateListener(this.authStateSubscription,h,g,M)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,M){return this.registerStateListener(this.idTokenSubscription,h,g,M)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var M=this;return(0,m.Z)(function*(){const S=yield M.getOrInitRedirectPersistenceManager(g);return null===h?S.removeCurrentUser():S.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,m.Z)(function*(){if(!g.redirectPersistenceManager){const M=h&&H2(h)||g._popupRedirectResolver;ie(M,g,"argument-error"),g.redirectPersistenceManager=yield F.create(g,[H2(M._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,m.Z)(function*(){var M,S;return g._isInitialized&&(yield g.queue((0,m.Z)(function*(){}))),(null===(M=g._currentUser)||void 0===M?void 0:M._redirectEventId)===h?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,m.Z)(function*(){if(h===g.currentUser)return g.queue((0,m.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,M,S){if(this._deleted)return()=>{};const L="function"==typeof g?g:g.next.bind(g),$=this._isInitialized?Promise.resolve():this._initializationPromise;return ie($,this,"internal-error"),$.then(()=>L(this.currentUser)),"function"==typeof g?h.addObserver(g,M,S):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,m.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Rr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,m.Z)(function*(){var g;const M={"X-Client-Version":h.clientVersion};h.app.options.appId&&(M["X-Firebase-gmpid"]=h.app.options.appId);const S=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();S&&(M["X-Firebase-Client"]=S);const L=yield h._getAppCheckToken();return L&&(M["X-Firebase-AppCheck"]=L),M})()}_getAppCheckToken(){var h=this;return(0,m.Z)(function*(){var g;const M=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return M?.error&&function Ke(_,...h){xe.logLevel<=he.in.WARN&&xe.warn(`Auth (${T.SDK_VERSION}): ${_}`,...h)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function h2(_){return(0,O.m9)(_)}class xc{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tc(_,h,g){const M=h2(_);ie(M._canInitEmulator,M,"emulator-config-failed"),ie(/^https?:\/\//.test(h),M,"invalid-emulator-scheme");const S=!!g?.disableWarnings,L=Y1(h),{host:$,port:J}=function o8(_){const h=Y1(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const M=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(M);if(S){const L=S[1];return{host:L,port:eo(M.substr(L.length+1))}}{const[L,$]=M.split(":");return{host:L,port:eo($)}}}(h);M.config.emulator={url:`${L}//${$}${null===J?"":`:${J}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:$,port:J,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function a8(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function Y1(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function eo(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class ui{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return ft("not implemented")}_getIdTokenResponse(h){return ft("not implemented")}_linkToIdToken(h,g){return ft("not implemented")}_getReauthenticationResolver(h){return ft("not implemented")}}function Nc(_,h){return r3.apply(this,arguments)}function r3(){return(r3=(0,m.Z)(function*(_,h){return ve(_,"POST","/v1/accounts:resetPassword",ee(_,h))})).apply(this,arguments)}function to(_,h){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,m.Z)(function*(_,h){return ve(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function no(){return(no=(0,m.Z)(function*(_,h){return ve(_,"POST","/v1/accounts:update",ee(_,h))})).apply(this,arguments)}function i3(_,h){return s3.apply(this,arguments)}function s3(){return(s3=(0,m.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:signInWithPassword",ee(_,h))})).apply(this,arguments)}function o3(_,h){return ro.apply(this,arguments)}function ro(){return(ro=(0,m.Z)(function*(_,h){return ve(_,"POST","/v1/accounts:sendOobCode",ee(_,h))})).apply(this,arguments)}function io(){return(io=(0,m.Z)(function*(_,h){return o3(_,h)})).apply(this,arguments)}function a3(_,h){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,m.Z)(function*(_,h){return o3(_,h)})).apply(this,arguments)}function c3(_,h){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,m.Z)(function*(_,h){return o3(_,h)})).apply(this,arguments)}function Z2(){return(Z2=(0,m.Z)(function*(_,h){return o3(_,h)})).apply(this,arguments)}function u1(){return(u1=(0,m.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:signInWithEmailLink",ee(_,h))})).apply(this,arguments)}function l3(){return(l3=(0,m.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:signInWithEmailLink",ee(_,h))})).apply(this,arguments)}class Zn extends ui{constructor(h,g,M,S=null){super("password",M),this._email=h,this._password=g,this._tenantId=S}static _fromEmailAndPassword(h,g){return new Zn(h,g,"password")}static _fromEmailAndCode(h,g,M=null){return new Zn(h,g,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,m.Z)(function*(){var M;switch(g.signInMethod){case"password":const S={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=h._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const L=yield Wn(h,S,"signInWithPassword");return i3(h,L)}return i3(h,S).catch(function(){var L=(0,m.Z)(function*($){if("auth/missing-recaptcha-token"===$.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const J=yield Wn(h,S,"signInWithPassword");return i3(h,J)}return Promise.reject($)});return function($){return L.apply(this,arguments)}}());case"emailLink":return function fi(_,h){return u1.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Z(h,"internal-error")}})()}_linkToIdToken(h,g){var M=this;return(0,m.Z)(function*(){switch(M.signInMethod){case"password":return to(h,{idToken:g,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function kc(_,h){return l3.apply(this,arguments)}(h,{idToken:g,email:M._email,oobCode:M._password});default:Z(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Kn(_,h){return so.apply(this,arguments)}function so(){return(so=(0,m.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:signInWithIdp",ee(_,h))})).apply(this,arguments)}class Pe extends ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Pe(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Z("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:M,signInMethod:S}=g,L=(0,oe._T)(g,["providerId","signInMethod"]);if(!M||!S)return null;const $=new Pe(M,S);return $.idToken=L.idToken||void 0,$.accessToken=L.accessToken||void 0,$.secret=L.secret,$.nonce=L.nonce,$.pendingToken=L.pendingToken||null,$}_getIdTokenResponse(h){return Kn(h,this.buildRequest())}_linkToIdToken(h,g){const M=this.buildRequest();return M.idToken=g,Kn(h,M)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Kn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,O.xO)(g)}return h}}function Jt(){return(Jt=(0,m.Z)(function*(_,h){return ve(_,"POST","/v1/accounts:sendVerificationCode",ee(_,h))})).apply(this,arguments)}function Or(){return(Or=(0,m.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:signInWithPhoneNumber",ee(_,h))})).apply(this,arguments)}function Cr(){return(Cr=(0,m.Z)(function*(_,h){const g=yield $t(_,"POST","/v1/accounts:signInWithPhoneNumber",ee(_,h));if(g.temporaryProof)throw Wt(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const m2={USER_NOT_FOUND:"user-not-found"};function Mr(){return(Mr=(0,m.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:signInWithPhoneNumber",ee(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),m2)})).apply(this,arguments)}class dt extends ui{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new dt({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new dt({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function yn(_,h){return Or.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function K2(_,h){return Cr.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function _r(_,h){return Mr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:M,verificationCode:S}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:M,code:S}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:M,phoneNumber:S,temporaryProof:L}=h;return M||g||S||L?new dt({verificationId:g,verificationCode:M,phoneNumber:S,temporaryProof:L}):null}}class Cn{constructor(h){var g,M,S,L,$,J;const De=(0,O.zd)((0,O.pd)(h)),Fe=null!==(g=De.apiKey)&&void 0!==g?g:null,rt=null!==(M=De.oobCode)&&void 0!==M?M:null,Lt=function di(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=De.mode)&&void 0!==S?S:null);ie(Fe&&rt&&Lt,"argument-error"),this.apiKey=Fe,this.operation=Lt,this.code=rt,this.continueUrl=null!==(L=De.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==($=De.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(J=De.tenantId)&&void 0!==J?J:null}static parseLink(h){const g=function Pc(_){const h=(0,O.zd)((0,O.pd)(_)).link,g=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,M=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(M?(0,O.zd)((0,O.pd)(M)).link:null)||M||g||h||_}(h);try{return new Cn(g)}catch{return null}}}let wr=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,M){return Zn._fromEmailAndPassword(g,M)}static credentialWithLink(g,M){const S=Cn.parseLink(M);return ie(S,"argument-error"),Zn._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class V1{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class f1 extends V1{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ln extends f1{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return ie("providerId"in g&&"signInMethod"in g,"argument-error"),Pe._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ie(h.idToken||h.accessToken,"argument-error"),Pe._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ln.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ln.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:M,oauthTokenSecret:S,pendingToken:L,nonce:$,providerId:J}=h;if(!M&&!S&&!g&&!L||!J)return null;try{return new Ln(J)._credential({idToken:g,accessToken:M,nonce:$,pendingToken:L})}catch{return null}}}let Rc=(()=>{class _ extends f1{constructor(){super("facebook.com")}static credential(g){return Pe._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Yn=(()=>{class _ extends f1{constructor(){super("google.com"),this.addScope("profile")}static credential(g,M){return Pe._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:M})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:M,oauthAccessToken:S}=g;if(!M&&!S)return null;try{return _.credential(M,S)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Qn=(()=>{class _ extends f1{constructor(){super("github.com")}static credential(g){return Pe._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Jn extends ui{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Kn(h,this.buildRequest())}_linkToIdToken(h,g){const M=this.buildRequest();return M.idToken=g,Kn(h,M)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Kn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:M,signInMethod:S,pendingToken:L}=g;return M&&S&&L&&M===S?new Jn(M,L):null}static _create(h,g){return new Jn(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oo extends V1{constructor(h){ie(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return oo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return oo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Jn.fromJSON(h);return ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:M}=h;if(!g||!M)return null;try{return Jn._create(M,g)}catch{return null}}}let ao=(()=>{class _ extends f1{constructor(){super("twitter.com")}static credential(g,M){return Pe._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:M})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:M,oauthTokenSecret:S}=g;if(!M||!S)return null;try{return _.credential(M,S)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function hi(_,h){return Q1.apply(this,arguments)}function Q1(){return(Q1=(0,m.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:signUp",ee(_,h))})).apply(this,arguments)}class d1{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,M,S=!1){return(0,m.Z)(function*(){const L=yield s1._fromIdTokenResponse(h,M,S),$=Fr(M);return new d1({user:L,providerId:$,_tokenResponse:M,operationType:g})})()}static _forOperation(h,g,M){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(M,!0);const S=Fr(M);return new d1({user:h,providerId:S,_tokenResponse:M,operationType:g})})()}}function Fr(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function pi(_){return x2.apply(this,arguments)}function x2(){return(x2=(0,m.Z)(function*(_){var h;const g=h2(_);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new d1({user:g.currentUser,providerId:null,operationType:"signIn"});const M=yield hi(g,{returnSecureToken:!0}),S=yield d1._fromIdTokenResponse(g,"signIn",M,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class co extends O.ZR{constructor(h,g,M,S){var L;super(g.code,g.message),this.operationType=M,this.user=S,Object.setPrototypeOf(this,co.prototype),this.customData={appName:h.name,tenantId:null!==(L=h.tenantId)&&void 0!==L?L:void 0,_serverResponse:g.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(h,g,M,S){return new co(h,g,M,S)}}function h1(_,h,g,M){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?co._fromErrorAndOperation(_,L,h,M):L})}function a1(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function lo(_,h){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,m.Z)(function*(_,h){const g=(0,O.m9)(_);yield gi(!0,g,h);const{providerUserInfo:M}=yield function j2(_,h){return A2.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),S=a1(M||[]);return g.providerData=g.providerData.filter(L=>S.has(L.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Xn.apply(this,arguments)}function mi(_,h){return S1.apply(this,arguments)}function S1(){return(S1=(0,m.Z)(function*(_,h,g=!1){const M=yield Rt(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return d1._forOperation(_,"link",M)})).apply(this,arguments)}function gi(_,h,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,m.Z)(function*(_,h,g){yield $n(h);const S=!1===_?"provider-already-linked":"no-such-provider";ie(a1(h.providerData).has(g)===_,h.auth,S)})).apply(this,arguments)}function Oc(_,h){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,m.Z)(function*(_,h,g=!1){const{auth:M}=_,S="reauthenticate";try{const L=yield Rt(_,h1(M,S,h,_),g);ie(L.idToken,M,"internal-error");const $=b1(L.idToken);ie($,M,"internal-error");const{sub:J}=$;return ie(_.uid===J,M,"user-mismatch"),d1._forOperation(_,S,L)}catch(L){throw"auth/user-not-found"===L?.code&&Z(M,"user-mismatch"),L}})).apply(this,arguments)}function Bc(_,h){return f3.apply(this,arguments)}function f3(){return(f3=(0,m.Z)(function*(_,h,g=!1){const M="signIn",S=yield h1(_,M,h),L=yield d1._fromIdTokenResponse(_,M,S);return g||(yield _._updateCurrentUser(L.user)),L})).apply(this,arguments)}function fo(_,h){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,m.Z)(function*(_,h){return Bc(h2(_),h)})).apply(this,arguments)}function jc(_,h){return $c.apply(this,arguments)}function $c(){return($c=(0,m.Z)(function*(_,h){const g=(0,O.m9)(_);return yield gi(!1,g,h.providerId),mi(g,h)})).apply(this,arguments)}function Gc(_,h){return qc.apply(this,arguments)}function qc(){return(qc=(0,m.Z)(function*(_,h){return Oc((0,O.m9)(_),h)})).apply(this,arguments)}function Wc(){return(Wc=(0,m.Z)(function*(_,h){return $t(_,"POST","/v1/accounts:signInWithCustomToken",ee(_,h))})).apply(this,arguments)}function u8(_,h){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,m.Z)(function*(_,h){const g=h2(_),M=yield function l8(_,h){return Wc.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),S=yield d1._fromIdTokenResponse(g,"signIn",M);return yield g._updateCurrentUser(S.user),S}),Zc.apply(this,arguments)}class d3{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Kc._fromServerResponse(h,g):"totpInfo"in g?h3._fromServerResponse(h,g):Z(h,"internal-error")}}class Kc extends d3{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Kc(g)}}class h3 extends d3{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new h3(g)}}function Br(_,h,g){var M;ie((null===(M=g.url)||void 0===M?void 0:M.length)>0,_,"invalid-continue-uri"),ie(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ie(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(ie(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function D9(_,h,g){return ho.apply(this,arguments)}function ho(){return ho=(0,m.Z)(function*(_,h,g){var M;const S=h2(_),L={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=S._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const $=yield Wn(S,L,"getOobCode",!0);g&&Br(S,$,g),yield a3(S,$)}else g&&Br(S,L,g),yield a3(S,L).catch(function(){var $=(0,m.Z)(function*(J){if("auth/missing-recaptcha-token"!==J.code)return Promise.reject(J);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const De=yield Wn(S,L,"getOobCode",!0);g&&Br(S,De,g),yield a3(S,De)}});return function(J){return $.apply(this,arguments)}}())}),ho.apply(this,arguments)}function A9(_,h,g){return er.apply(this,arguments)}function er(){return(er=(0,m.Z)(function*(_,h,g){yield Nc((0,O.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function po(_,h){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,m.Z)(function*(_,h){yield function c8(_,h){return no.apply(this,arguments)}((0,O.m9)(_),{oobCode:h})}),Yc.apply(this,arguments)}function Ji(_,h){return p3.apply(this,arguments)}function p3(){return(p3=(0,m.Z)(function*(_,h){const g=(0,O.m9)(_),M=yield Nc(g,{oobCode:h}),S=M.requestType;switch(ie(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(M.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(M.mfaInfo,g,"internal-error");default:ie(M.email,g,"internal-error")}let L=null;return M.mfaInfo&&(L=d3._fromServerResponse(h2(g),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:L},operation:S}})).apply(this,arguments)}function Qc(_,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,m.Z)(function*(_,h){const{data:g}=yield Ji((0,O.m9)(_),h);return g.email})).apply(this,arguments)}function f8(_,h,g){return go.apply(this,arguments)}function go(){return go=(0,m.Z)(function*(_,h,g){var M;const S=h2(_),L={returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"};let $;if(null!==(M=S._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const Fe=yield Wn(S,L,"signUpPassword");$=hi(S,Fe)}else $=hi(S,L).catch(function(){var Fe=(0,m.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Lt=yield Wn(S,L,"signUpPassword");return hi(S,Lt)}return Promise.reject(rt)});return function(rt){return Fe.apply(this,arguments)}}());const J=yield $.catch(Fe=>Promise.reject(Fe)),De=yield d1._fromIdTokenResponse(S,"signIn",J);return yield S._updateCurrentUser(De.user),De}),go.apply(this,arguments)}function d8(_,h,g){return fo((0,O.m9)(_),wr.credential(h,g))}function xn(_,h,g){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,m.Z)(function*(_,h,g){var M;const S=h2(_),L={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function $(J,De){ie(De.handleCodeInApp,S,"argument-error"),De&&Br(S,J,De)}if(null!==(M=S._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const J=yield Wn(S,L,"getOobCode",!0);$(J,g),yield c3(S,J)}else $(L,g),yield c3(S,L).catch(function(){var J=(0,m.Z)(function*(De){if("auth/missing-recaptcha-token"!==De.code)return Promise.reject(De);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Fe=yield Wn(S,L,"getOobCode",!0);$(Fe,g),yield c3(S,Fe)}});return function(De){return J.apply(this,arguments)}}())}),Ur.apply(this,arguments)}function k2(_,h){const g=Cn.parseLink(h);return"EMAIL_SIGNIN"===g?.operation}function Jc(_,h,g){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,m.Z)(function*(_,h,g){const M=(0,O.m9)(_),S=wr.credentialWithLink(h,g||zt());return ie(S._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),fo(M,S)})).apply(this,arguments)}function Xi(){return(Xi=(0,m.Z)(function*(_,h){return ve(_,"POST","/v1/accounts:createAuthUri",ee(_,h))})).apply(this,arguments)}function m3(_,h){return yo.apply(this,arguments)}function yo(){return yo=(0,m.Z)(function*(_,h){const M={identifier:h,continueUri:D2()?zt():"http://localhost"},{signinMethods:S}=yield function vo(_,h){return Xi.apply(this,arguments)}((0,O.m9)(_),M);return S||[]}),yo.apply(this,arguments)}function h8(_,h){return g3.apply(this,arguments)}function g3(){return g3=(0,m.Z)(function*(_,h){const g=(0,O.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Br(g.auth,S,h);const{email:L}=yield function Yi(_,h){return io.apply(this,arguments)}(g.auth,S);L!==_.email&&(yield _.reload())}),g3.apply(this,arguments)}function Co(_,h,g){return _o.apply(this,arguments)}function _o(){return _o=(0,m.Z)(function*(_,h,g){const M=(0,O.m9)(_),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&Br(M.auth,L,g);const{email:$}=yield function W2(_,h){return Z2.apply(this,arguments)}(M.auth,L);$!==_.email&&(yield _.reload())}),_o.apply(this,arguments)}function y3(){return(y3=(0,m.Z)(function*(_,h){return ve(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function T9(_,h){return e6.apply(this,arguments)}function e6(){return e6=(0,m.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const M=(0,O.m9)(_),L={idToken:yield M.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},$=yield Rt(M,function v3(_,h){return y3.apply(this,arguments)}(M.auth,L));M.displayName=$.displayName||null,M.photoURL=$.photoUrl||null;const J=M.providerData.find(({providerId:De})=>"password"===De);J&&(J.displayName=M.displayName,J.photoURL=M.photoURL),yield M._updateTokensIfNecessary($)}),e6.apply(this,arguments)}function p8(_,h){return Mo((0,O.m9)(_),h,null)}function t6(_,h){return Mo((0,O.m9)(_),null,h)}function Mo(_,h,g){return wo.apply(this,arguments)}function wo(){return(wo=(0,m.Z)(function*(_,h,g){const{auth:M}=_,L={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(L.email=h),g&&(L.password=g);const $=yield Rt(_,to(M,L));yield _._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class br{constructor(h,g,M={}){this.isNewUser=h,this.providerId=g,this.profile=M}}class n6 extends br{constructor(h,g,M,S){super(h,g,M),this.username=S}}class m8 extends br{constructor(h,g){super(h,"facebook.com",g)}}class Ho extends n6{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class r6 extends br{constructor(h,g){super(h,"google.com",g)}}class i6 extends n6{constructor(h,g,M){super(h,"twitter.com",g,M)}}function Vo(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function bo(_){var h,g;if(!_)return null;const{providerId:M}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},L=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!M&&_?.idToken){const $=null===(g=null===(h=b1(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if($)return new br(L,"anonymous"!==$&&"custom"!==$?$:null)}if(!M)return null;switch(M){case"facebook.com":return new m8(L,S);case"github.com":return new Ho(L,S);case"google.com":return new r6(L,S);case"twitter.com":return new i6(L,S,_.screenName||null);case"custom":case"anonymous":return new br(L,null);default:return new br(L,M,S)}}(g)}class I1{constructor(h,g,M){this.type=h,this.credential=g,this.auth=M}static _fromIdtoken(h,g){return new I1("enroll",h,g)}static _fromMfaPendingCredential(h){return new I1("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,M;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return I1._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(M=h.multiFactorSession)&&void 0!==M&&M.idToken)return I1._fromIdtoken(h.multiFactorSession.idToken)}return null}}class p1{constructor(h,g,M){this.session=h,this.hints=g,this.signInResolver=M}static _fromError(h,g){const M=h2(h),S=g.customData._serverResponse,L=(S.mfaInfo||[]).map(J=>d3._fromServerResponse(M,J));ie(S.mfaPendingCredential,M,"internal-error");const $=I1._fromMfaPendingCredential(S.mfaPendingCredential);return new p1($,L,function(){var J=(0,m.Z)(function*(De){const Fe=yield De._process(M,$);delete S.mfaInfo,delete S.mfaPendingCredential;const rt=Object.assign(Object.assign({},S),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(g.operationType){case"signIn":const Lt=yield d1._fromIdTokenResponse(M,g.operationType,rt);return yield M._updateCurrentUser(Lt.user),Lt;case"reauthenticate":return ie(g.user,M,"internal-error"),d1._forOperation(g.user,g.operationType,rt);default:Z(M,"internal-error")}});return function(De){return J.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,m.Z)(function*(){return g.signInResolver(h)})()}}function g8(_,h){var g;const M=(0,O.m9)(_),S=h;return ie(h.customData.operationType,M,"argument-error"),ie(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,M,"argument-error"),p1._fromError(M,S)}class _3{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(M=>d3._fromServerResponse(h.auth,M)))})}static _fromUser(h){return new _3(h)}getSession(){var h=this;return(0,m.Z)(function*(){return I1._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var M=this;return(0,m.Z)(function*(){const S=h,L=yield M.getSession(),$=yield Rt(M.user,S._process(M.user.auth,L,g));return yield M.user._updateTokensIfNecessary($),M.user.reload()})()}unenroll(h){var g=this;return(0,m.Z)(function*(){const M="string"==typeof h?h:h.uid,S=yield g.user.getIdToken();try{const L=yield Rt(g.user,function c6(_,h){return ve(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ee(_,h))}(g.user.auth,{idToken:S,mfaEnrollmentId:M}));g.enrolledFactors=g.enrolledFactors.filter(({uid:$})=>$!==M),yield g.user._updateTokensIfNecessary(L),yield g.user.reload()}catch(L){throw L}})()}}const es=new WeakMap;function l6(_){const h=(0,O.m9)(_);return es.has(h)||es.set(h,_3._fromUser(h)),es.get(h)}const M3="__sak";class mt{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(M3,"1"),this.storage.removeItem(M3),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const d6=(()=>{class _ extends mt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,M)=>this.onStorageEvent(g,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function u6(){const _=(0,O.z$)();return D(_)||$e(_)}()&&function o1(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=St(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const M of Object.keys(this.listeners)){const S=this.storage.getItem(M),L=this.localCache[M];S!==L&&g(M,L,S)}}onStorageEvent(g,M=!1){if(!g.key)return void this.forAllChangedKeys((J,De,Fe)=>{this.notifyListeners(J,Fe)});const S=g.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(S);if(g.newValue!==J)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!M)return}const L=()=>{const J=this.storage.getItem(S);!M&&this.localCache[S]===J||this.notifyListeners(S,J)},$=this.storage.getItem(S);!function Zt(){return(0,O.w1)()&&10===document.documentMode}()||$===g.newValue||g.newValue===g.oldValue?L():setTimeout(L,10)}notifyListeners(g,M){this.localCache[g]=M;const S=this.listeners[g];if(S)for(const L of Array.from(S))L(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,M,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:M,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,M){var S=()=>super._set,L=this;return(0,m.Z)(function*(){yield S().call(L,g,M),L.localCache[g]=JSON.stringify(M)})()}_get(g){var M=()=>super._get,S=this;return(0,m.Z)(function*(){const L=yield M().call(S,g);return S.localCache[g]=JSON.stringify(L),L})()}_remove(g){var M=()=>super._remove,S=this;return(0,m.Z)(function*(){yield M().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),Hr=(()=>{class _ extends mt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,M){}_removeListener(g,M){}}return _.type="SESSION",_})();let p6=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const M=this.receivers.find(L=>L.isListeningto(g));if(M)return M;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var M=this;return(0,m.Z)(function*(){const S=g,{eventId:L,eventType:$,data:J}=S.data,De=M.handlersMap[$];if(!De?.size)return;S.ports[0].postMessage({status:"ack",eventId:L,eventType:$});const Fe=Array.from(De).map(function(){var Lt=(0,m.Z)(function*(J2){return J2(S.origin,J)});return function(J2){return Lt.apply(this,arguments)}}()),rt=yield function y8(_){return Promise.all(_.map(function(){var h=(0,m.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(M){return{fulfilled:!1,reason:M}}});return function(g){return h.apply(this,arguments)}}()))}(Fe);S.ports[0].postMessage({status:"done",eventId:L,eventType:$,response:rt})})()}_subscribe(g,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(M)}_unsubscribe(g,M){this.handlersMap[g]&&M&&this.handlersMap[g].delete(M),(!M||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function ts(_="",h=10){let g="";for(let M=0;M<h;M++)g+=Math.floor(10*Math.random());return _+g}class C8{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,M=50){var S=this;return(0,m.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let $,J;return new Promise((De,Fe)=>{const rt=ts("",20);L.port1.start();const Lt=setTimeout(()=>{Fe(new Error("unsupported_event"))},M);J={messageChannel:L,onMessage(J2){const rr=J2;if(rr.data.eventId===rt)switch(rr.data.status){case"ack":clearTimeout(Lt),$=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout($),De(rr.data.response);break;default:clearTimeout(Lt),clearTimeout($),Fe(new Error("invalid_response"))}}},S.handlers.add(J),L.port1.addEventListener("message",J.onMessage),S.target.postMessage({eventType:h,eventId:rt,data:g},[L.port2])}).finally(()=>{J&&S.removeMessageHandler(J)})})()}}function S2(){return window}function kt(){return typeof S2().WorkerGlobalScope<"u"&&"function"==typeof S2().importScripts}function b3(){return(b3=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vi="firebaseLocalStorageDb",yi="firebaseLocalStorage",ns="fbase_key";class Ci{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function zo(_,h){return _.transaction([yi],h?"readwrite":"readonly").objectStore(yi)}function Q2(){const _=indexedDB.open(vi,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const M=_.result;try{M.createObjectStore(yi,{keyPath:ns})}catch(S){g(S)}}),_.addEventListener("success",(0,m.Z)(function*(){const M=_.result;M.objectStoreNames.contains(yi)?h(M):(M.close(),yield function g6(){const _=indexedDB.deleteDatabase(vi);return new Ci(_).toPromise()}(),h(yield Q2()))}))})}function An(_,h,g){return H3.apply(this,arguments)}function H3(){return(H3=(0,m.Z)(function*(_,h,g){const M=zo(_,!0).put({[ns]:h,value:g});return new Ci(M).toPromise()})).apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*(_,h){const g=zo(_,!1).get(h),M=yield new Ci(g).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function v6(_,h){const g=zo(_,!0).delete(h);return new Ci(g).toPromise()}const rs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,m.Z)(function*(){return g.db||(g.db=yield Q2()),g.db})()}_withRetries(g){var M=this;return(0,m.Z)(function*(){let S=0;for(;;)try{const L=yield M._openDb();return yield g(L)}catch(L){if(S++>3)throw L;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,m.Z)(function*(){return kt()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,m.Z)(function*(){g.receiver=p6._getInstance(function m6(){return kt()?self:null}()),g.receiver._subscribe("keyChanged",function(){var M=(0,m.Z)(function*(S,L){return{keyProcessed:(yield g._poll()).includes(L.key)}});return function(S,L){return M.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var M=(0,m.Z)(function*(S,L){return["keyChanged"]});return function(S,L){return M.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,m.Z)(function*(){var M,S;if(g.activeServiceWorker=yield function w3(){return b3.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new C8(g.activeServiceWorker);const L=yield g.sender._send("ping",{},800);L&&null!==(M=L[0])&&void 0!==M&&M.fulfilled&&null!==(S=L[0])&&void 0!==S&&S.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var M=this;return(0,m.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Y2(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:g},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Q2();return yield An(g,M3,"1"),yield v6(g,M3),!0}catch{}return!1})()}_withPendingWrite(g){var M=this;return(0,m.Z)(function*(){M.pendingWrites++;try{yield g()}finally{M.pendingWrites--}})()}_set(g,M){var S=this;return(0,m.Z)(function*(){return S._withPendingWrite((0,m.Z)(function*(){return yield S._withRetries(L=>An(L,g,M)),S.localCache[g]=M,S.notifyServiceWorker(g)}))})()}_get(g){var M=this;return(0,m.Z)(function*(){const S=yield M._withRetries(L=>function _i(_,h){return _n.apply(this,arguments)}(L,g));return M.localCache[g]=S,S})()}_remove(g){var M=this;return(0,m.Z)(function*(){return M._withPendingWrite((0,m.Z)(function*(){return yield M._withRetries(S=>v6(S,g)),delete M.localCache[g],M.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,m.Z)(function*(){const M=yield g._withRetries($=>{const J=zo($,!1).getAll();return new Ci(J).toPromise()});if(!M)return[];if(0!==g.pendingWrites)return[];const S=[],L=new Set;for(const{fbase_key:$,value:J}of M)L.add($),JSON.stringify(g.localCache[$])!==JSON.stringify(J)&&(g.notifyListeners($,J),S.push($));for(const $ of Object.keys(g.localCache))g.localCache[$]&&!L.has($)&&(g.notifyListeners($,null),S.push($));return S})()}notifyListeners(g,M){this.localCache[g]=M;const S=this.listeners[g];if(S)for(const L of Array.from(S))L(M)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(M)}_removeListener(g,M){this.listeners[g]&&(this.listeners[g].delete(M),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),Mi=1e12;class C6{constructor(h){this.auth=h,this.counter=Mi,this._widgets=new Map}render(h,g){const M=this.counter;return this._widgets.set(M,new _6(h,this.auth.name,g||{})),this.counter++,M}reset(h){var g;const M=h||Mi;null===(g=this._widgets.get(M))||void 0===g||g.delete(),this._widgets.delete(M)}getResponse(h){var g;return(null===(g=this._widgets.get(h||Mi))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,m.Z)(function*(){var M;return null===(M=g._widgets.get(h||Mi))||void 0===M||M.execute(),""})()}}class _6{constructor(h,g,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof h?document.getElementById(h):h;ie(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function M6(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<_;M++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const S3=q2("rcb"),I3=new hn(3e4,6e4);class b8{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=S2().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return ie(function m1(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&Re(S2().grecaptcha)?Promise.resolve(S2().grecaptcha):new Promise((M,S)=>{const L=S2().setTimeout(()=>{S(ue(h,"network-request-failed"))},I3.get());S2()[S3]=()=>{S2().clearTimeout(L),delete S2()[S3];const J=S2().grecaptcha;if(!J||!Re(J))return void S(ue(h,"internal-error"));const De=J.render;J.render=(Fe,rt)=>{const Lt=De(Fe,rt);return this.counter++,Lt},this.hostLanguage=g,M(J)},c2(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:S3,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(L),S(ue(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=S2().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $r{load(h){return(0,m.Z)(function*(){return new C6(h)})()}clearedOneInstance(){}}const n2="recaptcha",H8={theme:"light",type:"image"};class w6{constructor(h,g=Object.assign({},H8),M){this.parameters=g,this.type=n2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=h2(M),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof h?document.getElementById(h):h;ie(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $r:new b8,this.validateStartingState()}verify(){var h=this;return(0,m.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),M=h.getAssertedRecaptcha();return M.getResponse(g)||new Promise(L=>{const $=J=>{J&&(h.tokenChangeListeners.delete($),L(J))};h.tokenChangeListeners.add($),h.isInvisible&&M.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(M=>M(g)),"function"==typeof h)h(g);else if("string"==typeof h){const M=S2()[h];"function"==typeof M&&M(g)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,m.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const M=document.createElement("div");g.appendChild(M),g=M}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,m.Z)(function*(){ie(D2()&&!kt(),h.auth,"internal-error"),yield function V8(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function re(_){return K.apply(this,arguments)}(h.auth);ie(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xo{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=dt._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Do(_,h,g){return z3.apply(this,arguments)}function z3(){return(z3=(0,m.Z)(function*(_,h,g){const M=h2(_),S=yield Nn(M,h,(0,O.m9)(g));return new xo(S,L=>fo(M,L))})).apply(this,arguments)}function E3(_,h,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,m.Z)(function*(_,h,g){const M=(0,O.m9)(_);yield gi(!1,M,"phone");const S=yield Nn(M.auth,h,(0,O.m9)(g));return new xo(S,L=>jc(M,L))})).apply(this,arguments)}function S8(_,h,g){return wi.apply(this,arguments)}function wi(){return(wi=(0,m.Z)(function*(_,h,g){const M=(0,O.m9)(_),S=yield Nn(M.auth,h,(0,O.m9)(g));return new xo(S,L=>Gc(M,L))})).apply(this,arguments)}function Nn(_,h,g){return bi.apply(this,arguments)}function bi(){return bi=(0,m.Z)(function*(_,h,g){var M;const S=yield g.verify();try{let L;if(ie("string"==typeof S,_,"argument-error"),ie(g.type===n2,_,"argument-error"),L="string"==typeof h?{phoneNumber:h}:h,"session"in L){const $=L.session;if("phoneNumber"in L)return ie("enroll"===$.type,_,"internal-error"),(yield function o6(_,h){return ve(_,"POST","/v2/accounts/mfaEnrollment:start",ee(_,h))}(_,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ie("signin"===$.type,_,"internal-error");const J=(null===(M=L.multiFactorHint)||void 0===M?void 0:M.uid)||L.multiFactorUid;return ie(J,_,"missing-multi-factor-info"),(yield function Lo(_,h){return ve(_,"POST","/v2/accounts/mfaSignIn:start",ee(_,h))}(_,{mfaPendingCredential:$.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield function yt(_,h){return Jt.apply(this,arguments)}(_,{phoneNumber:L.phoneNumber,recaptchaToken:S});return $}}finally{g._reset()}}),bi.apply(this,arguments)}function Ao(_,h){return L3.apply(this,arguments)}function L3(){return(L3=(0,m.Z)(function*(_,h){yield mi((0,O.m9)(_),h)})).apply(this,arguments)}let b6=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=h2(g)}verifyPhoneNumber(g,M){return Nn(this.auth,g,(0,O.m9)(M))}static credential(g,M){return dt._fromVerification(g,M)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:M,temporaryProof:S}=g;return M&&S?dt._fromTokenResponse(M,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Vr(_,h){return h?H2(h):(ie(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Sr extends ui{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Kn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Kn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Kn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function ss(_){return Bc(_.auth,new Sr(_),_.bypassAuthState)}function I8(_){const{auth:h,user:g}=_;return ie(g,h,"internal-error"),Oc(g,new Sr(_),_.bypassAuthState)}function B9(_){return os.apply(this,arguments)}function os(){return(os=(0,m.Z)(function*(_){const{auth:h,user:g}=_;return ie(g,h,"internal-error"),mi(g,new Sr(_),_.bypassAuthState)})).apply(this,arguments)}class z8{constructor(h,g,M,S,L=!1){this.auth=h,this.resolver=M,this.user=S,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,m.Z)(function*(M,S){h.pendingPromise={resolve:M,reject:S};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(L){h.reject(L)}});return function(M,S){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,m.Z)(function*(){const{urlResponse:M,sessionId:S,postBody:L,tenantId:$,error:J,type:De}=h;if(J)return void g.reject(J);const Fe={auth:g.auth,requestUri:M,sessionId:S,tenantId:$||void 0,postBody:L||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(De)(Fe))}catch(rt){g.reject(rt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return ss;case"linkViaPopup":case"linkViaRedirect":return B9;case"reauthViaPopup":case"reauthViaRedirect":return I8;default:Z(this.auth,"internal-error")}}resolve(h){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const E8=new hn(2e3,1e4);function L8(_,h,g){return H6.apply(this,arguments)}function H6(){return(H6=(0,m.Z)(function*(_,h,g){const M=h2(_);pe(_,h,V1);const S=Vr(M,g);return new kn(M,"signInViaPopup",h,S).executeNotNull()})).apply(this,arguments)}function U9(_,h,g){return as.apply(this,arguments)}function as(){return(as=(0,m.Z)(function*(_,h,g){const M=(0,O.m9)(_);pe(M.auth,h,V1);const S=Vr(M.auth,g);return new kn(M.auth,"reauthViaPopup",h,S,M).executeNotNull()})).apply(this,arguments)}function cs(_,h,g){return To.apply(this,arguments)}function To(){return(To=(0,m.Z)(function*(_,h,g){const M=(0,O.m9)(_);pe(M.auth,h,V1);const S=Vr(M.auth,g);return new kn(M.auth,"linkViaPopup",h,S,M).executeNotNull()})).apply(this,arguments)}let kn=(()=>{class _ extends z8{constructor(g,M,S,L,$){super(g,M,L,$),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,m.Z)(function*(){const M=yield g.execute();return ie(M,g.auth,"internal-error"),M})()}onExecution(){var g=this;return(0,m.Z)(function*(){_t(1===g.filter.length,"Popup operations only handle one event");const M=ts();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],M),g.authWindow.associatedEvent=M,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ue(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var M,S;this.pollId=null!==(S=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ue(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,E8.get())};g()}}return _.currentPopupAction=null,_})();const No="pendingRedirect",Ir=new Map;class j9 extends z8{constructor(h,g,M=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,M),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,m.Z)(function*(){let M=Ir.get(g.auth._key());if(!M){try{const L=(yield function V6(_,h){return x3.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;M=()=>Promise.resolve(L)}catch(S){M=()=>Promise.reject(S)}Ir.set(g.auth._key(),M)}return g.bypassAuthState||Ir.set(g.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,M=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(M,h);if("unknown"!==h.type){if(h.eventId){const S=yield M.auth._redirectUserForId(h.eventId);if(S)return M.user=S,g().call(M,h);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function x3(){return(x3=(0,m.Z)(function*(_,h){const g=ko(h),M=A3(_);if(!(yield M._isAvailable()))return!1;const S="true"===(yield M._get(g));return yield M._remove(g),S})).apply(this,arguments)}function D3(_,h){return J1.apply(this,arguments)}function J1(){return(J1=(0,m.Z)(function*(_,h){return A3(_)._set(ko(h),"true")})).apply(this,arguments)}function S6(){Ir.clear()}function ls(_,h){Ir.set(_._key(),h)}function A3(_){return H2(_._redirectPersistence)}function ko(_){return K1(No,_.config.apiKey,_.name)}function T3(_,h,g){return function Po(_,h,g){return Ro.apply(this,arguments)}(_,h,g)}function Ro(){return(Ro=(0,m.Z)(function*(_,h,g){const M=h2(_);pe(_,h,V1),yield M._initializationPromise;const S=Vr(M,g);return yield D3(S,M),S._openRedirect(M,h,"signInViaRedirect")})).apply(this,arguments)}function I6(_,h,g){return function z6(_,h,g){return N3.apply(this,arguments)}(_,h,g)}function N3(){return(N3=(0,m.Z)(function*(_,h,g){const M=(0,O.m9)(_);pe(M.auth,h,V1),yield M.auth._initializationPromise;const S=Vr(M.auth,g);yield D3(S,M.auth);const L=yield Hi(M);return S._openRedirect(M.auth,h,"reauthViaRedirect",L)})).apply(this,arguments)}function E6(_,h,g){return function x8(_,h,g){return Gr.apply(this,arguments)}(_,h,g)}function Gr(){return(Gr=(0,m.Z)(function*(_,h,g){const M=(0,O.m9)(_);pe(M.auth,h,V1),yield M.auth._initializationPromise;const S=Vr(M.auth,g);yield gi(!1,M,h.providerId),yield D3(S,M.auth);const L=yield Hi(M);return S._openRedirect(M.auth,h,"linkViaRedirect",L)})).apply(this,arguments)}function qr(_,h){return k3.apply(this,arguments)}function k3(){return(k3=(0,m.Z)(function*(_,h){return yield h2(_)._initializationPromise,P3(_,h,!1)})).apply(this,arguments)}function P3(_,h){return R3.apply(this,arguments)}function R3(){return(R3=(0,m.Z)(function*(_,h,g=!1){const M=h2(_),S=Vr(M,h),$=yield new j9(M,S,g).execute();return $&&!g&&(delete $.user._redirectEventId,yield M._persistUserIfCurrent($.user),yield M._setRedirectUser(null,h)),$})).apply(this,arguments)}function Hi(_){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,m.Z)(function*(_){const h=ts(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class us{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(h,M)&&(g=!0,this.sendToConsumer(h,M),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function D8(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O3(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var M;if(h.error&&!O3(h)){const S=(null===(M=h.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";g.onError(ue(this.auth,S))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const M=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&M}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(L6(h))}saveEventToCache(h){this.cachedEventUids.add(L6(h)),this.lastProcessedEventTime=Date.now()}}function L6(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function O3({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function F3(_){return fs.apply(this,arguments)}function fs(){return(fs=(0,m.Z)(function*(_,h={}){return ve(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Vi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wr=/^https?/;function B3(){return(B3=(0,m.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield F3(_);for(const g of h)try{if(Fo(g))return}catch{}Z(_,"unauthorized-domain")})).apply(this,arguments)}function Fo(_){const h=zt(),{protocol:g,hostname:M}=new URL(h);if(_.startsWith("chrome-extension://")){const $=new URL(_);return""===$.hostname&&""===M?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&$.hostname===M}if(!Wr.test(g))return!1;if(Vi.test(_))return M===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(M)}const Ii=new hn(3e4,6e4);function A8(){const _=S2().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Bo=null;const T8=new hn(5e3,15e3),G9="__/auth/iframe",q9="emulator/auth/iframe",W9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N8(_){const h=_.config;ie(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?jn(h,q9):`https://${_.config.authDomain}/${G9}`,M={apiKey:h.apiKey,appName:_.name,v:T.SDK_VERSION},S=zi.get(_.config.apiHost);S&&(M.eid=S);const L=_._getFrameworks();return L.length&&(M.fw=L.join(",")),`${g}?${(0,O.xO)(M).slice(1)}`}function g2(){return g2=(0,m.Z)(function*(_){const h=yield function $9(_){return Bo=Bo||function x6(_){return new Promise((h,g)=>{var M,S,L;function $(){A8(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{A8(),g(ue(_,"network-request-failed"))},timeout:Ii.get()})}if(null!==(S=null===(M=S2().gapi)||void 0===M?void 0:M.iframes)&&void 0!==S&&S.Iframe)h(gapi.iframes.getContext());else{if(null===(L=S2().gapi)||void 0===L||!L.load){const J=q2("iframefcb");return S2()[J]=()=>{gapi.load?$():g(ue(_,"network-request-failed"))},c2(`https://apis.google.com/js/api.js?onload=${J}`).catch(De=>g(De))}$()}}).catch(h=>{throw Bo=null,h})}(_),Bo}(_),g=S2().gapi;return ie(g,_,"internal-error"),h.open({where:document.body,url:N8(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W9,dontclear:!0},M=>new Promise(function(){var S=(0,m.Z)(function*(L,$){yield M.restyle({setHideOnLeave:!1});const J=ue(_,"network-request-failed"),De=S2().setTimeout(()=>{$(J)},T8.get());function Fe(){S2().clearTimeout(De),L(M)}M.ping(Fe).then(Fe,()=>{$(J)})});return function(L,$){return S.apply(this,arguments)}}()))}),g2.apply(this,arguments)}const P8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Uo{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const O8="__/auth/handler",Z9="emulator/auth/handler",F8=encodeURIComponent("fac");function jo(_,h,g,M,S,L){return v1.apply(this,arguments)}function v1(){return(v1=(0,m.Z)(function*(_,h,g,M,S,L){ie(_.config.authDomain,_,"auth-domain-config-required"),ie(_.config.apiKey,_,"invalid-api-key");const $={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:M,v:T.SDK_VERSION,eventId:S};if(h instanceof V1){h.setDefaultLanguage(_.languageCode),$.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||($.customParameters=JSON.stringify(h.getCustomParameters()));for(const[rt,Lt]of Object.entries(L||{}))$[rt]=Lt}if(h instanceof f1){const rt=h.getScopes().filter(Lt=>""!==Lt);rt.length>0&&($.scopes=rt.join(","))}_.tenantId&&($.tid=_.tenantId);const J=$;for(const rt of Object.keys(J))void 0===J[rt]&&delete J[rt];const De=yield _._getAppCheckToken(),Fe=De?`#${F8}=${encodeURIComponent(De)}`:"";return`${function $o({config:_}){return _.emulator?jn(_,Z9):`https://${_.authDomain}/${O8}`}(_)}?${(0,O.xO)(J).slice(1)}${Fe}`})).apply(this,arguments)}const nr="webStorageSupport",Go=class K9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hr,this._completeRedirectFn=P3,this._overrideRedirectResult=ls}_openPopup(h,g,M,S){var L=this;return(0,m.Z)(function*(){var $;_t(null===($=L.eventManagers[h._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const J=yield jo(h,g,M,zt(),S);return function U3(_,h,g,M=500,S=600){const L=Math.max((window.screen.availHeight-S)/2,0).toString(),$=Math.max((window.screen.availWidth-M)/2,0).toString();let J="";const De=Object.assign(Object.assign({},P8),{width:M.toString(),height:S.toString(),top:L,left:$}),Fe=(0,O.z$)().toLowerCase();g&&(J=E(Fe)?"_blank":g),x(Fe)&&(h=h||"http://localhost",De.scrollbars="yes");const rt=Object.entries(De).reduce((J2,[rr,W3])=>`${J2}${rr}=${W3},`,"");if(function gt(_=(0,O.z$)()){var h;return $e(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Fe)&&"_self"!==J)return function Li(_,h){const g=document.createElement("a");g.href=_,g.target=h;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(M)}(h||"",J),new Uo(null);const Lt=window.open(h||"",J,rt);ie(Lt,_,"popup-blocked");try{Lt.focus()}catch{}return new Uo(Lt)}(h,J,ts())})()}_openRedirect(h,g,M,S){var L=this;return(0,m.Z)(function*(){return yield L._originValidation(h),function me(_){S2().location.href=_}(yield jo(h,g,M,zt(),S)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:S,promise:L}=this.eventManagers[g];return S?Promise.resolve(S):(_t(L,"If manager is not set, promise should be"),L)}const M=this.initAndGetManager(h);return this.eventManagers[g]={promise:M},M.catch(()=>{delete this.eventManagers[g]}),M}initAndGetManager(h){var g=this;return(0,m.Z)(function*(){const M=yield function k8(_){return g2.apply(this,arguments)}(h),S=new us(h);return M.register("authEvent",L=>(ie(L?.authEvent,h,"invalid-auth-event"),{status:S.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:S},g.iframes[h._key()]=M,S})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(nr,{type:nr},S=>{var L;const $=null===(L=S?.[0])||void 0===L?void 0:L[nr];void 0!==$&&g(!!$),Z(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Si(_){return B3.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return St()||D()||$e()}};class B8{constructor(h){this.factorId=h}_process(h,g,M){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,M);case"signin":return this._finalizeSignIn(h,g.credential);default:return ft("unexpected MultiFactorSessionType")}}}class qo extends B8{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new qo(h)}_finalizeEnroll(h,g,M){return function v8(_,h){return ve(_,"POST","/v2/accounts/mfaEnrollment:finalize",ee(_,h))}(h,{idToken:g,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function y6(_,h){return ve(_,"POST","/v2/accounts/mfaSignIn:finalize",ee(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let U8=(()=>{class _{constructor(){}static assertion(g){return qo._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var hs="@firebase/auth";class ps{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,m.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(M=>{h(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wo=(0,O.Pz)("authIdTokenMaxAge")||300;let G3=null;const q3=_=>function(){var h=(0,m.Z)(function*(g){const M=g&&(yield g.getIdTokenResult()),S=M&&((new Date).getTime()-Date.parse(M.issuedAtTime))/1e3;if(S&&S>Wo)return;const L=M?.token;G3!==L&&(G3=L,yield fetch(_,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))});return function(g){return h.apply(this,arguments)}}();function T6(_=(0,T.getApp)()){const h=(0,T._getProvider)(_,"auth");if(h.isInitialized())return h.getImmediate();const g=function Dc(_,h){const g=(0,T._getProvider)(_,"auth");if(g.isInitialized()){const S=g.getImmediate(),L=g.getOptions();if((0,O.vZ)(L,h??{}))return S;Z(S,"already-initialized")}return g.initialize({options:h})}(_,{popupRedirectResolver:Go,persistence:[rs,d6,Hr]}),M=(0,O.Pz)("authTokenSyncURL");if(M){const L=q3(M);(function s6(_,h,g){(0,O.m9)(_).beforeAuthStateChanged(h,g)})(g,L,()=>L(g.currentUser)),function So(_,h,g,M){(0,O.m9)(_).onIdTokenChanged(h,g,M)}(g,$=>L($))}const S=(0,O.q4)("auth");return S&&Tc(g,`http://${S}`),g}!function $3(_){(0,T._registerComponent)(new Ee.wA("auth",(h,{options:g})=>{const M=h.getProvider("app").getImmediate(),S=h.getProvider("heartbeat"),L=h.getProvider("app-check-internal"),{apiKey:$,authDomain:J}=M.options;ie($&&!$.includes(":"),"invalid-api-key",{appName:M.name});const De={apiKey:$,authDomain:J,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rr(_)},Fe=new X4(M,S,L,De);return function Ac(_,h){const g=h?.persistence||[],M=(Array.isArray(g)?g:[g]).map(H2);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(M,h?.popupRedirectResolver)}(Fe,g),Fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,M)=>{h.getProvider("auth-internal").initialize()})),(0,T._registerComponent)(new Ee.wA("auth-internal",h=>{const g=h2(h.getProvider("auth").getImmediate());return new ps(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,T.registerVersion)(hs,"0.23.2",function j8(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,T.registerVersion)(hs,"0.23.2","esm2017")}("Browser")},9058:(ut,Ve,k)=>{k.d(Ve,{$s:()=>H2,BH:()=>Q,G6:()=>jn,L:()=>ze,LL:()=>Ie,P0:()=>Je,Pz:()=>ue,Rd:()=>be,Sg:()=>pe,UG:()=>ft,US:()=>Ee,ZB:()=>ne,ZR:()=>ve,aH:()=>Z,b$:()=>D2,eu:()=>se,hl:()=>X,jU:()=>_t,k$:()=>yr,m9:()=>K1,ne:()=>Rt,pd:()=>b1,q4:()=>Ke,r3:()=>j2,ru:()=>zt,tV:()=>R,uI:()=>ie,vZ:()=>i1,w1:()=>Un,xO:()=>zn,xb:()=>w1,z$:()=>Oe,zI:()=>fe,zd:()=>vt});const oe=function(F){const P=[];let x=0;for(let D=0;D<F.length;D++){let E=F.charCodeAt(D);E<128?P[x++]=E:E<2048?(P[x++]=E>>6|192,P[x++]=63&E|128):55296==(64512&E)&&D+1<F.length&&56320==(64512&F.charCodeAt(D+1))?(E=65536+((1023&E)<<10)+(1023&F.charCodeAt(++D)),P[x++]=E>>18|240,P[x++]=E>>12&63|128,P[x++]=E>>6&63|128,P[x++]=63&E|128):(P[x++]=E>>12|224,P[x++]=E>>6&63|128,P[x++]=63&E|128)}return P},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,P){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,D=[];for(let E=0;E<F.length;E+=3){const q=F[E],de=E+1<F.length,ke=de?F[E+1]:0,pt=E+2<F.length,$e=pt?F[E+2]:0;let Zt=(15&ke)<<2|$e>>6,St=63&$e;pt||(St=64,de||(Zt=64)),D.push(x[q>>2],x[(3&q)<<4|ke>>4],x[Zt],x[St])}return D.join("")},encodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(F):this.encodeByteArray(oe(F),P)},decodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(F):function(F){const P=[];let x=0,D=0;for(;x<F.length;){const E=F[x++];if(E<128)P[D++]=String.fromCharCode(E);else if(E>191&&E<224){const q=F[x++];P[D++]=String.fromCharCode((31&E)<<6|63&q)}else if(E>239&&E<365){const pt=((7&E)<<18|(63&F[x++])<<12|(63&F[x++])<<6|63&F[x++])-65536;P[D++]=String.fromCharCode(55296+(pt>>10)),P[D++]=String.fromCharCode(56320+(1023&pt))}else{const q=F[x++],de=F[x++];P[D++]=String.fromCharCode((15&E)<<12|(63&q)<<6|63&de)}}return P.join("")}(this.decodeStringToByteArray(F,P))},decodeStringToByteArray(F,P){this.init_();const x=P?this.charToByteMapWebSafe_:this.charToByteMap_,D=[];for(let E=0;E<F.length;){const q=x[F.charAt(E++)],ke=E<F.length?x[F.charAt(E)]:0;++E;const $e=E<F.length?x[F.charAt(E)]:64;++E;const gt=E<F.length?x[F.charAt(E)]:64;if(++E,null==q||null==ke||null==$e||null==gt)throw new Le;D.push(q<<2|ke>>4),64!==$e&&(D.push(ke<<4&240|$e>>2),64!==gt&&D.push($e<<6&192|gt))}return D},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(F){return function(F){const P=oe(F);return Ee.encodeByteArray(P,!0)}(F).replace(/\./g,"")},R=function(F){try{return Ee.decodeString(F,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function ne(F,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return P}for(const x in P)!P.hasOwnProperty(x)||!Ne(x)||(F[x]=ne(F[x],P[x]));return F}function Ne(F){return"__proto__"!==F}function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xe=()=>{try{return be().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=F&&R(F[1]);return P&&JSON.parse(P)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Ke=F=>{var P,x;return null===(x=null===(P=xe())||void 0===P?void 0:P.emulatorHosts)||void 0===x?void 0:x[F]},Je=F=>{const P=Ke(F);if(!P)return;const x=P.lastIndexOf(":");if(x<=0||x+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const D=parseInt(P.substring(x+1),10);return"["===P[0]?[P.substring(1,x-1),D]:[P.substring(0,x),D]},Z=()=>{var F;return null===(F=xe())||void 0===F?void 0:F.config},ue=F=>{var P;return null===(P=xe())||void 0===P?void 0:P[`_${F}`]};class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,x)=>{this.resolve=P,this.reject=x})}wrapCallback(P){return(x,D)=>{x?this.reject(x):this.resolve(D),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(x):P(x,D))}}}function pe(F,P){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const D=P||"demo-project",E=F.iat||0,q=F.sub||F.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const de=Object.assign({iss:`https://securetoken.google.com/${D}`,aud:D,iat:E,exp:E+3600,auth_time:E,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},F);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(de)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function ft(){var F;const P=null===(F=xe())||void 0===F?void 0:F.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function _t(){return"object"==typeof self&&self.self===self}function zt(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function D2(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Un(){const F=Oe();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function jn(){return!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X(){try{return"object"==typeof indexedDB}catch{return!1}}function se(){return new Promise((F,P)=>{try{let x=!0;const D="validate-browser-context-for-indexeddb-analytics-module",E=self.indexedDB.open(D);E.onsuccess=()=>{E.result.close(),x||self.indexedDB.deleteDatabase(D),F(!0)},E.onupgradeneeded=()=>{x=!1},E.onerror=()=>{var q;P((null===(q=E.error)||void 0===q?void 0:q.message)||"")}}catch(x){P(x)}})}function fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ve extends Error{constructor(P,x,D){super(x),this.code=P,this.customData=D,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ie.prototype.create)}}class Ie{constructor(P,x,D){this.service=P,this.serviceName=x,this.errors=D}create(P,...x){const D=x[0]||{},E=`${this.service}/${P}`,q=this.errors[P],de=q?function Ye(F,P){return F.replace(Ae,(x,D)=>{const E=P[D];return null!=E?String(E):`<${D}?>`})}(q,D):"Error";return new ve(E,`${this.serviceName}: ${de} (${E}).`,D)}}const Ae=/\{\$([^}]+)}/g;function j2(F,P){return Object.prototype.hasOwnProperty.call(F,P)}function w1(F){for(const P in F)if(Object.prototype.hasOwnProperty.call(F,P))return!1;return!0}function i1(F,P){if(F===P)return!0;const x=Object.keys(F),D=Object.keys(P);for(const E of x){if(!D.includes(E))return!1;const q=F[E],de=P[E];if(f2(q)&&f2(de)){if(!i1(q,de))return!1}else if(q!==de)return!1}for(const E of D)if(!x.includes(E))return!1;return!0}function f2(F){return null!==F&&"object"==typeof F}function zn(F){const P=[];for(const[x,D]of Object.entries(F))Array.isArray(D)?D.forEach(E=>{P.push(encodeURIComponent(x)+"="+encodeURIComponent(E))}):P.push(encodeURIComponent(x)+"="+encodeURIComponent(D));return P.length?"&"+P.join("&"):""}function vt(F){const P={};return F.replace(/^\?/,"").split("&").forEach(D=>{if(D){const[E,q]=D.split("=");P[decodeURIComponent(E)]=decodeURIComponent(q)}}),P}function b1(F){const P=F.indexOf("?");if(!P)return"";const x=F.indexOf("#",P);return F.substring(P,x>0?x:void 0)}function Rt(F,P){const x=new O1(F,P);return x.subscribe.bind(x)}class O1{constructor(P,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{P(this)}).catch(D=>{this.error(D)})}next(P){this.forEachObserver(x=>{x.next(P)})}error(P){this.forEachObserver(x=>{x.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,x,D){let E;if(void 0===P&&void 0===x&&void 0===D)throw new Error("Missing Observer.");E=function Et(F,P){if("object"!=typeof F||null===F)return!1;for(const x of P)if(x in F&&"function"==typeof F[x])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:x,complete:D},void 0===E.next&&(E.next=mn),void 0===E.error&&(E.error=mn),void 0===E.complete&&(E.complete=mn);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?E.error(this.finalError):E.complete()}catch{}}),this.observers.push(E),q}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,P)}sendOne(P,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{x(this.observers[P])}catch(D){typeof console<"u"&&console.error&&console.error(D)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}const yr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,F=>{const P=16*Math.random()|0;return("x"===F?P:3&P|8).toString(16)})},N2=1e3,G2=2,s1=144e5,vn=.5;function H2(F,P=N2,x=G2){const D=P*Math.pow(x,F),E=Math.round(vn*D*(Math.random()-.5)*2);return Math.min(s1,D+E)}function K1(F){return F&&F._delegate?F._delegate:F}},8370:(ut,Ve,k)=>{var m=k(7989),ns={prefix:"fas",iconName:"flask-vial",icon:[640,512,[],"e4f3","M175 389.4c-9.8 16-15 34.3-15 53.1c-10 3.5-20.8 5.5-32 5.5c-53 0-96-43-96-96V64C14.3 64 0 49.7 0 32S14.3 0 32 0H96h64 64c17.7 0 32 14.3 32 32s-14.3 32-32 32V309.9l-49 79.6zM96 64v96h64V64H96zM352 0H480h32c17.7 0 32 14.3 32 32s-14.3 32-32 32V214.9L629.7 406.2c6.7 10.9 10.3 23.5 10.3 36.4c0 38.3-31.1 69.4-69.4 69.4H261.4c-38.3 0-69.4-31.1-69.4-69.4c0-12.8 3.6-25.4 10.3-36.4L320 214.9V64c-17.7 0-32-14.3-32-32s14.3-32 32-32h32zm32 64V224c0 5.9-1.6 11.7-4.7 16.8L330.5 320h171l-48.8-79.2c-3.1-5-4.7-10.8-4.7-16.8V64H384z"]},cu={prefix:"fas",iconName:"chess-board",icon:[448,512,[],"f43c","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm64 64v64h64V96h64v64h64V96h64v64H320v64h64v64H320v64h64v64H320V352H256v64H192V352H128v64H64V352h64V288H64V224h64V160H64V96h64zm64 128h64V160H192v64zm0 64V224H128v64h64zm64 0H192v64h64V288zm0 0h64V224H256v64z"]},g0={prefix:"fas",iconName:"cubes-stacked",icon:[448,512,[],"e4e6","M192 64v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32H224c-17.7 0-32 14.3-32 32zM82.7 207c-15.3 8.8-20.5 28.4-11.7 43.7l32 55.4c8.8 15.3 28.4 20.5 43.7 11.7l55.4-32c15.3-8.8 20.5-28.4 11.7-43.7l-32-55.4c-8.8-15.3-28.4-20.5-43.7-11.7L82.7 207zM288 192c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32H288zm64 160c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H352zM160 384v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H192c-17.7 0-32 14.3-32 32zM32 352c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32V384c0-17.7-14.3-32-32-32H32z"]},Vs={prefix:"fas",iconName:"satellite-dish",icon:[512,512,[128225],"f7c0","M192 32c0-17.7 14.3-32 32-32C383.1 0 512 128.9 512 288c0 17.7-14.3 32-32 32s-32-14.3-32-32C448 164.3 347.7 64 224 64c-17.7 0-32-14.3-32-32zM60.6 220.6L164.7 324.7l28.4-28.4c-.7-2.6-1.1-5.4-1.1-8.3c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32c-2.9 0-5.6-.4-8.3-1.1l-28.4 28.4L291.4 451.4c14.5 14.5 11.8 38.8-7.3 46.3C260.5 506.9 234.9 512 208 512C93.1 512 0 418.9 0 304c0-26.9 5.1-52.5 14.4-76.1c7.5-19 31.8-21.8 46.3-7.3zM224 96c106 0 192 86 192 192c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-70.7-57.3-128-128-128c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},D0={prefix:"fas",iconName:"house-chimney",icon:[576,512,[63499,"home-lg"],"e3af","M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"]},N0={prefix:"fas",iconName:"satellite",icon:[512,512,[128752],"f7bf","M233 7c-9.4-9.4-24.6-9.4-33.9 0l-96 96c-9.4 9.4-9.4 24.6 0 33.9l89.4 89.4-15.5 15.5C152.3 230.4 124.9 224 96 224c-31.7 0-61.5 7.7-87.8 21.2c-9 4.7-10.3 16.7-3.1 23.8L112.7 376.7 96.3 393.1c-2.6-.7-5.4-1.1-8.3-1.1c-17.7 0-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32c0-2.9-.4-5.6-1.1-8.3l16.4-16.4L242.9 506.9c7.2 7.2 19.2 5.9 23.8-3.1C280.3 477.5 288 447.7 288 416c0-28.9-6.4-56.3-17.8-80.9l15.5-15.5L375 409c9.4 9.4 24.6 9.4 33.9 0l96-96c9.4-9.4 9.4-24.6 0-33.9l-89.4-89.4 55-55c12.5-12.5 12.5-32.8 0-45.3l-48-48c-12.5-12.5-32.8-12.5-45.3 0l-55 55L233 7zm159 351l-72.4-72.4 62.1-62.1L454.1 296 392 358.1zM226.3 192.4L153.9 120 216 57.9l72.4 72.4-62.1 62.1z"]},ag={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2l0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5V176c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336V300.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4V304v5.7V336zm32 0V304 278.1c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5V272c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5V432c0 44.2-86 80-192 80S0 476.2 0 432V396.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z"]},B0={prefix:"fas",iconName:"person-rifle",icon:[576,512,[],"e54e","M265.2 192c25.4 0 49.8 7.1 70.8 19.9V512H144V337.7L90.4 428.3c-11.2 19-35.8 25.3-54.8 14.1s-25.3-35.8-14.1-54.8L97.7 258.8c24.5-41.4 69-66.8 117.1-66.8h50.4zM160 80a80 80 0 1 1 160 0A80 80 0 1 1 160 80zM448 0c8.8 0 16 7.2 16 16V132.3c9.6 5.5 16 15.9 16 27.7V269.3l16-5.3V208c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v84.5c0 6.9-4.4 13-10.9 15.2L480 325.3V352h48c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H484l23 92.1c2.5 10.1-5.1 19.9-15.5 19.9H432c-8.8 0-16-7.2-16-16V400H400c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32V160c0-11.8 6.4-22.2 16-27.7V32c-8.8 0-16-7.2-16-16s7.2-16 16-16h16 16z"]},g7={prefix:"fas",iconName:"bolt",icon:[448,512,[9889,"zap"],"f0e7","M349.4 44.6c5.9-13.7 1.5-29.7-10.6-38.5s-28.6-8-39.9 1.8l-256 224c-10 8.8-13.6 22.9-8.9 35.3S50.7 288 64 288H175.5L98.6 467.4c-5.9 13.7-1.5 29.7 10.6 38.5s28.6 8 39.9-1.8l256-224c10-8.8 13.6-22.9 8.9-35.3s-16.6-20.7-30-20.7H272.5L349.4 44.6z"]},Ua={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},vS={prefix:"fas",iconName:"tree-city",icon:[640,512,[],"e587","M288 48c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48V192h40V120c0-13.3 10.7-24 24-24s24 10.7 24 24v72h24c26.5 0 48 21.5 48 48V464c0 26.5-21.5 48-48 48H432 336c-26.5 0-48-21.5-48-48V48zm64 32v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16zm16 80c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V176c0-8.8-7.2-16-16-16H368zM352 272v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16zm176-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H528zM512 368v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H528c-8.8 0-16 7.2-16 16zM224 160c0 6-1 11-2 16c20 14 34 38 34 64c0 45-36 80-80 80H160V480c0 18-15 32-32 32c-18 0-32-14-32-32V320H80c-45 0-80-35-80-80c0-26 13-50 33-64c-1-5-1-10-1-16c0-53 42-96 96-96c53 0 96 43 96 96z"]},FS={prefix:"fas",iconName:"jet-fighter-up",icon:[512,512,[],"e518","M270.7 9.7C268.2 3.8 262.4 0 256 0s-12.2 3.8-14.7 9.7L197.2 112.6c-3.4 8-5.2 16.5-5.2 25.2v77l-144 84V280c0-13.3-10.7-24-24-24s-24 10.7-24 24v56 32 24c0 13.3 10.7 24 24 24s24-10.7 24-24v-8H192v32.7L133.5 468c-3.5 3-5.5 7.4-5.5 12v16c0 8.8 7.2 16 16 16h96V448c0-8.8 7.2-16 16-16s16 7.2 16 16v64h96c8.8 0 16-7.2 16-16V480c0-4.6-2-9-5.5-12L320 416.7V384H464v8c0 13.3 10.7 24 24 24s24-10.7 24-24V368 336 280c0-13.3-10.7-24-24-24s-24 10.7-24 24v18.8l-144-84v-77c0-8.7-1.8-17.2-5.2-25.2L270.7 9.7z"]},XN={prefix:"fas",iconName:"carrot",icon:[512,512,[129365],"f787","M346.7 6C337.6 17 320 42.3 320 72c0 40 15.3 55.3 40 80s40 40 80 40c29.7 0 55-17.6 66-26.7c4-3.3 6-8.2 6-13.3s-2-10-6-13.2c-11.4-9.1-38.3-26.8-74-26.8c-32 0-40 8-40 8s8-8 8-40c0-35.7-17.7-62.6-26.8-74C370 2 365.1 0 360 0s-10 2-13.3 6zM244.6 136c-40 0-77.1 18.1-101.7 48.2l60.5 60.5c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0l-55.3-55.3 0 .1L2.2 477.9C-2 487-.1 497.8 7 505s17.9 9 27.1 4.8l134.7-62.4-52.1-52.1c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L199.7 433l100.2-46.4c46.4-21.5 76.2-68 76.2-119.2C376 194.8 317.2 136 244.6 136z"]},XS={prefix:"fas",iconName:"hand-fist",icon:[448,512,[9994,"fist-raised"],"f6de","M192 0c17.7 0 32 14.3 32 32V144H160V32c0-17.7 14.3-32 32-32zM64 64c0-17.7 14.3-32 32-32s32 14.3 32 32v80H64V64zm192 0c0-17.7 14.3-32 32-32s32 14.3 32 32v96c0 17.7-14.3 32-32 32s-32-14.3-32-32V64zm96 64c0-17.7 14.3-32 32-32s32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V128zm-96 88l0-.6c9.4 5.4 20.3 8.6 32 8.6c13.2 0 25.4-4 35.6-10.8c8.7 24.9 32.5 42.8 60.4 42.8c11.7 0 22.6-3.1 32-8.6V256c0 52.3-25.1 98.8-64 128v96c0 17.7-14.3 32-32 32H160c-17.7 0-32-14.3-32-32V401.6c-17.3-7.9-33.2-18.8-46.9-32.5L69.5 357.5C45.5 333.5 32 300.9 32 267V240c0-35.3 28.7-64 64-64h88c22.1 0 40 17.9 40 40s-17.9 40-40 40H128c-8.8 0-16 7.2-16 16s7.2 16 16 16h56c39.8 0 72-32.2 72-72z"]};function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){y1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uv(t){return(Uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Kk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aI(t,e){return function EY(t){if(Array.isArray(t))return t}(t)||function xY(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var u,p,r=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(u=n.next()).done)&&(r.push(u.value),!e||r.length!==e);o=!0);}catch(y){c=!0,p=y}finally{try{!o&&null!=n.return&&n.return()}finally{if(c)throw p}}return r}}(t,e)||Yk(t,e)||function AY(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G7(t){return function zY(t){if(Array.isArray(t))return cI(t)}(t)||function LY(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Yk(t)||function DY(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yk(t,e){if(t){if("string"==typeof t)return cI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cI(t,e)}}function cI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qk=function(){},lI={},Jk={},Xk=null,eP={mark:Qk,measure:Qk};try{typeof window<"u"&&(lI=window),typeof document<"u"&&(Jk=document),typeof MutationObserver<"u"&&(Xk=MutationObserver),typeof performance<"u"&&(eP=performance)}catch{}var Gv,qv,Wv,Zv,Kv,tP=(lI.navigator||{}).userAgent,nP=void 0===tP?"":tP,w4=lI,v2=Jk,rP=Xk,$v=eP,Ts=!!v2.documentElement&&!!v2.head&&"function"==typeof v2.addEventListener&&"function"==typeof v2.createElement,iP=~nP.indexOf("MSIE")||~nP.indexOf("Trident/"),Ns="___FONT_AWESOME___",sP="fa",oP="svg-inline--fa",qa="data-fa-i2svg",fI="data-fa-pseudo-element",NY="data-fa-pseudo-element-pending",dI="data-prefix",hI="data-icon",aP="fontawesome-i2svg",kY="async",PY=["HTML","HEAD","STYLE","SCRIPT"],cP=function(){try{return!0}catch{return!1}}(),y2="classic",P2="sharp",pI=[y2,P2];function q7(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[y2]}})}var W7=q7((y1(Gv={},y2,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),y1(Gv,P2,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Gv)),Z7=q7((y1(qv={},y2,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),y1(qv,P2,{solid:"fass",regular:"fasr",light:"fasl"}),qv)),K7=q7((y1(Wv={},y2,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),y1(Wv,P2,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Wv)),RY=q7((y1(Zv={},y2,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),y1(Zv,P2,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Zv)),OY=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,lP="fa-layers-text",FY=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,BY=q7((y1(Kv={},y2,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),y1(Kv,P2,{900:"fass",400:"fasr",300:"fasl"}),Kv)),uP=[1,2,3,4,5,6,7,8,9,10],UY=uP.concat([11,12,13,14,15,16,17,18,19,20]),jY=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Wa={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Y7=new Set;Object.keys(Z7[y2]).map(Y7.add.bind(Y7)),Object.keys(Z7[P2]).map(Y7.add.bind(Y7));var $Y=[].concat(pI,G7(Y7),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Wa.GROUP,Wa.SWAP_OPACITY,Wa.PRIMARY,Wa.SECONDARY]).concat(uP.map(function(t){return"".concat(t,"x")})).concat(UY.map(function(t){return"w-".concat(t)})),Q7=w4.FontAwesomeConfig||{};v2&&"function"==typeof v2.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=aI(t,2),r=e[1],o=function qY(t){return""===t||"false"!==t&&("true"===t||t)}(function GY(t){var e=v2.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=o&&(Q7[r]=o)});var fP={styleDefault:"solid",familyDefault:"classic",cssPrefix:sP,replacementClass:oP,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Q7.familyPrefix&&(Q7.cssPrefix=Q7.familyPrefix);var al=et(et({},fP),Q7);al.autoReplaceSvg||(al.observeMutations=!1);var ot={};Object.keys(fP).forEach(function(t){Object.defineProperty(ot,t,{enumerable:!0,set:function(n){al[t]=n,J7.forEach(function(r){return r(ot)})},get:function(){return al[t]}})}),Object.defineProperty(ot,"familyPrefix",{enumerable:!0,set:function(e){al.cssPrefix=e,J7.forEach(function(n){return n(ot)})},get:function(){return al.cssPrefix}}),w4.FontAwesomeConfig=ot;var J7=[],Ni={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},YY="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function X7(){for(var t=12,e="";t-- >0;)e+=YY[62*Math.random()|0];return e}function cl(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function mI(t){return t.classList?cl(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function dP(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Yv(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function gI(t){return t.size!==Ni.size||t.x!==Ni.x||t.y!==Ni.y||t.rotate!==Ni.rotate||t.flipX||t.flipY}var eQ=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function hP(){var t=sP,e=oP,n=ot.cssPrefix,r=ot.replacementClass,o=eQ;if(n!==t||r!==e){var c=new RegExp("\\.".concat(t,"\\-"),"g"),u=new RegExp("\\--".concat(t,"\\-"),"g"),p=new RegExp("\\.".concat(e),"g");o=o.replace(c,".".concat(n,"-")).replace(u,"--".concat(n,"-")).replace(p,".".concat(r))}return o}var pP=!1;function vI(){ot.autoAddCss&&!pP&&(function KY(t){if(t&&Ts){var e=v2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=v2.head.childNodes,r=null,o=n.length-1;o>-1;o--){var c=n[o],u=(c.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(r=c)}v2.head.insertBefore(e,r)}}(hP()),pP=!0)}var tQ={mixout:function(){return{dom:{css:hP,insertCss:vI}}},hooks:function(){return{beforeDOMElementCreation:function(){vI()},beforeI2svg:function(){vI()}}}},ks=w4||{};ks[Ns]||(ks[Ns]={}),ks[Ns].styles||(ks[Ns].styles={}),ks[Ns].hooks||(ks[Ns].hooks={}),ks[Ns].shims||(ks[Ns].shims=[]);var ei=ks[Ns],mP=[],Qv=!1;function ef(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,o=t.children,c=void 0===o?[]:o;return"string"==typeof t?dP(t):"<".concat(e," ").concat(function QY(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(dP(t[n]),'" ')},"").trim()}(r),">").concat(c.map(ef).join(""),"</").concat(e,">")}function gP(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Ts&&((Qv=(v2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(v2.readyState))||v2.addEventListener("DOMContentLoaded",function t(){v2.removeEventListener("DOMContentLoaded",t),Qv=1,mP.map(function(e){return e()})}));var yI=function(e,n,r,o){var y,b,H,c=Object.keys(e),u=c.length,p=void 0!==o?function(e,n){return function(r,o,c,u){return e.call(n,r,o,c,u)}}(n,o):n;for(void 0===r?(y=1,H=e[c[0]]):(y=0,H=r);y<u;y++)H=p(H,e[b=c[y]],b,e);return H};function CI(t){var e=function sQ(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var c=t.charCodeAt(n++);56320==(64512&c)?e.push(((1023&o)<<10)+(1023&c)+65536):(e.push(o),n--)}else e.push(o)}return e}(t);return 1===e.length?e[0].toString(16):null}function vP(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function _I(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,o=void 0!==r&&r,c=vP(e);"function"!=typeof ei.hooks.addPack||o?ei.styles[t]=et(et({},ei.styles[t]||{}),c):ei.hooks.addPack(t,vP(e)),"fas"===t&&_I("fa",e)}var Jv,Xv,ey,ll=ei.styles,aQ=ei.shims,cQ=(y1(Jv={},y2,Object.values(K7[y2])),y1(Jv,P2,Object.values(K7[P2])),Jv),MI=null,yP={},CP={},_P={},MP={},wP={},lQ=(y1(Xv={},y2,Object.keys(W7[y2])),y1(Xv,P2,Object.keys(W7[P2])),Xv);var bP=function(){var e=function(c){return yI(ll,function(u,p,y){return u[y]=yI(p,c,{}),u},{})};yP=e(function(o,c,u){return c[3]&&(o[c[3]]=u),c[2]&&c[2].filter(function(y){return"number"==typeof y}).forEach(function(y){o[y.toString(16)]=u}),o}),CP=e(function(o,c,u){return o[u]=u,c[2]&&c[2].filter(function(y){return"string"==typeof y}).forEach(function(y){o[y]=u}),o}),wP=e(function(o,c,u){var p=c[2];return o[u]=u,p.forEach(function(y){o[y]=u}),o});var n="far"in ll||ot.autoFetchSvg,r=yI(aQ,function(o,c){var u=c[0],p=c[1],y=c[2];return"far"===p&&!n&&(p="fas"),"string"==typeof u&&(o.names[u]={prefix:p,iconName:y}),"number"==typeof u&&(o.unicodes[u.toString(16)]={prefix:p,iconName:y}),o},{names:{},unicodes:{}});_P=r.names,MP=r.unicodes,MI=ty(ot.styleDefault,{family:ot.familyDefault})};function wI(t,e){return(yP[t]||{})[e]}function Za(t,e){return(wP[t]||{})[e]}function HP(t){return _P[t]||{prefix:null,iconName:null}}function H4(){return MI}(function ZY(t){J7.push(t)})(function(t){MI=ty(t.styleDefault,{family:ot.familyDefault})}),bP();var bI=function(){return{prefix:null,iconName:null,rest:[]}};function ty(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?y2:n;return Z7[r][t]||Z7[r][W7[r][t]]||(t in ei.styles?t:null)||null}var VP=(y1(ey={},y2,Object.keys(K7[y2])),y1(ey,P2,Object.keys(K7[P2])),ey);function ny(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,o=void 0!==r&&r,c=(y1(e={},y2,"".concat(ot.cssPrefix,"-").concat(y2)),y1(e,P2,"".concat(ot.cssPrefix,"-").concat(P2)),e),u=null,p=y2;(t.includes(c[y2])||t.some(function(b){return VP[y2].includes(b)}))&&(p=y2),(t.includes(c[P2])||t.some(function(b){return VP[P2].includes(b)}))&&(p=P2);var y=t.reduce(function(b,H){var I=function fQ(t,e){var n=e.split("-"),r=n[0],o=n.slice(1).join("-");return r!==t||""===o||function uQ(t){return~$Y.indexOf(t)}(o)?null:o}(ot.cssPrefix,H);if(ll[H]?(H=cQ[p].includes(H)?RY[p][H]:H,u=H,b.prefix=H):lQ[p].indexOf(H)>-1?(u=H,b.prefix=ty(H,{family:p})):I?b.iconName=I:H!==ot.replacementClass&&H!==c[y2]&&H!==c[P2]&&b.rest.push(H),!o&&b.prefix&&b.iconName){var N="fa"===u?HP(b.iconName):{},U=Za(b.prefix,b.iconName);N.prefix&&(u=null),b.iconName=N.iconName||U||b.iconName,b.prefix=N.prefix||b.prefix,"far"===b.prefix&&!ll.far&&ll.fas&&!ot.autoFetchSvg&&(b.prefix="fas")}return b},bI());return(t.includes("fa-brands")||t.includes("fab"))&&(y.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(y.prefix="fad"),!y.prefix&&p===P2&&(ll.fass||ot.autoFetchSvg)&&(y.prefix="fass",y.iconName=Za(y.prefix,y.iconName)||y.iconName),("fa"===y.prefix||"fa"===u)&&(y.prefix=H4()||"fas"),y}var pQ=function(){function t(){(function VY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function SY(t,e,n){e&&Kk(t.prototype,e),n&&Kk(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];var u=o.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(p){n.definitions[p]=et(et({},n.definitions[p]||{}),u[p]),_I(p,u[p]);var y=K7[y2][p];y&&_I(y,u[p]),bP()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var o=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(o).map(function(c){var u=o[c],p=u.prefix,y=u.iconName,b=u.icon,H=b[2];n[p]||(n[p]={}),H.length>0&&H.forEach(function(I){"string"==typeof I&&(n[p][I]=b)}),n[p][y]=b}),n}}]),t}(),SP=[],ul={},fl={},mQ=Object.keys(fl);function HI(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return(ul[t]||[]).forEach(function(u){e=u.apply(null,[e].concat(r))}),e}function Ka(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(ul[t]||[]).forEach(function(c){c.apply(null,n)})}function Ps(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return fl[t]?fl[t].apply(null,e):void 0}function VI(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||H4();if(e)return e=Za(n,e)||e,gP(IP.definitions,n,e)||gP(ei.styles,n,e)}var IP=new pQ,yQ={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ts?(Ka("beforeI2svg",e),Ps("pseudoElements2svg",e),Ps("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===ot.autoReplaceSvg&&(ot.autoReplaceSvg=!0),ot.observeMutations=!0,function rQ(t){Ts&&(Qv?setTimeout(t,0):mP.push(t))}(function(){_Q({autoReplaceSvgRoot:n}),Ka("watch",e)})}},cr={noAuto:function(){ot.autoReplaceSvg=!1,ot.observeMutations=!1,Ka("noAuto")},config:ot,dom:yQ,parse:{icon:function(e){if(null===e)return null;if("object"===Uv(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Za(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=ty(e[0]);return{prefix:r,iconName:Za(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(ot.cssPrefix,"-"))>-1||e.match(OY))){var o=ny(e.split(" "),{skipLookups:!0});return{prefix:o.prefix||H4(),iconName:Za(o.prefix,o.iconName)||o.iconName}}if("string"==typeof e){var c=H4();return{prefix:c,iconName:Za(c,e)||e}}}},library:IP,findIconDefinition:VI,toHtml:ef},_Q=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?v2:n;(Object.keys(ei.styles).length>0||ot.autoFetchSvg)&&Ts&&ot.autoReplaceSvg&&cr.dom.i2svg({node:r})};function ry(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return ef(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Ts){var r=v2.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function SI(t){var e=t.icons,n=e.main,r=e.mask,o=t.prefix,c=t.iconName,u=t.transform,p=t.symbol,y=t.title,b=t.maskId,H=t.titleId,I=t.extra,N=t.watchable,U=void 0!==N&&N,ae=r.found?r:n,Ce=ae.width,Me=ae.height,je="fak"===o,qe=[ot.replacementClass,c?"".concat(ot.cssPrefix,"-").concat(c):""].filter(function(li){return-1===I.classes.indexOf(li)}).filter(function(li){return""!==li||!!li}).concat(I.classes).join(" "),Ze={children:[],attributes:et(et({},I.attributes),{},{"data-prefix":o,"data-icon":c,class:qe,role:I.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Ce," ").concat(Me)})},st=je&&!~I.classes.indexOf("fa-fw")?{width:"".concat(Ce/Me*16*.0625,"em")}:{};U&&(Ze.attributes[qa]=""),y&&(Ze.children.push({tag:"title",attributes:{id:Ze.attributes["aria-labelledby"]||"title-".concat(H||X7())},children:[y]}),delete Ze.attributes.title);var lt=et(et({},Ze),{},{prefix:o,iconName:c,main:n,mask:r,maskId:b,transform:u,symbol:p,styles:et(et({},st),I.styles)}),It=r.found&&n.found?Ps("generateAbstractMask",lt)||{children:[],attributes:{}}:Ps("generateAbstractIcon",lt)||{children:[],attributes:{}},ci=It.attributes;return lt.children=It.children,lt.attributes=ci,p?function wQ(t){var n=t.iconName,r=t.children,o=t.attributes,c=t.symbol,u=!0===c?"".concat(t.prefix,"-").concat(ot.cssPrefix,"-").concat(n):c;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:et(et({},o),{},{id:u}),children:r}]}]}(lt):function MQ(t){var e=t.children,n=t.main,r=t.mask,o=t.attributes,c=t.styles,u=t.transform;if(gI(u)&&n.found&&!r.found){var b={x:n.width/n.height/2,y:.5};o.style=Yv(et(et({},c),{},{"transform-origin":"".concat(b.x+u.x/16,"em ").concat(b.y+u.y/16,"em")}))}return[{tag:"svg",attributes:o,children:e}]}(lt)}function zP(t){var e=t.content,n=t.width,r=t.height,o=t.transform,c=t.title,u=t.extra,p=t.watchable,y=void 0!==p&&p,b=et(et(et({},u.attributes),c?{title:c}:{}),{},{class:u.classes.join(" ")});y&&(b[qa]="");var H=et({},u.styles);gI(o)&&(H.transform=function XY(t){var e=t.transform,n=t.width,o=t.height,c=void 0===o?16:o,u=t.startCentered,p=void 0!==u&&u,y="";return y+=p&&iP?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-c/2,"em) "):p?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(y+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:o,startCentered:!0,width:n,height:r}),H["-webkit-transform"]=H.transform);var I=Yv(H);I.length>0&&(b.style=I);var N=[];return N.push({tag:"span",attributes:b,children:[e]}),c&&N.push({tag:"span",attributes:{class:"sr-only"},children:[c]}),N}var II=ei.styles;function zI(t){var e=t[0],n=t[1],c=aI(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(c)?{tag:"g",attributes:{class:"".concat(ot.cssPrefix,"-").concat(Wa.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ot.cssPrefix,"-").concat(Wa.SECONDARY),fill:"currentColor",d:c[0]}},{tag:"path",attributes:{class:"".concat(ot.cssPrefix,"-").concat(Wa.PRIMARY),fill:"currentColor",d:c[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:c}}}}var HQ={found:!1,width:512,height:512};function EI(t,e){var n=e;return"fa"===e&&null!==ot.styleDefault&&(e=H4()),new Promise(function(r,o){if(Ps("missingIconAbstract"),"fa"===n){var u=HP(t)||{};t=u.iconName||t,e=u.prefix||e}if(t&&e&&II[e]&&II[e][t])return r(zI(II[e][t]));(function VQ(t,e){!cP&&!ot.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(et(et({},HQ),{},{icon:ot.showMissingIcons&&t&&Ps("missingIconAbstract")||{}}))})}var EP=function(){},LI=ot.measurePerformance&&$v&&$v.mark&&$v.measure?$v:{mark:EP,measure:EP},tf='FA "6.4.2"',LP=function(e){LI.mark("".concat(tf," ").concat(e," ends")),LI.measure("".concat(tf," ").concat(e),"".concat(tf," ").concat(e," begins"),"".concat(tf," ").concat(e," ends"))},xI={begin:function(e){return LI.mark("".concat(tf," ").concat(e," begins")),function(){return LP(e)}},end:LP},iy=function(){};function xP(t){return"string"==typeof(t.getAttribute?t.getAttribute(qa):null)}function LQ(t){return v2.createElementNS("http://www.w3.org/2000/svg",t)}function xQ(t){return v2.createElement(t)}function DP(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?LQ:xQ:n;if("string"==typeof t)return v2.createTextNode(t);var o=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(u){o.setAttribute(u,t.attributes[u])}),(t.children||[]).forEach(function(u){o.appendChild(DP(u,{ceFn:r}))}),o}var sy={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(o){n.parentNode.insertBefore(DP(o),n)}),null===n.getAttribute(qa)&&ot.keepOriginalSource){var r=v2.createComment(function DQ(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~mI(n).indexOf(ot.replacementClass))return sy.replace(e);var o=new RegExp("".concat(ot.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var c=r[0].attributes.class.split(" ").reduce(function(p,y){return y===ot.replacementClass||y.match(o)?p.toSvg.push(y):p.toNode.push(y),p},{toNode:[],toSvg:[]});r[0].attributes.class=c.toSvg.join(" "),0===c.toNode.length?n.removeAttribute("class"):n.setAttribute("class",c.toNode.join(" "))}var u=r.map(function(p){return ef(p)}).join("\n");n.setAttribute(qa,""),n.innerHTML=u}};function AP(t){t()}function TP(t,e){var n="function"==typeof e?e:iy;if(0===t.length)n();else{var r=AP;ot.mutateApproach===kY&&(r=w4.requestAnimationFrame||AP),r(function(){var o=function EQ(){return!0===ot.autoReplaceSvg?sy.replace:sy[ot.autoReplaceSvg]||sy.replace}(),c=xI.begin("mutate");t.map(o),c(),n()})}}var DI=!1;function NP(){DI=!0}function AI(){DI=!1}var oy=null;function kP(t){if(rP&&ot.observeMutations){var e=t.treeCallback,n=void 0===e?iy:e,r=t.nodeCallback,o=void 0===r?iy:r,c=t.pseudoElementsCallback,u=void 0===c?iy:c,p=t.observeMutationsRoot,y=void 0===p?v2:p;oy=new rP(function(b){if(!DI){var H=H4();cl(b).forEach(function(I){if("childList"===I.type&&I.addedNodes.length>0&&!xP(I.addedNodes[0])&&(ot.searchPseudoElements&&u(I.target),n(I.target)),"attributes"===I.type&&I.target.parentNode&&ot.searchPseudoElements&&u(I.target.parentNode),"attributes"===I.type&&xP(I.target)&&~jY.indexOf(I.attributeName))if("class"===I.attributeName&&function IQ(t){var e=t.getAttribute?t.getAttribute(dI):null,n=t.getAttribute?t.getAttribute(hI):null;return e&&n}(I.target)){var N=ny(mI(I.target)),ae=N.iconName;I.target.setAttribute(dI,N.prefix||H),ae&&I.target.setAttribute(hI,ae)}else(function zQ(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ot.replacementClass)})(I.target)&&o(I.target)})}}),Ts&&oy.observe(y,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function PP(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function NQ(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",o=ny(mI(t));return o.prefix||(o.prefix=H4()),e&&n&&(o.prefix=e,o.iconName=n),o.iconName&&o.prefix||(o.prefix&&r.length>0&&(o.iconName=function dQ(t,e){return(CP[t]||{})[e]}(o.prefix,t.innerText)||wI(o.prefix,CI(t.innerText))),!o.iconName&&ot.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=t.firstChild.data)),o}(t),r=n.iconName,o=n.prefix,c=n.rest,u=function kQ(t){var e=cl(t.attributes).reduce(function(o,c){return"class"!==o.name&&"style"!==o.name&&(o[c.name]=c.value),o},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ot.autoA11y&&(n?e["aria-labelledby"]="".concat(ot.replacementClass,"-title-").concat(r||X7()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),p=HI("parseNodeAttributes",{},t),y=e.styleParser?function TQ(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,o){var c=o.split(":"),u=c[0],p=c.slice(1);return u&&p.length>0&&(r[u]=p.join(":").trim()),r},{})),n}(t):[];return et({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:o,transform:Ni,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:c,styles:y,attributes:u}},p)}var RQ=ei.styles;function RP(t){var e="nest"===ot.autoReplaceSvg?PP(t,{styleParser:!1}):PP(t);return~e.extra.classes.indexOf(lP)?Ps("generateLayersText",t,e):Ps("generateSvgReplacementMutation",t,e)}var V4=new Set;function OP(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Ts)return Promise.resolve();var n=v2.documentElement.classList,r=function(I){return n.add("".concat(aP,"-").concat(I))},o=function(I){return n.remove("".concat(aP,"-").concat(I))},c=ot.autoFetchSvg?V4:pI.map(function(H){return"fa-".concat(H)}).concat(Object.keys(RQ));c.includes("fa")||c.push("fa");var u=[".".concat(lP,":not([").concat(qa,"])")].concat(c.map(function(H){return".".concat(H,":not([").concat(qa,"])")})).join(", ");if(0===u.length)return Promise.resolve();var p=[];try{p=cl(t.querySelectorAll(u))}catch{}if(!(p.length>0))return Promise.resolve();r("pending"),o("complete");var y=xI.begin("onTree"),b=p.reduce(function(H,I){try{var N=RP(I);N&&H.push(N)}catch(U){cP||"MissingIcon"===U.name&&console.error(U)}return H},[]);return new Promise(function(H,I){Promise.all(b).then(function(N){TP(N,function(){r("active"),r("complete"),o("pending"),"function"==typeof e&&e(),y(),H()})}).catch(function(N){y(),I(N)})})}function OQ(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;RP(t).then(function(n){n&&TP([n],e)})}pI.map(function(t){V4.add("fa-".concat(t))}),Object.keys(W7[y2]).map(V4.add.bind(V4)),Object.keys(W7[P2]).map(V4.add.bind(V4)),V4=G7(V4);var BQ=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,o=void 0===r?Ni:r,c=n.symbol,u=void 0!==c&&c,p=n.mask,y=void 0===p?null:p,b=n.maskId,H=void 0===b?null:b,I=n.title,N=void 0===I?null:I,U=n.titleId,ae=void 0===U?null:U,Ce=n.classes,Me=void 0===Ce?[]:Ce,je=n.attributes,qe=void 0===je?{}:je,Ze=n.styles,st=void 0===Ze?{}:Ze;if(e){var lt=e.prefix,It=e.iconName,E2=e.icon;return ry(et({type:"icon"},e),function(){return Ka("beforeDOMElementCreation",{iconDefinition:e,params:n}),ot.autoA11y&&(N?qe["aria-labelledby"]="".concat(ot.replacementClass,"-title-").concat(ae||X7()):(qe["aria-hidden"]="true",qe.focusable="false")),SI({icons:{main:zI(E2),mask:y?zI(y.icon):{found:!1,width:null,height:null,icon:{}}},prefix:lt,iconName:It,transform:et(et({},Ni),o),symbol:u,title:N,maskId:H,titleId:ae,extra:{attributes:qe,styles:st,classes:Me}})})}},UQ={mixout:function(){return{icon:(t=BQ,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:VI(e||{}),o=n.mask;return o&&(o=(o||{}).icon?o:VI(o||{})),t(r,et(et({},n),{},{mask:o}))})};var t},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=OP,n.nodeCallback=OQ,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,c=n.callback;return OP(void 0===r?v2:r,void 0===c?function(){}:c)},e.generateSvgReplacementMutation=function(n,r){var o=r.iconName,c=r.title,u=r.titleId,p=r.prefix,y=r.transform,b=r.symbol,H=r.mask,I=r.maskId,N=r.extra;return new Promise(function(U,ae){Promise.all([EI(o,p),H.iconName?EI(H.iconName,H.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Ce){var Me=aI(Ce,2);U([n,SI({icons:{main:Me[0],mask:Me[1]},prefix:p,iconName:o,transform:y,symbol:b,maskId:I,title:c,titleId:u,extra:N,watchable:!0})])}).catch(ae)})},e.generateAbstractIcon=function(n){var b,r=n.children,o=n.attributes,c=n.main,u=n.transform,y=Yv(n.styles);return y.length>0&&(o.style=y),gI(u)&&(b=Ps("generateAbstractTransformGrouping",{main:c,transform:u,containerWidth:c.width,iconWidth:c.width})),r.push(b||c.icon),{children:r,attributes:o}}}},jQ={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.classes,c=void 0===o?[]:o;return ry({type:"layer"},function(){Ka("beforeDOMElementCreation",{assembler:n,params:r});var u=[];return n(function(p){Array.isArray(p)?p.map(function(y){u=u.concat(y.abstract)}):u=u.concat(p.abstract)}),[{tag:"span",attributes:{class:["".concat(ot.cssPrefix,"-layers")].concat(G7(c)).join(" ")},children:u}]})}}}},$Q={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.title,c=void 0===o?null:o,u=r.classes,p=void 0===u?[]:u,y=r.attributes,b=void 0===y?{}:y,H=r.styles,I=void 0===H?{}:H;return ry({type:"counter",content:n},function(){return Ka("beforeDOMElementCreation",{content:n,params:r}),function bQ(t){var e=t.content,n=t.title,r=t.extra,o=et(et(et({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),c=Yv(r.styles);c.length>0&&(o.style=c);var u=[];return u.push({tag:"span",attributes:o,children:[e]}),n&&u.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),u}({content:n.toString(),title:c,extra:{attributes:b,styles:I,classes:["".concat(ot.cssPrefix,"-layers-counter")].concat(G7(p))}})})}}}},GQ={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.transform,c=void 0===o?Ni:o,u=r.title,p=void 0===u?null:u,y=r.classes,b=void 0===y?[]:y,H=r.attributes,I=void 0===H?{}:H,N=r.styles,U=void 0===N?{}:N;return ry({type:"text",content:n},function(){return Ka("beforeDOMElementCreation",{content:n,params:r}),zP({content:n,transform:et(et({},Ni),c),title:p,extra:{attributes:I,styles:U,classes:["".concat(ot.cssPrefix,"-layers-text")].concat(G7(b))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var o=r.title,c=r.transform,u=r.extra,p=null,y=null;if(iP){var b=parseInt(getComputedStyle(n).fontSize,10),H=n.getBoundingClientRect();p=H.width/b,y=H.height/b}return ot.autoA11y&&!o&&(u.attributes["aria-hidden"]="true"),Promise.resolve([n,zP({content:n.innerHTML,width:p,height:y,transform:c,title:o,extra:u,watchable:!0})])}}},qQ=new RegExp('"',"ug"),FP=[1105920,1112319];function BP(t,e){var n="".concat(NY).concat(e.replace(":","-"));return new Promise(function(r,o){if(null!==t.getAttribute(n))return r();var u=cl(t.children).filter(function(E2){return E2.getAttribute(fI)===e})[0],p=w4.getComputedStyle(t,e),y=p.getPropertyValue("font-family").match(FY),b=p.getPropertyValue("font-weight"),H=p.getPropertyValue("content");if(u&&!y)return t.removeChild(u),r();if(y&&"none"!==H&&""!==H){var I=p.getPropertyValue("content"),N=~["Sharp"].indexOf(y[2])?P2:y2,U=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(y[2])?Z7[N][y[2].toLowerCase()]:BY[N][b],ae=function WQ(t){var e=t.replace(qQ,""),n=function oQ(t,e){var o,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(o=t.charCodeAt(e+1))>=56320&&o<=57343?1024*(r-55296)+o-56320+65536:r}(e,0),r=n>=FP[0]&&n<=FP[1],o=2===e.length&&e[0]===e[1];return{value:CI(o?e[0]:e),isSecondary:r||o}}(I),Ce=ae.value,Me=ae.isSecondary,je=y[0].startsWith("FontAwesome"),qe=wI(U,Ce),Ze=qe;if(je){var st=function hQ(t){var e=MP[t],n=wI("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(Ce);st.iconName&&st.prefix&&(qe=st.iconName,U=st.prefix)}if(!qe||Me||u&&u.getAttribute(dI)===U&&u.getAttribute(hI)===Ze)r();else{t.setAttribute(n,Ze),u&&t.removeChild(u);var lt=function PQ(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ni,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),It=lt.extra;It.attributes[fI]=e,EI(qe,U).then(function(E2){var ci=SI(et(et({},lt),{},{icons:{main:E2,mask:bI()},prefix:U,iconName:Ze,extra:It,watchable:!0})),li=v2.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(li,t.firstChild):t.appendChild(li),li.outerHTML=ci.map(function(Bae){return ef(Bae)}).join("\n"),t.removeAttribute(n),r()}).catch(o)}}else r()})}function ZQ(t){return Promise.all([BP(t,"::before"),BP(t,"::after")])}function KQ(t){return!(t.parentNode===document.head||~PY.indexOf(t.tagName.toUpperCase())||t.getAttribute(fI)||t.parentNode&&"svg"===t.parentNode.tagName)}function UP(t){if(Ts)return new Promise(function(e,n){var r=cl(t.querySelectorAll("*")).filter(KQ).map(ZQ),o=xI.begin("searchPseudoElements");NP(),Promise.all(r).then(function(){o(),AI(),e()}).catch(function(){o(),AI(),n()})})}var jP=!1,$P=function(e){return e.toLowerCase().split(" ").reduce(function(r,o){var c=o.toLowerCase().split("-"),u=c[0],p=c.slice(1).join("-");if(u&&"h"===p)return r.flipX=!0,r;if(u&&"v"===p)return r.flipY=!0,r;if(p=parseFloat(p),isNaN(p))return r;switch(u){case"grow":r.size=r.size+p;break;case"shrink":r.size=r.size-p;break;case"left":r.x=r.x-p;break;case"right":r.x=r.x+p;break;case"up":r.y=r.y-p;break;case"down":r.y=r.y+p;break;case"rotate":r.rotate=r.rotate+p}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},TI={x:0,y:0,width:"100%",height:"100%"};function GP(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}var eJ={hooks:function(){return{parseNodeAttributes:function(n,r){var o=r.getAttribute("data-fa-mask"),c=o?ny(o.split(" ").map(function(u){return u.trim()})):bI();return c.prefix||(c.prefix=H4()),n.mask=c,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var t,r=n.children,o=n.attributes,c=n.main,u=n.mask,p=n.maskId,H=c.icon,N=u.icon,U=function JY(t){var e=t.transform,r=t.iconWidth,o={transform:"translate(".concat(t.containerWidth/2," 256)")},c="translate(".concat(32*e.x,", ").concat(32*e.y,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),p="rotate(".concat(e.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(c," ").concat(u," ").concat(p)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:u.width,iconWidth:c.width}),ae={tag:"rect",attributes:et(et({},TI),{},{fill:"white"})},Ce=H.children?{children:H.children.map(GP)}:{},Me={tag:"g",attributes:et({},U.inner),children:[GP(et({tag:H.tag,attributes:et(et({},H.attributes),U.path)},Ce))]},je={tag:"g",attributes:et({},U.outer),children:[Me]},qe="mask-".concat(p||X7()),Ze="clip-".concat(p||X7()),st={tag:"mask",attributes:et(et({},TI),{},{id:qe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[ae,je]},lt={tag:"defs",children:[{tag:"clipPath",attributes:{id:Ze},children:(t=N,"g"===t.tag?t.children:[t])},st]};return r.push(lt,{tag:"rect",attributes:et({fill:"currentColor","clip-path":"url(#".concat(Ze,")"),mask:"url(#".concat(qe,")")},TI)}),{children:r,attributes:o}}}};!function gQ(t,e){var n=e.mixoutsTo;SP=t,ul={},Object.keys(fl).forEach(function(r){-1===mQ.indexOf(r)&&delete fl[r]}),SP.forEach(function(r){var o=r.mixout?r.mixout():{};if(Object.keys(o).forEach(function(u){"function"==typeof o[u]&&(n[u]=o[u]),"object"===Uv(o[u])&&Object.keys(o[u]).forEach(function(p){n[u]||(n[u]={}),n[u][p]=o[u][p]})}),r.hooks){var c=r.hooks();Object.keys(c).forEach(function(u){ul[u]||(ul[u]=[]),ul[u].push(c[u])})}r.provides&&r.provides(fl)})}([tQ,UQ,jQ,$Q,GQ,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=UP,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;ot.searchPseudoElements&&UP(void 0===r?v2:r)}}},{mixout:function(){return{dom:{unwatch:function(){NP(),jP=!0}}}},hooks:function(){return{bootstrap:function(){kP(HI("mutationObserverCallbacks",{}))},noAuto:function(){!function AQ(){oy&&oy.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;jP?AI():kP(HI("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return $P(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var o=r.getAttribute("data-fa-transform");return o&&(n.transform=$P(o)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,o=n.transform,u=n.iconWidth,p={transform:"translate(".concat(n.containerWidth/2," 256)")},y="translate(".concat(32*o.x,", ").concat(32*o.y,") "),b="scale(".concat(o.size/16*(o.flipX?-1:1),", ").concat(o.size/16*(o.flipY?-1:1),") "),H="rotate(".concat(o.rotate," 0 0)"),U={outer:p,inner:{transform:"".concat(y," ").concat(b," ").concat(H)},path:{transform:"translate(".concat(u/2*-1," -256)")}};return{tag:"g",attributes:et({},U.outer),children:[{tag:"g",attributes:et({},U.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:et(et({},r.icon.attributes),U.path)}]}]}}}},eJ,{provides:function(e){var n=!1;w4.matchMedia&&(n=w4.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],o={fill:"currentColor"},c={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:et(et({},o),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var u=et(et({},c),{},{attributeName:"opacity"}),p={tag:"circle",attributes:et(et({},o),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||p.children.push({tag:"animate",attributes:et(et({},c),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:et(et({},u),{},{values:"1;0;1;1;0;1;"})}),r.push(p),r.push({tag:"path",attributes:et(et({},o),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:et(et({},u),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:et(et({},o),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:et(et({},u),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var o=r.getAttribute("data-fa-symbol");return n.symbol=null!==o&&(""===o||o),n}}}}],{mixoutsTo:cr});var iJ=cr.parse,sJ=cr.icon;let NI=null;function kI(){return NI}class aJ{}const lr=new m.OlP("DocumentToken");var ay=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(ay||{}),e1=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(e1||{});function Dr(t,e){const n=(0,m.cg1)(t),r=n[m.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===e1.CurrencyDecimal)return n[m.wAp.NumberSymbols][e1.Decimal];if(e===e1.CurrencyGroup)return n[m.wAp.NumberSymbols][e1.Group]}return r}const kJ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function $I(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const qI=/\s+/,eR=[];let tR=(()=>{var t;class e{constructor(r,o,c,u){this._iterableDiffers=r,this._keyValueDiffers=o,this._ngEl=c,this._renderer=u,this.initialClasses=eR,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(qI):eR}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(qI):r}ngDoCheck(){for(const o of this.initialClasses)this._updateState(o,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const o of r)this._updateState(o,!0);else if(null!=r)for(const o of Object.keys(r))this._updateState(o,!!r[o]);this._applyStateDiff()}_updateState(r,o){const c=this.stateMap.get(r);void 0!==c?(c.enabled!==o&&(c.changed=!0,c.enabled=o),c.touched=!0):this.stateMap.set(r,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const o=r[0],c=r[1];c.changed?(this._toggleClass(o,c.enabled),c.changed=!1):c.touched||(c.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),c.touched=!1}}_toggleClass(r,o){(r=r.trim()).length>0&&r.split(qI).forEach(c=>{o?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},t.\u0275dir=m.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class KJ{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rR=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,o,c){this._viewContainer=r,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const o=this._viewContainer;r.forEachOperation((c,u,p)=>{if(null==c.previousIndex)o.createEmbeddedView(this._template,new KJ(c.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===u?void 0:u);else if(null!==u){const y=o.get(u);o.move(y,p),iR(y,c)}});for(let c=0,u=o.length;c<u;c++){const y=o.get(c).context;y.index=c,y.count=u,y.ngForOf=this._ngForOf}r.forEachIdentityChange(c=>{iR(o.get(c.currentIndex),c)})}static ngTemplateContextGuard(r,o){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},t.\u0275dir=m.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function iR(t,e){t.context.$implicit=e.item}let vy=(()=>{var t;class e{constructor(r,o){this._viewContainer=r,this._context=new YJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){sR("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){sR("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,o){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.s_b),m.Y36(m.Rgc))},t.\u0275dir=m.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class YJ{constructor(){this.$implicit=null,this.ngIf=null}}function sR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,m.AaK)(e)}'.`)}let aR=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=cR}transform(r,o=cR){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const c=this.differ.diff(r),u=o!==this.compareFn;return c&&(this.keyValues=[],c.forEachItem(p=>{this.keyValues.push(function gX(t,e){return{key:t,value:e}}(p.key,p.currentValue))})),(c||u)&&(this.keyValues.sort(o),this.compareFn=o),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.aQg,16))},t.\u0275pipe=m.Yjl({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function cR(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const o=String(n),c=String(r);return o==c?0:o<c?-1:1}let hl=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,o,c){if(!function KI(t){return!(null==t||""===t||t!=t)}(r))return null;c=c||this._locale;try{return function UJ(t,e,n){return function UI(t,e,n,r,o,c,u=!1){let p="",y=!1;if(isFinite(t)){let b=function $J(t){let r,o,c,u,p,e=Math.abs(t)+"",n=0;for((o=e.indexOf("."))>-1&&(e=e.replace(".","")),(c=e.search(/e/i))>0?(o<0&&(o=c),o+=+e.slice(c+1),e=e.substring(0,c)):o<0&&(o=e.length),c=0;"0"===e.charAt(c);c++);if(c===(p=e.length))r=[0],o=1;else{for(p--;"0"===e.charAt(p);)p--;for(o-=c,r=[],u=0;c<=p;c++,u++)r[u]=Number(e.charAt(c))}return o>22&&(r=r.splice(0,21),n=o-1,o=1),{digits:r,exponent:n,integerLen:o}}(t);u&&(b=function jJ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(b));let H=e.minInt,I=e.minFrac,N=e.maxFrac;if(c){const qe=c.match(kJ);if(null===qe)throw new Error(`${c} is not a valid digit info`);const Ze=qe[1],st=qe[3],lt=qe[5];null!=Ze&&(H=$I(Ze)),null!=st&&(I=$I(st)),null!=lt?N=$I(lt):null!=st&&I>N&&(N=I)}!function GJ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,o=r.length-t.integerLen;const c=Math.min(Math.max(e,o),n);let u=c+t.integerLen,p=r[u];if(u>0){r.splice(Math.max(t.integerLen,u));for(let I=u;I<r.length;I++)r[I]=0}else{o=Math.max(0,o),t.integerLen=1,r.length=Math.max(1,u=c+1),r[0]=0;for(let I=1;I<u;I++)r[I]=0}if(p>=5)if(u-1<0){for(let I=0;I>u;I--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[u-1]++;for(;o<Math.max(0,c);o++)r.push(0);let y=0!==c;const b=e+t.integerLen,H=r.reduceRight(function(I,N,U,ae){return ae[U]=(N+=I)<10?N:N-10,y&&(0===ae[U]&&U>=b?ae.pop():y=!1),N>=10?1:0},0);H&&(r.unshift(H),t.integerLen++)}(b,I,N);let U=b.digits,ae=b.integerLen;const Ce=b.exponent;let Me=[];for(y=U.every(qe=>!qe);ae<H;ae++)U.unshift(0);for(;ae<0;ae++)U.unshift(0);ae>0?Me=U.splice(ae,U.length):(Me=U,U=[0]);const je=[];for(U.length>=e.lgSize&&je.unshift(U.splice(-e.lgSize,U.length).join(""));U.length>e.gSize;)je.unshift(U.splice(-e.gSize,U.length).join(""));U.length&&je.unshift(U.join("")),p=je.join(Dr(n,r)),Me.length&&(p+=Dr(n,o)+Me.join("")),Ce&&(p+=Dr(n,e1.Exponential)+"+"+Ce)}else p=Dr(n,e1.Infinity);return p=t<0&&!y?e.negPre+p+e.negSuf:e.posPre+p+e.posSuf,p}(t,function jI(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),o=r[0],c=r[1],u=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],p=u[0],y=u[1]||"";n.posPre=p.substring(0,p.indexOf("#"));for(let H=0;H<y.length;H++){const I=y.charAt(H);"0"===I?n.minFrac=n.maxFrac=H+1:"#"===I?n.maxFrac=H+1:n.posSuf+=I}const b=p.split(",");if(n.gSize=b[1]?b[1].length:0,n.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,c){const H=o.length-n.posPre.length-n.posSuf.length,I=c.indexOf("#");n.negPre=c.substring(0,I).replace(/'/g,""),n.negSuf=c.slice(I+H).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function PI(t,e){return(0,m.cg1)(t)[m.wAp.NumberFormats][e]}(e,ay.Decimal),Dr(e,e1.MinusSign)),e,e1.Group,e1.Decimal,n)}(function YI(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),c,o)}catch(u){throw function ni(t,e){return new m.vHH(2100,!1)}()}}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.soG,16))},t.\u0275pipe=m.Yjl({name:"number",type:t,pure:!0,standalone:!0}),e})();let CX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({}),e})();const _X="server";function sf(t){return t===_X}class WX extends aJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class XI extends WX{static makeCurrent(){!function oJ(t){NI||(NI=t)}(new XI)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function ZX(){return af=af||document.querySelector("base"),af?af.getAttribute("href"):null}();return null==n?null:function KX(t){_y=_y||document.createElement("a"),_y.setAttribute("href",t);const e=_y.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){af=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function WJ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[o,c]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let _y,af=null,QX=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const ez=new m.OlP("EventManagerPlugins");let pR=(()=>{var t;class e{constructor(r,o){this._zone=o,this._eventNameToPlugin=new Map,r.forEach(c=>{c.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,o,c){return this._findPluginFor(o).addEventListener(r,o,c)}getZone(){return this._zone}_findPluginFor(r){let o=this._eventNameToPlugin.get(r);if(o)return o;if(o=this._plugins.find(u=>u.supports(r)),!o)throw new m.vHH(5101,!1);return this._eventNameToPlugin.set(r,o),o}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(ez),m.LFG(m.R0b))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();class mR{constructor(e){this._doc=e}}const tz="ng-app-id";let gR=(()=>{var t;class e{constructor(r,o,c,u={}){this.doc=r,this.appId=o,this.nonce=c,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sf(u),this.resetHostNodes()}addStyles(r){for(const o of r)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(r){for(const o of r)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(o=>o.remove()),r.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const o of this.getAllStyles())this.addStyleToHost(r,o)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const o of this.hostNodes)this.addStyleToHost(o,r)}onStyleRemoved(r){const o=this.styleRef;o.get(r)?.elements?.forEach(c=>c.remove()),o.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${tz}="${this.appId}"]`);if(r?.length){const o=new Map;return r.forEach(c=>{null!=c.textContent&&o.set(c.textContent,c)}),o}return null}changeUsageCount(r,o){const c=this.styleRef;if(c.has(r)){const u=c.get(r);return u.usage+=o,u.usage}return c.set(r,{usage:o,elements:[]}),o}getStyleElement(r,o){const c=this.styleNodesInDOM,u=c?.get(o);if(u?.parentNode===r)return c.delete(o),u.removeAttribute(tz),u;{const p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=o,this.platformIsServer&&p.setAttribute(tz,this.appId),p}}addStyleToHost(r,o){const c=this.getStyleElement(r,o);r.appendChild(c);const u=this.styleRef,p=u.get(o)?.elements;p?p.push(c):u.set(o,{elements:[c],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(lr),m.LFG(m.AFp),m.LFG(m.Ojb,8),m.LFG(m.Lbi))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const nz={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rz=/%COMP%/g,tee=new m.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function yR(t,e){return e.map(n=>n.replace(rz,t))}let CR=(()=>{var t;class e{constructor(r,o,c,u,p,y,b,H=null){this.eventManager=r,this.sharedStylesHost=o,this.appId=c,this.removeStylesOnCompDestroy=u,this.doc=p,this.platformId=y,this.ngZone=b,this.nonce=H,this.rendererByCompId=new Map,this.platformIsServer=sf(y),this.defaultRenderer=new iz(r,p,b,this.platformIsServer)}createRenderer(r,o){if(!r||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===m.ifc.ShadowDom&&(o={...o,encapsulation:m.ifc.Emulated});const c=this.getOrCreateRenderer(r,o);return c instanceof MR?c.applyToHost(r):c instanceof sz&&c.applyStyles(),c}getOrCreateRenderer(r,o){const c=this.rendererByCompId;let u=c.get(o.id);if(!u){const p=this.doc,y=this.ngZone,b=this.eventManager,H=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(o.encapsulation){case m.ifc.Emulated:u=new MR(b,H,o,this.appId,I,p,y,N);break;case m.ifc.ShadowDom:return new see(b,H,r,o,p,y,this.nonce,N);default:u=new sz(b,H,o,I,p,y,N)}c.set(o.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(pR),m.LFG(gR),m.LFG(m.AFp),m.LFG(tee),m.LFG(lr),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(m.Ojb))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();class iz{constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(nz[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_R(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_R(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new m.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;const c=nz[o];c?e.setAttributeNS(c,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const o=nz[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(m.JOm.DashCase|m.JOm.Important)?e.style.setProperty(n,r,o&m.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&m.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=kI().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function _R(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class see extends iz{constructor(e,n,r,o,c,u,p,y){super(e,c,u,y),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=yR(o.id,o.styles);for(const H of b){const I=document.createElement("style");p&&I.setAttribute("nonce",p),I.textContent=H,this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class sz extends iz{constructor(e,n,r,o,c,u,p,y){super(e,c,u,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=y?yR(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class MR extends sz{constructor(e,n,r,o,c,u,p,y){const b=o+"-"+r.id;super(e,n,r,c,u,p,y,b),this.contentAttr=function nee(t){return"_ngcontent-%COMP%".replace(rz,t)}(b),this.hostAttr=function ree(t){return"_nghost-%COMP%".replace(rz,t)}(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let oee=(()=>{var t;class e extends mR{constructor(r){super(r)}supports(r){return!0}addEventListener(r,o,c){return r.addEventListener(o,c,!1),()=>this.removeEventListener(r,o,c)}removeEventListener(r,o,c){return r.removeEventListener(o,c)}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(lr))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const wR=["alt","control","meta","shift"],aee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cee={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lee=(()=>{var t;class e extends mR{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,o,c){const u=e.parseEventName(o),p=e.eventCallback(u.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kI().onAndCancel(r,u.domEventName,p))}static parseEventName(r){const o=r.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const u=e._normalizeKey(o.pop());let p="",y=o.indexOf("code");if(y>-1&&(o.splice(y,1),p="code."),wR.forEach(H=>{const I=o.indexOf(H);I>-1&&(o.splice(I,1),p+=H+".")}),p+=u,0!=o.length||0===u.length)return null;const b={};return b.domEventName=c,b.fullKey=p,b}static matchEventFullKeyCode(r,o){let c=aee[r.key]||r.key,u="";return o.indexOf("code.")>-1&&(c=r.code,u="code."),!(null==c||!c)&&(c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),wR.forEach(p=>{p!==c&&(0,cee[p])(r)&&(u+=p+".")}),u+=c,u===o)}static eventCallback(r,o,c){return u=>{e.matchEventFullKeyCode(u,r)&&c.runGuarded(()=>o(u))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(lr))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac}),e})();const hee=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function uee(){XI.makeCurrent()},multi:!0},{provide:lr,useFactory:function dee(){return(0,m.RDi)(document),document},deps:[]}]),pee=new m.OlP(""),VR=[{provide:m.rWj,useClass:class YX{addToWindow(e){m.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new m.vHH(5103,!1);return c},m.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(r=>{const o=m.dqk.getAllAngularTestabilities();let c=o.length,u=!1;const p=function(y){u=u||y,c--,0==c&&r(u)};o.forEach(y=>{y.whenStable(p)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?kI().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],SR=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function fee(){return new m.qLn},deps:[]},{provide:ez,useClass:oee,multi:!0,deps:[lr,m.R0b,m.Lbi]},{provide:ez,useClass:lee,multi:!0,deps:[lr]},CR,gR,pR,{provide:m.FYo,useExisting:CR},{provide:class HX{},useClass:QX,deps:[]},[]];let cf=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:m.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(pee,12))},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[...SR,...VR],imports:[CX,m.hGG]}),e})();typeof window<"u"&&window;let ER=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:function(r){let o=null;return o=r?new(r||t):m.LFG(LR),o},providedIn:"root"}),e})(),LR=(()=>{var t;class e extends ER{constructor(r){super(),this._doc=r}sanitize(r,o){if(null==o)return null;switch(r){case m.q3G.NONE:return o;case m.q3G.HTML:return(0,m.qzn)(o,"HTML")?(0,m.z3N)(o):(0,m.EiD)(this._doc,String(o)).toString();case m.q3G.STYLE:return(0,m.qzn)(o,"Style")?(0,m.z3N)(o):o;case m.q3G.SCRIPT:if((0,m.qzn)(o,"Script"))return(0,m.z3N)(o);throw new m.vHH(5200,!1);case m.q3G.URL:return(0,m.qzn)(o,"URL")?(0,m.z3N)(o):(0,m.mCW)(String(o));case m.q3G.RESOURCE_URL:if((0,m.qzn)(o,"ResourceURL"))return(0,m.z3N)(o);throw new m.vHH(5201,!1);default:throw new m.vHH(5202,!1)}}bypassSecurityTrustHtml(r){return(0,m.JVY)(r)}bypassSecurityTrustStyle(r){return(0,m.L6k)(r)}bypassSecurityTrustScript(r){return(0,m.eBb)(r)}bypassSecurityTrustUrl(r){return(0,m.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,m.pB0)(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(m.LFG(lr))},t.\u0275prov=m.Yz7({token:t,factory:function(r){let o=null;return o=r?new r:function _ee(t){return new LR(t.get(lr))}(m.LFG(m.zs3)),o},providedIn:"root"}),e})();const Mee=["*"],Hee=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let Iee=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),az=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const o of r){o.prefix in this.definitions||(this.definitions[o.prefix]={}),this.definitions[o.prefix][o.iconName]=o;for(const c of o.icon[2])"string"==typeof c&&(this.definitions[o.prefix][c]=o)}}addIconPacks(...r){for(const o of r){const c=Object.keys(o).map(u=>o[u]);this.addIcons(...c)}}getIconDefinition(r,o){return r in this.definitions&&o in this.definitions[r]?this.definitions[r][o]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),zee=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=m.lG2({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[m.TTD]}),e})(),Eee=(()=>{var t;class e{constructor(r,o){this.renderer=r,this.elementRef=o}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(m.Qsj),m.Y36(m.SBq))},t.\u0275cmp=m.Xpm({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[m.TTD],ngContentSelectors:Mee,decls:1,vars:0,template:function(r,o){1&r&&(m.F$t(),m.Hsn(0))},encapsulation:2}),e})(),DR=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,o,c,u,p){this.sanitizer=r,this.config=o,this.iconLibrary=c,this.stackItem=u,this.classes=[],null!=p&&null==u&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const c=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=c){const u=this.buildParams();this.renderIcon(c,u)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const o=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in o?o:this.iconLibrary.getIconDefinition(o.prefix,o.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(o),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},o="string"==typeof this.transform?iJ.transform(this.transform):this.transform;return{title:this.title,transform:o,classes:[...Hee(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,o){const c=sJ(r,o);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(c.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(ER),m.Y36(Iee),m.Y36(az),m.Y36(zee,8),m.Y36(Eee,8))},t.\u0275cmp=m.Xpm({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,o){2&r&&(m.Ikx("innerHTML",o.renderedIconHTML,m.oJD),m.uIk("title",o.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[m.TTD],decls:0,vars:0,template:function(r,o){},encapsulation:2}),e})(),AR=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({}),e})(),Lee=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=m.lG2({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,o){2&r&&m.ekj("active",o.isActive)},inputs:{tabName:"tabName"}}),e})();const Ya=function(){return{color:"#eee"}},xee=function(){return["fas","house-chimney"]},Dee=function(){return["fas","earth-americas"]},Aee=function(){return["fas","satellite-dish"]},Tee=function(){return["fas","jet-fighter-up"]},Nee=function(){return["fas","chess-board"]},kee=function(){return["fas","flask-vial"]},Pee=function(){return["fas","hand-fist"]};let Ree=(()=>{var t;class e{constructor(r){this.renderer=(0,m.f3M)(m.Qsj),r.addIcons(D0,Ua,Vs,FS,cu,ns,XS)}ngAfterViewInit(){this.renderer.setStyle(document.body,"visibility","visible")}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(az))},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-navbar"]],decls:37,vars:42,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab",3,"tabName"],["href","/",1,"dgt-navbar-tab-link"],[3,"icon"],[1,"dgt-navbar-tab-text"],["href","/planets",1,"dgt-navbar-tab-link"],["href","/radar",1,"dgt-navbar-tab-link"],["href","/fleets",1,"dgt-navbar-tab-link"],["href","/navigation",1,"dgt-navbar-tab-link"],["href","/research",1,"dgt-navbar-tab-link"],["href","/alliances",1,"dgt-navbar-tab-link"]],template:function(r,o){1&r&&(m.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),m._UZ(4,"fa-icon",4),m.TgZ(5,"span",5),m._uU(6,"home"),m.qZA()()(),m.TgZ(7,"li",2)(8,"a",6),m._UZ(9,"fa-icon",4),m.TgZ(10,"span",5),m._uU(11,"planets"),m.qZA()()(),m.TgZ(12,"li",2)(13,"a",7),m._UZ(14,"fa-icon",4),m.TgZ(15,"span",5),m._uU(16,"radar"),m.qZA()()(),m.TgZ(17,"li",2)(18,"a",8),m._UZ(19,"fa-icon",4),m.TgZ(20,"span",5),m._uU(21,"fleets"),m.qZA()()(),m.TgZ(22,"li",2)(23,"a",9),m._UZ(24,"fa-icon",4),m.TgZ(25,"span",5),m._uU(26,"navigation"),m.qZA()()(),m.TgZ(27,"li",2)(28,"a",10),m._UZ(29,"fa-icon",4),m.TgZ(30,"span",5),m._uU(31,"research"),m.qZA()()(),m.TgZ(32,"li",2)(33,"a",11),m._UZ(34,"fa-icon",4),m.TgZ(35,"span",5),m._uU(36,"alliances"),m.qZA()()()()()),2&r&&(m.xp6(2),m.Q6J("tabName","home"),m.xp6(2),m.Akn(m.DdM(28,Ya)),m.Q6J("icon",m.DdM(29,xee)),m.xp6(3),m.Q6J("tabName","planets"),m.xp6(2),m.Akn(m.DdM(30,Ya)),m.Q6J("icon",m.DdM(31,Dee)),m.xp6(3),m.Q6J("tabName","radar"),m.xp6(2),m.Akn(m.DdM(32,Ya)),m.Q6J("icon",m.DdM(33,Aee)),m.xp6(3),m.Q6J("tabName","fleets"),m.xp6(2),m.Akn(m.DdM(34,Ya)),m.Q6J("icon",m.DdM(35,Tee)),m.xp6(3),m.Q6J("tabName","navigation"),m.xp6(2),m.Akn(m.DdM(36,Ya)),m.Q6J("icon",m.DdM(37,Nee)),m.xp6(3),m.Q6J("tabName","research"),m.xp6(2),m.Akn(m.DdM(38,Ya)),m.Q6J("icon",m.DdM(39,kee)),m.xp6(3),m.Q6J("tabName","alliances"),m.xp6(2),m.Akn(m.DdM(40,Ya)),m.Q6J("icon",m.DdM(41,Pee)))},dependencies:[DR,Lee],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:rgba(75,75,75,1);text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:5px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:rgba(53,49,49,1)}.dgt-navbar-tab[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#eee;font-size:16px;padding-right:3px;display:block;width:auto;padding-top:8px;float:left;padding-left:18%}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})(),Oee=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[Ree]}),t.\u0275inj=m.cJS({imports:[cf,AR]}),e})();class cz{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class TR{constructor(){this._orbit=0,this._ground=0,this._workers=new cz,this._soldiers=new cz,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class lz{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Fee=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(lr)}extract(){let r=[];return this.document.querySelectorAll("#planetList > #planetList").forEach(o=>{let c=new TR,u=o.querySelectorAll(".resourceLine .left > span"),p=[];u.forEach(b=>{let H=b.textContent.split(/\s+/),I=new lz;I.name=b.parentElement.className.split(/\s+/)[2],I.stored=parseInt(H[0].replace(/,/g,"")),I.production=parseInt(H[1].substring(1,H[1].length-1).replace(/,/g,"")),I.abundance=parseInt(H[2].replace(/,/g,"")),p.push(I)}),c.resources=p;let y=o.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];c.workers.available=parseInt(y.substring(1,y.length).replace(/,/g,"")),c.workers.currentNumber=parseInt(o.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),c.workers.maximumNumber=parseInt(o.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),c.soldiers.currentNumber=parseInt(o.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),c.name=o.querySelectorAll(".planetName > a")[0].innerHTML,c.location=o.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),c.orbit=parseInt(o.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),c.ground=parseInt(o.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(c)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class NR{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new cz,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var sn=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(sn||{});class Bee{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Uee{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var on=function(t){return t.UNKNOWN="unknown",t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SPACE_TETHER="space tether",t}(on||{});class jee{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let $ee=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(lr)}extract(){if(this.document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let c,r=new NR,o=this.document.querySelectorAll("#contentBox #planetHeader")[1];switch(o.querySelectorAll(".planetHeadSection .resource > span").length){case 5:c=sn.SURFACE;break;case 2:c=sn.RESOURCE;break;case 0:c=sn.FLEET;break;default:c=sn.UNKNOWN}let u=new Bee(r,c);if(c!==sn.UNKNOWN){u.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let p=o.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?o.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]";u.planetScan.owner=new jee(o.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim().split("Owner:")[1].trim(),p.substring(1,p.length-1))}if((c===sn.RESOURCE||c===sn.SURFACE)&&(u.planetScan.orbit=parseInt(o.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),u.planetScan.ground=parseInt(o.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),u.planetScan.location=o.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),c===sn.RESOURCE&&(o.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(p=>{let y=new lz;y.name=p.textContent.trim().toLowerCase(),u.planetScan.resources.push(y)}),o.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((p,y)=>{u.planetScan.resources[y].abundance=parseInt(p.textContent.trim())})),c===sn.SURFACE){o.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(y=>{let b=new lz;b.name=y.textContent.trim().toLowerCase(),u.planetScan.resources.push(b)}),o.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((y,b)=>{u.planetScan.resources[b].stored=parseInt(y.textContent.trim().replace(/,/g,""))}),o.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((y,b)=>{u.planetScan.resources[b].abundance=parseInt(y.textContent.trim())});let p=o.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];u.planetScan.workers.currentNumber=parseInt(o.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),u.planetScan.workers.maximumNumber=parseInt(o.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),u.planetScan.workers.available=parseInt(p.substring(1,p.length).replace(/,/g,"")),u.planetScan.soldiers=parseInt(o.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),o.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(y=>{u.planetScan.structures.push(new Uee(y.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(y.textContent.split(/x\s+/)[0].trim())))}),u.planetScan.structures.forEach(y=>{switch(y.name){case on.OUTPOST:u.planetScan.resources[0].production+=300,u.planetScan.resources[1].production+=200,u.planetScan.resources[2].production+=100;break;case on.METAL_MINE:u.planetScan.resources[0].production+=300*y.quantity;break;case on.MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=200*y.quantity;break;case on.FARM:u.planetScan.resources[2].production+=300*y.quantity;break;case on.SOLAR_GENERATOR:u.planetScan.resources[3].production+=100*y.quantity;break;case on.CORE_METAL_MINE:u.planetScan.resources[0].production+=900*y.quantity;break;case on.CORE_MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=600*y.quantity;break;case on.HYDROPONICS_LAB:u.planetScan.resources[2].production+=900*y.quantity;break;case on.SOLAR_ARRAY:u.planetScan.resources[3].production+=300*y.quantity;break;case on.STRIP_METAL_MINE:u.planetScan.resources[0].production+=9e3*y.quantity;break;case on.STRIP_MINERAL_EXTRACTOR:u.planetScan.resources[1].production+=6e3*y.quantity;break;case on.HYDROPONICS_DOME:u.planetScan.resources[2].production+=9e3*y.quantity;break;case on.SOLAR_STATION:u.planetScan.resources[3].production+=3e3*y.quantity}})}return u.planetScan.resources.forEach(p=>{p.production=Math.ceil(p.production*p.abundance/100)}),u}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Gee=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(lr)}extract(){let r=[];return this.document.querySelectorAll("div.navigation div.planets").forEach(o=>{let c=new TR;c.location=o.querySelector(".coords>span").textContent.trim().split(/\./),r.push(c)}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),pl=(()=>{var t;class e{constructor(){this.planetListExtractor=(0,m.f3M)(Fee),this.planetScanExtractor=(0,m.f3M)($ee),this.navigationSystemPlanetsExtractor=(0,m.f3M)(Gee)}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class qee{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class Wee{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class kR{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class PR{constructor(){this._resources=new Wee,this._workers=new kR,this._soldiers=new kR}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var C1=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(C1||{});let RR=(()=>{var t;class e{constructor(){this.dgAPI=(0,m.f3M)(pl)}extractStats(){let r=new qee;return r.stats.set(C1.ALL,new PR),this.dgAPI.planetsSummaries().forEach(o=>{r.stats.has(o.location[0])||r.stats.set(o.location[0],new PR),r.stats.get(C1.ALL).workers.total+=o.workers.currentNumber,r.stats.get(o.location[0]).workers.total+=o.workers.currentNumber,r.stats.get(C1.ALL).workers.maximum+=o.workers.maximumNumber,r.stats.get(o.location[0]).workers.maximum+=o.workers.maximumNumber,r.stats.get(C1.ALL).soldiers.total+=o.soldiers.currentNumber,r.stats.get(o.location[0]).soldiers.total+=o.soldiers.currentNumber,r.stats.get(C1.ALL).resources.ground+=o.ground,r.stats.get(o.location[0]).resources.ground+=o.ground,r.stats.get(C1.ALL).resources.orbit+=o.orbit,r.stats.get(o.location[0]).resources.orbit+=o.orbit,o.resources.forEach(c=>{switch(c.name){case C1.METAL:r.stats.get(C1.ALL).resources.metalStored+=c.stored,r.stats.get(C1.ALL).resources.metalProduction+=c.production,r.stats.get(o.location[0]).resources.metalStored+=c.stored,r.stats.get(o.location[0]).resources.metalProduction+=c.production;break;case C1.MINERAL:r.stats.get(C1.ALL).resources.mineralStored+=c.stored,r.stats.get(C1.ALL).resources.mineralProduction+=c.production,r.stats.get(o.location[0]).resources.mineralStored+=c.stored,r.stats.get(o.location[0]).resources.mineralProduction+=c.production;break;case C1.FOOD:r.stats.get(C1.ALL).resources.foodStored+=c.stored,r.stats.get(C1.ALL).resources.foodProduction+=c.production,r.stats.get(o.location[0]).resources.foodStored+=c.stored,r.stats.get(o.location[0]).resources.foodProduction+=c.production;break;case C1.ENERGY:r.stats.get(C1.ALL).resources.energyStored+=c.stored,r.stats.get(C1.ALL).resources.energyProduction+=c.production,r.stats.get(o.location[0]).resources.energyStored+=c.stored,r.stats.get(o.location[0]).resources.energyProduction+=c.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Zee=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=m.Yjl({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),uz=(()=>{var t;class e{constructor(){this.decimalPipe=(0,m.f3M)(hl)}transform(r){return isNaN(r)||0===r?" [N/A]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=m.Yjl({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const Kee=function(t){return{"dgt-stats-totals-last-row":t}},Tr=function(t){return{"dgt-padding-bottom-xs":t}},Yee=function(){return{color:"#ccc"}},Qee=function(){return["fas","coins"]},Jee=function(){return{color:"#ff8484"}},Xee=function(){return["fas","cubes-stacked"]},ete=function(){return{color:"#7bbd1a"}},tte=function(){return["fas","carrot"]},nte=function(){return{color:"#0ca1e1"}},rte=function(){return["fas","bolt"]},OR=function(){return{color:"#fff"}},ite=function(){return["fas","tree-city"]},ste=function(){return["fas","satellite"]},ote=function(){return{color:"#DF4A4AFF"}},ate=function(){return["fas","person-rifle"]};function cte(t,e){if(1&t&&(m.TgZ(0,"tr",4)(1,"th",5),m._uU(2),m.ALo(3,"galaxyNameFormatter"),m.qZA(),m.TgZ(4,"td",6)(5,"div",7),m._UZ(6,"fa-icon",8),m.TgZ(7,"span",9),m._uU(8),m.ALo(9,"number"),m.qZA()()(),m.TgZ(10,"td",10)(11,"div",7)(12,"span",9),m._uU(13),m.ALo(14,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(15,"td",11)(16,"div",12),m._UZ(17,"fa-icon",8),m.TgZ(18,"span",9),m._uU(19),m.ALo(20,"number"),m.qZA()()(),m.TgZ(21,"td",10)(22,"div",12)(23,"span",9),m._uU(24),m.ALo(25,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(26,"td",11)(27,"div",13),m._UZ(28,"fa-icon",8),m.TgZ(29,"span",9),m._uU(30),m.ALo(31,"number"),m.qZA()()(),m.TgZ(32,"td",10)(33,"div",13)(34,"span",9),m._uU(35),m.ALo(36,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(37,"td",11)(38,"div",14),m._UZ(39,"fa-icon",8),m.TgZ(40,"span",9),m._uU(41),m.ALo(42,"number"),m.qZA()()(),m.TgZ(43,"td",15)(44,"div",14)(45,"span",9),m._uU(46),m.ALo(47,"resourceProductionFormatter"),m.qZA()()(),m.TgZ(48,"td",16)(49,"div",17),m._UZ(50,"fa-icon",8),m.TgZ(51,"span",9),m._uU(52),m.ALo(53,"number"),m.qZA()()(),m.TgZ(54,"td",18)(55,"div",19),m._UZ(56,"fa-icon",8),m.TgZ(57,"span",9),m._uU(58),m.ALo(59,"number"),m.qZA()()(),m.TgZ(60,"td",20)(61,"div",21),m._UZ(62,"fa-icon",8),m.TgZ(63,"span",9),m._uU(64),m.ALo(65,"number"),m.qZA()()()()),2&t){const n=e.$implicit,r=e.index,o=m.oxw();m.Q6J("ngClass",m.VKq(84,Kee,r==o.panel.stats.size-1)),m.xp6(1),m.Q6J("ngClass",m.VKq(86,Tr,r==o.panel.stats.size-2)),m.xp6(1),m.Oqu(m.lcZ(3,46,n.key)),m.xp6(2),m.Q6J("ngClass",m.VKq(88,Tr,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(90,Yee)),m.Q6J("icon",m.DdM(91,Qee)),m.xp6(2),m.Oqu(m.Dn7(9,48,n.value.resources.metalStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(92,Tr,r==o.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(14,52,n.value.resources.metalProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(94,Tr,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(96,Jee)),m.Q6J("icon",m.DdM(97,Xee)),m.xp6(2),m.Oqu(m.Dn7(20,54,n.value.resources.mineralStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(98,Tr,r==o.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(25,58,n.value.resources.mineralProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(100,Tr,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(102,ete)),m.Q6J("icon",m.DdM(103,tte)),m.xp6(2),m.Oqu(m.Dn7(31,60,n.value.resources.foodStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(104,Tr,r==o.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(36,64,n.value.resources.foodProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(106,Tr,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(108,nte)),m.Q6J("icon",m.DdM(109,rte)),m.xp6(2),m.Oqu(m.Dn7(42,66,n.value.resources.energyStored,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(110,Tr,r==o.panel.stats.size-2)),m.xp6(3),m.Oqu(m.lcZ(47,70,n.value.resources.energyProduction)),m.xp6(2),m.Q6J("ngClass",m.VKq(112,Tr,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(114,OR)),m.Q6J("icon",m.DdM(115,ite)),m.xp6(2),m.Oqu(m.Dn7(53,72,n.value.resources.ground,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(116,Tr,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(118,OR)),m.Q6J("icon",m.DdM(119,ste)),m.xp6(2),m.Oqu(m.Dn7(59,76,n.value.resources.orbit,"1.0","en-US")),m.xp6(2),m.Q6J("ngClass",m.VKq(120,Tr,r==o.panel.stats.size-2)),m.xp6(2),m.Akn(m.DdM(122,ote)),m.Q6J("icon",m.DdM(123,ate)),m.xp6(2),m.Oqu(m.Dn7(65,80,n.value.soldiers.total,"1.0","en-US"))}}let lte=(()=>{var t;class e{constructor(r){this.statsPanelService=(0,m.f3M)(RR),r.addIcons(g0,XN,ag,g7,N0,vS,B0)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)(m.Y36(az))},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],[3,"icon"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],[1,"dgt-resource","resource","food"],[1,"dgt-resource","resource","energy"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"]],template:function(r,o){1&r&&(m.TgZ(0,"div",0)(1,"div",1)(2,"table",2),m.YNc(3,cte,66,124,"tr",3),m.ALo(4,"keyvalue"),m.qZA()()()),2&r&&(m.xp6(3),m.Q6J("ngForOf",m.lcZ(4,1,o.panel.stats)))},dependencies:[tR,rR,DR,hl,aR,Zee,uz],styles:[".dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:2px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:2px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:20px!important;padding:0}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:20px}.dgt-stats-panel[_ngcontent-%COMP%]{padding:5px!important}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}"]}),e})(),ute=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[lte]}),t.\u0275inj=m.cJS({providers:[hl,RR,pl],imports:[cf,AR]}),e})();var fte=k(7394);class dte extends fte.w0{constructor(e,n){super()}schedule(e,n=0){return this}}const My={setInterval(t,e,...n){const{delegate:r}=My;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=My;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var hte=k(9039);class FR extends dte{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const o=this.id,c=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(c,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(c,this.id,n),this}requestAsyncId(e,n,r=0){return My.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&My.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let o,r=!1;try{this.work(e)}catch(c){r=!0,o=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,hte.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const fz={now:()=>(fz.delegate||Date).now(),delegate:void 0};class lf{constructor(e,n=lf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}lf.now=fz.now;class BR extends lf{constructor(e,n=lf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const UR=new BR(FR);var uf=k(3018),Qa=k(2459),ml=k(2096),Tt=k(534);(0,Tt.registerVersion)("firebase","9.23.0","app");var G=k(5861),tt=k(9058),ri=k(4537),ii=k(7879);const gte=(t,e)=>e.some(n=>t instanceof n);let jR,$R;const GR=new WeakMap,dz=new WeakMap,qR=new WeakMap,hz=new WeakMap,pz=new WeakMap;let mz={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return dz.get(t);if("objectStoreNames"===e)return t.objectStoreNames||qR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return I4(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function bte(t){return"function"==typeof t?function wte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yte(){return $R||($R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(gz(this),e),I4(GR.get(this))}:function(...e){return I4(t.apply(gz(this),e))}:function(e,...n){const r=t.call(gz(this),e,...n);return qR.set(r,e.sort?e.sort():[e]),I4(r)}}(t):(t instanceof IDBTransaction&&function _te(t){if(dz.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});dz.set(t,e)}(t),gte(t,function vte(){return jR||(jR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,mz):t)}function I4(t){if(t instanceof IDBRequest)return function Cte(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(I4(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&GR.set(n,t)}).catch(()=>{}),pz.set(e,t),e}(t);if(hz.has(t))return hz.get(t);const e=bte(t);return e!==t&&(hz.set(t,e),pz.set(e,t)),e}const gz=t=>pz.get(t),Vte=["get","getKey","getAll","getAllKeys","count"],Ste=["put","add","delete","clear"],vz=new Map;function WR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(vz.get(e))return vz.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Ste.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!Vte.includes(n))return;const c=function(){var u=(0,G.Z)(function*(p,...y){const b=this.transaction(p,o?"readwrite":"readonly");let H=b.store;return r&&(H=H.index(y.shift())),(yield Promise.all([H[n](...y),o&&b.done]))[0]});return function(y){return u.apply(this,arguments)}}();return vz.set(e,c),c}!function Mte(t){mz=t(mz)}(t=>({...t,get:(e,n,r)=>WR(e,n)||t.get(e,n,r),has:(e,n)=>!!WR(e,n)||t.has(e,n)}));const ZR="@firebase/installations",yz="0.6.4",KR=1e4,YR=`w:${yz}`,QR="FIS_v2",Ite="https://firebaseinstallations.googleapis.com/v1",zte=36e5,Fs=new tt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function JR(t){return t instanceof tt.ZR&&t.code.includes("request-failed")}function Cz({projectId:t}){return`${Ite}/projects/${t}/installations`}function XR(t){return{token:t.token,requestStatus:2,expiresIn:Dte(t.expiresIn),creationTime:Date.now()}}function _z(t,e){return Mz.apply(this,arguments)}function Mz(){return(Mz=(0,G.Z)(function*(t,e){const r=(yield e.json()).error;return Fs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function eO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wz(t){return bz.apply(this,arguments)}function bz(){return(bz=(0,G.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Dte(t){return Number(t.replace("s","000"))}function Hz(){return(Hz=(0,G.Z)(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Cz(t),o=eO(t),c=e.getImmediate({optional:!0});if(c){const b=yield c.getHeartbeatsHeader();b&&o.append("x-firebase-client",b)}const p={method:"POST",headers:o,body:JSON.stringify({fid:n,authVersion:QR,appId:t.appId,sdkVersion:YR})},y=yield wz(()=>fetch(r,p));if(y.ok){const b=yield y.json();return{fid:b.fid||n,registrationStatus:2,refreshToken:b.refreshToken,authToken:XR(b.authToken)}}throw yield _z("Create Installation",y)})).apply(this,arguments)}function nO(t){return new Promise(e=>{setTimeout(e,t)})}const kte=/^[cdef][\w-]{21}$/,Vz="";function Pte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Rte(t){return function Nte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return kte.test(n)?n:Vz}catch{return Vz}}function gl(t){return`${t.appName}!${t.appId}`}const vl=new Map;function rO(t,e){const n=gl(t);iO(n,e),function Bte(t,e){const n=function sO(){return!Ja&&"BroadcastChannel"in self&&(Ja=new BroadcastChannel("[Firebase] FID Change"),Ja.onmessage=t=>{iO(t.data.key,t.data.fid)}),Ja}();n&&n.postMessage({key:t,fid:e}),function oO(){0===vl.size&&Ja&&(Ja.close(),Ja=null)}()}(n,e)}function iO(t,e){const n=vl.get(t);if(n)for(const r of n)r(e)}let Ja=null;const Ute="firebase-installations-database",jte=1,Xa="firebase-installations-store";let Sz=null;function Iz(){return Sz||(Sz=function Hte(t,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),p=I4(u);return r&&u.addEventListener("upgradeneeded",y=>{r(I4(u.result),y.oldVersion,y.newVersion,I4(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",()=>o())}).catch(()=>{}),p}(Ute,jte,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Xa)}})),Sz}function wy(t,e){return zz.apply(this,arguments)}function zz(){return(zz=(0,G.Z)(function*(t,e){const n=gl(t),o=(yield Iz()).transaction(Xa,"readwrite"),c=o.objectStore(Xa),u=yield c.get(n);return yield c.put(e,n),yield o.done,(!u||u.fid!==e.fid)&&rO(t,e.fid),e})).apply(this,arguments)}function Ez(t){return Lz.apply(this,arguments)}function Lz(){return(Lz=(0,G.Z)(function*(t){const e=gl(t),r=(yield Iz()).transaction(Xa,"readwrite");yield r.objectStore(Xa).delete(e),yield r.done})).apply(this,arguments)}function ff(t,e){return xz.apply(this,arguments)}function xz(){return(xz=(0,G.Z)(function*(t,e){const n=gl(t),o=(yield Iz()).transaction(Xa,"readwrite"),c=o.objectStore(Xa),u=yield c.get(n),p=e(u);return void 0===p?yield c.delete(n):yield c.put(p,n),yield o.done,p&&(!u||u.fid!==p.fid)&&rO(t,p.fid),p})).apply(this,arguments)}function Dz(t){return Az.apply(this,arguments)}function Az(){return Az=(0,G.Z)(function*(t){let e;const n=yield ff(t.appConfig,r=>{const o=function $te(t){return cO(t||{fid:Pte(),registrationStatus:0})}(r),c=function Gte(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Fs.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function qte(t,e){return Tz.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Wte(t)}:{installationEntry:e}}(t,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Vz?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Az.apply(this,arguments)}function Tz(){return Tz=(0,G.Z)(function*(t,e){try{const n=yield function Tte(t,e){return Hz.apply(this,arguments)}(t,e);return wy(t.appConfig,n)}catch(n){throw JR(n)&&409===n.customData.serverCode?yield Ez(t.appConfig):yield wy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Tz.apply(this,arguments)}function Wte(t){return Nz.apply(this,arguments)}function Nz(){return(Nz=(0,G.Z)(function*(t){let e=yield aO(t.appConfig);for(;1===e.registrationStatus;)yield nO(100),e=yield aO(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Dz(t);return r||n}return e})).apply(this,arguments)}function aO(t){return ff(t,e=>{if(!e)throw Fs.create("installation-not-found");return cO(e)})}function cO(t){return function Zte(t){return 1===t.registrationStatus&&t.registrationTime+KR<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function kz(){return(kz=(0,G.Z)(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Yte(t,{fid:e}){return`${Cz(t)}/${e}/authTokens:generate`}(t,n),o=function tO(t,{refreshToken:e}){const n=eO(t);return n.append("Authorization",function Ate(t){return`${QR} ${t}`}(e)),n}(t,n),c=e.getImmediate({optional:!0});if(c){const b=yield c.getHeartbeatsHeader();b&&o.append("x-firebase-client",b)}const p={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:YR,appId:t.appId}})},y=yield wz(()=>fetch(r,p));if(y.ok)return XR(yield y.json());throw yield _z("Generate Auth Token",y)})).apply(this,arguments)}function Pz(t){return Rz.apply(this,arguments)}function Rz(){return Rz=(0,G.Z)(function*(t,e=!1){let n;const r=yield ff(t.appConfig,c=>{if(!uO(c))throw Fs.create("not-registered");const u=c.authToken;if(!e&&function Xte(t){return 2===t.requestStatus&&!function e2e(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+zte}(t)}(u))return c;if(1===u.requestStatus)return n=function Qte(t,e){return Oz.apply(this,arguments)}(t,e),c;{if(!navigator.onLine)throw Fs.create("app-offline");const p=function t2e(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(c);return n=function Jte(t,e){return Fz.apply(this,arguments)}(t,p),p}});return n?yield n:r.authToken}),Rz.apply(this,arguments)}function Oz(){return(Oz=(0,G.Z)(function*(t,e){let n=yield lO(t.appConfig);for(;1===n.authToken.requestStatus;)yield nO(100),n=yield lO(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Pz(t,e):r})).apply(this,arguments)}function lO(t){return ff(t,e=>{if(!uO(e))throw Fs.create("not-registered");return function n2e(t){return 1===t.requestStatus&&t.requestTime+KR<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Fz(){return Fz=(0,G.Z)(function*(t,e){try{const n=yield function Kte(t,e){return kz.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield wy(t.appConfig,r),n}catch(n){if(!JR(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield wy(t.appConfig,r)}else yield Ez(t.appConfig);throw n}}),Fz.apply(this,arguments)}function uO(t){return void 0!==t&&2===t.registrationStatus}function Bz(){return(Bz=(0,G.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Dz(e);return r?r.catch(console.error):Pz(e).catch(console.error),n.fid})).apply(this,arguments)}function Uz(){return Uz=(0,G.Z)(function*(t,e=!1){const n=t;return yield function s2e(t){return jz.apply(this,arguments)}(n),(yield Pz(n,e)).token}),Uz.apply(this,arguments)}function jz(){return(jz=(0,G.Z)(function*(t){const{registrationPromise:e}=yield Dz(t);e&&(yield e)})).apply(this,arguments)}function qz(t){return Fs.create("missing-app-config-values",{valueName:t})}const fO="installations",u2e=t=>{const e=t.getProvider("app").getImmediate(),n=function c2e(t){if(!t||!t.options)throw qz("App Configuration");if(!t.name)throw qz("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qz(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:(0,Tt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},f2e=t=>{const e=t.getProvider("app").getImmediate(),n=(0,Tt._getProvider)(e,fO).getImmediate();return{getId:()=>function r2e(t){return Bz.apply(this,arguments)}(n),getToken:o=>function i2e(t){return Uz.apply(this,arguments)}(n,o)}};(function d2e(){(0,Tt._registerComponent)(new ri.wA(fO,u2e,"PUBLIC")),(0,Tt._registerComponent)(new ri.wA("installations-internal",f2e,"PRIVATE"))})(),(0,Tt.registerVersion)(ZR,yz),(0,Tt.registerVersion)(ZR,yz,"esm2017");const Wz="@firebase/remote-config",On=new tt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class b2e{constructor(e,n,r,o){this.client=e,this.storage=n,this.storageCache=r,this.logger=o}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,o=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${o}.`),o}fetch(e){var n=this;return(0,G.Z)(function*(){const[r,o]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(o&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return o;e.eTag=o&&o.eTag;const c=yield n.client.fetch(e),u=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===c.status&&u.push(n.storage.setLastSuccessfulFetchResponse(c)),yield Promise.all(u),c})()}}function H2e(t=navigator){return t.languages&&t.languages[0]||t.language}class V2e{constructor(e,n,r,o,c,u){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=o,this.apiKey=c,this.appId=u}fetch(e){var n=this;return(0,G.Z)(function*(){const[r,o]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,p={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},y={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:o,app_id:n.appId,language_code:H2e()},b={method:"POST",headers:p,body:JSON.stringify(y)},H=fetch(u,b),I=new Promise((je,qe)=>{e.signal.addEventListener(()=>{const Ze=new Error("The operation was aborted.");Ze.name="AbortError",qe(Ze)})});let N;try{yield Promise.race([H,I]),N=yield H}catch(je){let qe="fetch-client-network";throw"AbortError"===je?.name&&(qe="fetch-timeout"),On.create(qe,{originalErrorMessage:je?.message})}let U=N.status;const ae=N.headers.get("ETag")||void 0;let Ce,Me;if(200===N.status){let je;try{je=yield N.json()}catch(qe){throw On.create("fetch-client-parse",{originalErrorMessage:qe?.message})}Ce=je.entries,Me=je.state}if("INSTANCE_STATE_UNSPECIFIED"===Me?U=500:"NO_CHANGE"===Me?U=304:("NO_TEMPLATE"===Me||"EMPTY_CONFIG"===Me)&&(Ce={}),304!==U&&200!==U)throw On.create("fetch-status",{httpStatus:U});return{status:U,eTag:ae,config:Ce}})()}}class z2e{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return(0,G.Z)(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var o=this;return(0,G.Z)(function*(){yield function S2e(t,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(c),r(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const c=yield o.client.fetch(e);return yield o.storage.deleteThrottleMetadata(),c}catch(c){if(!function I2e(t){if(!(t instanceof tt.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c))throw c;const u={throttleEndTimeMillis:Date.now()+(0,tt.$s)(r),backoffCount:r+1};return yield o.storage.setThrottleMetadata(u),o.attemptFetch(e,u)}})()}}class x2e{constructor(e,n,r,o,c){this.app=e,this._client=n,this._storageCache=r,this._storage=o,this._logger=c,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hy(t,e){const n=t.target.error||void 0;return On.create(e,{originalErrorMessage:n&&n?.message})}const ec="app_namespace_store";class N2e{constructor(e,n,r,o=function T2e(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Hy(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ec,{keyPath:"compositeKey"})}}catch(n){e(On.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=o}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return(0,G.Z)(function*(){const r=yield n.openDbPromise;return new Promise((o,c)=>{const p=r.transaction([ec],"readonly").objectStore(ec),y=n.createCompositeKey(e);try{const b=p.get(y);b.onerror=H=>{c(Hy(H,"storage-get"))},b.onsuccess=H=>{const I=H.target.result;o(I?I.value:void 0)}}catch(b){c(On.create("storage-get",{originalErrorMessage:b?.message}))}})})()}set(e,n){var r=this;return(0,G.Z)(function*(){const o=yield r.openDbPromise;return new Promise((c,u)=>{const y=o.transaction([ec],"readwrite").objectStore(ec),b=r.createCompositeKey(e);try{const H=y.put({compositeKey:b,value:n});H.onerror=I=>{u(Hy(I,"storage-set"))},H.onsuccess=()=>{c()}}catch(H){u(On.create("storage-set",{originalErrorMessage:H?.message}))}})})()}delete(e){var n=this;return(0,G.Z)(function*(){const r=yield n.openDbPromise;return new Promise((o,c)=>{const p=r.transaction([ec],"readwrite").objectStore(ec),y=n.createCompositeKey(e);try{const b=p.delete(y);b.onerror=H=>{c(Hy(H,"storage-delete"))},b.onsuccess=()=>{o()}}catch(b){c(On.create("storage-delete",{originalErrorMessage:b?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class k2e{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,G.Z)(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),o=e.storage.getActiveConfig(),c=yield n;c&&(e.lastFetchStatus=c);const u=yield r;u&&(e.lastSuccessfulFetchTimestampMillis=u);const p=yield o;p&&(e.activeConfig=p)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function R2e(){return Jz.apply(this,arguments)}function Jz(){return(Jz=(0,G.Z)(function*(){if(!(0,tt.hl)())return!1;try{return yield(0,tt.eu)()}catch{return!1}})).apply(this,arguments)}!function P2e(){(0,Tt._registerComponent)(new ri.wA("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw On.create("registration-window");if(!(0,tt.hl)())throw On.create("indexed-db-unavailable");const{projectId:c,apiKey:u,appId:p}=r.options;if(!c)throw On.create("registration-project-id");if(!u)throw On.create("registration-api-key");if(!p)throw On.create("registration-app-id");const y=new N2e(p,r.name,n=n||"firebase"),b=new k2e(y),H=new ii.Yd(Wz);H.logLevel=ii.in.ERROR;const I=new V2e(o,Tt.SDK_VERSION,n,c,u,p),N=new z2e(I,y),U=new b2e(N,y,b,H),ae=new x2e(r,U,b,y,H);return function _2e(t){const e=(0,tt.m9)(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(ae),ae},"PUBLIC").setMultipleInstances(!0)),(0,Tt.registerVersion)(Wz,"0.4.4"),(0,Tt.registerVersion)(Wz,"0.4.4","esm2017")}();const O2e=(t,e)=>e.some(n=>t instanceof n);let mO,gO;const vO=new WeakMap,Xz=new WeakMap,yO=new WeakMap,eE=new WeakMap,tE=new WeakMap;let nE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Xz.get(t);if("objectStoreNames"===e)return t.objectStoreNames||yO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function q2e(t){return"function"==typeof t?function G2e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function B2e(){return gO||(gO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(rE(this),e),Bs(vO.get(this))}:function(...e){return Bs(t.apply(rE(this),e))}:function(e,...n){const r=t.call(rE(this),e,...n);return yO.set(r,e.sort?e.sort():[e]),Bs(r)}}(t):(t instanceof IDBTransaction&&function j2e(t){if(Xz.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});Xz.set(t,e)}(t),O2e(t,function F2e(){return mO||(mO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,nE):t)}function Bs(t){if(t instanceof IDBRequest)return function U2e(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{n(Bs(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&vO.set(n,t)}).catch(()=>{}),tE.set(e,t),e}(t);if(eE.has(t))return eE.get(t);const e=q2e(t);return e!==t&&(eE.set(t,e),tE.set(e,t)),e}const rE=t=>tE.get(t);function CO(t,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),p=Bs(u);return r&&u.addEventListener("upgradeneeded",y=>{r(Bs(u.result),y.oldVersion,y.newVersion,Bs(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",()=>o())}).catch(()=>{}),p}function iE(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Bs(n).then(()=>{})}const W2e=["get","getKey","getAll","getAllKeys","count"],Z2e=["put","add","delete","clear"],sE=new Map;function _O(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(sE.get(e))return sE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Z2e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!W2e.includes(n))return;const c=function(){var u=(0,G.Z)(function*(p,...y){const b=this.transaction(p,o?"readwrite":"readonly");let H=b.store;return r&&(H=H.index(y.shift())),(yield Promise.all([H[n](...y),o&&b.done]))[0]});return function(y){return u.apply(this,arguments)}}();return sE.set(e,c),c}!function $2e(t){nE=t(nE)}(t=>({...t,get:(e,n,r)=>_O(e,n)||t.get(e,n,r),has:(e,n)=>!!_O(e,n)||t.has(e,n)}));const K2e="/firebase-messaging-sw.js",Y2e="/firebase-cloud-messaging-push-scope",MO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Q2e="https://fcmregistrations.googleapis.com/v1",wO="google.c.a.c_id",J2e="google.c.a.c_l",X2e="google.c.a.ts";var Vy=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Vy||{});function Us(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function n1e(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),o=new Uint8Array(r.length);for(let c=0;c<r.length;++c)o[c]=r.charCodeAt(c);return o}const oE="fcm_token_details_db",r1e=5,bO="fcm_token_object_Store";function aE(){return aE=(0,G.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(c=>c.name).includes(oE))return null;let e=null;return(yield CO(oE,r1e,{upgrade:(r=(0,G.Z)(function*(o,c,u,p){var y;if(c<2||!o.objectStoreNames.contains(bO))return;const b=p.objectStore(bO),H=yield b.index("fcmSenderId").get(t);if(yield b.clear(),H)if(2===c){const I=H;if(!I.auth||!I.p256dh||!I.endpoint)return;e={token:I.fcmToken,createTime:null!==(y=I.createTime)&&void 0!==y?y:Date.now(),subscriptionOptions:{auth:I.auth,p256dh:I.p256dh,endpoint:I.endpoint,swScope:I.swScope,vapidKey:"string"==typeof I.vapidKey?I.vapidKey:Us(I.vapidKey)}}}else if(3===c){const I=H;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:Us(I.auth),p256dh:Us(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:Us(I.vapidKey)}}}else if(4===c){const I=H;e={token:I.fcmToken,createTime:I.createTime,subscriptionOptions:{auth:Us(I.auth),p256dh:Us(I.p256dh),endpoint:I.endpoint,swScope:I.swScope,vapidKey:Us(I.vapidKey)}}}}),function(c,u,p,y){return r.apply(this,arguments)})})).close(),yield iE(oE),yield iE("fcm_vapid_details_db"),yield iE("undefined"),function s1e(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),aE.apply(this,arguments)}const o1e="firebase-messaging-database",a1e=1,tc="firebase-messaging-store";let cE=null;function lE(){return cE||(cE=CO(o1e,a1e,{upgrade:(t,e)=>{0===e&&t.createObjectStore(tc)}})),cE}function HO(t){return uE.apply(this,arguments)}function uE(){return uE=(0,G.Z)(function*(t){const e=pE(t),r=yield(yield lE()).transaction(tc).objectStore(tc).get(e);if(r)return r;{const o=yield function i1e(t){return aE.apply(this,arguments)}(t.appConfig.senderId);if(o)return yield fE(t,o),o}}),uE.apply(this,arguments)}function fE(t,e){return dE.apply(this,arguments)}function dE(){return(dE=(0,G.Z)(function*(t,e){const n=pE(t),o=(yield lE()).transaction(tc,"readwrite");return yield o.objectStore(tc).put(e,n),yield o.done,e})).apply(this,arguments)}function hE(){return(hE=(0,G.Z)(function*(t){const e=pE(t),r=(yield lE()).transaction(tc,"readwrite");yield r.objectStore(tc).delete(e),yield r.done})).apply(this,arguments)}function pE({appConfig:t}){return t.appId}const B1=new tt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function u1e(t,e){return mE.apply(this,arguments)}function mE(){return(mE=(0,G.Z)(function*(t,e){const n=yield CE(t),r=SO(e),o={method:"POST",headers:n,body:JSON.stringify(r)};let c;try{c=yield(yield fetch(yE(t.appConfig),o)).json()}catch(u){throw B1.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(c.error)throw B1.create("token-subscribe-failed",{errorInfo:c.error.message});if(!c.token)throw B1.create("token-subscribe-no-token");return c.token})).apply(this,arguments)}function gE(){return(gE=(0,G.Z)(function*(t,e){const n=yield CE(t),r=SO(e.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)};let c;try{c=yield(yield fetch(`${yE(t.appConfig)}/${e.token}`,o)).json()}catch(u){throw B1.create("token-update-failed",{errorInfo:u?.toString()})}if(c.error)throw B1.create("token-update-failed",{errorInfo:c.error.message});if(!c.token)throw B1.create("token-update-no-token");return c.token})).apply(this,arguments)}function VO(t,e){return vE.apply(this,arguments)}function vE(){return(vE=(0,G.Z)(function*(t,e){const r={method:"DELETE",headers:yield CE(t)};try{const c=yield(yield fetch(`${yE(t.appConfig)}/${e}`,r)).json();if(c.error)throw B1.create("token-unsubscribe-failed",{errorInfo:c.error.message})}catch(o){throw B1.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}})).apply(this,arguments)}function yE({projectId:t}){return`${Q2e}/projects/${t}/registrations`}function CE(t){return _E.apply(this,arguments)}function _E(){return(_E=(0,G.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function SO({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const o={web:{endpoint:n,auth:e,p256dh:t}};return r!==MO&&(o.web.applicationPubKey=r),o}const d1e=6048e5;function ME(){return ME=(0,G.Z)(function*(t){const e=yield function m1e(t,e){return VE.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Us(e.getKey("auth")),p256dh:Us(e.getKey("p256dh"))},r=yield HO(t.firebaseDependencies);if(r){if(function g1e(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+d1e?function p1e(t,e){return bE.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield VO(t.firebaseDependencies,r.token)}catch(o){console.warn(o)}return zO(t.firebaseDependencies,n)}return zO(t.firebaseDependencies,n)}),ME.apply(this,arguments)}function wE(){return wE=(0,G.Z)(function*(t){const e=yield HO(t.firebaseDependencies);e&&(yield VO(t.firebaseDependencies,e.token),yield function c1e(t){return hE.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),wE.apply(this,arguments)}function bE(){return bE=(0,G.Z)(function*(t,e){try{const n=yield function f1e(t,e){return gE.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield fE(t.firebaseDependencies,r),n}catch(n){throw yield function IO(t){return wE.apply(this,arguments)}(t),n}}),bE.apply(this,arguments)}function zO(t,e){return HE.apply(this,arguments)}function HE(){return(HE=(0,G.Z)(function*(t,e){const r={token:yield u1e(t,e),createTime:Date.now(),subscriptionOptions:e};return yield fE(t,r),r.token})).apply(this,arguments)}function VE(){return(VE=(0,G.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n1e(e)})})).apply(this,arguments)}function EO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function v1e(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const o=e.notification.image;o&&(t.notification.image=o);const c=e.notification.icon;c&&(t.notification.icon=c)}(e,t),function y1e(t,e){e.data&&(t.data=e.data)}(e,t),function C1e(t,e){var n,r,o,c,u;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const p=null!==(o=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==o?o:null===(c=e.notification)||void 0===c?void 0:c.click_action;p&&(t.fcmOptions.link=p);const y=null===(u=e.fcmOptions)||void 0===u?void 0:u.analytics_label;y&&(t.fcmOptions.analyticsLabel=y)}(e,t),e}function LO(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function SE(t){return B1.create("missing-app-config-values",{valueName:t})}LO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),LO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class w1e{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=function M1e(t){if(!t||!t.options)throw SE("App Configuration Object");if(!t.name)throw SE("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw SE(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:o,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function IE(){return(IE=(0,G.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(K2e,{scope:Y2e}),t.swRegistration.update().catch(()=>{})}catch(e){throw B1.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function zE(){return(zE=(0,G.Z)(function*(t,e){if(!e&&!t.swRegistration&&(yield function xO(t){return IE.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw B1.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function EE(){return(EE=(0,G.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=MO)})).apply(this,arguments)}function LE(){return LE=(0,G.Z)(function*(t,e){if(!navigator)throw B1.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw B1.create("permission-blocked");return yield function H1e(t,e){return EE.apply(this,arguments)}(t,e?.vapidKey),yield function b1e(t,e){return zE.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function h1e(t){return ME.apply(this,arguments)}(t)}),LE.apply(this,arguments)}function xE(){return(xE=(0,G.Z)(function*(t,e,n){const r=function S1e(t){switch(t){case Vy.NOTIFICATION_CLICKED:return"notification_open";case Vy.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[wO],message_name:n[J2e],message_time:n[X2e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function DE(){return DE=(0,G.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Vy.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(EO(n)):t.onMessageHandler.next(EO(n)));const r=n.data;(function _1e(t){return"object"==typeof t&&!!t&&wO in t})(r)&&"1"===r["google.c.a.e"]&&(yield function V1e(t,e,n){return xE.apply(this,arguments)}(t,n.messageType,r))}),DE.apply(this,arguments)}const AO="@firebase/messaging",z1e=t=>{const e=new w1e(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function I1e(t,e){return DE.apply(this,arguments)}(e,n)),e},E1e=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function DO(t,e){return LE.apply(this,arguments)}(e,r)}};function NO(){return AE.apply(this,arguments)}function AE(){return(AE=(0,G.Z)(function*(){try{yield(0,tt.eu)()}catch{return!1}return typeof window<"u"&&(0,tt.hl)()&&(0,tt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function L1e(){(0,Tt._registerComponent)(new ri.wA("messaging",z1e,"PUBLIC")),(0,Tt._registerComponent)(new ri.wA("messaging-internal",E1e,"PRIVATE")),(0,Tt.registerVersion)(AO,"0.12.4"),(0,Tt.registerVersion)(AO,"0.12.4","esm2017")}();const Sy="analytics",A1e="firebase_id",T1e="origin",N1e=6e4,k1e="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kE="https://www.googletagmanager.com/gtag/js",D1=new ii.Yd("@firebase/analytics"),bn=new tt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function R1e(t){if(!t.startsWith(kE)){const e=bn.create("invalid-gtag-resource",{gtagURL:t});return D1.warn(e.message),""}return t}function kO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function PE(){return(PE=(0,G.Z)(function*(t,e,n,r,o,c){const u=r[o];try{if(u)yield e[u];else{const y=(yield kO(n)).find(b=>b.measurementId===o);y&&(yield e[y.appId])}}catch(p){D1.error(p)}t("config",o,c)})).apply(this,arguments)}function RE(){return(RE=(0,G.Z)(function*(t,e,n,r,o){try{let c=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const p=yield kO(n);for(const y of u){const b=p.find(I=>I.measurementId===y),H=b&&e[b.appId];if(!H){c=[];break}c.push(H)}}0===c.length&&(c=Object.values(e)),yield Promise.all(c),t("event",r,o||{})}catch(c){D1.error(c)}})).apply(this,arguments)}const W1e=30,PO=new class K1e{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Y1e(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function OE(){return(OE=(0,G.Z)(function*(t){var e;const{appId:n,apiKey:r}=t,o={method:"GET",headers:Y1e(r)},c=k1e.replace("{app-id}",n),u=yield fetch(c,o);if(200!==u.status&&304!==u.status){let p="";try{const y=yield u.json();null!==(e=y.error)&&void 0!==e&&e.message&&(p=y.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()})).apply(this,arguments)}function FE(){return(FE=(0,G.Z)(function*(t,e=PO,n){const{appId:r,apiKey:o,measurementId:c}=t.options;if(!r)throw bn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw bn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new tne;return setTimeout((0,G.Z)(function*(){p.abort()}),void 0!==n?n:N1e),RO({appId:r,apiKey:o,measurementId:c},u,p,e)})).apply(this,arguments)}function RO(t,e,n){return BE.apply(this,arguments)}function BE(){return BE=(0,G.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,o=PO){var c;const{appId:u,measurementId:p}=t;try{yield function X1e(t,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(c),r(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(y){if(p)return D1.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:p};throw y}try{const y=yield function Q1e(t){return OE.apply(this,arguments)}(t);return o.deleteThrottleMetadata(u),y}catch(y){const b=y;if(!function ene(t){if(!(t instanceof tt.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(b)){if(o.deleteThrottleMetadata(u),p)return D1.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:u,measurementId:p};throw y}const H=503===Number(null===(c=b?.customData)||void 0===c?void 0:c.httpStatus)?(0,tt.$s)(n,o.intervalMillis,W1e):(0,tt.$s)(n,o.intervalMillis),I={throttleEndTimeMillis:Date.now()+H,backoffCount:n+1};return o.setThrottleMetadata(u,I),D1.debug(`Calling attemptFetch again in ${H} millis`),RO(t,I,r,o)}}),BE.apply(this,arguments)}class tne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let UE,KE;function jE(){return(jE=(0,G.Z)(function*(t,e,n,r,o){if(o&&o.global)t("event",n,r);else{const c=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:c}))}})).apply(this,arguments)}function YE(){return(YE=(0,G.Z)(function*(){if(!(0,tt.hl)())return D1.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,tt.eu)()}catch(t){return D1.warn(bn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function QE(){return QE=(0,G.Z)(function*(t,e,n,r,o,c,u){var p;const y=function J1e(t){return FE.apply(this,arguments)}(t);y.then(U=>{n[U.measurementId]=U.appId,t.options.measurementId&&U.measurementId!==t.options.measurementId&&D1.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>D1.error(U)),e.push(y);const b=function cne(){return YE.apply(this,arguments)}().then(U=>{if(U)return r.getId()}),[H,I]=yield Promise.all([y,b]);(function q1e(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(kE)&&n.src.includes(t))return n;return null})(c)||function F1e(t,e){const n=function O1e(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:R1e}),r=document.createElement("script"),o=`${kE}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}(c,H.measurementId),KE&&(o("consent","default",KE),function OO(t){KE=t}(void 0)),o("js",new Date);const N=null!==(p=u?.config)&&void 0!==p?p:{};return N[T1e]="firebase",N.update=!0,null!=I&&(N[A1e]=I),o("config",H.measurementId,N),UE&&(o("set",UE),function FO(t){UE=t}(void 0)),H.measurementId}),QE.apply(this,arguments)}class une{constructor(e){this.app=e}_delete(){return delete ki[this.app.options.appId],Promise.resolve()}}let ki={},BO=[];const UO={};let $O,Pi,Iy="dataLayer",JE=!1;function dne(t,e,n){!function fne(){const t=[];if((0,tt.ru)()&&t.push("This is a browser extension environment."),(0,tt.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=bn.create("invalid-analytics-context",{errorInfo:e});D1.warn(n.message)}}();const r=t.options.appId;if(!r)throw bn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw bn.create("no-api-key");D1.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ki[r])throw bn.create("already-exists",{id:r});if(!JE){!function B1e(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Iy);const{wrappedGtag:c,gtagCore:u}=function G1e(t,e,n,r,o){let c=function(...u){window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(c=window[o]),window[o]=function $1e(t,e,n,r){function c(){return c=(0,G.Z)(function*(u,...p){try{if("event"===u){const[y,b]=p;yield function j1e(t,e,n,r,o){return RE.apply(this,arguments)}(t,e,n,y,b)}else if("config"===u){const[y,b]=p;yield function U1e(t,e,n,r,o,c){return PE.apply(this,arguments)}(t,e,n,r,y,b)}else if("consent"===u){const[y]=p;t("consent","update",y)}else if("get"===u){const[y,b,H]=p;t("get",y,b,H)}else if("set"===u){const[y]=p;t("set",y)}else t(u,...p)}catch(y){D1.error(y)}}),c.apply(this,arguments)}return function o(u){return c.apply(this,arguments)}}(c,t,e,n),{gtagCore:c,wrappedGtag:window[o]}}(ki,BO,UO,Iy,"gtag");Pi=c,$O=u,JE=!0}return ki[r]=function lne(t,e,n,r,o,c,u){return QE.apply(this,arguments)}(t,BO,UO,e,$O,Iy,n),new une(t)}function pne(){return XE.apply(this,arguments)}function XE(){return(XE=(0,G.Z)(function*(){if((0,tt.ru)()||!(0,tt.zI)()||!(0,tt.hl)())return!1;try{return yield(0,tt.eu)()}catch{return!1}})).apply(this,arguments)}const GO="@firebase/analytics";!function gne(){(0,Tt._registerComponent)(new ri.wA(Sy,(e,{options:n})=>dne(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),(0,Tt._registerComponent)(new ri.wA("analytics-internal",function t(e){try{const n=e.getProvider(Sy).getImmediate();return{logEvent:(r,o,c)=>function mne(t,e,n,r){t=(0,tt.m9)(t),function nne(t,e,n,r,o){return jE.apply(this,arguments)}(Pi,ki[t.app.options.appId],e,n,r).catch(o=>D1.error(o))}(n,r,o,c)}}catch(n){throw bn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),(0,Tt.registerVersion)(GO,"0.10.0"),(0,Tt.registerVersion)(GO,"0.10.0","esm2017")}();const Cne=new class yne extends BR{}(class vne extends FR{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}});var WO=k(4674),z4=k(9360),nc=k(8251),ZO=k(2737),df=k(5137),yl=k(3093);const hf=new m.GfV("7.6.1"),tL="__angularfire_symbol__analyticsIsSupportedValue",nL="__angularfire_symbol__analyticsIsSupported",rL="__angularfire_symbol__remoteConfigIsSupportedValue",iL="__angularfire_symbol__remoteConfigIsSupported",sL="__angularfire_symbol__messagingIsSupportedValue",oL="__angularfire_symbol__messagingIsSupported";function cL(t,e,n){if(e){if(1===e.length)return e[0];const c=e.filter(u=>u.app===n);if(1===c.length)return c[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[nL]||(globalThis[nL]=pne().then(t=>globalThis[tL]=t).catch(()=>globalThis[tL]=!1)),globalThis[oL]||(globalThis[oL]=NO().then(t=>globalThis[sL]=t).catch(()=>globalThis[sL]=!1)),globalThis[iL]||(globalThis[iL]=R2e().then(t=>globalThis[rL]=t).catch(()=>globalThis[rL]=!1));const lL=(t,e)=>{const n=e?[e]:(0,Tt.getApps)(),r=[];return n.forEach(o=>{o.container.getProvider(t).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r};function Cl(){}class KO{constructor(e,n=Cne){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const o=this.zone;return this.delegate.schedule(function(u){o.runGuarded(()=>{e.apply(this,[u])})},n,r)}}class Mne{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cl,{},Cl,Cl)),n.pipe(function _ne(t,e,n){const r=(0,WO.m)(t)||e||n?{next:t,error:e,complete:n}:t;return r?(0,z4.e)((o,c)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let p=!0;o.subscribe((0,nc.x)(c,y=>{var b;null===(b=r.next)||void 0===b||b.call(r,y),c.next(y)},()=>{var y;p=!1,null===(y=r.complete)||void 0===y||y.call(r),c.complete()},y=>{var b;p=!1,null===(b=r.error)||void 0===b||b.call(r,y),c.error(y)},()=>{var y,b;p&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(b=r.finalize)||void 0===b||b.call(r)}))}):ZO.y}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _l=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new KO(Zone.current)),this.insideAngular=n.run(()=>new KO(Zone.current,UR)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(m.R0b))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function rc(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ic(t){return rc().ngZone.run(()=>t())}function fr(t){return rc(),function bne(t){return function(n){return(n=n.lift(new Mne(t.ngZone))).pipe((0,df.R)(t.outsideAngular),(0,yl.Q)(t.insideAngular))}}(rc())(t)}const Hne=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ic(()=>t.apply(void 0,r))},zy=(t,e)=>function(){let n;const r=arguments;for(let c=0;c<arguments.length;c++)"function"==typeof r[c]&&(e&&(n||(n=ic(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cl,{},Cl,Cl)))),r[c]=Hne(r[c],n));const o=function wne(t){return rc().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(o instanceof uf.y){const c=rc();return o.pipe((0,df.R)(c.outsideAngular),(0,yl.Q)(c.insideAngular))}return ic(()=>o)}return o instanceof uf.y?o.pipe(fr):o instanceof Promise?ic(()=>new Promise((c,u)=>o.then(p=>ic(()=>c(p)),p=>ic(()=>u(p))))):"function"==typeof o&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),o.apply(this,arguments)}:ic(()=>o)};var Vne=k(2372),YO=k(4564);function QO(...t){return function Sne(){return(0,Vne.J)(1)}()((0,Qa.D)(t,(0,YO.yG)(t)))}function uL(...t){const e=(0,YO.yG)(t);return(0,z4.e)((n,r)=>{(e?QO(t,n,e):QO(t,n)).subscribe(r)})}function fL(){return(0,z4.e)((t,e)=>{let n,r=!1;t.subscribe((0,nc.x)(e,o=>{const c=n;n=o,r&&e.next([c,o]),r=!0}))})}var dr=k(7398);function dL(t,e){return(0,z4.e)(function Ine(t,e,n,r,o){return(c,u)=>{let p=n,y=e,b=0;c.subscribe((0,nc.x)(u,H=>{const I=b++;y=p?t(y,H,I):(p=!0,H),r&&u.next(y)},o&&(()=>{p&&u.next(y),u.complete()})))}}(t,e,arguments.length>=2,!0))}var zne=k(3997);function Ey(t,e){return(0,z4.e)((n,r)=>{let o=0;n.subscribe((0,nc.x)(r,c=>t.call(e,c,o++)&&r.next(c)))})}var We,hr=k(6304),Ene=(k(6365),k(3106)),Lne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},si={},hL=hL||{},Vt=Lne||self;function Ly(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function pf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var pL="closure_uid_"+(1e9*Math.random()>>>0),Dne=0;function Ane(t,e,n){return t.call.apply(t.bind,arguments)}function Tne(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function an(t,e,n){return(an=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ane:Tne).apply(null,arguments)}function xy(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function A1(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,o,c){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return e.prototype[o].apply(r,u)}}function E4(){this.s=this.s,this.o=this.o}E4.prototype.s=!1,E4.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function xne(t){Object.prototype.hasOwnProperty.call(t,pL)&&t[pL]||(t[pL]=++Dne)}(this)},E4.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function mL(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function XO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ly(r)){const o=t.length||0,c=r.length||0;t.length=o+c;for(let u=0;u<c;u++)t[o+u]=r[u]}else t.push(r)}}function cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};var kne=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Vt.addEventListener("test",()=>{},e),Vt.removeEventListener("test",()=>{},e)}catch{}return t}();function mf(t){return/^[\s\xa0]*$/.test(t)}function Dy(){var t=Vt.navigator;return t&&(t=t.userAgent)?t:""}function Ri(t){return-1!=Dy().indexOf(t)}function gL(t){return gL[" "](t),t}gL[" "]=function(){};var yL,t,Rne=Ri("Opera"),Ml=Ri("Trident")||Ri("MSIE"),eF=Ri("Edge"),vL=eF||Ml,tF=Ri("Gecko")&&!(-1!=Dy().toLowerCase().indexOf("webkit")&&!Ri("Edge"))&&!(Ri("Trident")||Ri("MSIE"))&&!Ri("Edge"),One=-1!=Dy().toLowerCase().indexOf("webkit")&&!Ri("Edge");function nF(){var t=Vt.document;return t?t.documentMode:void 0}e:{var CL="",_L=(t=Dy(),tF?/rv:([^\);]+)(\)|;)/.exec(t):eF?/Edge\/([\d\.]+)/.exec(t):Ml?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):One?/WebKit\/(\S+)/.exec(t):Rne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(_L&&(CL=_L?_L[1]:""),Ml){var ML=nF();if(null!=ML&&ML>parseFloat(CL)){yL=String(ML);break e}}yL=CL}var Fne=Vt.document&&Ml&&(nF()||parseInt(yL,10))||void 0;function gf(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(tF){e:{try{gL(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Bne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gf.$.h.call(this)}}A1(gf,cn);var Bne={2:"touch",3:"pen",4:"mouse"};gf.prototype.h=function(){gf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vf="closure_listenable_"+(1e6*Math.random()|0),Une=0;function jne(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=o,this.key=++Une,this.fa=this.ia=!1}function Ay(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function bL(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function iF(t){const e={};for(const n in t)e[n]=t[n];return e}const sF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oF(t,e){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)t[n]=r[n];for(let c=0;c<sF.length;c++)n=sF[c],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ty(t){this.src=t,this.g={},this.h=0}function HL(t,e){var n=e.type;if(n in t.g){var c,r=t.g[n],o=JO(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(Ay(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function VL(t,e,n,r){for(var o=0;o<t.length;++o){var c=t[o];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==r)return o}return-1}Ty.prototype.add=function(t,e,n,r,o){var c=t.toString();(t=this.g[c])||(t=this.g[c]=[],this.h++);var u=VL(t,e,r,o);return-1<u?(e=t[u],n||(e.ia=!1)):((e=new jne(e,this.src,c,!!r,o)).ia=n,t.push(e)),e};var SL="closure_lm_"+(1e6*Math.random()|0),IL={};function aF(t,e,n,r,o){if(r&&r.once)return lF(t,e,n,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)aF(t,e[c],n,r,o);return null}return n=xL(n),t&&t[vf]?t.O(e,n,pf(r)?!!r.capture:!!r,o):cF(t,e,n,!1,r,o)}function cF(t,e,n,r,o,c){if(!e)throw Error("Invalid event type");var u=pf(o)?!!o.capture:!!o,p=EL(t);if(p||(t[SL]=p=new Ty(t)),(n=p.add(e,n,r,u,c)).proxy)return n;if(r=function Gne(){const e=qne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kne||(o=u),void 0===o&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(fF(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function lF(t,e,n,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)lF(t,e[c],n,r,o);return null}return n=xL(n),t&&t[vf]?t.P(e,n,pf(r)?!!r.capture:!!r,o):cF(t,e,n,!0,r,o)}function uF(t,e,n,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)uF(t,e[c],n,r,o);else r=pf(r)?!!r.capture:!!r,n=xL(n),t&&t[vf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=VL(c=t.g[e],n,r,o))&&(Ay(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete t.g[e],t.h--))):t&&(t=EL(t))&&(e=t.g[e.toString()],t=-1,e&&(t=VL(e,n,r,o)),(n=-1<t?e[t]:null)&&zL(n))}function zL(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[vf])HL(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fF(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=EL(e))?(HL(n,t),0==n.h&&(n.src=null,e[SL]=null)):Ay(t)}}}function fF(t){return t in IL?IL[t]:IL[t]="on"+t}function qne(t,e){if(t.fa)t=!0;else{e=new gf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&zL(t),t=n.call(r,e)}return t}function EL(t){return(t=t[SL])instanceof Ty?t:null}var LL="__closure_events_fn_"+(1e9*Math.random()>>>0);function xL(t){return"function"==typeof t?t:(t[LL]||(t[LL]=function(e){return t.handleEvent(e)}),t[LL])}function T1(){E4.call(this),this.i=new Ty(this),this.S=this,this.J=null}function U1(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new cn(e,t);else if(e instanceof cn)e.target=e.target||t;else{var o=e;oF(e=new cn(r,t),o)}if(o=!0,n)for(var c=n.length-1;0<=c;c--){var u=e.g=n[c];o=Ny(u,r,!0,e)&&o}if(o=Ny(u=e.g=t,r,!0,e)&&o,o=Ny(u,r,!1,e)&&o,n)for(c=0;c<n.length;c++)o=Ny(u=e.g=n[c],r,!1,e)&&o}function Ny(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var u=e[c];if(u&&!u.fa&&u.capture==n){var p=u.listener,y=u.la||u.src;u.ia&&HL(t.i,u),o=!1!==p.call(y,r)&&o}}return o&&!r.defaultPrevented}A1(T1,E4),T1.prototype[vf]=!0,T1.prototype.removeEventListener=function(t,e,n,r){uF(this,t,e,n,r)},T1.prototype.N=function(){if(T1.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ay(n[r]);delete t.g[e],t.h--}}this.J=null},T1.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},T1.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var DL=Vt.JSON.stringify;function Zne(){var t=AL;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var dF=new class Wne{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Yne,t=>t.reset());class Yne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Qne(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Jne(t){Vt.setTimeout(()=>{throw t},0)}let yf,Cf=!1,AL=new class Kne{constructor(){this.h=this.g=null}add(e,n){const r=dF.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},hF=()=>{const t=Vt.Promise.resolve(void 0);yf=()=>{t.then(Xne)}};var Xne=()=>{for(var t;t=Zne();){try{t.h.call(t.g)}catch(n){Jne(n)}var e=dF;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cf=!1};function ky(t,e){T1.call(this),this.h=t||1,this.g=e||Vt,this.j=an(this.qb,this),this.l=Date.now()}function TL(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function NL(t,e,n){if("function"==typeof t)n&&(t=an(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=an(t.handleEvent,t)}return 2147483647<Number(e)?-1:Vt.setTimeout(t,e||0)}function pF(t){t.g=NL(()=>{t.g=null,t.i&&(t.i=!1,pF(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}A1(ky,T1),(We=ky.prototype).ga=!1,We.T=null,We.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),U1(this,"tick"),this.ga&&(TL(this),this.start()))}},We.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},We.N=function(){ky.$.N.call(this),TL(this),delete this.g};class ere extends E4{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pF(this)}N(){super.N(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _f(t){E4.call(this),this.h=t,this.g={}}A1(_f,E4);var mF=[];function gF(t,e,n,r){Array.isArray(n)||(n&&(mF[0]=n.toString()),n=mF);for(var o=0;o<n.length;o++){var c=aF(e,n[o],r||t.handleEvent,!1,t.h||t);if(!c)break;t.g[c.key]=c}}function vF(t){bL(t.g,function(e,n){this.g.hasOwnProperty(n)&&zL(e)},t),t.g={}}function Py(){this.g=!0}function wl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ire(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var u=1;u<o.length;u++)o[u]=""}}}return DL(n)}catch{return e}}(t,n)+(r?" "+r:"")})}_f.prototype.N=function(){_f.$.N.call(this),vF(this)},_f.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Py.prototype.Ea=function(){this.g=!1},Py.prototype.info=function(){};var sc={},yF=null;function Ry(){return yF=yF||new T1}function CF(t){cn.call(this,sc.Ta,t)}function Mf(t){const e=Ry();U1(e,new CF(e))}function _F(t,e){cn.call(this,sc.STAT_EVENT,t),this.stat=e}function Hn(t){const e=Ry();U1(e,new _F(e,t))}function MF(t,e){cn.call(this,sc.Ua,t),this.size=e}function wf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){t()},e)}sc.Ta="serverreachability",A1(CF,cn),sc.STAT_EVENT="statevent",A1(_F,cn),sc.Ua="timingevent",A1(MF,cn);var Oy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kL(){}function HF(){}kL.prototype.h=null;var OL,bf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function PL(){cn.call(this,"d")}function RL(){cn.call(this,"c")}function Fy(){}function Hf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new _f(this),this.P=sre,this.V=new ky(t=vL?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VF}function VF(){this.i=null,this.g="",this.h=!1}A1(PL,cn),A1(RL,cn),A1(Fy,kL),Fy.prototype.g=function(){return new XMLHttpRequest},Fy.prototype.i=function(){return{}},OL=new Fy;var sre=45e3,FL={},By={};function BL(t,e,n){t.L=1,t.v=Gy(js(e)),t.s=n,t.S=!0,SF(t,null)}function SF(t,e){t.G=Date.now(),Vf(t),t.A=js(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),kF(n.i,"t",r),t.C=0,n=t.l.J,t.h=new VF,t.g=oB(t.l,n?e:null,!t.s),0<t.O&&(t.M=new ere(an(t.Pa,t,t.g),t.O)),gF(t.U,t.g,"readystatechange",t.nb),e=t.I?iF(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Mf(),function tre(t,e,n,r,o,c){t.info(function(){if(t.g)if(c)for(var u="",p=c.split("&"),y=0;y<p.length;y++){var b=p[y].split("=");if(1<b.length){var H=b[0];b=b[1];var I=H.split("_");u=2<=I.length&&"type"==I[1]?u+(H+"=")+b+"&":u+(H+"=redacted&")}}else u=null;else u=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+n+"\n"+u})}(t.j,t.u,t.A,t.m,t.W,t.s)}function IF(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function zF(t,e,n){let o,r=!0;for(;!t.J&&t.C<n.length;){if(o=ore(t,n),o==By){4==e&&(t.o=4,Hn(14),r=!1),wl(t.j,t.m,null,"[Incomplete Response]");break}if(o==FL){t.o=4,Hn(15),wl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}wl(t.j,t.m,o,null),UL(t,o)}IF(t)&&o!=By&&o!=FL&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Hn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),KL(e),e.M=!0,Hn(11))):(wl(t.j,t.m,n,"[Invalid Chunked Response]"),oc(t),Sf(t))}function ore(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?By:(n=Number(e.substring(n,r)),isNaN(n)?FL:(r+=1)+n>e.length?By:(e=e.slice(r,r+n),t.C=r+n,e))}function Vf(t){t.Y=Date.now()+t.P,EF(t,t.P)}function EF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=wf(an(t.lb,t),e)}function Uy(t){t.B&&(Vt.clearTimeout(t.B),t.B=null)}function Sf(t){0==t.l.H||t.J||nB(t.l,t)}function oc(t){Uy(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,TL(t.V),vF(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function UL(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||jL(n.i,t)))if(!t.K&&jL(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Qy(n),Ky(n)}ZL(n),Hn(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&0==n.A&&!n.v&&(n.v=wf(an(n.ib,n),6e3));if(1>=OF(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else cc(n,11)}else if((t.K||n.g==t)&&Qy(n),!mf(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let b=o[e];if(n.V=b[0],b=b[1],2==n.H)if("c"==b[0]){n.K=b[1],n.pa=b[2];const H=b[3];null!=H&&(n.ra=H,n.l.info("VER="+n.ra));const I=b[4];null!=I&&(n.Ga=I,n.l.info("SVER="+n.Ga));const N=b[5];null!=N&&"number"==typeof N&&0<N&&(n.L=r=1.5*N,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const U=t.g;if(U){const ae=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var c=r.i;c.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&($L(c,c.h),c.h=null))}if(r.F){const Ce=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;Ce&&(r.Da=Ce,C2(r.I,r.F,Ce))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var u=t;if((r=n).wa=sB(r,r.J?r.pa:null,r.Y),u.K){FF(r.i,u);var p=u,y=r.L;y&&p.setTimeout(y),p.B&&(Uy(p),Vf(p)),r.g=u}else eB(r);0<n.j.length&&Yy(n)}else"stop"!=b[0]&&"close"!=b[0]||cc(n,7);else 3==n.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?cc(n,7):WL(n):"noop"!=b[0]&&n.h&&n.h.Aa(b),n.A=0)}Mf()}catch{}}function LF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ly(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function cre(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ly(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function are(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Ly(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),o=r.length,c=0;c<o;c++)e.call(void 0,r[c],n&&n[c],t)}(We=Hf.prototype).setTimeout=function(t){this.P=t},We.nb=function(t){t=t.target;const e=this.M;e&&3==Oi(t)?e.l():this.Pa(t)},We.Pa=function(t){try{if(t==this.g)e:{const H=Oi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>H)&&(3!=H||vL||this.g&&(this.h.h||this.g.ja()||ZF(this.g)))){this.J||4!=H||7==e||Mf(),Uy(this);var n=this.g.da();this.ca=n;t:if(IF(this)){var r=ZF(this.g);t="";var o=r.length,c=4==Oi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){oc(this),Sf(this);var u="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==n,function nre(t,e,n,r,o,c,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+n+"\n"+c+" "+u})}(this.j,this.u,this.A,this.m,this.W,H,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mf(p)){var b=p;break t}}b=null}if(!(n=b)){this.i=!1,this.o=3,Hn(12),oc(this),Sf(this);break e}wl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,UL(this,n)}this.S?(zF(this,H,u),vL&&this.i&&3==H&&(gF(this.U,this.V,"tick",this.mb),this.V.start())):(wl(this.j,this.m,u,null),UL(this,u)),4==H&&oc(this),this.i&&!this.J&&(4==H?nB(this.l,this):(this.i=!1,Vf(this)))}else(function Sre(t){const e={};t=(t.g&&2<=Oi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(mf(t[r]))continue;var n=Qne(t[r]);const o=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[o]||[];e[o]=c,c.push(n)}!function $ne(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<u.indexOf("Unknown SID")?(this.o=3,Hn(12)):(this.o=0,Hn(13)),oc(this),Sf(this)}}}catch{}},We.mb=function(){if(this.g){var t=Oi(this.g),e=this.g.ja();this.C<e.length&&(Uy(this),zF(this,t,e),this.i&&4!=t&&Vf(this))}},We.cancel=function(){this.J=!0,oc(this)},We.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function rre(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Mf(),Hn(17)),oc(this),this.o=2,Sf(this)):EF(this,this.Y-t)};var xF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ac(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ac){this.h=t.h,jy(this,t.j),this.s=t.s,this.g=t.g,$y(this,t.m),this.l=t.l;var e=t.i,n=new Ef;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),DF(this,n),this.o=t.o}else t&&(e=String(t).match(xF))?(this.h=!1,jy(this,e[1]||"",!0),this.s=If(e[2]||""),this.g=If(e[3]||"",!0),$y(this,e[4]),this.l=If(e[5]||"",!0),DF(this,e[6]||"",!0),this.o=If(e[7]||"")):(this.h=!1,this.i=new Ef(null,this.h))}function js(t){return new ac(t)}function jy(t,e,n){t.j=n?If(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $y(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function DF(t,e,n){e instanceof Ef?(t.i=e,function mre(t,e){e&&!t.j&&(L4(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(TF(this,r),kF(this,o,n))},t)),t.j=e}(t.i,t.h)):(n||(e=zf(e,hre)),t.i=new Ef(e,t.h))}function C2(t,e,n){t.i.set(e,n)}function Gy(t){return C2(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function If(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ure),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ure(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ac.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zf(e,AF,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(zf(e,AF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(zf(n,"/"==n.charAt(0)?dre:fre,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zf(n,pre)),t.join("")};var AF=/[#\/\?@]/g,fre=/[#\?:]/g,dre=/[#\?]/g,hre=/[#\?@]/g,pre=/#/g;function Ef(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function L4(t){t.g||(t.g=new Map,t.h=0,t.i&&function lre(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var c=t[n].substring(0,r);o=t[n].substring(r+1)}else c=t[n];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function TF(t,e){L4(t),e=bl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function NF(t,e){return L4(t),e=bl(t,e),t.g.has(e)}function kF(t,e,n){TF(t,e),0<n.length&&(t.i=null,t.g.set(bl(t,e),mL(n)),t.h+=n.length)}function bl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function PF(t){this.l=t||vre,t=Vt.PerformanceNavigationTiming?0<(t=Vt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ka&&Vt.g.Ka()&&Vt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(We=Ef.prototype).add=function(t,e){L4(this),this.i=null,t=bl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},We.forEach=function(t,e){L4(this),this.g.forEach(function(n,r){n.forEach(function(o){t.call(e,o,r,this)},this)},this)},We.ta=function(){L4(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let c=0;c<o.length;c++)n.push(e[r])}return n},We.Z=function(t){L4(this);let e=[];if("string"==typeof t)NF(this,t)&&(e=e.concat(this.g.get(bl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},We.set=function(t,e){return L4(this),this.i=null,NF(this,t=bl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},We.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},We.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const c=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var o=c;""!==u[r]&&(o+="="+encodeURIComponent(String(u[r]))),t.push(o)}}return this.i=t.join("&")};var vre=10;function RF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function OF(t){return t.h?1:t.g?t.g.size:0}function jL(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function $L(t,e){t.g?t.g.add(e):t.h=e}function FF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function BF(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return mL(t.i)}PF.prototype.cancel=function(){if(this.i=BF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var yre=class{stringify(t){return Vt.JSON.stringify(t,void 0)}parse(t){return Vt.JSON.parse(t,void 0)}};function Cre(){this.g=new yre}function _re(t,e,n){const r=n||"";try{LF(t,function(o,c){let u=o;pf(o)&&(u=DL(o)),e.push(r+c+"="+encodeURIComponent(u))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function qy(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Lf(t){this.l=t.fc||null,this.j=t.ob||!1}function Wy(t,e){T1.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=GL,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}A1(Lf,kL),Lf.prototype.g=function(){return new Wy(this.l,this.j)},Lf.prototype.i=function(t){return function(){return t}}({}),A1(Wy,T1);var GL=0;function UF(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function xf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Df(t)}function Df(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(We=Wy.prototype).open=function(t,e){if(this.readyState!=GL)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Df(this)},We.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Vt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},We.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xf(this)),this.readyState=GL},We.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Df(this)),this.g&&(this.readyState=3,Df(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UF(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},We.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xf(this):Df(this),3==this.readyState&&UF(this)}},We.Za=function(t){this.g&&(this.response=this.responseText=t,xf(this))},We.Ya=function(t){this.g&&(this.response=t,xf(this))},We.ka=function(){this.g&&xf(this)},We.setRequestHeader=function(t,e){this.v.append(t,e)},We.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},We.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Wy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var wre=Vt.JSON.parse;function O2(t){T1.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jF,this.L=this.M=!1}A1(O2,T1);var jF="",bre=/^https?$/i,Hre=["POST","PUT"];function $F(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,GF(t),Zy(t)}function GF(t){t.F||(t.F=!0,U1(t,"complete"),U1(t,"error"))}function qF(t){if(t.h&&typeof hL<"u"&&(!t.C[1]||4!=Oi(t)||2!=t.da()))if(t.v&&4==Oi(t))NL(t.La,0,t);else if(U1(t,"readystatechange"),4==Oi(t)){t.h=!1;try{const u=t.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===u){var o=String(t.I).match(xF)[1]||null;!o&&Vt.self&&Vt.self.location&&(o=Vt.self.location.protocol.slice(0,-1)),r=!bre.test(o?o.toLowerCase():"")}n=r}if(n)U1(t,"complete"),U1(t,"success");else{t.m=6;try{var c=2<Oi(t)?t.g.statusText:""}catch{c=""}t.j=c+" ["+t.da()+"]",GF(t)}}finally{Zy(t)}}}function Zy(t,e){if(t.g){WF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||U1(t,"ready");try{n.onreadystatechange=r}catch{}}}function WF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Vt.clearTimeout(t.A),t.A=null)}function Oi(t){return t.g?t.g.readyState:0}function ZF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case jF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function KF(t){let e="";return bL(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function qL(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=KF(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):C2(t,e,n))}function Af(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YF(t){this.Ga=0,this.j=[],this.l=new Py,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Af("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Af("baseRetryDelayMs",5e3,t),this.hb=Af("retryDelaySeedMs",1e4,t),this.eb=Af("forwardChannelMaxRetries",2,t),this.xa=Af("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new PF(t&&t.concurrentRequestLimit),this.Ja=new Cre,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function WL(t){if(QF(t),3==t.H){var e=t.W++,n=js(t.I);if(C2(n,"SID",t.K),C2(n,"RID",e),C2(n,"TYPE","terminate"),Tf(t,n),(e=new Hf(t,t.l,e)).L=2,e.v=Gy(js(n)),n=!1,Vt.navigator&&Vt.navigator.sendBeacon)try{n=Vt.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Vt.Image&&((new Image).src=e.v,n=!0),n||(e.g=oB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Vf(e)}iB(t)}function Ky(t){t.g&&(KL(t),t.g.cancel(),t.g=null)}function QF(t){Ky(t),t.u&&(Vt.clearTimeout(t.u),t.u=null),Qy(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Vt.clearTimeout(t.m),t.m=null)}function Yy(t){if(!RF(t.i)&&!t.m){t.m=!0;var e=t.Na;yf||hF(),Cf||(yf(),Cf=!0),AL.add(e,t),t.C=0}}function JF(t,e){var n;n=e?e.m:t.W++;const r=js(t.I);C2(r,"SID",t.K),C2(r,"RID",n),C2(r,"AID",t.V),Tf(t,r),t.o&&t.s&&qL(r,t.o,t.s),n=new Hf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),$L(t.i,n),BL(n,r,e)}function Tf(t,e){t.na&&bL(t.na,function(n,r){C2(e,r,n)}),t.h&&LF({},function(n,r){C2(e,r,n)})}function XF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?an(t.h.Va,t.h,t):null;e:{var o=t.j;let c=-1;for(;;){const u=["count="+n];-1==c?0<n?(c=o[0].g,u.push("ofs="+c)):c=0:u.push("ofs="+c);let p=!0;for(let y=0;y<n;y++){let b=o[y].g;const H=o[y].map;if(b-=c,0>b)c=Math.max(0,o[y].g-100),p=!1;else try{_re(H,u,"req"+b+"_")}catch{r&&r(H)}}if(p){r=u.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function eB(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;yf||hF(),Cf||(yf(),Cf=!0),AL.add(e,t),t.A=0}}function ZL(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=wf(an(t.Ma,t),rB(t,t.A)),t.A++,0))}function KL(t){null!=t.B&&(Vt.clearTimeout(t.B),t.B=null)}function tB(t){t.g=new Hf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=js(t.wa);C2(e,"RID","rpc"),C2(e,"SID",t.K),C2(e,"AID",t.V),C2(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&C2(e,"TO",t.qa),C2(e,"TYPE","xmlhttp"),Tf(t,e),t.o&&t.s&&qL(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Gy(js(e)),n.s=null,n.S=!0,SF(n,t)}function Qy(t){null!=t.v&&(Vt.clearTimeout(t.v),t.v=null)}function nB(t,e){var n=null;if(t.g==e){Qy(t),KL(t),t.g=null;var r=2}else{if(!jL(t.i,e))return;n=e.F,FF(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var o=t.C;U1(r=Ry(),new MF(r,n)),Yy(t)}else eB(t);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function Ire(t,e){return!(OF(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=wf(an(t.Na,t,e),rB(t,t.C)),t.C++,0)))}(t,e)||2==r&&ZL(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:cc(t,5);break;case 4:cc(t,10);break;case 3:cc(t,6);break;default:cc(t,2)}}function rB(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function cc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=an(t.pb,t);n||(n=new ac("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||jy(n,"https"),Gy(n)),function Mre(t,e){const n=new Py;if(Vt.Image){const r=new Image;r.onload=xy(qy,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xy(qy,n,r,"TestLoadImage: error",!1,e),r.onabort=xy(qy,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xy(qy,n,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Hn(2);t.H=0,t.h&&t.h.za(e),iB(t),QF(t)}function iB(t){if(t.H=0,t.ma=[],t.h){const e=BF(t.i);(0!=e.length||0!=t.j.length)&&(XO(t.ma,e),XO(t.ma,t.j),t.i.i.length=0,mL(t.j),t.j.length=0),t.h.ya()}}function sB(t,e,n){var r=n instanceof ac?js(n):new ac(n);if(""!=r.g)e&&(r.g=e+"."+r.g),$y(r,r.m);else{var o=Vt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var c=new ac(null);r&&jy(c,r),e&&(c.g=e),o&&$y(c,o),n&&(c.l=n),r=c}return e=t.Da,(n=t.F)&&e&&C2(r,n,e),C2(r,"VER",t.ra),Tf(t,r),r}function oB(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new O2(n&&t.Ha&&!t.va?new Lf({ob:!0}):t.va)).Oa(t.J),e}function aB(){}function Jy(){if(Ml&&!(10<=Number(Fne)))throw Error("Environmental error: no available transport.")}function pr(t,e){T1.call(this),this.g=new YF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!mf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Hl(this)}function cB(t){PL.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function lB(){RL.call(this),this.status=1}function Hl(t){this.g=t}function oi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function YL(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=t.g[3],u=(e=t.g[0])+(c^(n=t.g[1])&((o=t.g[2])^c))+r[0]+3614090360&4294967295;u=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=(n=(o=(c=(e=n+(u<<7&4294967295|u>>>25))+((u=c+(o^e&(n^o))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=o+(n^c&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^o&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(o^c))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=c+(o^e&(n^o))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=o+(n^c&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^o&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(o^c))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=c+(o^e&(n^o))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=o+(n^c&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^o&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(c^n&(o^c))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=c+(o^e&(n^o))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=o+(n^c&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=n+(e^o&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^c&(n^o))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^o&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^n&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(o^c))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(o^c&(n^o))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^o&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^n&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(o^c))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(o^c&(n^o))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^o&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^n&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(o^c))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(o^c&(n^o))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=c+(n^o&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=o+(e^n&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=n+(c^e&(o^c))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(n^o^c)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^o)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=o+(c^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=n+(o^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^o^c)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^o)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=o+(c^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=n+(o^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^o^c)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^o)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=o+(c^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=n+(o^c^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(n^o^c)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=c+(e^n^o)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=o+(c^e^n)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=n+(o^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(o^(n|~c))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=o+(e^(c|~n))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(o^(n|~c))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=o+(e^(c|~n))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(o^(n|~c))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=o+(e^(c|~n))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=n+(c^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((c=(e=n+((u=e+(o^(n|~c))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=c+(n^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((o=c+((u=o+(e^(c|~n))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(u<<21&4294967295|u>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+c&4294967295}function e2(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var c=0|t[o];r&&c==e||(n[o]=c,r=!1)}this.g=n}(We=O2.prototype).Oa=function(t){this.M=t},We.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():OL.g(),this.C=function bF(t){return t.h||(t.h=t.i())}(this.u?this.u:OL),this.g.onreadystatechange=an(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(c){return void $F(this,c)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())n.set(c,r.get(c))}r=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),o=Vt.FormData&&t instanceof Vt.FormData,!(0<=JO(Hre,e))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,u]of n)this.g.setRequestHeader(c,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WF(this),0<this.B&&((this.L=function Vre(t){return Ml&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.ua,this)):this.A=NL(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(c){$F(this,c)}},We.ua=function(){typeof hL<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,U1(this,"timeout"),this.abort(8))},We.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,U1(this,"complete"),U1(this,"abort"),Zy(this))},We.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zy(this,!0)),O2.$.N.call(this)},We.La=function(){this.s||(this.G||this.v||this.l?qF(this):this.kb())},We.kb=function(){qF(this)},We.isActive=function(){return!!this.g},We.da=function(){try{return 2<Oi(this)?this.g.status:-1}catch{return-1}},We.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},We.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wre(e)}},We.Ia=function(){return this.m},We.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(We=YF.prototype).ra=8,We.H=1,We.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new Hf(this,this.l,t);let c=this.s;if(this.U&&(c?(c=iF(c),oF(c,this.U)):c=this.U),null!==this.o||this.O||(o.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XF(this,o,e),C2(n=js(this.I),"RID",t),C2(n,"CVER",22),this.F&&C2(n,"X-HTTP-Session-Id",this.F),Tf(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(KF(c)))+"&"+e:this.o&&qL(n,this.o,c)),$L(this.i,o),this.bb&&C2(n,"TYPE","init"),this.P?(C2(n,"$req",e),C2(n,"SID","null"),o.aa=!0,BL(o,n,null)):BL(o,n,e),this.H=2}}else 3==this.H&&(t?JF(this,t):0==this.j.length||RF(this.i)||JF(this))},We.Ma=function(){if(this.u=null,tB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=wf(an(this.jb,this),t)}},We.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hn(10),Ky(this),tB(this))},We.ib=function(){null!=this.v&&(this.v=null,Ky(this),ZL(this),Hn(19))},We.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Hn(2)):(this.l.info("Failed to ping google.com"),Hn(1))},We.isActive=function(){return!!this.h&&this.h.isActive(this)},(We=aB.prototype).Ba=function(){},We.Aa=function(){},We.za=function(){},We.ya=function(){},We.isActive=function(){return!0},We.Va=function(){},Jy.prototype.g=function(t,e){return new pr(t,e)},A1(pr,T1),pr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Hn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=sB(t,null,t.Y),Yy(t)},pr.prototype.close=function(){WL(this.g)},pr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=DL(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Yy(e)},pr.prototype.N=function(){this.g.h=null,delete this.j,WL(this.g),delete this.g,pr.$.N.call(this)},A1(cB,PL),A1(lB,RL),A1(Hl,aB),Hl.prototype.Ba=function(){U1(this.g,"a")},Hl.prototype.Aa=function(t){U1(this.g,new cB(t))},Hl.prototype.za=function(t){U1(this.g,new lB)},Hl.prototype.ya=function(){U1(this.g,"b")},A1(oi,function zre(){this.blockSize=-1}),oi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},oi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,o=this.h,c=0;c<e;){if(0==o)for(;c<=n;)YL(this,t,c),c+=this.blockSize;if("string"==typeof t){for(;c<e;)if(r[o++]=t.charCodeAt(c++),o==this.blockSize){YL(this,r),o=0;break}}else for(;c<e;)if(r[o++]=t[c++],o==this.blockSize){YL(this,r),o=0;break}}this.h=o,this.i+=e},oi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Ere={};function QL(t){return-128<=t&&128>t?function Pne(t,e){var n=Ere;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new e2([0|e],0>e?-1:0)}):new e2([0|t],0>t?-1:0)}function Fi(t){if(isNaN(t)||!isFinite(t))return Vl;if(0>t)return j1(Fi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=JL;return new e2(e,0)}var JL=4294967296,Vl=QL(0),XL=QL(1),fB=QL(16777216);function $s(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Nr(t){return-1==t.h}function j1(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new e2(n,~t.h).add(XL)}function Xy(t,e){return t.add(j1(e))}function eC(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Nf(t,e){this.g=t,this.h=e}function tC(t,e){if($s(e))throw Error("division by zero");if($s(t))return new Nf(Vl,Vl);if(Nr(t))return e=tC(j1(t),e),new Nf(j1(e.g),j1(e.h));if(Nr(e))return e=tC(t,j1(e)),new Nf(j1(e.g),e.h);if(30<t.g.length){if(Nr(t)||Nr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=XL,r=e;0>=r.X(t);)n=dB(n),r=dB(r);var o=Sl(n,1),c=Sl(r,1);for(r=Sl(r,2),n=Sl(n,2);!$s(r);){var u=c.add(r);0>=u.X(t)&&(o=o.add(n),c=u),r=Sl(r,1),n=Sl(n,1)}return e=Xy(t,o.R(e)),new Nf(o,e)}for(o=Vl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(c=Fi(n)).R(e);Nr(u)||0<u.X(t);)u=(c=Fi(n-=r)).R(e);$s(c)&&(c=XL),o=o.add(c),t=Xy(t,u)}return new Nf(o,t)}function dB(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new e2(n,t.h)}function Sl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,o=[],c=0;c<r;c++)o[c]=0<e?t.D(c+n)>>>e|t.D(c+n+1)<<32-e:t.D(c+n);return new e2(o,t.h)}(We=e2.prototype).ea=function(){if(Nr(this))return-j1(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:JL+r)*e,e*=JL}return t},We.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if($s(this))return"0";if(Nr(this))return"-"+j1(this).toString(t);for(var e=Fi(Math.pow(t,6)),n=this,r="";;){var o=tC(n,e).g,c=((0<(n=Xy(n,o.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if($s(n=o))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},We.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},We.X=function(t){return Nr(t=Xy(this,t))?-1:$s(t)?0:1},We.abs=function(){return Nr(this)?j1(this):this},We.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,o=0;o<=e;o++){var c=r+(65535&this.D(o))+(65535&t.D(o)),u=(c>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);r=u>>>16,n[o]=(u&=65535)<<16|(c&=65535)}return new e2(n,-2147483648&n[n.length-1]?-1:0)},We.R=function(t){if($s(this)||$s(t))return Vl;if(Nr(this))return Nr(t)?j1(this).R(j1(t)):j1(j1(this).R(t));if(Nr(t))return j1(this.R(j1(t)));if(0>this.X(fB)&&0>t.X(fB))return Fi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<t.g.length;o++){var c=this.D(r)>>>16,u=65535&this.D(r),p=t.D(o)>>>16,y=65535&t.D(o);n[2*r+2*o]+=u*y,eC(n,2*r+2*o),n[2*r+2*o+1]+=c*y,eC(n,2*r+2*o+1),n[2*r+2*o+1]+=u*p,eC(n,2*r+2*o+1),n[2*r+2*o+2]+=c*p,eC(n,2*r+2*o+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new e2(n,0)},We.gb=function(t){return tC(this,t).h},We.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new e2(n,this.h&t.h)},We.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new e2(n,this.h|t.h)},We.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new e2(n,this.h^t.h)},Jy.prototype.createWebChannel=Jy.prototype.g,pr.prototype.send=pr.prototype.u,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,Oy.NO_ERROR=0,Oy.TIMEOUT=8,Oy.HTTP_ERROR=6,wF.COMPLETE="complete",HF.EventType=bf,bf.OPEN="a",bf.CLOSE="b",bf.ERROR="c",bf.MESSAGE="d",T1.prototype.listen=T1.prototype.O,O2.prototype.listenOnce=O2.prototype.P,O2.prototype.getLastError=O2.prototype.Sa,O2.prototype.getLastErrorCode=O2.prototype.Ia,O2.prototype.getStatus=O2.prototype.da,O2.prototype.getResponseJson=O2.prototype.Wa,O2.prototype.getResponseText=O2.prototype.ja,O2.prototype.send=O2.prototype.ha,O2.prototype.setWithCredentials=O2.prototype.Oa,oi.prototype.digest=oi.prototype.l,oi.prototype.reset=oi.prototype.reset,oi.prototype.update=oi.prototype.j,e2.prototype.add=e2.prototype.add,e2.prototype.multiply=e2.prototype.R,e2.prototype.modulo=e2.prototype.gb,e2.prototype.compare=e2.prototype.X,e2.prototype.toNumber=e2.prototype.ea,e2.prototype.toString=e2.prototype.toString,e2.prototype.getBits=e2.prototype.D,e2.fromNumber=Fi,e2.fromString=function uB(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return j1(uB(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Fi(Math.pow(e,8)),r=Vl,o=0;o<t.length;o+=8){var c=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+c),e);8>c?(c=Fi(Math.pow(e,c)),r=r.R(c).add(Fi(u))):r=(r=r.R(n)).add(Fi(u))}return r};var Lre=si.createWebChannelTransport=function(){return new Jy},xre=si.getStatEventTarget=function(){return Ry()},ex=si.ErrorCode=Oy,Dre=si.EventType=wF,Are=si.Event=sc,hB=si.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tre=si.FetchXmlHttpFactory=Lf,nC=si.WebChannel=HF,Nre=si.XhrIo=O2,kre=si.Md5=oi,Il=si.Integer=e2;const pB="@firebase/firestore";class N1{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}N1.UNAUTHENTICATED=new N1(null),N1.GOOGLE_CREDENTIALS=new N1("google-credentials-uid"),N1.FIRST_PARTY=new N1("first-party-uid"),N1.MOCK_USER=new N1("mock-user");let zl="9.23.0";const x4=new ii.Yd("@firebase/firestore");function tx(){return x4.logLevel}function Se(t,...e){if(x4.logLevel<=ii.in.DEBUG){const n=e.map(nx);x4.debug(`Firestore (${zl}): ${t}`,...n)}}function t1(t,...e){if(x4.logLevel<=ii.in.ERROR){const n=e.map(nx);x4.error(`Firestore (${zl}): ${t}`,...n)}}function kr(t,...e){if(x4.logLevel<=ii.in.WARN){const n=e.map(nx);x4.warn(`Firestore (${zl}): ${t}`,...n)}}function nx(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Xe(t="Unexpected state"){const e=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: `+t;throw t1(e),new Error(e)}function at(t,e){t||Xe()}function Ge(t,e){return t}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends tt.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _1{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class mB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ore{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(N1.UNAUTHENTICATED))}shutdown(){}}class Fre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bre{constructor(e){this.t=e,this.currentUser=N1.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let o=this.i;const c=b=>this.i!==o?(o=this.i,n(b)):Promise.resolve();let u=new _1;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _1,e.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const b=u;e.enqueueRetryable((0,G.Z)(function*(){yield b.promise,yield c(r.currentUser)}))},y=b=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _1)}},0),p()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at("string"==typeof r.accessToken),new mB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return at(null===e||"string"==typeof e),new N1(e)}}class Ure{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=N1.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jre{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Ure(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(N1.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $re{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=c=>{null!=c.error&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.T;return this.T=c.token,Se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?o(c):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at("string"==typeof n.token),this.T=n.token,new gB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class vB{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=Gre(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[c]%62))}return r}}function bt(t,e){return t<e?-1:t>e?1:0}function El(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}function yB(t){return t+"\0"}class I2{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return I2.fromMillis(Date.now())}static fromDate(e){return I2.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new I2(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ct(e)}static min(){return new ct(new I2(0,0))}static max(){return new ct(new I2(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kf{constructor(e,n,r){void 0===n?n=0:n>e.length&&Xe(),void 0===r?r=e.length-n:r>e.length-n&&Xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===kf.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=e.get(o),u=n.get(o);if(c<u)return-1;if(c>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Gt extends kf{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Gt(n)}static emptyPath(){return new Gt([])}}const qre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class F2 extends kf{construct(e,n,r){return new F2(e,n,r)}static isValidIdentifier(e){return qre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),F2.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new F2(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(0===r.length)throw new ye(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;o<e.length;){const p=e[o];if("\\"===p){if(o+1===e.length)throw new ye(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new ye(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else"`"===p?(u=!u,o++):"."!==p||u?(r+=p,o++):(c(),o++)}if(c(),u)throw new ye(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new F2(n)}static emptyPath(){return new F2([])}}class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Gt.fromString(e))}static fromName(e){return new Ue(Gt.fromString(e).popFirst(5))}static empty(){return new Ue(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Gt(e.slice()))}}class rC{constructor(e,n,r,o){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=o}}function rx(t){return t.fields.find(e=>2===e.kind)}function lc(t){return t.fields.filter(e=>2!==e.kind)}rC.UNKNOWN_ID=-1;class iC{constructor(e,n){this.fieldPath=e,this.kind=n}}class Pf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Pf(0,mr.min())}}function CB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=ct.fromTimestamp(1e9===r?new I2(n+1,0):new I2(n,r));return new mr(o,Ue.empty(),e)}function _B(t){return new mr(t.readTime,t.key,-1)}class mr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mr(ct.min(),Ue.empty(),-1)}static max(){return new mr(ct.max(),Ue.empty(),-1)}}function ix(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ue.comparator(t.documentKey,e.documentKey),0!==n?n:bt(t.largestBatchId,e.largestBatchId))}const MB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function D4(t){return sx.apply(this,arguments)}function sx(){return sx=(0,G.Z)(function*(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==MB)throw t;Se("LocalStore","Unexpectedly lost primary lease")}),sx.apply(this,arguments)}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let o=0,c=0,u=!1;e.forEach(p=>{++o,p.next(()=>{++c,u&&c===o&&n()},y=>r(y))}),u=!0,c===o&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(o=>o?Y.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,c)=>{r.push(n.call(this,o,c))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,o)=>{const c=e.length,u=new Array(c);let p=0;for(let y=0;y<c;y++){const b=y;n(e[b]).next(H=>{u[b]=H,++p,p===c&&r(u)},H=>o(H))}})}static doWhile(e,n){return new Y((r,o)=>{const c=()=>{!0===e()?n().next(()=>{c()},o):r()};c()})}}class sC{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new _1,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Rf(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=ox(r.target.error);this.v.reject(new Rf(e,o))}}static open(e,n,r,o){try{return new sC(n,e.transaction(o,r))}catch(c){throw new Rf(n,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Yre(n)}}class ai{constructor(e,n,r){this.name=e,this.version=n,this.V=r,12.2===ai.S((0,tt.z$)())&&t1("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Se("SimpleDb","Removing database:",e),uc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,tt.hl)())return!1;if(ai.C())return!0;const e=(0,tt.z$)(),n=ai.S(e),r=0<n&&n<10,o=ai.N(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var n=this;return(0,G.Z)(function*(){return n.db||(Se("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,o)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=u=>{r(u.target.result)},c.onblocked=()=>{o(new Rf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=u=>{const p=u.target.error;o("VersionError"===p.name?new ye(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new ye(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Rf(e,p))},c.onupgradeneeded=u=>{Se("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',u.oldVersion),n.V.O(u.target.result,c.transaction,u.oldVersion,n.version).next(()=>{Se("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=r=>n.F(r)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,o){var c=this;return(0,G.Z)(function*(){const u="readonly"===n;let p=0;for(;;){++p;try{c.db=yield c.$(e);const y=sC.open(c.db,e,u?"readonly":"readwrite",r),b=o(y).next(H=>(y.P(),H)).catch(H=>(y.abort(H),Y.reject(H))).toPromise();return b.catch(()=>{}),yield y.R,b}catch(y){const b=y,H="FirebaseError"!==b.name&&p<3;if(Se("SimpleDb","Transaction failed with error:",b.message,"Retrying:",H),c.close(),!H)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Kre{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return uc(this.L.delete())}}class Rf extends ye{constructor(e,n){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function A4(t){return"IndexedDbTransactionError"===t.name}class Yre{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Se("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),uc(r)}add(e){return Se("SimpleDb","ADD",this.store.name,e,e),uc(this.store.add(e))}get(e){return uc(this.store.get(e)).next(n=>(void 0===n&&(n=null),Se("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Se("SimpleDb","DELETE",this.store.name,e),uc(this.store.delete(e))}count(){return Se("SimpleDb","COUNT",this.store.name),uc(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),c=[];return this.W(o,(u,p)=>{c.push(p)}).next(()=>c)}{const o=this.store.getAll(r.range);return new Y((c,u)=>{o.onerror=p=>{u(p.target.error)},o.onsuccess=p=>{c(p.target.result)}})}}H(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new Y((o,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}J(e,n){Se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const o=this.cursor(r);return this.W(o,(c,u,p)=>p.delete())}X(e,n){let r;n?r=e:(r={},n=e);const o=this.cursor(r);return this.W(o,n)}Z(e){const n=this.cursor({});return new Y((r,o)=>{n.onerror=c=>{const u=ox(c.target.error);o(u)},n.onsuccess=c=>{const u=c.target.result;u?e(u.primaryKey,u.value).next(p=>{p?u.continue():r()}):r()}})}W(e,n){const r=[];return new Y((o,c)=>{e.onerror=u=>{c(u.target.error)},e.onsuccess=u=>{const p=u.target.result;if(!p)return void o();const y=new Kre(p),b=n(p.primaryKey,p.value,y);if(b instanceof Y){const H=b.catch(I=>(y.done(),Y.reject(I)));r.push(H)}y.isDone?o():null===y.K?p.continue():p.continue(y.K)}}).next(()=>Y.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function uc(t){return new Y((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const o=ox(r.target.error);n(o)}})}let bB=!1;function ox(t){const e=ai.S((0,tt.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bB||(bB=!0,setTimeout(()=>{throw r},0)),r}}return t}class Qre{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;Se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,G.Z)(function*(){n.task=null;try{Se("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(r){A4(r)?Se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield D4(r)}yield n.et(6e4)}))}}class Jre{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,G.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.st(r,e))})()}st(e,n){const r=new Set;let o=n,c=!0;return Y.doWhile(()=>!0===c&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return Se("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,o).next(p=>{o-=p,r.add(u)});c=!1})).next(()=>n-o)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(o=>this.localStore.localDocuments.getNextDocuments(e,n,o,r).next(c=>{const u=c.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(o,c)).next(p=>(Se("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,n,p))).next(()=>u.size)}))}rt(e,n){let r=e;return n.changes.forEach((o,c)=>{const u=_B(c);ix(u,r)>0&&(r=u)}),new mr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let gr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Of(t){return null==t}function Ff(t){return 0===t&&1/t==-1/0}function HB(t){return"number"==typeof t&&Number.isInteger(t)&&!Ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function ln(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VB(e)),e=Xre(t.get(n),e);return VB(e)}function Xre(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const c=t.charAt(o);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function VB(t){return t+"\x01\x01"}function Bi(t){const e=t.length;if(at(e>=2),2===e)return at("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Gt.emptyPath();const n=e-2,r=[];let o="";for(let c=0;c<e;){const u=t.indexOf("\x01",c);switch((u<0||u>n)&&Xe(),t.charAt(u+1)){case"\x01":const p=t.substring(c,u);let y;0===o.length?y=p:(o+=p,y=o,o=""),r.push(y);break;case"\x10":o+=t.substring(c,u),o+="\0";break;case"\x11":o+=t.substring(c,u+1);break;default:Xe()}c=u+2}return new Gt(r)}const SB=["userId","batchId"];function oC(t,e){return[t,ln(e)]}function IB(t,e,n){return[t,ln(e),n]}const eie={},tie=["prefixPath","collectionGroup","readTime","documentId"],nie=["prefixPath","collectionGroup","documentId"],rie=["collectionGroup","readTime","prefixPath","documentId"],iie=["canonicalId","targetId"],sie=["targetId","path"],oie=["path","targetId"],aie=["collectionId","parent"],cie=["indexId","uid"],lie=["uid","sequenceNumber"],uie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fie=["indexId","uid","orderedDocumentKey"],die=["userId","collectionPath","documentId"],hie=["userId","collectionPath","largestBatchId"],pie=["userId","collectionGroup","largestBatchId"],zB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mie=[...zB,"documentOverlays"],EB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LB=EB,gie=[...LB,"indexConfiguration","indexState","indexEntries"];class ax extends wB{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function k1(t,e){const n=Ge(t);return ai.M(n.ht,e)}function xB(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function T4(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class u2{constructor(e,n){this.comparator=e,this.root=n||$1.EMPTY}insert(e,n){return new u2(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$1.BLACK,null,null))}remove(e){return new u2(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$1.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new aC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new aC(this.root,e,this.comparator,!1)}getReverseIterator(){return new aC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new aC(this.root,e,this.comparator,!0)}}class aC{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $1{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??$1.RED,this.left=o??$1.EMPTY,this.right=c??$1.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new $1(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):0===c?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $1.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return $1.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$1.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$1.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}$1.EMPTY=null,$1.RED=!0,$1.BLACK=!1,$1.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(t,e,n,r,o){return this}insert(t,e,n){return new $1(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _2{constructor(e){this.comparator=e,this.data=new u2(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AB(this.data.getIterator())}getIteratorFrom(e){return new AB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _2)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _2(this.comparator);return n.data=e,n}}class AB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ll(t){return t.hasNext()?t.getNext():void 0}class Fn{constructor(e){this.fields=e,e.sort(F2.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new _2(F2.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class TB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class M1{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TB("Invalid base64 string: "+o):o}}(e);return new M1(n)}static fromUint8Array(e){const n=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new M1(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}M1.EMPTY_BYTE_STRING=new M1("");const yie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function N4(t){if(at(!!t),"string"==typeof t){let e=0;const n=yie.exec(t);if(at(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:B2(t.seconds),nanos:B2(t.nanos)}}function B2(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gs(t){return"string"==typeof t?M1.fromBase64String(t):M1.fromUint8Array(t)}function cC(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lC(t){const e=t.mapValue.fields.__previous_value__;return cC(e)?lC(e):e}function Bf(t){const e=N4(t.mapValue.fields.__local_write_time__.timestampValue);return new I2(e.seconds,e.nanos)}class Cie{constructor(e,n,r,o,c,u,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=b}}class k4{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new k4("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof k4&&e.projectId===this.projectId&&e.database===this.database}}const P4={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uC={nullValue:"NULL_VALUE"};function R4(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cC(t)?4:RB(t)?9007199254740991:10:Xe()}function Ui(t,e){if(t===e)return!0;const n=R4(t);if(n!==R4(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bf(t).isEqual(Bf(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=N4(r.timestampValue),u=N4(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Gs(t.bytesValue).isEqual(Gs(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return B2(r.geoPointValue.latitude)===B2(o.geoPointValue.latitude)&&B2(r.geoPointValue.longitude)===B2(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return B2(r.integerValue)===B2(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=B2(r.doubleValue),u=B2(o.doubleValue);return c===u?Ff(c)===Ff(u):isNaN(c)&&isNaN(u)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:return function(r,o){const c=r.mapValue.fields||{},u=o.mapValue.fields||{};if(xB(c)!==xB(u))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(void 0===u[p]||!Ui(c[p],u[p])))return!1;return!0}(t,e);default:return Xe()}var o}function Uf(t,e){return void 0!==(t.values||[]).find(n=>Ui(n,e))}function O4(t,e){if(t===e)return 0;const n=R4(t),r=R4(e);if(n!==r)return bt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(o,c){const u=B2(o.integerValue||o.doubleValue),p=B2(c.integerValue||c.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(t,e);case 3:return NB(t.timestampValue,e.timestampValue);case 4:return NB(Bf(t),Bf(e));case 5:return bt(t.stringValue,e.stringValue);case 6:return function(o,c){const u=Gs(o),p=Gs(c);return u.compareTo(p)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const u=o.split("/"),p=c.split("/");for(let y=0;y<u.length&&y<p.length;y++){const b=bt(u[y],p[y]);if(0!==b)return b}return bt(u.length,p.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const u=bt(B2(o.latitude),B2(c.latitude));return 0!==u?u:bt(B2(o.longitude),B2(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,c){const u=o.values||[],p=c.values||[];for(let y=0;y<u.length&&y<p.length;++y){const b=O4(u[y],p[y]);if(b)return b}return bt(u.length,p.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,c){if(o===P4.mapValue&&c===P4.mapValue)return 0;if(o===P4.mapValue)return 1;if(c===P4.mapValue)return-1;const u=o.fields||{},p=Object.keys(u),y=c.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let H=0;H<p.length&&H<b.length;++H){const I=bt(p[H],b[H]);if(0!==I)return I;const N=O4(u[p[H]],y[b[H]]);if(0!==N)return N}return bt(p.length,b.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function NB(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return bt(t,e);const n=N4(t),r=N4(e),o=bt(n.seconds,r.seconds);return 0!==o?o:bt(n.nanos,r.nanos)}function xl(t){return cx(t)}function cx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const o=N4(r);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gs(t.bytesValue).toBase64():"referenceValue"in t?Ue.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let o="[",c=!0;for(const u of r.values||[])c?c=!1:o+=",",o+=cx(u);return o+"]"}(t.arrayValue):"mapValue"in t?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",u=!0;for(const p of o)u?u=!1:c+=",",c+=`${p}:${cx(r.fields[p])}`;return c+"}"}(t.mapValue):Xe();var e}function fc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lx(t){return!!t&&"integerValue"in t}function jf(t){return!!t&&"arrayValue"in t}function kB(t){return!!t&&"nullValue"in t}function PB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dC(t){return!!t&&"mapValue"in t}function $f(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return T4(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$f(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$f(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RB(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function _ie(t){return"nullValue"in t?uC:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?fc(k4.empty(),Ue.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Xe()}function Mie(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?fc(k4.empty(),Ue.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?P4:Xe()}function OB(t,e){const n=O4(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function FB(t,e){const n=O4(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class G1{constructor(e){this.value=e}static empty(){return new G1({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dC(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$f(n)}setAll(e){let n=F2.emptyPath(),r={},o=[];e.forEach((u,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=p.popLast()}u?r[p.lastSegment()]=$f(u):o.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());dC(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];dC(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){T4(n,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new G1($f(this.value))}}function BB(t){const e=[];return T4(t.fields,(n,r)=>{const o=new F2([n]);if(dC(r)){const c=BB(r.mapValue).fields;if(0===c.length)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)}),new Fn(e)}class M2{constructor(e,n,r,o,c,u,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new M2(e,0,ct.min(),ct.min(),ct.min(),G1.empty(),0)}static newFoundDocument(e,n,r,o){return new M2(e,1,n,ct.min(),r,o,0)}static newNoDocument(e,n){return new M2(e,2,n,ct.min(),ct.min(),G1.empty(),0)}static newUnknownDocument(e,n){return new M2(e,3,n,ct.min(),ct.min(),G1.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ct.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=G1.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=G1.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof M2&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new M2(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class F4{constructor(e,n){this.position=e,this.inclusive=n}}function UB(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const c=e[o],u=t.position[o];if(r=c.field.isKeyField()?Ue.comparator(Ue.fromName(u.referenceValue),n.key):O4(u,n.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function jB(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ui(t.position[n],e.position[n]))return!1;return!0}class Dl{constructor(e,n="asc"){this.field=e,this.dir=n}}function wie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $B{}class Ft extends $B{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new bie(e,n,r):"array-contains"===n?new Sie(e,r):"in"===n?new YB(e,r):"not-in"===n?new Iie(e,r):"array-contains-any"===n?new zie(e,r):new Ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Hie(e,r):new Vie(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(O4(n,this.value)):null!==n&&R4(this.value)===R4(n)&&this.matchesComparison(O4(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class t2 extends $B{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new t2(e,n)}matches(e){return Al(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Al(t){return"and"===t.op}function ux(t){return"or"===t.op}function fx(t){return GB(t)&&Al(t)}function GB(t){for(const e of t.filters)if(e instanceof t2)return!1;return!0}function dx(t){if(t instanceof Ft)return t.field.canonicalString()+t.op.toString()+xl(t.value);if(fx(t))return t.filters.map(e=>dx(e)).join(",");{const e=t.filters.map(n=>dx(n)).join(",");return`${t.op}(${e})`}}function qB(t,e){return t instanceof Ft?(n=t,(r=e)instanceof Ft&&n.op===r.op&&n.field.isEqual(r.field)&&Ui(n.value,r.value)):t instanceof t2?function(n,r){return r instanceof t2&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((o,c,u)=>o&&qB(c,r.filters[u]),!0)}(t,e):void Xe();var n,r}function WB(t,e){const n=t.filters.concat(e);return t2.create(n,t.op)}function ZB(t){return t instanceof Ft?`${(e=t).field.canonicalString()} ${e.op} ${xl(e.value)}`:t instanceof t2?function(e){return e.op.toString()+" {"+e.getFilters().map(ZB).join(" ,")+"}"}(t):"Filter";var e}class bie extends Ft{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hie extends Ft{constructor(e,n){super(e,"in",n),this.keys=KB(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Vie extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=KB(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KB(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Ue.fromName(r.referenceValue))}class Sie extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jf(n)&&Uf(n.arrayValue,this.value)}}class YB extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Uf(this.value.arrayValue,n)}}class Iie extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Uf(this.value.arrayValue,n)}}class zie extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uf(this.value.arrayValue,r))}}class Eie{constructor(e,n=null,r=[],o=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=p,this.dt=null}}function hx(t,e=null,n=[],r=[],o=null,c=null,u=null){return new Eie(t,e,n,r,o,c,u)}function dc(t){const e=Ge(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xl(r)).join(",")),e.dt=n}return e.dt}function Gf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jB(t.startAt,e.startAt)&&jB(t.endAt,e.endAt)}function hC(t){return Ue.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function pC(t,e){return t.filters.filter(n=>n instanceof Ft&&n.field.isEqual(e))}function QB(t,e,n){let r=uC,o=!0;for(const c of pC(t,e)){let u=uC,p=!0;switch(c.op){case"<":case"<=":u=_ie(c.value);break;case"==":case"in":case">=":u=c.value;break;case">":u=c.value,p=!1;break;case"!=":case"not-in":u=uC}OB({value:r,inclusive:o},{value:u,inclusive:p})<0&&(r=u,o=p)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const u=n.position[c];OB({value:r,inclusive:o},{value:u,inclusive:n.inclusive})<0&&(r=u,o=n.inclusive);break}return{value:r,inclusive:o}}function JB(t,e,n){let r=P4,o=!0;for(const c of pC(t,e)){let u=P4,p=!0;switch(c.op){case">=":case">":u=Mie(c.value),p=!1;break;case"==":case"in":case"<=":u=c.value;break;case"<":u=c.value,p=!1;break;case"!=":case"not-in":u=P4}FB({value:r,inclusive:o},{value:u,inclusive:p})>0&&(r=u,o=p)}if(null!==n)for(let c=0;c<t.orderBy.length;++c)if(t.orderBy[c].field.isEqual(e)){const u=n.position[c];FB({value:r,inclusive:o},{value:u,inclusive:n.inclusive})>0&&(r=u,o=n.inclusive);break}return{value:r,inclusive:o}}class qs{constructor(e,n=null,r=[],o=[],c=null,u="F",p=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=y,this.wt=null,this._t=null}}function XB(t,e,n,r,o,c,u,p){return new qs(t,e,n,r,o,c,u,p)}function Tl(t){return new qs(t)}function eU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function px(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function mC(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function mx(t){return null!==t.collectionGroup}function hc(t){const e=Ge(t);if(null===e.wt){e.wt=[];const n=mC(e),r=px(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Dl(n)),e.wt.push(new Dl(F2.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Dl(F2.keyField(),c))}}}return e.wt}function Vn(t){const e=Ge(t);if(!e._t)if("F"===e.limitType)e._t=hx(e.path,e.collectionGroup,hc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const c of hc(e))n.push(new Dl(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new F4(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new F4(e.startAt.position,e.startAt.inclusive):null;e._t=hx(e.path,e.collectionGroup,n,e.filters,e.limit,r,o)}return e._t}function gx(t,e){e.getFirstInequalityField(),mC(t);const n=t.filters.concat([e]);return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gC(t,e,n){return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qf(t,e){return Gf(Vn(t),Vn(e))&&t.limitType===e.limitType}function tU(t){return`${dc(Vn(t))}|lt:${t.limitType}`}function vx(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>ZB(r)).join(", ")}]`),Of(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xl(r)).join(",")),`Target(${n})`}(Vn(t))}; limitType=${t.limitType})`}function Wf(t,e){return e.isFoundDocument()&&function(n,r){const o=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ue.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,r){for(const o of hc(n))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(t,e)&&function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(o,c,u){const p=UB(o,c,u);return o.inclusive?p<=0:p<0}(n.startAt,hc(n),r)||n.endAt&&!function(o,c,u){const p=UB(o,c,u);return o.inclusive?p>=0:p>0}(n.endAt,hc(n),r)));var n,r}function nU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rU(t){return(e,n)=>{let r=!1;for(const o of hc(t)){const c=Lie(o,e,n);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function Lie(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):function(o,c,u){const p=c.data.field(o),y=u.data.field(o);return null!==p&&null!==y?O4(p,y):Xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){T4(this.inner,(n,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return DB(this.inner)}size(){return this.innerSize}}const xie=new u2(Ue.comparator);function Bn(){return xie}const iU=new u2(Ue.comparator);function Zf(...t){let e=iU;for(const n of t)e=e.insert(n.key,n);return e}function sU(t){let e=iU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ji(){return Kf()}function oU(){return Kf()}function Kf(){return new Ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const Die=new u2(Ue.comparator),Aie=new _2(Ue.comparator);function Dt(...t){let e=Aie;for(const n of t)e=e.add(n);return e}const Tie=new _2(bt);function yx(){return Tie}function aU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function cU(t){return{integerValue:""+t}}function lU(t,e){return HB(e)?cU(e):aU(t,e)}class vC{constructor(){this._=void 0}}function Nie(t,e,n){return t instanceof Nl?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&cC(o)&&(o=lC(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(n,e):t instanceof pc?fU(t,e):t instanceof mc?dU(t,e):function(r,o){const c=uU(r,o),u=hU(c)+hU(r.gt);return lx(c)&&lx(r.gt)?cU(u):aU(r.serializer,u)}(t,e)}function kie(t,e,n){return t instanceof pc?fU(t,e):t instanceof mc?dU(t,e):n}function uU(t,e){return t instanceof kl?lx(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Nl extends vC{}class pc extends vC{constructor(e){super(),this.elements=e}}function fU(t,e){const n=pU(e);for(const r of t.elements)n.some(o=>Ui(o,r))||n.push(r);return{arrayValue:{values:n}}}class mc extends vC{constructor(e){super(),this.elements=e}}function dU(t,e){let n=pU(e);for(const r of t.elements)n=n.filter(o=>!Ui(o,r));return{arrayValue:{values:n}}}class kl extends vC{constructor(e,n){super(),this.serializer=e,this.gt=n}}function hU(t){return B2(t.integerValue||t.doubleValue)}function pU(t){return jf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Yf{constructor(e,n){this.field=e,this.transform=n}}class Rie{constructor(e,n){this.version=e,this.transformResults=n}}class z2{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new z2}static exists(e){return new z2(void 0,e)}static updateTime(e){return new z2(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yC(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class CC{}function mU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Rl(t.key,z2.none()):new Pl(t.key,t.data,z2.none());{const n=t.data,r=G1.empty();let o=new _2(F2.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);null===u&&c.length>1&&(c=c.popLast(),u=n.field(c)),null===u?r.delete(c):r.set(c,u),o=o.add(c)}return new Zs(t.key,r,new Fn(o.toArray()),z2.none())}}function Oie(t,e,n){t instanceof Pl?function(r,o,c){const u=r.value.clone(),p=yU(r.fieldTransforms,o,c.transformResults);u.setAll(p),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Zs?function(r,o,c){if(!yC(r.precondition,o))return void o.convertToUnknownDocument(c.version);const u=yU(r.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(vU(r)),p.setAll(u),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Qf(t,e,n,r){return t instanceof Pl?function(o,c,u,p){if(!yC(o.precondition,c))return u;const y=o.value.clone(),b=CU(o.fieldTransforms,p,c);return y.setAll(b),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zs?function(o,c,u,p){if(!yC(o.precondition,c))return u;const y=CU(o.fieldTransforms,p,c),b=c.data;return b.setAll(vU(o)),b.setAll(y),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),null===u?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(H=>H.field))}(t,e,n,r):(u=n,yC(t.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u);var c,u}function Fie(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),c=uU(r.transform,o||null);null!=c&&(null===n&&(n=G1.empty()),n.set(r.field,c))}return n||null}function gU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&El(n,r,(o,c)=>function Pie(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof pc&&r instanceof pc||n instanceof mc&&r instanceof mc?El(n.elements,r.elements,Ui):n instanceof kl&&r instanceof kl?Ui(n.gt,r.gt):n instanceof Nl&&r instanceof Nl);var n,r}(o,c))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Pl extends CC{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Zs extends CC{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yU(t,e,n){const r=new Map;at(t.length===n.length);for(let o=0;o<n.length;o++){const c=t[o],u=c.transform,p=e.data.field(c.field);r.set(c.field,kie(u,p,n[o]))}return r}function CU(t,e,n){const r=new Map;for(const o of t){const c=o.transform,u=n.data.field(o.field);r.set(o.field,Nie(c,u,e))}return r}class Rl extends CC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cx extends CC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _x{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Oie(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oU();return this.mutations.forEach(o=>{const c=e.get(o.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=n.has(o.key)?null:p;const y=mU(u,p);null!==y&&r.set(o.key,y),u.isValidDocument()||u.convertToNoDocument(ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Dt())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(n,r)=>gU(n,r))&&El(this.baseMutations,e.baseMutations,(n,r)=>gU(n,r))}}class Mx{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){at(e.mutations.length===r.length);let o=Die;const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,r[u].version);return new Mx(e,n,r,o)}}class wx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uie{constructor(e,n){this.count=e,this.unchangedNames=n}}var l1,qt;function _U(t){switch(t){default:return Xe();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function MU(t){if(void 0===t)return t1("GRPC error has no .code"),te.UNKNOWN;switch(t){case l1.OK:return te.OK;case l1.CANCELLED:return te.CANCELLED;case l1.UNKNOWN:return te.UNKNOWN;case l1.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case l1.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case l1.INTERNAL:return te.INTERNAL;case l1.UNAVAILABLE:return te.UNAVAILABLE;case l1.UNAUTHENTICATED:return te.UNAUTHENTICATED;case l1.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case l1.NOT_FOUND:return te.NOT_FOUND;case l1.ALREADY_EXISTS:return te.ALREADY_EXISTS;case l1.PERMISSION_DENIED:return te.PERMISSION_DENIED;case l1.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case l1.ABORTED:return te.ABORTED;case l1.OUT_OF_RANGE:return te.OUT_OF_RANGE;case l1.UNIMPLEMENTED:return te.UNIMPLEMENTED;case l1.DATA_LOSS:return te.DATA_LOSS;default:return Xe()}}(qt=l1||(l1={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";class bx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return _C}static getOrCreateInstance(){return null===_C&&(_C=new bx),_C}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let _C=null;function wU(){return new TextEncoder}const jie=new Il([4294967295,4294967295],0);function bU(t){const e=wU().encode(t),n=new kre;return n.update(e),new Uint8Array(n.digest())}function HU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Il([n,r],0),new Il([o,c],0)]}class Hx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jf(`Invalid padding: ${n}`);if(r<0)throw new Jf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Jf(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Jf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Il.fromNumber(this.It)}Et(e,n,r){let o=e.add(n.multiply(Il.fromNumber(r)));return 1===o.compare(jie)&&(o=new Il([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=bU(e),[r,o]=HU(n);for(let c=0;c<this.hashCount;c++){const u=this.Et(r,o,c);if(!this.At(u))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Hx(c,o,n);return r.forEach(p=>u.insert(p)),u}insert(e){if(0===this.It)return;const n=bU(e),[r,o]=HU(n);for(let c=0;c<this.hashCount;c++){const u=this.Et(r,o,c);this.Rt(u)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Jf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xf{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,e9.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xf(ct.min(),o,new u2(bt),Bn(),Dt())}}class e9{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new e9(r,n,Dt(),Dt(),Dt())}}class MC{constructor(e,n,r,o){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=o}}class VU{constructor(e,n){this.targetId=e,this.Vt=n}}class SU{constructor(e,n,r=M1.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class IU{constructor(){this.St=0,this.Dt=EU(),this.Ct=M1.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Dt(),n=Dt(),r=Dt();return this.Dt.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Xe()}}),new e9(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=EU()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class $ie{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Bn(),this.zt=zU(),this.Wt=new u2(bt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,o)=>{this.te(o)&&n(o)})}ne(e){var n;const r=e.targetId,o=e.Vt.count,c=this.se(r);if(c){const u=c.target;if(hC(u))if(0===o){const p=new Ue(u.path);this.Yt(r,p,M2.newNoDocument(p,ct.min()))}else at(1===o);else{const p=this.ie(r);if(p!==o){const y=this.re(e,p);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=bx.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(b,H,I){var N,U,ae,Ce,Me,je;const qe={localCacheCount:H,existenceFilterCount:I.count},Ze=I.unchangedNames;return Ze&&(qe.bloomFilter={applied:0===b,hashCount:null!==(N=Ze?.hashCount)&&void 0!==N?N:0,bitmapLength:null!==(Ce=null===(ae=null===(U=Ze?.bits)||void 0===U?void 0:U.bitmap)||void 0===ae?void 0:ae.length)&&void 0!==Ce?Ce:0,padding:null!==(je=null===(Me=Ze?.bits)||void 0===Me?void 0:Me.padding)&&void 0!==je?je:0}),qe}(y,p,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:c="",padding:u=0},hashCount:p=0}=r;let y,b;try{y=Gs(c).toUint8Array()}catch(H){if(H instanceof TB)return kr("Decoding the base64 bloom filter in existence filter failed ("+H.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw H}try{b=new Hx(y,u,p)}catch(H){return kr(H instanceof Jf?"BloomFilter error: ":"Applying bloom filter failed: ",H),1}return 0===b.It?1:o!==n-this.oe(e.targetId,b)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(c=>{const u=this.Gt.ue(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;n.vt(p)||(this.Yt(e,c,null),o++)}),o}ce(e){const n=new Map;this.Qt.forEach((c,u)=>{const p=this.se(u);if(p){if(c.current&&hC(p.target)){const y=new Ue(p.target.path);null!==this.jt.get(y)||this.ae(u,y)||this.Yt(u,y,M2.newNoDocument(y,e))}c.Mt&&(n.set(u,c.Ot()),c.Ft())}});let r=Dt();this.zt.forEach((c,u)=>{let p=!0;u.forEachWhile(y=>{const b=this.se(y);return!b||"TargetPurposeLimboResolution"===b.purpose||(p=!1,!1)}),p&&(r=r.add(c))}),this.jt.forEach((c,u)=>u.setReadTime(e));const o=new Xf(e,n,this.Wt,this.jt,r);return this.jt=Bn(),this.zt=zU(),this.Wt=new u2(bt),o}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,n)?o.Bt(n,1):o.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new IU,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new _2(bt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Se("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new IU),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function zU(){return new u2(Ue.comparator)}function EU(){return new u2(Ue.comparator)}const Gie={asc:"ASCENDING",desc:"DESCENDING"},qie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wie={and:"AND",or:"OR"};class Zie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vx(t,e){return t.useProto3Json||Of(e)?e:{value:e}}function Ol(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kie(t,e){return Ol(t,e.toTimestamp())}function n1(t){return at(!!t),ct.fromTimestamp(function(e){const n=N4(e);return new I2(n.seconds,n.nanos)}(t))}function Sx(t,e){return(n=t,new Gt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function xU(t){const e=Gt.fromString(t);return at(FU(e)),e}function t9(t,e){return Sx(t.databaseId,e.path)}function $i(t,e){const n=xU(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(AU(n))}function Ix(t,e){return Sx(t.databaseId,e)}function DU(t){const e=xU(t);return 4===e.length?Gt.emptyPath():AU(e)}function n9(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AU(t){return at(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function TU(t,e,n){return{name:t9(t,e),fields:n.value.mapValue.fields}}function NU(t,e,n){const r=$i(t,e.name),o=n1(e.updateTime),c=e.createTime?n1(e.createTime):ct.min(),u=new G1({mapValue:{fields:e.fields}}),p=M2.newFoundDocument(r,o,c,u);return n&&p.setHasCommittedMutations(),n?p.setHasCommittedMutations():p}function r9(t,e){let n;if(e instanceof Pl)n={update:TU(t,e.key,e.value)};else if(e instanceof Rl)n={delete:t9(t,e.key)};else if(e instanceof Zs)n={update:TU(t,e.key,e.data),updateMask:rse(e.fieldMask)};else{if(!(e instanceof Cx))return Xe();n={verify:t9(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const u=c.transform;if(u instanceof Nl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof pc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof mc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof kl)return{fieldPath:c.field.canonicalString(),increment:u.gt};throw Xe()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Kie(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Xe()),n;var o}function zx(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?z2.updateTime(n1(o.updateTime)):void 0!==o.exists?z2.exists(o.exists):z2.none():z2.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,u){let p=null;"setToServerValue"in u?(at("REQUEST_TIME"===u.setToServerValue),p=new Nl):"appendMissingElements"in u?p=new pc(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new mc(u.removeAllFromArray.values||[]):"increment"in u?p=new kl(c,u.increment):Xe();const y=F2.fromServerFormat(u.fieldPath);return new Yf(y,p)}(t,o)):[];var o;if(e.update){const o=$i(t,e.update.name),c=new G1({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Fn((e.updateMask.fieldPaths||[]).map(b=>F2.fromServerFormat(b)));return new Zs(o,c,u,n,r)}return new Pl(o,c,n,r)}if(e.delete){const o=$i(t,e.delete);return new Rl(o,n)}if(e.verify){const o=$i(t,e.verify);return new Cx(o,n)}return Xe()}function kU(t,e){return{documents:[Ix(t,e.path)]}}function Ex(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ix(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ix(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(y){if(0!==y.length)return OU(t2.create(y,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(y){if(0!==y.length)return y.map(b=>{return{field:B4((H=b).field),direction:ese(H.dir)};var H})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=Vx(t,e.limit);var p,y;return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(n.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),n}function PU(t){let e=DU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){at(1===r);const H=n.from[0];H.allDescendants?o=H.collectionId:e=e.child(H.collectionId)}let c=[];n.where&&(c=function(H){const I=RU(H);return I instanceof t2&&fx(I)?I.getFilters():[I]}(n.where));let u=[];n.orderBy&&(u=n.orderBy.map(H=>{return new Dl(Fl((I=H).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let p=null;n.limit&&(p=function(H){let I;return I="object"==typeof H?H.value:H,Of(I)?null:I}(n.limit));let y=null;var H;n.startAt&&(y=new F4((H=n.startAt).values||[],!!H.before));let b=null;return n.endAt&&(b=function(H){return new F4(H.values||[],!H.before)}(n.endAt)),XB(e,o,u,c,p,"F",y,b)}function RU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Fl(e.unaryFilter.field);return Ft.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Fl(e.unaryFilter.field);return Ft.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fl(e.unaryFilter.field);return Ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Fl(e.unaryFilter.field);return Ft.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):void 0!==t.fieldFilter?Ft.create(Fl((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return t2.create(e.compositeFilter.filters.map(n=>RU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Xe()}}(e.compositeFilter.op))}(t):Xe();var e}function ese(t){return Gie[t]}function tse(t){return qie[t]}function nse(t){return Wie[t]}function B4(t){return{fieldPath:t.canonicalString()}}function Fl(t){return F2.fromServerFormat(t.fieldPath)}function OU(t){return t instanceof Ft?function(e){if("=="===e.op){if(PB(e.value))return{unaryFilter:{field:B4(e.field),op:"IS_NAN"}};if(kB(e.value))return{unaryFilter:{field:B4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(PB(e.value))return{unaryFilter:{field:B4(e.field),op:"IS_NOT_NAN"}};if(kB(e.value))return{unaryFilter:{field:B4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:B4(e.field),op:tse(e.op),value:e.value}}}(t):t instanceof t2?function(e){const n=e.getFilters().map(r=>OU(r));return 1===n.length?n[0]:{compositeFilter:{op:nse(e.op),filters:n}}}(t):Xe()}function rse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ks{constructor(e,n,r,o,c=ct.min(),u=ct.min(),p=M1.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BU{constructor(e){this.fe=e}}function UU(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:wC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:t9(o=t.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Ol(o,c.version.toTimestamp()),createTime:Ol(o,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gc(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:n.path.toArray(),version:gc(e.version)}}var o,c;return r}function wC(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function gc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vc(t){const e=new I2(t.seconds,t.nanoseconds);return ct.fromTimestamp(e)}function yc(t,e){const n=(e.baseMutations||[]).map(c=>zx(t.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>zx(t.fe,c)),o=I2.fromMillis(e.localWriteTimeMs);return new _x(e.batchId,o,n,r)}function i9(t){const e=vc(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?vc(t.lastLimboFreeSnapshotVersion):ct.min();let r;var o;return void 0!==t.query.documents?(at(1===(o=t.query).documents.length),r=Vn(Tl(DU(o.documents[0])))):r=Vn(PU(t.query)),new Ks(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,M1.fromBase64String(t.resumeToken))}function jU(t,e){const n=gc(e.snapshotVersion),r=gc(e.lastLimboFreeSnapshotVersion);let o;o=hC(e.target)?kU(t.fe,e.target):Ex(t.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dc(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function Lx(t){const e=PU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?gC(e,e.limit,"L"):e}function xx(t,e){return new wx(e.largestBatchId,zx(t.fe,e.overlayMutation))}function $U(t,e){const n=e.path.lastSegment();return[t,ln(e.path.popLast()),n]}function GU(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:gc(r.readTime),documentKey:ln(r.documentKey.path),largestBatchId:r.largestBatchId}}class sse{getBundleMetadata(e,n){return qU(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:vc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return qU(e).put({bundleId:(r=n).id,createTime:gc(n1(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return WU(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:Lx(o.bundledQuery),readTime:vc(o.readTime)};var o})}saveNamedQuery(e,n){return WU(e).put({name:(r=n).name,readTime:gc(n1(r.readTime)),bundledQuery:r.bundledQuery});var r}}function qU(t){return k1(t,"bundles")}function WU(t){return k1(t,"namedQueries")}class bC{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new bC(e,n.uid||"")}getOverlay(e,n){return s9(e).get($U(this.userId,n)).next(r=>r?xx(this.serializer,r):null)}getOverlays(e,n){const r=ji();return Y.forEach(n,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,n,r){const o=[];return r.forEach((c,u)=>{const p=new wx(n,u);o.push(this.we(e,p))}),Y.waitFor(o)}removeOverlaysForBatchId(e,n,r){const o=new Set;n.forEach(u=>o.add(ln(u.getCollectionPath())));const c=[];return o.forEach(u=>{const p=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);c.push(s9(e).J("collectionPathOverlayIndex",p))}),Y.waitFor(c)}getOverlaysForCollection(e,n,r){const o=ji(),c=ln(n),u=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return s9(e).j("collectionPathOverlayIndex",u).next(p=>{for(const y of p){const b=xx(this.serializer,y);o.set(b.getKey(),b)}return o})}getOverlaysForCollectionGroup(e,n,r,o){const c=ji();let u;const p=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return s9(e).X({index:"collectionGroupOverlayIndex",range:p},(y,b,H)=>{const I=xx(this.serializer,b);c.size()<o||I.largestBatchId===u?(c.set(I.getKey(),I),u=I.largestBatchId):H.done()}).next(()=>c)}we(e,n){return s9(e).put(function(r,o,c){const[u,p,y]=$U(o,c.mutation.key);return{userId:o,collectionPath:p,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:r9(r.fe,c.mutation)}}(this.serializer,this.userId,n))}}function s9(t){return k1(t,"documentOverlays")}class Cc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(B2(e.integerValue));else if("doubleValue"in e){const r=B2(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Ff(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Gs(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?RB(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Xe()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const o of Object.keys(r))this.Te(o,n),this.me(r[o],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const o of r)this.me(o,n)}ve(e,n){this.ye(n,37),Ue.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function ose(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function ZU(t){const e=64-function(n){let r=0;for(let o=0;o<8;++o){const c=ose(255&n[o]);if(r+=c,8!==c)break}return r}(t);return Math.ceil(e/8)}Cc.Ve=new Cc;class ase{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=n.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=n.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const n=this.Fe(e),r=ZU(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=255&n[o]}Le(e){const n=this.Fe(e),r=ZU(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=~(255&n[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let o=1;o<n.length;++o)n[o]^=r?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class cse{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class lse{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class o9{constructor(){this.je=new ase,this.ze=new cse(this.je),this.We=new lse(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class _c{constructor(e,n,r,o){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new _c(this.indexId,this.documentKey,this.arrayValue,r)}}function U4(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=KU(t.arrayValue,e.arrayValue),0!==n?n:(n=KU(t.directionalValue,e.directionalValue),0!==n?n:Ue.comparator(t.documentKey,e.documentKey)))}function KU(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class use{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){at(e.collectionGroup===this.collectionId);const n=rx(e);if(void 0!==n&&!this.en(n))return!1;const r=lc(e);let o=new Set,c=0,u=0;for(;c<r.length&&this.en(r[c]);++c)o=o.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const p=r[c];if(!this.nn(this.Ze,p)||!this.sn(this.Ye[u++],p))return!1}++c}for(;c<r.length;++c)if(u>=this.Ye.length||!this.sn(this.Ye[u++],r[c]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function YU(t){var e,n;if(at(t instanceof Ft||t instanceof t2),t instanceof Ft){if(t instanceof YB){const o=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>Ft.create(t.field,"==",c)))||[];return t2.create(o,"or")}return t}const r=t.filters.map(o=>YU(o));return t2.create(r,t.op)}function fse(t){if(0===t.getFilters().length)return[];const e=Tx(YU(t));return at(QU(e)),Dx(e)||Ax(e)?[e]:e.getFilters()}function Dx(t){return t instanceof Ft}function Ax(t){return t instanceof t2&&fx(t)}function QU(t){return Dx(t)||Ax(t)||function(e){if(e instanceof t2&&ux(e)){for(const n of e.getFilters())if(!Dx(n)&&!Ax(n))return!1;return!0}return!1}(t)}function Tx(t){if(at(t instanceof Ft||t instanceof t2),t instanceof Ft)return t;if(1===t.filters.length)return Tx(t.filters[0]);const e=t.filters.map(r=>Tx(r));let n=t2.create(e,t.op);return n=HC(n),QU(n)?n:(at(n instanceof t2),at(Al(n)),at(n.filters.length>1),n.filters.reduce((r,o)=>Nx(r,o)))}function Nx(t,e){let n;return at(t instanceof Ft||t instanceof t2),at(e instanceof Ft||e instanceof t2),n=t instanceof Ft?e instanceof Ft?t2.create([t,e],"and"):JU(t,e):e instanceof Ft?JU(e,t):function(r,o){if(at(r.filters.length>0&&o.filters.length>0),Al(r)&&Al(o))return WB(r,o.getFilters());const c=ux(r)?r:o,u=ux(r)?o:r,p=c.filters.map(y=>Nx(y,u));return t2.create(p,"or")}(t,e),HC(n)}function JU(t,e){if(Al(e))return WB(e,t.getFilters());{const n=e.filters.map(r=>Nx(t,r));return t2.create(n,"or")}}function HC(t){if(at(t instanceof Ft||t instanceof t2),t instanceof Ft)return t;const e=t.getFilters();if(1===e.length)return HC(e[0]);if(GB(t))return t;const n=e.map(o=>HC(o)),r=[];return n.forEach(o=>{o instanceof Ft?r.push(o):o instanceof t2&&(o.op===t.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:t2.create(r,t.op)}class dse{constructor(){this.rn=new kx}addToCollectionParentIndex(e,n){return this.rn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(mr.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class kx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new _2(Gt.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new _2(Gt.comparator)).toArray()}}const VC=new Uint8Array(0);class hse{constructor(e,n){this.user=e,this.databaseId=n,this.on=new kx,this.un=new Ws(r=>dc(r),(r,o)=>Gf(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const c={collectionId:r,parent:ln(o)};return XU(e).put(c)}return Y.resolve()}getCollectionParents(e,n){const r=[],o=IDBKeyRange.bound([n,""],[yB(n),""],!1,!0);return XU(e).j(o).next(c=>{for(const u of c){if(u.collectionId!==n)break;r.push(Bi(u.parent))}return r})}addFieldIndex(e,n){const r=SC(e),o={indexId:(u=n).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var u;delete o.indexId;const c=r.add(o);if(n.indexState){const u=c9(e);return c.next(p=>{u.put(GU(p,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const r=SC(e),o=c9(e),c=a9(e);return r.delete(n.indexId).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=a9(e);let o=!0;const c=new Map;return Y.forEach(this.cn(n),u=>this.an(e,u).next(p=>{o&&(o=!!p),c.set(u,p)})).next(()=>{if(o){let u=Dt();const p=[];return Y.forEach(c,(y,b)=>{var H;Se("IndexedDbIndexManager",`Using index ${H=y,`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map(Ze=>`${Ze.fieldPath}:${Ze.kind}`).join(",")}`} to execute ${dc(n)}`);const I=function(Ze,st){const lt=rx(st);if(void 0===lt)return null;for(const It of pC(Ze,lt.fieldPath))switch(It.op){case"array-contains-any":return It.value.arrayValue.values||[];case"array-contains":return[It.value]}return null}(b,y),N=function(Ze,st){const lt=new Map;for(const It of lc(st))for(const E2 of pC(Ze,It.fieldPath))switch(E2.op){case"==":case"in":lt.set(It.fieldPath.canonicalString(),E2.value);break;case"not-in":case"!=":return lt.set(It.fieldPath.canonicalString(),E2.value),Array.from(lt.values())}return null}(b,y),U=function(Ze,st){const lt=[];let It=!0;for(const E2 of lc(st)){const ci=0===E2.kind?QB(Ze,E2.fieldPath,Ze.startAt):JB(Ze,E2.fieldPath,Ze.startAt);lt.push(ci.value),It&&(It=ci.inclusive)}return new F4(lt,It)}(b,y),ae=function(Ze,st){const lt=[];let It=!0;for(const E2 of lc(st)){const ci=0===E2.kind?JB(Ze,E2.fieldPath,Ze.endAt):QB(Ze,E2.fieldPath,Ze.endAt);lt.push(ci.value),It&&(It=ci.inclusive)}return new F4(lt,It)}(b,y),Ce=this.hn(y,b,U),Me=this.hn(y,b,ae),je=this.ln(y,b,N),qe=this.fn(y.indexId,I,Ce,U.inclusive,Me,ae.inclusive,je);return Y.forEach(qe,Ze=>r.H(Ze,n.limit).next(st=>{st.forEach(lt=>{const It=Ue.fromSegments(lt.documentKey);u.has(It)||(u=u.add(It),p.push(It))})}))}).next(()=>p)}return Y.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:fse(t2.create(e.filters,"and")).map(r=>hx(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,o,c,u,p){const y=(null!=n?n.length:1)*Math.max(r.length,c.length),b=y/(null!=n?n.length:1),H=[];for(let I=0;I<y;++I){const N=n?this.dn(n[I/b]):VC,U=this.wn(e,N,r[I%b],o),ae=this._n(e,N,c[I%b],u),Ce=p.map(Me=>this.wn(e,N,Me,!0));H.push(...this.createRange(U,ae,Ce))}return H}wn(e,n,r,o){const c=new _c(e,Ue.empty(),n,r);return o?c:c.Je()}_n(e,n,r,o){const c=new _c(e,Ue.empty(),n,r);return o?c.Je():c}an(e,n){const r=new use(n),o=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,o).next(c=>{let u=null;for(const p of c)r.tn(p)&&(!u||p.fields.length>u.fields.length)&&(u=p);return u})}getIndexType(e,n){let r=2;const o=this.cn(n);return Y.forEach(o,c=>this.an(e,c).next(u=>{u?0!==r&&u.fields.length<function(p){let y=new _2(F2.comparator),b=!1;for(const H of p.filters)for(const I of H.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?b=!0:y=y.add(I.field));for(const H of p.orderBy)H.field.isKeyField()||(y=y.add(H.field));return y.size+(b?1:0)}(c)&&(r=1):r=0})).next(()=>null!==n.limit&&o.length>1&&2===r?1:r)}mn(e,n){const r=new o9;for(const o of lc(e)){const c=n.data.field(o.fieldPath);if(null==c)return null;const u=r.He(o.kind);Cc.Ve._e(c,u)}return r.Qe()}dn(e){const n=new o9;return Cc.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new o9;return Cc.Ve._e(fc(this.databaseId,n),r.He(function(o){const c=lc(o);return 0===c.length?0:c[c.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(null===r)return[];let o=[];o.push(new o9);let c=0;for(const u of lc(e)){const p=r[c++];for(const y of o)if(this.yn(n,u.fieldPath)&&jf(p))o=this.pn(o,u,p);else{const b=y.He(u.kind);Cc.Ve._e(p,b)}}return this.In(o)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const o=[...e],c=[];for(const u of r.arrayValue.values||[])for(const p of o){const y=new o9;y.seed(p.Qe()),Cc.Ve._e(u,y.He(n.kind)),c.push(y)}return c}yn(e,n){return!!e.filters.find(r=>r instanceof Ft&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=SC(e),o=c9(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(c=>{const u=[];return Y.forEach(c,p=>o.get([p.indexId,this.uid]).next(y=>{u.push(function(b,H){const I=H?new Pf(H.sequenceNumber,new mr(vc(H.readTime),new Ue(Bi(H.documentKey)),H.largestBatchId)):Pf.empty(),N=b.fields.map(([U,ae])=>new iC(F2.fromServerFormat(U),ae));return new rC(b.indexId,b.collectionGroup,N,I)}(p,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,o)=>{const c=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==c?c:bt(r.collectionGroup,o.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const o=SC(e),c=c9(e);return this.Tn(e).next(u=>o.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(p=>Y.forEach(p,y=>c.put(GU(y.indexId,this.user,u,r)))))}updateIndexEntries(e,n){const r=new Map;return Y.forEach(n,(o,c)=>{const u=r.get(o.collectionGroup);return(u?Y.resolve(u):this.getFieldIndexes(e,o.collectionGroup)).next(p=>(r.set(o.collectionGroup,p),Y.forEach(p,y=>this.En(e,o,y).next(b=>{const H=this.An(c,y);return b.isEqual(H)?Y.resolve():this.vn(e,c,y,b,H)}))))})}Rn(e,n,r,o){return a9(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,o){return a9(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const o=a9(e);let c=new _2(U4);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(u,p)=>{c=c.add(new _c(r.indexId,n,p.arrayValue,p.directionalValue))}).next(()=>c)}An(e,n){let r=new _2(U4);const o=this.mn(n,e);if(null==o)return r;const c=rx(n);if(null!=c){const u=e.data.field(c.fieldPath);if(jf(u))for(const p of u.arrayValue.values||[])r=r.add(new _c(n.indexId,e.key,this.dn(p),o))}else r=r.add(new _c(n.indexId,e.key,VC,o));return r}vn(e,n,r,o,c){Se("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const u=[];return function(p,y,b,H,I){const N=p.getIterator(),U=y.getIterator();let ae=Ll(N),Ce=Ll(U);for(;ae||Ce;){let Me=!1,je=!1;if(ae&&Ce){const qe=b(ae,Ce);qe<0?je=!0:qe>0&&(Me=!0)}else null!=ae?je=!0:Me=!0;Me?(H(Ce),Ce=Ll(U)):je?(I(ae),ae=Ll(N)):(ae=Ll(N),Ce=Ll(U))}}(o,c,U4,p=>{u.push(this.Rn(e,n,r,p))},p=>{u.push(this.Pn(e,n,r,p))}),Y.waitFor(u)}Tn(e){let n=1;return c9(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,c)=>{c.done(),n=o.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((u,p)=>U4(u,p)).filter((u,p,y)=>!p||0!==U4(u,y[p-1]));const o=[];o.push(e);for(const u of r){const p=U4(u,e),y=U4(u,n);if(0===p)o[0]=e.Je();else if(p>0&&y<0)o.push(u),o.push(u.Je());else if(y>0)break}o.push(n);const c=[];for(let u=0;u<o.length;u+=2){if(this.bn(o[u],o[u+1]))return[];c.push(IDBKeyRange.bound([o[u].indexId,this.uid,o[u].arrayValue,o[u].directionalValue,VC,[]],[o[u+1].indexId,this.uid,o[u+1].arrayValue,o[u+1].directionalValue,VC,[]]))}return c}bn(e,n){return U4(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ej)}getMinOffset(e,n){return Y.mapArray(this.cn(n),r=>this.an(e,r).next(o=>o||Xe())).next(ej)}}function XU(t){return k1(t,"collectionParents")}function a9(t){return k1(t,"indexEntries")}function SC(t){return k1(t,"indexConfiguration")}function c9(t){return k1(t,"indexState")}function ej(t){at(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const o=t[r].indexState.offset;ix(o,e)<0&&(e=o),n<o.largestBatchId&&(n=o.largestBatchId)}return new mr(e.readTime,e.documentKey,n)}const tj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class un{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nj(t,e,n){const r=t.store("mutations"),o=t.store("documentMutations"),c=[],u=IDBKeyRange.only(n.batchId);let p=0;const y=r.X({range:u},(H,I,N)=>(p++,N.delete()));c.push(y.next(()=>{at(1===p)}));const b=[];for(const H of n.mutations){const I=IB(e,H.key.path,n.batchId);c.push(o.delete(I)),b.push(H.key)}return Y.waitFor(c).next(()=>b)}function IC(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xe();e=t.noDocument}return JSON.stringify(e).length}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class zC{constructor(e,n,r,o){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,n,r,o){at(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new zC(c,n,r,o)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return j4(e).X({index:"userMutationsIndex",range:r},(o,c,u)=>{n=!1,u.done()}).next(()=>n)}addMutationBatch(e,n,r,o){const c=Bl(e),u=j4(e);return u.add({}).next(p=>{at("number"==typeof p);const y=new _x(p,n,r,o),b=function(N,U,ae){const Ce=ae.baseMutations.map(je=>r9(N.fe,je)),Me=ae.mutations.map(je=>r9(N.fe,je));return{userId:U,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:Ce,mutations:Me}}(this.serializer,this.userId,y),H=[];let I=new _2((N,U)=>bt(N.canonicalString(),U.canonicalString()));for(const N of o){const U=IB(this.userId,N.key.path,p);I=I.add(N.key.path.popLast()),H.push(u.put(b)),H.push(c.put(U,eie))}return I.forEach(N=>{H.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.Vn[p]=y.keys()}),Y.waitFor(H).next(()=>y)})}lookupMutationBatch(e,n){return j4(e).get(n).next(r=>r?(at(r.userId===this.userId),yc(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?Y.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const o=r.keys();return this.Vn[n]=o,o}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return j4(e).X({index:"userMutationsIndex",range:o},(u,p,y)=>{p.userId===this.userId&&(at(p.batchId>=r),c=yc(this.serializer,p)),y.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return j4(e).X({index:"userMutationsIndex",range:n,reverse:!0},(o,c,u)=>{r=c.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return j4(e).j("userMutationsIndex",n).next(r=>r.map(o=>yc(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=oC(this.userId,n.path),o=IDBKeyRange.lowerBound(r),c=[];return Bl(e).X({range:o},(u,p,y)=>{const[b,H,I]=u,N=Bi(H);if(b===this.userId&&n.path.isEqual(N))return j4(e).get(I).next(U=>{if(!U)throw Xe();at(U.userId===this.userId),c.push(yc(this.serializer,U))});y.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _2(bt);const o=[];return n.forEach(c=>{const u=oC(this.userId,c.path),p=IDBKeyRange.lowerBound(u),y=Bl(e).X({range:p},(b,H,I)=>{const[N,U,ae]=b,Ce=Bi(U);N===this.userId&&c.path.isEqual(Ce)?r=r.add(ae):I.done()});o.push(y)}),Y.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1,c=oC(this.userId,r),u=IDBKeyRange.lowerBound(c);let p=new _2(bt);return Bl(e).X({range:u},(y,b,H)=>{const[I,N,U]=y,ae=Bi(N);I===this.userId&&r.isPrefixOf(ae)?ae.length===o&&(p=p.add(U)):H.done()}).next(()=>this.Dn(e,p))}Dn(e,n){const r=[],o=[];return n.forEach(c=>{o.push(j4(e).get(c).next(u=>{if(null===u)throw Xe();at(u.userId===this.userId),r.push(yc(this.serializer,u))}))}),Y.waitFor(o).next(()=>r)}removeMutationBatch(e,n){return nj(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),Y.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Y.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Bl(e).X({range:r},(c,u,p)=>{if(c[0]===this.userId){const y=Bi(c[1]);o.push(y)}else p.done()}).next(()=>{at(0===o.length)})})}containsKey(e,n){return rj(e,this.userId,n)}xn(e){return ij(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rj(t,e,n){const r=oC(e,n.path),o=r[1],c=IDBKeyRange.lowerBound(r);let u=!1;return Bl(t).X({range:c,Y:!0},(p,y,b)=>{const[H,I,N]=p;H===e&&I===o&&(u=!0),b.done()}).next(()=>u)}function j4(t){return k1(t,"mutations")}function Bl(t){return k1(t,"documentMutations")}function ij(t){return k1(t,"mutationQueues")}class Mc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Mc(0)}static Mn(){return new Mc(-1)}}class pse{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new Mc(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>ct.fromTimestamp(new I2(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.On(e,o)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ul(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(at(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let o=0;const c=[];return Ul(e).X((u,p)=>{const y=i9(p);y.sequenceNumber<=n&&null===r.get(y.targetId)&&(o++,c.push(this.removeTargetData(e,y)))}).next(()=>Y.waitFor(c)).next(()=>o)}forEachTarget(e,n){return Ul(e).X((r,o)=>{const c=i9(o);n(c)})}$n(e){return sj(e).get("targetGlobalKey").next(n=>(at(null!==n),n))}On(e,n){return sj(e).put("targetGlobalKey",n)}Fn(e,n){return Ul(e).put(jU(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=dc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Ul(e).X({range:o,index:"queryTargetsIndex"},(u,p,y)=>{const b=i9(p);Gf(n,b.target)&&(c=b,y.done())}).next(()=>c)}addMatchingKeys(e,n,r){const o=[],c=$4(e);return n.forEach(u=>{const p=ln(u.path);o.push(c.put({targetId:r,path:p})),o.push(this.referenceDelegate.addReference(e,r,u))}),Y.waitFor(o)}removeMatchingKeys(e,n,r){const o=$4(e);return Y.forEach(n,c=>{const u=ln(c.path);return Y.waitFor([o.delete([r,u]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,n){const r=$4(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),o=$4(e);let c=Dt();return o.X({range:r,Y:!0},(u,p,y)=>{const b=Bi(u[1]),H=new Ue(b);c=c.add(H)}).next(()=>c)}containsKey(e,n){const r=ln(n.path),o=IDBKeyRange.bound([r],[yB(r)],!1,!0);let c=0;return $4(e).X({index:"documentTargetsIndex",Y:!0,range:o},([u,p],y,b)=>{0!==u&&(c++,b.done())}).next(()=>c>0)}le(e,n){return Ul(e).get(n).next(r=>r?i9(r):null)}}function Ul(t){return k1(t,"targets")}function sj(t){return k1(t,"targetGlobal")}function $4(t){return k1(t,"targetDocuments")}function oj([t,e],[n,r]){const o=bt(t,n);return 0===o?bt(e,r):o}class mse{constructor(e){this.Ln=e,this.buffer=new _2(oj),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();oj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;Se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,G.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){A4(r)?Se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield D4(r)}yield n.Qn(3e5)}))}}class gse{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return Y.resolve(gr.ct);const r=new mse(n);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(tj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tj):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,o,c,u,p,y,b;const H=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,u=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(r=I,p=Date.now(),this.removeTargets(e,r,n))).next(I=>(c=I,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(b=Date.now(),tx()<=ii.in.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-H}ms\n\tDetermined least recently used ${o} in `+(p-u)+`ms\n\tRemoved ${c} targets in `+(y-p)+`ms\n\tRemoved ${I} documents in `+(b-y)+`ms\nTotal Duration: ${b-H}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:I})))}}class vse{constructor(e,n){this.db=e,this.garbageCollector=function cj(t,e){return new gse(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,o)=>n(o))}addReference(e,n,r){return EC(e,r)}removeReference(e,n,r){return EC(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return EC(e,n)}Xn(e,n){return function(r,o){let c=!1;return ij(r).Z(u=>rj(r,u,o).next(p=>(p&&(c=!0),Y.resolve(!p)))).next(()=>c)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Yn(e,(u,p)=>{if(p<=n){const y=this.Xn(e,u).next(b=>{if(!b)return c++,r.getEntry(e,u).next(()=>(r.removeEntry(u,ct.min()),$4(e).delete([0,ln(u.path)])))});o.push(y)}}).next(()=>Y.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return EC(e,n)}Yn(e,n){const r=$4(e);let o,c=gr.ct;return r.X({index:"documentTargetsIndex"},([u,p],{path:y,sequenceNumber:b})=>{0===u?(c!==gr.ct&&n(new Ue(Bi(o)),c),c=b,o=y):c=gr.ct}).next(()=>{c!==gr.ct&&n(new Ue(Bi(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function EC(t,e){return $4(t).put((r=t.currentSequenceNumber,{targetId:0,path:ln(e.path),sequenceNumber:r}));var r}class lj{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,M2.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yse{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return wc(e).put(r)}removeEntry(e,n,r){return wc(e).delete(function(o,c){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],wC(c),u[u.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=M2.newInvalidDocument(n);return wc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(l9(n))},(o,c)=>{r=this.ts(n,c)}).next(()=>r)}es(e,n){let r={size:0,document:M2.newInvalidDocument(n)};return wc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(l9(n))},(o,c)=>{r={document:this.ts(n,c),size:IC(c)}}).next(()=>r)}getEntries(e,n){let r=Bn();return this.ns(e,n,(o,c)=>{const u=this.ts(o,c);r=r.insert(o,u)}).next(()=>r)}ss(e,n){let r=Bn(),o=new u2(Ue.comparator);return this.ns(e,n,(c,u)=>{const p=this.ts(c,u);r=r.insert(c,p),o=o.insert(c,IC(u))}).next(()=>({documents:r,rs:o}))}ns(e,n,r){if(n.isEmpty())return Y.resolve();let o=new _2(hj);n.forEach(y=>o=o.add(y));const c=IDBKeyRange.bound(l9(o.first()),l9(o.last())),u=o.getIterator();let p=u.getNext();return wc(e).X({index:"documentKeyIndex",range:c},(y,b,H)=>{const I=Ue.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&hj(p,I)<0;)r(p,null),p=u.getNext();p&&p.isEqual(I)&&(r(p,b),p=u.hasNext()?u.getNext():null),p?H.G(l9(p)):H.done()}).next(()=>{for(;p;)r(p,null),p=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,n,r,o){const c=n.path,u=[c.popLast().toArray(),c.lastSegment(),wC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wc(e).j(IDBKeyRange.bound(u,p,!0)).next(y=>{let b=Bn();for(const H of y){const I=this.ts(Ue.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);I.isFoundDocument()&&(Wf(n,I)||o.has(I.key))&&(b=b.insert(I.key,I))}return b})}getAllFromCollectionGroup(e,n,r,o){let c=Bn();const u=dj(n,r),p=dj(n,mr.max());return wc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,p,!0)},(y,b,H)=>{const I=this.ts(Ue.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);c=c.insert(I.key,I),c.size===o&&H.done()}).next(()=>c)}newChangeBuffer(e){return new Cse(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return fj(e).get("remoteDocumentGlobalKey").next(n=>(at(!!n),n))}Zn(e,n){return fj(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=function ise(t,e){let n;if(e.document)n=NU(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ue.fromSegments(e.noDocument.path),o=vc(e.noDocument.readTime);n=M2.newNoDocument(r,o),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=Ue.fromSegments(e.unknownDocument.path),o=vc(e.unknownDocument.version);n=M2.newUnknownDocument(r,o)}}return e.readTime&&n.setReadTime(function(r){const o=new I2(r[0],r[1]);return ct.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(ct.min()))return r}return M2.newInvalidDocument(e)}}function uj(t){return new yse(t)}class Cse extends lj{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new Ws(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const n=[];let r=0,o=new _2((c,u)=>bt(c.canonicalString(),u.canonicalString()));return this.changes.forEach((c,u)=>{const p=this.us.get(c);if(n.push(this.os.removeEntry(e,c,p.readTime)),u.isValidDocument()){const y=UU(this.os.serializer,u);o=o.add(c.path.popLast());const b=IC(y);r+=b-p.size,n.push(this.os.addEntry(e,c,y))}else if(r-=p.size,this.trackRemovals){const y=UU(this.os.serializer,u.convertToNoDocument(ct.min()));n.push(this.os.addEntry(e,c,y))}}),o.forEach(c=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.os.updateMetadata(e,r)),Y.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:o})=>(o.forEach((c,u)=>{this.us.set(c,{size:u,readTime:r.get(c).readTime})}),r))}}function fj(t){return k1(t,"remoteDocumentGlobal")}function wc(t){return k1(t,"remoteDocumentsV14")}function l9(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dj(t,e){const n=e.documentKey.path.toArray();return[t,wC(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hj(t,e){const n=t.path.toArray(),r=e.path.toArray();let o=0;for(let c=0;c<n.length-2&&c<r.length-2;++c)if(o=bt(n[c],r[c]),o)return o;return o=bt(n.length,r.length),o||(o=bt(n[n.length-2],r[r.length-2]),o||bt(n[n.length-1],r[r.length-1]))}class _se{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class pj{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(null!==r&&Qf(r.mutation,o,Fn.empty(),I2.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Dt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Dt()){const o=ji();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(c=>{let u=Zf();return c.forEach((p,y)=>{u=u.insert(p,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Dt()))}populateOverlays(e,n,r){const o=[];return r.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((u,p)=>{n.set(u,p)})})}computeViews(e,n,r,o){let c=Bn();const u=Kf(),p=Kf();return n.forEach((y,b)=>{const H=r.get(b.key);o.has(b.key)&&(void 0===H||H.mutation instanceof Zs)?c=c.insert(b.key,b):void 0!==H?(u.set(b.key,H.mutation.getFieldMask()),Qf(H.mutation,b,H.mutation.getFieldMask(),I2.now())):u.set(b.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((b,H)=>u.set(b,H)),n.forEach((b,H)=>{var I;return p.set(b,new _se(H,null!==(I=u.get(b))&&void 0!==I?I:null))}),p))}recalculateAndSaveOverlays(e,n){const r=Kf();let o=new u2((u,p)=>u-p),c=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const p of u)p.keys().forEach(y=>{const b=n.get(y);if(null===b)return;let H=r.get(y)||Fn.empty();H=p.applyToLocalView(b,H),r.set(y,H);const I=(o.get(p.batchId)||Dt()).add(y);o=o.insert(p.batchId,I)})}).next(()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),b=y.key,H=y.value,I=oU();H.forEach(N=>{if(!c.has(N)){const U=mU(n.get(N),r.get(N));null!==U&&I.set(N,U),c=c.add(N)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,I))}return Y.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return Ue.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):mx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var o}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):Y.resolve(ji());let p=-1,y=c;return u.next(b=>Y.forEach(b,(H,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),c.get(H)?Y.resolve():this.remoteDocumentCache.getEntry(e,H).next(N=>{y=y.insert(H,N)}))).next(()=>this.populateOverlays(e,b,c)).next(()=>this.computeViews(e,y,b,Dt())).next(H=>({batchId:p,changes:sU(H)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next(r=>{let o=Zf();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const o=n.collectionGroup;let c=Zf();return this.indexManager.getCollectionParents(e,o).next(u=>Y.forEach(u,p=>{const y=(b=n,H=p.child(o),new qs(H,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,H;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(b=>{b.forEach((H,I)=>{c=c.insert(H,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o))).next(c=>{o.forEach((p,y)=>{const b=y.getKey();null===c.get(b)&&(c=c.insert(b,M2.newInvalidDocument(b)))});let u=Zf();return c.forEach((p,y)=>{const b=o.get(p);void 0!==b&&Qf(b.mutation,y,Fn.empty(),I2.now()),Wf(n,y)&&(u=u.insert(p,y))}),u})}}class Mse{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Y.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:n1(r.createTime)}),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:Lx(r.bundledQuery),readTime:n1(r.readTime)}),Y.resolve();var r}}class wse{constructor(){this.overlays=new u2(Ue.comparator),this.ls=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ji();return Y.forEach(n,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,c)=>{this.we(e,n,c)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const o=ji(),c=n.length+1,u=new Ue(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const y=p.getNext().value,b=y.getKey();if(!n.isPrefixOf(b.path))break;b.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new u2((b,H)=>b-H);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===n&&b.largestBatchId>r){let H=c.get(b.largestBatchId);null===H&&(H=ji(),c=c.insert(b.largestBatchId,H)),H.set(b.getKey(),b)}}const p=ji(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,H)=>p.set(b,H)),!(p.size()>=o)););return Y.resolve(p)}we(e,n,r){const o=this.overlays.get(r.key);if(null!==o){const u=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new wx(n,r));let c=this.ls.get(n);void 0===c&&(c=Dt(),this.ls.set(n,c)),this.ls.set(n,c.add(r.key))}}class Px{constructor(){this.fs=new _2(P1.ds),this.ws=new _2(P1._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new P1(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new P1(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Ue(new Gt([])),r=new P1(n,e),o=new P1(n,e+1),c=[];return this.ws.forEachInRange([r,o],u=>{this.ys(u),c.push(u.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Ue(new Gt([])),r=new P1(n,e),o=new P1(n,e+1);let c=Dt();return this.ws.forEachInRange([r,o],u=>{c=c.add(u.key)}),c}containsKey(e){const n=new P1(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class P1{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Ue.comparator(e.key,n.key)||bt(e.As,n.As)}static _s(e,n){return bt(e.As,n.As)||Ue.comparator(e.key,n.key)}}class bse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new _2(P1.ds)}checkEmpty(e){return Y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,o){const c=this.vs;this.vs++;const u=new _x(c,n,r,o);this.mutationQueue.push(u);for(const p of o)this.Rs=this.Rs.add(new P1(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,n){return Y.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const o=this.bs(n+1),c=o<0?0:o;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new P1(n,0),o=new P1(n,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([r,o],u=>{const p=this.Ps(u.As);c.push(p)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _2(bt);return n.forEach(o=>{const c=new P1(o,0),u=new P1(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,u],p=>{r=r.add(p.As)})}),Y.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;Ue.isDocumentKey(c)||(c=c.child(""));const u=new P1(new Ue(c),0);let p=new _2(bt);return this.Rs.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===o&&(p=p.add(y.As)),!0)},u),Y.resolve(this.Vs(p))}Vs(e){const n=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&n.push(o)}),n}removeMutationBatch(e,n){at(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Y.forEach(n.mutations,o=>{const c=new P1(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new P1(n,0),o=this.Rs.firstAfterOrEqual(r);return Y.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return Y.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Hse{constructor(e){this.Ds=e,this.docs=new u2(Ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,u=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():M2.newInvalidDocument(n))}getEntries(e,n){let r=Bn();return n.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():M2.newInvalidDocument(o))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Bn();const u=n.path,p=new Ue(u.child("")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:b,value:{document:H}}=y.getNext();if(!u.isPrefixOf(b.path))break;b.path.length>u.length+1||ix(_B(H),r)<=0||(o.has(H.key)||Wf(n,H))&&(c=c.insert(H.key,H.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Xe()}Cs(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Vse(this)}getSize(e){return Y.resolve(this.size)}}class Vse extends lj{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Sse{constructor(e){this.persistence=e,this.xs=new Ws(n=>dc(n),Gf),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Px,this.targetCount=0,this.Ms=Mc.kn()}forEachTarget(e,n){return this.xs.forEach((r,o)=>n(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Y.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Mc(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Fn(n),Y.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.xs.forEach((u,p)=>{p.sequenceNumber<=n&&null===r.get(p.targetId)&&(this.xs.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),Y.waitFor(c).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(u=>{c.push(o.markPotentiallyOrphaned(e,u))}),Y.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.ks.containsKey(n))}}class Rx{constructor(e,n){this.$s={},this.overlays={},this.Os=new gr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Sse(this),this.indexManager=new dse,this.remoteDocumentCache=new Hse(r=>this.referenceDelegate.Ls(r)),this.serializer=new BU(n),this.qs=new Mse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new bse(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const o=new Ise(this.Os.next());return this.referenceDelegate.Us(),r(o).next(c=>this.referenceDelegate.Ks(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Gs(e,n){return Y.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Ise extends wB{constructor(e){super(),this.currentSequenceNumber=e}}class LC{constructor(e){this.persistence=e,this.Qs=new Px,this.js=null}static zs(e){return new LC(e)}get Ws(){if(this.js)return this.js;throw Xe()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.Ws.add(c.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Ws,r=>{const o=Ue.fromPath(r);return this.Hs(e,o).next(c=>{c||n.removeEntry(o,ct.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Y.or([()=>Y.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class zse{constructor(e){this.serializer=e}O(e,n,r,o){const c=new sC("createOrUpgrade",n);var p;r<1&&o>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",SB,{unique:!0}),p.createObjectStore("documentMutations"),mj(e),function(p){p.createObjectStore("remoteDocuments")}(e));let u=Y.resolve();return r<3&&o>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),mj(e)),u=u.next(()=>function(p){const y=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ct.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(c))),r<4&&o>=4&&(0!==r&&(u=u.next(()=>function(p,y){return y.store("mutations").j().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",SB,{unique:!0});const H=y.store("mutations"),I=b.map(N=>H.put(N));return Y.waitFor(I)})}(e,c))),u=u.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(u=u.next(()=>this.Ys(c))),r<6&&o>=6&&(u=u.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),r<7&&o>=7&&(u=u.next(()=>this.Zs(c))),r<8&&o>=8&&(u=u.next(()=>this.ti(e,c))),r<9&&o>=9&&(u=u.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(u=u.next(()=>this.ei(c))),r<11&&o>=11&&(u=u.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(u=u.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:die});y.createIndex("collectionPathOverlayIndex",hie,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",pie,{unique:!1})}(e)})),r<13&&o>=13&&(u=u.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:tie});y.createIndex("documentKeyIndex",nie),y.createIndex("collectionGroupIndex",rie)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(u=u.next(()=>this.si(e,c))),r<15&&o>=15&&(u=u.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:cie}).createIndex("sequenceNumberIndex",lie,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:uie}).createIndex("documentKeyIndex",fie,{unique:!1})}(e))),u}Xs(e){let n=0;return e.store("remoteDocuments").X((r,o)=>{n+=IC(o)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(o=>Y.forEach(o,c=>{const u=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(p=>Y.forEach(p,y=>{at(y.userId===c.userId);const b=yc(this.serializer,y);return nj(e,c.userId,b).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const c=[];return r.X((u,p)=>{const y=new Gt(u),b=[0,ln(y)];c.push(n.get(b).next(H=>H?Y.resolve():n.put({targetId:0,path:ln(y),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Y.waitFor(c))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:aie});const r=n.store("collectionParents"),o=new kx,c=u=>{if(o.add(u)){const p=u.lastSegment(),y=u.popLast();return r.put({collectionId:p,parent:ln(y)})}};return n.store("remoteDocuments").X({Y:!0},(u,p)=>{const y=new Gt(u);return c(y.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([u,p,y],b)=>{const H=Bi(p);return c(H.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,o)=>{const c=i9(o),u=jU(this.serializer,c);return n.put(u)})}ni(e,n){const r=n.store("remoteDocuments"),o=[];return r.X((c,u)=>{const p=n.store("remoteDocumentsV14"),y=(b=u,b.document?new Ue(Gt.fromString(b.document.name).popFirst(5)):b.noDocument?Ue.fromSegments(b.noDocument.path):b.unknownDocument?Ue.fromSegments(b.unknownDocument.path):Xe()).path.toArray();var b;const H={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};o.push(p.put(H))}).next(()=>Y.waitFor(o))}si(e,n){const r=n.store("mutations"),o=uj(this.serializer),c=new Rx(LC.zs,this.serializer.fe);return r.j().next(u=>{const p=new Map;return u.forEach(y=>{var b;let H=null!==(b=p.get(y.userId))&&void 0!==b?b:Dt();yc(this.serializer,y).keys().forEach(I=>H=H.add(I)),p.set(y.userId,H)}),Y.forEach(p,(y,b)=>{const H=new N1(b),I=bC.de(this.serializer,H),N=c.getIndexManager(H),U=zC.de(H,this.serializer,N,c.referenceDelegate);return new pj(o,U,I,N).recalculateAndSaveOverlaysForDocumentKeys(new ax(n,gr.ct),y).next()})})}}function mj(t){t.createObjectStore("targetDocuments",{keyPath:sie}).createIndex("documentTargetsIndex",oie,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",iie,{unique:!0}),t.createObjectStore("targetGlobal")}const Ox="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fx{constructor(e,n,r,o,c,u,p,y,b,H,I=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=c,this.window=u,this.document=p,this.ri=b,this.oi=H,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=N=>Promise.resolve(),!Fx.D())throw new ye(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vse(this,o),this.di=n+"main",this.serializer=new BU(y),this.wi=new ai(this.di,this.ui,new zse(this.serializer)),this.Bs=new pse(this.referenceDelegate,this.serializer),this.remoteDocumentCache=uj(this.serializer),this.qs=new sse,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===H&&t1("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ye(te.FAILED_PRECONDITION,Ox);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new gr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var r=(0,G.Z)(function*(o){if(n.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,G.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,G.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>DC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(A4(e))return Se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return u9(e).get("owner").next(n=>Y.resolve(this.Ri(n)))}Pi(e){return DC(e).delete(this.clientId)}bi(){var e=this;return(0,G.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=k1(r,"clientMetadata");return o.j().next(c=>{const u=e.Si(c,18e5),p=c.filter(y=>-1===u.indexOf(y));return Y.forEach(p,y=>o.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e._i)for(const r of n)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Y.resolve(!0):u9(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new ye(te.FAILED_PRECONDITION,Ox);return!1}}return!(!this.networkEnabled||!this.inForeground)||DC(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Se("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,G.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new ax(n,gr.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>DC(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return zC.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hse(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return bC.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){Se("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===n?"readonly":"readwrite",c=15===(u=this.ui)?gie:14===u?LB:13===u?EB:12===u?mie:11===u?zB:void Xe();var u;let p;return this.wi.runTransaction(e,o,c,y=>(p=new ax(y,this.Os?this.Os.next():gr.ct),"readwrite-primary"===n?this.Ti(p).next(b=>!!b||this.Ei(p)).next(b=>{if(!b)throw t1(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ye(te.FAILED_PRECONDITION,MB);return r(p)}).next(b=>this.vi(p).next(()=>b)):this.Oi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Oi(e){return u9(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ye(te.FAILED_PRECONDITION,Ox)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return u9(e).put("owner",n)}static D(){return ai.D()}Ai(e){const n=u9(e);return n.get("owner").next(r=>this.Ri(r)?(Se("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Y.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n||e>r&&(t1(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,tt.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return Se("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return t1("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){t1("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function u9(t){return k1(t,"owner")}function DC(t){return k1(t,"clientMetadata")}function Bx(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class Ux{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=o}static Li(e,n){let r=Dt(),o=Dt();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Ux(e,n.fromCache,r,o)}}class gj{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,o){return this.Ki(e,n).next(c=>c||this.Gi(e,n,o,r)).next(c=>c||this.Qi(e,n))}Ki(e,n){if(eU(n))return Y.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==n.limit&&1===o&&(n=gC(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const u=Dt(...c);return this.Ui.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const b=this.ji(n,p);return this.zi(n,b,u,y.readTime)?this.Ki(e,gC(n,null,"F")):this.Wi(e,b,n,y)}))})))}Gi(e,n,r,o){return eU(n)||o.isEqual(ct.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(c=>{const u=this.ji(n,c);return this.zi(n,u,r,o)?this.Qi(e,n):(tx()<=ii.in.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vx(n)),this.Wi(e,u,n,CB(o,-1)))})}ji(e,n){let r=new _2(rU(e));return n.forEach((o,c)=>{Wf(e,c)&&(r=r.add(c))}),r}zi(e,n,r,o){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Qi(e,n){return tx()<=ii.in.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",vx(n)),this.Ui.getDocumentsMatchingQuery(e,n,mr.min())}Wi(e,n,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(c=>(n.forEach(u=>{c=c.insert(u.key,u)}),c))}}class Ese{constructor(e,n,r,o){this.persistence=e,this.Hi=n,this.serializer=o,this.Ji=new u2(bt),this.Yi=new Ws(c=>dc(c),Gf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function vj(t,e,n,r){return new Ese(t,e,n,r)}function yj(t,e){return jx.apply(this,arguments)}function jx(){return jx=(0,G.Z)(function*(t,e){const n=Ge(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const u=[],p=[];let y=Dt();for(const b of o){u.push(b.batchId);for(const H of b.mutations)y=y.add(H.key)}for(const b of c){p.push(b.batchId);for(const H of b.mutations)y=y.add(H.key)}return n.localDocuments.getDocuments(r,y).next(b=>({er:b,removedBatchIds:u,addedBatchIds:p}))})})}),jx.apply(this,arguments)}function Cj(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function _j(t,e,n){let r=Dt(),o=Dt();return n.forEach(c=>r=r.add(c)),e.getEntries(t,r).next(c=>{let u=Bn();return n.forEach((p,y)=>{const b=c.get(p);y.isFoundDocument()!==b.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(ct.min())?(e.removeEntry(p,y.readTime),u=u.insert(p,y)):!b.isValidDocument()||y.version.compareTo(b.version)>0||0===y.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(y),u=u.insert(p,y)):Se("LocalStore","Ignoring outdated watch update for ",p,". Current version:",b.version," Watch version:",y.version)}),{nr:u,sr:o}})}function Dse(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jl(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Bs.getTargetData(r,e).next(c=>c?(o=c,Y.resolve(o)):n.Bs.allocateTargetId(r).next(u=>(o=new Ks(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}function $l(t,e,n){return $x.apply(this,arguments)}function $x(){return $x=(0,G.Z)(function*(t,e,n){const r=Ge(t),o=r.Ji.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",c,u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!A4(u))throw u;Se("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),$x.apply(this,arguments)}function AC(t,e,n){const r=Ge(t);let o=ct.min(),c=Dt();return r.persistence.runTransaction("Execute query","readonly",u=>function(p,y,b){const H=Ge(p),I=H.Yi.get(b);return void 0!==I?Y.resolve(H.Ji.get(I)):H.Bs.getTargetData(y,b)}(r,u,Vn(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,p.targetId).next(y=>{c=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,n?o:ct.min(),n?c:Dt())).next(p=>(bj(r,nU(e),p),{documents:p,ir:c})))}function Mj(t,e){const n=Ge(t),r=Ge(n.Bs),o=n.Ji.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",c=>r.le(c,e).next(u=>u?u.target:null))}function wj(t,e){const n=Ge(t),r=n.Xi.get(e)||ct.min();return n.persistence.runTransaction("Get new document changes","readonly",o=>n.Zi.getAllFromCollectionGroup(o,e,CB(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(bj(n,e,o),o))}function bj(t,e,n){let r=t.Xi.get(e)||ct.min();n.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),t.Xi.set(e,r)}function Gx(){return Gx=(0,G.Z)(function*(t,e,n,r){const o=Ge(t);let c=Dt(),u=Bn();for(const b of n){const H=e.rr(b.metadata.name);b.document&&(c=c.add(H));const I=e.ur(b);I.setReadTime(e.cr(b.metadata.readTime)),u=u.insert(H,I)}const p=o.Zi.newChangeBuffer({trackRemovals:!0}),y=yield jl(o,(b=r,Vn(Tl(Gt.fromString(`__bundle__/docs/${b}`)))));var b;return o.persistence.runTransaction("Apply bundle documents","readwrite",b=>_j(b,p,u).next(H=>(p.apply(b),H)).next(H=>o.Bs.removeMatchingKeysForTargetId(b,y.targetId).next(()=>o.Bs.addMatchingKeys(b,c,y.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(b,H.nr,H.sr)).next(()=>H.nr)))}),Gx.apply(this,arguments)}function Tse(t,e){return qx.apply(this,arguments)}function qx(){return qx=(0,G.Z)(function*(t,e,n=Dt()){const r=yield jl(t,Vn(Lx(e.bundledQuery))),o=Ge(t);return o.persistence.runTransaction("Save named query","readwrite",c=>{const u=n1(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return o.qs.saveNamedQuery(c,e);const p=r.withResumeToken(M1.EMPTY_BYTE_STRING,u);return o.Ji=o.Ji.insert(p.targetId,p),o.Bs.updateTargetData(c,p).next(()=>o.Bs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.Bs.addMatchingKeys(c,n,r.targetId)).next(()=>o.qs.saveNamedQuery(c,e))})}),qx.apply(this,arguments)}function Hj(t,e){return`firestore_clients_${t}_${e}`}function Vj(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Wx(t,e){return`firestore_targets_${t}_${e}`}class TC{constructor(e,n,r,o){this.user=e,this.batchId=n,this.state=r,this.error=o}static ar(e,n,r){const o=JSON.parse(r);let c,u="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(c=new ye(o.error.code,o.error.message))),u?new TC(e,n,o.state,c):(t1("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class f9{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new ye(r.error.code,r.error.message))),c?new f9(e,r.state,o):(t1("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class NC{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=yx();for(let u=0;o&&u<r.activeTargetIds.length;++u)o=HB(r.activeTargetIds[u]),c=c.add(r.activeTargetIds[u]);return o?new NC(e,c):(t1("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Zx{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Zx(n.clientId,n.onlineState):(t1("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Kx{constructor(){this.activeTargetIds=yx()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yx{constructor(e,n,r,o,c){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new u2(bt),this.started=!1,this.yr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=Hj(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Kx),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,G.Z)(function*(){const n=yield e.syncEngine.$i();for(const o of n){if(o===e.wr)continue;const c=e.getItem(Hj(e.persistenceKey,o));if(c){const u=NC.ar(o,c);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Wx(this.persistenceKey,e));if(r){const o=f9.ar(e,r);o&&(n=o.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Wx(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Se("SharedClientState","READ",e,n),n}setItem(e,n){Se("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Se("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void t1("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,G.Z)(function*(){if(n.started){if(null!==r.key)if(n.Tr.test(r.key)){if(null==r.newValue){const o=n.Or(r.key);return n.Fr(o,null)}{const o=n.Br(r.key,r.newValue);if(o)return n.Fr(o.clientId,o)}}else if(n.Er.test(r.key)){if(null!==r.newValue){const o=n.Lr(r.key,r.newValue);if(o)return n.qr(o)}}else if(n.Ar.test(r.key)){if(null!==r.newValue){const o=n.Ur(r.key,r.newValue);if(o)return n.Kr(o)}}else if(r.key===n.vr){if(null!==r.newValue){const o=n.br(r.newValue);if(o)return n.Vr(o)}}else if(r.key===n.Ir){const o=function(c){let u=gr.ct;if(null!=c)try{const p=JSON.parse(c);at("number"==typeof p),u=p}catch(p){t1("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(r.newValue);o!==gr.ct&&n.sequenceNumberHandler(o)}else if(r.key===n.Rr){const o=n.Gr(r.newValue);yield Promise.all(o.map(c=>n.syncEngine.Qr(c)))}}else n.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const o=new TC(this.currentUser,e,n,r),c=Vj(this.persistenceKey,this.currentUser,e);this.setItem(c,o.hr())}Cr(e){const n=Vj(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,r){const o=Wx(this.persistenceKey,e),c=new f9(e,n,r);this.setItem(o,c.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return NC.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),o=Number(r[1]);return TC.ar(new N1(void 0!==r[2]?r[2]:null),o,n)}Ur(e,n){const r=this.Ar.exec(e),o=Number(r[1]);return f9.ar(o,n)}br(e){return Zx.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,G.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);Se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),o=this.Sr(this.gr),c=this.Sr(r),u=[],p=[];return c.forEach(y=>{o.has(y)||u.push(y)}),o.forEach(y=>{c.has(y)||p.push(y)}),this.syncEngine.Wr(u,p).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=yx();return e.forEach((r,o)=>{n=n.unionWith(o.activeTargetIds)}),n}}class Sj{constructor(){this.Hr=new Kx,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Kx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nse{Yr(e){}shutdown(){}}class Ij{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kC=null;function Qx(){return null===kC?kC=268435456+Math.round(2147483648*Math.random()):kC++,"0x"+kC.toString(16)}const kse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pse{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const fn="WebChannelConnection";class Rse extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,o,c){const u=Qx(),p=this.To(e,n);Se("RestConnection",`Sending RPC '${e}' ${u}:`,p,r);const y={};return this.Eo(y,o,c),this.Ao(e,p,y,r).then(b=>(Se("RestConnection",`Received RPC '${e}' ${u}: `,b),b),b=>{throw kr("RestConnection",`RPC '${e}' ${u} failed with error: `,b,"url: ",p,"request:",r),b})}vo(e,n,r,o,c,u){return this.Io(e,n,r,o,c)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}To(e,n){return`${this.mo}/v1/${n}:${kse[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,o){const c=Qx();return new Promise((u,p)=>{const y=new Nre;y.setWithCredentials(!0),y.listenOnce(Dre.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case ex.NO_ERROR:const H=y.getResponseJson();Se(fn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(H)),u(H);break;case ex.TIMEOUT:Se(fn,`RPC '${e}' ${c} timed out`),p(new ye(te.DEADLINE_EXCEEDED,"Request time out"));break;case ex.HTTP_ERROR:const I=y.getStatus();if(Se(fn,`RPC '${e}' ${c} failed with status:`,I,"response text:",y.getResponseText()),I>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const ae=function(Ce){const Me=Ce.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Me)>=0?Me:te.UNKNOWN}(U.status);p(new ye(ae,U.message))}else p(new ye(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ye(te.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Se(fn,`RPC '${e}' ${c} completed.`)}});const b=JSON.stringify(o);Se(fn,`RPC '${e}' ${c} sending request:`,o),y.send(n,"POST",b,r,15)})}Ro(e,n,r){const o=Qx(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Lre(),p=xre(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(y.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(y.xmlHttpFactory=new Tre({})),this.Eo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const H=c.join("");Se(fn,`Creating RPC '${e}' stream ${o}: ${H}`,y);const I=u.createWebChannel(H,y);let N=!1,U=!1;const ae=new Pse({ro:Me=>{U?Se(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,Me):(N||(Se(fn,`Opening RPC '${e}' stream ${o} transport.`),I.open(),N=!0),Se(fn,`RPC '${e}' stream ${o} sending:`,Me),I.send(Me))},oo:()=>I.close()}),Ce=(Me,je,qe)=>{Me.listen(je,Ze=>{try{qe(Ze)}catch(st){setTimeout(()=>{throw st},0)}})};return Ce(I,nC.EventType.OPEN,()=>{U||Se(fn,`RPC '${e}' stream ${o} transport opened.`)}),Ce(I,nC.EventType.CLOSE,()=>{U||(U=!0,Se(fn,`RPC '${e}' stream ${o} transport closed`),ae.wo())}),Ce(I,nC.EventType.ERROR,Me=>{U||(U=!0,kr(fn,`RPC '${e}' stream ${o} transport errored:`,Me),ae.wo(new ye(te.UNAVAILABLE,"The operation could not be completed")))}),Ce(I,nC.EventType.MESSAGE,Me=>{var je;if(!U){const qe=Me.data[0];at(!!qe);const st=qe.error||(null===(je=qe[0])||void 0===je?void 0:je.error);if(st){Se(fn,`RPC '${e}' stream ${o} received error:`,st);const lt=st.status;let It=function(ci){const li=l1[ci];if(void 0!==li)return MU(li)}(lt),E2=st.message;void 0===It&&(It=te.INTERNAL,E2="Unknown error status: "+lt+" with message "+st.message),U=!0,ae.wo(new ye(It,E2)),I.close()}else Se(fn,`RPC '${e}' stream ${o} received:`,qe),ae._o(qe)}}),Ce(p,Are.STAT_EVENT,Me=>{Me.stat===hB.PROXY?Se(fn,`RPC '${e}' stream ${o} detected buffering proxy`):Me.stat===hB.NOPROXY&&Se(fn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{ae.fo()},0),ae}}function zj(){return typeof window<"u"?window:null}function PC(){return typeof document<"u"?document:null}function d9(t){return new Zie(t,!0)}class Jx{constructor(e,n,r=1e3,o=1.5,c=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=o,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,n-r);o>0&&Se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Ej{constructor(e,n,r,o,c,u,p,y){this.ii=e,this.$o=r,this.Oo=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Jx(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,G.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,G.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,G.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(t1(n.toString()),t1("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===te.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===n&&this.Zo(r,o)},r=>{e(()=>{const o=new ye(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,G.Z)(function*(){e.state=0,e.start()}))}tu(e){return Se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ose extends Ej{constructor(e,n,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Qie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Xe(),o=e.targetChange.targetIds||[],c=function(y,b){return y.useProto3Json?(at(void 0===b||"string"==typeof b),M1.fromBase64String(b||"")):(at(void 0===b||b instanceof Uint8Array),M1.fromUint8Array(b||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(y){const b=void 0===y.code?te.UNKNOWN:MU(y.code);return new ye(b,y.message||"")}(u);n=new SU(r,o,c,p||null)}else if("documentChange"in e){const r=e.documentChange,o=$i(t,r.document.name),c=n1(r.document.updateTime),u=r.document.createTime?n1(r.document.createTime):ct.min(),p=new G1({mapValue:{fields:r.document.fields}}),y=M2.newFoundDocument(o,c,u,p);n=new MC(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,o=$i(t,r.document),c=r.readTime?n1(r.readTime):ct.min(),u=M2.newNoDocument(o,c);n=new MC([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,o=$i(t,r.document);n=new MC([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,{count:o=0,unchangedNames:c}=r,u=new Uie(o,c);n=new VU(r.targetId,u)}}var y;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return ct.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?ct.min():c.readTime?n1(c.readTime):ct.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=n9(this.serializer),n.addTarget=function(o,c){let u;const p=c.target;if(u=hC(p)?{documents:kU(o,p)}:{query:Ex(o,p)},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=LU(o,c.resumeToken);const y=Vx(o,c.expectedCount);null!==y&&(u.expectedCount=y)}else if(c.snapshotVersion.compareTo(ct.min())>0){u.readTime=Ol(o,c.snapshotVersion.toTimestamp());const y=Vx(o,c.expectedCount);null!==y&&(u.expectedCount=y)}return u}(this.serializer,e);const r=function Xie(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=n9(this.serializer),n.removeTarget=e,this.Wo(n)}}class Fse extends Ej{constructor(e,n,r,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,u),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Jie(t,e){return t&&t.length>0?(at(void 0!==e),t.map(n=>function(r,o){let c=n1(r.updateTime?r.updateTime:o);return c.isEqual(ct.min())&&(c=n1(o)),new Rie(c,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=n1(e.commitTime);return this.listener.cu(r,n)}return at(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=n9(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>r9(this.serializer,r))};this.Wo(n)}}class Bse extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Io(e,n,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(te.UNKNOWN,o.toString())})}vo(e,n,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.vo(e,n,r,c,u,o)).catch(c=>{throw"FirebaseError"===c.name?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(te.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class jse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(t1(n),this.mu=!1):Se("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class $se{constructor(e,n,r,o,c){var u=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(p=>{r.enqueueAndForget((0,G.Z)(function*(){var y;G4(u)&&(Se("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,G.Z)(function*(b){const H=Ge(b);H.vu.add(4),yield Gl(H),H.bu.set("Unknown"),H.vu.delete(4),yield h9(H)}),function(b){return y.apply(this,arguments)})(u))}))}),this.bu=new jse(r,o)}}function h9(t){return eD.apply(this,arguments)}function eD(){return eD=(0,G.Z)(function*(t){if(G4(t))for(const e of t.Ru)yield e(!0)}),eD.apply(this,arguments)}function Gl(t){return tD.apply(this,arguments)}function tD(){return tD=(0,G.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),tD.apply(this,arguments)}function RC(t,e){const n=Ge(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),iD(n)?rD(n):Wl(n).Ko()&&nD(n,e))}function p9(t,e){const n=Ge(t),r=Wl(n);n.Au.delete(e),r.Ko()&&Lj(n,e),0===n.Au.size&&(r.Ko()?r.jo():G4(n)&&n.bu.set("Unknown"))}function nD(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wl(t).su(e)}function Lj(t,e){t.Vu.qt(e),Wl(t).iu(e)}function rD(t){t.Vu=new $ie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Wl(t).start(),t.bu.gu()}function iD(t){return G4(t)&&!Wl(t).Uo()&&t.Au.size>0}function G4(t){return 0===Ge(t).vu.size}function xj(t){t.Vu=void 0}function Gse(t){return sD.apply(this,arguments)}function sD(){return sD=(0,G.Z)(function*(t){t.Au.forEach((e,n)=>{nD(t,e)})}),sD.apply(this,arguments)}function qse(t,e){return oD.apply(this,arguments)}function oD(){return oD=(0,G.Z)(function*(t,e){xj(t),iD(t)?(t.bu.Iu(e),rD(t)):t.bu.set("Unknown")}),oD.apply(this,arguments)}function Wse(t,e,n){return aD.apply(this,arguments)}function aD(){return aD=(0,G.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof SU&&2===e.state&&e.cause)try{yield(r=(0,G.Z)(function*(o,c){const u=c.cause;for(const p of c.targetIds)o.Au.has(p)&&(yield o.remoteSyncer.rejectListen(p,u),o.Au.delete(p),o.Vu.removeTarget(p))}),function(o,c){return r.apply(this,arguments)})(t,e)}catch(r){Se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield OC(t,r)}else if(e instanceof MC?t.Vu.Ht(e):e instanceof VU?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ct.min()))try{const r=yield Cj(t.localStore);n.compareTo(r)>=0&&(yield function(o,c){const u=o.Vu.ce(c);return u.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=o.Au.get(y);b&&o.Au.set(y,b.withResumeToken(p.resumeToken,c))}}),u.targetMismatches.forEach((p,y)=>{const b=o.Au.get(p);if(!b)return;o.Au.set(p,b.withResumeToken(M1.EMPTY_BYTE_STRING,b.snapshotVersion)),Lj(o,p);const H=new Ks(b.target,p,y,b.sequenceNumber);nD(o,H)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n))}catch(r){Se("RemoteStore","Failed to raise snapshot:",r),yield OC(t,r)}var r}),aD.apply(this,arguments)}function OC(t,e,n){return cD.apply(this,arguments)}function cD(){return cD=(0,G.Z)(function*(t,e,n){if(!A4(e))throw e;t.vu.add(1),yield Gl(t),t.bu.set("Offline"),n||(n=()=>Cj(t.localStore)),t.asyncQueue.enqueueRetryable((0,G.Z)(function*(){Se("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield h9(t)}))}),cD.apply(this,arguments)}function Dj(t,e){return e().catch(n=>OC(t,n,e))}function ql(t){return lD.apply(this,arguments)}function lD(){return lD=(0,G.Z)(function*(t){const e=Ge(t),n=q4(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Zse(e);)try{const o=yield Dse(e.localStore,r);if(null===o){0===e.Eu.length&&n.jo();break}r=o.batchId,Kse(e,o)}catch(o){yield OC(e,o)}Aj(e)&&Tj(e)}),lD.apply(this,arguments)}function Zse(t){return G4(t)&&t.Eu.length<10}function Kse(t,e){t.Eu.push(e);const n=q4(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Aj(t){return G4(t)&&!q4(t).Uo()&&t.Eu.length>0}function Tj(t){q4(t).start()}function Yse(t){return uD.apply(this,arguments)}function uD(){return uD=(0,G.Z)(function*(t){q4(t).hu()}),uD.apply(this,arguments)}function Qse(t){return fD.apply(this,arguments)}function fD(){return fD=(0,G.Z)(function*(t){const e=q4(t);for(const n of t.Eu)e.uu(n.mutations)}),fD.apply(this,arguments)}function Jse(t,e,n){return dD.apply(this,arguments)}function dD(){return dD=(0,G.Z)(function*(t,e,n){const r=t.Eu.shift(),o=Mx.from(r,e,n);yield Dj(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),yield ql(t)}),dD.apply(this,arguments)}function Xse(t,e){return hD.apply(this,arguments)}function hD(){return hD=(0,G.Z)(function*(t,e){var n;e&&q4(t).ou&&(yield(n=(0,G.Z)(function*(r,o){if(_U(c=o.code)&&c!==te.ABORTED){const u=r.Eu.shift();q4(r).Qo(),yield Dj(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o)),yield ql(r)}var c}),function(r,o){return n.apply(this,arguments)})(t,e)),Aj(t)&&Tj(t)}),hD.apply(this,arguments)}function Nj(t,e){return pD.apply(this,arguments)}function pD(){return pD=(0,G.Z)(function*(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials");const r=G4(n);n.vu.add(3),yield Gl(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield h9(n)}),pD.apply(this,arguments)}function mD(t,e){return gD.apply(this,arguments)}function gD(){return gD=(0,G.Z)(function*(t,e){const n=Ge(t);e?(n.vu.delete(2),yield h9(n)):e||(n.vu.add(2),yield Gl(n),n.bu.set("Unknown"))}),gD.apply(this,arguments)}function Wl(t){return t.Su||(t.Su=function(e,n,r){const o=Ge(e);return o.fu(),new Ose(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{uo:Gse.bind(null,t),ao:qse.bind(null,t),nu:Wse.bind(null,t)}),t.Ru.push(function(){var e=(0,G.Z)(function*(n){n?(t.Su.Qo(),iD(t)?rD(t):t.bu.set("Unknown")):(yield t.Su.stop(),xj(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function q4(t){return t.Du||(t.Du=function(e,n,r){const o=Ge(e);return o.fu(),new Fse(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{uo:Yse.bind(null,t),ao:Xse.bind(null,t),au:Qse.bind(null,t),cu:Jse.bind(null,t)}),t.Ru.push(function(){var e=(0,G.Z)(function*(n){n?(t.Du.Qo(),yield ql(t)):(yield t.Du.stop(),t.Eu.length>0&&(Se("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class vD{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new _1,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,n,r,o,c){const u=Date.now()+r,p=new vD(e,n,u,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ye(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zl(t,e){if(t1("AsyncQueue",`${e}: ${t}`),A4(t))return new ye(te.UNAVAILABLE,`${e}: ${t}`);throw t}class Kl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=Zf(),this.sortedSet=new u2(this.comparator)}static emptySet(e){return new Kl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class kj{constructor(){this.Cu=new u2(Ue.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Xe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yl{constructor(e,n,r,o,c,u,p,y,b){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=b}static fromInitialDocuments(e,n,r,o,c){const u=[];return n.forEach(p=>{u.push({type:0,doc:p})}),new Yl(e,n,Kl.emptySet(n),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class e3e{constructor(){this.Nu=void 0,this.listeners=[]}}class t3e{constructor(){this.queries=new Ws(e=>tU(e),qf),this.onlineState="Unknown",this.ku=new Set}}function yD(t,e){return CD.apply(this,arguments)}function CD(){return CD=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.query;let o=!1,c=n.queries.get(r);if(c||(o=!0,c=new e3e),o)try{c.Nu=yield n.onListen(r)}catch(u){const p=Zl(u,`Initialization of query '${vx(e.query)}' failed`);return void e.onError(p)}n.queries.set(r,c),c.listeners.push(e),e.Mu(n.onlineState),c.Nu&&e.$u(c.Nu)&&wD(n)}),CD.apply(this,arguments)}function _D(t,e){return MD.apply(this,arguments)}function MD(){return MD=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.query;let o=!1;const c=n.queries.get(r);if(c){const u=c.listeners.indexOf(e);u>=0&&(c.listeners.splice(u,1),o=0===c.listeners.length)}if(o)return n.queries.delete(r),n.onUnlisten(r)}),MD.apply(this,arguments)}function n3e(t,e){const n=Ge(t);let r=!1;for(const o of e){const u=n.queries.get(o.query);if(u){for(const p of u.listeners)p.$u(o)&&(r=!0);u.Nu=o}}r&&wD(n)}function r3e(t,e,n){const r=Ge(t),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(n);r.queries.delete(e)}function wD(t){t.ku.forEach(e=>{e.next()})}class bD{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class i3e{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class Pj{constructor(e){this.serializer=e}rr(e){return $i(this.serializer,e)}ur(e){return e.metadata.exists?NU(this.serializer,e.document,!1):M2.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return n1(e)}}class s3e{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Rj(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=Gt.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new Pj(this.serializer);for(const o of e)if(o.metadata.queries){const c=r.rr(o.metadata.name);for(const u of o.metadata.queries){const p=(n.get(u)||Dt()).add(c);n.set(u,p)}}return n}complete(){var e=this;return(0,G.Z)(function*(){const n=yield function Ase(t,e,n,r){return Gx.apply(this,arguments)}(e.localStore,new Pj(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield Tse(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function Rj(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class Oj{constructor(e){this.key=e}}class Fj{constructor(e){this.key=e}}class Bj{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Dt(),this.mutatedKeys=Dt(),this.tc=rU(e),this.ec=new Kl(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new kj,o=n?n.ec:this.ec;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,p=!1;const y="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,b="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((H,I)=>{const N=o.get(H),U=Wf(this.query,I)?I:null,ae=!!N&&this.mutatedKeys.has(N.key),Ce=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Me=!1;N&&U?N.data.isEqual(U.data)?ae!==Ce&&(r.track({type:3,doc:U}),Me=!0):this.rc(N,U)||(r.track({type:2,doc:U}),Me=!0,(y&&this.tc(U,y)>0||b&&this.tc(U,b)<0)&&(p=!0)):!N&&U?(r.track({type:0,doc:U}),Me=!0):N&&!U&&(r.track({type:1,doc:N}),Me=!0,(y||b)&&(p=!0)),Me&&(U?(u=u.add(U),c=Ce?c.add(H):c.delete(H)):(u=u.delete(H),c=c.delete(H)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const H="F"===this.query.limitType?u.last():u.first();u=u.delete(H.key),c=c.delete(H.key),r.track({type:1,doc:H})}return{ec:u,ic:r,zi:p,mutatedKeys:c}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((b,H)=>function(I,N){const U=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return U(I)-U(N)}(b.type,H.type)||this.tc(b.doc,H.doc)),this.oc(r);const u=n?this.uc():[],p=0===this.Zu.size&&this.current?1:0,y=p!==this.Xu;return this.Xu=p,0!==c.length||y?{snapshot:new Yl(this.query,e.ec,o,c,e.mutatedKeys,0===p,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new kj,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Dt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Fj(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Oj(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Dt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Yl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class o3e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class a3e{constructor(e){this.key=e,this.fc=!1}}class c3e{constructor(e,n,r,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Ws(p=>tU(p),qf),this._c=new Map,this.mc=new Set,this.gc=new u2(Ue.comparator),this.yc=new Map,this.Ic=new Px,this.Tc={},this.Ec=new Map,this.Ac=Mc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function l3e(t,e){return HD.apply(this,arguments)}function HD(){return HD=(0,G.Z)(function*(t,e){const n=WD(t);let r,o;const c=n.wc.get(e);if(c)r=c.targetId,n.sharedClientState.addLocalQueryTarget(r),o=c.view.lc();else{const u=yield jl(n.localStore,Vn(e)),p=n.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,o=yield VD(n,e,r,"current"===p,u.resumeToken),n.isPrimaryClient&&RC(n.remoteStore,u)}return o}),HD.apply(this,arguments)}function VD(t,e,n,r,o){return SD.apply(this,arguments)}function SD(){return SD=(0,G.Z)(function*(t,e,n,r,o){t.Rc=(I,N,U)=>{return(ae=(0,G.Z)(function*(Ce,Me,je,qe){let Ze=Me.view.sc(je);Ze.zi&&(Ze=yield AC(Ce.localStore,Me.query,!1).then(({documents:It})=>Me.view.sc(It,Ze)));const st=qe&&qe.targetChanges.get(Me.targetId),lt=Me.view.applyChanges(Ze,Ce.isPrimaryClient,st);return kD(Ce,Me.targetId,lt.cc),lt.snapshot}),function(Ce,Me,je,qe){return ae.apply(this,arguments)})(t,I,N,U);var ae};const c=yield AC(t.localStore,e,!0),u=new Bj(e,c.ir),p=u.sc(c.documents),y=e9.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,o),b=u.applyChanges(p,t.isPrimaryClient,y);kD(t,n,b.cc);const H=new o3e(e,n,u);return t.wc.set(e,H),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),b.snapshot}),SD.apply(this,arguments)}function u3e(t,e){return ID.apply(this,arguments)}function ID(){return ID=(0,G.Z)(function*(t,e){const n=Ge(t),r=n.wc.get(e),o=n._c.get(r.targetId);if(o.length>1)return n._c.set(r.targetId,o.filter(c=>!qf(c,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $l(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),p9(n.remoteStore,r.targetId),Ql(n,r.targetId)}).catch(D4))):(Ql(n,r.targetId),yield $l(n.localStore,r.targetId,!0))}),ID.apply(this,arguments)}function zD(){return zD=(0,G.Z)(function*(t,e,n){const r=ZD(t);try{const o=yield function(c,u){const p=Ge(c),y=I2.now(),b=u.reduce((N,U)=>N.add(U.key),Dt());let H,I;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=Bn(),ae=Dt();return p.Zi.getEntries(N,b).next(Ce=>{U=Ce,U.forEach((Me,je)=>{je.isValidDocument()||(ae=ae.add(Me))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,U)).next(Ce=>{H=Ce;const Me=[];for(const je of u){const qe=Fie(je,H.get(je.key).overlayedDocument);null!=qe&&Me.push(new Zs(je.key,qe,BB(qe.value.mapValue),z2.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,Me,u)}).next(Ce=>{I=Ce;const Me=Ce.applyToLocalDocumentSet(H,ae);return p.documentOverlayCache.saveOverlays(N,Ce.batchId,Me)})}).then(()=>({batchId:I.batchId,changes:sU(H)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,u,p){let y=c.Tc[c.currentUser.toKey()];y||(y=new u2(bt)),y=y.insert(u,p),c.Tc[c.currentUser.toKey()]=y}(r,o.batchId,n),yield Ys(r,o.changes),yield ql(r.remoteStore)}catch(o){const c=Zl(o,"Failed to persist write");n.reject(c)}}),zD.apply(this,arguments)}function Uj(t,e){return ED.apply(this,arguments)}function ED(){return ED=(0,G.Z)(function*(t,e){const n=Ge(t);try{const r=yield function xse(t,e){const n=Ge(t),r=e.snapshotVersion;let o=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=n.Zi.newChangeBuffer({trackRemovals:!0});o=n.Ji;const p=[];e.targetChanges.forEach((H,I)=>{const N=o.get(I);if(!N)return;p.push(n.Bs.removeMatchingKeys(c,H.removedDocuments,I).next(()=>n.Bs.addMatchingKeys(c,H.addedDocuments,I)));let U=N.withSequenceNumber(c.currentSequenceNumber);var ae,Ce,Me;null!==e.targetMismatches.get(I)?U=U.withResumeToken(M1.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):H.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(H.resumeToken,r)),o=o.insert(I,U),Ce=U,Me=H,(0===(ae=N).resumeToken.approximateByteSize()||Ce.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0)&&p.push(n.Bs.updateTargetData(c,U))});let y=Bn(),b=Dt();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,H))}),p.push(_j(c,u,e.documentUpdates).next(H=>{y=H.nr,b=H.sr})),!r.isEqual(ct.min())){const H=n.Bs.getLastRemoteSnapshotVersion(c).next(I=>n.Bs.setTargetsMetadata(c,c.currentSequenceNumber,r));p.push(H)}return Y.waitFor(p).next(()=>u.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,b)).next(()=>y)}).then(c=>(n.Ji=o,c))}(n.localStore,e);e.targetChanges.forEach((o,c)=>{const u=n.yc.get(c);u&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.fc=!0:o.modifiedDocuments.size>0?at(u.fc):o.removedDocuments.size>0&&(at(u.fc),u.fc=!1))}),yield Ys(n,r,e)}catch(r){yield D4(r)}}),ED.apply(this,arguments)}function jj(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const o=[];r.wc.forEach((c,u)=>{const p=u.view.Mu(e);p.snapshot&&o.push(p.snapshot)}),function(c,u){const p=Ge(c);p.onlineState=u;let y=!1;p.queries.forEach((b,H)=>{for(const I of H.listeners)I.Mu(u)&&(y=!0)}),y&&wD(p)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function d3e(t,e,n){return LD.apply(this,arguments)}function LD(){return LD=(0,G.Z)(function*(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.yc.get(e),c=o&&o.key;if(c){let u=new u2(Ue.comparator);u=u.insert(c,M2.newNoDocument(c,ct.min()));const p=Dt().add(c),y=new Xf(ct.min(),new Map,new u2(bt),u,p);yield Uj(r,y),r.gc=r.gc.remove(c),r.yc.delete(e),PD(r)}else yield $l(r.localStore,e,!1).then(()=>Ql(r,e,n)).catch(D4)}),LD.apply(this,arguments)}function h3e(t,e){return xD.apply(this,arguments)}function xD(){return xD=(0,G.Z)(function*(t,e){const n=Ge(t),r=e.batch.batchId;try{const o=yield function Lse(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=n.Zi.newChangeBuffer({trackRemovals:!0});return function(u,p,y,b){const H=y.batch,I=H.keys();let N=Y.resolve();return I.forEach(U=>{N=N.next(()=>b.getEntry(p,U)).next(ae=>{const Ce=y.docVersions.get(U);at(null!==Ce),ae.version.compareTo(Ce)<0&&(H.applyToRemoteDocument(ae,y),ae.isValidDocument()&&(ae.setReadTime(y.commitVersion),b.addEntry(ae)))})}),N.next(()=>u.mutationQueue.removeMutationBatch(p,H))}(n,r,e,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let p=Dt();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(p=p.add(u.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}(n.localStore,e);ND(n,r,null),TD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ys(n,o)}catch(o){yield D4(o)}}),xD.apply(this,arguments)}function p3e(t,e,n){return DD.apply(this,arguments)}function DD(){return DD=(0,G.Z)(function*(t,e,n){const r=Ge(t);try{const o=yield function(c,u){const p=Ge(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.mutationQueue.lookupMutationBatch(y,u).next(H=>(at(null!==H),b=H.keys(),p.mutationQueue.removeMutationBatch(y,H))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>p.localDocuments.getDocuments(y,b))})}(r.localStore,e);ND(r,e,n),TD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ys(r,o)}catch(o){yield D4(o)}}),DD.apply(this,arguments)}function AD(){return AD=(0,G.Z)(function*(t,e){const n=Ge(t);G4(n.remoteStore)||Se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const u=Ge(c);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.mutationQueue.getHighestUnacknowledgedBatchId(p))}(n.localStore);if(-1===r)return void e.resolve();const o=n.Ec.get(r)||[];o.push(e),n.Ec.set(r,o)}catch(r){const o=Zl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),AD.apply(this,arguments)}function TD(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function ND(t,e,n){const r=Ge(t);let o=r.Tc[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function Ql(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||$j(t,r)})}function $j(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(p9(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),PD(t))}function kD(t,e,n){for(const r of n)r instanceof Oj?(t.Ic.addReference(r.key,e),g3e(t,r)):r instanceof Fj?(Se("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||$j(t,r.key)):Xe()}function g3e(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Se("SyncEngine","New document in limbo: "+n),t.mc.add(r),PD(t))}function PD(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Ue(Gt.fromString(e)),r=t.Ac.next();t.yc.set(r,new a3e(n)),t.gc=t.gc.insert(n,r),RC(t.remoteStore,new Ks(Vn(Tl(n.path)),r,"TargetPurposeLimboResolution",gr.ct))}}function Ys(t,e,n){return RD.apply(this,arguments)}function RD(){return RD=(0,G.Z)(function*(t,e,n){const r=Ge(t),o=[],c=[],u=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,y)=>{u.push(r.Rc(y,e,n).then(b=>{if((b||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b?.fromCache?"not-current":"current"),b){o.push(b);const H=Ux.Li(y.targetId,b);c.push(H)}}))}),yield Promise.all(u),r.dc.nu(o),yield(p=(0,G.Z)(function*(y,b){const H=Ge(y);try{yield H.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Y.forEach(b,N=>Y.forEach(N.Fi,U=>H.persistence.referenceDelegate.addReference(I,N.targetId,U)).next(()=>Y.forEach(N.Bi,U=>H.persistence.referenceDelegate.removeReference(I,N.targetId,U)))))}catch(I){if(!A4(I))throw I;Se("LocalStore","Failed to update sequence numbers: "+I)}for(const I of b){const N=I.targetId;if(!I.fromCache){const U=H.Ji.get(N),Ce=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);H.Ji=H.Ji.insert(N,Ce)}}}),function(y,b){return p.apply(this,arguments)})(r.localStore,c))}),RD.apply(this,arguments)}function v3e(t,e){return OD.apply(this,arguments)}function OD(){return OD=(0,G.Z)(function*(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Se("SyncEngine","User change. New user:",e.toKey());const r=yield yj(n.localStore,e);n.currentUser=e,(o=n).Ec.forEach(u=>{u.forEach(p=>{p.reject(new ye(te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ys(n,r.er)}var o}),OD.apply(this,arguments)}function y3e(t,e){const n=Ge(t),r=n.yc.get(e);if(r&&r.fc)return Dt().add(r.key);{let o=Dt();const c=n._c.get(e);if(!c)return o;for(const u of c){const p=n.wc.get(u);o=o.unionWith(p.view.nc)}return o}}function C3e(t,e){return FD.apply(this,arguments)}function FD(){return FD=(0,G.Z)(function*(t,e){const n=Ge(t),r=yield AC(n.localStore,e.query,!0),o=e.view.hc(r);return n.isPrimaryClient&&kD(n,e.targetId,o.cc),o}),FD.apply(this,arguments)}function _3e(t,e){return BD.apply(this,arguments)}function BD(){return BD=(0,G.Z)(function*(t,e){const n=Ge(t);return wj(n.localStore,e).then(r=>Ys(n,r))}),BD.apply(this,arguments)}function M3e(t,e,n,r){return UD.apply(this,arguments)}function UD(){return UD=(0,G.Z)(function*(t,e,n,r){const o=Ge(t),c=yield function(u,p){const y=Ge(u),b=Ge(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",H=>b.Sn(H,p).next(I=>I?y.localDocuments.getDocuments(H,I):Y.resolve(null)))}(o.localStore,e);var p;null!==c?("pending"===n?yield ql(o.remoteStore):"acknowledged"===n||"rejected"===n?(ND(o,e,r||null),TD(o,e),p=e,Ge(Ge(o.localStore).mutationQueue).Cn(p)):Xe(),yield Ys(o,c)):Se("SyncEngine","Cannot apply mutation batch with id: "+e)}),UD.apply(this,arguments)}function jD(){return jD=(0,G.Z)(function*(t,e){const n=Ge(t);if(WD(n),ZD(n),!0===e&&!0!==n.vc){const r=n.sharedClientState.getAllActiveQueryTargets(),o=yield Gj(n,r.toArray());n.vc=!0,yield mD(n.remoteStore,!0);for(const c of o)RC(n.remoteStore,c)}else if(!1===e&&!1!==n.vc){const r=[];let o=Promise.resolve();n._c.forEach((c,u)=>{n.sharedClientState.isLocalQueryTarget(u)?r.push(u):o=o.then(()=>(Ql(n,u),$l(n.localStore,u,!0))),p9(n.remoteStore,u)}),yield o,yield Gj(n,r),function(c){const u=Ge(c);u.yc.forEach((p,y)=>{p9(u.remoteStore,y)}),u.Ic.Ts(),u.yc=new Map,u.gc=new u2(Ue.comparator)}(n),n.vc=!1,yield mD(n.remoteStore,!1)}}),jD.apply(this,arguments)}function Gj(t,e,n){return $D.apply(this,arguments)}function $D(){return $D=(0,G.Z)(function*(t,e,n){const r=Ge(t),o=[],c=[];for(const u of e){let p;const y=r._c.get(u);if(y&&0!==y.length){p=yield jl(r.localStore,Vn(y[0]));for(const b of y){const H=r.wc.get(b),I=yield C3e(r,H);I.snapshot&&c.push(I.snapshot)}}else{const b=yield Mj(r.localStore,u);p=yield jl(r.localStore,b),yield VD(r,qj(b),u,!1,p.resumeToken)}o.push(p)}return r.dc.nu(c),o}),$D.apply(this,arguments)}function qj(t){return XB(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function b3e(t){const e=Ge(t);return Ge(Ge(e.localStore).persistence).$i()}function H3e(t,e,n,r){return GD.apply(this,arguments)}function GD(){return GD=(0,G.Z)(function*(t,e,n,r){const o=Ge(t);if(o.vc)return void Se("SyncEngine","Ignoring unexpected query state notification.");const c=o._c.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const u=yield wj(o.localStore,nU(c[0])),p=Xf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,M1.EMPTY_BYTE_STRING);yield Ys(o,u,p);break}case"rejected":yield $l(o.localStore,e,!0),Ql(o,e,r);break;default:Xe()}}),GD.apply(this,arguments)}function V3e(t,e,n){return qD.apply(this,arguments)}function qD(){return qD=(0,G.Z)(function*(t,e,n){const r=WD(t);if(r.vc){for(const o of e){if(r._c.has(o)){Se("SyncEngine","Adding an already active target "+o);continue}const c=yield Mj(r.localStore,o),u=yield jl(r.localStore,c);yield VD(r,qj(c),u.targetId,!1,u.resumeToken),RC(r.remoteStore,u)}for(const o of n)r._c.has(o)&&(yield $l(r.localStore,o,!1).then(()=>{p9(r.remoteStore,o),Ql(r,o)}).catch(D4))}}),qD.apply(this,arguments)}function WD(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y3e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d3e.bind(null,e),e.dc.nu=n3e.bind(null,e.eventManager),e.dc.Pc=r3e.bind(null,e.eventManager),e}function ZD(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h3e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p3e.bind(null,e),e}class m9{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,G.Z)(function*(){n.serializer=d9(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vj(this.persistence,new gj,e.initialUser,this.serializer)}createPersistence(e){return new Rx(LC.zs,this.serializer)}createSharedClientState(e){return new Sj}terminate(){var e=this;return(0,G.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class KD extends m9{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,G.Z)(function*(){yield n().call(r,e),yield r.Vc.initialize(r,e),yield ZD(r.Vc.syncEngine),yield ql(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return vj(this.persistence,new gj,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new aj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Jre(n,this.persistence);return new Qre(e.asyncQueue,r)}createPersistence(e){const n=Bx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Fx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,zj(),PC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Sj}}class Wj extends KD{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,G.Z)(function*(){yield n().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof Yx&&(r.sharedClientState.syncEngine={jr:M3e.bind(null,o),zr:H3e.bind(null,o),Wr:V3e.bind(null,o),$i:b3e.bind(null,o),Qr:_3e.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var c=(0,G.Z)(function*(u){yield function w3e(t,e){return jD.apply(this,arguments)}(r.Vc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=zj();if(!Yx.D(n))throw new ye(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Bx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yx(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Jl{initialize(e,n){var r=this;return(0,G.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>jj(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=v3e.bind(null,r.syncEngine),yield mD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new t3e}createDatastore(e){const n=d9(e.databaseInfo.databaseId),r=new Rse(e.databaseInfo);return new Bse(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,o=e.asyncQueue,c=p=>jj(this.syncEngine,p,0),u=Ij.D()?new Ij:new Nse,new $se(n,r,o,c,u);var n,r,o,c,u}createSyncEngine(e,n){return function(r,o,c,u,p,y,b){const H=new c3e(r,o,c,u,p,y);return b&&(H.vc=!0),H}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,G.Z)(function*(n){const r=Ge(n);Se("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Gl(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Zj(t,e=10240){let n=0;return{read:()=>(0,G.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,G.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class FC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):t1("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class z3e{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new _1,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,G.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,G.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,G.Z)(function*(){const n=yield e.kc();if(null===n)return null;const r=e.xc.decode(n),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const c=yield e.$c(o);return new i3e(JSON.parse(c),n.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,G.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}$c(e){var n=this;return(0,G.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const r=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,G.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class E3e{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,G.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new ye(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,G.Z)(function*(c,u){const p=Ge(c),y=n9(p.serializer)+"/documents",b={documents:u.map(U=>t9(p.serializer,U))},H=yield p.vo("BatchGetDocuments",y,b,u.length),I=new Map;H.forEach(U=>{const ae=function Yie(t,e){return"found"in e?function(n,r){at(!!r.found);const o=$i(n,r.found.name),c=n1(r.found.updateTime),u=r.found.createTime?n1(r.found.createTime):ct.min(),p=new G1({mapValue:{fields:r.found.fields}});return M2.newFoundDocument(o,c,u,p)}(t,e):"missing"in e?function(n,r){at(!!r.missing),at(!!r.readTime);const o=$i(n,r.missing),c=n1(r.readTime);return M2.newNoDocument(o,c)}(t,e):Xe()}(p.serializer,U);I.set(ae.key.toString(),ae)});const N=[];return u.forEach(U=>{const ae=I.get(U.toString());at(!!ae),N.push(ae)}),N}),function(c,u){return o.apply(this,arguments)})(n.datastore,e);var o;return r.forEach(o=>n.recordVersion(o)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,G.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,o)=>{const c=Ue.fromPath(o);e.mutations.push(new Cx(c,e.precondition(c)))}),yield(r=(0,G.Z)(function*(o,c){const u=Ge(o),p=n9(u.serializer)+"/documents",y={writes:c.map(b=>r9(u.serializer,b))};yield u.Io("Commit",p,y)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Xe();n=ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ye(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ct.min())?z2.exists(!1):z2.updateTime(n):z2.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ct.min()))throw new ye(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return z2.updateTime(n)}return z2.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class L3e{constructor(e,n,r,o,c){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=o,this.deferred=c,this.Bc=r.maxAttempts,this.qo=new Jx(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,G.Z)(function*(){const n=new E3e(e.datastore),r=e.qc(n);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.Uc(c)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const n=this.updateFunction(e);return!Of(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!_U(n)}return!1}}class x3e{constructor(e,n,r,o){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=N1.UNAUTHENTICATED,this.clientId=vB.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,G.Z)(function*(p){Se("FirestoreClient","Received user=",p.uid),yield c.authCredentialListener(p),c.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Se("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,G.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _1;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const o=Zl(r,"Failed to shutdown persistence");n.reject(o)}})),n.promise}}function BC(t,e){return YD.apply(this,arguments)}function YD(){return YD=(0,G.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var o=(0,G.Z)(function*(c){r.isEqual(c)||(yield yj(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),YD.apply(this,arguments)}function QD(t,e){return JD.apply(this,arguments)}function JD(){return JD=(0,G.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield XD(t);Se("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(o=>Nj(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,c)=>Nj(e.remoteStore,c)),t._onlineComponents=e}),JD.apply(this,arguments)}function Kj(t){return"FirebaseError"===t.name?t.code===te.FAILED_PRECONDITION||t.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function XD(t){return eA.apply(this,arguments)}function eA(){return eA=(0,G.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield BC(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Kj(n))throw n;kr("Error using user provided cache. Falling back to memory cache: "+n),yield BC(t,new m9)}}else Se("FirestoreClient","Using default OfflineComponentProvider"),yield BC(t,new m9);return t._offlineComponents}),eA.apply(this,arguments)}function UC(t){return tA.apply(this,arguments)}function tA(){return tA=(0,G.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se("FirestoreClient","Using user provided OnlineComponentProvider"),yield QD(t,t._uninitializedComponentsProvider._online)):(Se("FirestoreClient","Using default OnlineComponentProvider"),yield QD(t,new Jl))),t._onlineComponents}),tA.apply(this,arguments)}function Yj(t){return XD(t).then(e=>e.persistence)}function jC(t){return XD(t).then(e=>e.localStore)}function Qj(t){return UC(t).then(e=>e.remoteStore)}function nA(t){return UC(t).then(e=>e.syncEngine)}function Xl(t){return rA.apply(this,arguments)}function rA(){return rA=(0,G.Z)(function*(t){const e=yield UC(t),n=e.eventManager;return n.onListen=l3e.bind(null,e.syncEngine),n.onUnlisten=u3e.bind(null,e.syncEngine),n}),rA.apply(this,arguments)}function Xj(t,e,n={}){const r=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(o,c,u,p,y){const b=new FC({next:I=>{c.enqueueAndForget(()=>_D(o,H));const N=I.docs.has(u);!N&&I.fromCache?y.reject(new ye(te.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&I.fromCache&&p&&"server"===p.source?y.reject(new ye(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),H=new bD(Tl(u.path),b,{includeMetadataChanges:!0,Ku:!0});return yD(o,H)}(yield Xl(t),t.asyncQueue,e,n,r)})),r.promise}function e$(t,e,n={}){const r=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function(o,c,u,p,y){const b=new FC({next:I=>{c.enqueueAndForget(()=>_D(o,H)),I.fromCache&&"server"===p.source?y.reject(new ye(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),H=new bD(u,b,{includeMetadataChanges:!0,Ku:!0});return yD(o,H)}(yield Xl(t),t.asyncQueue,e,n,r)})),r.promise}function t$(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const n$=new Map;function iA(t,e,n){if(!n)throw new ye(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r$(t,e,n,r){if(!0===e&&!0===r)throw new ye(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function i$(t){if(!Ue.isDocumentKey(t))throw new ye(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function s$(t){if(Ue.isDocumentKey(t))throw new ye(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $C(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":Xe()}function Bt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$C(t);throw new ye(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function o$(t,e){if(e<=0)throw new ye(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class a${constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ye(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ye(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=t$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ye(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class g9{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ye(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a$(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Ore;switch(n.type){case"firstParty":return new jre(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ye(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=n$.get(e);n&&(Se("ComponentProvider","Removing Datastore"),n$.delete(e),n.terminate())}(this),Promise.resolve()}}function c$(t,e,n,r={}){var o;const c=(t=Bt(t,g9))._getSettings(),u=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==u&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},c),{host:u,ssl:!1})),r.mockUserToken){let p,y;if("string"==typeof r.mockUserToken)p=r.mockUserToken,y=N1.MOCK_USER;else{p=(0,tt.Sg)(r.mockUserToken,null===(o=t._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ye(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new N1(b)}t._authCredentials=new Fre(new mB(p,y))}}class w2{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new w2(this.firestore,e,this._key)}}class q1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new q1(this.firestore,e,this._query)}}class Gi extends q1{constructor(e,n,r){super(e,n,Tl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new w2(this.firestore,null,new Ue(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function l$(t,e,...n){if(t=(0,tt.m9)(t),iA("collection","path",e),t instanceof g9){const r=Gt.fromString(e,...n);return s$(r),new Gi(t,null,r)}{if(!(t instanceof w2||t instanceof Gi))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return s$(r),new Gi(t.firestore,null,r)}}function GC(t,e,...n){if(t=(0,tt.m9)(t),1===arguments.length&&(e=vB.A()),iA("doc","path",e),t instanceof g9){const r=Gt.fromString(e,...n);return i$(r),new w2(t,null,new Ue(r))}{if(!(t instanceof w2||t instanceof Gi))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return i$(r),new w2(t.firestore,t instanceof Gi?t.converter:null,new Ue(r))}}function u$(t,e){return t=(0,tt.m9)(t),e=(0,tt.m9)(e),(t instanceof w2||t instanceof Gi)&&(e instanceof w2||e instanceof Gi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function sA(t,e){return t=(0,tt.m9)(t),e=(0,tt.m9)(e),t instanceof q1&&e instanceof q1&&t.firestore===e.firestore&&qf(t._query,e._query)&&t.converter===e.converter}class B3e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Jx(this,"async_queue_retry"),this.Xc=()=>{const n=PC();n&&Se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=PC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=PC();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new _1;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,G.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!A4(n))throw n;Se("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,t1("INTERNAL UNHANDLED ERROR: ",function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const o=vD.createAndSchedule(this,e,n,r,c=>this.na(c));return this.zc.push(o),o}Zc(){this.Wc&&Xe()}verifyOperationInProgress(){}sa(){var e=this;return(0,G.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function oA(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(t)}class U3e{constructor(){this._progressObserver={},this._taskCompletionResolver=new _1,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class b2 extends g9{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new B3e,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||f$(this),this._firestoreClient.terminate()}}function $3e(t,e){const n="object"==typeof t?t:(0,Tt.getApp)(),r="string"==typeof t?t:e||"(default)",o=(0,Tt._getProvider)(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=(0,tt.P0)("firestore");c&&c$(o,...c)}return o}function r1(t){return t._firestoreClient||f$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function f$(t){var e,n,r;const o=t._freezeSettings(),c=(p=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Cie(t._databaseId,p,t._persistenceKey,(b=o).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,t$(b.experimentalLongPollingOptions),b.useFetchStreams));var p,b;t._firestoreClient=new x3e(t._authCredentials,t._appCheckCredentials,t._queue,c),null!==(n=o.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function d$(t,e,n){const r=new _1;return t.asyncQueue.enqueue((0,G.Z)(function*(){try{yield BC(t,n),yield QD(t,e),r.resolve()}catch(o){const c=o;if(!Kj(c))throw c;kr("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function h$(t){if(t._initialized||t._terminated)throw new ye(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qi(M1.fromBase64String(e))}catch(n){throw new ye(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qi(M1.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qs{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ye(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new F2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bc{constructor(e){this._methodName=e}}class qC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}const e4e=/^__.*__$/;class t4e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pl(e,this.data,n,this.fieldTransforms)}}class p${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function m$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class WC{constructor(e,n,r,o,c,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new WC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return YC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(m$(this.ca)&&e4e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class n4e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||d9(e)}ya(e,n,r,o=!1){return new WC({ca:e,methodName:n,ga:r,path:F2.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hc(t){const e=t._freezeSettings(),n=d9(t._databaseId);return new n4e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZC(t,e,n,r,o,c={}){const u=t.ya(c.merge||c.mergeFields?2:0,e,n,o);uA("Data must be an object, but it was:",u,r);const p=y$(r,u);let y,b;if(c.merge)y=new Fn(u.fieldMask),b=u.fieldTransforms;else if(c.mergeFields){const H=[];for(const I of c.mergeFields){const N=C9(e,I,n);if(!u.contains(N))throw new ye(te.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);_$(H,N)||H.push(N)}y=new Fn(H),b=u.fieldTransforms.filter(I=>y.covers(I.field))}else y=null,b=u.fieldTransforms;return new t4e(new G1(p),y,b)}class y9 extends bc{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof y9}}function g$(t,e,n){return new WC({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class aA extends bc{_toFieldTransform(e){return new Yf(e.path,new Nl)}isEqual(e){return e instanceof aA}}class r4e extends bc{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=g$(this,e,!0),r=this.pa.map(c=>Vc(c,n)),o=new pc(r);return new Yf(e.path,o)}isEqual(e){return this===e}}class i4e extends bc{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=g$(this,e,!0),r=this.pa.map(c=>Vc(c,n)),o=new mc(r);return new Yf(e.path,o)}isEqual(e){return this===e}}class s4e extends bc{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new kl(e.serializer,lU(e.serializer,this.Ia));return new Yf(e.path,n)}isEqual(e){return this===e}}function cA(t,e,n,r){const o=t.ya(1,e,n);uA("Data must be an object, but it was:",o,r);const c=[],u=G1.empty();T4(r,(y,b)=>{const H=KC(e,y,n);b=(0,tt.m9)(b);const I=o.da(H);if(b instanceof y9)c.push(H);else{const N=Vc(b,I);null!=N&&(c.push(H),u.set(H,N))}});const p=new Fn(c);return new p$(u,p,o.fieldTransforms)}function lA(t,e,n,r,o,c){const u=t.ya(1,e,n),p=[C9(e,r,n)],y=[o];if(c.length%2!=0)throw new ye(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(C9(e,c[N])),y.push(c[N+1]);const b=[],H=G1.empty();for(let N=p.length-1;N>=0;--N)if(!_$(b,p[N])){const U=p[N];let ae=y[N];ae=(0,tt.m9)(ae);const Ce=u.da(U);if(ae instanceof y9)b.push(U);else{const Me=Vc(ae,Ce);null!=Me&&(b.push(U),H.set(U,Me))}}const I=new Fn(b);return new p$(H,I,u.fieldTransforms)}function v$(t,e,n,r=!1){return Vc(n,t.ya(r?4:3,e))}function Vc(t,e){if(C$(t=(0,tt.m9)(t)))return uA("Unsupported field value:",e,t),y$(t,e);if(t instanceof bc)return function(n,r){if(!m$(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const o=[];let c=0;for(const u of n){let p=Vc(u,r.wa(c));null==p&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}}(t,e)}return function(n,r){if(null===(n=(0,tt.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return lU(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const o=I2.fromDate(n);return{timestampValue:Ol(r.serializer,o)}}if(n instanceof I2){const o=new I2(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ol(r.serializer,o)}}if(n instanceof qC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof qi)return{bytesValue:LU(r.serializer,n._byteString)};if(n instanceof w2){const o=r.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw r._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Sx(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${$C(n)}`)}(t,e)}function y$(t,e){const n={};return DB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):T4(t,(r,o)=>{const c=Vc(o,e.ha(r));null!=c&&(n[r]=c)}),{mapValue:{fields:n}}}function C$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof I2||t instanceof qC||t instanceof qi||t instanceof w2||t instanceof bc)}function uA(t,e,n){if(!C$(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=$C(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function C9(t,e,n){if((e=(0,tt.m9)(e))instanceof Qs)return e._internalPath;if("string"==typeof e)return KC(t,e);throw YC("Field path arguments must be of type string or ",t,!1,void 0,n)}const o4e=new RegExp("[~\\*/\\[\\]]");function KC(t,e,n){if(e.search(o4e)>=0)throw YC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qs(...e.split("."))._internalPath}catch{throw YC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function YC(t,e,n,r,o){const c=r&&!r.isEmpty(),u=void 0!==o;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||u)&&(y+=" (found",c&&(y+=` in field ${r}`),u&&(y+=` in document ${o}`),y+=")"),new ye(te.INVALID_ARGUMENT,p+t+y)}function _$(t,e){return t.some(n=>n.isEqual(e))}class _9{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new w2(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new a4e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class a4e extends _9{data(){return super.data()}}function QC(t,e){return"string"==typeof e?KC(t,e):e instanceof Qs?e._internalPath:e._delegate._internalPath}function M$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ye(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fA{}class M9 extends fA{}function W4(t,e,...n){let r=[];e instanceof fA&&r.push(e),r=r.concat(n),function(o){const c=o.filter(p=>p instanceof e8).length,u=o.filter(p=>p instanceof w9).length;if(c>1||c>0&&u>0)throw new ye(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class w9 extends M9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new w9(e,n,r)}_apply(e){const n=this._parse(e);return V$(e._query,n),new q1(e.firestore,e.converter,gx(e._query,n))}_parse(e){const n=Hc(e.firestore);return function(o,c,u,p,y,b,H){let I;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ye(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){H$(H,b);const N=[];for(const U of H)N.push(b$(p,o,U));I={arrayValue:{values:N}}}else I=b$(p,o,H)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||H$(H,b),I=v$(u,"where",H,"in"===b||"not-in"===b);return Ft.create(y,b,I)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class e8 extends fA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new e8(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:t2.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,o){let c=r;const u=o.getFlattenedFilters();for(const p of u)V$(c,p),c=gx(c,p)}(e._query,n),new q1(e.firestore,e.converter,gx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dA extends M9{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dA(e,n)}_apply(e){const n=function(r,o,c){if(null!==r.startAt)throw new ye(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ye(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Dl(o,c);return function(p,y){if(null===px(p)){const b=mC(p);null!==b&&S$(0,b,y.field)}}(r,u),u}(e._query,this._field,this._direction);return new q1(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new qs(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}class JC extends M9{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new JC(e,n,r)}_apply(e){return new q1(e.firestore,e.converter,gC(e._query,this._limit,this._limitType))}}class XC extends M9{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new XC(e,n,r)}_apply(e){const n=w$(e,this.type,this._docOrFields,this._inclusive);return new q1(e.firestore,e.converter,(o=n,new qs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class e_ extends M9{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new e_(e,n,r)}_apply(e){const n=w$(e,this.type,this._docOrFields,this._inclusive);return new q1(e.firestore,e.converter,(o=n,new qs((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function w$(t,e,n,r){if(n[0]=(0,tt.m9)(n[0]),n[0]instanceof _9)return function(o,c,u,p,y){if(!p)throw new ye(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const H of hc(o))if(H.field.isKeyField())b.push(fc(c,p.key));else{const I=p.data.field(H.field);if(cC(I))throw new ye(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+H.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const N=H.field.canonicalString();throw new ye(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}b.push(I)}return new F4(b,y)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=Hc(t.firestore);return function(c,u,p,y,b,H){const I=c.explicitOrderBy;if(b.length>I.length)throw new ye(te.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let U=0;U<b.length;U++){const ae=b[U];if(I[U].field.isKeyField()){if("string"!=typeof ae)throw new ye(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ae}`);if(!mx(c)&&-1!==ae.indexOf("/"))throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ae}' contains a slash.`);const Ce=c.path.child(Gt.fromString(ae));if(!Ue.isDocumentKey(Ce))throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Ce}' is not because it contains an odd number of segments.`);const Me=new Ue(Ce);N.push(fc(u,Me))}else{const Ce=v$(p,y,ae);N.push(Ce)}}return new F4(N,H)}(t._query,t.firestore._databaseId,o,e,n,r)}}function b$(t,e,n){if("string"==typeof(n=(0,tt.m9)(n))){if(""===n)throw new ye(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mx(e)&&-1!==n.indexOf("/"))throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!Ue.isDocumentKey(r))throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fc(t,new Ue(r))}if(n instanceof w2)return fc(t,n._key);throw new ye(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$C(n)}.`)}function H$(t,e){if(!Array.isArray(t)||0===t.length)throw new ye(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V$(t,e){if(e.isInequality()){const r=mC(t),o=e.field;if(null!==r&&!r.isEqual(o))throw new ye(te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const c=px(t);null!==c&&S$(0,o,c)}const n=function(r,o){for(const c of r)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ye(te.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function S$(t,e,n){if(!n.isEqual(e))throw new ye(te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class hA{convertValue(e,n="none"){switch(R4(e)){case 0:return null;case 1:return e.booleanValue;case 2:return B2(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return T4(e,(o,c)=>{r[o]=this.convertValue(c,n)}),r}convertGeoPoint(e){return new qC(B2(e.latitude),B2(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lC(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bf(e));default:return null}}convertTimestamp(e){const n=N4(e);return new I2(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);at(FU(r));const o=new k4(r.get(1),r.get(3)),c=new Ue(r.popFirst(5));return o.isEqual(n)||t1(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function t_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class g4e extends hA{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new w2(this.firestore,null,n)}}class Sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends _9{constructor(e,n,r,o,c,u){super(e,n,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new b9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(QC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class b9 extends Js{data(e={}){return super.data(e)}}class Z4{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Sc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new b9(this._firestore,this._userDataWriter,r.key,r,new Sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new b9(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Sc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||3!==u.type).map(u=>{const p=new b9(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Sc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==u.type&&(y=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),1!==u.type&&(c=c.add(u.doc),b=c.indexOf(u.doc.key)),{type:y4e(u.type),doc:p,oldIndex:y,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function y4e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function z$(t,e){return t instanceof Js&&e instanceof Js?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Z4&&e instanceof Z4&&t._firestore===e._firestore&&sA(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class K4 extends hA{constructor(e){super(),this.firestore=e}convertBytes(e){return new qi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new w2(this.firestore,null,n)}}function E$(t,e,n){t=Bt(t,w2);const r=Bt(t.firestore,b2),o=t_(t.converter,e,n);return t8(r,[ZC(Hc(r),"setDoc",t._key,o,null!==t.converter,n).toMutation(t._key,z2.none())])}function L$(t,e,n,...r){t=Bt(t,w2);const o=Bt(t.firestore,b2),c=Hc(o);let u;return u="string"==typeof(e=(0,tt.m9)(e))||e instanceof Qs?lA(c,"updateDoc",t._key,e,n,r):cA(c,"updateDoc",t._key,e),t8(o,[u.toMutation(t._key,z2.exists(!0))])}function x$(t,...e){var n,r,o;t=(0,tt.m9)(t);let c={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||oA(e[u])||(c=e[u],u++);const p={includeMetadataChanges:c.includeMetadataChanges};if(oA(e[u])){const I=e[u];e[u]=null===(n=I.next)||void 0===n?void 0:n.bind(I),e[u+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[u+2]=null===(o=I.complete)||void 0===o?void 0:o.bind(I)}let y,b,H;if(t instanceof w2)b=Bt(t.firestore,b2),H=Tl(t._key.path),y={next:I=>{e[u]&&e[u](pA(b,t,I))},error:e[u+1],complete:e[u+2]};else{const I=Bt(t,q1);b=Bt(I.firestore,b2),H=I._query;const N=new K4(b);y={next:U=>{e[u]&&e[u](new Z4(b,N,I,U))},error:e[u+1],complete:e[u+2]},M$(t._query)}return function(I,N,U,ae){const Ce=new FC(ae),Me=new bD(N,Ce,U);return I.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return yD(yield Xl(I),Me)})),()=>{Ce.Dc(),I.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return _D(yield Xl(I),Me)}))}}(r1(b),H,p,y)}function t8(t,e){return function(n,r){const o=new _1;return n.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function f3e(t,e,n){return zD.apply(this,arguments)}(yield nA(n),r,o)})),o.promise}(r1(t),e)}function pA(t,e,n){const r=n.docs.get(e._key),o=new K4(t);return new Js(t,o,e._key,r,new Sc(n.hasPendingWrites,n.fromCache),e.converter)}const k4e={maxAttempts:5};class D${constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hc(e)}set(e,n,r){this._verifyNotCommitted();const o=Y4(e,this._firestore),c=t_(o.converter,n,r),u=ZC(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(u.toMutation(o._key,z2.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const c=Y4(e,this._firestore);let u;return u="string"==typeof(n=(0,tt.m9)(n))||n instanceof Qs?lA(this._dataReader,"WriteBatch.update",c._key,n,r,o):cA(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,z2.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Y4(e,this._firestore);return this._mutations=this._mutations.concat(new Rl(n._key,z2.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Y4(t,e){if((t=(0,tt.m9)(t)).firestore!==e)throw new ye(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class P4e extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Hc(e)}get(e){const n=Y4(e,this._firestore),r=new g4e(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||1!==o.length)return Xe();const c=o[0];if(c.isFoundDocument())return new _9(this._firestore,r,c.key,c,n.converter);if(c.isNoDocument())return new _9(this._firestore,r,n._key,null,n.converter);throw Xe()})}set(e,n,r){const o=Y4(e,this._firestore),c=t_(o.converter,n,r),u=ZC(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,u),this}update(e,n,r,...o){const c=Y4(e,this._firestore);let u;return u="string"==typeof(n=(0,tt.m9)(n))||n instanceof Qs?lA(this._dataReader,"Transaction.update",c._key,n,r,o):cA(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,u),this}delete(e){const n=Y4(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Y4(e,this._firestore),r=new K4(this._firestore);return super.get(e).then(o=>new Js(this._firestore,r,n._key,o._document,new Sc(!1,!1),n.converter))}}function mA(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ye("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function T$(){if(typeof Uint8Array>"u")throw new ye("unimplemented","Uint8Arrays are not available in this environment.")}function N$(){if(!function vie(){return typeof atob<"u"}())throw new ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){zl=Tt.SDK_VERSION,(0,Tt._registerComponent)(new ri.wA("firestore",(n,{instanceIdentifier:r,options:o})=>{const c=n.getProvider("app").getImmediate(),u=new b2(new Bre(n.getProvider("auth-internal")),new $re(n.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new k4(p.options.projectId,y)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),(0,Tt.registerVersion)(pB,"3.13.0",t),(0,Tt.registerVersion)(pB,"3.13.0","esm2017")}();class H9{constructor(e){this._delegate=e}static fromBase64String(e){return N$(),new H9(qi.fromBase64String(e))}static fromUint8Array(e){return T$(),new H9(qi.fromUint8Array(e))}toBase64(){return N$(),this._delegate.toBase64()}toUint8Array(){return T$(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gA(t){return function q4e(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class W4e{enableIndexedDbPersistence(e,n){return function G3e(t,e){h$(t=Bt(t,b2));const n=r1(t);if(n._uninitializedComponentsProvider)throw new ye(te.FAILED_PRECONDITION,"SDK cache is already specified.");kr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),o=new Jl;return d$(n,o,new KD(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function q3e(t){h$(t=Bt(t,b2));const e=r1(t);if(e._uninitializedComponentsProvider)throw new ye(te.FAILED_PRECONDITION,"SDK cache is already specified.");kr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Jl;return d$(e,r,new Wj(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function W3e(t){if(t._initialized&&!t._terminated)throw new ye(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _1;return t._queue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{yield(n=(0,G.Z)(function*(r){if(!ai.D())return Promise.resolve();const o=r+"main";yield ai.delete(o)}),function(r){return n.apply(this,arguments)})(Bx(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class k${constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof k4||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&kr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){c$(this._delegate,e,n,r)}enableNetwork(){return function K3e(t){return function D3e(t){return t.asyncQueue.enqueue((0,G.Z)(function*(){const e=yield Yj(t),n=yield Qj(t);return e.setNetworkEnabled(!0),function(r){const o=Ge(r);return o.vu.delete(0),h9(o)}(n)}))}(r1(t=Bt(t,b2)))}(this._delegate)}disableNetwork(){return function Y3e(t){return function A3e(t){return t.asyncQueue.enqueue((0,G.Z)(function*(){const e=yield Yj(t),n=yield Qj(t);return e.setNetworkEnabled(!1),(r=(0,G.Z)(function*(o){const c=Ge(o);c.vu.add(0),yield Gl(c),c.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(n);var r}))}(r1(t=Bt(t,b2)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,r$("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Z3e(t){return function(e){const n=new _1;return e.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function m3e(t,e){return AD.apply(this,arguments)}(yield nA(e),n)})),n.promise}(r1(t=Bt(t,b2)))}(this._delegate)}onSnapshotsInSync(e){return function I4e(t,e){return function k3e(t,e){const n=new FC(e);return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return r=yield Xl(t),o=n,Ge(r).ku.add(o),void o.next();var r,o})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return r=yield Xl(t),o=n,void Ge(r).ku.delete(o);var r,o}))}}(r1(t=Bt(t,b2)),oA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new n8(this,l$(this._delegate,e))}catch(n){throw Sn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Pr(this,GC(this._delegate,e))}catch(n){throw Sn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new In(this,function F3e(t,e){if(t=Bt(t,g9),iA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ye(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new q1(t,null,(n=e,new qs(Gt.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw Sn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function R4e(t,e,n){t=Bt(t,b2);const r=Object.assign(Object.assign({},k4e),n);return function(o){if(o.maxAttempts<1)throw new ye(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,c,u){const p=new _1;return o.asyncQueue.enqueueAndForget((0,G.Z)(function*(){const y=yield function Jj(t){return UC(t).then(e=>e.datastore)}(o);new L3e(o.asyncQueue,y,u,c,p).run()})),p.promise}(r1(t),o=>e(new P4e(t,o)),r)}(this._delegate,n=>e(new P$(this,n)))}batch(){return r1(this._delegate),new R$(new D$(this._delegate,e=>t8(this._delegate,e)))}loadBundle(e){return function Q3e(t,e){const n=r1(t=Bt(t,b2)),r=new U3e;return function P3e(t,e,n,r){const o=function(c,u){let p;return p="string"==typeof c?wU().encode(c):c,y=function(y,b){if(y instanceof Uint8Array)return Zj(y,b);if(y instanceof ArrayBuffer)return Zj(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new z3e(y,u);var y}(n,d9(e));t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){!function S3e(t,e,n){const r=Ge(t);var o;(o=(0,G.Z)(function*(c,u,p){try{const y=yield u.getMetadata();if(yield function(N,U){const ae=Ge(N),Ce=n1(U.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",Me=>ae.qs.getBundleMetadata(Me,U.id)).then(Me=>!!Me&&Me.createTime.compareTo(Ce)>=0)}(c.localStore,y))return yield u.close(),p._completeWith({taskState:"Success",documentsLoaded:(N=y).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);p._updateProgress(Rj(y));const b=new s3e(y,c.localStore,u.serializer);let H=yield u.bc();for(;H;){const N=yield b.zu(H);N&&p._updateProgress(N),H=yield u.bc()}const I=yield b.complete();return yield Ys(c,I.Ju,void 0),yield function(N,U){const ae=Ge(N);return ae.persistence.runTransaction("Save bundle","readwrite",Ce=>ae.qs.saveBundleMetadata(Ce,U))}(c.localStore,y),p._completeWith(I.progress),Promise.resolve(I.Hu)}catch(y){return kr("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var N}),function(c,u,p){return o.apply(this,arguments)})(r,e,n).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield nA(t),o,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function J3e(t,e){return function R3e(t,e){return t.asyncQueue.enqueue((0,G.Z)(function*(){return function(n,r){const o=Ge(n);return o.persistence.runTransaction("Get named query","readonly",c=>o.qs.getNamedQuery(c,r))}(yield jC(t),e)}))}(r1(t=Bt(t,b2)),e).then(n=>n?new q1(t,null,n.query):null)}(this._delegate,e).then(n=>n?new In(this,n):null)}}class n_ extends hA{constructor(e){super(),this.firestore=e}convertBytes(e){return new H9(new qi(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Pr.forKey(n,this.firestore,null)}}class P${constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new n_(e)}get(e){const n=zc(e);return this._delegate.get(n).then(r=>new V9(this._firestore,new Js(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const o=zc(e);return r?(mA("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this}update(e,n,r,...o){const c=zc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...o),this}delete(e){const n=zc(e);return this._delegate.delete(n),this}}class R${constructor(e){this._delegate=e}set(e,n,r){const o=zc(e);return r?(mA("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this}update(e,n,r,...o){const c=zc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,r,...o),this}delete(e){const n=zc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Ic{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new b9(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new S9(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Ic.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(n);return c||(c=new Ic(e,new n_(e),n),o.set(n,c)),c}}Ic.INSTANCES=new WeakMap;class Pr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new n_(e)}static forPath(e,n,r){if(e.length%2!=0)throw new ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Pr(n,new w2(n._delegate,r,new Ue(e)))}static forKey(e,n,r){return new Pr(n,new w2(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new n8(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new n8(this.firestore,l$(this._delegate,e))}catch(n){throw Sn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,tt.m9)(e))instanceof w2&&u$(this._delegate,e)}set(e,n){n=mA("DocumentReference.set",n);try{return n?E$(this._delegate,e,n):E$(this._delegate,e)}catch(r){throw Sn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?L$(this._delegate,e):L$(this._delegate,e,n,...r)}catch(o){throw Sn(o,"updateDoc()","DocumentReference.update()")}}delete(){return function V4e(t){return t8(Bt(t.firestore,b2),[new Rl(t._key,z2.none())])}(this._delegate)}onSnapshot(...e){const n=O$(e),r=F$(e,o=>new V9(this.firestore,new Js(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return x$(this._delegate,n,r)}get(e){let n;return n="cache"===e?.source?function _4e(t){t=Bt(t,w2);const e=Bt(t.firestore,b2),n=r1(e),r=new K4(e);return function T3e(t,e){const n=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(r=(0,G.Z)(function*(o,c,u){try{const p=yield function(y,b){const H=Ge(y);return H.persistence.runTransaction("read document","readonly",I=>H.localDocuments.getDocument(I,b))}(o,c);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new ye(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=Zl(p,`Failed to get document '${c} from cache`);u.reject(y)}}),function(o,c,u){return r.apply(this,arguments)})(yield jC(t),e,n);var r})),n.promise}(n,t._key).then(o=>new Js(e,r,t._key,o,new Sc(null!==o&&o.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function M4e(t){t=Bt(t,w2);const e=Bt(t.firestore,b2);return Xj(r1(e),t._key,{source:"server"}).then(n=>pA(e,t,n))}(this._delegate):function C4e(t){t=Bt(t,w2);const e=Bt(t.firestore,b2);return Xj(r1(e),t._key).then(n=>pA(e,t,n))}(this._delegate),n.then(r=>new V9(this.firestore,new Js(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Pr(this.firestore,this._delegate.withConverter(e?Ic.getInstance(this.firestore,e):null))}}function Sn(t,e,n){return t.message=t.message.replace(e,n),t}function O$(t){for(const e of t)if("object"==typeof e&&!gA(e))return e;return{}}function F$(t,e){var n,r;let o;return o=gA(t[0])?t[0]:gA(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(n=o.error)||void 0===n?void 0:n.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class V9{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Pr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return z$(this._delegate,e._delegate)}}class S9 extends V9{data(e){const n=this._delegate.data(e);return function Rre(t,e){t||Xe()}(void 0!==n),n}}class In{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new n_(e)}where(e,n,r){try{return new In(this.firestore,W4(this._delegate,function c4e(t,e,n){const r=e,o=QC("where",t);return w9._create(o,r,n)}(e,n,r)))}catch(o){throw Sn(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new In(this.firestore,W4(this._delegate,function l4e(t,e="asc"){const n=e,r=QC("orderBy",t);return dA._create(r,n)}(e,n)))}catch(r){throw Sn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new In(this.firestore,W4(this._delegate,function u4e(t){return o$("limit",t),JC._create("limit",t,"F")}(e)))}catch(n){throw Sn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new In(this.firestore,W4(this._delegate,function f4e(t){return o$("limitToLast",t),JC._create("limitToLast",t,"L")}(e)))}catch(n){throw Sn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new In(this.firestore,W4(this._delegate,function d4e(...t){return XC._create("startAt",t,!0)}(...e)))}catch(n){throw Sn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new In(this.firestore,W4(this._delegate,function h4e(...t){return XC._create("startAfter",t,!1)}(...e)))}catch(n){throw Sn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new In(this.firestore,W4(this._delegate,function p4e(...t){return e_._create("endBefore",t,!1)}(...e)))}catch(n){throw Sn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new In(this.firestore,W4(this._delegate,function m4e(...t){return e_._create("endAt",t,!0)}(...e)))}catch(n){throw Sn(n,"endAt()","Query.endAt()")}}isEqual(e){return sA(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function b4e(t){t=Bt(t,q1);const e=Bt(t.firestore,b2),n=r1(e),r=new K4(e);return function N3e(t,e){const n=new _1;return t.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return(r=(0,G.Z)(function*(o,c,u){try{const p=yield AC(o,c,!0),y=new Bj(c,p.ir),b=y.sc(p.documents),H=y.applyChanges(b,!1);u.resolve(H.snapshot)}catch(p){const y=Zl(p,`Failed to execute query '${c} against cache`);u.reject(y)}}),function(o,c,u){return r.apply(this,arguments)})(yield jC(t),e,n);var r})),n.promise}(n,t._query).then(o=>new Z4(e,r,t,o))}(this._delegate):"server"===e?.source?function H4e(t){t=Bt(t,q1);const e=Bt(t.firestore,b2),n=r1(e),r=new K4(e);return e$(n,t._query,{source:"server"}).then(o=>new Z4(e,r,t,o))}(this._delegate):function w4e(t){t=Bt(t,q1);const e=Bt(t.firestore,b2),n=r1(e),r=new K4(e);return M$(t._query),e$(n,t._query).then(o=>new Z4(e,r,t,o))}(this._delegate),n.then(r=>new vA(this.firestore,new Z4(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=O$(e),r=F$(e,o=>new vA(this.firestore,new Z4(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return x$(this._delegate,n,r)}withConverter(e){return new In(this.firestore,this._delegate.withConverter(e?Ic.getInstance(this.firestore,e):null))}}class K4e{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new S9(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vA{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new In(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new S9(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new K4e(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new S9(this._firestore,r))})}isEqual(e){return z$(this._delegate,e._delegate)}}class n8 extends In{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Pr(this.firestore,e):null}doc(e){try{return new Pr(this.firestore,void 0===e?GC(this._delegate):GC(this._delegate,e))}catch(n){throw Sn(n,"doc()","CollectionReference.doc()")}}add(e){return function S4e(t,e){const n=Bt(t.firestore,b2),r=GC(t),o=t_(t.converter,e);return t8(n,[ZC(Hc(t.firestore),"addDoc",r._key,o,null!==t.converter,{}).toMutation(r._key,z2.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new Pr(this.firestore,n))}isEqual(e){return u$(this._delegate,e._delegate)}withConverter(e){return new n8(this.firestore,this._delegate.withConverter(e?Ic.getInstance(this.firestore,e):null))}}function zc(t){return Bt(t,w2)}class yA{constructor(...e){this._delegate=new Qs(...e)}static documentId(){return new yA(F2.keyField().canonicalString())}isEqual(e){return(e=(0,tt.m9)(e))instanceof Qs&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ec{constructor(e){this._delegate=e}static serverTimestamp(){const e=function F4e(){return new aA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ec(e)}static delete(){const e=function O4e(){return new y9("deleteField")}();return e._methodName="FieldValue.delete",new Ec(e)}static arrayUnion(...e){const n=function B4e(...t){return new r4e("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Ec(n)}static arrayRemove(...e){const n=function U4e(...t){return new i4e("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Ec(n)}static increment(e){const n=function j4e(t){return new s4e("increment",t)}(e);return n._methodName="FieldValue.increment",new Ec(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Y4e={Firestore:k$,GeoPoint:qC,Timestamp:I2,Blob:H9,Transaction:P$,WriteBatch:R$,DocumentReference:Pr,DocumentSnapshot:V9,Query:In,QueryDocumentSnapshot:S9,QuerySnapshot:vA,CollectionReference:n8,FieldPath:yA,FieldValue:Ec,setLogLevel:function Z4e(t){!function Pre(t){x4.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function J4e(t){(function Q4e(t,e){t.INTERNAL.registerComponent(new ri.wA("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),o=n.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},Y4e)))})(t,(e,n)=>new k$(e,n,new W4e)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(Ene.Z);var B$=k(8645),X4e=k(3019),Q4=k(4664);class eoe extends B$.x{constructor(e=1/0,n=1/0,r=fz){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:u}=this;n||(r.push(e),!o&&r.push(c.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let u=0;u<c.length&&!e.closed;u+=r?1:2)e.next(c[u]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const u=n.now();let p=0;for(let y=1;y<r.length&&r[y]<=u;y+=2)p=y;p&&r.splice(0,p+1)}}}var toe=k(3020);function U$(t,e,n){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:n}=t):r=t??1/0,(0,toe.B)({connector:()=>new eoe(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const j$=(0,k(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var roe=k(6232);function ooe(t=aoe){return(0,z4.e)((e,n)=>{let r=!1;e.subscribe((0,nc.x)(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function aoe(){return new j$}function $$(t,e){return(0,WO.m)(e)?(0,Q4.w)(()=>t,e):(0,Q4.w)(()=>t)}class r8{constructor(e){return e}}class r_{constructor(){return(0,Tt.getApps)()}}const CA=new m.OlP("angularfire2._apps"),uoe={provide:r8,useFactory:function loe(t){return t&&1===t.length?t[0]:new r8((0,Tt.getApp)())},deps:[[new m.FiY,CA]]},foe={provide:r_,deps:[[new m.FiY,CA]]};function doe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new r8(r)}}let hoe=(()=>{class t{constructor(n){(0,Tt.registerVersion)("angularfire",hf.full,"core"),(0,Tt.registerVersion)("angularfire",hf.full,"app"),(0,Tt.registerVersion)("angular",m.q4F.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(m.Lbi))},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[uoe,foe]}),t})();function _A(t,...e){return{ngModule:hoe,providers:[{provide:CA,useFactory:doe(t),multi:!0,deps:[m.R0b,m.zs3,_l,...e]}]}}const MA=zy(Tt.getApp,!0),wA=new Map,G$={activated:!1,tokenObservers:[]},poe={initialized:!1,enabled:!1};function U2(t){return wA.get(t)||Object.assign({},G$)}function i_(){return poe}const bA="https://content-firebaseappcheck.googleapis.com/v1",yoe="exchangeDebugToken",q$={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class _oe{constructor(e,n,r,o,c){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,G.Z)(function*(){n.stop();try{n.pending=new tt.BH,yield function Moe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new tt.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const W1=new tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function s_(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function HA(t){if(!U2(t).activated)throw W1.create("use-before-activation",{appName:t.name})}function VA(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),o=Math.floor((e-3600*n*24-3600*r)/60),c=e-3600*n*24-3600*r-60*o;let u="";return n&&(u+=o_(n)+"d:"),r&&(u+=o_(r)+"h:"),u+=o_(o)+"m:"+o_(c)+"s",u}function o_(t){return 0===t?"00":t>=10?t.toString():"0"+t}function a_(t,e){return SA.apply(this,arguments)}function SA(){return SA=(0,G.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const I=yield o.getHeartbeatsHeader();I&&(r["X-Firebase-Client"]=I)}const c={method:"POST",body:JSON.stringify(e),headers:r};let u,p;try{u=yield fetch(t,c)}catch(I){throw W1.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==u.status)throw W1.create("fetch-status-error",{httpStatus:u.status});try{p=yield u.json()}catch(I){throw W1.create("fetch-parse-error",{originalErrorMessage:I?.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw W1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const b=1e3*Number(y[1]),H=Date.now();return{token:p.token,expireTimeMillis:H+b,issuedAtTimeMillis:H}}),SA.apply(this,arguments)}function W$(t,e){const{projectId:n,appId:r,apiKey:o}=t.options;return{url:`${bA}/projects/${n}/apps/${r}:${yoe}?key=${o}`,body:{debug_token:e}}}const Voe="firebase-app-check-database",Soe=1,I9="firebase-app-check-store",Z$="debug-token";let c_=null;function K$(){return c_||(c_=new Promise((t,e)=>{try{const n=indexedDB.open(Voe,Soe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var o;e(W1.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(I9,{keyPath:"compositeKey"})}}catch(n){e(W1.create("storage-open",{originalErrorMessage:n?.message}))}}),c_)}function Y$(t,e){return IA.apply(this,arguments)}function IA(){return IA=(0,G.Z)(function*(t,e){const r=(yield K$()).transaction(I9,"readwrite"),c=r.objectStore(I9).put({compositeKey:t,value:e});return new Promise((u,p)=>{c.onsuccess=y=>{u()},r.onerror=y=>{var b;p(W1.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),IA.apply(this,arguments)}function Q$(t){return zA.apply(this,arguments)}function zA(){return zA=(0,G.Z)(function*(t){const n=(yield K$()).transaction(I9,"readonly"),o=n.objectStore(I9).get(t);return new Promise((c,u)=>{o.onsuccess=p=>{const y=p.target.result;c(y?y.value:void 0)},n.onerror=p=>{var y;u(W1.create("storage-get",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),zA.apply(this,arguments)}function J$(t){return`${t.options.appId}-${t.name}`}const z9=new ii.Yd("@firebase/app-check");function EA(){return EA=(0,G.Z)(function*(t){if((0,tt.hl)()){let e;try{e=yield function Ioe(t){return Q$(J$(t))}(t)}catch(n){z9.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),EA.apply(this,arguments)}function LA(t,e){return(0,tt.hl)()?function zoe(t,e){return Y$(J$(t),e)}(t,e).catch(n=>{z9.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function xA(){return xA=(0,G.Z)(function*(){let t;try{t=yield function Loe(){return Q$(Z$)}()}catch{}if(t)return t;{const e=(0,tt.k$)();return function Eoe(t){return Y$(Z$,t)}(e).catch(n=>z9.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),xA.apply(this,arguments)}function DA(){return i_().enabled}function AA(){return TA.apply(this,arguments)}function TA(){return TA=(0,G.Z)(function*(){const t=i_();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),TA.apply(this,arguments)}const Toe={error:"UNKNOWN_ERROR"};function Noe(t){return tt.US.encodeString(JSON.stringify(t),!1)}function l_(t){return NA.apply(this,arguments)}function NA(){return NA=(0,G.Z)(function*(t,e=!1){const n=t.app;HA(n);const r=U2(n);let c,o=r.token;if(o&&!i8(o)&&(r.token=void 0,o=void 0),!o){const y=yield r.cachedTokenPromise;y&&(i8(y)?o=y:yield LA(n,void 0))}if(!e&&o&&i8(o))return{token:o.token};let p,u=!1;if(DA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=a_(W$(n,yield AA()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const y=yield r.exchangeTokenPromise;return yield LA(n,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),o=yield U2(n).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?z9.warn(y.message):z9.error(y),c=y}return o?c?p=i8(o)?{token:o.token,internalError:c}:nG(c):(p={token:o.token},r.token=o,yield LA(n,o)):p=nG(c),u&&tG(n,p),p}),NA.apply(this,arguments)}function kA(){return kA=(0,G.Z)(function*(t){const e=t.app;HA(e);const{provider:n}=U2(e);if(DA()){const r=yield AA(),{token:o}=yield a_(W$(e,r),t.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield n.getToken();return{token:r}}}),kA.apply(this,arguments)}function PA(t,e,n,r){const{app:o}=t,c=U2(o);if(c.tokenObservers=[...c.tokenObservers,{next:n,error:r,type:e}],c.token&&i8(c.token)){const p=c.token;Promise.resolve().then(()=>{n({token:p.token}),eG(t)}).catch(()=>{})}c.cachedTokenPromise.then(()=>eG(t))}function RA(t,e){const n=U2(t),r=n.tokenObservers.filter(o=>o.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function eG(t){const{app:e}=t,n=U2(e);let r=n.tokenRefresher;r||(r=function koe(t){const{app:e}=t;return new _oe((0,G.Z)(function*(){let r;if(r=U2(e).token?yield l_(t,!0):yield l_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=U2(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},q$.RETRIAL_MIN_WAIT,q$.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function tG(t,e){const n=U2(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function i8(t){return t.expireTimeMillis-Date.now()>0}function nG(t){return{token:Noe(Toe),error:t}}class Poe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=U2(this.app);for(const n of e)RA(this.app,n.next);return Promise.resolve()}}function $oe(t,e){const n=new tt.BH;U2(t).reCAPTCHAState={initialized:n};const o=function rG(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),c=s_(!1);return c?u_(t,e,c,o,n):function Woe(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const u=s_(!1);if(!u)throw new Error("no recaptcha");u_(t,e,u,o,n)}),n.promise}function u_(t,e,n,r,o){n.ready(()=>{(function qoe(t,e,n,r){const o=n.render(r,{sitekey:e,size:"invisible",callback:()=>{U2(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{U2(t).reCAPTCHAState.succeeded=!1}}),c=U2(t);c.reCAPTCHAState=Object.assign(Object.assign({},c.reCAPTCHAState),{widgetId:o})})(t,e,n,r),o.resolve(n)})}function OA(){return OA=(0,G.Z)(function*(t){HA(t);const n=yield U2(t).reCAPTCHAState.initialized.promise;return new Promise((r,o)=>{const c=U2(t).reCAPTCHAState;n.ready(()=>{r(n.execute(c.widgetId,{action:"fire_app_check"}))})})}),OA.apply(this,arguments)}class E9{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return(0,G.Z)(function*(){var n,r,o;!function cG(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw W1.create("throttled",{time:VA(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const c=yield function iG(t){return OA.apply(this,arguments)}(e._app).catch(p=>{throw W1.create("recaptcha-error")});if(null===(n=U2(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw W1.create("recaptcha-error");let u;try{u=yield a_(function boe(t,e){const{projectId:n,appId:r,apiKey:o}=t.options;return{url:`${bA}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${o}`,body:{recaptcha_v3_token:e}}}(e._app,c),e._heartbeatServiceProvider)}catch(p){throw null!==(r=p.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function aG(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=(0,tt.$s)(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(o=p.customData)||void 0===o?void 0:o.httpStatus),e._throttleData),W1.create("throttled",{time:VA(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):p}return e._throttleData=null,u})()}initialize(e){this._app=e,this._heartbeatServiceProvider=(0,Tt._getProvider)(e,"heartbeat"),$oe(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof E9&&this._siteKey===e._siteKey}}function Koe(t=(0,Tt.getApp)(),e){t=(0,tt.m9)(t);const n=(0,Tt._getProvider)(t,"app-check");if(i_().initialized||function Aoe(){const t=(0,tt.Rd)(),e=i_();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new tt.BH;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function Doe(){return xA.apply(this,arguments)}())}(),DA()&&AA().then(o=>console.log(`App Check debug token: ${o}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(c.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&c.provider.isEqual(e.provider))return o;throw W1.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function Yoe(t,e,n){const r=function moe(t,e){return wA.set(t,e),wA.get(t)}(t,Object.assign({},G$));r.activated=!0,r.provider=e,r.cachedTokenPromise=function xoe(t){return EA.apply(this,arguments)}(t).then(o=>(o&&i8(o)&&(r.token=o,tG(t,{token:o.token})),o)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),U2(t).isTokenAutoRefreshEnabled&&PA(r,"INTERNAL",()=>{}),r}const lG="app-check-internal";!function Joe(){(0,Tt._registerComponent)(new ri.wA("app-check",t=>function Roe(t,e){return new Poe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(lG).initialize()})),(0,Tt._registerComponent)(new ri.wA(lG,t=>function Ooe(t){return{getToken:e=>l_(t,e),getLimitedUseToken:()=>function X$(t){return kA.apply(this,arguments)}(t),addTokenListener:e=>PA(t,"INTERNAL",e),removeTokenListener:e=>RA(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Tt.registerVersion)("@firebase/app-check","0.8.0")}();const uG="app-check";class BA{constructor(e){return e}}class L9{constructor(){return lL(uG)}}const UA=new m.OlP("angularfire2.app-check-instances"),eae=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function tae(t){return(e,n,r)=>{var o;!sf(r)&&((0,m.X6Q)()||eae)&&(null!==(o=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==o||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const c=e.runOutsideAngular(()=>t(n));return new BA(c)}}const nae={provide:L9,deps:[[new m.FiY,UA]]},rae={provide:BA,useFactory:function Xoe(t,e){const n=cL(uG,t,e);return n&&new BA(n)},deps:[[new m.FiY,UA],r8,m.Lbi]};let iae=(()=>{class t{constructor(){(0,Tt.registerVersion)("angularfire",hf.full,"app-check")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[rae,nae]}),t})();function jA(t,...e){return{ngModule:iae,providers:[{provide:UA,useFactory:tae(t),multi:!0,deps:[m.R0b,m.zs3,m.Lbi,_l,r_,...e]}]}}const $A=zy(Koe,!0);var f_=k(7142);const fG=new m.OlP("angularfire2.auth.use-emulator"),dG=new m.OlP("angularfire2.auth.settings"),hG=new m.OlP("angularfire2.auth.tenant-id"),pG=new m.OlP("angularfire2.auth.langugage-code"),mG=new m.OlP("angularfire2.auth.use-device-language"),gG=new m.OlP("angularfire.auth.persistence"),vG=(t,e,n,r,o,c,u,p)=>(0,hr.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const y=e.runOutsideAngular(()=>t.auth());if(n&&y.useEmulator(...n),r&&(y.tenantId=r),y.languageCode=o,c&&y.useDeviceLanguage(),u)for(const[b,H]of Object.entries(u))y.settings[b]=H;return p&&y.setPersistence(p),y},[n,r,o,c,u,p]);let GA=(()=>{class t{constructor(n,r,o,c,u,p,y,b,H,I,N,U){const ae=new B$.x,Ce=(0,ml.of)(void 0).pipe((0,yl.Q)(u.outsideAngular),(0,Q4.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,dr.U)(()=>(0,hr.on)(n,c,r)),(0,dr.U)(Me=>vG(Me,c,p,b,H,I,y,N)),U$({bufferSize:1,refCount:!1}));if(sf(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ml.of)(null);else{Ce.pipe(function coe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ey((o,c)=>t(o,c,r)):ZO.y,function ioe(t){return t<=0?()=>roe.E:(0,z4.e)((e,n)=>{let r=0;e.subscribe((0,nc.x)(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}(1),n?function soe(t){return(0,z4.e)((e,n)=>{let r=!1;e.subscribe((0,nc.x)(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}(e):ooe(()=>new j$))}()).subscribe();const je=Ce.pipe((0,Q4.w)(st=>st.getRedirectResult().then(lt=>lt,()=>null)),fr,U$({bufferSize:1,refCount:!1})),qe=Ce.pipe((0,Q4.w)(st=>new uf.y(lt=>({unsubscribe:c.runOutsideAngular(()=>st.onAuthStateChanged(It=>lt.next(It),It=>lt.error(It),()=>lt.complete()))})))),Ze=Ce.pipe((0,Q4.w)(st=>new uf.y(lt=>({unsubscribe:c.runOutsideAngular(()=>st.onIdTokenChanged(It=>lt.next(It),It=>lt.error(It),()=>lt.complete()))}))));this.authState=je.pipe($$(qe),(0,df.R)(u.outsideAngular),(0,yl.Q)(u.insideAngular)),this.user=je.pipe($$(Ze),(0,df.R)(u.outsideAngular),(0,yl.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,Q4.w)(st=>st?(0,Qa.D)(st.getIdToken()):(0,ml.of)(null))),this.idTokenResult=this.user.pipe((0,Q4.w)(st=>st?(0,Qa.D)(st.getIdTokenResult()):(0,ml.of)(null))),this.credential=(0,X4e.T)(je,ae,this.authState.pipe(Ey(st=>!st))).pipe((0,dr.U)(st=>st?.user?st:null),(0,df.R)(u.outsideAngular),(0,yl.Q)(u.insideAngular))}return(0,hr.pX)(this,Ce,c,{spy:{apply:(Me,je,qe)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&qe.then(Ze=>ae.next(Ze))}}})}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(hr.Dh),m.LFG(hr.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(_l),m.LFG(fG,8),m.LFG(dG,8),m.LFG(hG,8),m.LFG(pG,8),m.LFG(mG,8),m.LFG(gG,8),m.LFG(L9,8))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function yG(t,e){return function oae(t,e=UR){return new uf.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}(t,e)}function qA(t,e){return yG(t,e).pipe((0,dr.U)(n=>({payload:n,type:"query"})))}function d_(t,e){return qA(t,e).pipe(uL(void 0),fL(),(0,dr.U)(([n,r])=>{const o=r.payload.docChanges(),c=o.map(u=>({type:u.type,payload:u}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,p)=>{const y=o.find(H=>H.doc.ref.isEqual(u.ref)),b=n?.payload.docs.find(H=>H.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||c.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),c}))}function CG(t,e,n){return d_(t,n).pipe(dL((r,o)=>function cae(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function lae(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return WA(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return WA(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return WA(t,e.oldIndex,1)}return t}(t,r))}),t}(r,o.map(c=>c.payload),e),[]),(0,zne.x)(),(0,dr.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function WA(t,e,n,...r){const o=t.slice();return o.splice(e,n,...r),o}function _G(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class MG{constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=d_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,dr.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),n.pipe(uL(void 0),fL(),Ey(([r,o])=>o.length>0||!r),(0,dr.U)(([r,o])=>o),fr)}auditTrail(e){return this.stateChanges(e).pipe(dL((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=_G(e);return CG(this.query,n,this.afs.schedulers.outsideAngular).pipe(fr)}valueChanges(e={}){return qA(this.query,this.afs.schedulers.outsideAngular).pipe((0,dr.U)(n=>n.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),fr)}get(e){return(0,Qa.D)(this.query.get(e)).pipe(fr)}add(e){return this.ref.add(e)}doc(e){return new wG(this.ref.doc(e),this.afs)}}class wG{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:o,query:c}=bG(r,n);return new MG(o,c,this.afs)}snapshotChanges(){return function aae(t,e){return yG(t,e).pipe(uL(void 0),fL(),(0,dr.U)(([n,r])=>r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(fr)}valueChanges(e={}){return this.snapshotChanges().pipe((0,dr.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,Qa.D)(this.ref.get(e)).pipe(fr)}}class uae{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?d_(this.query,this.afs.schedulers.outsideAngular).pipe((0,dr.U)(n=>n.filter(r=>e.indexOf(r.type)>-1)),Ey(n=>n.length>0),fr):d_(this.query,this.afs.schedulers.outsideAngular).pipe(fr)}auditTrail(e){return this.stateChanges(e).pipe(dL((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=_G(e);return CG(this.query,n,this.afs.schedulers.outsideAngular).pipe(fr)}valueChanges(e={}){return qA(this.query,this.afs.schedulers.outsideAngular).pipe((0,dr.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),fr)}get(e){return(0,Qa.D)(this.query.get(e)).pipe(fr)}}const fae=new m.OlP("angularfire2.enableFirestorePersistence"),dae=new m.OlP("angularfire2.firestore.persistenceSettings"),hae=new m.OlP("angularfire2.firestore.settings"),pae=new m.OlP("angularfire2.firestore.use-emulator");function bG(t,e=(n=>n)){return{query:e(t),ref:t}}let ZA=(()=>{class t{constructor(n,r,o,c,u,p,y,b,H,I,N,U,ae,Ce,Me,je,qe){this.schedulers=y;const Ze=(0,hr.on)(n,p,r),st=H;I&&vG(Ze,p,N,ae,Ce,Me,U,je),[this.firestore,this.persistenceEnabled$]=(0,hr.cc)(`${Ze.name}.firestore`,"AngularFirestore",Ze.name,()=>{const lt=p.runOutsideAngular(()=>Ze.firestore());if(c&&lt.settings(c),st&&lt.useEmulator(...st),o&&!sf(u)){const It=()=>{try{return(0,Qa.D)(lt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(E2){return typeof console<"u"&&console.warn(E2),(0,ml.of)(!1)}};return[lt,p.runOutsideAngular(It)]}return[lt,(0,ml.of)(!1)]},[c,st,o])}collection(n,r){let o;o="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:u}=bG(o,r),p=this.schedulers.ngZone.run(()=>c);return new MG(p,u,this)}collectionGroup(n,r){const o=r||(u=>u),c=this.firestore.collectionGroup(n);return new uae(o(c),this)}doc(n){let r;r="string"==typeof n?this.firestore.doc(n):n;const o=this.schedulers.ngZone.run(()=>r);return new wG(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(m.LFG(hr.Dh),m.LFG(hr.xv,8),m.LFG(fae,8),m.LFG(hae,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(_l),m.LFG(dae,8),m.LFG(pae,8),m.LFG(GA,8),m.LFG(fG,8),m.LFG(dG,8),m.LFG(hG,8),m.LFG(pG,8),m.LFG(mG,8),m.LFG(gG,8),m.LFG(L9,8))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),HG=(()=>{var t;class e{constructor(){this.firestore=(0,m.f3M)(ZA),this.dgAPI=(0,m.f3M)(pl)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){this.firestore.collection("scans",o=>o.where("location","==",r.planetScan.location).limit(1)).get().subscribe(o=>{let c=Object.assign(new NR,o.docChanges().map(u=>u.doc.data())[0]);c.location=r.planetScan.location,c.turn=r.planetScan.turn,c.owner=r.planetScan.owner,(r.type==sn.RESOURCE||r.type==sn.SURFACE)&&(c.orbit=r.planetScan.orbit,c.ground=r.planetScan.ground),r.type==sn.RESOURCE&&(c.resources.length>0?c.resources.forEach((u,p)=>{u.abundance=r.planetScan.resources[p].abundance,u.name=r.planetScan.resources[p].name}):c.resources=r.planetScan.resources),r.type==sn.SURFACE&&(c.resources=r.planetScan.resources,c.workers=r.planetScan.workers,c.soldiers=r.planetScan.soldiers,c.structures=r.planetScan.structures),r.type==sn.FLEET&&(c.fleets=r.planetScan.fleets),0==o.size?this.firestore.collection("scans").add(JSON.parse(JSON.stringify(c))):this.firestore.collection("scans").doc(o.docs[0].id).set(JSON.parse(JSON.stringify(c)))})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var mae=f_.Z.auth.GoogleAuthProvider;let s8=(()=>{var t;class e{constructor(){this.auth=(0,m.f3M)(GA),this.firestore=(0,m.f3M)(ZA),this._loggedStatus=new m.vpe,this.id=crypto.randomUUID(),null==this.authSubscription&&(this.authSubscription=this.auth.authState.subscribe(r=>{null!=r?this.firestore.collection("valid-users",o=>o.where("email","==",r.email).limit(1)).get().subscribe(o=>{1==o.size?Object.assign({email:"",enabled:!1},o.docChanges().map(u=>u.doc.data())[0]).enabled?(localStorage.setItem("user",JSON.stringify(r)),this._loggedStatus.emit(!0)):this.signOut(!1).catch(u=>{console.log(u.message)}):this.signOut(!1).catch(c=>{console.log(c.message)})}):(localStorage.removeItem("user"),this._loggedStatus.emit(!1))}))}ngOnDestroy(){this.authSubscription.unsubscribe()}signIn(r,o){console.log("email: "+r+"; pass: "+o),this.auth.signInWithEmailAndPassword(r,o).catch(c=>{window.alert(c.message)})}signInWithGoogle(){this.auth.signInWithPopup(new mae).catch(r=>{window.alert(r.message)})}signOut(r){var o=this;return(0,G.Z)(function*(){console.log("inside logout"),yield o.auth.signOut(),localStorage.removeItem("user"),o._loggedStatus.emit(!1),r&&location.reload()})()}get loggedStatus(){return this._loggedStatus}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function gae(t,e){1&t&&(m.TgZ(0,"p",1),m._uU(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),m.qZA())}let vae=(()=>{var t;class e{constructor(){this.scansService=(0,m.f3M)(HG),this.authService=(0,m.f3M)(s8),this.active=!1}ngOnInit(){this.authService.loggedStatus.subscribe(r=>{if(r){let o=this.scansService.extractScan();null!=o&&this.scansService.updateScan(o),this.active=!0}else this.active=!1})}ngOnDestroy(){this.authService.loggedStatus.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,o){1&r&&m.YNc(0,gae,2,0,"p",0),2&r&&m.Q6J("ngIf",o.active)},dependencies:[vy]}),e})();const Xs={firebase:{apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6LfICx0oAAAAAEd5kbT41ZHF2Zbgba9ocRB7guP6"}}};var yae=k(6878);class KA{constructor(e){return e}}class SG{constructor(){return lL("auth")}}const YA=new m.OlP("angularfire2.auth-instances");function _ae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new KA(r)}}const Mae={provide:SG,deps:[[new m.FiY,YA]]},wae={provide:KA,useFactory:function Cae(t,e){const n=cL("auth",t,e);return n&&new KA(n)},deps:[[new m.FiY,YA],r8]};let bae=(()=>{class t{constructor(){(0,Tt.registerVersion)("angularfire",hf.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[wae,Mae]}),t})();function QA(t,...e){return{ngModule:bae,providers:[{provide:YA,useFactory:_ae(t),multi:!0,deps:[m.R0b,m.zs3,_l,r_,[new m.FiY,L9],...e]}]}}const JA=zy(yae.o,!0);class XA{constructor(e){return e}}const IG="firestore",eT=new m.OlP("angularfire2.firestore-instances");function Sae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new XA(r)}}const Iae={provide:class Hae{constructor(){return lL(IG)}},deps:[[new m.FiY,eT]]},zae={provide:XA,useFactory:function Vae(t,e){const n=cL(IG,t,e);return n&&new XA(n)},deps:[[new m.FiY,eT],r8]};let Eae=(()=>{class t{constructor(){(0,Tt.registerVersion)("angularfire",hf.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[zae,Iae]}),t})();function tT(t,...e){return{ngModule:Eae,providers:[{provide:eT,useFactory:Sae(t),multi:!0,deps:[m.R0b,m.zs3,_l,r_,[new m.FiY,SG],[new m.FiY,L9],...e]}]}}const nT=zy($3e,!0);var Lae=f_.Z.initializeApp;let xae=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[vae]}),t.\u0275inj=m.cJS({providers:[{provide:hr.Dh,useValue:Xs.firebase},HG,s8,pl],imports:[cf,_A(()=>Lae(Xs.firebase)),QA(()=>JA()),tT(()=>nT()),jA(()=>$A(MA(),{provider:new E9(Xs.firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),zG=(()=>{var t;class e{constructor(){this.document=(0,m.f3M)(lr),this.resourceProductionFormatterPipe=(0,m.f3M)(uz),this.decimalPipe=(0,m.f3M)(hl),this.dgAPI=(0,m.f3M)(pl),this.firestore=(0,m.f3M)(ZA)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let o=r.map(c=>c.location.join("."));this.firestore.collection("scans",c=>c.where("location","in",o)).get().subscribe(c=>{let p=Object.assign([],c.docChanges().map(y=>y.doc.data())).reduce((y,b)=>y.set(b.location,b),new Map);this.document.querySelectorAll("div.navigation div.planets").forEach(y=>{let b=y.querySelector("div.coords > span").textContent.trim(),H=p.get(b);if(H){y.querySelector(".dgt-navigation-scan-turn .dgt-navigation-scan-turn-value").textContent=this.decimalPipe.transform(H.turn,"1.0","en_US"),H.resources.forEach(N=>{y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+N.name+" .abundance").textContent=N.abundance.toString()+"%",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+N.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(N.production).trim()});let I=H.structures.map(N=>N.name);if(I.includes(on.JUMP_GATE)){let N=document.createElement("span");N.classList.add("dgt-navigation-scan-jg"),N.textContent="JG",y.querySelector(".coords").append(N)}if(I.includes(on.HYPERSPACE_BEACON)){let N=document.createElement("span");N.classList.add("dgt-navigation-scan-hb"),N.textContent="HB",y.querySelector(".coords").append(N)}if(H.workers.currentNumber>0||H.soldiers>0){y.querySelector(".dgt-navigation-scan-population .dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(H.workers.currentNumber,"1.0","en_US"),y.querySelector(".dgt-navigation-scan-population .dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(H.soldiers,"1.0","en_US");let N=H.workers.currentNumber/15+H.soldiers/2*3+1;y.querySelector(".dgt-navigation-scan-invasion-value").textContent=this.decimalPipe.transform(Math.ceil(N),"1.0","en_US"),y.querySelector(".dgt-navigation-scan-population").style.display="",y.querySelector(".dgt-navigation-scan-invasion-data").style.display=""}}else y.querySelector(".dgt-navigation-scan-turn .dgt-navigation-scan-turn-value").textContent="N/A",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.metal .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.mineral .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.food .abundance").textContent="-",y.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource.energy .abundance").textContent="-"})})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Dae(t,e){1&t&&(m.TgZ(0,"p",1),m._uU(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),m.qZA())}let Aae=(()=>{var t;class e{constructor(){this.authService=(0,m.f3M)(s8),this.scansService=(0,m.f3M)(zG),this.active=!1,console.log("authService in scan - "+this.authService.id)}ngOnInit(){this.authService.loggedStatus.subscribe(r=>{if(r){let o=this.scansService.extractSummaries();o.length>0&&this.scansService.fillScans(o),this.active=!0}else this.active=!1})}ngOnDestroy(){this.authService.loggedStatus.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,o){1&r&&m.YNc(0,Dae,2,0,"p",0),2&r&&m.Q6J("ngIf",o.active)},dependencies:[vy]}),e})();var Tae=f_.Z.initializeApp;let Nae=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[Aae]}),t.\u0275inj=m.cJS({providers:[{provide:hr.Dh,useValue:Xs.firebase},hl,uz,zG,s8,pl],imports:[cf,_A(()=>Tae(Xs.firebase)),QA(()=>JA()),tT(()=>nT()),jA(()=>$A(MA(),{provider:new E9(Xs.firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function kae(t,e){if(1&t){const n=m.EpF();m.TgZ(0,"div",2)(1,"span"),m._uU(2,"DarkGalaxy Tools Login"),m.qZA(),m._UZ(3,"input",3,4)(5,"input",5,6),m.TgZ(7,"button",7),m.NdJ("click",function(){m.CHM(n);const o=m.MAs(4),c=m.MAs(6),u=m.oxw();return m.KtG(u.authService.signIn(o.value,c.value))}),m._uU(8,"Login"),m.qZA(),m.TgZ(9,"button",7),m.NdJ("click",function(){m.CHM(n);const o=m.oxw();return m.KtG(o.authService.signInWithGoogle())}),m._uU(10,"Login with Google"),m.qZA()()}}function Pae(t,e){if(1&t){const n=m.EpF();m.TgZ(0,"div",8)(1,"button",7),m.NdJ("click",function(){m.CHM(n);const o=m.oxw();return m.KtG(o.authService.signOut(!0))}),m._uU(2,"Logout"),m.qZA()()}}let Rae=(()=>{var t;class e{constructor(){this.authService=(0,m.f3M)(s8),this.localStorage=localStorage,console.log("authService in login - "+this.authService.id)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["dgt-authentication"]],decls:2,vars:2,consts:[["class","login","id","dgt-login",4,"ngIf"],["class","logout","id","dgt-logout",4,"ngIf"],["id","dgt-login",1,"login"],["type","text","placeholder","email","required",""],["userName",""],["type","password","placeholder","password","required",""],["userPassword",""],[3,"click"],["id","dgt-logout",1,"logout"]],template:function(r,o){1&r&&(m.YNc(0,kae,11,0,"div",0),m.YNc(1,Pae,3,0,"div",1)),2&r&&(m.Q6J("ngIf",null==o.localStorage.getItem("user")),m.xp6(1),m.Q6J("ngIf",null!=o.localStorage.getItem("user")))},dependencies:[vy],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;padding:10px;position:relative}.login[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:block;border-radius:3px;font-size:14px;background:#fff;width:50%;border:0;padding:5px 5px 5px 10px;margin:5px 0}.logout[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{cursor:pointer;color:#fff;font-size:16px;width:80px;border:0;padding:5px 0;margin-top:5px;margin-right:10px;border-radius:3px;background-color:#f45b69;transition:background-color .3s}.logout[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover, .login[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:#f24353}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}"]}),e})();var Oae=f_.Z.initializeApp;let Fae=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=m.oAB({type:t,bootstrap:[Rae]}),t.\u0275inj=m.cJS({providers:[s8,{provide:hr.Dh,useValue:Xs.firebase}],imports:[cf,_A(()=>Oae(Xs.firebase)),QA(()=>JA()),tT(()=>nT()),jA(()=>$A(MA(),{provider:new E9(Xs.firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const x9=hee();let e3=window.location.pathname.split(/\//g);x9.bootstrapModule(Fae).catch(t=>console.error(t)),x9.bootstrapModule(Oee).catch(t=>console.error(t)),"planets"===e3[1]&&x9.bootstrapModule(ute).catch(t=>console.error(t)),"planet"===e3[1]&&"comms"===(5===e3.length&&e3[3])&&x9.bootstrapModule(xae).catch(t=>console.error(t)),"navigation"===e3[1]&&6===e3.length&&!isNaN(+e3[2])&&!isNaN(+e3[3])&&!isNaN(+e3[4])&&x9.bootstrapModule(Nae).catch(t=>console.error(t))},3018:(ut,Ve,k)=>{k.d(Ve,{y:()=>R});var m=k(1887),O=k(7394),T=k(4850),oe=k(2737);var Le=k(2653),Te=k(4674),ze=k(1441);let R=(()=>{class be{constructor(ce){ce&&(this._subscribe=ce)}lift(ce){const we=new be;return we.source=this,we.operator=ce,we}subscribe(ce,we,xe){const Ke=function Ne(be){return be&&be instanceof m.Lv||function ne(be){return be&&(0,Te.m)(be.next)&&(0,Te.m)(be.error)&&(0,Te.m)(be.complete)}(be)&&(0,O.Nn)(be)}(ce)?ce:new m.Hp(ce,we,xe);return(0,ze.x)(()=>{const{operator:Je,source:Z}=this;Ke.add(Je?Je.call(Ke,Z):Z?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(ce){try{return this._subscribe(ce)}catch(we){ce.error(we)}}forEach(ce,we){return new(we=B(we))((xe,Ke)=>{const Je=new m.Hp({next:Z=>{try{ce(Z)}catch(ue){Ke(ue),Je.unsubscribe()}},error:Ke,complete:xe});this.subscribe(Je)})}_subscribe(ce){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(ce)}[T.L](){return this}pipe(...ce){return function Ee(be){return 0===be.length?oe.y:1===be.length?be[0]:function(ce){return be.reduce((we,xe)=>xe(we),ce)}}(ce)(this)}toPromise(ce){return new(ce=B(ce))((we,xe)=>{let Ke;this.subscribe(Je=>Ke=Je,Je=>xe(Je),()=>we(Ke))})}}return be.create=nt=>new be(nt),be})();function B(be){var nt;return null!==(nt=be??Le.config.Promise)&&void 0!==nt?nt:Promise}},8645:(ut,Ve,k)=>{k.d(Ve,{x:()=>Le});var m=k(3018),O=k(7394);const oe=(0,k(2306).d)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=k(9039),Ee=k(1441);let Le=(()=>{class ze extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const ne=new Te(this,this);return ne.operator=B,ne}_throwIfClosed(){if(this.closed)throw new oe}next(B){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(B)}})}error(B){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:ne}=this;for(;ne.length;)ne.shift().error(B)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:ne,isStopped:Ne,observers:be}=this;return ne||Ne?O.Lc:(this.currentObservers=null,be.push(B),new O.w0(()=>{this.currentObservers=null,(0,he.P)(be,B)}))}_checkFinalizedStatuses(B){const{hasError:ne,thrownError:Ne,isStopped:be}=this;ne?B.error(Ne):be&&B.complete()}asObservable(){const B=new m.y;return B.source=this,B}}return ze.create=(R,B)=>new Te(R,B),ze})();class Te extends Le{constructor(R,B){super(),this.destination=R,this.source=B}next(R){var B,ne;null===(ne=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===ne||ne.call(B,R)}error(R){var B,ne;null===(ne=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===ne||ne.call(B,R)}complete(){var R,B;null===(B=null===(R=this.destination)||void 0===R?void 0:R.complete)||void 0===B||B.call(R)}_subscribe(R){var B,ne;return null!==(ne=null===(B=this.source)||void 0===B?void 0:B.subscribe(R))&&void 0!==ne?ne:O.Lc}}},1887:(ut,Ve,k)=>{k.d(Ve,{Hp:()=>ce,Lv:()=>ne});var m=k(4674),O=k(7394),T=k(2653),oe=k(3894);function he(){}const Ee=ze("C",void 0,void 0);function ze(Z,ue,Q){return{kind:Z,value:ue,error:Q}}var R=k(7599),B=k(1441);class ne extends O.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,O.Nn)(ue)&&ue.add(this)):this.destination=Je}static create(ue,Q,pe){return new ce(ue,Q,pe)}next(ue){this.isStopped?Ke(function Te(Z){return ze("N",Z,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?Ke(function Le(Z){return ze("E",void 0,Z)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?Ke(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function be(Z,ue){return Ne.call(Z,ue)}class nt{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:Q}=this;if(Q.next)try{Q.next(ue)}catch(pe){we(pe)}}error(ue){const{partialObserver:Q}=this;if(Q.error)try{Q.error(ue)}catch(pe){we(pe)}else we(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(Q){we(Q)}}}class ce extends ne{constructor(ue,Q,pe){let Oe;if(super(),(0,m.m)(ue)||!ue)Oe={next:ue??void 0,error:Q??void 0,complete:pe??void 0};else{let ie;this&&T.config.useDeprecatedNextContext?(ie=Object.create(ue),ie.unsubscribe=()=>this.unsubscribe(),Oe={next:ue.next&&be(ue.next,ie),error:ue.error&&be(ue.error,ie),complete:ue.complete&&be(ue.complete,ie)}):Oe=ue}this.destination=new nt(Oe)}}function we(Z){T.config.useDeprecatedSynchronousErrorHandling?(0,B.O)(Z):(0,oe.h)(Z)}function Ke(Z,ue){const{onStoppedNotification:Q}=T.config;Q&&R.z.setTimeout(()=>Q(Z,ue))}const Je={closed:!0,next:he,error:function xe(Z){throw Z},complete:he}},7394:(ut,Ve,k)=>{k.d(Ve,{Lc:()=>Ee,w0:()=>he,Nn:()=>Le});var m=k(4674);const T=(0,k(2306).d)(ze=>function(B){ze(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((ne,Ne)=>`${Ne+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var oe=k(9039);class he{constructor(R){this.initialTeardown=R,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let R;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const be of B)be.remove(this);else B.remove(this);const{initialTeardown:ne}=this;if((0,m.m)(ne))try{ne()}catch(be){R=be instanceof T?be.errors:[be]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const be of Ne)try{Te(be)}catch(nt){R=R??[],nt instanceof T?R=[...R,...nt.errors]:R.push(nt)}}if(R)throw new T(R)}}add(R){var B;if(R&&R!==this)if(this.closed)Te(R);else{if(R instanceof he){if(R.closed||R._hasParent(this))return;R._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(R)}}_hasParent(R){const{_parentage:B}=this;return B===R||Array.isArray(B)&&B.includes(R)}_addParent(R){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(R),B):B?[B,R]:R}_removeParent(R){const{_parentage:B}=this;B===R?this._parentage=null:Array.isArray(B)&&(0,oe.P)(B,R)}remove(R){const{_finalizers:B}=this;B&&(0,oe.P)(B,R),R instanceof he&&R._removeParent(this)}}he.EMPTY=(()=>{const ze=new he;return ze.closed=!0,ze})();const Ee=he.EMPTY;function Le(ze){return ze instanceof he||ze&&"closed"in ze&&(0,m.m)(ze.remove)&&(0,m.m)(ze.add)&&(0,m.m)(ze.unsubscribe)}function Te(ze){(0,m.m)(ze)?ze():ze.unsubscribe()}},2653:(ut,Ve,k)=>{k.d(Ve,{config:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ut,Ve,k)=>{k.d(Ve,{E:()=>O});const O=new(k(3018).y)(he=>he.complete())},2459:(ut,Ve,k)=>{k.d(Ve,{D:()=>ue});var m=k(4829),O=k(3093),T=k(5137),Ee=k(3018),Te=k(4971),ze=k(4674),R=k(7103);function ne(Q,pe){if(!Q)throw new Error("Iterable cannot be null");return new Ee.y(Oe=>{(0,R.f)(Oe,pe,()=>{const ie=Q[Symbol.asyncIterator]();(0,R.f)(Oe,pe,()=>{ie.next().then(ft=>{ft.done?Oe.complete():Oe.next(ft.value)})},0,!0)})})}var Ne=k(8382),be=k(4026),nt=k(4266),ce=k(3664),we=k(5726),xe=k(9853),Ke=k(541);function ue(Q,pe){return pe?function Z(Q,pe){if(null!=Q){if((0,Ne.c)(Q))return function oe(Q,pe){return(0,m.Xf)(Q).pipe((0,T.R)(pe),(0,O.Q)(pe))}(Q,pe);if((0,nt.z)(Q))return function Le(Q,pe){return new Ee.y(Oe=>{let ie=0;return pe.schedule(function(){ie===Q.length?Oe.complete():(Oe.next(Q[ie++]),Oe.closed||this.schedule())})})}(Q,pe);if((0,be.t)(Q))return function he(Q,pe){return(0,m.Xf)(Q).pipe((0,T.R)(pe),(0,O.Q)(pe))}(Q,pe);if((0,we.D)(Q))return ne(Q,pe);if((0,ce.T)(Q))return function B(Q,pe){return new Ee.y(Oe=>{let ie;return(0,R.f)(Oe,pe,()=>{ie=Q[Te.h](),(0,R.f)(Oe,pe,()=>{let ft,_t;try{({value:ft,done:_t}=ie.next())}catch(zt){return void Oe.error(zt)}_t?Oe.complete():Oe.next(ft)},0,!0)}),()=>(0,ze.m)(ie?.return)&&ie.return()})}(Q,pe);if((0,Ke.L)(Q))return function Je(Q,pe){return ne((0,Ke.Q)(Q),pe)}(Q,pe)}throw(0,xe.z)(Q)}(Q,pe):(0,m.Xf)(Q)}},4829:(ut,Ve,k)=>{k.d(Ve,{Xf:()=>Ne});var m=k(7582),O=k(4266),T=k(4026),oe=k(3018),he=k(8382),Ee=k(5726),Le=k(9853),Te=k(3664),ze=k(541),R=k(4674),B=k(3894),ne=k(4850);function Ne(Z){if(Z instanceof oe.y)return Z;if(null!=Z){if((0,he.c)(Z))return function be(Z){return new oe.y(ue=>{const Q=Z[ne.L]();if((0,R.m)(Q.subscribe))return Q.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Z);if((0,O.z)(Z))return function nt(Z){return new oe.y(ue=>{for(let Q=0;Q<Z.length&&!ue.closed;Q++)ue.next(Z[Q]);ue.complete()})}(Z);if((0,T.t)(Z))return function ce(Z){return new oe.y(ue=>{Z.then(Q=>{ue.closed||(ue.next(Q),ue.complete())},Q=>ue.error(Q)).then(null,B.h)})}(Z);if((0,Ee.D)(Z))return xe(Z);if((0,Te.T)(Z))return function we(Z){return new oe.y(ue=>{for(const Q of Z)if(ue.next(Q),ue.closed)return;ue.complete()})}(Z);if((0,ze.L)(Z))return function Ke(Z){return xe((0,ze.Q)(Z))}(Z)}throw(0,Le.z)(Z)}function xe(Z){return new oe.y(ue=>{(function Je(Z,ue){var Q,pe,Oe,ie;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Q=(0,m.KL)(Z);!(pe=yield Q.next()).done;)if(ue.next(pe.value),ue.closed)return}catch(ft){Oe={error:ft}}finally{try{pe&&!pe.done&&(ie=Q.return)&&(yield ie.call(Q))}finally{if(Oe)throw Oe.error}}ue.complete()})})(Z,ue).catch(Q=>ue.error(Q))})}},3019:(ut,Ve,k)=>{k.d(Ve,{T:()=>Ee});var m=k(2372),O=k(4829),T=k(6232),oe=k(4564),he=k(2459);function Ee(...Le){const Te=(0,oe.yG)(Le),ze=(0,oe._6)(Le,1/0),R=Le;return R.length?1===R.length?(0,O.Xf)(R[0]):(0,m.J)(ze)((0,he.D)(R,Te)):T.E}},2096:(ut,Ve,k)=>{k.d(Ve,{of:()=>T});var m=k(4564),O=k(2459);function T(...oe){const he=(0,m.yG)(oe);return(0,O.D)(oe,he)}},8251:(ut,Ve,k)=>{k.d(Ve,{x:()=>O});var m=k(1887);function O(oe,he,Ee,Le,Te){return new T(oe,he,Ee,Le,Te)}class T extends m.Lv{constructor(he,Ee,Le,Te,ze,R){super(he),this.onFinalize=ze,this.shouldUnsubscribe=R,this._next=Ee?function(B){try{Ee(B)}catch(ne){he.error(ne)}}:super._next,this._error=Te?function(B){try{Te(B)}catch(ne){he.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Le?function(){try{Le()}catch(B){he.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},3997:(ut,Ve,k)=>{k.d(Ve,{x:()=>oe});var m=k(2737),O=k(9360),T=k(8251);function oe(Ee,Le=m.y){return Ee=Ee??he,(0,O.e)((Te,ze)=>{let R,B=!0;Te.subscribe((0,T.x)(ze,ne=>{const Ne=Le(ne);(B||!Ee(R,Ne))&&(B=!1,R=Ne,ze.next(ne))}))})}function he(Ee,Le){return Ee===Le}},7398:(ut,Ve,k)=>{k.d(Ve,{U:()=>T});var m=k(9360),O=k(8251);function T(oe,he){return(0,m.e)((Ee,Le)=>{let Te=0;Ee.subscribe((0,O.x)(Le,ze=>{Le.next(oe.call(he,ze,Te++))}))})}},2372:(ut,Ve,k)=>{k.d(Ve,{J:()=>R});var m=k(7398),O=k(4829),T=k(9360),oe=k(7103),he=k(8251),Le=k(4674);function Te(B,ne,Ne=1/0){return(0,Le.m)(ne)?Te((be,nt)=>(0,m.U)((ce,we)=>ne(be,ce,nt,we))((0,O.Xf)(B(be,nt))),Ne):("number"==typeof ne&&(Ne=ne),(0,T.e)((be,nt)=>function Ee(B,ne,Ne,be,nt,ce,we,xe){const Ke=[];let Je=0,Z=0,ue=!1;const Q=()=>{ue&&!Ke.length&&!Je&&ne.complete()},pe=ie=>Je<be?Oe(ie):Ke.push(ie),Oe=ie=>{ce&&ne.next(ie),Je++;let ft=!1;(0,O.Xf)(Ne(ie,Z++)).subscribe((0,he.x)(ne,_t=>{nt?.(_t),ce?pe(_t):ne.next(_t)},()=>{ft=!0},void 0,()=>{if(ft)try{for(Je--;Ke.length&&Je<be;){const _t=Ke.shift();we?(0,oe.f)(ne,we,()=>Oe(_t)):Oe(_t)}Q()}catch(_t){ne.error(_t)}}))};return B.subscribe((0,he.x)(ne,pe,()=>{ue=!0,Q()})),()=>{xe?.()}}(be,nt,B,Ne)))}var ze=k(2737);function R(B=1/0){return Te(ze.y,B)}},3093:(ut,Ve,k)=>{k.d(Ve,{Q:()=>oe});var m=k(7103),O=k(9360),T=k(8251);function oe(he,Ee=0){return(0,O.e)((Le,Te)=>{Le.subscribe((0,T.x)(Te,ze=>(0,m.f)(Te,he,()=>Te.next(ze),Ee),()=>(0,m.f)(Te,he,()=>Te.complete(),Ee),ze=>(0,m.f)(Te,he,()=>Te.error(ze),Ee)))})}},3020:(ut,Ve,k)=>{k.d(Ve,{B:()=>he});var m=k(4829),O=k(8645),T=k(1887),oe=k(9360);function he(Le={}){const{connector:Te=(()=>new O.x),resetOnError:ze=!0,resetOnComplete:R=!0,resetOnRefCountZero:B=!0}=Le;return ne=>{let Ne,be,nt,ce=0,we=!1,xe=!1;const Ke=()=>{be?.unsubscribe(),be=void 0},Je=()=>{Ke(),Ne=nt=void 0,we=xe=!1},Z=()=>{const ue=Ne;Je(),ue?.unsubscribe()};return(0,oe.e)((ue,Q)=>{ce++,!xe&&!we&&Ke();const pe=nt=nt??Te();Q.add(()=>{ce--,0===ce&&!xe&&!we&&(be=Ee(Z,B))}),pe.subscribe(Q),!Ne&&ce>0&&(Ne=new T.Hp({next:Oe=>pe.next(Oe),error:Oe=>{xe=!0,Ke(),be=Ee(Je,ze,Oe),pe.error(Oe)},complete:()=>{we=!0,Ke(),be=Ee(Je,R),pe.complete()}}),(0,m.Xf)(ue).subscribe(Ne))})(ne)}}function Ee(Le,Te,...ze){if(!0===Te)return void Le();if(!1===Te)return;const R=new T.Hp({next:()=>{R.unsubscribe(),Le()}});return(0,m.Xf)(Te(...ze)).subscribe(R)}},5137:(ut,Ve,k)=>{k.d(Ve,{R:()=>O});var m=k(9360);function O(T,oe=0){return(0,m.e)((he,Ee)=>{Ee.add(T.schedule(()=>he.subscribe(Ee),oe))})}},4664:(ut,Ve,k)=>{k.d(Ve,{w:()=>oe});var m=k(4829),O=k(9360),T=k(8251);function oe(he,Ee){return(0,O.e)((Le,Te)=>{let ze=null,R=0,B=!1;const ne=()=>B&&!ze&&Te.complete();Le.subscribe((0,T.x)(Te,Ne=>{ze?.unsubscribe();let be=0;const nt=R++;(0,m.Xf)(he(Ne,nt)).subscribe(ze=(0,T.x)(Te,ce=>Te.next(Ee?Ee(Ne,ce,nt,be++):ce),()=>{ze=null,ne()}))},()=>{B=!0,ne()}))})}},7599:(ut,Ve,k)=>{k.d(Ve,{z:()=>m});const m={setTimeout(O,T,...oe){const{delegate:he}=m;return he?.setTimeout?he.setTimeout(O,T,...oe):setTimeout(O,T,...oe)},clearTimeout(O){const{delegate:T}=m;return(T?.clearTimeout||clearTimeout)(O)},delegate:void 0}},4971:(ut,Ve,k)=>{k.d(Ve,{h:()=>O});const O=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ut,Ve,k)=>{k.d(Ve,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ut,Ve,k)=>{k.d(Ve,{_6:()=>Ee,yG:()=>he});var m=k(4674);function T(Le){return Le[Le.length-1]}function he(Le){return function O(Le){return Le&&(0,m.m)(Le.schedule)}(T(Le))?Le.pop():void 0}function Ee(Le,Te){return"number"==typeof T(Le)?Le.pop():Te}},9039:(ut,Ve,k)=>{function m(O,T){if(O){const oe=O.indexOf(T);0<=oe&&O.splice(oe,1)}}k.d(Ve,{P:()=>m})},2306:(ut,Ve,k)=>{function m(O){const oe=O(he=>{Error.call(he),he.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}k.d(Ve,{d:()=>m})},1441:(ut,Ve,k)=>{k.d(Ve,{O:()=>oe,x:()=>T});var m=k(2653);let O=null;function T(he){if(m.config.useDeprecatedSynchronousErrorHandling){const Ee=!O;if(Ee&&(O={errorThrown:!1,error:null}),he(),Ee){const{errorThrown:Le,error:Te}=O;if(O=null,Le)throw Te}}else he()}function oe(he){m.config.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=he)}},7103:(ut,Ve,k)=>{function m(O,T,oe,he=0,Ee=!1){const Le=T.schedule(function(){oe(),Ee?O.add(this.schedule(null,he)):this.unsubscribe()},he);if(O.add(Le),!Ee)return Le}k.d(Ve,{f:()=>m})},2737:(ut,Ve,k)=>{function m(O){return O}k.d(Ve,{y:()=>m})},4266:(ut,Ve,k)=>{k.d(Ve,{z:()=>m});const m=O=>O&&"number"==typeof O.length&&"function"!=typeof O},5726:(ut,Ve,k)=>{k.d(Ve,{D:()=>O});var m=k(4674);function O(T){return Symbol.asyncIterator&&(0,m.m)(T?.[Symbol.asyncIterator])}},4674:(ut,Ve,k)=>{function m(O){return"function"==typeof O}k.d(Ve,{m:()=>m})},8382:(ut,Ve,k)=>{k.d(Ve,{c:()=>T});var m=k(4850),O=k(4674);function T(oe){return(0,O.m)(oe[m.L])}},3664:(ut,Ve,k)=>{k.d(Ve,{T:()=>T});var m=k(4971),O=k(4674);function T(oe){return(0,O.m)(oe?.[m.h])}},4026:(ut,Ve,k)=>{k.d(Ve,{t:()=>O});var m=k(4674);function O(T){return(0,m.m)(T?.then)}},541:(ut,Ve,k)=>{k.d(Ve,{L:()=>oe,Q:()=>T});var m=k(7582),O=k(4674);function T(he){return(0,m.FC)(this,arguments,function*(){const Le=he.getReader();try{for(;;){const{value:Te,done:ze}=yield(0,m.qq)(Le.read());if(ze)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Te)}}finally{Le.releaseLock()}})}function oe(he){return(0,O.m)(he?.getReader)}},9360:(ut,Ve,k)=>{k.d(Ve,{e:()=>T});var m=k(4674);function T(oe){return he=>{if(function O(oe){return(0,m.m)(oe?.lift)}(he))return he.lift(function(Ee){try{return oe(Ee,this)}catch(Le){this.error(Le)}});throw new TypeError("Unable to lift unknown Observable type")}}},3894:(ut,Ve,k)=>{k.d(Ve,{h:()=>T});var m=k(2653),O=k(7599);function T(oe){O.z.setTimeout(()=>{const{onUnhandledError:he}=m.config;if(!he)throw oe;he(oe)})}},9853:(ut,Ve,k)=>{function m(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ve,{z:()=>m})},7989:(ut,Ve,k)=>{k.d(Ve,{AFp:()=>Xd,hGG:()=>AS,Ojb:()=>yM,sBO:()=>MS,EJc:()=>UV,SBq:()=>ya,qLn:()=>s4,vpe:()=>xr,OlP:()=>jt,zs3:()=>ir,ZZ4:()=>Ga,aQg:()=>R7,soG:()=>J0,h0i:()=>xs,R0b:()=>x1,FiY:()=>ps,Lbi:()=>Su,g9A:()=>e0,Qsj:()=>DM,FYo:()=>l0,JOm:()=>F6,q3G:()=>ys,Rgc:()=>Ra,dDg:()=>lS,eoX:()=>sv,q4F:()=>ch,GfV:()=>Nu,s_b:()=>G0,ifc:()=>_e,Lck:()=>LH,eFA:()=>uv,f3M:()=>$e,X6Q:()=>CS,_c5:()=>DS,rg0:()=>p8,zSh:()=>Y6,wAp:()=>p4,vHH:()=>Z,lri:()=>rv,rWj:()=>iv,JZr:()=>Je,EiD:()=>Fd,mCW:()=>la,qzn:()=>X3,JVY:()=>W_,pB0:()=>Y_,eBb:()=>Z_,L6k:()=>Ld,LAX:()=>K_,cg1:()=>F5,kL8:()=>pm,dqk:()=>Et,QGY:()=>p5,F4k:()=>D0,RDi:()=>B_,AaK:()=>ne,z3N:()=>Pn,TTD:()=>bo,xp6:()=>$u,uIk:()=>n5,ekj:()=>z5,Xpm:()=>i3,lG2:()=>Qi,Yz7:()=>Mt,cJS:()=>o2,oAB:()=>Yi,Yjl:()=>c3,Y36:()=>xi,_UZ:()=>f5,qZA:()=>Ea,TgZ:()=>L0,EpF:()=>bp,Ikx:()=>N0,LFG:()=>ke,$8M:()=>fs,NdJ:()=>m5,oxw:()=>zp,ALo:()=>r7,lcZ:()=>i7,Dn7:()=>pg,Hsn:()=>xp,F$t:()=>Lp,Q6J:()=>u5,DdM:()=>og,VKq:()=>n7,MAs:()=>_p,KtG:()=>b3,CHM:()=>w3,oJD:()=>Bd,Akn:()=>sr,YNc:()=>l5,_uU:()=>jp,Oqu:()=>N5});var m=k(8645),O=k(7394);class T extends m.x{constructor(s){super(),this._value=s}get value(){return this.getValue()}_subscribe(s){const a=super._subscribe(s);return!a.closed&&s.next(this._value),a}getValue(){const{hasError:s,thrownError:a,_value:l}=this;if(s)throw a;return this._throwIfClosed(),l}next(s){super.next(this._value=s)}}var oe=k(3018),he=k(3019),Ee=k(2096),Le=k(3020),Te=k(4664),ze=k(3997);function R(i){for(let s in i)if(i[s]===R)return s;throw Error("Could not find renamed property on target object.")}function ne(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ne).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Ne(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const be=R({__forward_ref__:R});function nt(i){return i.__forward_ref__=nt,i.toString=function(){return ne(this())},i}function ce(i){return function we(i){return"function"==typeof i&&i.hasOwnProperty(be)&&i.__forward_ref__===nt}(i)?i():i}function xe(i){return i&&!!i.\u0275providers}const Je="https://g.co/ng/security#xss";class Z extends Error{constructor(s,a){super(function ue(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function Q(i){return"string"==typeof i?i:null==i?"":String(i)}function _t(i,s){throw new Z(-201,!1)}function Ye(i,s){null==i&&function Ae(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Mt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function o2(i){return{providers:i.providers||[],imports:i.imports||[]}}function a2(i){return A2(i,i1)||A2(i,pn)}function A2(i,s){return i.hasOwnProperty(s)?i[s]:null}function R1(i){return i&&(i.hasOwnProperty(f2)||i.hasOwnProperty(zn))?i[f2]:null}const i1=R({\u0275prov:R}),f2=R({\u0275inj:R}),pn=R({ngInjectableDef:R}),zn=R({ngInjectorDef:R});var vt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(vt||{});let b1;function Rt(i){const s=b1;return b1=i,s}function O1(i,s,a){const l=a2(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&vt.Optional?null:void 0!==s?s:void _t(ne(i))}const Et=globalThis,H2={},En="__NG_DI_FLAG__",Z1="ngTempTokenPath",F=/\n/gm,x="__source";let D;function q(i){const s=D;return D=i,s}function de(i,s=vt.Default){if(void 0===D)throw new Z(-203,!1);return null===D?O1(i,void 0,s):D.get(i,s&vt.Optional?null:void 0,s)}function ke(i,s=vt.Default){return(function $2(){return b1}()||de)(ce(i),s)}function $e(i,s=vt.Default){return ke(i,Ot(s))}function Ot(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function gt(i){const s=[];for(let a=0;a<i.length;a++){const l=ce(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Z(900,!1);let f,d=vt.Default;for(let v=0;v<l.length;v++){const C=l[v],w=St(C);"number"==typeof w?-1===w?f=C.token:d|=w:f=C}s.push(ke(f,d))}else s.push(ke(l))}return s}function Zt(i,s){return i[En]=s,i.prototype[En]=s,i}function St(i){return i[En]}function re(i){return{toString:i}.toString()}var K=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(K||{}),_e=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(_e||{});const Qe={},Re=[],Ht=R({\u0275cmp:R}),Ut=R({\u0275dir:R}),L2=R({\u0275pipe:R}),c2=R({\u0275mod:R}),q2=R({\u0275fac:R}),qn=R({__NG_ELEMENT_ID__:R}),Lc=R({__NG_ENV_ID__:R});function J4(i,s,a){let l=i.length;for(;;){const f=i.indexOf(s,a);if(-1===f)return f;if(0===f||i.charCodeAt(f-1)<=32){const d=s.length;if(f+d===l||i.charCodeAt(f+d)<=32)return f}a=f+1}}function t3(i,s,a){let l=0;for(;l<a.length;){const f=a[l];if("number"==typeof f){if(0!==f)break;l++;const d=a[l++],v=a[l++],C=a[l++];i.setAttribute(s,v,C,d)}else{const d=f,v=a[++l];n3(d)?i.setProperty(s,d,v):i.setAttribute(s,d,v),l++}}return l}function Wn(i){return 3===i||4===i||6===i}function n3(i){return 64===i.charCodeAt(0)}function Zi(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const f=s[l];"number"==typeof f?a=f:0===a||X4(i,a,f,null,-1===a||2===a?s[++l]:null)}}return i}function X4(i,s,a,l,f){let d=0,v=i.length;if(-1===s)v=-1;else for(;d<i.length;){const C=i[d++];if("number"==typeof C){if(C===s){v=-1;break}if(C>s){v=d-1;break}}}for(;d<i.length;){const C=i[d];if("number"==typeof C)break;if(C===a){if(null===l)return void(null!==f&&(i[d+1]=f));if(l===i[d+1])return void(i[d+2]=f)}d++,null!==l&&d++,null!==f&&d++}-1!==v&&(i.splice(v,0,s),d=v+1),i.splice(d++,0,a),null!==l&&i.splice(d++,0,l),null!==f&&i.splice(d++,0,f)}const h2="ng-template";function xc(i,s,a){let l=0,f=!0;for(;l<i.length;){let d=i[l++];if("string"==typeof d&&f){const v=i[l++];if(a&&"class"===d&&-1!==J4(v.toLowerCase(),s,0))return!0}else{if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}"number"==typeof d&&(f=!1)}}return!1}function Dc(i){return 4===i.type&&i.value!==h2}function Ac(i,s,a){return s===(4!==i.type||a?i.value:h2)}function Tc(i,s,a){let l=4;const f=i.attrs||[],d=function ui(i){for(let s=0;s<i.length;s++)if(Wn(i[s]))return s;return i.length}(f);let v=!1;for(let C=0;C<s.length;C++){const w=s[C];if("number"!=typeof w){if(!v)if(4&l){if(l=2|1&l,""!==w&&!Ac(i,w,a)||""===w&&1===s.length){if(Y1(l))return!1;v=!0}}else{const V=8&l?w:s[++C];if(8&l&&null!==i.attrs){if(!xc(i.attrs,V,a)){if(Y1(l))return!1;v=!0}continue}const A=o8(8&l?"class":w,f,Dc(i),a);if(-1===A){if(Y1(l))return!1;v=!0;continue}if(""!==V){let j;j=A>d?"":f[A+1].toLowerCase();const W=8&l?j:null;if(W&&-1!==J4(W,V,0)||2&l&&V!==j){if(Y1(l))return!1;v=!0}}}}else{if(!v&&!Y1(l)&&!Y1(w))return!1;if(v&&Y1(w))continue;v=!1,l=w|1&l}}return Y1(l)||v}function Y1(i){return 0==(1&i)}function o8(i,s,a,l){if(null===s)return-1;let f=0;if(l||!a){let d=!1;for(;f<s.length;){const v=s[f];if(v===i)return f;if(3===v||6===v)d=!0;else{if(1===v||2===v){let C=s[++f];for(;"string"==typeof C;)C=s[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=d?1:2}return-1}return function Nc(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function eo(i,s,a=!1){for(let l=0;l<s.length;l++)if(Tc(i,s[l],a))return!0;return!1}function r3(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let f=0;f<i.length;f++)if(i[f]!==l[f])continue e;return!0}}return!1}function to(i,s){return i?":not("+s.trim()+")":s}function Ki(i){let s=i[0],a=1,l=2,f="",d=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&l){const C=i[++a];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?f+="."+v:4&l&&(f+=" "+v);else""!==f&&!Y1(v)&&(s+=to(d,f),f=""),l=v,d=d||!Y1(l);a++}return""!==f&&(s+=to(d,f)),s}function i3(i){return re(()=>{const s=kc(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||_e.Emulated,styles:i.styles||Re,_:null,schemas:i.schemas||null,tView:null,id:""};l3(a);const l=i.dependencies;return a.directiveDefs=Zn(l,!1),a.pipeDefs=Zn(l,!0),a.id=function so(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const f of a)s=Math.imul(31,s)+f.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function o3(i){return Nt(i)||W2(i)}function ro(i){return null!==i}function Yi(i){return re(()=>({type:i.type,bootstrap:i.bootstrap||Re,declarations:i.declarations||Re,imports:i.imports||Re,exports:i.exports||Re,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function a3(i,s){if(null==i)return Qe;const a={};for(const l in i)if(i.hasOwnProperty(l)){let f=i[l],d=f;Array.isArray(f)&&(d=f[1],f=f[0]),a[f]=l,s&&(s[f]=d)}return a}function Qi(i){return re(()=>{const s=kc(i);return l3(s),s})}function c3(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Nt(i){return i[Ht]||null}function W2(i){return i[Ut]||null}function Z2(i){return i[L2]||null}function kc(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||Qe,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Re,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:a3(i.inputs,s),outputs:a3(i.outputs)}}function l3(i){i.features?.forEach(s=>s(i))}function Zn(i,s){if(!i)return null;const a=s?Z2:o3;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(ro)}const p2=0,Pe=1,yt=2,Jt=3,yn=4,Or=5,K2=6,Cr=7,m2=8,_r=9,Mr=10,dt=11,di=12,Pc=13,Cn=14,V2=15,wr=16,V1=17,f1=18,Ln=19,Rc=20,Yn=21,Qn=22,u3=23,Jn=24,At=25,ao=1,hi=2,Q1=7,Fr=9,x2=11;function h1(i){return Array.isArray(i)&&"object"==typeof i[ao]}function a1(i){return Array.isArray(i)&&!0===i[ao]}function lo(i){return 0!=(4&i.flags)}function Xn(i){return i.componentOffset>-1}function mi(i){return 1==(1&i.flags)}function S1(i){return!!i.template}function gi(i){return 0!=(512&i[yt])}function er(i,s){return i.hasOwnProperty(q2)?i[q2]:null}let mo=Et.WeakRef??class Qc{constructor(s){this.ref=s}deref(){return this.ref}},d8=0,xn=null,Ur=!1;function k2(i){const s=xn;return xn=i,s}class Jc{constructor(){this.id=d8++,this.ref=function f8(i){return new mo(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,a]of this.producers){const l=a.producerNode.deref();if(null!=l&&a.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(s),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Ur;Ur=!0;try{for(const[a,l]of this.consumers){const f=l.consumerNode.deref();null!=f&&f.trackingVersion===l.atTrackingVersion?f.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),f?.producers.delete(this.id))}}finally{Ur=s}}producerAccessed(){if(Ur)throw new Error("");if(null===xn)return;let s=xn.producers.get(this.id);void 0===s?(s={consumerNode:xn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:xn.trackingVersion},xn.producers.set(this.id,s),this.consumers.set(xn.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=xn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==xn?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let g3=null;function p8(i){const s=k2(null);try{return i()}finally{k2(s)}}const t6=()=>{};class Mo extends Jc{constructor(s,a,l){super(),this.watch=s,this.schedule=a,this.dirty=!1,this.cleanupFn=t6,this.registerOnCleanup=f=>{this.cleanupFn=f},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=k2(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=t6,this.watch(this.registerOnCleanup)}finally{k2(s)}}cleanup(){this.cleanupFn()}}class wo{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function bo(){return br}function br(i){return i.type.prototype.ngOnChanges&&(i.setInput=m8),n6}function n6(){const i=r6(this),s=i?.current;if(s){const a=i.previous;if(a===Qe)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function m8(i,s,a,l){const f=this.declaredInputs[a],d=r6(i)||function i6(i,s){return i[Ho]=s}(i,{previous:Qe,current:null}),v=d.current||(d.current={}),C=d.previous,w=C[f];v[f]=new wo(w&&w.currentValue,s,C===Qe),i[l]=s}bo.ngInherit=!0;const Ho="__ngSimpleChanges__";function r6(i){return i[Ho]||null}const tr=function(i,s,a){};function Xt(i){for(;Array.isArray(i);)i=i[p2];return i}function Io(i,s){return Xt(s[i])}function F1(i,s){return Xt(s[i.index])}function C3(i,s){return i.data[s]}function I1(i,s){return i[s]}function p1(i,s){const a=s[i];return h1(a)?a:a[p2]}function jr(i,s){return null==s?null:i[s]}function a6(i){i[V1]=0}function c6(i){1024&i[yt]||(i[yt]|=1024,es(i,1))}function _3(i){1024&i[yt]&&(i[yt]&=-1025,es(i,-1))}function es(i,s){let a=i[Jt];if(null===a)return;a[Or]+=s;let l=a;for(a=a[Jt];null!==a&&(1===s&&1===l[Or]||-1===s&&0===l[Or]);)a[Or]+=s,l=a,a=a[Jt]}const mt={lFrame:_6(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function h6(){return mt.bindingsEnabled}function Hr(){return null!==mt.skipHydrationRootTNode}function me(){return mt.lFrame.lView}function kt(){return mt.lFrame.tView}function w3(i){return mt.lFrame.contextLView=i,i[m2]}function b3(i){return mt.lFrame.contextLView=null,i}function Y2(){let i=m6();for(;null!==i&&64===i.type;)i=i.parent;return i}function m6(){return mt.lFrame.currentTNode}function Dn(i,s){const a=mt.lFrame;a.currentTNode=i,a.isParent=s}function yi(){return mt.lFrame.isParent}function ns(){mt.lFrame.isParent=!1}function Q2(){const i=mt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function _i(){return mt.lFrame.bindingIndex++}function _n(i){const s=mt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function _8(i,s){const a=mt.lFrame;a.bindingIndex=a.bindingRootIndex=i,rs(s)}function rs(i){mt.lFrame.currentDirectiveIndex=i}function V3(i){mt.lFrame.currentQueryIndex=i}function M8(i){const s=i[Pe];return 2===s.type?s.declTNode:1===s.type?i[K2]:null}function is(i,s,a){if(a&vt.SkipSelf){let f=s,d=i;for(;!(f=f.parent,null!==f||a&vt.Host||(f=M8(d),null===f||(d=d[Cn],10&f.type))););if(null===f)return!1;s=f,i=d}const l=mt.lFrame=C6();return l.currentTNode=s,l.lView=i,!0}function Mi(i){const s=C6(),a=i[Pe];mt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function C6(){const i=mt.lFrame,s=null===i?null:i.child;return null===s?_6(i):s}function _6(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function M6(){const i=mt.lFrame;return mt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const S3=M6;function I3(){const i=M6();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function m1(){return mt.lFrame.selectedIndex}function $r(i){mt.lFrame.selectedIndex=i}function n2(){const i=mt.lFrame;return C3(i.tView,i.selectedIndex)}let z3=!0;function E3(){return z3}function Tn(i){z3=i}function wi(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const d=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:w,ngAfterViewChecked:V,ngOnDestroy:z}=d;v&&(i.contentHooks??=[]).push(-a,v),C&&((i.contentHooks??=[]).push(a,C),(i.contentCheckHooks??=[]).push(a,C)),w&&(i.viewHooks??=[]).push(-a,w),V&&((i.viewHooks??=[]).push(a,V),(i.viewCheckHooks??=[]).push(a,V)),null!=z&&(i.destroyHooks??=[]).push(a,z)}}function Nn(i,s,a){L3(i,s,3,a)}function bi(i,s,a,l){(3&i[yt])===a&&L3(i,s,a,l)}function Ao(i,s){let a=i[yt];(3&a)===s&&(a&=8191,a+=1,i[yt]=a)}function L3(i,s,a,l){const d=l??-1,v=s.length-1;let C=0;for(let w=void 0!==l?65535&i[V1]:0;w<v;w++)if("number"==typeof s[w+1]){if(C=s[w],null!=l&&C>=l)break}else s[w]<0&&(i[V1]+=65536),(C<d||-1==d)&&(Vr(i,a,s,w),i[V1]=(4294901760&i[V1])+w+2),w++}function b6(i,s){tr(4,i,s);const a=k2(null);try{s.call(i)}finally{k2(a),tr(5,i,s)}}function Vr(i,s,a,l){const f=a[l]<0,d=a[l+1],C=i[f?-a[l]:a[l]];f?i[yt]>>13<i[V1]>>16&&(3&i[yt])===s&&(i[yt]+=8192,b6(C,d)):b6(C,d)}const Sr=-1;class ss{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function as(i){return i!==Sr}function cs(i){return 32767&i}function kn(i,s){let a=function To(i){return i>>16}(i),l=s;for(;a>0;)l=l[Cn],a--;return l}let No=!0;function Ir(i){const s=No;return No=i,s}const V6=255,x3=5;let D3=0;const J1={};function ls(i,s){const a=ko(i,s);if(-1!==a)return a;const l=s[Pe];l.firstCreatePass&&(i.injectorIndex=s.length,A3(l.data,i),A3(s,null),A3(l.blueprint,null));const f=T3(i,s),d=i.injectorIndex;if(as(f)){const v=cs(f),C=kn(f,s),w=C[Pe].data;for(let V=0;V<8;V++)s[d+V]=C[v+V]|w[v+V]}return s[d+8]=f,d}function A3(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ko(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function T3(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,f=s;for(;null!==f;){if(l=F3(f),null===l)return Sr;if(a++,f=f[Cn],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Sr}function Po(i,s,a){!function S6(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(qn)&&(l=a[qn]),null==l&&(l=a[qn]=D3++);const f=l&V6;s.data[i+(f>>x3)]|=1<<f}(i,s,a)}function I6(i,s,a){if(a&vt.Optional||void 0!==i)return i;_t()}function z6(i,s,a,l){if(a&vt.Optional&&void 0===l&&(l=null),!(a&(vt.Self|vt.Host))){const f=i[_r],d=Rt(void 0);try{return f?f.get(s,l,a&vt.Optional):O1(s,l,a&vt.Optional)}finally{Rt(d)}}return I6(l,0,a)}function N3(i,s,a,l=vt.Default,f){if(null!==i){if(2048&s[yt]&&!(l&vt.Self)){const v=function D8(i,s,a,l,f){let d=i,v=s;for(;null!==d&&null!==v&&2048&v[yt]&&!(512&v[yt]);){const C=E6(d,v,a,l|vt.Self,J1);if(C!==J1)return C;let w=d.parent;if(!w){const V=v[Rc];if(V){const z=V.get(a,J1,l);if(z!==J1)return z}w=F3(v),v=v[Cn]}d=w}return f}(i,s,a,l,J1);if(v!==J1)return v}const d=E6(i,s,a,l,J1);if(d!==J1)return d}return z6(s,a,l,f)}function E6(i,s,a,l,f){const d=function k3(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(qn)?i[qn]:void 0;return"number"==typeof s?s>=0?s&V6:us:s}(a);if("function"==typeof d){if(!is(s,i,l))return l&vt.Host?I6(f,0,l):z6(s,a,l,f);try{let v;if(v=d(l),null!=v||l&vt.Optional)return v;_t()}finally{S3()}}else if("number"==typeof d){let v=null,C=ko(i,s),w=Sr,V=l&vt.Host?s[V2][K2]:null;for((-1===C||l&vt.SkipSelf)&&(w=-1===C?T3(i,s):s[C+8],w!==Sr&&R3(l,!1)?(v=s[Pe],C=cs(w),s=kn(w,s)):C=-1);-1!==C;){const z=s[Pe];if(P3(d,C,z.data)){const A=x8(C,s,a,v,l,V);if(A!==J1)return A}w=s[C+8],w!==Sr&&R3(l,s[Pe].data[C+8]===V)&&P3(d,C,s)?(v=z,C=cs(w),s=kn(w,s)):C=-1}}return f}function x8(i,s,a,l,f,d){const v=s[Pe],C=v.data[i+8],z=function Gr(i,s,a,l,f){const d=i.providerIndexes,v=s.data,C=1048575&d,w=i.directiveStart,z=d>>20,j=f?C+z:i.directiveEnd;for(let W=l?C:C+z;W<j;W++){const le=v[W];if(W<w&&a===le||W>=w&&le.type===a)return W}if(f){const W=v[w];if(W&&S1(W)&&W.type===a)return w}return null}(C,v,a,null==l?Xn(C)&&No:l!=v&&0!=(3&C.type),f&vt.Host&&d===C);return null!==z?qr(s,v,z,C):J1}function qr(i,s,a,l){let f=i[a];const d=s.data;if(function I8(i){return i instanceof ss}(f)){const v=f;v.resolving&&function Oe(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Z(-200,`Circular dependency in DI detected for ${i}${a}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Q(i)}(d[a]));const C=Ir(v.canSeeViewProviders);v.resolving=!0;const V=v.injectImpl?Rt(v.injectImpl):null;is(i,l,vt.Default);try{f=i[a]=v.factory(void 0,d,i,l),s.firstCreatePass&&a>=l.directiveStart&&function S8(i,s,a){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:d}=s.type.prototype;if(l){const v=br(s);(a.preOrderHooks??=[]).push(i,v),(a.preOrderCheckHooks??=[]).push(i,v)}f&&(a.preOrderHooks??=[]).push(0-i,f),d&&((a.preOrderHooks??=[]).push(i,d),(a.preOrderCheckHooks??=[]).push(i,d))}(a,d[a],s)}finally{null!==V&&Rt(V),Ir(C),v.resolving=!1,S3()}}return f}function P3(i,s,a){return!!(a[s+(i>>x3)]&1<<i)}function R3(i,s){return!(i&vt.Self||i&vt.Host&&s)}class g1{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return N3(this._tNode,this._lView,s,Ot(l),a)}}function us(){return new g1(Y2(),me())}function F3(i){const s=i[Pe],a=s.type;return 2===a?s.declTNode:1===a?i[K2]:null}function fs(i){return function Ro(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let f=0;for(;f<l;){const d=a[f];if(Wn(d))break;if(0===d)f+=2;else if("number"==typeof d)for(f++;f<l&&"string"==typeof a[f];)f++;else{if(d===s)return a[f+1];f+=2}}}return null}(Y2(),i)}const Wr="__parameters__";function Ii(i,s,a){return re(()=>{const l=function Fo(i){return function(...a){if(i){const l=i(...a);for(const f in l)this[f]=l[f]}}}(s);function f(...d){if(this instanceof f)return l.apply(this,d),this;const v=new f(...d);return C.annotation=v,C;function C(w,V,z){const A=w.hasOwnProperty(Wr)?w[Wr]:Object.defineProperty(w,Wr,{value:[]})[Wr];for(;A.length<=z;)A.push(null);return(A[z]=A[z]||[]).push(v),w}}return a&&(f.prototype=Object.create(a.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}function Ei(i,s){i.forEach(a=>Array.isArray(a)?Ei(a,s):s(a))}function Uo(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function U3(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Li(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function v1(i,s,a){let l=nr(i,s);return l>=0?i[1|l]=a:(l=~l,function F8(i,s,a,l){let f=i.length;if(f==s)i.push(a,l);else if(1===f)i.push(l,i[0]),i[0]=a;else{for(f--,i.push(i[f-1],i[f]);f>s;)i[f]=i[f-2],f--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function $o(i,s){const a=nr(i,s);if(a>=0)return i[1|a]}function nr(i,s){return function Go(i,s,a){let l=0,f=i.length>>a;for(;f!==l;){const d=l+(f-l>>1),v=i[d<<a];if(s===v)return d<<a;v>s?f=d:l=d+1}return~(f<<a)}(i,s,1)}const ps=Zt(Ii("Optional"),8),$3=Zt(Ii("SkipSelf"),4);function ea(i){return 128==(128&i.flags)}var F6=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(F6||{});const Y8=new Map;let v_=0;const U6="__ngContext__";function z1(i,s){h1(s)?(i[U6]=s[Ln],function y_(i){Y8.set(i[Ln],i)}(s)):i[U6]=s}let J8;function X8(i,s){return J8(i,s)}function na(i){const s=i[Jt];return a1(s)?s[Jt]:s}function dd(i){return eu(i[di])}function hd(i){return eu(i[yn])}function eu(i){for(;null!==i&&!a1(i);)i=i[yn];return i}function K3(i,s,a,l,f){if(null!=l){let d,v=!1;a1(l)?d=l:h1(l)&&(v=!0,l=l[p2]);const C=Xt(l);0===i&&null!==a?null==f?yd(s,a,C):gs(s,a,C,f||null,!0):1===i&&null!==a?gs(s,a,C,f||null,!0):2===i?function oa(i,s,a){const l=ia(i,s);l&&function D_(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,C,v):3===i&&s.destroyNode(C),null!=d&&function N_(i,s,a,l,f){const d=a[Q1];d!==Xt(a)&&K3(s,i,l,d,f);for(let C=x2;C<a.length;C++){const w=a[C];aa(w[Pe],w,i,s,l,d)}}(s,i,d,a,f)}}function ra(i,s,a){return i.createElement(s,a)}function gd(i,s){const a=i[Fr],l=a.indexOf(s);_3(s),a.splice(l,1)}function j6(i,s){if(i.length<=x2)return;const a=x2+s,l=i[a];if(l){const f=l[wr];null!==f&&f!==i&&gd(f,l),s>0&&(i[a-1][yn]=l[yn]);const d=U3(i,x2+s);!function S_(i,s){aa(i,s,s[dt],2,null,null),s[p2]=null,s[K2]=null}(l[Pe],l);const v=d[f1];null!==v&&v.detachView(d[Pe]),l[Jt]=null,l[yn]=null,l[yt]&=-129}return l}function nu(i,s){if(!(256&s[yt])){const a=s[dt];s[u3]?.destroy(),s[Jn]?.destroy(),a.destroyNode&&aa(i,s,a,3,null,null),function z_(i){let s=i[di];if(!s)return ru(i[Pe],i);for(;s;){let a=null;if(h1(s))a=s[di];else{const l=s[x2];l&&(a=l)}if(!a){for(;s&&!s[yn]&&s!==i;)h1(s)&&ru(s[Pe],s),s=s[Jt];null===s&&(s=i),h1(s)&&ru(s[Pe],s),a=s&&s[yn]}s=a}}(s)}}function ru(i,s){if(!(256&s[yt])){s[yt]&=-129,s[yt]|=256,function vd(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const f=s[a[l]];if(!(f instanceof ss)){const d=a[l+1];if(Array.isArray(d))for(let v=0;v<d.length;v+=2){const C=f[d[v]],w=d[v+1];tr(4,C,w);try{w.call(C)}finally{tr(5,C,w)}}else{tr(4,f,d);try{d.call(f)}finally{tr(5,f,d)}}}}}(i,s),function x_(i,s){const a=i.cleanup,l=s[Cr];if(null!==a)for(let d=0;d<a.length-1;d+=2)if("string"==typeof a[d]){const v=a[d+3];v>=0?l[v]():l[-v].unsubscribe(),d+=2}else a[d].call(l[a[d+1]]);null!==l&&(s[Cr]=null);const f=s[Yn];if(null!==f){s[Yn]=null;for(let d=0;d<f.length;d++)(0,f[d])()}}(i,s),1===s[Pe].type&&s[dt].destroy();const a=s[wr];if(null!==a&&a1(s[Jt])){a!==s[Jt]&&gd(a,s);const l=s[f1];null!==l&&l.detachView(i)}!function C_(i){Y8.delete(i[Ln])}(s)}}function iu(i,s,a){return function su(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[p2];{const{componentOffset:f}=l;if(f>-1){const{encapsulation:d}=i.data[l.directiveStart+f];if(d===_e.None||d===_e.Emulated)return null}return F1(l,a)}}(i,s.parent,a)}function gs(i,s,a,l,f){i.insertBefore(s,a,l,f)}function yd(i,s,a){i.appendChild(s,a)}function ou(i,s,a,l,f){null!==l?gs(i,s,a,l,f):yd(i,s,a)}function ia(i,s){return i.parentNode(s)}function Cd(i,s,a){return Md(i,s,a)}let au,ca,hu,q6,Md=function _d(i,s,a){return 40&i.type?F1(i,a):null};function $6(i,s,a,l){const f=iu(i,l,s),d=s[dt],C=Cd(l.parent||s[K2],l,s);if(null!=f)if(Array.isArray(a))for(let w=0;w<a.length;w++)ou(d,f,a[w],C,!1);else ou(d,f,a,C,!1);void 0!==au&&au(d,l,s,a,f)}function sa(i,s){if(null!==s){const a=s.type;if(3&a)return F1(s,i);if(4&a)return uu(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return sa(i,l);{const f=i[s.index];return a1(f)?uu(-1,f):Xt(f)}}if(32&a)return X8(s,i)()||Xt(i[s.index]);{const l=lu(i,s);return null!==l?Array.isArray(l)?l[0]:sa(na(i[V2]),l):sa(i,s.next)}}return null}function lu(i,s){return null!==s?i[V2][K2].projection[s.projection]:null}function uu(i,s){const a=x2+i+1;if(a<s.length){const l=s[a],f=l[Pe].firstChild;if(null!==f)return sa(l,f)}return s[Q1]}function G6(i,s,a,l,f,d,v){for(;null!=a;){const C=l[a.index],w=a.type;if(v&&0===s&&(C&&z1(Xt(C),l),a.flags|=2),32!=(32&a.flags))if(8&w)G6(i,s,a.child,l,f,d,!1),K3(s,i,f,C,d);else if(32&w){const V=X8(a,l);let z;for(;z=V();)K3(s,i,f,z,d);K3(s,i,f,C,d)}else 16&w?fu(i,s,l,a,f,d):K3(s,i,f,C,d);a=v?a.projectionNext:a.next}}function aa(i,s,a,l,f,d){G6(a,l,i.firstChild,s,f,d,!1)}function fu(i,s,a,l,f,d){const v=a[V2],w=v[K2].projection[l.projection];if(Array.isArray(w))for(let V=0;V<w.length;V++)K3(s,i,f,w[V],d);else{let V=w;const z=v[Jt];ea(l)&&(V.flags|=128),G6(i,s,V,z,f,d,!0)}}function Hd(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function Vd(i,s,a){const{mergedAttrs:l,classes:f,styles:d}=a;null!==l&&t3(i,s,l),null!==f&&Hd(i,s,f),null!==d&&function k_(i,s,a){i.setAttribute(s,"style",a)}(i,s,d)}function Q3(i){return function du(){if(void 0===ca&&(ca=null,Et.trustedTypes))try{ca=Et.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return ca}()?.createHTML(i)||i}function B_(i){hu=i}function J3(){if(void 0!==hu)return hu;if(typeof document<"u")return document;throw new Z(210,!1)}function Sd(i){return function pu(){if(void 0===q6&&(q6=null,Et.trustedTypes))try{q6=Et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return q6}()?.createHTML(i)||i}class vs{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Je})`}}class U_ extends vs{getTypeName(){return"HTML"}}class j_ extends vs{getTypeName(){return"Style"}}class $_ extends vs{getTypeName(){return"Script"}}class Ed extends vs{getTypeName(){return"URL"}}class G_ extends vs{getTypeName(){return"ResourceURL"}}function Pn(i){return i instanceof vs?i.changingThisBreaksApplicationSecurity:i}function X3(i,s){const a=function q_(i){return i instanceof vs&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Je})`)}return a===s}function W_(i){return new U_(i)}function Ld(i){return new j_(i)}function Z_(i){return new $_(i)}function K_(i){return new Ed(i)}function Y_(i){return new G_(i)}class Q_{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Q3(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class Dd{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Q3(s),a}}const X_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function la(i){return(i=String(i)).match(X_)?i:"unsafe:"+i}function Kr(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function ua(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const Ad=Kr("area,br,col,hr,img,wbr"),mu=Kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Td=Kr("rp,rt"),gu=ua(Ad,ua(mu,Kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ua(Td,Kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ua(Td,mu)),vu=Kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kd=ua(vu,Kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tM=Kr("script,style,template");class Pd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let f=this.checkClobberedElement(a,a.nextSibling);if(f){a=f;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!gu.hasOwnProperty(a))return this.sanitizedSomething=!0,!tM.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let f=0;f<l.length;f++){const d=l.item(f),v=d.name,C=v.toLowerCase();if(!kd.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let w=d.value;vu[C]&&(w=la(w)),this.buf.push(" ",v,'="',Od(w),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();gu.hasOwnProperty(a)&&!Ad.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Od(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const nM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rd=/([^\#-~ |!])/g;function Od(i){return i.replace(/&/g,"&amp;").replace(nM,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Rd,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fa;function Fd(i,s){let a=null;try{fa=fa||function xd(i){const s=new Dd(i);return function J_(){try{return!!(new window.DOMParser).parseFromString(Q3(""),"text/html")}catch{return!1}}()?new Q_(s):s}(i);let l=s?String(s):"";a=fa.getInertBodyElement(l);let f=5,d=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=d,d=a.innerHTML,a=fa.getInertBodyElement(l)}while(l!==d);return Q3((new Pd).sanitizeChildren(yu(a)||a))}finally{if(a){const l=yu(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function yu(i){return"content"in i&&function rM(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var ys=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(ys||{});function Bd(i){const s=function da(){const i=me();return i&&i[Mr].sanitizer}();return s?Sd(s.sanitize(ys.HTML,i)||""):X3(i,"HTML")?Sd(Pn(i)):Fd(J3(),Q(i))}class jt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Mt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const W6=new jt("ENVIRONMENT_INITIALIZER"),$d=new jt("INJECTOR",-1),Gd=new jt("INJECTOR_DEF_TYPES");class _u{get(s,a=H2){if(a===H2){const l=new Error(`NullInjectorError: No provider for ${ne(s)}!`);throw l.name="NullInjectorError",l}return a}}function Wd(...i){return{\u0275providers:Zd(0,i),\u0275fromNgModule:!0}}function Zd(i,...s){const a=[],l=new Set;let f;const d=v=>{a.push(v)};return Ei(s,v=>{const C=v;Z6(C,d,[],l)&&(f||=[],f.push(C))}),void 0!==f&&Kd(f,d),a}function Kd(i,s){for(let a=0;a<i.length;a++){const{ngModule:l,providers:f}=i[a];Mu(f,d=>{s(d,l)})}}function Z6(i,s,a,l){if(!(i=ce(i)))return!1;let f=null,d=R1(i);const v=!d&&Nt(i);if(d||v){if(v&&!v.standalone)return!1;f=i}else{const w=i.ngModule;if(d=R1(w),!d)return!1;f=w}const C=l.has(f);if(v){if(C)return!1;if(l.add(f),v.dependencies){const w="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const V of w)Z6(V,s,a,l)}}else{if(!d)return!1;{if(null!=d.imports&&!C){let V;l.add(f);try{Ei(d.imports,z=>{Z6(z,s,a,l)&&(V||=[],V.push(z))})}finally{}void 0!==V&&Kd(V,s)}if(!C){const V=er(f)||(()=>new f);s({provide:f,useFactory:V,deps:Re},f),s({provide:Gd,useValue:f,multi:!0},f),s({provide:W6,useValue:()=>ke(f),multi:!0},f)}const w=d.providers;if(null!=w&&!C){const V=i;Mu(w,z=>{s(z,V)})}}}return f!==i&&void 0!==i.providers}function Mu(i,s){for(let a of i)xe(a)&&(a=a.\u0275providers),Array.isArray(a)?Mu(a,s):s(a)}const uM=R({provide:String,useValue:R});function K6(i){return null!==i&&"object"==typeof i&&uM in i}function Cs(i){return"function"==typeof i}const Y6=new jt("Set Injector scope."),Q6={},Qd={};let bu;function ha(){return void 0===bu&&(bu=new _u),bu}class Yr{}class J6 extends Yr{get destroyed(){return this._destroyed}constructor(s,a,l,f){super(),this.parent=a,this.source=l,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vu(s,v=>this.processProvider(v)),this.records.set($d,e4(void 0,this)),f.has("environment")&&this.records.set(Yr,e4(void 0,this));const d=this.records.get(Y6);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Gd.multi,Re,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=q(this),l=Rt(void 0);try{return s()}finally{q(a),Rt(l)}}get(s,a=H2,l=vt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Lc))return s[Lc](this);l=Ot(l);const d=q(this),v=Rt(void 0);try{if(!(l&vt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const V=function mM(i){return"function"==typeof i||"object"==typeof i&&i instanceof jt}(s)&&a2(s);w=V&&this.injectableDefInScope(V)?e4(Hu(s),Q6):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&vt.Self?ha():this.parent).get(s,a=l&vt.Optional&&a===H2?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[Z1]=C[Z1]||[]).unshift(ne(s)),d)throw C;return function o1(i,s,a,l){const f=i[Z1];throw s[x]&&f.unshift(s[x]),i.message=function Rr(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let f=ne(s);if(Array.isArray(s))f=s.map(ne).join(" -> ");else if("object"==typeof s){let d=[];for(let v in s)if(s.hasOwnProperty(v)){let C=s[v];d.push(v+":"+("string"==typeof C?JSON.stringify(C):ne(C)))}f=`{${d.join(", ")}}`}return`${a}${l?"("+l+")":""}[${f}]: ${i.replace(F,"\n  ")}`}("\n"+i.message,f,a,l),i.ngTokenPath=f,i[Z1]=null,i}(C,s,"R3InjectorError",this.source)}throw C}finally{Rt(v),q(d)}}resolveInjectorInitializers(){const s=q(this),a=Rt(void 0);try{const f=this.get(W6.multi,Re,vt.Self);for(const d of f)d()}finally{q(s),Rt(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(ne(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(s){let a=Cs(s=ce(s))?s:ce(s&&s.provide);const l=function hM(i){return K6(i)?e4(void 0,i.useValue):e4(function Jd(i,s,a){let l;if(Cs(i)){const f=ce(i);return er(f)||Hu(f)}if(K6(i))l=()=>ce(i.useValue);else if(function wu(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...gt(i.deps||[]));else if(function Yd(i){return!(!i||!i.useExisting)}(i))l=()=>ke(ce(i.useExisting));else{const f=ce(i&&(i.useClass||i.provide));if(!function X6(i){return!!i.deps}(i))return er(f)||Hu(f);l=()=>new f(...gt(i.deps))}return l}(i),Q6)}(s);if(Cs(s)||!0!==s.multi)this.records.get(a);else{let f=this.records.get(a);f||(f=e4(void 0,Q6,!0),f.factory=()=>gt(f.multi),this.records.set(a,f)),a=s,f.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===Q6&&(a.value=Qd,a.value=a.factory()),"object"==typeof a.value&&a.value&&function pM(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ce(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Hu(i){const s=a2(i),a=null!==s?s.factory:er(i);if(null!==a)return a;if(i instanceof jt)throw new Z(204,!1);if(i instanceof Function)return function dM(i){const s=i.length;if(s>0)throw Li(s,"?"),new Z(204,!1);const a=function w1(i){return i&&(i[i1]||i[pn])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Z(204,!1)}function e4(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Vu(i,s){for(const a of i)Array.isArray(a)?Vu(a,s):a&&xe(a)?Vu(a.\u0275providers,s):s(a)}const Xd=new jt("AppId",{providedIn:"root",factory:()=>gM}),gM="ng",e0=new jt("Platform Initializer"),Su=new jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yM=new jt("CSP nonce",{providedIn:"root",factory:()=>J3().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let nh=(i,s,a)=>null;function xu(i,s,a=!1){return nh(i,s,a)}class ih{}class sh{}class EM{resolveComponentFactory(s){throw function oh(i){const s=Error(`No component factory found for ${ne(i)}.`);return s.ngComponent=i,s}(s)}}let c0=(()=>{class s{}return s.NULL=new EM,s})();function LM(){return _s(Y2(),me())}function _s(i,s){return new ya(F1(i,s))}let ya=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=LM,s})();class l0{}let DM=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function AM(){const i=me(),a=p1(Y2().index,i);return(h1(a)?a:i)[dt]}(),s})(),TM=(()=>{var i;class s{}return(i=s).\u0275prov=Mt({token:i,providedIn:"root",factory:()=>null}),s})();class Nu{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ch=new Nu("16.2.1"),u0={};function fh(i,s=null,a=null,l){const f=Ou(i,s,a,l);return f.resolveInjectorInitializers(),f}function Ou(i,s=null,a=null,l,f=new Set){const d=[a||Re,Wd(i)];return l=l||("object"==typeof i?void 0:ne(i)),new J6(d,s||ha(),l||null,f)}let ir=(()=>{var i;class s{static create(l,f){if(Array.isArray(l))return fh({name:""},f,l,"");{const d=l.name??"";return fh({name:d},l.parent,l.providers,d)}}}return(i=s).THROW_IF_NOT_FOUND=H2,i.NULL=new _u,i.\u0275prov=Mt({token:i,providedIn:"any",factory:()=>ke($d)}),i.__NG_ELEMENT_ID__=-1,s})();let Fu=(()=>{var i;class s{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new Z(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const l of this.callbacks)l.invoke()}finally{this.runningCallbacks=!1;for(const l of this.deferredCallbacks)this.callbacks.add(l);this.deferredCallbacks.clear()}}register(l){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(l)}unregister(l){this.callbacks.delete(l),this.deferredCallbacks.delete(l)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(i=s).\u0275prov=Mt({token:i,providedIn:"root",factory:()=>new i}),s})();function i4(i){for(;i;){i[yt]|=64;const s=na(i);if(gi(i)&&!s)return i;i=s}return null}function Bu(i){return i.ngOriginalError}class s4{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Bu(s);for(;a&&Bu(a);)a=Bu(a);return a||null}}const vh=new jt("",{providedIn:"root",factory:()=>!1});class Uu extends Jc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){i4(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,a,l){const f=k2(this);this.trackingVersion++;try{s(a,l)}finally{k2(f)}}destroy(){this.trackingVersion++}}let h0=null;function ju(){return h0??=new Uu,h0}function wh(i,s){return i[s]??ju()}function bh(i,s){const a=ju();a.hasReadASignal&&(i[s]=h0,a.lView=i,h0=new Uu)}const wt={};function $u(i){Hh(kt(),me(),m1()+i,!1)}function Hh(i,s,a,l){if(!l)if(3==(3&s[yt])){const d=i.preOrderCheckHooks;null!==d&&Nn(s,d,a)}else{const d=i.preOrderHooks;null!==d&&bi(s,d,0,a)}$r(a)}function xi(i,s=vt.Default){const a=me();return null===a?ke(i,s):N3(Y2(),a,ce(i),s)}function p0(i,s,a,l,f,d,v,C,w,V,z){const A=s.blueprint.slice();return A[p2]=f,A[yt]=140|l,(null!==V||i&&2048&i[yt])&&(A[yt]|=2048),a6(A),A[Jt]=A[Cn]=i,A[m2]=a,A[Mr]=v||i&&i[Mr],A[dt]=C||i&&i[dt],A[_r]=w||i&&i[_r]||null,A[K2]=d,A[Ln]=function nd(){return v_++}(),A[Qn]=z,A[Rc]=V,A[V2]=2==s.type?i[V2]:A,A}function ws(i,s,a,l,f){let d=i.data[s];if(null===d)d=function Gu(i,s,a,l,f){const d=m6(),v=yi(),w=i.data[s]=function Eh(i,s,a,l,f,d){let v=s?s.injectorIndex:-1,C=0;return Hr()&&(C|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:f,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?d:d&&d.parent,a,s,l,f);return null===i.firstChild&&(i.firstChild=w),null!==d&&(v?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w,w.prev=d)),w}(i,s,a,l,f),function v6(){return mt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=a,d.value=l,d.attrs=f;const v=function vi(){const i=mt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();d.injectorIndex=null===v?-1:v.injectorIndex}return Dn(d,!0),d}function Ca(i,s,a,l){if(0===a)return-1;const f=s.length;for(let d=0;d<a;d++)s.push(l),i.blueprint.push(l),i.data.push(null);return f}function Vh(i,s,a,l,f){const d=wh(s,u3),v=m1(),C=2&l;try{if($r(-1),C&&s.length>At&&Hh(i,s,At,!1),tr(C?2:0,f),C)d.runInContext(a,l,f);else{const V=k2(null);try{a(l,f)}finally{k2(V)}}}finally{C&&null===s[u3]&&bh(s,u3),$r(v),tr(C?3:1,f)}}function qu(i,s,a){if(lo(s)){const l=k2(null);try{const d=s.directiveEnd;for(let v=s.directiveStart;v<d;v++){const C=i.data[v];C.contentQueries&&C.contentQueries(1,a[v],v)}}finally{k2(l)}}}function m0(i,s,a){h6()&&(function ow(i,s,a,l){const f=a.directiveStart,d=a.directiveEnd;Xn(a)&&function fw(i,s,a){const l=F1(s,i),f=Sh(a);let v=16;a.signals?v=4096:a.onPush&&(v=64);const C=y0(i,p0(i,f,null,v,l,s,null,i[Mr].rendererFactory.createRenderer(l,a),null,null,null));i[s.index]=C}(s,a,i.data[f+a.componentOffset]),i.firstCreatePass||ls(a,s),z1(l,s);const v=a.initialInputs;for(let C=f;C<d;C++){const w=i.data[C],V=qr(s,i,C,a);z1(V,s),null!==v&&dw(0,C-f,V,w,0,v),S1(w)&&(p1(a.index,s)[m2]=qr(s,i,C,a))}}(i,s,a,F1(a,s)),64==(64&a.flags)&&Th(i,s,a))}function Wu(i,s,a=F1){const l=s.localNames;if(null!==l){let f=s.index+1;for(let d=0;d<l.length;d+=2){const v=l[d+1],C=-1===v?a(s,i):i[v];i[f++]=C}}}function Sh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Zu(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Zu(i,s,a,l,f,d,v,C,w,V,z){const A=At+l,j=A+f,W=function QM(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:wt);return a}(A,j),le="function"==typeof V?V():V;return W[Pe]={type:i,blueprint:W,template:a,queries:null,viewQuery:C,declTNode:s,data:W.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:w,consts:le,incompleteFirstPass:!1,ssrId:z}}let zh=i=>null;function Lh(i,s,a,l){for(let f in i)if(i.hasOwnProperty(f)){a=null===a?{}:a;const d=i[f];null===l?xh(a,s,f,d):l.hasOwnProperty(f)&&xh(a,s,l[f],d)}return a}function xh(i,s,a,l){i.hasOwnProperty(a)?i[a].push(s,l):i[a]=[s,l]}function Mn(i,s,a,l,f,d,v,C){const w=F1(s,a);let z,V=s.inputs;!C&&null!=V&&(z=V[l])?(_a(i,a,z,l,f),Xn(s)&&function rw(i,s){const a=p1(s,i);16&a[yt]||(a[yt]|=64)}(a,s.index)):3&s.type&&(l=function nw(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),f=null!=v?v(f,s.value||"",l):f,d.setProperty(w,l,f))}function g0(i,s,a,l){if(h6()){const f=null===l?null:{"":-1},d=function cw(i,s){const a=i.directiveRegistry;let l=null,f=null;if(a)for(let d=0;d<a.length;d++){const v=a[d];if(eo(s,v.selectors,!1))if(l||(l=[]),S1(v))if(null!==v.findHostDirectiveDefs){const C=[];f=f||new Map,v.findHostDirectiveDefs(v,C,f),l.unshift(...C,v),Ku(i,s,C.length)}else l.unshift(v),Ku(i,s,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,l,f),l.push(v)}return null===l?null:[l,f]}(i,a);let v,C;null===d?v=C=null:[v,C]=d,null!==v&&v0(i,s,a,v,f,C),f&&function Nh(i,s,a){if(s){const l=i.localNames=[];for(let f=0;f<s.length;f+=2){const d=a[s[f+1]];if(null==d)throw new Z(-301,!1);l.push(s[f],d)}}}(a,l,f)}a.mergedAttrs=Zi(a.mergedAttrs,a.attrs)}function v0(i,s,a,l,f,d){for(let V=0;V<l.length;V++)Po(ls(a,s),i,l[V].type);!function uw(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,l.length);for(let V=0;V<l.length;V++){const z=l[V];z.providersResolver&&z.providersResolver(z)}let v=!1,C=!1,w=Ca(i,s,l.length,null);for(let V=0;V<l.length;V++){const z=l[V];a.mergedAttrs=Zi(a.mergedAttrs,z.hostAttrs),kh(i,a,s,w,z),lw(w,z,f),null!==z.contentQueries&&(a.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(a.flags|=64);const A=z.type.prototype;!v&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),v=!0),!C&&(A.ngOnChanges||A.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),C=!0),w++}!function Dh(i,s,a){const f=s.directiveEnd,d=i.data,v=s.attrs,C=[];let w=null,V=null;for(let z=s.directiveStart;z<f;z++){const A=d[z],j=a?a.get(A):null,le=j?j.outputs:null;w=Lh(A.inputs,z,w,j?j.inputs:null),V=Lh(A.outputs,z,V,le);const He=null===w||null===v||Dc(s)?null:hw(w,z,v);C.push(He)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=8),w.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=C,s.inputs=w,s.outputs=V}(i,a,d)}function Th(i,s,a){const l=a.directiveStart,f=a.directiveEnd,d=a.index,v=function F9(){return mt.lFrame.currentDirectiveIndex}();try{$r(d);for(let C=l;C<f;C++){const w=i.data[C],V=s[C];rs(C),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&aw(w,V)}}finally{$r(-1),rs(v)}}function aw(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Ku(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function lw(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;S1(s)&&(a[""]=i)}}function kh(i,s,a,l,f){i.data[l]=f;const d=f.factory||(f.factory=er(f.type)),v=new ss(d,S1(f),xi);i.blueprint[l]=v,a[l]=v,function iw(i,s,a,l,f){const d=f.hostBindings;if(d){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const C=~s.index;(function sw(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=C&&v.push(C),v.push(a,l,d)}}(i,s,l,Ca(i,a,f.hostVars,wt),f)}function zr(i,s,a,l,f,d){const v=F1(i,s);!function Yu(i,s,a,l,f,d,v){if(null==d)i.removeAttribute(s,f,a);else{const C=null==v?Q(d):v(d,l||"",f);i.setAttribute(s,f,C,a)}}(s[dt],v,d,i.value,a,l,f)}function dw(i,s,a,l,f,d){const v=d[s];if(null!==v)for(let C=0;C<v.length;)Ph(l,a,v[C++],v[C++],v[C++])}function Ph(i,s,a,l,f){const d=k2(null);try{const v=i.inputTransforms;null!==v&&v.hasOwnProperty(l)&&(f=v[l].call(s,f)),null!==i.setInput?i.setInput(s,f,a,l):s[l]=f}finally{k2(d)}}function hw(i,s,a){let l=null,f=0;for(;f<a.length;){const d=a[f];if(0!==d)if(5!==d){if("number"==typeof d)break;if(i.hasOwnProperty(d)){null===l&&(l=[]);const v=i[d];for(let C=0;C<v.length;C+=2)if(v[C]===s){l.push(d,v[C+1],a[f+1]);break}}f+=2}else f+=2;else f+=4}return l}function Rh(i,s,a,l){return[i,!0,!1,s,null,0,l,a,null,null,null]}function Qu(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l+1];if(-1!==d){const v=i.data[d];V3(a[l]),v.contentQueries(2,s[d],d)}}}function y0(i,s){return i[di]?i[Pc][yn]=s:i[di]=s,i[Pc]=s,s}function Ju(i,s,a){V3(0);const l=k2(null);try{s(i,a)}finally{k2(l)}}function Bh(i,s){const a=i[_r],l=a?a.get(s4,null):null;l&&l.handleError(s)}function _a(i,s,a,l,f){for(let d=0;d<a.length;){const v=a[d++],C=a[d++];Ph(i.data[v],s[v],l,C,f)}}function pw(i,s){const a=p1(s,i),l=a[Pe];!function mw(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(l,a);const f=a[p2];null!==f&&null===a[Qn]&&(a[Qn]=xu(f,a[_r])),C0(l,a,a[m2])}function C0(i,s,a){Mi(s);try{const l=i.viewQuery;null!==l&&Ju(1,l,a);const f=i.template;null!==f&&Vh(i,s,f,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Qu(i,s),i.staticViewQueries&&Ju(2,i.viewQuery,a);const d=i.components;null!==d&&function gw(i,s){for(let a=0;a<s.length;a++)pw(i,s[a])}(s,d)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[yt]&=-5,I3()}}let Uh=(()=>{var i;class s{constructor(){this.all=new Set,this.queue=new Map}create(l,f,d){const v=typeof Zone>"u"?null:Zone.current,C=new Mo(l,z=>{this.all.has(z)&&this.queue.set(z,v)},d);let w;this.all.add(C),C.notify();const V=()=>{C.cleanup(),w?.(),this.all.delete(C),this.queue.delete(C)};return w=f?.onDestroy(V),{destroy:V}}flush(){if(0!==this.queue.size)for(const[l,f]of this.queue)this.queue.delete(l),f?f.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=s).\u0275prov=Mt({token:i,providedIn:"root",factory:()=>new i}),s})();function _0(i,s,a){let l=a?i.styles:null,f=a?i.classes:null,d=0;if(null!==s)for(let v=0;v<s.length;v++){const C=s[v];"number"==typeof C?d=C:1==d?f=Ne(f,C):2==d&&(l=Ne(l,C+": "+s[++v]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=f:i.classesWithoutHost=f}function Ma(i,s,a,l,f=!1){for(;null!==a;){const d=s[a.index];if(null!==d&&l.push(Xt(d)),a1(d)){for(let C=x2;C<d.length;C++){const w=d[C],V=w[Pe].firstChild;null!==V&&Ma(w[Pe],w,V,l)}d[Q1]!==d[p2]&&l.push(d[Q1])}const v=a.type;if(8&v)Ma(i,s,a.child,l);else if(32&v){const C=X8(a,s);let w;for(;w=C();)l.push(w)}else if(16&v){const C=lu(s,a);if(Array.isArray(C))l.push(...C);else{const w=na(s[V2]);Ma(w[Pe],w,C,l,!0)}}a=f?a.projectionNext:a.next}return l}function wa(i,s,a,l=!0){const f=s[Mr],d=f.rendererFactory,v=f.afterRenderEventManager;d.begin?.(),v?.begin();try{$h(i,s,i.template,a)}catch(w){throw l&&Bh(s,w),w}finally{d.end?.(),f.effectManager?.flush(),v?.end()}}function $h(i,s,a,l){const f=s[yt];if(256!=(256&f)){s[Mr].effectManager?.flush(),Mi(s);try{a6(s),function H3(i){return mt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Vh(i,s,a,2,l);const v=3==(3&f);if(v){const V=i.preOrderCheckHooks;null!==V&&Nn(s,V,null)}else{const V=i.preOrderHooks;null!==V&&bi(s,V,0,null),Ao(s,0)}if(function yw(i){for(let s=dd(i);null!==s;s=hd(s)){if(!s[hi])continue;const a=s[Fr];for(let l=0;l<a.length;l++){c6(a[l])}}}(s),e5(s,2),null!==i.contentQueries&&Qu(i,s),v){const V=i.contentCheckHooks;null!==V&&Nn(s,V)}else{const V=i.contentHooks;null!==V&&bi(s,V,1),Ao(s,1)}!function YM(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const l=wh(s,Jn);try{for(let f=0;f<a.length;f++){const d=a[f];if(d<0)$r(~d);else{const v=d,C=a[++f],w=a[++f];_8(C,v),l.runInContext(w,2,s[v])}}}finally{null===s[Jn]&&bh(s,Jn),$r(-1)}}(i,s);const C=i.components;null!==C&&qh(s,C,0);const w=i.viewQuery;if(null!==w&&Ju(2,w,l),v){const V=i.viewCheckHooks;null!==V&&Nn(s,V)}else{const V=i.viewHooks;null!==V&&bi(s,V,2),Ao(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[yt]&=-73,_3(s)}finally{I3()}}}function e5(i,s){for(let a=dd(i);null!==a;a=hd(a))for(let l=x2;l<a.length;l++)Gh(a[l],s)}function Cw(i,s,a){Gh(p1(s,i),a)}function Gh(i,s){if(!function o6(i){return 128==(128&i[yt])}(i))return;const a=i[Pe];if(80&i[yt]&&0===s||1024&i[yt]||2===s)$h(a,i,a.template,i[m2]);else if(i[Or]>0){e5(i,1);const f=i[Pe].components;null!==f&&qh(i,f,1)}}function qh(i,s,a){for(let l=0;l<s.length;l++)Cw(i,s[l],a)}class ba{get rootNodes(){const s=this._lView,a=s[Pe];return Ma(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[m2]}set context(s){this._lView[m2]=s}get destroyed(){return 256==(256&this._lView[yt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Jt];if(a1(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(j6(s,l),U3(a,l))}this._attachedToViewContainer=!1}nu(this._lView[Pe],this._lView)}onDestroy(s){!function l6(i,s){if(256==(256&i[yt]))throw new Z(911,!1);null===i[Yn]&&(i[Yn]=[]),i[Yn].push(s)}(this._lView,s)}markForCheck(){i4(this._cdRefInjectingView||this._lView)}detach(){this._lView[yt]&=-129}reattach(){this._lView[yt]|=128}detectChanges(){wa(this._lView[Pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function md(i,s){aa(i,s,s[dt],2,null,null)}(this._lView[Pe],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=s}}class Wh extends ba{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;wa(s[Pe],s,s[m2],!1)}checkNoChanges(){}get context(){return null}}class Zh extends c0{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Nt(s);return new Ha(a,this.ngModule)}}function Kh(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Mw{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=Ot(l);const f=this.injector.get(s,u0,l);return f!==u0||a===u0?f:this.parentInjector.get(s,a,l)}}class Ha extends sh{get inputs(){const s=this.componentDef,a=s.inputTransforms,l=Kh(s.inputs);if(null!==a)for(const f of l)a.hasOwnProperty(f.propName)&&(f.transform=a[f.propName]);return l}get outputs(){return Kh(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function c8(i){return i.map(Ki).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,l,f){let d=(f=f||this.ngModule)instanceof Yr?f:f?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const v=d?new Mw(s,d):s,C=v.get(l0,null);if(null===C)throw new Z(407,!1);const A={rendererFactory:C,sanitizer:v.get(TM,null),effectManager:v.get(Uh,null),afterRenderEventManager:v.get(Fu,null)},j=C.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",le=l?function Ih(i,s,a,l){const d=l.get(vh,!1)||a===_e.ShadowDom,v=i.selectRootElement(s,d);return function JM(i){zh(i)}(v),v}(j,l,this.componentDef.encapsulation,v):ra(j,W,function _w(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(W)),it=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ge=null;null!==le&&(ge=xu(le,v,!0));const Ct=Zu(0,null,null,1,0,null,null,null,null,null,null),xt=p0(null,Ct,null,it,null,null,A,j,v,null,ge);let Kt,rn;Mi(xt);try{const Xr=this.componentDef;let M4,As=null;Xr.findHostDirectiveDefs?(M4=[],As=new Map,Xr.findHostDirectiveDefs(Xr,M4,As),M4.push(Xr)):M4=[Xr];const KS=function ww(i,s){const a=i[Pe],l=At;return i[l]=s,ws(a,l,2,"#host",null)}(xt,le),YS=function bw(i,s,a,l,f,d,v){const C=f[Pe];!function Hw(i,s,a,l){for(const f of i)s.mergedAttrs=Zi(s.mergedAttrs,f.hostAttrs);null!==s.mergedAttrs&&(_0(s,s.mergedAttrs,!0),null!==a&&Vd(l,a,s))}(l,i,s,v);let w=null;null!==s&&(w=xu(s,f[_r]));const V=d.rendererFactory.createRenderer(s,a);let z=16;a.signals?z=4096:a.onPush&&(z=64);const A=p0(f,Sh(a),null,z,f[i.index],i,d,V,null,null,w);return C.firstCreatePass&&Ku(C,i,l.length-1),y0(f,A),f[i.index]=A}(KS,le,Xr,M4,xt,A,j);rn=C3(Ct,At),le&&function Vw(i,s,a,l){if(l)t3(i,a,["ng-version",ch.full]);else{const{attrs:f,classes:d}=function no(i){const s=[],a=[];let l=1,f=2;for(;l<i.length;){let d=i[l];if("string"==typeof d)2===f?""!==d&&s.push(d,i[++l]):8===f&&a.push(d);else{if(!Y1(f))break;f=d}l++}return{attrs:s,classes:a}}(s.selectors[0]);f&&t3(i,a,f),d&&d.length>0&&Hd(i,a,d.join(" "))}}(j,Xr,le,l),void 0!==a&&function Jh(i,s,a){const l=i.projection=[];for(let f=0;f<s.length;f++){const d=a[f];l.push(null!=d?Array.from(d):null)}}(rn,this.ngContentSelectors,a),Kt=function Qh(i,s,a,l,f,d){const v=Y2(),C=f[Pe],w=F1(v,f);v0(C,f,v,a,null,l);for(let z=0;z<a.length;z++)z1(qr(f,C,v.directiveStart+z,v),f);Th(C,f,v),w&&z1(w,f);const V=qr(f,C,v.directiveStart+v.componentOffset,v);if(i[m2]=f[m2]=V,null!==d)for(const z of d)z(V,s);return qu(C,v,i),V}(YS,Xr,M4,As,xt,[Sw]),C0(Ct,xt,null)}finally{I3()}return new Yh(this.componentType,Kt,_s(rn,xt),xt,rn)}}class Yh extends ih{constructor(s,a,l,f,d){super(),this.location=l,this._rootLView=f,this._tNode=d,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Wh(f),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let f;if(null!==l&&(f=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const d=this._rootLView;_a(d[Pe],d,f,s,a),this.previousInputValues.set(s,a),i4(p1(this._tNode.index,d))}}get injector(){return new g1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Sw(){const i=Y2();wi(me()[Pe],i)}function b0(i){return!!H0(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function H0(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Er(i,s,a){return i[s]=a}function E1(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function V0(i,s,a,l,f){const d=function bs(i,s,a,l){const f=E1(i,s,a);return E1(i,s+1,l)||f}(i,s,a,l);return E1(i,s+2,f)||d}function n5(i,s,a,l){const f=me();return E1(f,_i(),s)&&(kt(),zr(n2(),f,i,s,a,l)),n5}function l5(i,s,a,l,f,d,v,C){const w=me(),V=kt(),z=i+At,A=V.firstCreatePass?function Xw(i,s,a,l,f,d,v,C,w){const V=s.consts,z=ws(s,i,4,v||null,jr(V,C));g0(s,a,z,jr(V,w)),wi(s,z);const A=z.tView=Zu(2,z,l,f,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,V,null);return null!==s.queries&&(s.queries.template(s,z),A.queries=s.queries.embeddedTView(z)),z}(z,V,w,s,a,l,f,d,v):V.data[z];Dn(A,!1);const j=vp(V,w,A,i);E3()&&$6(V,w,j,A),z1(j,w),y0(w,w[z]=Rh(j,w,j,A)),mi(A)&&m0(V,w,A),null!=v&&Wu(w,A,C)}let vp=function yp(i,s,a,l){return Tn(!0),s[dt].createComment("")};function _p(i){return I1(function Ci(){return mt.lFrame.contextLView}(),At+i)}function u5(i,s,a){const l=me();return E1(l,_i(),s)&&Mn(kt(),n2(),l,i,s,l[dt],a,!1),u5}function E0(i,s,a,l,f){const v=f?"class":"style";_a(i,a,s.inputs[v],v,l)}function L0(i,s,a,l){const f=me(),d=kt(),v=At+i,C=f[dt],w=d.firstCreatePass?function nb(i,s,a,l,f,d){const v=s.consts,w=ws(s,i,2,l,jr(v,f));return g0(s,a,w,jr(v,d)),null!==w.attrs&&_0(w,w.attrs,!1),null!==w.mergedAttrs&&_0(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(v,d,f,s,a,l):d.data[v],V=Mp(d,f,w,C,s,i);f[v]=V;const z=mi(w);return Dn(w,!0),Vd(C,V,w),32!=(32&w.flags)&&E3()&&$6(d,f,V,w),0===function f6(){return mt.lFrame.elementDepthCount}()&&z1(V,f),function O9(){mt.lFrame.elementDepthCount++}(),z&&(m0(d,f,w),qu(d,w,f)),null!==l&&Wu(f,w),L0}function Ea(){let i=Y2();yi()?ns():(i=i.parent,Dn(i,!1));const s=i;(function y8(i){return mt.skipHydrationRootTNode===i})(s)&&function S2(){mt.skipHydrationRootTNode=null}(),function d6(){mt.lFrame.elementDepthCount--}();const a=kt();return a.firstCreatePass&&(wi(a,i),lo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function E8(i){return 0!=(8&i.flags)}(s)&&E0(a,s,me(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function L8(i){return 0!=(16&i.flags)}(s)&&E0(a,s,me(),s.stylesWithoutHost,!1),Ea}function f5(i,s,a,l){return L0(i,s,a,l),Ea(),f5}let Mp=(i,s,a,l,f,d)=>(Tn(!0),ra(l,f,function Do(){return mt.lFrame.currentNamespace}()));function bp(){return me()}function p5(i){return!!i&&"function"==typeof i.then}function D0(i){return!!i&&"function"==typeof i.subscribe}function m5(i,s,a,l){const f=me(),d=kt(),v=Y2();return function Sp(i,s,a,l,f,d,v){const C=mi(l),V=i.firstCreatePass&&function Oh(i){return i.cleanup||(i.cleanup=[])}(i),z=s[m2],A=function Xu(i){return i[Cr]||(i[Cr]=[])}(s);let j=!0;if(3&l.type||v){const He=F1(l,s),Be=v?v(He):He,it=A.length,ge=v?xt=>v(Xt(xt[l.index])):l.index;let Ct=null;if(!v&&C&&(Ct=function Vp(i,s,a,l){const f=i.cleanup;if(null!=f)for(let d=0;d<f.length-1;d+=2){const v=f[d];if(v===a&&f[d+1]===l){const C=s[Cr],w=f[d+2];return C.length>w?C[w]:null}"string"==typeof v&&(d+=2)}return null}(i,s,f,l.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=d,Ct.__ngLastListenerFn__=d,j=!1;else{d=g5(l,s,z,d,!1);const xt=a.listen(Be,f,d);A.push(d,xt),V&&V.push(f,ge,it,it+1)}}else d=g5(l,s,z,d,!1);const W=l.outputs;let le;if(j&&null!==W&&(le=W[f])){const He=le.length;if(He)for(let Be=0;Be<He;Be+=2){const Kt=s[le[Be]][le[Be+1]].subscribe(d),rn=A.length;A.push(d,Kt),V&&V.push(f,l.index,rn,-(rn+1))}}}(d,f,f[dt],v,i,s,l),m5}function Ip(i,s,a,l){try{return tr(6,s,a),!1!==a(l)}catch(f){return Bh(i,f),!1}finally{tr(7,s,a)}}function g5(i,s,a,l,f){return function d(v){if(v===Function)return l;i4(i.componentOffset>-1?p1(i.index,s):s);let w=Ip(s,a,l,v),V=d.__ngNextListenerFn__;for(;V;)w=Ip(s,a,V,v)&&w,V=V.__ngNextListenerFn__;return f&&!1===w&&v.preventDefault(),w}}function zp(i=1){return function w8(i){return(mt.lFrame.contextLView=function b8(i,s){for(;i>0;)s=s[Cn],i--;return s}(i,mt.lFrame.contextLView))[m2]}(i)}function Ep(i,s){let a=null;const l=function a8(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(i);for(let f=0;f<s.length;f++){const d=s[f];if("*"!==d){if(null===l?eo(i,d,!0):r3(l,d))return f}else a=f}return a}function Lp(i){const s=me()[V2][K2];if(!s.projection){const l=s.projection=Li(i?i.length:1,null),f=l.slice();let d=s.child;for(;null!==d;){const v=i?Ep(d,i):0;null!==v&&(f[v]?f[v].projectionNext=d:l[v]=d,f[v]=d),d=d.next}}}function xp(i,s=0,a){const l=me(),f=kt(),d=ws(f,At+i,16,null,a||null);null===d.projection&&(d.projection=s),ns(),(!l[Qn]||Hr())&&32!=(32&d.flags)&&function T_(i,s,a){fu(s[dt],0,s,a,iu(i,a,s),Cd(a.parent||s[K2],a,s))}(f,l,d)}function La(i,s){return i<<17|s<<2}function Di(i){return i>>17&32767}function w5(i){return 2|i}function Es(i){return(131068&i)>>2}function A0(i,s){return-131069&i|s<<2}function f4(i){return 1|i}function b5(i,s,a,l,f){const d=i[a+1],v=null===s;let C=l?Di(d):Es(d),w=!1;for(;0!==C&&(!1===w||v);){const z=i[C+1];hb(i[C],s)&&(w=!0,i[C+1]=l?f4(z):w5(z)),C=l?Di(z):Es(z)}w&&(i[a+1]=l?w5(d):f4(d))}function hb(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&nr(i,s)>=0}const X2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pp(i){return i.substring(X2.key,X2.keyEnd)}function pb(i){return i.substring(X2.value,X2.valueEnd)}function Rp(i,s){const a=X2.textEnd;let l=X2.key=d4(i,s,a);return a===l?-1:(l=X2.keyEnd=function yb(i,s,a){let l;for(;s<a&&(45===(l=i.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(i,l,a),l=S5(i,l,a),l=X2.value=d4(i,l,a),l=X2.valueEnd=function Cb(i,s,a){let l=-1,f=-1,d=-1,v=s,C=v;for(;v<a;){const w=i.charCodeAt(v++);if(59===w)return C;34===w||39===w?C=v=I5(i,w,v,a):s===v-4&&85===d&&82===f&&76===l&&40===w?C=v=I5(i,41,v,a):w>32&&(C=v),d=f,f=l,l=-33&w}return C}(i,l,a),S5(i,l,a))}function d4(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function S5(i,s,a,l){return(s=d4(i,s,a))<a&&s++,s}function I5(i,s,a,l){let f=-1,d=a;for(;d<l;){const v=i.charCodeAt(d++);if(v==s&&92!==f)return d;f=92==v&&92===f?0:v}throw new Error}function z5(i,s){return function or(i,s,a,l){const f=me(),d=kt(),v=_n(2);d.firstUpdatePass&&E5(d,i,v,l),s!==wt&&E1(f,v,s)&&Bp(d,d.data[m1()],f,f[dt],i,f[v+1]=function Ib(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ne(Pn(i)))),i}(s,a),l,v)}(i,s,null,!0),z5}function sr(i){!function ar(i,s,a,l){const f=kt(),d=_n(2);f.firstUpdatePass&&E5(f,null,d,l);const v=me();if(a!==wt&&E1(v,d,a)){const C=f.data[m1()];if(T5(C,l)&&!Fp(f,d)){let w=l?C.classesWithoutHost:C.stylesWithoutHost;null!==w&&(a=Ne(w,a||"")),E0(f,C,v,a,l)}else!function A5(i,s,a,l,f,d,v,C){f===wt&&(f=Re);let w=0,V=0,z=0<f.length?f[0]:null,A=0<d.length?d[0]:null;for(;null!==z||null!==A;){const j=w<f.length?f[w+1]:void 0,W=V<d.length?d[V+1]:void 0;let He,le=null;z===A?(w+=2,V+=2,j!==W&&(le=A,He=W)):null===A||null!==z&&z<A?(w+=2,le=z):(V+=2,le=A,He=W),null!==le&&Bp(i,s,a,l,le,He,v,C),z=w<f.length?f[w]:null,A=V<d.length?d[V]:null}}(f,C,v,v[dt],v[d+1],v[d+1]=function Vb(i,s,a){if(null==a||""===a)return Re;const l=[],f=Pn(a);if(Array.isArray(f))for(let d=0;d<f.length;d++)i(l,f[d],!0);else if("object"==typeof f)for(const d in f)f.hasOwnProperty(d)&&i(l,d,f[d]);else"string"==typeof f&&s(l,f);return l}(i,s,a),l,d)}}(D5,_b,i,!1)}function _b(i,s){for(let a=function gb(i){return function V5(i){X2.key=0,X2.keyEnd=0,X2.value=0,X2.valueEnd=0,X2.textEnd=i.length}(i),Rp(i,d4(i,0,X2.textEnd))}(s);a>=0;a=Rp(s,a))D5(i,Pp(s),pb(s))}function Fp(i,s){return s>=i.expandoStartIndex}function E5(i,s,a,l){const f=i.data;if(null===f[a+1]){const d=f[m1()],v=Fp(i,a);T5(d,l)&&null===s&&!v&&(s=!1),s=function wb(i,s,a,l){const f=function Lo(i){const s=mt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let d=l?s.residualClasses:s.residualStyles;if(null===f)0===(l?s.classBindings:s.styleBindings)&&(a=xa(a=x5(null,i,s,a,l),s.attrs,l),d=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==f)if(a=x5(f,i,s,a,l),null===d){let w=function bb(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Es(l))return i[Di(l)]}(i,s,l);void 0!==w&&Array.isArray(w)&&(w=x5(null,i,s,w[1],l),w=xa(w,s.attrs,l),function L5(i,s,a,l){i[Di(a?s.classBindings:s.styleBindings)]=l}(i,s,l,w))}else d=function Hb(i,s,a){let l;const f=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<f;d++)l=xa(l,i[d].hostAttrs,a);return xa(l,s.attrs,a)}(i,s,l)}return void 0!==d&&(l?s.residualClasses=d:s.residualStyles=d),a}(f,d,s,l),function fb(i,s,a,l,f,d){let v=d?s.classBindings:s.styleBindings,C=Di(v),w=Es(v);i[l]=a;let z,V=!1;if(Array.isArray(a)?(z=a[1],(null===z||nr(a,z)>0)&&(V=!0)):z=a,f)if(0!==w){const j=Di(i[C+1]);i[l+1]=La(j,C),0!==j&&(i[j+1]=A0(i[j+1],l)),i[C+1]=function lb(i,s){return 131071&i|s<<17}(i[C+1],l)}else i[l+1]=La(C,0),0!==C&&(i[C+1]=A0(i[C+1],l)),C=l;else i[l+1]=La(w,0),0===C?C=l:i[w+1]=A0(i[w+1],l),w=l;V&&(i[l+1]=w5(i[l+1])),b5(i,z,l,!0),b5(i,z,l,!1),function db(i,s,a,l,f){const d=f?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof s&&nr(d,s)>=0&&(a[l+1]=f4(a[l+1]))}(s,z,i,l,d),v=La(C,w),d?s.classBindings=v:s.styleBindings=v}(f,d,s,a,v,l)}}function x5(i,s,a,l,f){let d=null;const v=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<v&&(d=s[C],l=xa(l,d.hostAttrs,f),d!==i);)C++;return null!==i&&(a.directiveStylingLast=C),l}function xa(i,s,a){const l=a?1:2;let f=-1;if(null!==s)for(let d=0;d<s.length;d++){const v=s[d];"number"==typeof v?f=v:f===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),v1(i,v,!!a||s[++d]))}return void 0===i?null:i}function D5(i,s,a){v1(i,s,Pn(a))}function Bp(i,s,a,l,f,d,v,C){if(!(3&s.type))return;const w=i.data,V=w[C+1],z=function ub(i){return 1==(1&i)}(V)?Up(w,s,a,f,Es(V),v):void 0;T0(z)||(T0(d)||function cb(i){return 2==(2&i)}(V)&&(d=Up(w,null,a,f,C,v)),function bd(i,s,a,l,f){if(s)f?i.addClass(a,l):i.removeClass(a,l);else{let d=-1===l.indexOf("-")?void 0:F6.DashCase;null==f?i.removeStyle(a,l,d):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),d|=F6.Important),i.setStyle(a,l,f,d))}}(l,v,Io(m1(),a),f,d))}function Up(i,s,a,l,f,d){const v=null===s;let C;for(;f>0;){const w=i[f],V=Array.isArray(w),z=V?w[1]:w,A=null===z;let j=a[f+1];j===wt&&(j=A?Re:void 0);let W=A?$o(j,l):z===l?j:void 0;if(V&&!T0(W)&&(W=$o(w,l)),T0(W)&&(C=W,v))return C;const le=i[f+1];f=v?Di(le):Es(le)}if(null!==s){let w=d?s.residualClasses:s.residualStyles;null!=w&&(C=$o(w,l))}return C}function T0(i){return void 0!==i}function T5(i,s){return 0!=(i.flags&(s?8:16))}function jp(i,s=""){const a=me(),l=kt(),f=i+At,d=l.firstCreatePass?ws(l,f,1,s,null):l.data[f],v=$p(l,a,d,s,i);a[f]=v,E3()&&$6(l,a,v,d),Dn(d,!1)}let $p=(i,s,a,l,f)=>(Tn(!0),function Y3(i,s){return i.createText(s)}(s[dt],l));function N5(i){return k5("",i,""),N5}function k5(i,s,a){const l=me(),f=function a4(i,s,a,l){return E1(i,_i(),a)?s+Q(a)+l:wt}(l,i,s,a);return f!==wt&&function Jr(i,s,a){const l=Io(s,i);!function pd(i,s,a){i.setValue(s,a)}(i[dt],l,a)}(l,m1(),f),k5}function N0(i,s,a){const l=me();return E1(l,_i(),s)&&Mn(kt(),n2(),l,i,s,l[dt],a,!0),N0}const Ls=void 0;var O5=["en",[["a","p"],["AM","PM"],Ls],[["AM","PM"],Ls,Ls],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ls,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ls,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ls,"{1} 'at' {0}",Ls],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bb(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let h4={};function F5(i){const s=function jb(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=mm(s);if(a)return a;const l=s.split("-")[0];if(a=mm(l),a)return a;if("en"===l)return O5;throw new Z(701,!1)}function pm(i){return F5(i)[p4.PluralCase]}function mm(i){return i in h4||(h4[i]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[i]),h4[i]}var p4=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(p4||{});const m4="en-US";let B5=m4;class xs{}class EH{}function LH(i,s){return new J5(i,s??null,[])}class J5 extends xs{constructor(s,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zh(this);const f=function u1(i,s){const a=i[c2]||null;if(!a&&!0===s)throw new Error(`Type ${ne(i)} does not have '\u0275mod' property.`);return a}(s);this._bootstrapComponents=function Qr(i){return i instanceof Function?i():i}(f.bootstrap),this._r3Injector=Ou(s,a,[{provide:xs,useValue:this},{provide:c0,useValue:this.componentFactoryResolver},...l],ne(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class X5 extends EH{constructor(s){super(),this.moduleType=s}create(s){return new J5(this.moduleType,s,[])}}function og(i,s,a){const l=Q2()+i,f=me();return f[l]===wt?Er(f,l,a?s.call(a):s()):function o4(i,s){return i[s]}(f,l)}function n7(i,s,a,l){return lg(me(),Q2(),i,s,a,l)}function ka(i,s){const a=i[s];return a===wt?void 0:a}function lg(i,s,a,l,f,d){const v=s+a;return E1(i,v,f)?Er(i,v+1,d?l.call(d,f):l(f)):ka(i,v+1)}function r7(i,s){const a=kt();let l;const f=i+At;a.firstCreatePass?(l=function WH(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[f]=l,l.onDestroy&&(a.destroyHooks??=[]).push(f,l.onDestroy)):l=a.data[f];const d=l.factory||(l.factory=er(l.type)),C=Rt(xi);try{const w=Ir(!1),V=d();return Ir(w),function Cp(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,me(),f,V),V}finally{Rt(C)}}function i7(i,s,a){const l=i+At,f=me(),d=I1(f,l);return Pa(f,l)?lg(f,Q2(),s,d.transform,a,d):d.transform(a)}function pg(i,s,a,l,f){const d=i+At,v=me(),C=I1(v,d);return Pa(v,d)?function fg(i,s,a,l,f,d,v,C){const w=s+a;return V0(i,w,f,d,v)?Er(i,w+3,C?l.call(C,f,d,v):l(f,d,v)):ka(i,w+3)}(v,Q2(),s,C.transform,a,l,f,C):C.transform(a,l,f)}function Pa(i,s){return i[Pe].data[s].pure}function B0(i){return s=>{setTimeout(i,void 0,s)}}const xr=class YH extends m.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let f=s,d=a||(()=>null),v=l;if(s&&"object"==typeof s){const w=s;f=w.next?.bind(w),d=w.error?.bind(w),v=w.complete?.bind(w)}this.__isAsync&&(d=B0(d),f&&(f=B0(f)),v&&(v=B0(v)));const C=super.subscribe({next:f,error:d,complete:v});return s instanceof O.w0&&s.add(C),C}};function XH(i,s,a,l=!0){const f=s[Pe];if(function E_(i,s,a,l){const f=x2+l,d=a.length;l>0&&(a[f-1][yn]=s),l<d-x2?(s[yn]=a[f],Uo(a,x2+l,s)):(a.push(s),s[yn]=null),s[Jt]=a;const v=s[wr];null!==v&&a!==v&&function L_(i,s){const a=i[Fr];s[V2]!==s[Jt][Jt][V2]&&(i[hi]=!0),null===a?i[Fr]=[s]:a.push(s)}(v,s);const C=s[f1];null!==C&&C.insertView(i),s[yt]|=128}(f,s,i,a),l){const d=uu(a,i),v=s[dt],C=ia(v,i[Q1]);null!==C&&function I_(i,s,a,l,f,d){l[p2]=f,l[K2]=s,aa(i,l,a,1,f,d)}(f,i[K2],v,s,C,d)}}let Ra=(()=>{class s{}return s.__NG_ELEMENT_ID__=tV,s})();const eV=Ra,gg=class extends eV{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,l){const f=function JH(i,s,a,l){const f=s.tView,C=p0(i,f,a,4096&i[yt]?4096:16,null,s,null,null,null,l?.injector??null,l?.hydrationInfo??null);C[wr]=i[s.index];const V=i[f1];return null!==V&&(C[f1]=V.createEmbeddedView(f)),C0(f,C,a),C}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:l});return new ba(f)}};function tV(){return function j0(i,s){return 4&i.type?new gg(s,i,_s(i,s)):null}(Y2(),me())}let G0=(()=>{class s{}return s.__NG_ELEMENT_ID__=sV,s})();function sV(){return function c7(i,s){let a;const l=s[i.index];return a1(l)?a=l:(a=Rh(l,s,null,i),s[i.index]=a,y0(s,a)),wg(a,s,i,l),new q0(a,i,s)}(Y2(),me())}const oV=G0,q0=class extends oV{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return _s(this._hostTNode,this._hostLView)}get injector(){return new g1(this._hostTNode,this._hostLView)}get parentInjector(){const s=T3(this._hostTNode,this._hostLView);if(as(s)){const a=kn(s,this._hostLView),l=cs(s);return new g1(a[Pe].data[l+8],a)}return new g1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Mg(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-x2}createEmbeddedView(s,a,l){let f,d;"number"==typeof l?f=l:null!=l&&(f=l.index,d=l.injector);const C=s.createEmbeddedViewImpl(a||{},d,null);return this.insertImpl(C,f,false),C}createComponent(s,a,l,f,d){const v=s&&!function ds(i){return"function"==typeof i}(s);let C;if(v)C=a;else{const He=a||{};C=He.index,l=He.injector,f=He.projectableNodes,d=He.environmentInjector||He.ngModuleRef}const w=v?s:new Ha(Nt(s)),V=l||this.parentInjector;if(!d&&null==w.ngModule){const Be=(v?V:this.parentInjector).get(Yr,null);Be&&(d=Be)}Nt(w.componentType??{});const W=w.create(V,f,null,d);return this.insertImpl(W.hostView,C,false),W}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,l){const f=s._lView;if(function v8(i){return a1(i[Jt])}(f)){const w=this.indexOf(s);if(-1!==w)this.detach(w);else{const V=f[Jt],z=new q0(V,V[K2],V[Jt]);z.detach(z.indexOf(s))}}const v=this._adjustIndex(a),C=this._lContainer;return XH(C,f,v,!l),s.attachToViewContainerRef(),Uo(a7(C),v,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Mg(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=j6(this._lContainer,a);l&&(U3(a7(this._lContainer),a),nu(l[Pe],l))}detach(s){const a=this._adjustIndex(s,-1),l=j6(this._lContainer,a);return l&&null!=U3(a7(this._lContainer),a)?new ba(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Mg(i){return i[8]}function a7(i){return i[8]||(i[8]=[])}let wg=function l7(i,s,a,l){if(i[Q1])return;let f;f=8&a.type?Xt(l):function aV(i,s){const a=i[dt],l=a.createComment(""),f=F1(s,i);return gs(a,ia(a,f),l,function A_(i,s){return i.nextSibling(s)}(a,f),!1),l}(s,a),i[Q1]=f};const OV=new jt("Application Initializer");let Q0=(()=>{var i;class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f}),this.appInits=$e(OV,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const d of this.appInits){const v=d();if(p5(v))l.push(v);else if(D0(v)){const C=new Promise((w,V)=>{v.subscribe({complete:w,error:V})});l.push(C)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{f()}).catch(d=>{this.reject(d)}),0===l.length&&f(),this.initialized=!0}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();const J0=new jt("LocaleId",{providedIn:"root",factory:()=>$e(J0,vt.Optional|vt.SkipSelf)||function BV(){return typeof $localize<"u"&&$localize.locale||m4}()}),UV=new jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Gg=(()=>{var i;class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new T(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function Qg(...i){}class x1{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xr(!1),this.onMicrotaskEmpty=new xr(!1),this.onStable=new xr(!1),this.onError=new xr(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&a,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Jg(){const i="function"==typeof Et.requestAnimationFrame;let s=Et[i?"requestAnimationFrame":"setTimeout"],a=Et[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Ua(i){const s=()=>{!function aS(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Et,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,H7(i),i.isCheckStableRunning=!0,b7(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),H7(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,f,d,v,C)=>{try{return ev(i),a.invokeTask(f,d,v,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&s(),tv(i)}},onInvoke:(a,l,f,d,v,C,w)=>{try{return ev(i),a.invoke(f,d,v,C,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),tv(i)}},onHasTask:(a,l,f,d)=>{a.hasTask(f,d),l===f&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,H7(i),b7(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(a,l,f,d)=>(a.handleError(f,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!x1.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(x1.isInAngularZone())throw new Z(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,f){const d=this._inner,v=d.scheduleEventTask("NgZoneEvent: "+f,s,Xg,Qg,Qg);try{return d.runTask(v,a,l)}finally{d.cancelTask(v)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const Xg={};function b7(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function H7(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function ev(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function tv(i){i._nesting--,b7(i)}class cS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xr,this.onMicrotaskEmpty=new xr,this.onStable=new xr,this.onError=new xr}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,f){return s.apply(a,l)}}const nv=new jt("",{providedIn:"root",factory:V7});function V7(){const i=$e(x1);let s=!0;const a=new oe.y(f=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{f.next(s),f.complete()})}),l=new oe.y(f=>{let d;i.runOutsideAngular(()=>{d=i.onStable.subscribe(()=>{x1.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,f.next(!0))})})});const v=i.onUnstable.subscribe(()=>{x1.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{f.next(!1)}))});return()=>{d.unsubscribe(),v.unsubscribe()}});return(0,he.T)(a,l.pipe((0,Le.B)()))}const rv=new jt(""),iv=new jt("");let I7,lS=(()=>{var i;class s{constructor(l,f,d){this._ngZone=l,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,I7||(function S7(i){I7=i}(d),d.addToWindow(f)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{x1.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(l)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,f,d){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==v),l(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:l,timeoutId:v,updateCb:d})}whenStable(l,f,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,f,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,f,d){return[]}}return(i=s).\u0275fac=function(l){return new(l||i)(ke(x1),ke(sv),ke(iv))},i.\u0275prov=Mt({token:i,factory:i.\u0275fac}),s})(),sv=(()=>{var i;class s{constructor(){this._applications=new Map}registerApplication(l,f){this._applications.set(l,f)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,f=!0){return I7?.findTestabilityInTree(this,l,f)??null}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})(),Ti=null;const ov=new jt("AllowMultipleToken"),ja=new jt("PlatformDestroyListeners"),av=new jt("appBootstrapListener");function uv(i,s,a=[]){const l=`Platform: ${s}`,f=new jt(l);return(d=[])=>{let v=E7();if(!v||v.injector.get(ov,!1)){const C=[...a,...d,{provide:f,useValue:!0}];i?i(C):function fS(i){if(Ti&&!Ti.get(ov,!1))throw new Z(400,!1);(function cv(){!function _o(i){g3=i}(()=>{throw new Z(600,!1)})})(),Ti=i;const s=i.get(dv);(function lv(i){i.get(e0,null)?.forEach(a=>a())})(i)}(function fv(i=[],s){return ir.create({name:s,providers:[{provide:Y6,useValue:"platform"},{provide:ja,useValue:new Set([()=>Ti=null])},...i]})}(C,l))}return function pS(i){const s=E7();if(!s)throw new Z(401,!1);return s}()}}function E7(){return Ti?.get(dv)??null}let dv=(()=>{var i;class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,f){const d=function mS(i="zone.js",s){return"noop"===i?new cS:"zone.js"===i?new x1(s):i}(f?.ngZone,function L7(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return d.run(()=>{const v=function Km(i,s,a){return new J5(i,s,a)}(l.moduleType,this.injector,function gv(i){return[{provide:x1,useFactory:i},{provide:W6,multi:!0,useFactory:()=>{const s=$e(gS,{optional:!0});return()=>s.initialize()}},{provide:pv,useFactory:mv},{provide:nv,useFactory:V7}]}(()=>d)),C=v.injector.get(s4,null);return d.runOutsideAngular(()=>{const w=d.onError.subscribe({next:V=>{C.handleError(V)}});v.onDestroy(()=>{rl(this._modules,v),w.unsubscribe()})}),function hv(i,s,a){try{const l=a();return p5(l)?l.catch(f=>{throw s.runOutsideAngular(()=>i.handleError(f)),f}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(C,d,()=>{const w=v.injector.get(Q0);return w.runInitializers(),w.donePromise.then(()=>(function vm(i){Ye(i,"Expected localeId to be defined"),"string"==typeof i&&(B5=i.toLowerCase().replace(/_/g,"-"))}(v.injector.get(J0,m4)||m4),this._moduleDoBootstrap(v),v))})})}bootstrapModule(l,f=[]){const d=nl({},f);return function uS(i,s,a){const l=new X5(a);return Promise.resolve(l)}(0,0,l).then(v=>this.bootstrapModuleFactory(v,d))}_moduleDoBootstrap(l){const f=l.injector.get($a);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>f.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new Z(-403,!1);l.instance.ngDoBootstrap(f)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const l=this._injector.get(ja,null);l&&(l.forEach(f=>f()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=s).\u0275fac=function(l){return new(l||i)(ke(ir))},i.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"platform"}),s})();function nl(i,s){return Array.isArray(s)?s.reduce(nl,i):{...i,...s}}let $a=(()=>{var i;class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$e(pv),this.zoneIsStable=$e(nv),this.componentTypes=[],this.components=[],this.isStable=$e(Gg).hasPendingTasks.pipe((0,Te.w)(l=>l?(0,Ee.of)(!1):this.zoneIsStable),(0,ze.x)(),(0,Le.B)()),this._injector=$e(Yr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,f){const d=l instanceof sh;if(!this._injector.get(Q0).done)throw!d&&function fi(i){const s=Nt(i)||W2(i)||Z2(i);return null!==s&&s.standalone}(l),new Z(405,!1);let C;C=d?l:this._injector.get(c0).resolveComponentFactory(l),this.componentTypes.push(C.componentType);const w=function z7(i){return i.isBoundToModule}(C)?void 0:this._injector.get(xs),z=C.create(ir.NULL,[],f||C.selector,w),A=z.location.nativeElement,j=z.injector.get(rv,null);return j?.registerApplication(A),z.onDestroy(()=>{this.detachView(z.hostView),rl(this.components,z),j?.unregisterApplication(A)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const f=l;this._views.push(f),f.attachToAppRef(this)}detachView(l){const f=l;rl(this._views,f),f.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const f=this._injector.get(av,[]);f.push(...this._bootstrapListeners),f.forEach(d=>d(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>rl(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Z(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function rl(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const pv=new jt("",{providedIn:"root",factory:()=>$e(s4).handleError.bind(void 0)});function mv(){const i=$e(x1),s=$e(s4);return a=>i.runOutsideAngular(()=>s.handleError(a))}let gS=(()=>{var i;class s{constructor(){this.zone=$e(x1),this.applicationRef=$e($a)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=s).\u0275fac=function(l){return new(l||i)},i.\u0275prov=Mt({token:i,factory:i.\u0275fac,providedIn:"root"}),s})();function CS(){return!1}let MS=(()=>{class s{}return s.__NG_ELEMENT_ID__=Cv,s})();function Cv(i){return function wS(i,s,a){if(Xn(i)&&!a){const l=p1(i.index,s);return new ba(l,l)}return 47&i.type?new ba(s[V2],s):null}(Y2(),me(),16==(16&i))}class bv{constructor(){}supports(s){return b0(s)}create(s){return new Hv(s)}}const SS=(i,s)=>s;class Hv{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||SS}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,f=0,d=null;for(;a||l;){const v=!l||a&&a.currentIndex<Sv(l,f,d)?a:l,C=Sv(v,f,d),w=v.currentIndex;if(v===l)f--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)f++;else{d||(d=[]);const V=C-f,z=w-f;if(V!=z){for(let j=0;j<V;j++){const W=j<d.length?d[j]:d[j]=0,le=W+j;z<=le&&le<V&&(d[j]=W+1)}d[v.previousIndex]=z-V}}C!==w&&s(v,C,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!b0(s))throw new Z(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,d,v,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)d=s[C],v=this._trackByFn(C,d),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,d,v,C)),Object.is(a.item,d)||this._addIdentityChange(a,d)):(a=this._mismatch(a,d,v,C),l=!0),a=a._next}else f=0,function kw(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,C=>{v=this._trackByFn(f,C),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,C,v,f)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,v,f),l=!0),a=a._next,f++}),this.length=f;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,f){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,d,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,d,f)):s=this._addAfter(new IS(a,l),d,f),s}_verifyReinsertion(s,a,l,f){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==d?s=this._reinsertAfter(d,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,d=s._nextRemoved;return null===f?this._removalsHead=d:f._nextRemoved=d,null===d?this._removalsTail=f:d._prevRemoved=f,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const f=null===a?this._itHead:a._next;return s._next=f,s._prev=a,null===f?this._itTail=s:f._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Vv),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class IS{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zS{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Vv{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new zS,this.map.set(a,l)),l.add(s)}get(s,a){const f=this.map.get(s);return f?f.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sv(i,s,a){const l=i.previousIndex;if(null===l)return l;let f=0;return a&&l<a.length&&(f=a[l]),l+s+f}class Iv{constructor(){}supports(s){return s instanceof Map||H0(s)}create(){return new zv}}class zv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||H0(s)))throw new Z(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,f)=>{if(a&&a.key===f)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const d=this._getOrCreateRecordForKey(f,l);a=this._insertBeforeOrAppend(a,d)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,a);const d=f._prev,v=f._next;return d&&(d._next=v),v&&(v._prev=d),f._next=null,f._prev=null,f}const l=new ES(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class ES{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ev(){return new Ga([new bv])}let Ga=(()=>{var i;class s{constructor(l){this.factories=l}static create(l,f){if(null!=f){const d=f.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:f=>s.create(l,f||Ev()),deps:[[s,new $3,new ps]]}}find(l){const f=this.factories.find(d=>d.supports(l));if(null!=f)return f;throw new Z(901,!1)}}return(i=s).\u0275prov=Mt({token:i,providedIn:"root",factory:Ev}),s})();function Lv(){return new R7([new Iv])}let R7=(()=>{var i;class s{constructor(l){this.factories=l}static create(l,f){if(f){const d=f.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:f=>s.create(l,f||Lv()),deps:[[s,new $3,new ps]]}}find(l){const f=this.factories.find(d=>d.supports(l));if(f)return f;throw new Z(901,!1)}}return(i=s).\u0275prov=Mt({token:i,providedIn:"root",factory:Lv}),s})();const DS=uv(null,"core",[]);let AS=(()=>{var i;class s{constructor(l){}}return(i=s).\u0275fac=function(l){return new(l||i)(ke($a))},i.\u0275mod=Yi({type:i}),i.\u0275inj=o2({}),s})()},3106:(ut,Ve,k)=>{k.d(Ve,{Z:()=>nt});var m=k(9058),O=k(4537),T=k(534),oe=k(7879);class he{constructor(we,xe){this._delegate=we,this.firebase=xe,(0,T._addComponent)(we,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,T.deleteApp)(this._delegate)))}_getService(we,xe=T._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(we);return!Je.isInitialized()&&"EXPLICIT"===(null===(Ke=Je.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:xe})}_removeServiceInstance(we,xe=T._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(xe)}_addComponent(we){(0,T._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,T._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Le=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),R=function ze(){const ce=function Te(ce){const we={},xe={__esModule:!0,initializeApp:function Z(Oe,ie={}){const ft=T.initializeApp(Oe,ie);if((0,m.r3)(we,ft.name))return we[ft.name];const _t=new ce(ft,xe);return we[ft.name]=_t,_t},app:Je,registerVersion:T.registerVersion,setLogLevel:T.setLogLevel,onLog:T.onLog,apps:null,SDK_VERSION:T.SDK_VERSION,INTERNAL:{registerComponent:function Q(Oe){const ie=Oe.name,ft=ie.replace("-compat","");if(T._registerComponent(Oe)&&"PUBLIC"===Oe.type){const _t=(zt=Je())=>{if("function"!=typeof zt[ft])throw Le.create("invalid-app-argument",{appName:ie});return zt[ft]()};void 0!==Oe.serviceProps&&(0,m.ZB)(_t,Oe.serviceProps),xe[ft]=_t,ce.prototype[ft]=function(...zt){return this._getService.bind(this,ie).apply(this,Oe.multipleInstances?zt:[])}}return"PUBLIC"===Oe.type?xe[ft]:null},removeApp:function Ke(Oe){delete we[Oe]},useAsService:function pe(Oe,ie){return"serverAuth"===ie?null:ie},modularAPIs:T}};function Je(Oe){if(!(0,m.r3)(we,Oe=Oe||T._DEFAULT_ENTRY_NAME))throw Le.create("no-app",{appName:Oe});return we[Oe]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function ue(){return Object.keys(we).map(Oe=>we[Oe])}}),Je.App=ce,xe}(he);return ce.INTERNAL=Object.assign(Object.assign({},ce.INTERNAL),{createFirebaseNamespace:ze,extendNamespace:function we(xe){(0,m.ZB)(ce,xe)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),ce}(),B=new oe.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ce=self.firebase.SDK_VERSION;ce&&ce.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=R;!function be(ce){(0,T.registerVersion)("@firebase/app-compat","0.2.13",ce)}()},534:(ut,Ve,k)=>{k.r(Ve),k.d(Ve,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Gn,_DEFAULT_ENTRY_NAME:()=>vt,_addComponent:()=>O1,_addOrOverwriteComponent:()=>Wi,_apps:()=>$2,_clearComponents:()=>H1,_components:()=>Rt,_getProvider:()=>mn,_registerComponent:()=>Et,_removeServiceInstance:()=>$n,deleteApp:()=>G2,getApp:()=>yr,getApps:()=>N2,initializeApp:()=>gn,onLog:()=>H2,registerVersion:()=>vn,setLogLevel:()=>En});var m=k(5861),O=k(4537),T=k(7879),oe=k(9058);const he=(re,K)=>K.some(_e=>re instanceof _e);let Ee,Le;const R=new WeakMap,B=new WeakMap,ne=new WeakMap,Ne=new WeakMap,be=new WeakMap;let we={get(re,K,_e){if(re instanceof IDBTransaction){if("done"===K)return B.get(re);if("objectStoreNames"===K)return re.objectStoreNames||ne.get(re);if("store"===K)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return Z(re[K])},set:(re,K,_e)=>(re[K]=_e,!0),has:(re,K)=>re instanceof IDBTransaction&&("done"===K||"store"===K)||K in re};function Je(re){return"function"==typeof re?function Ke(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return Le||(Le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...K){return re.apply(ue(this),K),Z(R.get(this))}:function(...K){return Z(re.apply(ue(this),K))}:function(K,..._e){const Qe=re.call(ue(this),K,..._e);return ne.set(Qe,K.sort?K.sort():[K]),Z(Qe)}}(re):(re instanceof IDBTransaction&&function ce(re){if(B.has(re))return;const K=new Promise((_e,Qe)=>{const Re=()=>{re.removeEventListener("complete",Ht),re.removeEventListener("error",Ut),re.removeEventListener("abort",Ut)},Ht=()=>{_e(),Re()},Ut=()=>{Qe(re.error||new DOMException("AbortError","AbortError")),Re()};re.addEventListener("complete",Ht),re.addEventListener("error",Ut),re.addEventListener("abort",Ut)});B.set(re,K)}(re),he(re,function Te(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,we):re)}function Z(re){if(re instanceof IDBRequest)return function nt(re){const K=new Promise((_e,Qe)=>{const Re=()=>{re.removeEventListener("success",Ht),re.removeEventListener("error",Ut)},Ht=()=>{_e(Z(re.result)),Re()},Ut=()=>{Qe(re.error),Re()};re.addEventListener("success",Ht),re.addEventListener("error",Ut)});return K.then(_e=>{_e instanceof IDBCursor&&R.set(_e,re)}).catch(()=>{}),be.set(K,re),K}(re);if(Ne.has(re))return Ne.get(re);const K=Je(re);return K!==re&&(Ne.set(re,K),be.set(K,re)),K}const ue=re=>be.get(re),Oe=["get","getKey","getAll","getAllKeys","count"],ie=["put","add","delete","clear"],ft=new Map;function _t(re,K){if(!(re instanceof IDBDatabase)||K in re||"string"!=typeof K)return;if(ft.get(K))return ft.get(K);const _e=K.replace(/FromIndex$/,""),Qe=K!==_e,Re=ie.includes(_e);if(!(_e in(Qe?IDBIndex:IDBObjectStore).prototype)||!Re&&!Oe.includes(_e))return;const Ht=function(){var Ut=(0,m.Z)(function*(L2,...c2){const q2=this.transaction(L2,Re?"readwrite":"readonly");let qn=q2.store;return Qe&&(qn=qn.index(c2.shift())),(yield Promise.all([qn[_e](...c2),Re&&q2.done]))[0]});return function(c2){return Ut.apply(this,arguments)}}();return ft.set(K,Ht),Ht}!function xe(re){we=re(we)}(re=>({...re,get:(K,_e,Qe)=>_t(K,_e)||re.get(K,_e,Qe),has:(K,_e)=>!!_t(K,_e)||re.has(K,_e)}));class zt{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function D2(re){const K=re.getComponent();return"VERSION"===K?.type}(_e)){const Qe=_e.getImmediate();return`${Qe.library}/${Qe.version}`}return null}).filter(_e=>_e).join(" ")}}const dn="@firebase/app",r2=new T.Yd("@firebase/app"),vt="[DEFAULT]",b1={[dn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$2=new Map,Rt=new Map;function O1(re,K){try{re.container.addComponent(K)}catch(_e){r2.debug(`Component ${K.name} failed to register with FirebaseApp ${re.name}`,_e)}}function Wi(re,K){re.container.addOrOverwriteComponent(K)}function Et(re){const K=re.name;if(Rt.has(K))return r2.debug(`There were multiple attempts to register component ${K}.`),!1;Rt.set(K,re);for(const _e of $2.values())O1(_e,re);return!0}function mn(re,K){const _e=re.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),re.container.getProvider(K)}function $n(re,K,_e=vt){mn(re,K).clearInstance(_e)}function H1(){Rt.clear()}const T2=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class d2{constructor(K,_e,Qe){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=Qe,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw T2.create("app-deleted",{appName:this._name})}}const Gn="9.23.0";function gn(re,K={}){let _e=re;"object"!=typeof K&&(K={name:K});const Qe=Object.assign({name:vt,automaticDataCollectionEnabled:!1},K),Re=Qe.name;if("string"!=typeof Re||!Re)throw T2.create("bad-app-name",{appName:String(Re)});if(_e||(_e=(0,oe.aH)()),!_e)throw T2.create("no-options");const Ht=$2.get(Re);if(Ht){if((0,oe.vZ)(_e,Ht.options)&&(0,oe.vZ)(Qe,Ht.config))return Ht;throw T2.create("duplicate-app",{appName:Re})}const Ut=new O.H0(Re);for(const c2 of Rt.values())Ut.addComponent(c2);const L2=new d2(_e,Qe,Ut);return $2.set(Re,L2),L2}function yr(re=vt){const K=$2.get(re);if(!K&&re===vt&&(0,oe.aH)())return gn();if(!K)throw T2.create("no-app",{appName:re});return K}function N2(){return Array.from($2.values())}function G2(re){return s1.apply(this,arguments)}function s1(){return(s1=(0,m.Z)(function*(re){const K=re.name;$2.has(K)&&($2.delete(K),yield Promise.all(re.container.getProviders().map(_e=>_e.delete())),re.isDeleted=!0)})).apply(this,arguments)}function vn(re,K,_e){var Qe;let Re=null!==(Qe=b1[re])&&void 0!==Qe?Qe:re;_e&&(Re+=`-${_e}`);const Ht=Re.match(/\s|\//),Ut=K.match(/\s|\//);if(Ht||Ut){const L2=[`Unable to register library "${Re}" with version "${K}":`];return Ht&&L2.push(`library name "${Re}" contains illegal characters (whitespace or "/")`),Ht&&Ut&&L2.push("and"),Ut&&L2.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void r2.warn(L2.join(" "))}Et(new O.wA(`${Re}-version`,()=>({library:Re,version:K}),"VERSION"))}function H2(re,K){if(null!==re&&"function"!=typeof re)throw T2.create("invalid-log-argument");(0,T.Am)(re,K)}function En(re){(0,T.Ub)(re)}const Z1="firebase-heartbeat-database",K1=1,F="firebase-heartbeat-store";let P=null;function x(){return P||(P=function Q(re,K,{blocked:_e,upgrade:Qe,blocking:Re,terminated:Ht}={}){const Ut=indexedDB.open(re,K),L2=Z(Ut);return Qe&&Ut.addEventListener("upgradeneeded",c2=>{Qe(Z(Ut.result),c2.oldVersion,c2.newVersion,Z(Ut.transaction),c2)}),_e&&Ut.addEventListener("blocked",c2=>_e(c2.oldVersion,c2.newVersion,c2)),L2.then(c2=>{Ht&&c2.addEventListener("close",()=>Ht()),Re&&c2.addEventListener("versionchange",q2=>Re(q2.oldVersion,q2.newVersion,q2))}).catch(()=>{}),L2}(Z1,K1,{upgrade:(re,K)=>{0===K&&re.createObjectStore(F)}}).catch(re=>{throw T2.create("idb-open",{originalErrorMessage:re.message})})),P}function E(){return(E=(0,m.Z)(function*(re){try{return yield(yield x()).transaction(F).objectStore(F).get(ke(re))}catch(K){if(K instanceof oe.ZR)r2.warn(K.message);else{const _e=T2.create("idb-get",{originalErrorMessage:K?.message});r2.warn(_e.message)}}})).apply(this,arguments)}function q(re,K){return de.apply(this,arguments)}function de(){return(de=(0,m.Z)(function*(re,K){try{const Qe=(yield x()).transaction(F,"readwrite");yield Qe.objectStore(F).put(K,ke(re)),yield Qe.done}catch(_e){if(_e instanceof oe.ZR)r2.warn(_e.message);else{const Qe=T2.create("idb-set",{originalErrorMessage:_e?.message});r2.warn(Qe.message)}}})).apply(this,arguments)}function ke(re){return`${re.name}!${re.options.appId}`}class Ot{constructor(K){this.container=K,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new St(_e),this._heartbeatsCachePromise=this._storage.read().then(Qe=>(this._heartbeatsCache=Qe,Qe))}triggerHeartbeat(){var K=this;return(0,m.Z)(function*(){const Qe=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Re=gt();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==Re&&!K._heartbeatsCache.heartbeats.some(Ht=>Ht.date===Re))return K._heartbeatsCache.heartbeats.push({date:Re,agent:Qe}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(Ht=>{const Ut=new Date(Ht.date).valueOf();return Date.now()-Ut<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,m.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const _e=gt(),{heartbeatsToSend:Qe,unsentEntries:Re}=function Zt(re,K=1024){const _e=[];let Qe=re.slice();for(const Re of re){const Ht=_e.find(Ut=>Ut.agent===Re.agent);if(Ht){if(Ht.dates.push(Re.date),o1(_e)>K){Ht.dates.pop();break}}else if(_e.push({agent:Re.agent,dates:[Re.date]}),o1(_e)>K){_e.pop();break}Qe=Qe.slice(1)}return{heartbeatsToSend:_e,unsentEntries:Qe}}(K._heartbeatsCache.heartbeats),Ht=(0,oe.L)(JSON.stringify({version:2,heartbeats:Qe}));return K._heartbeatsCache.lastSentHeartbeatDate=_e,Re.length>0?(K._heartbeatsCache.heartbeats=Re,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),Ht})()}}function gt(){return(new Date).toISOString().substring(0,10)}class St{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,m.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function D(re){return E.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var _e=this;return(0,m.Z)(function*(){var Qe;if(yield _e._canUseIndexedDBPromise){const Ht=yield _e.read();return q(_e.app,{lastSentHeartbeatDate:null!==(Qe=K.lastSentHeartbeatDate)&&void 0!==Qe?Qe:Ht.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var _e=this;return(0,m.Z)(function*(){var Qe;if(yield _e._canUseIndexedDBPromise){const Ht=yield _e.read();return q(_e.app,{lastSentHeartbeatDate:null!==(Qe=K.lastSentHeartbeatDate)&&void 0!==Qe?Qe:Ht.lastSentHeartbeatDate,heartbeats:[...Ht.heartbeats,...K.heartbeats]})}})()}}function o1(re){return(0,oe.L)(JSON.stringify({version:2,heartbeats:re})).length}!function Rr(re){Et(new O.wA("platform-logger",K=>new zt(K),"PRIVATE")),Et(new O.wA("heartbeat",K=>new Ot(K),"PRIVATE")),vn(dn,"0.9.13",re),vn(dn,"0.9.13","esm2017"),vn("fire-js","")}("")},4537:(ut,Ve,k)=>{k.d(Ve,{H0:()=>Te,wA:()=>T});var m=k(5861),O=k(9058);class T{constructor(R,B,ne){this.name=R,this.instanceFactory=B,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(R){return this.instantiationMode=R,this}setMultipleInstances(R){return this.multipleInstances=R,this}setServiceProps(R){return this.serviceProps=R,this}setInstanceCreatedCallback(R){return this.onInstanceCreated=R,this}}const oe="[DEFAULT]";class he{constructor(R,B){this.name=R,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(R){const B=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(B)){const ne=new O.BH;if(this.instancesDeferred.set(B,ne),this.isInitialized(B)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:B});Ne&&ne.resolve(Ne)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(R){var B;const ne=this.normalizeInstanceIdentifier(R?.identifier),Ne=null!==(B=R?.optional)&&void 0!==B&&B;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(be){if(Ne)return null;throw be}}getComponent(){return this.component}setComponent(R){if(R.name!==this.name)throw Error(`Mismatching Component ${R.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=R,this.shouldAutoInitialize()){if(function Le(ze){return"EAGER"===ze.instantiationMode}(R))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[B,ne]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(B);try{const be=this.getOrInitializeService({instanceIdentifier:Ne});ne.resolve(be)}catch{}}}}clearInstance(R=oe){this.instancesDeferred.delete(R),this.instancesOptions.delete(R),this.instances.delete(R)}delete(){var R=this;return(0,m.Z)(function*(){const B=Array.from(R.instances.values());yield Promise.all([...B.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...B.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(R=oe){return this.instances.has(R)}getOptions(R=oe){return this.instancesOptions.get(R)||{}}initialize(R={}){const{options:B={}}=R,ne=this.normalizeInstanceIdentifier(R.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:ne,options:B});for(const[be,nt]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(be)&&nt.resolve(Ne);return Ne}onInit(R,B){var ne;const Ne=this.normalizeInstanceIdentifier(B),be=null!==(ne=this.onInitCallbacks.get(Ne))&&void 0!==ne?ne:new Set;be.add(R),this.onInitCallbacks.set(Ne,be);const nt=this.instances.get(Ne);return nt&&R(nt,Ne),()=>{be.delete(R)}}invokeOnInitCallbacks(R,B){const ne=this.onInitCallbacks.get(B);if(ne)for(const Ne of ne)try{Ne(R,B)}catch{}}getOrInitializeService({instanceIdentifier:R,options:B={}}){let ne=this.instances.get(R);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=R,ze===oe?void 0:ze),options:B}),this.instances.set(R,ne),this.instancesOptions.set(R,B),this.invokeOnInitCallbacks(ne,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,ne)}catch{}var ze;return ne||null}normalizeInstanceIdentifier(R=oe){return this.component?this.component.multipleInstances?R:oe:R}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(R){this.name=R,this.providers=new Map}addComponent(R){const B=this.getProvider(R.name);if(B.isComponentSet())throw new Error(`Component ${R.name} has already been registered with ${this.name}`);B.setComponent(R)}addOrOverwriteComponent(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.addComponent(R)}getProvider(R){if(this.providers.has(R))return this.providers.get(R);const B=new he(R,this);return this.providers.set(R,B),B}getProviders(){return Array.from(this.providers.values())}}},7879:(ut,Ve,k)=>{k.d(Ve,{Am:()=>ze,Ub:()=>Te,Yd:()=>Le,in:()=>O});const m=[];var O=function(R){return R[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT",R}(O||{});const T={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},oe=O.INFO,he={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},Ee=(R,B,...ne)=>{if(B<R.logLevel)return;const Ne=(new Date).toISOString(),be=he[B];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[be](`[${Ne}]  ${R.name}:`,...ne)};class Le{constructor(B){this.name=B,this._logLevel=oe,this._logHandler=Ee,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in O))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?T[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...B),this._logHandler(this,O.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...B),this._logHandler(this,O.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,O.INFO,...B),this._logHandler(this,O.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,O.WARN,...B),this._logHandler(this,O.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...B),this._logHandler(this,O.ERROR,...B)}}function Te(R){m.forEach(B=>{B.setLogLevel(R)})}function ze(R,B){for(const ne of m){let Ne=null;B&&B.level&&(Ne=T[B.level]),ne.userLogHandler=null===R?null:(be,nt,...ce)=>{const we=ce.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch{return null}}).filter(xe=>xe).join(" ");nt>=(Ne??be.logLevel)&&R({level:O[nt].toLowerCase(),message:we,args:ce,type:be.name})}}}},7142:(ut,Ve,k)=>{k.d(Ve,{Z:()=>m.Z});var m=k(3106);m.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(ut,Ve,k)=>{k.r(Ve);var m=k(5861),O=k(3106),T=k(6878),oe=k(9058),Le=(k(534),k(7879),k(4537));function Te(){return window}function B(){return B=(0,m.Z)(function*(x,D,E){var q;const{BuildInfo:de}=Te();(0,T.as)(D.sessionId,"AuthEvent did not contain a session ID");const ke=yield function xe(x){return Ke.apply(this,arguments)}(D.sessionId),pt={};return(0,T.at)()?pt.ibi=de.packageName:(0,T.au)()?pt.apn=de.packageName:(0,T.av)(x,"operation-not-supported-in-this-environment"),de.displayName&&(pt.appDisplayName=de.displayName),pt.sessionId=ke,(0,T.aw)(x,E,D.type,void 0,null!==(q=D.eventId)&&void 0!==q?q:void 0,pt)}),B.apply(this,arguments)}function Ne(){return(Ne=(0,m.Z)(function*(x){const{BuildInfo:D}=Te(),E={};(0,T.at)()?E.iosBundleId=D.packageName:(0,T.au)()?E.androidPackageName=D.packageName:(0,T.av)(x,"operation-not-supported-in-this-environment"),yield(0,T.ax)(x,E)})).apply(this,arguments)}function ce(){return(ce=(0,m.Z)(function*(x,D,E){const{cordova:q}=Te();let de=()=>{};try{yield new Promise((ke,pt)=>{let $e=null;function Ot(){var St;ke();const o1=null===(St=q.plugins.browsertab)||void 0===St?void 0:St.close;"function"==typeof o1&&o1(),"function"==typeof E?.close&&E.close()}function gt(){$e||($e=window.setTimeout(()=>{pt((0,T.az)(x,"redirect-cancelled-by-user"))},2e3))}function Zt(){"visible"===document?.visibilityState&&gt()}D.addPassiveListener(Ot),document.addEventListener("resume",gt,!1),(0,T.au)()&&document.addEventListener("visibilitychange",Zt,!1),de=()=>{D.removePassiveListener(Ot),document.removeEventListener("resume",gt,!1),document.removeEventListener("visibilitychange",Zt,!1),$e&&window.clearTimeout($e)}})}finally{de()}})).apply(this,arguments)}function Ke(){return(Ke=(0,m.Z)(function*(x){const D=function Je(x){if((0,T.as)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const D=new ArrayBuffer(x.length),E=new Uint8Array(D);for(let q=0;q<x.length;q++)E[q]=x.charCodeAt(q);return E}(x),E=yield crypto.subtle.digest("SHA-256",D);return Array.from(new Uint8Array(E)).map(de=>de.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ue extends T.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(D=>{this.resolveInialized=D})}addPassiveListener(D){this.passiveListeners.add(D)}removePassiveListener(D){this.passiveListeners.delete(D)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(D){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(D)),super.onEvent(D)}initialized(){var D=this;return(0,m.Z)(function*(){yield D.initPromise})()}}function Oe(x){return ie.apply(this,arguments)}function ie(){return(ie=(0,m.Z)(function*(x){const D=yield zt()._get(D2(x));return D&&(yield zt()._remove(D2(x))),D})).apply(this,arguments)}function _t(){const x=[];for(let E=0;E<20;E++){const q=Math.floor(62*Math.random());x.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(q))}return x.join("")}function zt(){return(0,T.aC)(T.b)}function D2(x){return(0,T.aD)("authEvent",x.config.apiKey,x.name)}function r2(x){if(!x?.includes("?"))return{};const[D,...E]=x.split("?");return(0,oe.zd)(E.join("?"))}const X=class jn{constructor(){this._redirectPersistence=T.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=T.aE,this._overrideRedirectResult=T.aF}_initialize(D){var E=this;return(0,m.Z)(function*(){const q=D._key();let de=E.eventManagers.get(q);return de||(de=new ue(D),E.eventManagers.set(q,de),E.attachCallbackListeners(D,de)),de})()}_openPopup(D){(0,T.av)(D,"operation-not-supported-in-this-environment")}_openRedirect(D,E,q,de){var ke=this;return(0,m.Z)(function*(){!function we(x){var D,E,q,de,ke,pt,$e,Ot,gt,Zt;const St=Te();(0,T.aA)("function"==typeof(null===(D=St?.universalLinks)||void 0===D?void 0:D.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,T.aA)(typeof(null===(E=St?.BuildInfo)||void 0===E?void 0:E.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,T.aA)("function"==typeof(null===(ke=null===(de=null===(q=St?.cordova)||void 0===q?void 0:q.plugins)||void 0===de?void 0:de.browsertab)||void 0===ke?void 0:ke.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.aA)("function"==typeof(null===(Ot=null===($e=null===(pt=St?.cordova)||void 0===pt?void 0:pt.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===Ot?void 0:Ot.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.aA)("function"==typeof(null===(Zt=null===(gt=St?.cordova)||void 0===gt?void 0:gt.InAppBrowser)||void 0===Zt?void 0:Zt.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(D);const pt=yield ke._initialize(D);yield pt.initialized(),pt.resetRedirect(),(0,T.aG)(),yield ke._originValidation(D);const $e=function Q(x,D,E=null){return{type:D,eventId:E,urlResponse:null,sessionId:_t(),postBody:null,tenantId:x.tenantId,error:(0,T.az)(x,"no-auth-event")}}(D,q,de);yield function pe(x,D){return zt()._set(D2(x),D)}(D,$e);const Ot=yield function R(x,D,E){return B.apply(this,arguments)}(D,$e,E),gt=yield function be(x){const{cordova:D}=Te();return new Promise(E=>{D.plugins.browsertab.isAvailable(q=>{let de=null;q?D.plugins.browsertab.openUrl(x):de=D.InAppBrowser.open(x,(0,T.ay)()?"_blank":"_system","location=yes"),E(de)})})}(Ot);return function nt(x,D,E){return ce.apply(this,arguments)}(D,pt,gt)})()}_isIframeWebStorageSupported(D,E){throw new Error("Method not implemented.")}_originValidation(D){const E=D._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function ne(x){return Ne.apply(this,arguments)}(D)),this.originValidationPromises[E]}attachCallbackListeners(D,E){const{universalLinks:q,handleOpenURL:de,BuildInfo:ke}=Te(),pt=setTimeout((0,m.Z)(function*(){yield Oe(D),E.onEvent(se())}),500),$e=function(){var Zt=(0,m.Z)(function*(St){clearTimeout(pt);const o1=yield Oe(D);let Rr=null;o1&&St?.url&&(Rr=function ft(x,D){var E,q;const de=function Un(x){const D=r2(x),E=D.link?decodeURIComponent(D.link):void 0,q=r2(E).link,de=D.deep_link_id?decodeURIComponent(D.deep_link_id):void 0;return r2(de).link||de||q||E||x}(D);if(de.includes("/__/auth/callback")){const ke=r2(de),pt=ke.firebaseError?function dn(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(ke.firebaseError)):null,$e=null===(q=null===(E=pt?.code)||void 0===E?void 0:E.split("auth/"))||void 0===q?void 0:q[1],Ot=$e?(0,T.az)($e):null;return Ot?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Ot,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:de,postBody:null}}return null}(o1,St.url)),E.onEvent(Rr||se())});return function(o1){return Zt.apply(this,arguments)}}();typeof q<"u"&&"function"==typeof q.subscribe&&q.subscribe(null,$e);const Ot=de,gt=`${ke.packageName.toLowerCase()}://`;Te().handleOpenURL=function(){var Zt=(0,m.Z)(function*(St){if(St.toLowerCase().startsWith(gt)&&$e({url:St}),"function"==typeof Ot)try{Ot(St)}catch(o1){console.error(o1)}});return function(St){return Zt.apply(this,arguments)}}()}};function se(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,T.az)("no-auth-event")}}function Ye(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function $t(x=(0,oe.z$)()){return!("file:"!==Ye()&&"ionic:"!==Ye()&&"capacitor:"!==Ye()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function o2(){try{const x=self.localStorage,D=T.aL();if(x)return x.setItem(D,"1"),x.removeItem(D),!function Wt(x=(0,oe.z$)()){return function Pt(){return(0,oe.w1)()&&11===document?.documentMode}()||function Mt(x=(0,oe.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,oe.hl)()}catch{return a2()&&(0,oe.hl)()}return!1}function a2(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function j2(){return(function Ae(){return"http:"===Ye()||"https:"===Ye()}()||(0,oe.ru)()||$t())&&!function ht(){return(0,oe.b$)()||(0,oe.UG)()}()&&o2()&&!a2()}function A2(){return $t()&&typeof document<"u"}function R1(){return(R1=(0,m.Z)(function*(){return!!A2()&&new Promise(x=>{const D=setTimeout(()=>{x(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(D),x(!0)})})})).apply(this,arguments)}const f2={LOCAL:"local",NONE:"none",SESSION:"session"},pn=T.aA,zn="persistence";function b1(x){return $2.apply(this,arguments)}function $2(){return($2=(0,m.Z)(function*(x){yield x._initializationPromise;const D=O1(),E=T.aD(zn,x.config.apiKey,x.name);D&&D.setItem(E,x._getPersistence())})).apply(this,arguments)}function O1(){var x;try{return(null===(x=function i1(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const Wi=T.aA;class Et{constructor(){this.browserResolver=T.aC(T.k),this.cordovaResolver=T.aC(X),this.underlyingResolver=null,this._redirectPersistence=T.a,this._completeRedirectFn=T.aE,this._overrideRedirectResult=T.aF}_initialize(D){var E=this;return(0,m.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(D)})()}_openPopup(D,E,q,de){var ke=this;return(0,m.Z)(function*(){return yield ke.selectUnderlyingResolver(),ke.assertedUnderlyingResolver._openPopup(D,E,q,de)})()}_openRedirect(D,E,q,de){var ke=this;return(0,m.Z)(function*(){return yield ke.selectUnderlyingResolver(),ke.assertedUnderlyingResolver._openRedirect(D,E,q,de)})()}_isIframeWebStorageSupported(D,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(D,E)}_originValidation(D){return this.assertedUnderlyingResolver._originValidation(D)}get _shouldInitProactively(){return A2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var D=this;return(0,m.Z)(function*(){if(D.underlyingResolver)return;const E=yield function w1(){return R1.apply(this,arguments)}();D.underlyingResolver=E?D.cordovaResolver:D.browserResolver})()}}function mn(x){return x.unwrap()}function H1(x){return T2(x)}function T2(x){const{_tokenResponse:D}=x instanceof oe.ZR?x.customData:x;if(!D)return null;if(!(x instanceof oe.ZR)&&"temporaryProof"in D&&"phoneNumber"in D)return T.P.credentialFromResult(x);const E=D.providerId;if(!E||E===T.p.PASSWORD)return null;let q;switch(E){case T.p.GOOGLE:q=T.V;break;case T.p.FACEBOOK:q=T.U;break;case T.p.GITHUB:q=T.W;break;case T.p.TWITTER:q=T.Z;break;default:const{oauthIdToken:de,oauthAccessToken:ke,oauthTokenSecret:pt,pendingToken:$e,nonce:Ot}=D;return ke||pt||de||$e?$e?E.startsWith("saml.")?T.aO._create(E,$e):T.L._fromParams({providerId:E,signInMethod:E,pendingToken:$e,idToken:de,accessToken:ke}):new T.X(E).credential({idToken:de,accessToken:ke,rawNonce:Ot}):null}return x instanceof oe.ZR?q.credentialFromError(x):q.credentialFromResult(x)}function d2(x,D){return D.catch(E=>{throw E instanceof oe.ZR&&function vr(x,D){var E;const q=null===(E=D.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===D?.code)D.resolver=new yr(x,T.aq(x,D));else if(q){const de=T2(D),ke=D;de&&(ke.credential=de,ke.tenantId=q.tenantId||void 0,ke.email=q.email||void 0,ke.phoneNumber=q.phoneNumber||void 0)}}(x,E),E}).then(E=>{const de=E.user;return{operationType:E.operationType,credential:H1(E),additionalUserInfo:T.ao(E),user:N2.getOrCreate(de)}})}function Gn(x,D){return gn.apply(this,arguments)}function gn(){return(gn=(0,m.Z)(function*(x,D){const E=yield D;return{verificationId:E.verificationId,confirm:q=>d2(x,E.confirm(q))}})).apply(this,arguments)}class yr{constructor(D,E){this.resolver=E,this.auth=function $n(x){return x.wrapped()}(D)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(D){return d2(mn(this.auth),this.resolver.resolveSignIn(D))}}class N2{constructor(D){this._delegate=D,this.multiFactor=T.ar(D)}static getOrCreate(D){return N2.USER_MAP.has(D)||N2.USER_MAP.set(D,new N2(D)),N2.USER_MAP.get(D)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(D){return this._delegate.getIdTokenResult(D)}getIdToken(D){return this._delegate.getIdToken(D)}linkAndRetrieveDataWithCredential(D){return this.linkWithCredential(D)}linkWithCredential(D){var E=this;return(0,m.Z)(function*(){return d2(E.auth,T.a0(E._delegate,D))})()}linkWithPhoneNumber(D,E){var q=this;return(0,m.Z)(function*(){return Gn(q.auth,T.l(q._delegate,D,E))})()}linkWithPopup(D){var E=this;return(0,m.Z)(function*(){return d2(E.auth,T.d(E._delegate,D,Et))})()}linkWithRedirect(D){var E=this;return(0,m.Z)(function*(){return yield b1(T.aH(E.auth)),T.g(E._delegate,D,Et)})()}reauthenticateAndRetrieveDataWithCredential(D){return this.reauthenticateWithCredential(D)}reauthenticateWithCredential(D){var E=this;return(0,m.Z)(function*(){return d2(E.auth,T.a1(E._delegate,D))})()}reauthenticateWithPhoneNumber(D,E){return Gn(this.auth,T.r(this._delegate,D,E))}reauthenticateWithPopup(D){return d2(this.auth,T.e(this._delegate,D,Et))}reauthenticateWithRedirect(D){var E=this;return(0,m.Z)(function*(){return yield b1(T.aH(E.auth)),T.h(E._delegate,D,Et)})()}sendEmailVerification(D){return T.ae(this._delegate,D)}unlink(D){var E=this;return(0,m.Z)(function*(){return yield T.an(E._delegate,D),E})()}updateEmail(D){return T.aj(this._delegate,D)}updatePassword(D){return T.ak(this._delegate,D)}updatePhoneNumber(D){return T.u(this._delegate,D)}updateProfile(D){return T.ai(this._delegate,D)}verifyBeforeUpdateEmail(D,E){return T.af(this._delegate,D,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}N2.USER_MAP=new WeakMap;const G2=T.aA;let s1=(()=>{class x{constructor(E,q){if(this.app=E,q.isInitialized())return this._delegate=q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:de}=E.options;G2(de,"invalid-api-key",{appName:E.name}),G2(de,"invalid-api-key",{appName:E.name});const ke=typeof window<"u"?Et:void 0;this._delegate=q.initialize({options:{persistence:H2(de,E.name),popupRedirectResolver:ke}}),this._delegate._updateErrorMap(T.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?N2.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,q){T.I(this._delegate,E,q)}applyActionCode(E){return T.a5(this._delegate,E)}checkActionCode(E){return T.a6(this._delegate,E)}confirmPasswordReset(E,q){return T.a4(this._delegate,E,q)}createUserWithEmailAndPassword(E,q){var de=this;return(0,m.Z)(function*(){return d2(de._delegate,T.a8(de._delegate,E,q))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return T.ad(this._delegate,E)}isSignInWithEmailLink(E){return T.ab(this._delegate,E)}getRedirectResult(){var E=this;return(0,m.Z)(function*(){G2(j2(),E._delegate,"operation-not-supported-in-this-environment");const q=yield T.j(E._delegate,Et);return q?d2(E._delegate,Promise.resolve(q)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function fe(x,D){(0,T.aH)(x)._logFramework(D)}(this._delegate,E)}onAuthStateChanged(E,q,de){const{next:ke,error:pt,complete:$e}=vn(E,q,de);return this._delegate.onAuthStateChanged(ke,pt,$e)}onIdTokenChanged(E,q,de){const{next:ke,error:pt,complete:$e}=vn(E,q,de);return this._delegate.onIdTokenChanged(ke,pt,$e)}sendSignInLinkToEmail(E,q){return T.aa(this._delegate,E,q)}sendPasswordResetEmail(E,q){return T.a3(this._delegate,E,q||void 0)}setPersistence(E){var q=this;return(0,m.Z)(function*(){let de;switch(function vt(x,D){pn(Object.values(f2).includes(D),x,"invalid-persistence-type"),(0,oe.b$)()?pn(D!==f2.SESSION,x,"unsupported-persistence-type"):(0,oe.UG)()?pn(D===f2.NONE,x,"unsupported-persistence-type"):a2()?pn(D===f2.NONE||D===f2.LOCAL&&(0,oe.hl)(),x,"unsupported-persistence-type"):pn(D===f2.NONE||o2(),x,"unsupported-persistence-type")}(q._delegate,E),E){case f2.SESSION:de=T.a;break;case f2.LOCAL:de=(yield T.aC(T.i)._isAvailable())?T.i:T.b;break;case f2.NONE:de=T.N;break;default:return T.av("argument-error",{appName:q._delegate.name})}return q._delegate.setPersistence(de)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return d2(this._delegate,T._(this._delegate))}signInWithCredential(E){return d2(this._delegate,T.$(this._delegate,E))}signInWithCustomToken(E){return d2(this._delegate,T.a2(this._delegate,E))}signInWithEmailAndPassword(E,q){return d2(this._delegate,T.a9(this._delegate,E,q))}signInWithEmailLink(E,q){return d2(this._delegate,T.ac(this._delegate,E,q))}signInWithPhoneNumber(E,q){return Gn(this._delegate,T.s(this._delegate,E,q))}signInWithPopup(E){var q=this;return(0,m.Z)(function*(){return G2(j2(),q._delegate,"operation-not-supported-in-this-environment"),d2(q._delegate,T.c(q._delegate,E,Et))})()}signInWithRedirect(E){var q=this;return(0,m.Z)(function*(){return G2(j2(),q._delegate,"operation-not-supported-in-this-environment"),yield b1(q._delegate),T.f(q._delegate,E,Et)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return T.a7(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=f2,x})();function vn(x,D,E){let q=x;"function"!=typeof x&&({next:q,error:D,complete:E}=x);const de=q;return{next:pt=>de(pt&&N2.getOrCreate(pt)),error:D,complete:E}}function H2(x,D){const E=function Rt(x,D){const E=O1();if(!E)return[];const q=T.aD(zn,x,D);switch(E.getItem(q)){case f2.NONE:return[T.N];case f2.LOCAL:return[T.i,T.a];case f2.SESSION:return[T.a];default:return[]}}(x,D);if(typeof self<"u"&&!E.includes(T.i)&&E.push(T.i),typeof window<"u")for(const q of[T.b,T.a])E.includes(q)||E.push(q);return E.includes(T.N)||E.push(T.N),E}class En{constructor(){this.providerId="phone",this._delegate=new T.P(mn(O.Z.auth()))}static credential(D,E){return T.P.credential(D,E)}verifyPhoneNumber(D,E){return this._delegate.verifyPhoneNumber(D,E)}unwrap(){return this._delegate}}En.PHONE_SIGN_IN_METHOD=T.P.PHONE_SIGN_IN_METHOD,En.PROVIDER_ID=T.P.PROVIDER_ID;const Z1=T.aA;class K1{constructor(D,E,q=O.Z.app()){var de;Z1(null===(de=q.options)||void 0===de?void 0:de.apiKey,"invalid-api-key",{appName:q.name}),this._delegate=new T.R(D,E,q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function P(x){x.INTERNAL.registerComponent(new Le.wA("auth-compat",D=>{const E=D.getProvider("app-compat").getImmediate(),q=D.getProvider("auth");return new s1(E,q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:T.A.EMAIL_SIGNIN,PASSWORD_RESET:T.A.PASSWORD_RESET,RECOVER_EMAIL:T.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:T.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:T.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:T.A.VERIFY_EMAIL}},EmailAuthProvider:T.Q,FacebookAuthProvider:T.U,GithubAuthProvider:T.W,GoogleAuthProvider:T.V,OAuthProvider:T.X,SAMLAuthProvider:T.Y,PhoneAuthProvider:En,PhoneMultiFactorGenerator:T.m,RecaptchaVerifier:K1,TwitterAuthProvider:T.Z,Auth:s1,AuthCredential:T.J,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.4.2")}(O.Z)},5861:(ut,Ve,k)=>{function m(T,oe,he,Ee,Le,Te,ze){try{var R=T[Te](ze),B=R.value}catch(ne){return void he(ne)}R.done?oe(B):Promise.resolve(B).then(Ee,Le)}function O(T){return function(){var oe=this,he=arguments;return new Promise(function(Ee,Le){var Te=T.apply(oe,he);function ze(B){m(Te,Ee,Le,ze,R,"next",B)}function R(B){m(Te,Ee,Le,ze,R,"throw",B)}ze(void 0)})}}k.d(Ve,{Z:()=>O})},7582:(ut,Ve,k)=>{function oe(X,se){var fe={};for(var ee in X)Object.prototype.hasOwnProperty.call(X,ee)&&se.indexOf(ee)<0&&(fe[ee]=X[ee]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(ee=Object.getOwnPropertySymbols(X);ve<ee.length;ve++)se.indexOf(ee[ve])<0&&Object.prototype.propertyIsEnumerable.call(X,ee[ve])&&(fe[ee[ve]]=X[ee[ve]])}return fe}function ne(X,se,fe,ee){return new(fe||(fe=Promise))(function(Ie,Ye){function Ae(Pt){try{ht(ee.next(Pt))}catch(Mt){Ye(Mt)}}function $t(Pt){try{ht(ee.throw(Pt))}catch(Mt){Ye(Mt)}}function ht(Pt){Pt.done?Ie(Pt.value):function ve(Ie){return Ie instanceof fe?Ie:new fe(function(Ye){Ye(Ie)})}(Pt.value).then(Ae,$t)}ht((ee=ee.apply(X,se||[])).next())})}function Z(X){return this instanceof Z?(this.v=X,this):new Z(X)}function ue(X,se,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,ee=fe.apply(X,se||[]),Ie=[];return ve={},Ye("next"),Ye("throw"),Ye("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function Ye(Wt){ee[Wt]&&(ve[Wt]=function(o2){return new Promise(function(a2,j2){Ie.push([Wt,o2,a2,j2])>1||Ae(Wt,o2)})})}function Ae(Wt,o2){try{!function $t(Wt){Wt.value instanceof Z?Promise.resolve(Wt.value.v).then(ht,Pt):Mt(Ie[0][2],Wt)}(ee[Wt](o2))}catch(a2){Mt(Ie[0][3],a2)}}function ht(Wt){Ae("next",Wt)}function Pt(Wt){Ae("throw",Wt)}function Mt(Wt,o2){Wt(o2),Ie.shift(),Ie.length&&Ae(Ie[0][0],Ie[0][1])}}function pe(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,se=X[Symbol.asyncIterator];return se?se.call(X):(X=function ce(X){var se="function"==typeof Symbol&&Symbol.iterator,fe=se&&X[se],ee=0;if(fe)return fe.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ee>=X.length&&(X=void 0),{value:X&&X[ee++],done:!X}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),fe={},ee("next"),ee("throw"),ee("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function ee(Ie){fe[Ie]=X[Ie]&&function(Ye){return new Promise(function(Ae,$t){!function ve(Ie,Ye,Ae,$t){Promise.resolve($t).then(function(ht){Ie({value:ht,done:Ae})},Ye)}(Ae,$t,(Ye=X[Ie](Ye)).done,Ye.value)})}}}k.d(Ve,{FC:()=>ue,KL:()=>pe,_T:()=>oe,mG:()=>ne,qq:()=>Z}),"function"==typeof SuppressedError&&SuppressedError}},ut=>{ut(ut.s=8370)}]);