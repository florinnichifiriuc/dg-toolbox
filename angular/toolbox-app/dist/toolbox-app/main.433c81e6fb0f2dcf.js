"use strict";(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{851:()=>{function Ne(t){return"function"==typeof t}function Ku(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const yh=Ku(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ca(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class zn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ne(r))try{r()}catch(o){e=o instanceof yh?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Fb(o)}catch(s){e=e??[],s instanceof yh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new yh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Fb(e);else{if(e instanceof zn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ca(n,e)}remove(e){const{_finalizers:n}=this;n&&Ca(n,e),e instanceof zn&&e._removeParent(this)}}zn.EMPTY=(()=>{const t=new zn;return t.closed=!0,t})();const Ob=zn.EMPTY;function Vb(t){return t instanceof zn||t&&"closed"in t&&Ne(t.remove)&&Ne(t.add)&&Ne(t.unsubscribe)}function Fb(t){Ne(t)?t():t.unsubscribe()}const ls={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vh={setTimeout(t,e,...n){const{delegate:r}=vh;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=vh;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Lb(t){vh.setTimeout(()=>{const{onUnhandledError:e}=ls;if(!e)throw t;e(t)})}function I2(){}const bU=E2("C",void 0,void 0);function E2(t,e,n){return{kind:t,value:e,error:n}}let ds=null;function Ih(t){if(ls.useDeprecatedSynchronousErrorHandling){const e=!ds;if(e&&(ds={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ds;if(ds=null,n)throw r}}else t()}class w2 extends zn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Vb(e)&&e.add(this)):this.destination=RU}static create(e,n,r){return new Qu(e,n,r)}next(e){this.isStopped?b2(function AU(t){return E2("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?b2(function TU(t){return E2("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?b2(bU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const DU=Function.prototype.bind;function C2(t,e){return DU.call(t,e)}class MU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Eh(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Eh(r)}else Eh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Eh(n)}}}class Qu extends w2{constructor(e,n,r){let i;if(super(),Ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ls.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&C2(e.next,o),error:e.error&&C2(e.error,o),complete:e.complete&&C2(e.complete,o)}):i=e}this.destination=new MU(i)}}function Eh(t){ls.useDeprecatedSynchronousErrorHandling?function SU(t){ls.useDeprecatedSynchronousErrorHandling&&ds&&(ds.errorThrown=!0,ds.error=t)}(t):Lb(t)}function b2(t,e){const{onStoppedNotification:n}=ls;n&&vh.setTimeout(()=>n(t,e))}const RU={closed:!0,next:I2,error:function PU(t){throw t},complete:I2},T2="function"==typeof Symbol&&Symbol.observable||"@@observable";function go(t){return t}function zb(t){return 0===t.length?go:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let we=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function kU(t){return t&&t instanceof w2||function NU(t){return t&&Ne(t.next)&&Ne(t.error)&&Ne(t.complete)}(t)&&Vb(t)}(n)?n:new Qu(n,r,i);return Ih(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Hb(r))((i,o)=>{const s=new Qu({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[T2](){return this}pipe(...n){return zb(n)(this)}toPromise(n){return new(n=Hb(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Hb(t){var e;return null!==(e=t??ls.Promise)&&void 0!==e?e:Promise}const OU=Ku(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pr=(()=>{class t extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ub(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new OU}next(n){Ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Ob:(this.currentObservers=null,o.push(n),new zn(()=>{this.currentObservers=null,Ca(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new we;return n.source=this,n}}return t.create=(e,n)=>new Ub(e,n),t})();class Ub extends pr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Ob}}function Bb(t){return Ne(t?.lift)}function It(t){return e=>{if(Bb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function lt(t,e,n,r,i){return new jb(t,e,n,r,i)}class jb extends w2{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ie(t,e){return It((n,r)=>{let i=0;n.subscribe(lt(r,o=>{r.next(t.call(e,o,i++))}))})}function wh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function D2(t,e,n,r){var s,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function M2(t,e){return function(n,r){e(n,r,t)}}function mo(t){return this instanceof mo?(this.v=t,this):new mo(t)}function Wb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function R2(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Kb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Qb(t){return Ne(t?.then)}function Yb(t){return Ne(t[T2])}function Xb(t){return Symbol.asyncIterator&&Ne(t?.[Symbol.asyncIterator])}function Jb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Zb=function eB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function e8(t){return Ne(t?.[Zb])}function t8(t){return function Gb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){o.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof mo?Promise.resolve(f.value.v).then(u,l):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield mo(n.read());if(i)return yield mo(void 0);yield yield mo(r)}}finally{n.releaseLock()}})}function n8(t){return Ne(t?.getReader)}function Hn(t){if(t instanceof we)return t;if(null!=t){if(Yb(t))return function tB(t){return new we(e=>{const n=t[T2]();if(Ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Kb(t))return function nB(t){return new we(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Qb(t))return function rB(t){return new we(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Lb)})}(t);if(Xb(t))return r8(t);if(e8(t))return function iB(t){return new we(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(n8(t))return function oB(t){return r8(t8(t))}(t)}throw Jb(t)}function r8(t){return new we(e=>{(function sB(t,e){var n,r,i,o;return function $b(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Wb(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Di(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Jt(t,e,n=1/0){return Ne(e)?Jt((r,i)=>Ie((o,s)=>e(r,o,i,s))(Hn(t(r,i))),n):("number"==typeof e&&(n=e),It((r,i)=>function aB(t,e,n,r,i,o,s,a){const c=[];let u=0,l=0,d=!1;const f=()=>{d&&!c.length&&!u&&e.complete()},h=g=>u<r?p(g):c.push(g),p=g=>{o&&e.next(g),u++;let _=!1;Hn(n(g,l++)).subscribe(lt(e,I=>{i?.(I),o?h(I):e.next(I)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;c.length&&u<r;){const I=c.shift();s?Di(e,s,()=>p(I)):p(I)}f()}catch(I){e.error(I)}}))};return t.subscribe(lt(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function Ch(t=1/0){return Jt(go,t)}const Yr=new we(t=>t.complete());function x2(t){return t[t.length-1]}function i8(t){return Ne(x2(t))?t.pop():void 0}function Yu(t){return function uB(t){return t&&Ne(t.schedule)}(x2(t))?t.pop():void 0}function bh(t,e=0){return It((n,r)=>{n.subscribe(lt(r,i=>Di(r,t,()=>r.next(i),e),()=>Di(r,t,()=>r.complete(),e),i=>Di(r,t,()=>r.error(i),e)))})}function Th(t,e=0){return It((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function o8(t,e){if(!t)throw new Error("Iterable cannot be null");return new we(n=>{Di(n,e,()=>{const r=t[Symbol.asyncIterator]();Di(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function fn(t,e){return e?function mB(t,e){if(null!=t){if(Yb(t))return function dB(t,e){return Hn(t).pipe(Th(e),bh(e))}(t,e);if(Kb(t))return function hB(t,e){return new we(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Qb(t))return function fB(t,e){return Hn(t).pipe(Th(e),bh(e))}(t,e);if(Xb(t))return o8(t,e);if(e8(t))return function pB(t,e){return new we(n=>{let r;return Di(n,e,()=>{r=t[Zb](),Di(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ne(r?.return)&&r.return()})}(t,e);if(n8(t))return function gB(t,e){return o8(t8(t),e)}(t,e)}throw Jb(t)}(t,e):Hn(t)}class gr extends pr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ee(...t){return fn(t,Yu(t))}function s8(t={}){const{connector:e=(()=>new pr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,u=0,l=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,l=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return It((g,_)=>{u++,!d&&!l&&f();const I=c=c??e();_.add(()=>{u--,0===u&&!d&&!l&&(a=N2(p,i))}),I.subscribe(_),!s&&u>0&&(s=new Qu({next:y=>I.next(y),error:y=>{d=!0,f(),a=N2(h,n,y),I.error(y)},complete:()=>{l=!0,f(),a=N2(h,r),I.complete()}}),Hn(g).subscribe(s))})(o)}}function N2(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Qu({next:()=>{r.unsubscribe(),t()}});return Hn(e(...n)).subscribe(r)}function Sr(t,e){return It((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(lt(r,c=>{i?.unsubscribe();let u=0;const l=o++;Hn(t(c,l)).subscribe(i=lt(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function a8(t,e=go){return t=t??yB,It((n,r)=>{let i,o=!0;n.subscribe(lt(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function yB(t,e){return t===e}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function Ah(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ot(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ot).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function k2(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const vB=De({__forward_ref__:De});function Fe(t){return t.__forward_ref__=Fe,t.toString=function(){return Ot(this())},t}function Z(t){return O2(t)?t():t}function O2(t){return"function"==typeof t&&t.hasOwnProperty(vB)&&t.__forward_ref__===Fe}function V2(t){return t&&!!t.\u0275providers}const c8="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function Sh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function F2(t,e){throw new S(-201,!1)}function mr(t,e){null==t&&function X(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ge(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dh(t){return u8(t,Ph)||u8(t,l8)}function u8(t,e){return t.hasOwnProperty(e)?t[e]:null}function Mh(t){return t&&(t.hasOwnProperty(L2)||t.hasOwnProperty(SB))?t[L2]:null}const Ph=De({\u0275prov:De}),L2=De({\u0275inj:De}),l8=De({ngInjectableDef:De}),SB=De({ngInjectorDef:De});var he=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(he||{});let z2;function Un(t){const e=z2;return z2=t,e}function f8(t,e,n){const r=Dh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&he.Optional?null:void 0!==e?e:void F2(Ot(t))}const Le=globalThis;class z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Xu={},$2="__NG_DI_FLAG__",Rh="ngTempTokenPath",PB=/\n/gm,p8="__source";let ba;function _o(t){const e=ba;return ba=t,e}function NB(t,e=he.Default){if(void 0===ba)throw new S(-203,!1);return null===ba?f8(t,void 0,e):ba.get(t,e&he.Optional?null:void 0,e)}function W(t,e=he.Default){return(function d8(){return z2}()||NB)(Z(t),e)}function T(t,e=he.Default){return W(t,xh(e))}function xh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function q2(t){const e=[];for(let n=0;n<t.length;n++){const r=Z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,o=he.Default;for(let s=0;s<r.length;s++){const a=r[s],c=kB(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function Ju(t,e){return t[$2]=e,t.prototype[$2]=e,t}function kB(t){return t[$2]}function Mi(t){return{toString:t}.toString()}var Nh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Nh||{}),Dr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dr||{});const Xr={},Ee=[],kh=De({\u0275cmp:De}),G2=De({\u0275dir:De}),W2=De({\u0275pipe:De}),m8=De({\u0275mod:De}),Pi=De({\u0275fac:De}),Zu=De({__NG_ELEMENT_ID__:De}),_8=De({__NG_ENV_ID__:De});function y8(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function K2(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];I8(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function v8(t){return 3===t||4===t||6===t}function I8(t){return 64===t.charCodeAt(0)}function el(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||E8(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function E8(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const w8="ng-template";function FB(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==y8(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function C8(t){return 4===t.type&&t.value!==w8}function LB(t,e,n){return e===(4!==t.type||n?t.value:w8)}function zB(t,e,n){let r=4;const i=t.attrs||[],o=function BB(t){for(let e=0;e<t.length;e++)if(v8(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!LB(t,c,n)||""===c&&1===e.length){if(Mr(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!FB(t.attrs,u,n)){if(Mr(r))return!1;s=!0}continue}const d=HB(8&r?"class":c,i,C8(t),n);if(-1===d){if(Mr(r))return!1;s=!0;continue}if(""!==u){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==y8(h,u,0)||2&r&&u!==f){if(Mr(r))return!1;s=!0}}}}else{if(!s&&!Mr(r)&&!Mr(c))return!1;if(s&&Mr(c))continue;s=!1,r=c|1&r}}return Mr(r)||s}function Mr(t){return 0==(1&t)}function HB(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function jB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function b8(t,e,n=!1){for(let r=0;r<e.length;r++)if(zB(t,e[r],n))return!0;return!1}function $B(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function T8(t,e){return t?":not("+e.trim()+")":e}function qB(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Mr(s)&&(e+=T8(o,i),i=""),r=s,o=o||!Mr(r);n++}return""!==i&&(e+=T8(o,i)),e}function Tn(t){return Mi(()=>{const e=S8(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Nh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dr.Emulated,styles:t.styles||Ee,_:null,schemas:t.schemas||null,tView:null,id:""};D8(n);const r=t.dependencies;return n.directiveDefs=Oh(r,!1),n.pipeDefs=Oh(r,!0),n.id=function ZB(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function QB(t){return ge(t)||Zt(t)}function YB(t){return null!==t}function Xe(t){return Mi(()=>({type:t.type,bootstrap:t.bootstrap||Ee,declarations:t.declarations||Ee,imports:t.imports||Ee,exports:t.exports||Ee,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function A8(t,e){if(null==t)return Xr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function Q(t){return Mi(()=>{const e=S8(t);return D8(e),e})}function Bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ge(t){return t[kh]||null}function Zt(t){return t[G2]||null}function An(t){return t[W2]||null}function Zn(t,e){const n=t[m8]||null;if(!n&&!0===e)throw new Error(`Type ${Ot(t)} does not have '\u0275mod' property.`);return n}function S8(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ee,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:A8(t.inputs,e),outputs:A8(t.outputs)}}function D8(t){t.features?.forEach(e=>e(t))}function Oh(t,e){if(!t)return null;const n=e?An:QB;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(YB)}const dt=0,L=1,se=2,Je=3,Pr=4,tl=5,hn=6,Aa=7,Et=8,yo=9,Sa=10,re=11,nl=12,M8=13,Da=14,wt=15,rl=16,Ma=17,Jr=18,il=19,P8=20,vo=21,Ri=22,ol=23,sl=24,le=25,Q2=1,R8=2,Zr=7,Pa=9,en=11;function Bn(t){return Array.isArray(t)&&"object"==typeof t[Q2]}function Sn(t){return Array.isArray(t)&&!0===t[Q2]}function Y2(t){return 0!=(4&t.flags)}function hs(t){return t.componentOffset>-1}function Fh(t){return 1==(1&t.flags)}function Rr(t){return!!t.template}function X2(t){return 0!=(512&t[se])}function ps(t,e){return t.hasOwnProperty(Pi)?t[Pi]:null}let tn=null,Lh=!1;function _r(t){const e=tn;return tn=t,e}const k8={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function V8(t){if(!cl(t)||t.dirty){if(!t.producerMustRecompute(t)&&!z8(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function L8(t){t.dirty=!0,function F8(t){if(void 0===t.liveConsumerNode)return;const e=Lh;Lh=!0;try{for(const n of t.liveConsumerNode)n.dirty||L8(n)}finally{Lh=e}}(t),t.consumerMarkedDirty?.(t)}function Z2(t){return t&&(t.nextProducerIndex=0),_r(t)}function e_(t,e){if(_r(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(cl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)zh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function z8(t){Ra(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(V8(n),r!==n.version))return!0}return!1}function H8(t){if(Ra(t),cl(t))for(let e=0;e<t.producerNode.length;e++)zh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zh(t,e){if(function B8(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ra(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)zh(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ra(i),i.producerIndexOfThis[r]=e}}function cl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ra(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let j8=null;function G8(t){const e=_r(null);try{return t()}finally{_r(e)}}const W8=()=>{},fj=(()=>({...k8,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:W8}))();class hj{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dn(){return K8}function K8(t){return t.type.prototype.ngOnChanges&&(t.setInput=gj),pj}function pj(){const t=Y8(this),e=t?.current;if(e){const n=t.previous;if(n===Xr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function gj(t,e,n,r){const i=this.declaredInputs[n],o=Y8(t)||function mj(t,e){return t[Q8]=e}(t,{previous:Xr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new hj(c&&c.currentValue,e,a===Xr),t[r]=e}Dn.ngInherit=!0;const Q8="__ngSimpleChanges__";function Y8(t){return t[Q8]||null}const ei=function(t,e,n){};function ze(t){for(;Array.isArray(t);)t=t[dt];return t}function Hh(t,e){return ze(e[t])}function jn(t,e){return ze(e[t.index])}function Z8(t,e){return t.data[e]}function xa(t,e){return t[e]}function er(t,e){const n=e[t];return Bn(n)?n:n[dt]}function Eo(t,e){return null==e?null:t[e]}function eT(t){t[Ma]=0}function wj(t){1024&t[se]||(t[se]|=1024,nT(t,1))}function tT(t){1024&t[se]&&(t[se]&=-1025,nT(t,-1))}function nT(t,e){let n=t[Je];if(null===n)return;n[tl]+=e;let r=n;for(n=n[Je];null!==n&&(1===e&&1===r[tl]||-1===e&&0===r[tl]);)n[tl]+=e,r=n,n=n[Je]}const J={lFrame:hT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function oT(){return J.bindingsEnabled}function Na(){return null!==J.skipHydrationRootTNode}function C(){return J.lFrame.lView}function me(){return J.lFrame.tView}function xr(t){return J.lFrame.contextLView=t,t[Et]}function Nr(t){return J.lFrame.contextLView=null,t}function nn(){let t=sT();for(;null!==t&&64===t.type;)t=t.parent;return t}function sT(){return J.lFrame.currentTNode}function ti(t,e){const n=J.lFrame;n.currentTNode=t,n.isParent=e}function o_(){return J.lFrame.isParent}function s_(){J.lFrame.isParent=!1}function Mn(){const t=J.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ka(){return J.lFrame.bindingIndex++}function kj(t,e){const n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,a_(e)}function a_(t){J.lFrame.currentDirectiveIndex=t}function u_(t){J.lFrame.currentQueryIndex=t}function Vj(t){const e=t[L];return 2===e.type?e.declTNode:1===e.type?t[hn]:null}function dT(t,e,n){if(n&he.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&he.Host||(i=Vj(o),null===i||(o=o[Da],10&i.type))););if(null===i)return!1;e=i,t=o}const r=J.lFrame=fT();return r.currentTNode=e,r.lView=t,!0}function l_(t){const e=fT(),n=t[L];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fT(){const t=J.lFrame,e=null===t?null:t.child;return null===e?hT(t):e}function hT(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pT(){const t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const gT=pT;function d_(){const t=pT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pn(){return J.lFrame.selectedIndex}function gs(t){J.lFrame.selectedIndex=t}function it(){const t=J.lFrame;return Z8(t.tView,t.selectedIndex)}let _T=!0;function Uh(){return _T}function wo(t){_T=t}function Bh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function jh(t,e,n){yT(t,e,3,n)}function $h(t,e,n,r){(3&t[se])===n&&yT(t,e,n,r)}function f_(t,e){let n=t[se];(3&n)===e&&(n&=8191,n+=1,t[se]=n)}function yT(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Ma]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Ma]+=65536),(a<o||-1==o)&&($j(t,n,e,c),t[Ma]=(4294901760&t[Ma])+c+2),c++}function vT(t,e){ei(4,t,e);const n=_r(null);try{e.call(t)}finally{_r(n),ei(5,t,e)}}function $j(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[se]>>13<t[Ma]>>16&&(3&t[se])===e&&(t[se]+=8192,vT(a,o)):vT(a,o)}const Oa=-1;class ll{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function p_(t){return t!==Oa}function dl(t){return 32767&t}function fl(t,e){let n=function Kj(t){return t>>16}(t),r=e;for(;n>0;)r=r[Da],n--;return r}let g_=!0;function qh(t){const e=g_;return g_=t,e}const IT=255,ET=5;let Qj=0;const ni={};function Gh(t,e){const n=wT(t,e);if(-1!==n)return n;const r=e[L];r.firstCreatePass&&(t.injectorIndex=e.length,m_(r.data,t),m_(e,null),m_(r.blueprint,null));const i=Wh(t,e),o=t.injectorIndex;if(p_(i)){const s=dl(i),a=fl(i,e),c=a[L].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function m_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wT(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Wh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=MT(i),null===r)return Oa;if(n++,i=i[Da],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Oa}function __(t,e,n){!function Yj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zu)&&(r=n[Zu]),null==r&&(r=n[Zu]=Qj++);const i=r&IT;e.data[t+(i>>ET)]|=1<<i}(t,e,n)}function CT(t,e,n){if(n&he.Optional||void 0!==t)return t;F2()}function bT(t,e,n,r){if(n&he.Optional&&void 0===r&&(r=null),!(n&(he.Self|he.Host))){const i=t[yo],o=Un(void 0);try{return i?i.get(e,r,n&he.Optional):f8(e,r,n&he.Optional)}finally{Un(o)}}return CT(r,0,n)}function TT(t,e,n,r=he.Default,i){if(null!==t){if(2048&e[se]&&!(r&he.Self)){const s=function n$(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[se]&&!(512&s[se]);){const a=AT(o,s,n,r|he.Self,ni);if(a!==ni)return a;let c=o.parent;if(!c){const u=s[P8];if(u){const l=u.get(n,ni,r);if(l!==ni)return l}c=MT(s),s=s[Da]}o=c}return i}(t,e,n,r,ni);if(s!==ni)return s}const o=AT(t,e,n,r,ni);if(o!==ni)return o}return bT(e,n,r,i)}function AT(t,e,n,r,i){const o=function Zj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Zu)?t[Zu]:void 0;return"number"==typeof e?e>=0?e&IT:t$:e}(n);if("function"==typeof o){if(!dT(e,t,r))return r&he.Host?CT(i,0,r):bT(e,n,r,i);try{let s;if(s=o(r),null!=s||r&he.Optional)return s;F2()}finally{gT()}}else if("number"==typeof o){let s=null,a=wT(t,e),c=Oa,u=r&he.Host?e[wt][hn]:null;for((-1===a||r&he.SkipSelf)&&(c=-1===a?Wh(t,e):e[a+8],c!==Oa&&DT(r,!1)?(s=e[L],a=dl(c),e=fl(c,e)):a=-1);-1!==a;){const l=e[L];if(ST(o,a,l.data)){const d=Jj(a,e,n,s,r,u);if(d!==ni)return d}c=e[a+8],c!==Oa&&DT(r,e[L].data[a+8]===u)&&ST(o,a,e)?(s=l,a=dl(c),e=fl(c,e)):a=-1}}return i}function Jj(t,e,n,r,i,o){const s=e[L],a=s.data[t+8],l=function Kh(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,l=o>>20,f=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<f;h++){const p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=s[c];if(h&&Rr(h)&&h.type===n)return c}return null}(a,s,n,null==r?hs(a)&&g_:r!=s&&0!=(3&a.type),i&he.Host&&o===a);return null!==l?ms(e,s,l,a):ni}function ms(t,e,n,r){let i=t[n];const o=e.data;if(function qj(t){return t instanceof ll}(i)){const s=i;s.resolving&&function IB(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}(o[n]));const a=qh(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Un(s.injectImpl):null;dT(t,r,he.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function jj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=K8(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Un(u),qh(a),s.resolving=!1,gT()}}return i}function ST(t,e,n){return!!(n[e+(t>>ET)]&1<<t)}function DT(t,e){return!(t&he.Self||t&he.Host&&e)}class Rn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return TT(this._tNode,this._lView,e,xh(r),n)}}function t$(){return new Rn(nn(),C())}function rn(t){return Mi(()=>{const e=t.prototype.constructor,n=e[Pi]||y_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Pi]||y_(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function y_(t){return O2(t)?()=>{const e=y_(Z(t));return e&&e()}:ps(t)}function MT(t){const e=t[L],n=e.type;return 2===n?e.declTNode:1===n?t[hn]:null}const Fa="__parameters__";function za(t,e,n){return Mi(()=>{const r=function v_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(Fa)?c[Fa]:Object.defineProperty(c,Fa,{value:[]})[Fa];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ua(t,e){t.forEach(n=>Array.isArray(n)?Ua(n,e):e(n))}function RT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gl(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function tr(t,e,n){let r=Ba(t,e);return r>=0?t[1|r]=n:(r=~r,function u$(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function I_(t,e){const n=Ba(t,e);if(n>=0)return t[1|n]}function Ba(t,e){return function xT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const jt=Ju(za("Optional"),8),w_=Ju(za("SkipSelf"),4);function np(t){return 128==(128&t.flags)}var Co=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Co||{});const P$=/^>|^->|<!--|-->|--!>|<!-$/g,R$=/(<|>)/g,x$="\u200b$1\u200b";const A_=new Map;let N$=0;const D_="__ngContext__";function pn(t,e){Bn(e)?(t[D_]=e[il],function O$(t){A_.set(t[il],t)}(e)):t[D_]=e}let M_;function P_(t,e){return M_(t,e)}function yl(t){const e=t[Je];return Sn(e)?e[Je]:e}function JT(t){return eA(t[nl])}function ZT(t){return eA(t[Pr])}function eA(t){for(;null!==t&&!Sn(t);)t=t[Pr];return t}function qa(t,e,n,r,i){if(null!=r){let o,s=!1;Sn(r)?o=r:Bn(r)&&(s=!0,r=r[dt]);const a=ze(r);0===t&&null!==n?null==i?iA(e,n,a):_s(e,n,a,i||null,!0):1===t&&null!==n?_s(e,n,a,i||null,!0):2===t?function up(t,e,n){const r=ap(t,e);r&&function eq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function rq(t,e,n,r,i){const o=n[Zr];o!==ze(n)&&qa(e,t,r,o,i);for(let a=en;a<n.length;a++){const c=n[a];Il(c[L],c,t,e,r,o)}}(e,t,o,n,i)}}function R_(t,e){return t.createComment(function $T(t){return t.replace(P$,e=>e.replace(R$,x$))}(e))}function op(t,e,n){return t.createElement(e,n)}function nA(t,e){const n=t[Pa],r=n.indexOf(e);tT(e),n.splice(r,1)}function sp(t,e){if(t.length<=en)return;const n=en+e,r=t[n];if(r){const i=r[rl];null!==i&&i!==t&&nA(i,r),e>0&&(t[n-1][Pr]=r[Pr]);const o=Yh(t,en+e);!function G$(t,e){Il(t,e,e[re],2,null,null),e[dt]=null,e[hn]=null}(r[L],r);const s=o[Jr];null!==s&&s.detachView(o[L]),r[Je]=null,r[Pr]=null,r[se]&=-129}return r}function x_(t,e){if(!(256&e[se])){const n=e[re];e[ol]&&H8(e[ol]),e[sl]&&H8(e[sl]),n.destroyNode&&Il(t,e,n,3,null,null),function Q$(t){let e=t[nl];if(!e)return N_(t[L],t);for(;e;){let n=null;if(Bn(e))n=e[nl];else{const r=e[en];r&&(n=r)}if(!n){for(;e&&!e[Pr]&&e!==t;)Bn(e)&&N_(e[L],e),e=e[Je];null===e&&(e=t),Bn(e)&&N_(e[L],e),n=e&&e[Pr]}e=n}}(e)}}function N_(t,e){if(!(256&e[se])){e[se]&=-129,e[se]|=256,function Z$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ll)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];ei(4,a,c);try{c.call(a)}finally{ei(5,a,c)}}else{ei(4,i,o);try{o.call(i)}finally{ei(5,i,o)}}}}}(t,e),function J$(t,e){const n=t.cleanup,r=e[Aa];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Aa]=null);const i=e[vo];if(null!==i){e[vo]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[L].type&&e[re].destroy();const n=e[rl];if(null!==n&&Sn(e[Je])){n!==e[Je]&&nA(n,e);const r=e[Jr];null!==r&&r.detachView(t)}!function V$(t){A_.delete(t[il])}(e)}}function k_(t,e,n){return function rA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[dt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===Dr.None||o===Dr.Emulated)return null}return jn(r,n)}}(t,e.parent,n)}function _s(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iA(t,e,n){t.appendChild(e,n)}function oA(t,e,n,r,i){null!==r?_s(t,e,n,r,i):iA(t,e,n)}function ap(t,e){return t.parentNode(e)}function sA(t,e,n){return cA(t,e,n)}let O_,lp,z_,dp,cA=function aA(t,e,n){return 40&t.type?jn(t,n):null};function cp(t,e,n,r){const i=k_(t,r,e),o=e[re],a=sA(r.parent||e[hn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)oA(o,i,n[c],a,!1);else oA(o,i,n,a,!1);void 0!==O_&&O_(o,r,e,n,i)}function vl(t,e){if(null!==e){const n=e.type;if(3&n)return jn(e,t);if(4&n)return V_(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return vl(t,r);{const i=t[e.index];return Sn(i)?V_(-1,i):ze(i)}}if(32&n)return P_(e,t)()||ze(t[e.index]);{const r=lA(t,e);return null!==r?Array.isArray(r)?r[0]:vl(yl(t[wt]),r):vl(t,e.next)}}return null}function lA(t,e){return null!==e?t[wt][hn].projection[e.projection]:null}function V_(t,e){const n=en+t+1;if(n<e.length){const r=e[n],i=r[L].firstChild;if(null!==i)return vl(r,i)}return e[Zr]}function F_(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&pn(ze(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)F_(t,e,n.child,r,i,o,!1),qa(e,t,i,a,o);else if(32&c){const u=P_(n,r);let l;for(;l=u();)qa(e,t,i,l,o);qa(e,t,i,a,o)}else 16&c?fA(t,e,r,n,i,o):qa(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Il(t,e,n,r,i,o){F_(n,r,t.firstChild,e,i,o,!1)}function fA(t,e,n,r,i,o){const s=n[wt],c=s[hn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)qa(e,t,i,c[u],o);else{let u=c;const l=s[Je];np(r)&&(u.flags|=128),F_(t,e,u,l,i,o,!0)}}function hA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pA(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&K2(t,e,r),null!==i&&hA(t,e,i),null!==o&&function oq(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function Ga(t){return function L_(){if(void 0===lp&&(lp=null,Le.trustedTypes))try{lp=Le.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return lp}()?.createHTML(t)||t}function Wa(){if(void 0!==z_)return z_;if(typeof document<"u")return document;throw new S(210,!1)}function gA(t){return function H_(){if(void 0===dp&&(dp=null,Le.trustedTypes))try{dp=Le.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return dp}()?.createHTML(t)||t}class ys{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${c8})`}}class lq extends ys{getTypeName(){return"HTML"}}class dq extends ys{getTypeName(){return"Style"}}class fq extends ys{getTypeName(){return"Script"}}class hq extends ys{getTypeName(){return"URL"}}class pq extends ys{getTypeName(){return"ResourceURL"}}function nr(t){return t instanceof ys?t.changingThisBreaksApplicationSecurity:t}function ri(t,e){const n=function gq(t){return t instanceof ys&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${c8})`)}return n===e}class Eq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(Ga(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class wq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=Ga(e),n}}const bq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fp(t){return(t=String(t)).match(bq)?t:"unsafe:"+t}function ki(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function El(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const vA=ki("area,br,col,hr,img,wbr"),IA=ki("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),EA=ki("rp,rt"),U_=El(vA,El(IA,ki("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),El(EA,ki("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),El(EA,IA)),B_=ki("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wA=El(B_,ki("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ki("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Tq=ki("script,style,template");class Aq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!U_.hasOwnProperty(n))return this.sanitizedSomething=!0,!Tq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!wA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;B_[a]&&(c=fp(c)),this.buf.push(" ",s,'="',CA(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();U_.hasOwnProperty(n)&&!vA.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(CA(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const Sq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dq=/([^\#-~ |!])/g;function CA(t){return t.replace(/&/g,"&amp;").replace(Sq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Dq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hp;function bA(t,e){let n=null;try{hp=hp||function yA(t){const e=new wq(t);return function Cq(){try{return!!(new window.DOMParser).parseFromString(Ga(""),"text/html")}catch{return!1}}()?new Eq(e):e}(t);let r=e?String(e):"";n=hp.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=hp.getInertBodyElement(r)}while(r!==o);return Ga((new Aq).sanitizeChildren(j_(n)||n))}finally{if(n){const r=j_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function j_(t){return"content"in t&&function Mq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vr||{});function TA(t){const e=wl();return e?gA(e.sanitize(vr.HTML,t)||""):ri(t,"HTML")?gA(nr(t)):bA(Wa(),ne(t))}function $_(t){const e=wl();return e?e.sanitize(vr.URL,t)||"":ri(t,"URL")?nr(t):fp(ne(t))}function wl(){const t=C();return t&&t[Sa].sanitizer}const Cl=new z("ENVIRONMENT_INITIALIZER"),DA=new z("INJECTOR",-1),MA=new z("INJECTOR_DEF_TYPES");class q_{get(e,n=Xu){if(n===Xu){const r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return n}}function Oq(...t){return{\u0275providers:RA(0,t),\u0275fromNgModule:!0}}function RA(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Ua(e,s=>{const a=s;pp(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&xA(i,o),n}function xA(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];G_(i,o=>{e(o,r)})}}function pp(t,e,n,r){if(!(t=Z(t)))return!1;let i=null,o=Mh(t);const s=!o&&ge(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const c=t.ngModule;if(o=Mh(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)pp(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Ua(o.imports,l=>{pp(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&xA(u,e)}if(!a){const u=ps(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ee},i),e({provide:MA,useValue:i,multi:!0},i),e({provide:Cl,useValue:()=>W(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=t;G_(c,l=>{e(l,u)})}}}return i!==t&&void 0!==t.providers}function G_(t,e){for(let n of t)V2(n)&&(n=n.\u0275providers),Array.isArray(n)?G_(n,e):e(n)}const Vq=De({provide:String,useValue:De});function W_(t){return null!==t&&"object"==typeof t&&Vq in t}function vs(t){return"function"==typeof t}const K_=new z("Set Injector scope."),gp={},Lq={};let Q_;function mp(){return void 0===Q_&&(Q_=new q_),Q_}class kr{}class Ka extends kr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,X_(e,s=>this.processProvider(s)),this.records.set(DA,Qa(void 0,this)),i.has("environment")&&this.records.set(kr,Qa(void 0,this));const o=this.records.get(K_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(MA.multi,Ee,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=_o(this),r=Un(void 0);try{return e()}finally{_o(n),Un(r)}}get(e,n=Xu,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_8))return e[_8](this);r=xh(r);const o=_o(this),s=Un(void 0);try{if(!(r&he.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function jq(t){return"function"==typeof t||"object"==typeof t&&t instanceof z}(e)&&Dh(e);c=u&&this.injectableDefInScope(u)?Qa(Y_(e),gp):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&he.Self?mp():this.parent).get(e,n=r&he.Optional&&n===Xu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Rh]=a[Rh]||[]).unshift(Ot(e)),o)throw a;return function OB(t,e,n,r){const i=t[Rh];throw e[p8]&&i.unshift(e[p8]),t.message=function VB(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ot(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(PB,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Rh]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Un(s),_o(o)}}resolveInjectorInitializers(){const e=_o(this),n=Un(void 0);try{const i=this.get(Cl.multi,Ee,he.Self);for(const o of i)o()}finally{_o(e),Un(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=vs(e=Z(e))?e:Z(e&&e.provide);const r=function Hq(t){return W_(t)?Qa(void 0,t.useValue):Qa(OA(t),gp)}(e);if(vs(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Qa(void 0,gp,!0),i.factory=()=>q2(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===gp&&(n.value=Lq,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Bq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Y_(t){const e=Dh(t),n=null!==e?e.factory:ps(t);if(null!==n)return n;if(t instanceof z)throw new S(204,!1);if(t instanceof Function)return function zq(t){const e=t.length;if(e>0)throw gl(e,"?"),new S(204,!1);const n=function AB(t){return t&&(t[Ph]||t[l8])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function OA(t,e,n){let r;if(vs(t)){const i=Z(t);return ps(i)||Y_(i)}if(W_(t))r=()=>Z(t.useValue);else if(function kA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...q2(t.deps||[]));else if(function NA(t){return!(!t||!t.useExisting)}(t))r=()=>W(Z(t.useExisting));else{const i=Z(t&&(t.useClass||t.provide));if(!function Uq(t){return!!t.deps}(t))return ps(i)||Y_(i);r=()=>new i(...q2(t.deps))}return r}function Qa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function X_(t,e){for(const n of t)Array.isArray(n)?X_(n,e):n&&V2(n)?X_(n.\u0275providers,e):e(n)}const _p=new z("AppId",{providedIn:"root",factory:()=>$q}),$q="ng",VA=new z("Platform Initializer"),Oi=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FA=new z("CSP nonce",{providedIn:"root",factory:()=>Wa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let LA=(t,e,n)=>null;function s0(t,e,n=!1){return LA(t,e,n)}class eG{}class UA{}class nG{resolveComponentFactory(e){throw function tG(t){const e=Error(`No component factory found for ${Ot(t)}.`);return e.ngComponent=t,e}(e)}}let Al=(()=>{class e{}return e.NULL=new nG,e})();function rG(){return Ja(nn(),C())}function Ja(t,e){return new gn(jn(t,e))}let gn=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=rG,e})();class jA{}let ii=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function oG(){const t=C(),n=er(nn().index,t);return(Bn(n)?n:t)[re]}(),e})(),sG=(()=>{var t;class e{}return(t=e).\u0275prov=B({token:t,providedIn:"root",factory:()=>null}),e})();class Za{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const $A=new Za("16.2.12"),u0={};function KA(t,e=null,n=null,r){const i=QA(t,e,n,r);return i.resolveInjectorInitializers(),i}function QA(t,e=null,n=null,r,i=new Set){const o=[n||Ee,Oq(t)];return r=r||("object"==typeof t?void 0:Ot(t)),new Ka(o,e||mp(),r||null,i)}let Ft=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return KA({name:""},i,r,"");{const o=r.name??"";return KA({name:o},r.parent,r.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=Xu,t.NULL=new q_,t.\u0275prov=B({token:t,providedIn:"any",factory:()=>W(DA)}),t.__NG_ELEMENT_ID__=-1,e})();function d0(t){return t.ngOriginalError}class Vi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&d0(e);for(;n&&d0(n);)n=d0(n);return n||null}}function h0(t){return e=>{setTimeout(t,void 0,e)}}const ot=class hG extends pr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=h0(o),i&&(i=h0(i)),s&&(s=h0(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof zn&&e.add(a),a}};function XA(...t){}class ve{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ot(!1),this.onMicrotaskEmpty=new ot(!1),this.onStable=new ot(!1),this.onError=new ot(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function pG(){const t="function"==typeof Le.requestAnimationFrame;let e=Le[t?"requestAnimationFrame":"setTimeout"],n=Le[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function _G(t){const e=()=>{!function mG(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Le,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,g0(t),t.isCheckStableRunning=!0,p0(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),g0(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function vG(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return JA(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ZA(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return JA(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),ZA(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,g0(t),p0(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ve.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(ve.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,gG,XA,XA);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const gG={};function p0(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function g0(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function JA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ZA(t){t._nesting--,p0(t)}class yG{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ot,this.onMicrotaskEmpty=new ot,this.onStable=new ot,this.onError=new ot}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const eS=new z("",{providedIn:"root",factory:tS});function tS(){const t=T(ve);let e=!0;return function _B(...t){const e=Yu(t),n=function lB(t,e){return"number"==typeof x2(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Hn(r[0]):Ch(n)(fn(r,e)):Yr}(new we(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new we(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{ve.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(s8()))}function Fi(t){return t instanceof Function?t():t}let m0=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=B({token:t,providedIn:"root",factory:()=>new t}),e})();function Sl(t){for(;t;){t[se]|=64;const e=yl(t);if(X2(t)&&!e)return t;t=e}return null}const sS=new z("",{providedIn:"root",factory:()=>!1});let bp=null;function lS(t,e){return t[e]??hS()}function dS(t,e){const n=hS();n.producerNode?.length&&(t[e]=bp,n.lView=t,bp=fS())}const MG={...k8,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Sl(t.lView)},lView:null};function fS(){return Object.create(MG)}function hS(){return bp??=fS(),bp}const oe={};function V(t){pS(me(),C(),Pn()+t,!1)}function pS(t,e,n,r){if(!r)if(3==(3&e[se])){const o=t.preOrderCheckHooks;null!==o&&jh(e,o,n)}else{const o=t.preOrderHooks;null!==o&&$h(e,o,0,n)}gs(n)}function b(t,e=he.Default){const n=C();return null===n?W(t,e):TT(nn(),n,Z(t),e)}function Tp(t,e,n,r,i,o,s,a,c,u,l){const d=e.blueprint.slice();return d[dt]=i,d[se]=140|r,(null!==u||t&&2048&t[se])&&(d[se]|=2048),eT(d),d[Je]=d[Da]=t,d[Et]=n,d[Sa]=s||t&&t[Sa],d[re]=a||t&&t[re],d[yo]=c||t&&t[yo]||null,d[hn]=o,d[il]=function k$(){return N$++}(),d[Ri]=l,d[P8]=u,d[wt]=2==e.type?t[wt]:d,d}function nc(t,e,n,r,i){let o=t.data[e];if(null===o)o=function _0(t,e,n,r,i){const o=sT(),s=o_(),c=t.data[e]=function LG(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Na()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,e,n,r,i),function Nj(){return J.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function ul(){const t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ti(o,!0),o}function Dl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gS(t,e,n,r,i){const o=lS(e,ol),s=Pn(),a=2&r;try{gs(-1),a&&e.length>le&&pS(t,e,le,!1),ei(a?2:0,i);const u=a?o:null,l=Z2(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{e_(u,l)}}finally{a&&null===e[ol]&&dS(e,ol),gs(s),ei(a?3:1,i)}}function y0(t,e,n){if(Y2(e)){const r=_r(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{_r(r)}}}function v0(t,e,n){oT()&&(function qG(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;hs(n)&&function JG(t,e,n){const r=jn(e,t),i=mS(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Ap(t,Tp(t,i,null,s,r,e,null,t[Sa].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Gh(n,e),pn(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const c=t.data[a],u=ms(e,t,a,n);pn(u,e),null!==s&&ZG(0,a-i,u,c,0,s),Rr(c)&&(er(n.index,e)[Et]=ms(e,t,a,n))}}(t,e,n,jn(n,e)),64==(64&n.flags)&&ES(t,e,n))}function I0(t,e,n=jn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function mS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=E0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function E0(t,e,n,r,i,o,s,a,c,u,l){const d=le+r,f=d+i,h=function xG(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oe);return n}(d,f),p="function"==typeof u?u():u;return h[L]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let _S=t=>null;function yS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?vS(n,e,i,o):r.hasOwnProperty(i)&&vS(n,e,r[i],o)}return n}function vS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function rr(t,e,n,r,i,o,s,a){const c=jn(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(A0(t,n,l,r,i),hs(e)&&function UG(t,e){const n=er(e,t);16&n[se]||(n[se]|=64)}(n,e.index)):3&e.type&&(r=function HG(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function w0(t,e,n,r){if(oT()){const i=null===r?null:{"":-1},o=function WG(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(b8(e,s.selectors,!1))if(r||(r=[]),Rr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),C0(t,e,a.length)}else r.unshift(s),C0(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&IS(t,e,n,s,i,a),i&&function KG(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new S(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=el(n.mergedAttrs,n.attrs)}function IS(t,e,n,r,i,o){for(let u=0;u<r.length;u++)__(Gh(n,e),t,r[u].type);!function YG(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=Dl(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=el(n.mergedAttrs,l.hostAttrs),XG(t,n,e,c,l),QG(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function zG(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],f=n?n.get(d):null,p=f?f.outputs:null;c=yS(d.inputs,l,c,f?f.inputs:null),u=yS(d.outputs,l,u,p);const g=null===c||null===s||C8(e)?null:eW(c,l,s);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,o)}function ES(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function Oj(){return J.lFrame.currentDirectiveIndex}();try{gs(o);for(let a=r;a<i;a++){const c=t.data[a],u=e[a];a_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&GG(c,u)}}finally{gs(-1),a_(s)}}function GG(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function C0(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function QG(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Rr(e)&&(n[""]=t)}}function XG(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ps(i.type)),s=new ll(o,Rr(i),b);t.blueprint[r]=s,n[r]=s,function jG(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function $G(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Dl(t,n,i.hostVars,oe),i)}function oi(t,e,n,r,i,o){const s=jn(t,e);!function b0(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?ne(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[re],s,o,t.value,n,r,i)}function ZG(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)wS(r,n,s[a++],s[a++],s[a++])}function wS(t,e,n,r,i){const o=_r(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{_r(o)}}function eW(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function CS(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function bS(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];u_(n[r]),s.contentQueries(2,e[o],o)}}}function Ap(t,e){return t[nl]?t[M8][Pr]=e:t[nl]=e,t[M8]=e,e}function T0(t,e,n){u_(0);const r=_r(null);try{e(t,n)}finally{_r(r)}}function DS(t,e){const n=t[yo],r=n?n.get(Vi,null):null;r&&r.handleError(e)}function A0(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];wS(t.data[s],e[s],r,a,i)}}function tW(t,e){const n=er(e,t),r=n[L];!function nW(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[dt];null!==i&&null===n[Ri]&&(n[Ri]=s0(i,n[yo])),S0(r,n,n[Et])}function S0(t,e,n){l_(e);try{const r=t.viewQuery;null!==r&&T0(1,r,n);const i=t.template;null!==i&&gS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bS(t,e),t.staticViewQueries&&T0(2,t.viewQuery,n);const o=t.components;null!==o&&function rW(t,e){for(let n=0;n<e.length;n++)tW(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,d_()}}let MS=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,o){const s=typeof Zone>"u"?null:Zone.current,a=function dj(t,e,n){const r=Object.create(fj);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>L8(r),run:()=>{if(r.dirty=!1,r.hasRun&&!z8(r))return;r.hasRun=!0;const s=Z2(r);try{r.cleanupFn(),r.cleanupFn=W8,r.fn(i)}finally{e_(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(r,l=>{this.all.has(l)&&this.queue.set(l,s)},o);let c;this.all.add(a),a.notify();const u=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=B({token:t,providedIn:"root",factory:()=>new t}),e})();function Sp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=k2(i,a):2==o&&(r=k2(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ml(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(ze(o)),Sn(o)&&PS(o,r);const s=n.type;if(8&s)Ml(t,e,n.child,r);else if(32&s){const a=P_(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=lA(e,n);if(Array.isArray(a))r.push(...a);else{const c=yl(e[wt]);Ml(c[L],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function PS(t,e){for(let n=en;n<t.length;n++){const r=t[n],i=r[L].firstChild;null!==i&&Ml(r[L],r,i,e)}t[Zr]!==t[dt]&&e.push(t[Zr])}function Dp(t,e,n,r=!0){const i=e[Sa],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{RS(t,e,t.template,n)}catch(c){throw r&&DS(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function RS(t,e,n,r){const i=e[se];if(256!=(256&i)){e[Sa].effectManager?.flush(),l_(e);try{eT(e),function cT(t){return J.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&gS(t,e,n,2,r);const s=3==(3&i);if(s){const u=t.preOrderCheckHooks;null!==u&&jh(e,u,null)}else{const u=t.preOrderHooks;null!==u&&$h(e,u,0,null),f_(e,0)}if(function sW(t){for(let e=JT(t);null!==e;e=ZT(e)){if(!e[R8])continue;const n=e[Pa];for(let r=0;r<n.length;r++){wj(n[r])}}}(e),xS(e,2),null!==t.contentQueries&&bS(t,e),s){const u=t.contentCheckHooks;null!==u&&jh(e,u)}else{const u=t.contentHooks;null!==u&&$h(e,u,1),f_(e,1)}!function RG(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=lS(e,sl);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)gs(~o);else{const s=o,a=n[++i],c=n[++i];kj(a,s),r.dirty=!1;const u=Z2(r);try{c(2,e[s])}finally{e_(r,u)}}}}finally{null===e[sl]&&dS(e,sl),gs(-1)}}(t,e);const a=t.components;null!==a&&kS(e,a,0);const c=t.viewQuery;if(null!==c&&T0(2,c,r),s){const u=t.viewCheckHooks;null!==u&&jh(e,u)}else{const u=t.viewHooks;null!==u&&$h(e,u,2),f_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[se]&=-73,tT(e)}finally{d_()}}}function xS(t,e){for(let n=JT(t);null!==n;n=ZT(n))for(let r=en;r<n.length;r++)NS(n[r],e)}function aW(t,e,n){NS(er(e,t),n)}function NS(t,e){if(!function Ij(t){return 128==(128&t[se])}(t))return;const n=t[L],r=t[se];if(80&r&&0===e||1024&r||2===e)RS(n,t,n.template,t[Et]);else if(t[tl]>0){xS(t,1);const i=n.components;null!==i&&kS(t,i,1)}}function kS(t,e,n){for(let r=0;r<e.length;r++)aW(t,e[r],n)}class Pl{get rootNodes(){const e=this._lView,n=e[L];return Ml(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Et]}set context(e){this._lView[Et]=e}get destroyed(){return 256==(256&this._lView[se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Je];if(Sn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(sp(e,r),Yh(n,r))}this._attachedToViewContainer=!1}x_(this._lView[L],this._lView)}onDestroy(e){!function rT(t,e){if(256==(256&t[se]))throw new S(911,!1);null===t[vo]&&(t[vo]=[]),t[vo].push(e)}(this._lView,e)}markForCheck(){Sl(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){this._lView[se]|=128}detectChanges(){Dp(this._lView[L],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function K$(t,e){Il(t,e,e[re],2,null,null)}(this._lView[L],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class cW extends Pl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Dp(e[L],e,e[Et],!1)}checkNoChanges(){}get context(){return null}}class OS extends Al{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ge(e);return new Rl(n,this.ngModule)}}function VS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class lW{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xh(r);const i=this.injector.get(e,u0,r);return i!==u0||n===u0?i:this.parentInjector.get(e,n,r)}}class Rl extends UA{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=VS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return VS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function GB(t){return t.map(qB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof kr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new lW(e,o):e,a=s.get(jA,null);if(null===a)throw new S(407,!1);const d={rendererFactory:a,sanitizer:s.get(sG,null),effectManager:s.get(MS,null),afterRenderEventManager:s.get(m0,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function NG(t,e,n,r){const o=r.get(sS,!1)||n===Dr.ShadowDom,s=t.selectRootElement(e,o);return function kG(t){_S(t)}(s),s}(f,r,this.componentDef.encapsulation,s):op(f,h,function uW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),I=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=s0(p,s,!0));const w=E0(0,null,null,1,0,null,null,null,null,null,null),P=Tp(null,w,null,I,null,null,d,f,s,null,y);let N,K;l_(P);try{const ue=this.componentDef;let ut,Xt=null;ue.findHostDirectiveDefs?(ut=[],Xt=new Map,ue.findHostDirectiveDefs(ue,ut,Xt),ut.push(ue)):ut=[ue];const us=function fW(t,e){const n=t[L],r=le;return t[r]=e,nc(n,r,2,"#host",null)}(P,p),v4e=function hW(t,e,n,r,i,o,s){const a=i[L];!function pW(t,e,n,r){for(const i of t)e.mergedAttrs=el(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Sp(e,e.mergedAttrs,!0),null!==n&&pA(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=s0(e,i[yo]));const u=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Tp(i,mS(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&C0(a,t,r.length-1),Ap(i,d),i[t.index]=d}(us,p,ue,ut,P,d,f);K=Z8(w,le),p&&function mW(t,e,n,r){if(r)K2(t,n,["ng-version",$A.full]);else{const{attrs:i,classes:o}=function WB(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Mr(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&K2(t,n,i),o&&o.length>0&&hA(t,n,o.join(" "))}}(f,ue,p,r),void 0!==n&&function _W(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(K,this.ngContentSelectors,n),N=function gW(t,e,n,r,i,o){const s=nn(),a=i[L],c=jn(s,i);IS(a,i,s,n,null,r);for(let l=0;l<n.length;l++)pn(ms(i,a,s.directiveStart+l,s),i);ES(a,i,s),c&&pn(c,i);const u=ms(i,a,s.directiveStart+s.componentOffset,s);if(t[Et]=i[Et]=u,null!==o)for(const l of o)l(u,e);return y0(a,s,t),u}(v4e,ue,ut,Xt,P,[yW]),S0(w,P,null)}finally{d_()}return new dW(this.componentType,N,Ja(K,P),P,K)}}class dW extends eG{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new cW(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;A0(o[L],o,i,e,n),this.previousInputValues.set(e,n),Sl(er(this._tNode.index,o))}}get injector(){return new Rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function yW(){const t=nn();Bh(C()[L],t)}function Me(t){let e=function FS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Rr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Mp(t.inputs),s.inputTransforms=Mp(t.inputTransforms),s.declaredInputs=Mp(t.declaredInputs),s.outputs=Mp(t.outputs);const a=i.hostBindings;a&&wW(t,a);const c=i.viewQuery,u=i.contentQueries;if(c&&IW(t,c),u&&EW(t,u),Ah(t.inputs,i.inputs),Ah(t.declaredInputs,i.declaredInputs),Ah(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Ah(s.inputTransforms,i.inputTransforms)),Rr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===Me&&(n=!1)}}e=Object.getPrototypeOf(e)}!function vW(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=el(i.hostAttrs,n=el(n,i.hostAttrs))}}(r)}function Mp(t){return t===Xr?{}:t===Ee?[]:t}function IW(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function EW(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function wW(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Pp(t){return!!D0(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function D0(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function si(t,e,n){return t[e]=n}function mn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Is(t,e,n,r){const i=mn(t,e,n);return mn(t,e+1,r)||i}function Or(t,e,n,r){const i=C();return mn(i,ka(),e)&&(me(),oi(it(),i,t,e,n,r)),Or}function ic(t,e,n,r){return mn(t,ka(),n)?e+ne(n)+r:oe}function Ct(t,e,n,r,i,o,s,a){const c=C(),u=me(),l=t+le,d=u.firstCreatePass?function WW(t,e,n,r,i,o,s,a,c){const u=e.consts,l=nc(e,t,4,s||null,Eo(u,a));w0(e,n,l,Eo(u,c)),Bh(e,l);const d=l.tView=E0(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,o,s):u.data[l];ti(d,!1);const f=eD(u,c,d,t);Uh()&&cp(u,c,f,d),pn(f,c),Ap(c,c[l]=CS(f,c,f,d)),Fh(d)&&v0(u,c,d),null!=s&&I0(c,d,a)}let eD=function tD(t,e,n,r){return wo(!0),e[re].createComment("")};function k0(t){return xa(function xj(){return J.lFrame.contextLView}(),le+t)}function Y(t,e,n){const r=C();return mn(r,ka(),e)&&rr(me(),it(),r,t,e,r[re],n,!1),Y}function O0(t,e,n,r,i){const s=i?"class":"style";A0(t,n,e.inputs[s],s,r)}function M(t,e,n,r){const i=C(),o=me(),s=le+t,a=i[re],c=o.firstCreatePass?function XW(t,e,n,r,i,o){const s=e.consts,c=nc(e,t,2,r,Eo(s,i));return w0(e,n,c,Eo(s,o)),null!==c.attrs&&Sp(c,c.attrs,!1),null!==c.mergedAttrs&&Sp(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,n,r):o.data[s],u=nD(o,i,c,a,e,t);i[s]=u;const l=Fh(c);return ti(c,!0),pA(a,u,c),32!=(32&c.flags)&&Uh()&&cp(o,i,u,c),0===function bj(){return J.lFrame.elementDepthCount}()&&pn(u,i),function Tj(){J.lFrame.elementDepthCount++}(),l&&(v0(o,i,c),y0(o,c,i)),null!==r&&I0(i,c),M}function R(){let t=nn();o_()?s_():(t=t.parent,ti(t,!1));const e=t;(function Sj(t){return J.skipHydrationRootTNode===t})(e)&&function Rj(){J.skipHydrationRootTNode=null}(),function Aj(){J.lFrame.elementDepthCount--}();const n=me();return n.firstCreatePass&&(Bh(n,t),Y2(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Gj(t){return 0!=(8&t.flags)}(e)&&O0(n,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Wj(t){return 0!=(16&t.flags)}(e)&&O0(n,e,C(),e.stylesWithoutHost,!1),R}function Ce(t,e,n,r){return M(t,e,n,r),R(),Ce}let nD=(t,e,n,r,i,o)=>(wo(!0),op(r,i,function mT(){return J.lFrame.currentNamespace}()));function Op(t,e,n){const r=C(),i=me(),o=t+le,s=i.firstCreatePass?function eK(t,e,n,r,i){const o=e.consts,s=Eo(o,r),a=nc(e,t,8,"ng-container",s);return null!==s&&Sp(a,s,!0),w0(e,n,a,Eo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];ti(s,!0);const a=iD(i,r,s,t);return r[o]=a,Uh()&&cp(i,r,a,s),pn(a,r),Fh(s)&&(v0(i,r,s),y0(i,s,r)),null!=n&&I0(r,s),Op}function Vp(){let t=nn();const e=me();return o_()?s_():(t=t.parent,ti(t,!1)),e.firstCreatePass&&(Bh(e,t),Y2(t)&&e.queries.elementEnd(t)),Vp}let iD=(t,e,n,r)=>(wo(!0),R_(e[re],""));function Es(){return C()}function Vl(t){return!!t&&"function"==typeof t.then}function oD(t){return!!t&&"function"==typeof t.subscribe}function Ze(t,e,n,r){const i=C(),o=me(),s=nn();return function aD(t,e,n,r,i,o,s){const a=Fh(r),u=t.firstCreatePass&&function AS(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Et],d=function TS(t){return t[Aa]||(t[Aa]=[])}(e);let f=!0;if(3&r.type||s){const g=jn(r,e),_=s?s(g):g,I=d.length,y=s?P=>s(ze(P[r.index])):r.index;let w=null;if(!s&&a&&(w=function rK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Aa],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,f=!1;else{o=uD(r,e,l,o,!1);const P=n.listen(_,i,o);d.push(o,P),u&&u.push(i,y,I,I+1)}}else o=uD(r,e,l,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const N=e[p[_]][p[_+1]].subscribe(o),K=d.length;d.push(o,N),u&&u.push(i,r.index,K,-(K+1))}}}(o,i,i[re],s,t,e,r),Ze}function cD(t,e,n,r){try{return ei(6,e,n),!1!==n(r)}catch(i){return DS(t,i),!1}finally{ei(7,e,n)}}function uD(t,e,n,r,i){return function o(s){if(s===Function)return r;Sl(t.componentOffset>-1?er(t.index,e):e);let c=cD(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=cD(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function st(t=1){return function Fj(t){return(J.lFrame.contextLView=function Lj(t,e){for(;t>0;)e=e[Da],t--;return e}(t,J.lFrame.contextLView))[Et]}(t)}function iK(t,e){let n=null;const r=function UB(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?b8(t,o,!0):$B(r,o))return i}else n=i}return n}function Fl(t,e,n){return V0(t,"",e,"",n),Fl}function V0(t,e,n,r,i){const o=C(),s=ic(o,e,n,r);return s!==oe&&rr(me(),it(),o,t,s,o[re],i,!1),V0}function Fp(t,e){return t<<17|e<<2}function bo(t){return t>>17&32767}function F0(t){return 2|t}function ws(t){return(131068&t)>>2}function L0(t,e){return-131069&t|e<<2}function z0(t){return 1|t}function ID(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?bo(o):ws(o),c=!1;for(;0!==a&&(!1===c||s);){const l=t[a+1];lK(t[a],e)&&(c=!0,t[a+1]=r?z0(l):F0(l)),a=r?bo(l):ws(l)}c&&(t[n+1]=r?F0(o):z0(o))}function lK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ba(t,e)>=0}function Ll(t,e){return function Vr(t,e,n,r){const i=C(),o=me(),s=function Ni(t){const e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function MD(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Pn()],s=function DD(t,e){return e>=t.expandoStartIndex}(t,n);(function ND(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function vK(t,e,n,r){const i=function c_(t){const e=J.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=zl(n=H0(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=H0(i,t,e,n,r),null===o){let c=function IK(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ws(r))return t[bo(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=H0(null,t,e,c[1],r),c=zl(c,e.attrs,r),function EK(t,e,n,r){t[bo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else o=function wK(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=zl(r,t[o].hostAttrs,n);return zl(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function cK(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=bo(s),c=ws(s);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||Ba(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const f=bo(t[a+1]);t[r+1]=Fp(f,a),0!==f&&(t[f+1]=L0(t[f+1],r)),t[a+1]=function sK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Fp(a,0),0!==a&&(t[a+1]=L0(t[a+1],r)),a=r;else t[r+1]=Fp(c,0),0===a?a=r:t[c+1]=L0(t[c+1],r),c=r;u&&(t[r+1]=F0(t[r+1])),ID(t,l,r,!0),ID(t,l,r,!1),function uK(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Ba(o,e)>=0&&(n[r+1]=z0(n[r+1]))}(e,l,t,r,o),s=Fp(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==oe&&mn(i,s,e)&&function RD(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function aK(t){return 1==(1&t)}(u)?xD(c,e,n,i,ws(u),s):void 0;Lp(l)||(Lp(o)||function oK(t){return 2==(2&t)}(u)&&(o=xD(c,null,n,i,a,s)),function iq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Co.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Co.Important),t.setStyle(n,r,i,o))}}(r,s,Hh(Pn(),n),i,o))}(o,o.data[Pn()],i,i[re],t,i[s+1]=function AK(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ot(nr(t)))),t}(e,n),r,s)}(t,e,null,!0),Ll}function H0(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=zl(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function zl(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),tr(t,s,!!n||e[++o]))}return void 0===t?null:t}function xD(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let f=n[i+1];f===oe&&(f=d?Ee:void 0);let h=d?I_(f,r):l===r?f:void 0;if(u&&!Lp(h)&&(h=I_(c,r)),Lp(h)&&(a=h,s))return a;const p=t[i+1];i=s?bo(p):ws(p)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=I_(c,r))}return a}function Lp(t){return void 0!==t}function j(t,e=""){const n=C(),r=me(),i=t+le,o=r.firstCreatePass?nc(r,i,1,e,null):r.data[i],s=kD(r,n,o,e,t);n[i]=s,Uh()&&cp(r,n,s,o),ti(o,!1)}let kD=(t,e,n,r,i)=>(wo(!0),function ip(t,e){return t.createText(e)}(e[re],r));function He(t){return Cs("",t,""),He}function Cs(t,e,n){const r=C(),i=ic(r,t,e,n);return i!==oe&&function Li(t,e,n){const r=Hh(e,t);!function tA(t,e,n){t.setValue(e,n)}(t[re],r,n)}(r,Pn(),i),Cs}function U0(t,e,n){const r=C();return mn(r,ka(),e)&&rr(me(),it(),r,t,e,r[re],n,!0),U0}const bs=void 0;var KK=["en",[["a","p"],["AM","PM"],bs],[["AM","PM"],bs,bs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bs,"{1} 'at' {0}",bs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function WK(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let hc={};function xn(t){const e=function QK(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=e5(e);if(n)return n;const r=e.split("-")[0];if(n=e5(r),n)return n;if("en"===r)return KK;throw new S(701,!1)}function e5(t){return t in hc||(hc[t]=Le.ng&&Le.ng.common&&Le.ng.common.locales&&Le.ng.common.locales[t]),hc[t]}var Ue=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ue||{});const pc="en-US";let t5=pc;function $0(t,e,n,r,i){if(t=Z(t),Array.isArray(t))for(let o=0;o<t.length;o++)$0(t[o],e,n,r,i);else{const o=me(),s=C(),a=nn();let c=vs(t)?t:Z(t.provide);const u=OA(t),l=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(vs(t)||!t.multi){const h=new ll(u,i,b),p=G0(c,e,i?l:l+f,d);-1===p?(__(Gh(a,s),o,c),q0(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{const h=G0(c,e,l+f,d),p=G0(c,e,l,l+f),_=p>=0&&n[p];if(i&&!_||!i&&!(h>=0&&n[h])){__(Gh(a,s),o,c);const I=function WQ(t,e,n,r,i){const o=new ll(t,n,b);return o.multi=[],o.index=e,o.componentProviders=0,A5(o,i,r&&!n),o}(i?GQ:qQ,n.length,i,r,u);!i&&_&&(n[p].providerFactory=I),q0(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)}else q0(o,t,h>-1?h:p,A5(n[i?p:h],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function q0(t,e,n,r){const i=vs(e),o=function Fq(t){return!!t.useClass}(e);if(i||o){const c=(o?Z(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function A5(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function G0(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function qQ(t,e,n,r){return W0(this.multi,[])}function GQ(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ms(n,n[L],this.providerFactory.index,r);o=a.slice(0,s),W0(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],W0(i,o);return o}function W0(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function et(t,e=[]){return n=>{n.providersResolver=(r,i)=>function $Q(t,e,n){const r=me();if(r.firstCreatePass){const i=Rr(t);$0(n,r.data,r.blueprint,i,!0),$0(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ts{}class S5{}class K0 extends Ts{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new OS(this);const i=Zn(e);this._bootstrapComponents=Fi(i.bootstrap),this._r3Injector=QA(e,n,[{provide:Ts,useValue:this},{provide:Al,useValue:this.componentFactoryResolver},...r],Ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Q0 extends S5{constructor(e){super(),this.moduleType=e}create(e){return new K0(this.moduleType,e,[])}}class D5 extends Ts{constructor(e){super(),this.componentFactoryResolver=new OS(this),this.instance=null;const n=new Ka([...e.providers,{provide:Ts,useValue:this},{provide:Al,useValue:this.componentFactoryResolver}],e.parent||mp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function M5(t,e,n=null){return new D5({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let YQ=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=RA(0,r.type),o=i.length>0?M5([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(W(kr))}),e})();function P5(t){t.getStandaloneInjector=e=>e.get(YQ).getOrCreateStandaloneInjector(t)}function gc(t,e,n){const r=Mn()+t,i=C();return i[r]===oe?si(i,r,n?e.call(n):e()):function xl(t,e){return t[e]}(i,r)}function Gn(t,e,n,r){return L5(C(),Mn(),t,e,n,r)}function F5(t,e,n,r,i){return function z5(t,e,n,r,i,o,s){const a=e+n;return Is(t,a,i,o)?si(t,a+2,s?r.call(s,i,o):r(i,o)):ql(t,a+2)}(C(),Mn(),t,e,n,r,i)}function ql(t,e){const n=t[e];return n===oe?void 0:n}function L5(t,e,n,r,i,o){const s=e+n;return mn(t,s,i)?si(t,s+1,o?r.call(o,i):r(i)):ql(t,s+1)}function H5(t,e,n,r,i,o,s,a){const c=e+n;return function Rp(t,e,n,r,i){const o=Is(t,e,n,r);return mn(t,e+2,i)||o}(t,c,i,o,s)?si(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):ql(t,c+3)}function ke(t,e){const n=me();let r;const i=t+le;n.firstCreatePass?(r=function fY(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ps(r.type)),a=Un(b);try{const c=qh(!1),u=o();return qh(c),function YW(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,C(),i,u),u}finally{Un(a)}}function bt(t,e,n){const r=t+le,i=C(),o=xa(i,r);return Gl(i,r)?L5(i,Mn(),e,o.transform,n,o):o.transform(n)}function To(t,e,n,r,i){const o=t+le,s=C(),a=xa(s,o);return Gl(s,o)?H5(s,Mn(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function Gl(t,e){return t[L].data[e].pure}function yY(t,e,n,r=!0){const i=e[L];if(function Y$(t,e,n,r){const i=en+r,o=n.length;r>0&&(n[i-1][Pr]=e),r<o-en?(e[Pr]=n[i],RT(n,en+r,e)):(n.push(e),e[Pr]=null),e[Je]=n;const s=e[rl];null!==s&&n!==s&&function X$(t,e){const n=t[Pa];e[wt]!==e[Je][Je][wt]&&(t[R8]=!0),null===n?t[Pa]=[e]:n.push(e)}(s,e);const a=e[Jr];null!==a&&a.insertView(t),e[se]|=128}(i,e,t,n),r){const o=V_(n,t),s=e[re],a=ap(s,t[Zr]);null!==a&&function W$(t,e,n,r,i,o){r[dt]=i,r[hn]=e,Il(t,r,n,1,i,o)}(i,t[hn],s,e,a,o)}}let zi=(()=>{class e{}return e.__NG_ELEMENT_ID__=EY,e})();const vY=zi,IY=class extends vY{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function _Y(t,e,n,r){const i=e.tView,a=Tp(t,i,n,4096&t[se]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[rl]=t[e.index];const u=t[Jr];return null!==u&&(a[Jr]=u.createEmbeddedView(i)),S0(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Pl(i)}};function EY(){return function jp(t,e){return 4&t.type?new IY(e,t,Ja(t,e)):null}(nn(),C())}let Lr=(()=>{class e{}return e.__NG_ELEMENT_ID__=SY,e})();function SY(){return function Q5(t,e){let n;const r=e[t.index];return Sn(r)?n=r:(n=CS(r,e,null,t),e[t.index]=n,Ap(e,n)),Y5(n,e,t,r),new W5(n,t,e)}(nn(),C())}const DY=Lr,W5=class extends DY{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ja(this._hostTNode,this._hostLView)}get injector(){return new Rn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Wh(this._hostTNode,this._hostLView);if(p_(e)){const n=fl(e,this._hostLView),r=dl(e);return new Rn(n[L].data[r+8],n)}return new Rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=K5(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-en}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function pl(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const c=s?e:new Rl(ge(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const _=(s?u:this.parentInjector).get(kr,null);_&&(o=_)}ge(c.componentType??{});const h=c.create(u,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Ej(t){return Sn(t[Je])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[Je],l=new W5(u,u[hn],u[Je]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return yY(a,i,s,!r),e.attachToViewContainerRef(),RT(J0(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=K5(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=sp(this._lContainer,n);r&&(Yh(J0(this._lContainer),n),x_(r[L],r))}detach(e){const n=this._adjustIndex(e,-1),r=sp(this._lContainer,n);return r&&null!=Yh(J0(this._lContainer),n)?new Pl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function K5(t){return t[8]}function J0(t){return t[8]||(t[8]=[])}let Y5=function X5(t,e,n,r){if(t[Zr])return;let i;i=8&n.type?ze(r):function MY(t,e){const n=t[re],r=n.createComment(""),i=jn(e,t);return _s(n,ap(n,i),r,function tq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Zr]=i};const w7=new z("Application Initializer");let uy=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=T(w7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(Vl(s))r.push(s);else if(oD(s)){const a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),C7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Hi=new z("LocaleId",{providedIn:"root",factory:()=>T(Hi,he.Optional|he.SkipSelf)||function sX(){return typeof $localize<"u"&&$localize.locale||pc}()});let b7=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gr(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class uX{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let lX=(()=>{var t;class e{compileModuleSync(r){return new Q0(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Fi(Zn(r).declarations).reduce((a,c)=>{const u=ge(c);return u&&a.push(new Rl(u)),a},[]);return new uX(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const D7=new z(""),Wp=new z("");let py,fy=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,py||(function xX(t){py=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ve),W(hy),W(Wp))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})(),hy=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return py?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Ao=null;const M7=new z("AllowMultipleToken"),gy=new z("PlatformDestroyListeners"),P7=new z("appBootstrapListener");function N7(t,e,n=[]){const r=`Platform: ${e}`,i=new z(r);return(o=[])=>{let s=my();if(!s||s.injector.get(M7,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function OX(t){if(Ao&&!Ao.get(M7,!1))throw new S(400,!1);(function R7(){!function sj(t){j8=t}(()=>{throw new S(600,!1)})})(),Ao=t;const e=t.get(O7);(function x7(t){t.get(VA,null)?.forEach(n=>n())})(t)}(function k7(t=[],e){return Ft.create({name:e,providers:[{provide:K_,useValue:"platform"},{provide:gy,useValue:new Set([()=>Ao=null])},...t]})}(a,r))}return function FX(t){const e=my();if(!e)throw new S(401,!1);return e}()}}function my(){return Ao?.get(O7)??null}let O7=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function LX(t="zone.js",e){return"noop"===t?new yG:"zone.js"===t?new ve(e):t}(i?.ngZone,function V7(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const s=function QQ(t,e,n){return new K0(t,e,n)}(r.moduleType,this.injector,function U7(t){return[{provide:ve,useFactory:t},{provide:Cl,multi:!0,useFactory:()=>{const e=T(HX,{optional:!0});return()=>e.initialize()}},{provide:H7,useFactory:zX},{provide:eS,useFactory:tS}]}(()=>o)),a=s.injector.get(Vi,null);return o.runOutsideAngular(()=>{const c=o.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{Kp(this._modules,s),c.unsubscribe()})}),function F7(t,e,n){try{const r=n();return Vl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const c=s.injector.get(uy);return c.runInitializers(),c.donePromise.then(()=>(function n5(t){mr(t,"Expected localeId to be defined"),"string"==typeof t&&(t5=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Hi,pc)||pc),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=L7({},i);return function NX(t,e,n){const r=new Q0(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(Ql);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new S(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(gy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Ft))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function L7(t,e){return Array.isArray(e)?e.reduce(L7,t):{...t,...e}}let Ql=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=T(H7),this.zoneIsStable=T(eS),this.componentTypes=[],this.components=[],this.isStable=T(b7).hasPendingTasks.pipe(Sr(r=>r?ee(!1):this.zoneIsStable),a8(),s8()),this._injector=T(kr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof UA;if(!this._injector.get(uy).done)throw!o&&function Ta(t){const e=ge(t)||Zt(t)||An(t);return null!==e&&e.standalone}(r),new S(405,!1);let a;a=o?r:this._injector.get(Al).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function kX(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ts),l=a.create(Ft.NULL,[],i||a.selector,c),d=l.location.nativeElement,f=l.injector.get(D7,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Kp(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Kp(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(P7,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Kp(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new S(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Kp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const H7=new z("",{providedIn:"root",factory:()=>T(Vi).handleError.bind(void 0)});function zX(){const t=T(ve),e=T(Vi);return n=>t.runOutsideAngular(()=>e.handleError(n))}let HX=(()=>{var t;class e{constructor(){this.zone=T(ve),this.applicationRef=T(Ql)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Ui=(()=>{class e{}return e.__NG_ELEMENT_ID__=jX,e})();function jX(t){return function $X(t,e,n){if(hs(t)&&!n){const r=er(t.index,e);return new Pl(r,r)}return 47&t.type?new Pl(e[wt],e):null}(nn(),C(),16==(16&t))}class q7{constructor(){}supports(e){return Pp(e)}create(e){return new YX(e)}}const QX=(t,e)=>e;class YX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||QX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<W7(r,i,o)?n:r,a=W7(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let f=0;f<u;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;l<=p&&p<u&&(o[f]=h+1)}o[s.previousIndex]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Pp(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function MW(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new XX(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new G7),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new G7),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class XX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class JX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class G7{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new JX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function W7(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class K7{constructor(){}supports(e){return e instanceof Map||D0(e)}create(){return new ZX}}class ZX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||D0(e)))throw new S(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new eJ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class eJ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Q7(){return new Xp([new q7])}let Xp=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Q7()),deps:[[e,new w_,new jt]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=B({token:t,providedIn:"root",factory:Q7}),e})();function Y7(){return new Yl([new K7])}let Yl=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Y7()),deps:[[e,new w_,new jt]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(i)return i;throw new S(901,!1)}}return(t=e).\u0275prov=B({token:t,providedIn:"root",factory:Y7}),e})();const rJ=N7(null,"core",[]);let iJ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Ql))},t.\u0275mod=Xe({type:t}),t.\u0275inj=Ge({}),e})();let wy=null;function So(){return wy}class _J{}const ir=new z("DocumentToken");let oM=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return T(yJ)},providedIn:"platform"}),e})(),yJ=(()=>{var t;class e extends oM{constructor(){super(),this._doc=T(ir),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return So().getBaseHref(this._doc)}onPopState(r){const i=So().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=So().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function sM(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function aM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ss(t){return t&&"?"!==t[0]?"?"+t:t}let Zp=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return T(IJ)},providedIn:"root"}),e})();const vJ=new z("appBaseHref");let IJ=(()=>{var t;class e extends Zp{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??T(ir).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return sM(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Ss(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Ss(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Ss(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(oM),W(vJ,8))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Cy=(()=>{var t;class e{constructor(r){this._subject=new ot,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function CJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(aM(cM(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ss(i))}normalize(r){return e.stripTrailingSlash(function wJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,cM(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ss(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ss(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Ss,t.joinWithSlash=sM,t.stripTrailingSlash=aM,t.\u0275fac=function(r){return new(r||t)(W(Zp))},t.\u0275prov=B({token:t,factory:function(){return function EJ(){return new Cy(W(Zp))}()},providedIn:"root"}),e})();function cM(t){return t.replace(/\/index.html$/,"")}var eg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(eg||{}),Tt=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Tt||{});function Er(t,e){const n=xn(t),r=n[Ue.NumberSymbols][e];if(typeof r>"u"){if(e===Tt.CurrencyDecimal)return n[Ue.NumberSymbols][Tt.Decimal];if(e===Tt.CurrencyGroup)return n[Ue.NumberSymbols][Tt.Group]}return r}const YJ=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ry(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const Ny=/\s+/,_M=[];let ky=(()=>{var t;class e{constructor(r,i,o,s){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=_M,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(Ny):_M}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(Ny):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const o=this.stateMap.get(r);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(Ny).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(b(Xp),b(Yl),b(gn),b(ii))},t.\u0275dir=Q({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class uZ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lg=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new uZ(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),vM(c,o)}});for(let o=0,s=i.length;o<s;o++){const c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{vM(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(b(Lr),b(zi),b(Xp))},t.\u0275dir=Q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function vM(t,e){t.context.$implicit=e.item}let Do=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new lZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){IM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){IM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(b(Lr),b(zi))},t.\u0275dir=Q({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class lZ{constructor(){this.$implicit=null,this.ngIf=null}}function IM(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ot(e)}'.`)}function Hr(t,e){return new S(2100,!1)}class hZ{createSubscription(e,n){return G8(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){G8(()=>e.unsubscribe())}}class pZ{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const gZ=new pZ,mZ=new hZ;let Ic=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Vl(r))return gZ;if(oD(r))return mZ;throw Hr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(b(Ui,16))},t.\u0275pipe=Bt({name:"async",type:t,pure:!1,standalone:!0}),e})(),wM=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=CM}transform(r,i=CM){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const o=this.differ.diff(r),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(function MZ(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(b(Yl,16))},t.\u0275pipe=Bt({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function CM(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let Ec=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,o){if(!function Fy(t){return!(null==t||""===t||t!=t)}(r))return null;o=o||this._locale;try{return function nZ(t,e,n){return function My(t,e,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(t)){let u=function iZ(t){let r,i,o,s,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);s&&(u=function rZ(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,d=e.minFrac,f=e.maxFrac;if(o){const y=o.match(YJ);if(null===y)throw new Error(`${o} is not a valid digit info`);const w=y[1],P=y[3],N=y[5];null!=w&&(l=Ry(w)),null!=P&&(d=Ry(P)),null!=N?f=Ry(N):null!=P&&d>f&&(f=d)}!function oZ(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const u=e+t.integerLen,l=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=u?p.pop():c=!1),f>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(u,d,f);let h=u.digits,p=u.integerLen;const g=u.exponent;let _=[];for(c=h.every(y=>!y);p<l;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?_=h.splice(p,h.length):(_=h,h=[0]);const I=[];for(h.length>=e.lgSize&&I.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)I.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&I.unshift(h.join("")),a=I.join(Er(n,r)),_.length&&(a+=Er(n,i)+_.join("")),g&&(a+=Er(n,Tt.Exponential)+"+"+g)}else a=Er(n,Tt.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function Py(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const d=c.charAt(l);"0"===d?n.minFrac=n.maxFrac=l+1:"#"===d?n.maxFrac=l+1:n.posSuf+=d}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const l=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function by(t,e){return xn(t)[Ue.NumberFormats][e]}(e,eg.Decimal),Er(e,Tt.MinusSign)),e,Tt.Group,Tt.Decimal,n)}(function Ly(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),o,i)}catch(s){throw Hr()}}}return(t=e).\u0275fac=function(r){return new(r||t)(b(Hi,16))},t.\u0275pipe=Bt({name:"number",type:t,pure:!0,standalone:!0}),e})();let xZ=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t}),t.\u0275inj=Ge({}),e})();const NZ="server";function zy(t){return t===NZ}class see extends _J{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class By extends see{static makeCurrent(){!function mJ(t){wy||(wy=t)}(new By)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function aee(){return ed=ed||document.querySelector("base"),ed?ed.getAttribute("href"):null}();return null==n?null:function cee(t){hg=hg||document.createElement("a"),hg.setAttribute("href",t);const e=hg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ed=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function aZ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let hg,ed=null,lee=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();const jy=new z("EventManagerPlugins");let MM=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(W(jy),W(ve))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();class PM{constructor(e){this._doc=e}}const $y="ng-app-id";let RM=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zy(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${$y}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute($y),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute($y,this.appId),a}}addStyleToHost(r,i){const o=this.getStyleElement(r,i);r.appendChild(o);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ir),W(_p),W(FA,8),W(Oi))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();const qy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gy=/%COMP%/g,pee=new z("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function NM(t,e){return e.map(n=>n.replace(Gy,t))}let kM=(()=>{var t;class e{constructor(r,i,o,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=zy(c),this.defaultRenderer=new Wy(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dr.ShadowDom&&(i={...i,encapsulation:Dr.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof VM?o.applyToHost(r):o instanceof Ky&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Dr.Emulated:s=new VM(u,l,i,this.appId,d,a,c,f);break;case Dr.ShadowDom:return new yee(u,l,r,i,a,c,this.nonce,f);default:s=new Ky(u,l,i,d,a,c,f)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(W(MM),W(RM),W(_p),W(pee),W(ir),W(Oi),W(ve),W(FA))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();class Wy{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(qy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(OM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(OM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=qy[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=qy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Co.DashCase|Co.Important)?e.style.setProperty(n,r,i&Co.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Co.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=So().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function OM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class yee extends Wy{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=NM(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ky extends Wy{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?NM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class VM extends Ky{constructor(e,n,r,i,o,s,a,c){const u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=function gee(t){return"_ngcontent-%COMP%".replace(Gy,t)}(u),this.hostAttr=function mee(t){return"_nghost-%COMP%".replace(Gy,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let vee=(()=>{var t;class e extends PM{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ir))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();const FM=["alt","control","meta","shift"],Iee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Eee={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let wee=(()=>{var t;class e extends PM{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>So().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),FM.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=Iee[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),FM.forEach(a=>{a!==o&&(0,Eee[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ir))},t.\u0275prov=B({token:t,factory:t.\u0275fac}),e})();const zM=[{provide:Oi,useValue:"browser"},{provide:VA,useValue:function Cee(){By.makeCurrent()},multi:!0},{provide:ir,useFactory:function Tee(){return function uq(t){z_=t}(document),document},deps:[]}],Aee=N7(rJ,"browser",zM),See=new z(""),HM=[{provide:Wp,useClass:class uee{addToWindow(e){Le.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new S(5103,!1);return o},Le.getAllAngularTestabilities=()=>e.getAllTestabilities(),Le.getAllAngularRootElements=()=>e.getAllRootElements(),Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(r=>{const i=Le.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?So().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:D7,useClass:fy,deps:[ve,hy,Wp]},{provide:fy,useClass:fy,deps:[ve,hy,Wp]}],UM=[{provide:K_,useValue:"root"},{provide:Vi,useFactory:function bee(){return new Vi},deps:[]},{provide:jy,useClass:vee,multi:!0,deps:[ir,ve,Oi]},{provide:jy,useClass:wee,multi:!0,deps:[ir]},kM,RM,MM,{provide:jA,useExisting:kM},{provide:class FZ{},useClass:lee,deps:[]},[]];let Ur=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:_p,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(W(See,12))},t.\u0275mod=Xe({type:t}),t.\u0275inj=Ge({providers:[...UM,...HM],imports:[xZ,iJ]}),e})(),Qy=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ir))},t.\u0275prov=B({token:t,factory:function(r){let i=null;return i=r?new r:function Mee(){return new Qy(W(ir))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let $M=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(r){let i=null;return i=r?new(r||t):W(qM),i},providedIn:"root"}),e})(),qM=(()=>{var t;class e extends $M{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case vr.NONE:return i;case vr.HTML:return ri(i,"HTML")?nr(i):bA(this._doc,String(i)).toString();case vr.STYLE:return ri(i,"Style")?nr(i):i;case vr.SCRIPT:if(ri(i,"Script"))return nr(i);throw new S(5200,!1);case vr.URL:return ri(i,"URL")?nr(i):fp(String(i));case vr.RESOURCE_URL:if(ri(i,"ResourceURL"))return nr(i);throw new S(5201,!1);default:throw new S(5202,!1)}}bypassSecurityTrustHtml(r){return function mq(t){return new lq(t)}(r)}bypassSecurityTrustStyle(r){return function _q(t){return new dq(t)}(r)}bypassSecurityTrustScript(r){return function yq(t){return new fq(t)}(r)}bypassSecurityTrustUrl(r){return function vq(t){return new hq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function Iq(t){return new pq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(ir))},t.\u0275prov=B({token:t,factory:function(r){let i=null;return i=r?new r:function Nee(t){return new qM(t.get(ir))}(W(Ft)),i},providedIn:"root"}),e})();function td(t){return(td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ae(t,e,n){return(e=function Oee(t){var e=function kee(t,e){if("object"!==td(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==td(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===td(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WM(t,e,n,r,i,o,s){try{var a=t[o](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(c){WM(o,r,i,s,a,"next",c)}function a(c){WM(o,r,i,s,a,"throw",c)}s(void 0)})}}const KM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Jy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0;let f=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new zee;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pg=function(t){return function(t){const e=KM(t);return Jy.encodeByteArray(e,!0)}(t).replace(/\./g,"")},gg=function(t){try{return Jy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mg=()=>{try{return YM().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},XM=t=>{var e,n;return null===(n=null===(e=mg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},JM=()=>{var t;return null===(t=mg())||void 0===t?void 0:t.config},ZM=t=>{var e;return null===(e=mg())||void 0===e?void 0:e[`_${t}`]};class wc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function $t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Zy(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function nd(){try{return"object"==typeof indexedDB}catch{return!1}}function ev(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function eP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Jee(t,e){return t.replace(Zee,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Br(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Zee=/\{\$([^}]+)}/g;function rd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(nP(o)&&nP(s)){if(!rd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nP(t){return null!==t&&"object"==typeof t}function id(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function od(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function sd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class nte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function rte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=tv),void 0===i.error&&(i.error=tv),void 0===i.complete&&(i.complete=tv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tv(){}const ite=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},ote=1e3,ste=2,ate=144e5,cte=.5;function rv(t,e=ote,n=ste){const r=e*Math.pow(n,t),i=Math.round(cte*r*(Math.random()-.5)*2);return Math.min(ate,r+i)}function ht(t){return t&&t._delegate?t._delegate:t}class sr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ds="[DEFAULT]";class lte{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function fte(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ds?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class hte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lte(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const iv=[];var pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pe||{});const rP={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},pte=pe.INFO,gte={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},mte=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=gte[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ad{constructor(e){this.name=e,this._logLevel=pte,this._logHandler=mte,this._userLogHandler=null,iv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?rP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const _te=(t,e)=>e.some(n=>t instanceof n);let iP,oP;const sP=new WeakMap,ov=new WeakMap,aP=new WeakMap,sv=new WeakMap,av=new WeakMap;let cv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ov.get(t);if("objectStoreNames"===e)return t.objectStoreNames||aP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ro(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function bte(t){return"function"==typeof t?function Cte(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function vte(){return oP||(oP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(uv(this),e),Ro(sP.get(this))}:function(...e){return Ro(t.apply(uv(this),e))}:function(e,...n){const r=t.call(uv(this),e,...n);return aP.set(r,e.sort?e.sort():[e]),Ro(r)}}(t):(t instanceof IDBTransaction&&function Ete(t){if(ov.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ov.set(t,e)}(t),_te(t,function yte(){return iP||(iP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,cv):t)}function Ro(t){if(t instanceof IDBRequest)return function Ite(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ro(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sP.set(n,t)}).catch(()=>{}),av.set(e,t),e}(t);if(sv.has(t))return sv.get(t);const e=bte(t);return e!==t&&(sv.set(t,e),av.set(e,t)),e}const uv=t=>av.get(t),Ate=["get","getKey","getAll","getAllKeys","count"],Ste=["put","add","delete","clear"],lv=new Map;function cP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(lv.get(e))return lv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ste.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ate.includes(n))return;const o=function(){var s=m(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return lv.set(e,o),o}!function wte(t){cv=t(cv)}(t=>({...t,get:(e,n,r)=>cP(e,n)||t.get(e,n,r),has:(e,n)=>!!cP(e,n)||t.has(e,n)}));class Dte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Mte(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const dv="@firebase/app",Ms=new ad("@firebase/app"),yg="[DEFAULT]",tne={[dv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ps=new Map,vg=new Map;function nne(t,e){try{t.container.addComponent(e)}catch(n){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){const e=t.name;if(vg.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,t);for(const n of Ps.values())nne(n,t);return!0}function ui(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const $i=new Po("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ine{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}const Cc="10.5.2";function lP(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:yg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw $i.create("bad-app-name",{appName:String(i)});if(n||(n=JM()),!n)throw $i.create("no-options");const o=Ps.get(i);if(o){if(rd(n,o.options)&&rd(r,o.config))return o;throw $i.create("duplicate-app",{appName:i})}const s=new hte(i);for(const c of vg.values())s.addComponent(c);const a=new ine(n,r,s);return Ps.set(i,a),a}function bc(t=yg){const e=Ps.get(t);if(!e&&t===yg&&JM())return lP();if(!e)throw $i.create("no-app",{appName:t});return e}function dP(){return Array.from(Ps.values())}function pt(t,e,n){var r;let i=null!==(r=tne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ms.warn(a.join(" "))}Cr(new sr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const one="firebase-heartbeat-database",sne=1,cd="firebase-heartbeat-store";let hv=null;function fP(){return hv||(hv=function Tte(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ro(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ro(s.result),c.oldVersion,c.newVersion,Ro(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(one,sne,{upgrade:(t,e)=>{0===e&&t.createObjectStore(cd)}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),hv}function pv(){return(pv=m(function*(t){try{return yield(yield fP()).transaction(cd).objectStore(cd).get(pP(t))}catch(e){if(e instanceof Br)Ms.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e?.message});Ms.warn(n.message)}}})).apply(this,arguments)}function hP(t,e){return gv.apply(this,arguments)}function gv(){return(gv=m(function*(t,e){try{const r=(yield fP()).transaction(cd,"readwrite");yield r.objectStore(cd).put(e,pP(t)),yield r.done}catch(n){if(n instanceof Br)Ms.warn(n.message);else{const r=$i.create("idb-set",{originalErrorMessage:n?.message});Ms.warn(r.message)}}})).apply(this,arguments)}function pP(t){return`${t.name}!${t.options.appId}`}class lne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=gP(),{heartbeatsToSend:r,unsentEntries:i}=function dne(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),mP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=pg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function gP(){return(new Date).toISOString().substring(0,10)}class fne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!nd()&&ev().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ane(t){return pv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return hP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return hP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function mP(t){return pg(JSON.stringify({version:2,heartbeats:t})).length}!function hne(t){Cr(new sr("platform-logger",e=>new Dte(e),"PRIVATE")),Cr(new sr("heartbeat",e=>new lne(e),"PRIVATE")),pt(dv,"0.9.22",t),pt(dv,"0.9.22","esm2017"),pt("fire-js","")}(""),pt("firebase","10.5.2","app");class mne extends zn{constructor(e,n){super()}schedule(e,n=0){return this}}const Ig={setInterval(t,e,...n){const{delegate:r}=Ig;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Ig;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class _P extends mne{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ig.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Ig.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ca(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const yP={now:()=>(yP.delegate||Date).now(),delegate:void 0};class ud{constructor(e,n=ud.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ud.now=yP.now;class vP extends ud{constructor(e,n=ud.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const vne=new class yne extends vP{}(class _ne extends _P{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Ine=new vP(_P);function on(t,e,n){const r=Ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?It((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(lt(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):go}const xo=new Za("ANGULARFIRE2_VERSION");function Eg(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const wg=(t,e)=>{const n=e?[e]:dP(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class mv{constructor(){return wg(IP)}}const IP="app-check";function Tc(){}class EP{constructor(e,n=vne){Ae(this,"zone",void 0),Ae(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class wne{constructor(e){Ae(this,"zone",void 0),Ae(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tc,{},Tc,Tc)),n.pipe(on({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ld=(()=>{var t;class e{constructor(r){Ae(this,"ngZone",void 0),Ae(this,"outsideAngular",void 0),Ae(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new EP(Zone.current)),this.insideAngular=r.run(()=>new EP(Zone.current,Ine)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,Ae(e,"\u0275fac",function(r){return new(r||t)(W(ve))}),Ae(e,"\u0275prov",B({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Ac(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Rs(t){return Ac().ngZone.run(()=>t())}function bne(t){return function Tne(t){return function(n){return(n=n.lift(new wne(t.ngZone))).pipe(Th(t.outsideAngular),bh(t.insideAngular))}}(Ac())(t)}const Ane=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Rs(()=>t.apply(void 0,r))},gt=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||=Rs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tc,{},Tc,Tc))),r[o]=Ane(r[o],n));const i=function Cne(t){return Ac().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof we){const o=Ac();return i.pipe(Th(o.outsideAngular),bh(o.insideAngular))}return Rs(()=>i)}return i instanceof we?i.pipe(bne):i instanceof Promise?Rs(()=>new Promise((o,s)=>i.then(a=>Rs(()=>o(a)),a=>Rs(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Rs(()=>i)};class xs{constructor(e){return e}}class dd{constructor(){return dP()}}const _v=new z("angularfire2._apps"),Dne={provide:xs,useFactory:function Sne(t){return t&&1===t.length?t[0]:new xs(bc())},deps:[[new jt,_v]]},Mne={provide:dd,deps:[[new jt,_v]]};function Pne(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new xs(r)}}let Rne=(()=>{var t;class e{constructor(r){pt("angularfire",xo.full,"core"),pt("angularfire",xo.full,"app"),pt("angular",$A.full,r.toString())}}return t=e,Ae(e,"\u0275fac",function(r){return new(r||t)(W(Oi))}),Ae(e,"\u0275mod",Xe({type:t})),Ae(e,"\u0275inj",Ge({providers:[Dne,Mne]})),e})();function Ns(t,...e){return{ngModule:Rne,providers:[{provide:_v,useFactory:Pne(t),multi:!0,deps:[ve,Ft,ld,...e]}]}}const ks=gt(bc,!0),Os=gt(lP,!0);const xne=function wP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},CP=new Po("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cg=new ad("@firebase/auth");function bg(t,...e){Cg.logLevel<=pe.ERROR&&Cg.error(`Auth (${Cc}): ${t}`,...e)}function Kn(t,...e){throw yv(t,...e)}function ar(t,...e){return yv(t,...e)}function bP(t,e,n){const r=Object.assign(Object.assign({},xne()),{[e]:n});return new Po("auth","Firebase",r).create(e,{appName:t.name})}function yv(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CP.create(t,...e)}function x(t,e,...n){if(!t)throw yv(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bg(e),new Error(e)}function qi(t,e){t||li(e)}function fd(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function TP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class hd{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=function Wee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}()||function Qee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function kne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function vv(){return"http:"===TP()||"https:"===TP()}()||Zy()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Iv(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class AP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Fne=new hd(3e4,6e4);function tt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function at(t,e,n,r){return Ev.apply(this,arguments)}function Ev(){return(Ev=m(function*(t,e,n,r,i={}){return SP(t,i,m(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=id(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),AP.fetch()(DP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function SP(t,e,n){return wv.apply(this,arguments)}function wv(){return(wv=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vne),e);try{const i=new zne(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw pd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw pd(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw pd(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw pd(t,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bP(t,l,u);Kn(t,l)}}catch(i){if(i instanceof Br)throw i;Kn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Gi(t,e,n,r){return Cv.apply(this,arguments)}function Cv(){return(Cv=m(function*(t,e,n,r,i={}){const o=yield at(t,e,n,r,i);return"mfaPendingCredential"in o&&Kn(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function DP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Iv(t.config,i):`${t.config.apiScheme}://${i}`}function Lne(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ar(this.auth,"network-request-failed")),Fne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ar(t,e,r);return i.customData._tokenResponse=n,i}function PP(t){return void 0!==t&&void 0!==t.enterprise}class RP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lne(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function xP(t,e){return Tv.apply(this,arguments)}function Tv(){return(Tv=m(function*(t,e){return at(t,"GET","/v2/recaptchaConfig",tt(t,e))})).apply(this,arguments)}function Av(){return(Av=m(function*(t,e){return at(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Dv(){return(Dv=m(function*(t,e){return at(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function gd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Mv(){return(Mv=m(function*(t,e=!1){const n=ht(t),r=yield n.getIdToken(e),i=Tg(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:gd(Pv(i.auth_time)),issuedAtTime:gd(Pv(i.iat)),expirationTime:gd(Pv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Pv(t){return 1e3*Number(t)}function Tg(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return bg("JWT malformed, contained fewer than 3 sections"),null;try{const i=gg(n);return i?JSON.parse(i):(bg("Failed to decode base64 JWT payload"),null)}catch(i){return bg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Wi(t,e){return Rv.apply(this,arguments)}function Rv(){return(Rv=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Br&&function Gne({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Wne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class NP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gd(this.lastLoginAt),this.creationTime=gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function md(t){return xv.apply(this,arguments)}function xv(){return xv=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Wi(t,function jne(t,e){return Dv.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Yne(t){return t.map(e=>{var{providerId:n}=e,r=wh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Qne(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new NP(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),xv.apply(this,arguments)}function Nv(){return(Nv=m(function*(t){const e=ht(t);yield md(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function kv(){return(kv=m(function*(t,e){const n=yield SP(t,{},m(function*(){const r=id({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=DP(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AP.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class _d{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){x(e.idToken,"internal-error"),x(typeof e.idToken<"u","internal-error"),x(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function qne(t){const e=Tg(t);return x(e,"internal-error"),x(typeof e.exp<"u","internal-error"),x(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return x(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Xne(t,e){return kv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new _d;return r&&(x("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(x("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _d,this.toJSON())}_performRefresh(){return li("not implemented")}}function No(t,e){x("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Vs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=wh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new NP(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Wi(n,n.stsTokenManager.getToken(n.auth,e));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function $ne(t){return Mv.apply(this,arguments)}(this,e)}reload(){return function Kne(t){return Nv.apply(this,arguments)}(this)}_assign(e){this!==e&&(x(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield md(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Wi(e,function Une(t,e){return Av.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,I=null!==(u=n.createdAt)&&void 0!==u?u:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:w,emailVerified:P,isAnonymous:N,providerData:K,stsTokenManager:ue}=n;x(w&&ue,e,"internal-error");const ut=_d.fromJSON(this.name,ue);x("string"==typeof w,e,"internal-error"),No(d,e.name),No(f,e.name),x("boolean"==typeof P,e,"internal-error"),x("boolean"==typeof N,e,"internal-error"),No(h,e.name),No(p,e.name),No(g,e.name),No(_,e.name),No(I,e.name),No(y,e.name);const Xt=new Vs({uid:w,auth:e,email:f,emailVerified:P,displayName:d,isAnonymous:N,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:ut,createdAt:I,lastLoginAt:y});return K&&Array.isArray(K)&&(Xt.providerData=K.map(us=>Object.assign({},us))),_&&(Xt._redirectEventId=_),Xt}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new _d;i.updateFromServerResponse(n);const o=new Vs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield md(o),o})()}}const kP=new Map;function Ki(t){qi(t instanceof Function,"Expected a class definition");let e=kP.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kP.set(t,e),e)}const OP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Ag(t,e,n){return`firebase:${t}:${e}:${n}`}class Dc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ag(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ag("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Vs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Dc(Ki(OP),e,r);const i=(yield Promise.all(n.map(function(){var u=m(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||Ki(OP);const s=Ag(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=Vs._fromJSON(e,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=m(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Dc(o,e,r)):new Dc(o,e,r)})()}}function VP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UP(e))return"Blackberry";if(BP(e))return"Webos";if(Ov(e))return"Safari";if((e.includes("chrome/")||LP(e))&&!e.includes("edge/"))return"Chrome";if(HP(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function FP(t=$t()){return/firefox\//i.test(t)}function Ov(t=$t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LP(t=$t()){return/crios\//i.test(t)}function zP(t=$t()){return/iemobile/i.test(t)}function HP(t=$t()){return/android/i.test(t)}function UP(t=$t()){return/blackberry/i.test(t)}function BP(t=$t()){return/webos/i.test(t)}function Sg(t=$t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jP(t=$t()){return Sg(t)||HP(t)||BP(t)||UP(t)||/windows phone/i.test(t)||zP(t)}function $P(t,e=[]){let n;switch(t){case"Browser":n=VP($t());break;case"Worker":n=`${VP($t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cc}/${r}`}class tre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function Vv(){return(Vv=m(function*(t,e={}){return at(t,"GET","/v2/passwordPolicy",tt(t,e))})).apply(this,arguments)}class ire{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class ore{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qP(this),this.idTokenSubscription=new qP(this),this.beforeStateQueue=new tre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(m(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Dc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield md(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function One(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?ht(e):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&x(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(Ki(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return m(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return m(function*(){const n=yield function nre(t){return Vv.apply(this,arguments)}(e),r=new ire(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&Ki(e)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield Dc.create(n,[Ki(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$P(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Nne(t,...e){Cg.logLevel<=pe.WARN&&Cg.warn(`Auth (${Cc}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Rt(t){return ht(t)}class qP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function tte(t,e){const n=new nte(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fv(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ar("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function sre(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function GP(t){return`__${t}${Math.floor(1e6*Math.random())}`}class WP{constructor(e){this.type="recaptcha-enterprise",this.auth=Rt(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function o(){return o=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=m(function*(u,l){xP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new RP(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,u(f.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;PP(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&PP(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));Fv("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}function KP(t,e,n){return Lv.apply(this,arguments)}function Lv(){return(Lv=m(function*(t,e,n,r=!1){const i=new WP(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function zv(){return zv=m(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield KP(t,e,n,"getOobCode"===n);return r(t,o)}return r(t,e).catch(function(){var o=m(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield KP(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),zv.apply(this,arguments)}function QP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Uv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}function JP(t,e){return jv.apply(this,arguments)}function jv(){return(jv=m(function*(t,e){return at(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function _re(t,e){return qv.apply(this,arguments)}function qv(){return(qv=m(function*(t,e){return Gi(t,"POST","/v1/accounts:signInWithPassword",tt(t,e))})).apply(this,arguments)}function Xv(){return(Xv=m(function*(t,e){return Gi(t,"POST","/v1/accounts:signInWithEmailLink",tt(t,e))})).apply(this,arguments)}function Jv(){return(Jv=m(function*(t,e){return Gi(t,"POST","/v1/accounts:signInWithEmailLink",tt(t,e))})).apply(this,arguments)}class yd extends Uv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){switch(n.signInMethod){case"password":return function Dg(t,e,n,r){return zv.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",_re);case"emailLink":return function wre(t,e){return Xv.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Kn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return JP(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Cre(t,e){return Jv.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Kn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Qi(t,e){return Zv.apply(this,arguments)}function Zv(){return(Zv=m(function*(t,e){return Gi(t,"POST","/v1/accounts:signInWithIdp",tt(t,e))})).apply(this,arguments)}class Mc extends Uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=wh(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Mc(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){return Qi(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Qi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qi(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=id(n)}return e}}class Id{constructor(e){var n,r,i,o,s,a;const c=od(sd(e)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Pre(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);x(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Rre(t){const e=od(sd(t)).link,n=e?od(sd(e)).deep_link_id:null,r=od(sd(t)).deep_link_id;return(r?od(sd(r)).link:null)||r||n||e||t}(e);try{return new Id(n)}catch{return null}}}let ZP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return yd._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Id.parseLink(r);return x(i,"argument-error"),yd._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ko{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eR extends ko{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let xre=(()=>{class t extends eR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Mc._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const o=yield Vs._fromIdTokenResponse(e,r,i),s=nR(r);return new br({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=nR(r);return new br({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function nR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Rg extends Br{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rg.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Rg(e,n,r,i)}}function rR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Rg._fromErrorAndOperation(t,o,e,r):o})}function u4(){return(u4=m(function*(t,e,n=!1){const r=yield Wi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return br._forOperation(t,"link",r)})).apply(this,arguments)}function d4(){return(d4=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Wi(t,rR(r,i,e,t),n);x(o.idToken,r,"internal-error");const s=Tg(o.idToken);x(s,r,"internal-error");const{sub:a}=s;return x(t.uid===a,r,"user-mismatch"),br._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Kn(r,"user-mismatch"),o}})).apply(this,arguments)}function sR(t,e){return f4.apply(this,arguments)}function f4(){return(f4=m(function*(t,e,n=!1){const r="signIn",i=yield rR(t,r,e),o=yield br._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function p4(){return(p4=m(function*(t,e){return sR(Rt(t),e)})).apply(this,arguments)}function C4(){return(C4=m(function*(t){const e=Rt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function zre(t,e,n){return function h4(t,e){return p4.apply(this,arguments)}(ht(t),ZP.credential(e,n)).catch(function(){var r=m(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function w4(t){return C4.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const kg="__sak";class cR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kg,"1"),this.storage.removeItem(kg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rie=(()=>{class t extends cR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function eie(){const t=$t();return Ov(t)||Sg(t)}()&&function ere(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function Zne(){return function Yee(){const t=$t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return m(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),uR=(()=>{class t extends cR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let oie=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var d=m(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),l=yield function iie(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Og(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class sie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const l=Og("",20);o.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(f){const h=f;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(h.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function xt(){return window}function q4(){return typeof xt().WorkerGlobalScope<"u"&&"function"==typeof xt().importScripts}function G4(){return(G4=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const lR="firebaseLocalStorageDb",Vg="firebaseLocalStorage",dR="fbase_key";class wd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fg(t,e){return t.transaction([Vg],e?"readwrite":"readonly").objectStore(Vg)}function W4(){const t=indexedDB.open(lR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vg,{keyPath:dR})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(Vg)?e(r):(r.close(),yield function fie(){const t=indexedDB.deleteDatabase(lR);return new wd(t).toPromise()}(),e(yield W4()))}))})}function fR(t,e,n){return K4.apply(this,arguments)}function K4(){return(K4=m(function*(t,e,n){const r=Fg(t,!0).put({[dR]:e,value:n});return new wd(r).toPromise()})).apply(this,arguments)}function Q4(){return(Q4=m(function*(t,e){const n=Fg(t,!1).get(e),r=yield new wd(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function hR(t,e){const n=Fg(t,!0).delete(e);return new wd(n).toPromise()}const mie=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield W4()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return q4()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=oie._getInstance(function lie(){return q4()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function cie(){return G4.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new sie(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function uie(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield W4();return yield fR(n,kg,"1"),yield hR(n,kg),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(o=>fR(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(o=>function hie(t,e){return Q4.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>hR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(s=>{const a=Fg(s,!1).getAll();return new wd(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Ls(t,e){return e?Ki(e):(x(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}GP("rcb"),new hd(3e4,6e4);class i6 extends Uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xie(t){return sR(t.auth,new i6(t),t.bypassAuthState)}function Nie(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function oR(t,e){return d4.apply(this,arguments)}(n,new i6(t),t.bypassAuthState)}function kie(t){return o6.apply(this,arguments)}function o6(){return(o6=m(function*(t){const{auth:e,user:n}=t;return x(n,e,"internal-error"),function c4(t,e){return u4.apply(this,arguments)}(n,new i6(t),t.bypassAuthState)})).apply(this,arguments)}class gR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xie;case"linkViaPopup":case"linkViaRedirect":return kie;case"reauthViaPopup":case"reauthViaRedirect":return Nie;default:Kn(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oie=new hd(2e3,1e4);function Vie(t,e,n){return s6.apply(this,arguments)}function s6(){return(s6=m(function*(t,e,n){const r=Rt(t);!function Sc(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Kn(t,"argument-error"),bP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,ko);const i=Ls(r,n);return new u6(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let u6=(()=>{class t extends gR{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return m(function*(){const r=yield n.execute();return x(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return m(function*(){qi(1===n.filter.length,"Popup operations only handle one event");const r=Og();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(ar(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Oie.get())};n()}}return t.currentPopupAction=null,t})();const Fie="pendingRedirect",Cd=new Map;class Lie extends gR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=Cd.get(n.auth._key());if(!r){try{const o=(yield function zie(t,e){return l6.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Cd.set(n.auth._key(),r)}return n.bypassAuthState||Cd.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function l6(){return(l6=m(function*(t,e){const n=function _R(t){return Ag(Fie,t.config.apiKey,t.name)}(e),r=function mR(t){return Ki(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Hie(t,e){Cd.set(t._key(),e)}function yR(t,e){return _6.apply(this,arguments)}function _6(){return(_6=m(function*(t,e,n=!1){const r=Rt(t),i=Ls(r,e),s=yield new Lie(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class qie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Gie(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ER(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ER(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ar(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(IR(e))}saveEventToCache(e){this.cachedEventUids.add(IR(e)),this.lastProcessedEventTime=Date.now()}}function IR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ER({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function v6(){return(v6=m(function*(t,e={}){return at(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Kie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qie=/^https?/;function I6(){return I6=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Wie(t){return v6.apply(this,arguments)}(t);for(const n of e)try{if(Xie(n))return}catch{}Kn(t,"unauthorized-domain")}),I6.apply(this,arguments)}function Xie(t){const e=fd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Qie.test(n))return!1;if(Kie.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jie=new hd(3e4,6e4);function wR(){const t=xt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let zg=null;const toe=new hd(5e3,15e3),noe="__/auth/iframe",roe="emulator/auth/iframe",ioe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ooe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function soe(t){const e=t.config;x(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iv(e,roe):`https://${t.config.authDomain}/${noe}`,r={apiKey:e.apiKey,appName:t.name,v:Cc},i=ooe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${id(r).slice(1)}`}function E6(){return E6=m(function*(t){const e=yield function eoe(t){return zg=zg||function Zie(t){return new Promise((e,n)=>{var r,i,o;function s(){wR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wR(),n(ar(t,"network-request-failed"))},timeout:Jie.get()})}if(null!==(i=null===(r=xt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=xt().gapi)||void 0===o||!o.load){const a=GP("iframefcb");return xt()[a]=()=>{gapi.load?s():n(ar(t,"network-request-failed"))},Fv(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}s()}}).catch(e=>{throw zg=null,e})}(t),zg}(t),n=xt().gapi;return x(n,t,"internal-error"),e.open({where:document.body,url:soe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ioe,dontclear:!0},r=>new Promise(function(){var i=m(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=ar(t,"network-request-failed"),c=xt().setTimeout(()=>{s(a)},toe.get());function u(){xt().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),E6.apply(this,arguments)}const coe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class CR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const goe="__/auth/handler",moe="emulator/auth/handler",_oe=encodeURIComponent("fac");function bR(t,e,n,r,i,o){return w6.apply(this,arguments)}function w6(){return(w6=m(function*(t,e,n,r,i,o){x(t.config.authDomain,t,"auth-domain-config-required"),x(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cc,eventId:i};if(e instanceof ko){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function ete(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof eR){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield t._getAppCheckToken(),u=c?`#${_oe}=${encodeURIComponent(c)}`:"";return`${function yoe({config:t}){return t.emulator?Iv(t,moe):`https://${t.authDomain}/${goe}`}(t)}?${id(a).slice(1)}${u}`})).apply(this,arguments)}const C6="webStorageSupport",Ioe=class voe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uR,this._completeRedirectFn=yR,this._overrideRedirectResult=Hie}_openPopup(e,n,r,i){var o=this;return m(function*(){var s;qi(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield bR(e,n,r,fd(),i);return function hoe(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},coe),{width:r.toString(),height:i.toString(),top:o,left:s}),u=$t().toLowerCase();n&&(a=LP(u)?"_blank":n),FP(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function Jne(t=$t()){var e;return Sg(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function poe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new CR(null);const d=window.open(e||"",a,l);x(d,t,"popup-blocked");try{d.focus()}catch{}return new CR(d)}(e,a,Og())})()}_openRedirect(e,n,r,i){var o=this;return m(function*(){return yield o._originValidation(e),function aie(t){xt().location.href=t}(yield bR(e,n,r,fd(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(qi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function aoe(t){return E6.apply(this,arguments)}(e),i=new qie(e);return r.register("authEvent",o=>(x(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(C6,{type:C6},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[C6];void 0!==s&&n(!!s),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Yie(t){return I6.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jP()||Ov()||Sg()}};var SR="@firebase/auth";class Eoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Toe=ZM("authIdTokenMaxAge")||300;let MR=null;const Aoe=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Toe)return;const o=r?.token;MR!==o&&(MR=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Soe(t=bc()){const e=ui(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function dre(t,e){const n=ui(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(rd(n.getOptions(),e??{}))return i;Kn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ioe,persistence:[mie,rie,uR]}),r=ZM("authTokenSyncURL");if(r){const o=Aoe(r);(function Kre(t,e,n){ht(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function Wre(t,e,n,r){ht(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=XM("auth");return i&&function hre(t,e,n){const r=Rt(t);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=QP(e),{host:s,port:a}=function pre(t){const e=QP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:YP(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:YP(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function gre(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Doe(t){return new we(function(e){var n=function Qre(t,e,n,r){return ht(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Coe(t){Cr(new sr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;x(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$P(t)},u=new ore(r,i,o,c);return function fre(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ki);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cr(new sr("auth-internal",e=>{const n=Rt(e.getProvider("auth").getImmediate());return new Eoe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pt(SR,"1.3.2",function woe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),pt(SR,"1.3.2","esm2017")}("Browser");class bd{constructor(e){return e}}class RR{constructor(){return wg("auth")}}const T6=new z("angularfire2.auth-instances");function Roe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new bd(r)}}const xoe={provide:RR,deps:[[new jt,T6]]},Noe={provide:bd,useFactory:function Poe(t,e){const n=Eg("auth",t,e);return n&&new bd(n)},deps:[[new jt,T6],xs]};let koe=(()=>{var t;class e{constructor(){pt("angularfire",xo.full,"auth")}}return t=e,Ae(e,"\u0275fac",function(r){return new(r||t)}),Ae(e,"\u0275mod",Xe({type:t})),Ae(e,"\u0275inj",Ge({providers:[Noe,xoe]})),e})();function Pc(t,...e){return{ngModule:koe,providers:[{provide:T6,useFactory:Roe(t),multi:!0,deps:[ve,Ft,ld,dd,[new jt,mv],...e]}]}}const xR=gt(Doe,!0),Rc=gt(Soe,!0),Ooe=gt(zre,!0),Voe=gt(Vie,!0);var F,Foe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jr={},A6=A6||{},ie=Foe||self;function Ug(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Td(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var S6="closure_uid_"+(1e9*Math.random()>>>0),zoe=0;function Hoe(t,e,n){return t.call.apply(t.bind,arguments)}function Uoe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function _n(t,e,n){return(_n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hoe:Uoe).apply(null,arguments)}function Bg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Oo(){this.s=this.s,this.o=this.o}Oo.prototype.s=!1,Oo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Loe(t){Object.prototype.hasOwnProperty.call(t,S6)&&t[S6]||(t[S6]=++zoe)}(this)},Oo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function D6(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function kR(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ug(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function yn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}yn.prototype.h=function(){this.defaultPrevented=!0};var joe=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return t}();function Ad(t){return/^[\s\xa0]*$/.test(t)}function jg(){var t=ie.navigator;return t&&(t=t.userAgent)?t:""}function di(t){return-1!=jg().indexOf(t)}function M6(t){return M6[" "](t),t}M6[" "]=function(){};var R6,t,qoe=di("Opera"),xc=di("Trident")||di("MSIE"),OR=di("Edge"),P6=OR||xc,VR=di("Gecko")&&!(-1!=jg().toLowerCase().indexOf("webkit")&&!di("Edge"))&&!(di("Trident")||di("MSIE"))&&!di("Edge"),Goe=-1!=jg().toLowerCase().indexOf("webkit")&&!di("Edge");function FR(){var t=ie.document;return t?t.documentMode:void 0}e:{var x6="",N6=(t=jg(),VR?/rv:([^\);]+)(\)|;)/.exec(t):OR?/Edge\/([\d\.]+)/.exec(t):xc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Goe?/WebKit\/(\S+)/.exec(t):qoe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(N6&&(x6=N6?N6[1]:""),xc){var k6=FR();if(null!=k6&&k6>parseFloat(x6)){R6=String(k6);break e}}R6=x6}var Woe=ie.document&&xc&&(FR()||parseInt(R6,10))||void 0;function Sd(t,e){if(yn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(VR){e:{try{M6(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Koe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sd.$.h.call(this)}}qt(Sd,yn);var Koe={2:"touch",3:"pen",4:"mouse"};Sd.prototype.h=function(){Sd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Dd="closure_listenable_"+(1e6*Math.random()|0),Qoe=0;function Yoe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Qoe,this.fa=this.ia=!1}function $g(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function V6(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function zR(t){const e={};for(const n in t)e[n]=t[n];return e}const HR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function UR(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<HR.length;o++)n=HR[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function qg(t){this.src=t,this.g={},this.h=0}function F6(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=NR(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&($g(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function L6(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}qg.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=L6(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Yoe(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var z6="closure_lm_"+(1e6*Math.random()|0),H6={};function BR(t,e,n,r,i){if(r&&r.once)return $R(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)BR(t,e[o],n,r,i);return null}return n=$6(n),t&&t[Dd]?t.O(e,n,Td(r)?!!r.capture:!!r,i):jR(t,e,n,!1,r,i)}function jR(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Td(i)?!!i.capture:!!i,a=B6(t);if(a||(t[z6]=a=new qg(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Joe(){const e=Zoe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)joe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(GR(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $R(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)$R(t,e[o],n,r,i);return null}return n=$6(n),t&&t[Dd]?t.P(e,n,Td(r)?!!r.capture:!!r,i):jR(t,e,n,!0,r,i)}function qR(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)qR(t,e[o],n,r,i);else r=Td(r)?!!r.capture:!!r,n=$6(n),t&&t[Dd]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=L6(o=t.g[e],n,r,i))&&($g(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=B6(t))&&(e=t.g[e.toString()],t=-1,e&&(t=L6(e,n,r,i)),(n=-1<t?e[t]:null)&&U6(n))}function U6(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Dd])F6(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(GR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=B6(e))?(F6(n,t),0==n.h&&(n.src=null,e[z6]=null)):$g(t)}}}function GR(t){return t in H6?H6[t]:H6[t]="on"+t}function Zoe(t,e){if(t.fa)t=!0;else{e=new Sd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&U6(t),t=n.call(r,e)}return t}function B6(t){return(t=t[z6])instanceof qg?t:null}var j6="__closure_events_fn_"+(1e9*Math.random()>>>0);function $6(t){return"function"==typeof t?t:(t[j6]||(t[j6]=function(e){return t.handleEvent(e)}),t[j6])}function Gt(){Oo.call(this),this.i=new qg(this),this.S=this,this.J=null}function sn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new yn(e,t);else if(e instanceof yn)e.target=e.target||t;else{var i=e;UR(e=new yn(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Gg(s,r,!0,e)&&i}if(i=Gg(s=e.g=t,r,!0,e)&&i,i=Gg(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Gg(s=e.g=n[o],r,!1,e)&&i}function Gg(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&F6(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}qt(Gt,Oo),Gt.prototype[Dd]=!0,Gt.prototype.removeEventListener=function(t,e,n,r){qR(this,t,e,n,r)},Gt.prototype.N=function(){if(Gt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$g(n[r]);delete t.g[e],t.h--}}this.J=null},Gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Gt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var q6=ie.JSON.stringify;function tse(){var t=G6;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var WR=new class ese{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rse,t=>t.reset());class rse{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ise(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ose(t){ie.setTimeout(()=>{throw t},0)}let Md,Pd=!1,G6=new class nse{constructor(){this.h=this.g=null}add(e,n){const r=WR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},KR=()=>{const t=ie.Promise.resolve(void 0);Md=()=>{t.then(sse)}};var sse=()=>{for(var t;t=tse();){try{t.h.call(t.g)}catch(n){ose(n)}var e=WR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pd=!1};function Wg(t,e){Gt.call(this),this.h=t||1,this.g=e||ie,this.j=_n(this.qb,this),this.l=Date.now()}function W6(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function K6(t,e,n){if("function"==typeof t)n&&(t=_n(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_n(t.handleEvent,t)}return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function QR(t){t.g=K6(()=>{t.g=null,t.i&&(t.i=!1,QR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}qt(Wg,Gt),(F=Wg.prototype).ga=!1,F.T=null,F.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sn(this,"tick"),this.ga&&(W6(this),this.start()))}},F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.N=function(){Wg.$.N.call(this),W6(this),delete this.g};class ase extends Oo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:QR(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rd(t){Oo.call(this),this.h=t,this.g={}}qt(Rd,Oo);var YR=[];function XR(t,e,n,r){Array.isArray(n)||(n&&(YR[0]=n.toString()),n=YR);for(var i=0;i<n.length;i++){var o=BR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function JR(t){V6(t.g,function(e,n){this.g.hasOwnProperty(n)&&U6(e)},t),t.g={}}function Kg(){this.g=!0}function Nc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dse(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return q6(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Rd.prototype.N=function(){Rd.$.N.call(this),JR(this)},Rd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kg.prototype.Ea=function(){this.g=!1},Kg.prototype.info=function(){};var zs={},ZR=null;function Qg(){return ZR=ZR||new Gt}function ex(t){yn.call(this,zs.Ta,t)}function xd(t){const e=Qg();sn(e,new ex(e))}function tx(t,e){yn.call(this,zs.STAT_EVENT,t),this.stat=e}function On(t){const e=Qg();sn(e,new tx(e,t))}function nx(t,e){yn.call(this,zs.Ua,t),this.size=e}function Nd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){t()},e)}zs.Ta="serverreachability",qt(ex,yn),zs.STAT_EVENT="statevent",qt(tx,yn),zs.Ua="timingevent",qt(nx,yn);var Yg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},rx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Q6(){}function ox(){}Q6.prototype.h=null;var J6,kd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Y6(){yn.call(this,"d")}function X6(){yn.call(this,"c")}function Xg(){}function Od(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Rd(this),this.P=fse,this.V=new Wg(t=P6?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sx}function sx(){this.i=null,this.g="",this.h=!1}qt(Y6,yn),qt(X6,yn),qt(Xg,Q6),Xg.prototype.g=function(){return new XMLHttpRequest},Xg.prototype.i=function(){return{}},J6=new Xg;var fse=45e3,Z6={},Jg={};function e3(t,e,n){t.L=1,t.v=nm(Yi(e)),t.s=n,t.S=!0,ax(t,null)}function ax(t,e){t.G=Date.now(),Vd(t),t.A=Yi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),_x(n.i,"t",r),t.C=0,n=t.l.J,t.h=new sx,t.g=Ux(t.l,n?e:null,!t.s),0<t.O&&(t.M=new ase(_n(t.Pa,t,t.g),t.O)),XR(t.U,t.g,"readystatechange",t.nb),e=t.I?zR(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),xd(),function cse(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function cx(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function ux(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=hse(t,n),i==Jg){4==e&&(t.o=4,On(14),r=!1),Nc(t.j,t.m,null,"[Incomplete Response]");break}if(i==Z6){t.o=4,On(15),Nc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Nc(t.j,t.m,i,null),t3(t,i)}cx(t)&&i!=Jg&&i!=Z6&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,On(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),c3(e),e.M=!0,On(11))):(Nc(t.j,t.m,n,"[Invalid Chunked Response]"),Hs(t),Fd(t))}function hse(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Jg:(n=Number(e.substring(n,r)),isNaN(n)?Z6:(r+=1)+n>e.length?Jg:(e=e.slice(r,r+n),t.C=r+n,e))}function Vd(t){t.Y=Date.now()+t.P,lx(t,t.P)}function lx(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Nd(_n(t.lb,t),e)}function Zg(t){t.B&&(ie.clearTimeout(t.B),t.B=null)}function Fd(t){0==t.l.H||t.J||Fx(t.l,t)}function Hs(t){Zg(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,W6(t.V),JR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function t3(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||n3(n.i,t)))if(!t.K&&n3(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;cm(n),sm(n)}a3(n),On(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Nd(_n(n.ib,n),6e3));if(1>=Ix(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Bs(n,11)}else if((t.K||n.g==t)&&cm(n),!Ad(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const l=u[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(r3(o,o.h),o.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,We(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=Hx(r,r.J?r.pa:null,r.Y),s.K){Ex(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(Zg(a),Vd(a)),r.g=s}else Ox(r);0<n.j.length&&am(n)}else"stop"!=u[0]&&"close"!=u[0]||Bs(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Bs(n,7):s3(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}xd()}catch{}}function dx(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ug(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function gse(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ug(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function pse(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Ug(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(F=Od.prototype).setTimeout=function(t){this.P=t},F.nb=function(t){t=t.target;const e=this.M;e&&3==fi(t)?e.l():this.Pa(t)},F.Pa=function(t){try{if(t==this.g)e:{const l=fi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||P6||this.g&&(this.h.h||this.g.ja()||Mx(this.g)))){this.J||4!=l||7==e||xd(),Zg(this);var n=this.g.da();this.ca=n;t:if(cx(this)){var r=Mx(this.g);t="";var i=r.length,o=4==fi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hs(this),Fd(this);var s="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function use(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ad(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,On(12),Hs(this),Fd(this);break e}Nc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,t3(this,n)}this.S?(ux(this,l,s),P6&&this.i&&3==l&&(XR(this.U,this.V,"tick",this.mb),this.V.start())):(Nc(this.j,this.m,s,null),t3(this,s)),4==l&&Hs(this),this.i&&!this.J&&(4==l?Fx(this.l,this):(this.i=!1,Vd(this)))}else(function Nse(t){const e={};t=(t.g&&2<=fi(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Ad(t[r]))continue;var n=ise(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Xoe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,On(12)):(this.o=0,On(13)),Hs(this),Fd(this)}}}catch{}},F.mb=function(){if(this.g){var t=fi(this.g),e=this.g.ja();this.C<e.length&&(Zg(this),ux(this,t,e),this.i&&4!=t&&Vd(this))}},F.cancel=function(){this.J=!0,Hs(this)},F.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function lse(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(xd(),On(17)),Hs(this),this.o=2,Fd(this)):lx(this,this.Y-t)};var fx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Us(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Us){this.h=t.h,em(this,t.j),this.s=t.s,this.g=t.g,tm(this,t.m),this.l=t.l;var e=t.i,n=new Hd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hx(this,n),this.o=t.o}else t&&(e=String(t).match(fx))?(this.h=!1,em(this,e[1]||"",!0),this.s=Ld(e[2]||""),this.g=Ld(e[3]||"",!0),tm(this,e[4]),this.l=Ld(e[5]||"",!0),hx(this,e[6]||"",!0),this.o=Ld(e[7]||"")):(this.h=!1,this.i=new Hd(null,this.h))}function Yi(t){return new Us(t)}function em(t,e,n){t.j=n?Ld(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function tm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hx(t,e,n){e instanceof Hd?(t.i=e,function wse(t,e){e&&!t.j&&(Vo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gx(this,r),_x(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=zd(e,Ise)),t.i=new Hd(e,t.h))}function We(t,e,n){t.i.set(e,n)}function nm(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ld(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,_se),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _se(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Us.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zd(e,px,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(zd(e,px,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(zd(n,"/"==n.charAt(0)?vse:yse,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zd(n,Ese)),t.join("")};var px=/[#\/\?@]/g,yse=/[#\?:]/g,vse=/[#\?]/g,Ise=/[#\?@]/g,Ese=/#/g;function Hd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Vo(t){t.g||(t.g=new Map,t.h=0,t.i&&function mse(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function gx(t,e){Vo(t),e=kc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mx(t,e){return Vo(t),e=kc(t,e),t.g.has(e)}function _x(t,e,n){gx(t,e),0<n.length&&(t.i=null,t.g.set(kc(t,e),D6(n)),t.h+=n.length)}function kc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yx(t){this.l=t||bse,t=ie.PerformanceNavigationTiming?0<(t=ie.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=Hd.prototype).add=function(t,e){Vo(this),this.i=null,t=kc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},F.forEach=function(t,e){Vo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},F.ta=function(){Vo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},F.Z=function(t){Vo(this);let e=[];if("string"==typeof t)mx(this,t)&&(e=e.concat(this.g.get(kc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},F.set=function(t,e){return Vo(this),this.i=null,mx(this,t=kc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},F.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var bse=10;function vx(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ix(t){return t.h?1:t.g?t.g.size:0}function n3(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function r3(t,e){t.g?t.g.add(e):t.h=e}function Ex(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function wx(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return D6(t.i)}yx.prototype.cancel=function(){if(this.i=wx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Tse=class{stringify(t){return ie.JSON.stringify(t,void 0)}parse(t){return ie.JSON.parse(t,void 0)}};function Ase(){this.g=new Tse}function Sse(t,e,n){const r=n||"";try{dx(t,function(i,o){let s=i;Td(i)&&(s=q6(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rm(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ud(t){this.l=t.ec||null,this.j=t.ob||!1}function im(t,e){Gt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=i3,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qt(Ud,Q6),Ud.prototype.g=function(){return new im(this.l,this.j)},Ud.prototype.i=function(t){return function(){return t}}({}),qt(im,Gt);var i3=0;function Cx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Bd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jd(t)}function jd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(F=im.prototype).open=function(t,e){if(this.readyState!=i3)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,jd(this)},F.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bd(this)),this.readyState=i3},F.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jd(this)),this.g&&(this.readyState=3,jd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},F.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bd(this):jd(this),3==this.readyState&&Cx(this)}},F.Za=function(t){this.g&&(this.response=this.responseText=t,Bd(this))},F.Ya=function(t){this.g&&(this.response=t,Bd(this))},F.ka=function(){this.g&&Bd(this)},F.setRequestHeader=function(t,e){this.v.append(t,e)},F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(im.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Mse=ie.JSON.parse;function mt(t){Gt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bx,this.L=this.M=!1}qt(mt,Gt);var bx="",Pse=/^https?$/i,Rse=["POST","PUT"];function Tx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ax(t),om(t)}function Ax(t){t.F||(t.F=!0,sn(t,"complete"),sn(t,"error"))}function Sx(t){if(t.h&&typeof A6<"u"&&(!t.C[1]||4!=fi(t)||2!=t.da()))if(t.v&&4==fi(t))K6(t.La,0,t);else if(sn(t,"readystatechange"),4==fi(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(fx)[1]||null;!i&&ie.self&&ie.self.location&&(i=ie.self.location.protocol.slice(0,-1)),r=!Pse.test(i?i.toLowerCase():"")}n=r}if(n)sn(t,"complete"),sn(t,"success");else{t.m=6;try{var o=2<fi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",Ax(t)}}finally{om(t)}}}function om(t,e){if(t.g){Dx(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||sn(t,"ready");try{n.onreadystatechange=r}catch{}}}function Dx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ie.clearTimeout(t.A),t.A=null)}function fi(t){return t.g?t.g.readyState:0}function Mx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case bx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Px(t){let e="";return V6(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function o3(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Px(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):We(t,e,n))}function $d(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Rx(t){this.Ga=0,this.j=[],this.l=new Kg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$d("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$d("baseRetryDelayMs",5e3,t),this.hb=$d("retryDelaySeedMs",1e4,t),this.eb=$d("forwardChannelMaxRetries",2,t),this.xa=$d("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yx(t&&t.concurrentRequestLimit),this.Ja=new Ase,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function s3(t){if(xx(t),3==t.H){var e=t.W++,n=Yi(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),qd(t,n),(e=new Od(t,t.l,e)).L=2,e.v=nm(Yi(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon)try{n=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ie.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ux(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Vd(e)}zx(t)}function sm(t){t.g&&(c3(t),t.g.cancel(),t.g=null)}function xx(t){sm(t),t.u&&(ie.clearTimeout(t.u),t.u=null),cm(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ie.clearTimeout(t.m),t.m=null)}function am(t){if(!vx(t.i)&&!t.m){t.m=!0;var e=t.Na;Md||KR(),Pd||(Md(),Pd=!0),G6.add(e,t),t.C=0}}function Nx(t,e){var n;n=e?e.m:t.W++;const r=Yi(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),qd(t,r),t.o&&t.s&&o3(r,t.o,t.s),n=new Od(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=kx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),r3(t.i,n),e3(n,r,e)}function qd(t,e){t.na&&V6(t.na,function(n,r){We(e,r,n)}),t.h&&dx({},function(n,r){We(e,r,n)})}function kx(t,e,n){n=Math.min(t.j.length,n);var r=t.h?_n(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=o,0>u)o=Math.max(0,i[c].g-100),a=!1;else try{Sse(l,s,"req"+u+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Ox(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Md||KR(),Pd||(Md(),Pd=!0),G6.add(e,t),t.A=0}}function a3(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Nd(_n(t.Ma,t),Lx(t,t.A)),t.A++,0))}function c3(t){null!=t.B&&(ie.clearTimeout(t.B),t.B=null)}function Vx(t){t.g=new Od(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Yi(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),qd(t,e),t.o&&t.s&&o3(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=nm(Yi(e)),n.s=null,n.S=!0,ax(n,t)}function cm(t){null!=t.v&&(ie.clearTimeout(t.v),t.v=null)}function Fx(t,e){var n=null;if(t.g==e){cm(t),c3(t),t.g=null;var r=2}else{if(!n3(t.i,e))return;n=e.F,Ex(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;sn(r=Qg(),new nx(r,n)),am(t)}else Ox(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function kse(t,e){return!(Ix(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Nd(_n(t.Na,t,e),Lx(t,t.C)),t.C++,0)))}(t,e)||2==r&&a3(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Bs(t,5);break;case 4:Bs(t,10);break;case 3:Bs(t,6);break;default:Bs(t,2)}}function Lx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Bs(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=_n(t.pb,t);n||(n=new Us("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||em(n,"https"),nm(n)),function Dse(t,e){const n=new Kg;if(ie.Image){const r=new Image;r.onload=Bg(rm,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bg(rm,n,r,"TestLoadImage: error",!1,e),r.onabort=Bg(rm,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bg(rm,n,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else On(2);t.H=0,t.h&&t.h.za(e),zx(t),xx(t)}function zx(t){if(t.H=0,t.ma=[],t.h){const e=wx(t.i);(0!=e.length||0!=t.j.length)&&(kR(t.ma,e),kR(t.ma,t.j),t.i.i.length=0,D6(t.j),t.j.length=0),t.h.ya()}}function Hx(t,e,n){var r=n instanceof Us?Yi(n):new Us(n);if(""!=r.g)e&&(r.g=e+"."+r.g),tm(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Us(null);r&&em(o,r),e&&(o.g=e),i&&tm(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&We(r,n,e),We(r,"VER",t.ra),qd(t,r),r}function Ux(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mt(n&&t.Ha&&!t.va?new Ud({ob:!0}):t.va)).Oa(t.J),e}function Bx(){}function um(){if(xc&&!(10<=Number(Woe)))throw Error("Environmental error: no available transport.")}function cr(t,e){Gt.call(this),this.g=new Rx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ad(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ad(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Oc(this)}function jx(t){Y6.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $x(){X6.call(this),this.status=1}function Oc(t){this.g=t}function $r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function u3(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(F=mt.prototype).Oa=function(t){this.M=t},F.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():J6.g(),this.C=function ix(t){return t.h||(t.h=t.i())}(this.u?this.u:J6),this.g.onreadystatechange=_n(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void Tx(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=ie.FormData&&t instanceof ie.FormData,!(0<=NR(Rse,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Dx(this),0<this.B&&((this.L=function xse(t){return xc&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_n(this.ua,this)):this.A=K6(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Tx(this,o)}},F.ua=function(){typeof A6<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sn(this,"timeout"),this.abort(8))},F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,sn(this,"complete"),sn(this,"abort"),om(this))},F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),om(this,!0)),mt.$.N.call(this)},F.La=function(){this.s||(this.G||this.v||this.l?Sx(this):this.kb())},F.kb=function(){Sx(this)},F.isActive=function(){return!!this.g},F.da=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},F.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Mse(e)}},F.Ia=function(){return this.m},F.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=Rx.prototype).ra=8,F.H=1,F.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Od(this,this.l,t);let o=this.s;if(this.U&&(o?(o=zR(o),UR(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=kx(this,i,e),We(n=Yi(this.I),"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),qd(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(Px(o)))+"&"+e:this.o&&o3(n,this.o,o)),r3(this.i,i),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),i.aa=!0,e3(i,n,null)):e3(i,n,e),this.H=2}}else 3==this.H&&(t?Nx(this,t):0==this.j.length||vx(this.i)||Nx(this))},F.Ma=function(){if(this.u=null,Vx(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Nd(_n(this.jb,this),t)}},F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,On(10),sm(this),Vx(this))},F.ib=function(){null!=this.v&&(this.v=null,sm(this),a3(this),On(19))},F.pb=function(t){t?(this.l.info("Successfully pinged google.com"),On(2)):(this.l.info("Failed to ping google.com"),On(1))},F.isActive=function(){return!!this.h&&this.h.isActive(this)},(F=Bx.prototype).Ba=function(){},F.Aa=function(){},F.za=function(){},F.ya=function(){},F.isActive=function(){return!0},F.Va=function(){},um.prototype.g=function(t,e){return new cr(t,e)},qt(cr,Gt),cr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;On(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Hx(t,null,t.Y),am(t)},cr.prototype.close=function(){s3(this.g)},cr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=q6(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&am(e)},cr.prototype.N=function(){this.g.h=null,delete this.j,s3(this.g),delete this.g,cr.$.N.call(this)},qt(jx,Y6),qt($x,X6),qt(Oc,Bx),Oc.prototype.Ba=function(){sn(this.g,"a")},Oc.prototype.Aa=function(t){sn(this.g,new jx(t))},Oc.prototype.za=function(t){sn(this.g,new $x)},Oc.prototype.ya=function(){sn(this.g,"b")},qt($r,function Ose(){this.blockSize=-1}),$r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$r.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)u3(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){u3(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){u3(this,r),i=0;break}}this.h=i,this.i+=e},$r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Vse={};function l3(t){return-128<=t&&128>t?function $oe(t,e){var n=Vse;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Pe([0|e],0>e?-1:0)}):new Pe([0|t],0>t?-1:0)}function hi(t){if(isNaN(t)||!isFinite(t))return Vc;if(0>t)return an(hi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=d3;return new Pe(e,0)}var d3=4294967296,Vc=l3(0),f3=l3(1),Gx=l3(16777216);function Xi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Tr(t){return-1==t.h}function an(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Pe(n,~t.h).add(f3)}function lm(t,e){return t.add(an(e))}function dm(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Gd(t,e){this.g=t,this.h=e}function fm(t,e){if(Xi(e))throw Error("division by zero");if(Xi(t))return new Gd(Vc,Vc);if(Tr(t))return e=fm(an(t),e),new Gd(an(e.g),an(e.h));if(Tr(e))return e=fm(t,an(e)),new Gd(an(e.g),e.h);if(30<t.g.length){if(Tr(t)||Tr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=f3,r=e;0>=r.X(t);)n=Wx(n),r=Wx(r);var i=Fc(n,1),o=Fc(r,1);for(r=Fc(r,2),n=Fc(n,2);!Xi(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Fc(r,1),n=Fc(n,1)}return e=lm(t,i.R(e)),new Gd(i,e)}for(i=Vc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=hi(n)).R(e);Tr(s)||0<s.X(t);)s=(o=hi(n-=r)).R(e);Xi(o)&&(o=f3),i=i.add(o),t=lm(t,s)}return new Gd(i,t)}function Wx(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Pe(n,t.h)}function Fc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Pe(i,t.h)}(F=Pe.prototype).ea=function(){if(Tr(this))return-an(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:d3+r)*e,e*=d3}return t},F.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Xi(this))return"0";if(Tr(this))return"-"+an(this).toString(t);for(var e=hi(Math.pow(t,6)),n=this,r="";;){var i=fm(n,e).g,o=((0<(n=lm(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Xi(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},F.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},F.X=function(t){return Tr(t=lm(this,t))?-1:Xi(t)?0:1},F.abs=function(){return Tr(this)?an(this):this},F.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Pe(n,-2147483648&n[n.length-1]?-1:0)},F.R=function(t){if(Xi(this)||Xi(t))return Vc;if(Tr(this))return Tr(t)?an(this).R(an(t)):an(an(this).R(t));if(Tr(t))return an(this.R(an(t)));if(0>this.X(Gx)&&0>t.X(Gx))return hi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=s*c,dm(n,2*r+2*i),n[2*r+2*i+1]+=o*c,dm(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,dm(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,dm(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Pe(n,0)},F.gb=function(t){return fm(this,t).h},F.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Pe(n,this.h&t.h)},F.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Pe(n,this.h|t.h)},F.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Pe(n,this.h^t.h)},um.prototype.createWebChannel=um.prototype.g,cr.prototype.send=cr.prototype.u,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,Yg.NO_ERROR=0,Yg.TIMEOUT=8,Yg.HTTP_ERROR=6,rx.COMPLETE="complete",ox.EventType=kd,kd.OPEN="a",kd.CLOSE="b",kd.ERROR="c",kd.MESSAGE="d",Gt.prototype.listen=Gt.prototype.O,mt.prototype.listenOnce=mt.prototype.P,mt.prototype.getLastError=mt.prototype.Sa,mt.prototype.getLastErrorCode=mt.prototype.Ia,mt.prototype.getStatus=mt.prototype.da,mt.prototype.getResponseJson=mt.prototype.Wa,mt.prototype.getResponseText=mt.prototype.ja,mt.prototype.send=mt.prototype.ha,mt.prototype.setWithCredentials=mt.prototype.Oa,$r.prototype.digest=$r.prototype.l,$r.prototype.reset=$r.prototype.reset,$r.prototype.update=$r.prototype.j,Pe.prototype.add=Pe.prototype.add,Pe.prototype.multiply=Pe.prototype.R,Pe.prototype.modulo=Pe.prototype.gb,Pe.prototype.compare=Pe.prototype.X,Pe.prototype.toNumber=Pe.prototype.ea,Pe.prototype.toString=Pe.prototype.toString,Pe.prototype.getBits=Pe.prototype.D,Pe.fromNumber=hi,Pe.fromString=function qx(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return an(qx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hi(Math.pow(e,8)),r=Vc,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=hi(Math.pow(e,o)),r=r.R(o).add(hi(s))):r=(r=r.R(n)).add(hi(s))}return r};var Fse=jr.createWebChannelTransport=function(){return new um},Lse=jr.getStatEventTarget=function(){return Qg()},h3=jr.ErrorCode=Yg,zse=jr.EventType=rx,Hse=jr.Event=zs,Kx=jr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Use=jr.FetchXmlHttpFactory=Ud,hm=jr.WebChannel=ox,Bse=jr.XhrIo=mt,jse=jr.Md5=$r,Lc=jr.Integer=Pe;const Qx="@firebase/firestore";class Wt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let zc="10.5.2";const Fo=new ad("@firebase/firestore");function Hc(){return Fo.logLevel}function A(t,...e){if(Fo.logLevel<=pe.DEBUG){const n=e.map(p3);Fo.debug(`Firestore (${zc}): ${t}`,...n)}}function At(t,...e){if(Fo.logLevel<=pe.ERROR){const n=e.map(p3);Fo.error(`Firestore (${zc}): ${t}`,...n)}}function ur(t,...e){if(Fo.logLevel<=pe.WARN){const n=e.map(p3);Fo.warn(`Firestore (${zc}): ${t}`,...n)}}function p3(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function H(t="Unexpected state"){const e=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: `+t;throw At(e),new Error(e)}function $(t,e){t||H()}function k(t,e){return t}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Yx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $se{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class qse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Gse{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new zt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(m(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($("string"==typeof r.accessToken),new Yx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $(null===e||"string"==typeof e),new Wt(e)}}class Wse{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Kse{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Wse(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qse{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,A("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($("string"==typeof n.token),this.R=n.token,new Xx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Yse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Jx{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Yse(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function Uc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new ct(0,0))}static max(){return new G(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wd{constructor(e,n,r){void 0===n?n=0:n>e.length&&H(),void 0===r?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Wd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends Wd{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const Xse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends Wd{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return Xse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new D(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new D(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new D(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(_e.fromString(e))}static fromName(e){return new O(_e.fromString(e).popFirst(5))}static empty(){return new O(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_e.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new _e(e.slice()))}}function t9(t){return new lr(t.readTime,t.key,-1)}class lr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(G.min(),O.empty(),-1)}static max(){return new lr(G.max(),O.empty(),-1)}}function m3(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=O.comparator(t.documentKey,e.documentKey),0!==n?n:te(t.largestBatchId,e.largestBatchId))}const n9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Lo(t){return _3.apply(this,arguments)}function _3(){return _3=m(function*(t){if(t.code!==E.FAILED_PRECONDITION||t.message!==n9)throw t;A("LocalStore","Unexpectedly lost primary lease")}),_3.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(l=>{s[u]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function zo(t){return"IndexedDbTransactionError"===t.name}let dr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Qd(t){return null==t}function Yd(t){return 0===t&&1/t==-1/0}function d9(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function f9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class je{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mm(this.root,e,this.comparator,!1)}getReverseIterator(){return new mm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mm(this.root,e,this.comparator,!0)}}class mm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??cn.RED,this.left=i??cn.EMPTY,this.right=o??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new cn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1,cn.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(e,n,r,i,o){return this}insert(e,n,r){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new h9(this.data.getIterator())}getIteratorFrom(e){return new h9(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oe(this.comparator);return n.data=e,n}}class h9{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Oe(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class p9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new p9("Invalid base64 string: "+o):o}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const Cae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(t){if($(!!t),"string"==typeof t){let e=0;const n=Cae.exec(t);if($(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ji(t){return"string"==typeof t?Ht.fromBase64String(t):Ht.fromUint8Array(t)}function _m(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ym(t){const e=t.mapValue.fields.__previous_value__;return _m(e)?ym(e):e}function Xd(t){const e=Uo(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}class bae{constructor(e,n,r,i,o,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Gs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gs&&e.projectId===this.projectId&&e.database===this.database}}const Bo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_m(t)?4:y9(t)?9007199254740991:10:H()}function gi(t,e){if(t===e)return!0;const n=jo(t);if(n!==jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xd(t).isEqual(Xd(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Uo(i.timestampValue),a=Uo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Ji(t.bytesValue).isEqual(Ji(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _t(i.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _t(i.integerValue)===_t(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=_t(i.doubleValue),a=_t(o.doubleValue);return s===a?Yd(s)===Yd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Uc(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(d9(s)!==d9(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!gi(s[c],a[c])))return!1;return!0}(t,e);default:return H()}var o}function Jd(t,e){return void 0!==(t.values||[]).find(n=>gi(n,e))}function $o(t,e){if(t===e)return 0;const n=jo(t),r=jo(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=_t(o.integerValue||o.doubleValue),c=_t(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return g9(t.timestampValue,e.timestampValue);case 4:return g9(Xd(t),Xd(e));case 5:return te(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ji(o),c=Ji(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){const l=te(a[u],c[u]);if(0!==l)return l}return te(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=te(_t(o.latitude),_t(s.latitude));return 0!==a?a:te(_t(o.longitude),_t(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let u=0;u<a.length&&u<c.length;++u){const l=$o(a[u],c[u]);if(l)return l}return te(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Bo.mapValue&&s===Bo.mapValue)return 0;if(o===Bo.mapValue)return 1;if(s===Bo.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){const f=te(c[d],l[d]);if(0!==f)return f;const h=$o(a[c[d]],u[l[d]]);if(0!==h)return h}return te(c.length,l.length)}(t.mapValue,e.mapValue);default:throw H()}}function g9(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return te(t,e);const n=Uo(t),r=Uo(e),i=te(n.seconds,r.seconds);return 0!==i?i:te(n.nanos,r.nanos)}function qc(t){return I3(t)}function I3(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Uo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ji(t.bytesValue).toBase64():"referenceValue"in t?O.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=I3(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${I3(n.fields[s])}`;return i+"}"}(t.mapValue):H()}function Ws(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function E3(t){return!!t&&"integerValue"in t}function Zd(t){return!!t&&"arrayValue"in t}function m9(t){return!!t&&"nullValue"in t}function _9(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Em(t){return!!t&&"mapValue"in t}function ef(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ef(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ef(t.arrayValue.values[n]);return e}return Object.assign({},t)}function y9(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Em(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ef(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ef(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Em(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Em(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ho(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new un(ef(this.value))}}function E9(t){const e=[];return Ho(t.fields,(n,r)=>{const i=new nt([n]);if(Em(r)){const o=E9(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Qn(e)}class Ke{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ke(e,0,G.min(),G.min(),G.min(),un.empty(),0)}static newFoundDocument(e,n,r,i){return new Ke(e,1,n,G.min(),r,i,0)}static newNoDocument(e,n){return new Ke(e,2,n,G.min(),G.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Ke(e,3,n,G.min(),G.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(G.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qo{constructor(e,n){this.position=e,this.inclusive=n}}function w9(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?O.comparator(O.fromName(s.referenceValue),n.key):$o(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function C9(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}class tf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class b9{}class de extends b9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Dae(e,n,r):"array-contains"===n?new Rae(e,r):"in"===n?new P9(e,r):"not-in"===n?new xae(e,r):"array-contains-any"===n?new Nae(e,r):new de(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Mae(e,r):new Pae(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison($o(n,this.value)):null!==n&&jo(this.value)===jo(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Re extends b9{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Re(e,n)}matches(e){return Gc(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Gc(t){return"and"===t.op}function C3(t){return function T9(t){for(const e of t.filters)if(e instanceof Re)return!1;return!0}(t)&&Gc(t)}function b3(t){if(t instanceof de)return t.field.canonicalString()+t.op.toString()+qc(t.value);if(C3(t))return t.filters.map(e=>b3(e)).join(",");{const e=t.filters.map(n=>b3(n)).join(",");return`${t.op}(${e})`}}function A9(t,e){return t instanceof de?(r=t,(i=e)instanceof de&&r.op===i.op&&r.field.isEqual(i.field)&&gi(r.value,i.value)):t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&A9(s,i.filters[a]),!0)}(t,e):void H();var r,i}function D9(t){return t instanceof de?`${(n=t).field.canonicalString()} ${n.op} ${qc(n.value)}`:t instanceof Re?function(n){return n.op.toString()+" {"+n.getFilters().map(D9).join(" ,")+"}"}(t):"Filter";var n}class Dae extends de{constructor(e,n,r){super(e,n,r),this.key=O.fromName(r.referenceValue)}matches(e){const n=O.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mae extends de{constructor(e,n){super(e,"in",n),this.keys=M9(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Pae extends de{constructor(e,n){super(e,"not-in",n),this.keys=M9(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M9(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>O.fromName(r.referenceValue))}class Rae extends de{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zd(n)&&Jd(n.arrayValue,this.value)}}class P9 extends de{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Jd(this.value.arrayValue,n)}}class xae extends de{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Jd(this.value.arrayValue,n)}}class Nae extends de{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jd(this.value.arrayValue,r))}}class kae{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function T3(t,e=null,n=[],r=[],i=null,o=null,s=null){return new kae(t,e,n,r,i,o,s)}function Ks(t){const e=k(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>b3(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qc(r)).join(",")),e.ce=n}return e.ce}function nf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!A9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!C9(t.startAt,e.startAt)&&C9(t.endAt,e.endAt)}function wm(t){return O.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Zi{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function Wc(t){return new Zi(t)}function k9(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function A3(t){return null!==t.collectionGroup}function Kc(t){const e=k(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Oe(nt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new tf(o,r))}),n.has(nt.keyField().canonicalString())||e.le.push(new tf(nt.keyField(),r))}return e.le}function Vn(t){const e=k(t);return e.he||(e.he=function O9(t,e){if("F"===t.limitType)return T3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new tf(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new qo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qo(t.startAt.position,t.startAt.inclusive):null;return T3(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Kc(t))),e.he}function S3(t,e){const n=t.filters.concat([e]);return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bm(t,e,n){return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rf(t,e){return nf(Vn(t),Vn(e))&&t.limitType===e.limitType}function V9(t){return`${Ks(Vn(t))}|lt:${t.limitType}`}function Qc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>D9(i)).join(", ")}]`),Qd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qc(i)).join(",")),`Target(${r})`}(Vn(t))}; limitType=${t.limitType})`}function sf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):O.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Kc(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,c){const u=w9(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Kc(r),i)||r.endAt&&!function(s,a,c){const u=w9(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Kc(r),i)));var r,i}function L9(t){return(e,n)=>{let r=!1;for(const i of Kc(t)){const o=Oae(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Oae(t,e,n){const r=t.field.isKeyField()?O.comparator(e.key,n.key):function(o,s,a){const c=s.data.field(o),u=a.data.field(o);return null!==c&&null!==u?$o(c,u):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return f9(this.inner)}size(){return this.innerSize}}const Vae=new je(O.comparator);function Yn(){return Vae}const z9=new je(O.comparator);function af(...t){let e=z9;for(const n of t)e=e.insert(n.key,n);return e}function H9(t){let e=z9;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mi(){return cf()}function U9(){return cf()}function cf(){return new eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fae=new je(O.comparator),Lae=new Oe(O.comparator);function ae(...t){let e=Lae;for(const n of t)e=e.add(n);return e}const zae=new Oe(te);function B9(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function j9(t){return{integerValue:""+t}}function $9(t,e){return function i9(t){return"number"==typeof t&&Number.isInteger(t)&&!Yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?j9(e):B9(t,e)}class Tm{constructor(){this._=void 0}}function Hae(t,e,n){return t instanceof Yc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&_m(o)&&(o=ym(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Qs?G9(t,e):t instanceof Ys?W9(t,e):function(i,o){const s=q9(i,o),a=K9(s)+K9(i.Ie);return E3(s)&&E3(i.Ie)?j9(a):B9(i.serializer,a)}(t,e)}function Uae(t,e,n){return t instanceof Qs?G9(t,e):t instanceof Ys?W9(t,e):n}function q9(t,e){return t instanceof Xc?E3(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Yc extends Tm{}class Qs extends Tm{constructor(e){super(),this.elements=e}}function G9(t,e){const n=Q9(e);for(const r of t.elements)n.some(i=>gi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ys extends Tm{constructor(e){super(),this.elements=e}}function W9(t,e){let n=Q9(e);for(const r of t.elements)n=n.filter(i=>!gi(i,r));return{arrayValue:{values:n}}}class Xc extends Tm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function K9(t){return _t(t.integerValue||t.doubleValue)}function Q9(t){return Zd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class jae{constructor(e,n){this.version=e,this.transformResults=n}}class rt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rt}static exists(e){return new rt(void 0,e)}static updateTime(e){return new rt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Am(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Sm{}function Y9(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Zc(t.key,rt.none()):new Jc(t.key,t.data,rt.none());{const n=t.data,r=un.empty();let i=new Oe(nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new to(t.key,r,new Qn(i.toArray()),rt.none())}}function $ae(t,e,n){t instanceof Jc?function(i,o,s){const a=i.value.clone(),c=Z9(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof to?function(i,o,s){if(!Am(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Z9(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(J9(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function lf(t,e,n,r){return t instanceof Jc?function(o,s,a,c){if(!Am(o.precondition,s))return a;const u=o.value.clone(),l=eN(o.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof to?function(o,s,a,c){if(!Am(o.precondition,s))return a;const u=eN(o.fieldTransforms,c,s),l=s.data;return l.setAll(J9(o)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,Am(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function qae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=q9(r.transform,i||null);null!=o&&(null===n&&(n=un.empty()),n.set(r.field,o))}return n||null}function X9(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Uc(r,i,(o,s)=>function Bae(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Qs&&i instanceof Qs||r instanceof Ys&&i instanceof Ys?Uc(r.elements,i.elements,gi):r instanceof Xc&&i instanceof Xc?gi(r.Ie,i.Ie):r instanceof Yc&&i instanceof Yc);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Jc extends Sm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends Sm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function J9(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Z9(t,e,n){const r=new Map;$(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Uae(s,a,n[i]))}return r}function eN(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Hae(o,s,e))}return r}class Zc extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M3 extends Sm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class P3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&$ae(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=U9();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const c=Y9(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Uc(this.mutations,e.mutations,(n,r)=>X9(n,r))&&Uc(this.baseMutations,e.baseMutations,(n,r)=>X9(n,r))}}class R3{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$(e.mutations.length===r.length);let i=Fae;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new R3(e,n,r,i)}}class x3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wae{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nt,ye;function nN(t){if(void 0===t)return At("GRPC error has no .code"),E.UNKNOWN;switch(t){case Nt.OK:return E.OK;case Nt.CANCELLED:return E.CANCELLED;case Nt.UNKNOWN:return E.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return E.INTERNAL;case Nt.UNAVAILABLE:return E.UNAVAILABLE;case Nt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Nt.NOT_FOUND:return E.NOT_FOUND;case Nt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Nt.ABORTED:return E.ABORTED;case Nt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Nt.DATA_LOSS:return E.DATA_LOSS;default:return H()}}(ye=Nt||(Nt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";const Kae=new Lc([4294967295,4294967295],0);function iN(t){const e=function rN(){return new TextEncoder}().encode(t),n=new jse;return n.update(e),new Uint8Array(n.digest())}function oN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Lc([n,r],0),new Lc([i,o],0)]}class N3{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new df(`Invalid padding: ${n}`);if(r<0)throw new df(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new df(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new df(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Lc.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Lc.fromNumber(r)));return 1===i.compare(Kae)&&(i=new Lc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=iN(e),[r,i]=oN(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new N3(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=iN(e),[r,i]=oN(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ff{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ff(G.min(),i,new je(te),Yn(),ae())}}class hf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hf(r,n,ae(),ae(),ae())}}class Mm{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class sN{constructor(e,n){this.targetId=e,this.fe=n}}class aN{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cN{constructor(){this.ge=0,this.pe=lN(),this.ye=Ht.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ae(),n=ae(),r=ae();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new hf(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=lN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Qae{constructor(e){this.Le=e,this.ke=new Map,this.qe=Yn(),this.Qe=uN(),this.Ke=new je(te)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:H()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(wm(o))if(0===r){const s=new O(o.path);this.We(n,s,Ke.newNoDocument(s,G.min()))}else $(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ji(r).toUint8Array()}catch(c){if(c instanceof p9)return ur("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new N3(s,i,o)}catch(c){return ur(c instanceof df?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&wm(a.target)){const c=new O(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,Ke.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ae();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.Ye(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new ff(e,n,this.Ke,this.qe,r);return this.qe=Yn(),this.Qe=uN(),this.Ke=new je(te),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new cN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Oe(te),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new cN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function uN(){return new je(O.comparator)}function lN(){return new je(O.comparator)}const Yae={asc:"ASCENDING",desc:"DESCENDING"},Xae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jae={and:"AND",or:"OR"};class Zae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function k3(t,e){return t.useProto3Json||Qd(e)?e:{value:e}}function eu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ece(t,e){return eu(t,e.toTimestamp())}function St(t){return $(!!t),G.fromTimestamp(function(n){const r=Uo(n);return new ct(r.seconds,r.nanos)}(t))}function O3(t,e){return(r=t,new _e(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function fN(t){const e=_e.fromString(t);return $(EN(e)),e}function pf(t,e){return O3(t.databaseId,e.path)}function _i(t,e){const n=fN(e);if(n.get(1)!==t.databaseId.projectId)throw new D(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(pN(n))}function V3(t,e){return O3(t.databaseId,e)}function gf(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pN(t){return $(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function gN(t,e,n){return{name:pf(t,e),fields:n.value.mapValue.fields}}function _N(t,e){return{documents:[V3(t,e.path)]}}function L3(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=V3(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=V3(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return IN(Re.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(u=>{return{field:Go((d=u).field),direction:oce(d.dir)};var d})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=k3(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function yN(t){let e=function hN(t){const e=fN(t);return 4===e.length?_e.emptyPath():pN(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(d){const f=vN(d);return f instanceof Re&&C3(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(f=>{return new tf(tu((p=f).field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,Qd(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new qo((d=n.startAt).values||[],!!d.before));let u=null;return n.endAt&&(u=function(d){return new qo(d.values||[],!d.before)}(n.endAt)),function N9(t,e,n,r,i,o,s,a){return new Zi(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",c,u)}function vN(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=tu(n.unaryFilter.field);return de.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=tu(n.unaryFilter.field);return de.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=tu(n.unaryFilter.field);return de.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=tu(n.unaryFilter.field);return de.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):void 0!==t.fieldFilter?de.create(tu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Re.create(n.compositeFilter.filters.map(r=>vN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H()}}(n.compositeFilter.op))}(t):H();var n}function oce(t){return Yae[t]}function sce(t){return Xae[t]}function ace(t){return Jae[t]}function Go(t){return{fieldPath:t.canonicalString()}}function tu(t){return nt.fromServerFormat(t.fieldPath)}function IN(t){return t instanceof de?function(n){if("=="===n.op){if(_9(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(m9(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(_9(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(m9(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:sce(n.op),value:n.value}}}(t):t instanceof Re?function(n){const r=n.getFilters().map(i=>IN(i));return 1===r.length?r[0]:{compositeFilter:{op:ace(n.op),filters:r}}}(t):H()}function cce(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EN(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class no{constructor(e,n,r,i,o=G.min(),s=G.min(),a=Ht.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wN{constructor(e){this.ut=e}}function z3(t){const e=yN({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?bm(e,e.limit,"L"):e}class ea{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(_t(e.integerValue));else if("doubleValue"in e){const r=_t(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Yd(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ji(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?y9(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):H()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),O.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}ea.St=new ea;class mce{constructor(){this.on=new q3}addToCollectionParentIndex(e,n){return this.on.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}deleteAllFieldIndexes(e){return v.resolve()}createTargetIndexes(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(lr.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class q3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Oe(_e.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Oe(_e.comparator)).toArray()}}new Uint8Array(0);class In{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class na{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new na(0)}static Nn(){return new na(-1)}}class wce{constructor(){this.changes=new eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tce{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class QN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&lf(r.mutation,i,Qn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=af();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Yn();const s=cf(),a=cf();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof to)?o=o.insert(u.key,u):void 0!==l?(s.set(u.key,l.mutation.getFieldMask()),lf(l.mutation,u,l.mutation.getFieldMask(),ct.now())):s.set(u.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Tce(l,null!==(d=s.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=cf();let i=new je((s,a)=>s-a),o=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||Qn.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||ae()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=U9();l.forEach(f=>{if(!o.has(f)){const h=Y9(n.get(f),r.get(f));null!==h&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return v.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return O.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):A3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):v.resolve(mi());let a=-1,c=o;return s.next(u=>v.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(f=>{c=c.insert(l,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,ae())).next(l=>({batchId:a,changes:H9(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new O(n)).next(r=>{let i=af();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=af();return this.indexManager.getCollectionParents(e,o).next(a=>v.forEach(a,c=>{const u=(d=n,f=c.child(o),new Zi(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,u)=>{const l=u.getKey();null===s.get(l)&&(s=s.insert(l,Ke.newInvalidDocument(l)))});let a=af();return s.forEach((c,u)=>{const l=o.get(c);void 0!==l&&lf(l.mutation,u,Qn.empty(),ct.now()),sf(n,u)&&(a=a.insert(c,u))}),a})}}class Ace{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return v.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:St(i.createTime)}),v.resolve();var i}getNamedQuery(e,n){return v.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:z3(i.bundledQuery),readTime:St(i.readTime)}),v.resolve();var i}}class Sce{constructor(){this.overlays=new je(O.comparator),this.lr=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mi();return v.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=mi(),o=n.length+1,s=new O(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((u,l)=>u-l);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=o.get(u.largestBatchId);null===l&&(l=mi(),o=o.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=mi(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return v.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new x3(n,r));let o=this.lr.get(n);void 0===o&&(o=ae(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}class G3{constructor(){this.hr=new Oe(Qt.Pr),this.Ir=new Oe(Qt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Qt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new O(new _e([])),r=new Qt(n,e),i=new Qt(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new O(new _e([])),r=new Qt(n,e),i=new Qt(n,e+1);let o=ae();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Qt(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return O.comparator(e.key,n.key)||te(e.gr,n.gr)}static Tr(e,n){return te(e.gr,n.gr)||O.comparator(e.key,n.key)}}class Dce{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Oe(Qt.Pr)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++;const s=new P3(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Qt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(s)}lookupMutationBatch(e,n){return v.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),o=i<0?0:i;return v.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),i=new Qt(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),v.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Oe(te);return n.forEach(i=>{const o=new Qt(i,0),s=new Qt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),v.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;O.isDocumentKey(o)||(o=o.child(""));const s=new Qt(new O(o),0);let a=new Oe(te);return this.yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},s),v.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){$(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return v.forEach(n.mutations,i=>{const o=new Qt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Qt(n,0),i=this.yr.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Mce{constructor(e){this.Cr=e,this.docs=new je(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(e,n){let r=Yn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ke.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Yn();const s=n.path,a=new O(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||m3(t9(l),r)<=0||(i.has(l.key)||sf(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return v.resolve(o)}getAllFromCollectionGroup(e,n,r,i){H()}vr(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Pce(this)}getSize(e){return v.resolve(this.size)}}class Pce extends wce{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Rce{constructor(e){this.persistence=e,this.Fr=new eo(n=>Ks(n),nf),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Mr=0,this.Or=new G3,this.targetCount=0,this.Nr=na.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),v.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new na(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.kn(n),v.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(o).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),v.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Or.containsKey(n))}}class W3{constructor(e,n){this.Br={},this.overlays={},this.Lr=new dr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Rce(this),this.indexManager=new mce,this.remoteDocumentCache=new Mce(r=>this.referenceDelegate.Qr(r)),this.serializer=new wN(n),this.Kr=new Ace(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sce,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Dce(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new xce(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return v.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class xce extends eae{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Gr=new G3,this.zr=null}static jr(e){return new Fm(e)}get Hr(){if(this.zr)return this.zr;throw H()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),v.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Hr,r=>{const i=O.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,G.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return v.or([()=>v.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class X3{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ae(),i=ae();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new X3(e,n.fromCache,r,i)}}class kce{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class XN{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new kce;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Hc()<=pe.DEBUG&&A("QueryEngine","SDK will not create cache indexes for query:",Qc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),v.resolve()):(Hc()<=pe.DEBUG&&A("QueryEngine","Query:",Qc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Hc()<=pe.DEBUG&&A("QueryEngine","The SDK decides to create cache indexes for query:",Qc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):v.resolve())}zi(e,n){if(k9(n))return v.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=bm(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ae(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Yi(n,a);return this.Zi(n,u,s,c.readTime)?this.zi(e,bm(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return k9(n)||i.isEqual(G.min())?v.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?v.resolve(null):(Hc()<=pe.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qc(n)),this.Xi(e,s,n,function e9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=G.fromTimestamp(1e9===r?new ct(n+1,0):new ct(n,r));return new lr(i,O.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new Oe(L9(e));return n.forEach((i,o)=>{sf(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Hc()<=pe.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",Qc(n)),this.Gi.getDocumentsMatchingQuery(e,n,lr.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Oce{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new je(te),this.ns=new eo(o=>Ks(o),nf),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QN(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function ZN(t,e){return J3.apply(this,arguments)}function J3(){return J3=m(function*(t,e){const n=k(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=ae();for(const u of i){s.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of o){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}),J3.apply(this,arguments)}function ek(t){const e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Lce(t,e){const n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function au(t,e,n){return Z3.apply(this,arguments)}function Z3(){return Z3=m(function*(t,e,n){const r=k(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!zo(s))throw s;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),Z3.apply(this,arguments)}function Hm(t,e,n){const r=k(t);let i=G.min(),o=ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,l){const d=k(c),f=d.ns.get(l);return void 0!==f?v.resolve(d.ts.get(f)):d.qr.getTargetData(u,l)}(r,s,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:G.min(),n?o:ae())).next(a=>(function ik(t,e,n){let r=t.rs.get(e)||G.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}(r,function F9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:o})))}class iI{constructor(){this.activeTargetIds=function D3(){return zae}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ak{constructor(){this.eo=new iI,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new iI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Uce{ro(e){}shutdown(){}}class ck{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jm=null;function sI(){return null===jm?jm=268435456+Math.round(2147483648*Math.random()):jm++,"0x"+jm.toString(16)}const Bce={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jce{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const En="WebChannelConnection";class $ce extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=sI(),c=this.So(n,r);A("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,o,s),this.Do(n,c,u,i).then(l=>(A("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ur("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+zc,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){return`${this.mo}/v1/${r}:${Bce[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=sI();return new Promise((s,a)=>{const c=new Bse;c.setWithCredentials(!0),c.listenOnce(zse.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case h3.NO_ERROR:const l=c.getResponseJson();A(En,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case h3.TIMEOUT:A(En,`RPC '${e}' ${o} timed out`),a(new D(E.DEADLINE_EXCEEDED,"Request time out"));break;case h3.HTTP_ERROR:const d=c.getStatus();if(A(En,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(_){const I=_.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(I)>=0?I:E.UNKNOWN}(h.status);a(new D(p,h.message))}else a(new D(E.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new D(E.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{A(En,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);A(En,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}vo(e,n,r){const i=sI(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Fse(),a=Lse(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new Use({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=o.join("");A(En,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=s.createWebChannel(l,c);let f=!1,h=!1;const p=new jce({co:_=>{h?A(En,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(A(En,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),A(En,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},lo:()=>d.close()}),g=(_,I,y)=>{_.listen(I,w=>{try{y(w)}catch(P){setTimeout(()=>{throw P},0)}})};return g(d,hm.EventType.OPEN,()=>{h||A(En,`RPC '${e}' stream ${i} transport opened.`)}),g(d,hm.EventType.CLOSE,()=>{h||(h=!0,A(En,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,hm.EventType.ERROR,_=>{h||(h=!0,ur(En,`RPC '${e}' stream ${i} transport errored:`,_),p.Ro(new D(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,hm.EventType.MESSAGE,_=>{var I;if(!h){const y=_.data[0];$(!!y);const P=y.error||(null===(I=y[0])||void 0===I?void 0:I.error);if(P){A(En,`RPC '${e}' stream ${i} received error:`,P);const N=P.status;let K=function(Xt){const us=Nt[Xt];if(void 0!==us)return nN(us)}(N),ue=P.message;void 0===K&&(K=E.INTERNAL,ue="Unknown error status: "+N+" with message "+P.message),h=!0,p.Ro(new D(K,ue)),d.close()}else A(En,`RPC '${e}' stream ${i} received:`,y),p.Vo(y)}}),g(a,Hse.STAT_EVENT,_=>{_.stat===Kx.PROXY?A(En,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Kx.NOPROXY&&A(En,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function $m(){return typeof document<"u"?document:null}function bf(t){return new Zae(t,!0)}class aI{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class lk{constructor(e,n,r,i,o,s,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new aI(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return m(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return m(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return m(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===E.RESOURCE_EXHAUSTED?(At(n.toString()),At("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new D(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(m(function*(){e.state=0,e.start()}))}o_(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qce extends lk{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function nce(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:H(),i=e.targetChange.targetIds||[],o=function(u,l){return u.useProto3Json?($(void 0===l||"string"==typeof l),Ht.fromBase64String(l||"")):($(void 0===l||l instanceof Uint8Array),Ht.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const l=void 0===u.code?E.UNKNOWN:nN(u.code);return new D(l,u.message||"")}(s);n=new aN(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=_i(t,r.document.name),o=St(r.document.updateTime),s=r.document.createTime?St(r.document.createTime):G.min(),a=new un({mapValue:{fields:r.document.fields}}),c=Ke.newFoundDocument(i,o,s,a);n=new Mm(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=_i(t,r.document),o=r.readTime?St(r.readTime):G.min(),s=Ke.newNoDocument(i,o);n=new Mm([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=_i(t,r.document);n=new Mm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return H();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Wae(i,o);n=new sN(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return G.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?St(s.readTime):G.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=gf(this.serializer),n.addTarget=function(o,s){let a;const c=s.target;if(a=wm(c)?{documents:_N(o,c)}:{query:L3(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=dN(o,s.resumeToken);const u=k3(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(G.min())>0){a.readTime=eu(o,s.snapshotVersion.toTimestamp());const u=k3(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function ice(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=gf(this.serializer),n.removeTarget=e,this.e_(n)}}class Gce extends lk{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if($(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function rce(t,e){return t&&t.length>0?($(void 0!==e),t.map(n=>function(i,o){let s=St(i.updateTime?i.updateTime:o);return s.isEqual(G.min())&&(s=St(o)),new jae(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=St(e.commitTime);return this.listener.I_(r,n)}return $(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=gf(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function mf(t,e){let n;if(e instanceof Jc)n={update:gN(t,e.key,e.value)};else if(e instanceof Zc)n={delete:pf(t,e.key)};else if(e instanceof to)n={update:gN(t,e.key,e.data),updateMask:cce(e.fieldMask)};else{if(!(e instanceof M3))return H();n={verify:pf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Yc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ys)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xc)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:ece(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:H()),n;var o}(this.serializer,r))};this.e_(n)}}class Wce extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new D(E.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(E.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(E.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class Qce{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(At(n),this.f_=!1):A("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Yce{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{r.enqueueAndForget(m(function*(){var c;Yo(s)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(c=m(function*(l){const d=k(l);d.C_.add(4),yield cu(d),d.M_.set("Unknown"),d.C_.delete(4),yield Tf(d)}),function u(l){return c.apply(this,arguments)})(s))}))}),this.M_=new Qce(r,i)}}function Tf(t){return uI.apply(this,arguments)}function uI(){return uI=m(function*(t){if(Yo(t))for(const e of t.v_)yield e(!0)}),uI.apply(this,arguments)}function cu(t){return lI.apply(this,arguments)}function lI(){return lI=m(function*(t){for(const e of t.v_)yield e(!1)}),lI.apply(this,arguments)}function qm(t,e){const n=k(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),hI(n)?fI(n):lu(n).Ho()&&dI(n,e))}function Af(t,e){const n=k(t),r=lu(n);n.D_.delete(e),r.Ho()&&dk(n,e),0===n.D_.size&&(r.Ho()?r.Zo():Yo(n)&&n.M_.set("Unknown"))}function dI(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lu(t).u_(e)}function dk(t,e){t.x_.Oe(e),lu(t).c_(e)}function fI(t){t.x_=new Qae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),lu(t).start(),t.M_.g_()}function hI(t){return Yo(t)&&!lu(t).jo()&&t.D_.size>0}function Yo(t){return 0===k(t).C_.size}function fk(t){t.x_=void 0}function Xce(t){return pI.apply(this,arguments)}function pI(){return pI=m(function*(t){t.D_.forEach((e,n)=>{dI(t,e)})}),pI.apply(this,arguments)}function Jce(t,e){return gI.apply(this,arguments)}function gI(){return gI=m(function*(t,e){fk(t),hI(t)?(t.M_.w_(e),fI(t)):t.M_.set("Unknown")}),gI.apply(this,arguments)}function Zce(t,e,n){return mI.apply(this,arguments)}function mI(){return mI=m(function*(t,e,n){if(t.M_.set("Online"),e instanceof aN&&2===e.state&&e.cause)try{yield(r=m(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Gm(t,r)}else if(e instanceof Mm?t.x_.$e(e):e instanceof sN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(G.min()))try{const r=yield ek(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const l=o.D_.get(u);l&&o.D_.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{const l=o.D_.get(c);if(!l)return;o.D_.set(c,l.withResumeToken(Ht.EMPTY_BYTE_STRING,l.snapshotVersion)),dk(o,c);const d=new no(l.target,c,u,l.sequenceNumber);dI(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield Gm(t,r)}var r}),mI.apply(this,arguments)}function Gm(t,e,n){return _I.apply(this,arguments)}function _I(){return _I=m(function*(t,e,n){if(!zo(e))throw e;t.C_.add(1),yield cu(t),t.M_.set("Offline"),n||(n=()=>ek(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Tf(t)}))}),_I.apply(this,arguments)}function hk(t,e){return e().catch(n=>Gm(t,n,e))}function uu(t){return yI.apply(this,arguments)}function yI(){return yI=m(function*(t){const e=k(t),n=Xo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;eue(e);)try{const i=yield Lce(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,tue(e,i)}catch(i){yield Gm(e,i)}pk(e)&&gk(e)}),yI.apply(this,arguments)}function eue(t){return Yo(t)&&t.b_.length<10}function tue(t,e){t.b_.push(e);const n=Xo(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function pk(t){return Yo(t)&&!Xo(t).jo()&&t.b_.length>0}function gk(t){Xo(t).start()}function nue(t){return vI.apply(this,arguments)}function vI(){return vI=m(function*(t){Xo(t).E_()}),vI.apply(this,arguments)}function rue(t){return II.apply(this,arguments)}function II(){return II=m(function*(t){const e=Xo(t);for(const n of t.b_)e.P_(n.mutations)}),II.apply(this,arguments)}function iue(t,e,n){return EI.apply(this,arguments)}function EI(){return EI=m(function*(t,e,n){const r=t.b_.shift(),i=R3.from(r,e,n);yield hk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield uu(t)}),EI.apply(this,arguments)}function oue(t,e){return wI.apply(this,arguments)}function wI(){return wI=m(function*(t,e){var n;e&&Xo(t).h_&&(yield(n=m(function*(i,o){if(function tN(t){switch(t){default:return H();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}(a=o.code)&&a!==E.ABORTED){const s=i.b_.shift();Xo(i).Yo(),yield hk(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield uu(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),pk(t)&&gk(t)}),wI.apply(this,arguments)}function mk(t,e){return CI.apply(this,arguments)}function CI(){return CI=m(function*(t,e){const n=k(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Yo(n);n.C_.add(3),yield cu(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Tf(n)}),CI.apply(this,arguments)}function TI(){return TI=m(function*(t,e){const n=k(t);e?(n.C_.delete(2),yield Tf(n)):e||(n.C_.add(2),yield cu(n),n.M_.set("Unknown"))}),TI.apply(this,arguments)}function lu(t){return t.O_||(t.O_=function(n,r,i){const o=k(n);return o.A_(),new qce(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Xce.bind(null,t),Io:Jce.bind(null,t),a_:Zce.bind(null,t)}),t.v_.push(function(){var e=m(function*(n){n?(t.O_.Yo(),hI(t)?fI(t):t.M_.set("Unknown")):(yield t.O_.stop(),fk(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function Xo(t){return t.N_||(t.N_=function(n,r,i){const o=k(n);return o.A_(),new Gce(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:nue.bind(null,t),Io:oue.bind(null,t),T_:rue.bind(null,t),I_:iue.bind(null,t)}),t.v_.push(function(){var e=m(function*(n){n?(t.N_.Yo(),yield uu(t)):(yield t.N_.stop(),t.b_.length>0&&(A("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class AI{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new AI(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function du(t,e){if(At("AsyncQueue",`${e}: ${t}`),zo(t))return new D(E.UNAVAILABLE,`${e}: ${t}`);throw t}class fu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||O.comparator(n.key,r.key):(n,r)=>O.comparator(n.key,r.key),this.keyedMap=af(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new fu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class _k{constructor(){this.B_=new je(O.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):H():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hu{constructor(e,n,r,i,o,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new hu(e,n,fu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class sue{constructor(){this.k_=void 0,this.listeners=[]}}class aue{constructor(){this.queries=new eo(e=>V9(e),rf),this.onlineState="Unknown",this.q_=new Set}}function DI(){return DI=m(function*(t,e){const n=k(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new sue),i)try{o.k_=yield n.onListen(r)}catch(s){const a=du(s,`Initialization of query '${Qc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&RI(n)}),DI.apply(this,arguments)}function PI(){return PI=m(function*(t,e){const n=k(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),PI.apply(this,arguments)}function cue(t,e){const n=k(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&RI(n)}function uue(t,e,n){const r=k(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function RI(t){t.q_.forEach(e=>{e.next()})}class xI{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Ik{constructor(e){this.key=e}}class Ek{constructor(e){this.key=e}}class wk{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ae(),this.mutatedKeys=ae(),this._a=L9(e),this.aa=new fu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new _k,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const f=i.get(l),h=sf(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let _=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),_=!0):this.ha(f,h)||(r.track({type:2,doc:h}),_=!0,(c&&this._a(h,c)>0||u&&this._a(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),_=!0):f&&!h&&(r.track({type:1,doc:f}),_=!0,(c||u)&&(a=!0)),_&&(h?(s=s.add(h),o=g?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((u,l)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return p(f)-p(h)}(u.type,l.type)||this._a(u.doc,l.doc)),this.Pa(r);const s=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new hu(this.query,e.aa,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new _k,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ae(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Ek(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new Ik(r))}),n}da(e){this.ia=e.ls,this.oa=ae();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return hu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class fue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hue{constructor(e){this.key=e,this.Ra=!1}}class pue{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new eo(a=>V9(a),rf),this.fa=new Map,this.ga=new Set,this.pa=new je(O.comparator),this.ya=new Map,this.wa=new G3,this.Sa={},this.ba=new Map,this.Da=na.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function gue(t,e){return NI.apply(this,arguments)}function NI(){return NI=m(function*(t,e){const n=function nE(t){const e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ck.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yue.bind(null,e),e.Va.a_=cue.bind(null,e.eventManager),e.Va.Fa=uue.bind(null,e.eventManager),e}(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=yield function su(t,e){const n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,v.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new no(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Vn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function kI(t,e,n,r,i){return OI.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&qm(n.remoteStore,s)}return i}),NI.apply(this,arguments)}function OI(){return OI=m(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=m(function*(_,I,y,w){let P=I.view.ca(y);P.Zi&&(P=yield Hm(_.localStore,I.query,!1).then(({documents:ue})=>I.view.ca(ue,P)));const N=w&&w.targetChanges.get(I.targetId),K=I.view.applyChanges(P,_.isPrimaryClient,N);return qI(_,I.targetId,K.Ta),K.snapshot}),function g(_,I,y,w){return p.apply(this,arguments)})(t,d,f,h);var p};const o=yield Hm(t.localStore,e,!0),s=new wk(e,o.ls),a=s.ca(o.documents),c=hf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,c);qI(t,n,u.Ta);const l=new fue(e,n,s);return t.ma.set(e,l),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}),OI.apply(this,arguments)}function mue(t,e){return VI.apply(this,arguments)}function VI(){return VI=m(function*(t,e){const n=k(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!rf(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield au(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Af(n.remoteStore,r.targetId),pu(n,r.targetId)}).catch(Lo))):(pu(n,r.targetId),yield au(n.localStore,r.targetId,!0))}),VI.apply(this,arguments)}function FI(){return FI=m(function*(t,e,n){const r=function rE(t){const e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Iue.bind(null,e),e}(t);try{const i=yield function(s,a){const c=k(s),u=ct.now(),l=a.reduce((h,p)=>h.add(p.key),ae());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Yn(),g=ae();return c.ss.getEntries(h,l).next(_=>{p=_,p.forEach((I,y)=>{y.isValidDocument()||(g=g.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(_=>{d=_;const I=[];for(const y of a){const w=qae(y,d.get(y.key).overlayedDocument);null!=w&&I.push(new to(y.key,w,E9(w.value.mapValue),rt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,u,I,a)}).next(_=>{f=_;const I=_.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,_.batchId,I)})}).then(()=>({batchId:f.batchId,changes:H9(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let u=s.Sa[s.currentUser.toKey()];u||(u=new je(te)),u=u.insert(a,c),s.Sa[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ro(r,i.changes),yield uu(r.remoteStore)}catch(i){const o=du(i,"Failed to persist write");n.reject(o)}}),FI.apply(this,arguments)}function Ck(t,e){return LI.apply(this,arguments)}function LI(){return LI=m(function*(t,e){const n=k(t);try{const r=yield function Fce(t,e){const n=k(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((l,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,l.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);var g,_,I;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Ht.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(d,h),_=h,I=l,(0===(g=f).resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(o,h))});let c=Yn(),u=ae();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function tk(t,e,n){let r=ae(),i=ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Yn();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(G.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:s,cs:i}})}(o,s,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(G.min())){const l=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.ts=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&($(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?$(s.Ra):i.removedDocuments.size>0&&($(s.Ra),s.Ra=!1))}),yield ro(n,r,e)}catch(r){yield Lo(r)}}),LI.apply(this,arguments)}function bk(t,e,n){const r=k(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const c=k(s);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(const f of d.listeners)f.Q_(a)&&(u=!0)}),u&&RI(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yue(t,e,n){return zI.apply(this,arguments)}function zI(){return zI=m(function*(t,e,n){const r=k(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new je(O.comparator);s=s.insert(o,Ke.newNoDocument(o,G.min()));const a=ae().add(o),c=new ff(G.min(),new Map,new je(te),s,a);yield Ck(r,c),r.pa=r.pa.remove(o),r.ya.delete(e),GI(r)}else yield au(r.localStore,e,!1).then(()=>pu(r,e,n)).catch(Lo)}),zI.apply(this,arguments)}function vue(t,e){return HI.apply(this,arguments)}function HI(){return HI=m(function*(t,e){const n=k(t),r=e.batch.batchId;try{const i=yield function Vce(t,e){const n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){const d=u.batch,f=d.keys();let h=v.resolve();return f.forEach(p=>{h=h.next(()=>l.getEntry(c,p)).next(g=>{const _=u.docVersions.get(p);$(null!==_),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),l.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);$I(n,r,null),jI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ro(n,i)}catch(i){yield Lo(i)}}),HI.apply(this,arguments)}function Iue(t,e,n){return UI.apply(this,arguments)}function UI(){return UI=m(function*(t,e,n){const r=k(t);try{const i=yield function(s,a){const c=k(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>($(null!==d),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);$I(r,e,n),jI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ro(r,i)}catch(i){yield Lo(i)}}),UI.apply(this,arguments)}function jI(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function $I(t,e,n){const r=k(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function pu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||Tk(t,r)})}function Tk(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(Af(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),GI(t))}function qI(t,e,n){for(const r of n)r instanceof Ik?(t.wa.addReference(r.key,e),wue(t,r)):r instanceof Ek?(A("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||Tk(t,r.key)):H()}function wue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(A("SyncEngine","New document in limbo: "+n),t.ga.add(r),GI(t))}function GI(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new O(_e.fromString(e)),r=t.Da.next();t.ya.set(r,new hue(n)),t.pa=t.pa.insert(n,r),qm(t.remoteStore,new no(Vn(Wc(n.path)),r,"TargetPurposeLimboResolution",dr._e))}}function ro(t,e,n){return WI.apply(this,arguments)}function WI(){return WI=m(function*(t,e,n){const r=k(t),i=[],o=[],s=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{s.push(r.va(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=X3.Qi(c.targetId,u);o.push(l)}}))}),yield Promise.all(s),r.Va.a_(i),yield(a=m(function*(u,l){const d=k(u);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>v.forEach(l,h=>v.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>v.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!zo(f))throw f;A("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),_=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,_)}}}),function c(u,l){return a.apply(this,arguments)})(r.localStore,o))}),WI.apply(this,arguments)}function Cue(t,e){return KI.apply(this,arguments)}function KI(){return KI=m(function*(t,e){const n=k(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield ZN(n.localStore,e);n.currentUser=e,(o=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new D(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ro(n,r._s)}var o}),KI.apply(this,arguments)}function bue(t,e){const n=k(t),r=n.ya.get(e);if(r&&r.Ra)return ae().add(r.key);{let i=ae();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}class Wm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.serializer=bf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function JN(t,e,n,r){return new Oce(t,e,n,r)}(this.persistence,new XN,e.initialUser,this.serializer)}createPersistence(e){return new W3(Fm.jr,this.serializer)}createSharedClientState(e){return new ak}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gu{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>bk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Cue.bind(null,r.syncEngine),yield function bI(t,e){return TI.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new aue}createDatastore(e){const n=bf(e.databaseInfo.databaseId),r=new $ce(e.databaseInfo);return new Wce(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>bk(this.syncEngine,n,0),a=ck.D()?new ck:new Uce,new Yce(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,c,u,l){const d=new pue(i,o,s,a,c,u);return l&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(r){const i=k(r);A("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield cu(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Km{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):At("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Fue{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=Jx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=m(function*(a){A("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(A("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=du(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Qm(t,e){return iE.apply(this,arguments)}function iE(){return iE=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(o){r.isEqual(o)||(yield ZN(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),iE.apply(this,arguments)}function oE(t,e){return sE.apply(this,arguments)}function sE(){return sE=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function aE(t){return cE.apply(this,arguments)}(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>mk(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>mk(e.remoteStore,o)),t._onlineComponents=e}),sE.apply(this,arguments)}function cE(){return cE=m(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Qm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Rk(t){return"FirebaseError"===t.name?t.code===E.FAILED_PRECONDITION||t.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ur("Error using user provided cache. Falling back to memory cache: "+n),yield Qm(t,new Wm)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield Qm(t,new Wm);return t._offlineComponents}),cE.apply(this,arguments)}function Ym(t){return uE.apply(this,arguments)}function uE(){return uE=m(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield oE(t,t._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield oE(t,new gu))),t._onlineComponents}),uE.apply(this,arguments)}function _u(t){return dE.apply(this,arguments)}function dE(){return dE=m(function*(t){const e=yield Ym(t),n=e.eventManager;return n.onListen=gue.bind(null,e.syncEngine),n.onUnlisten=mue.bind(null,e.syncEngine),n}),dE.apply(this,arguments)}function Fk(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Lk=new Map;function fE(t,e,n){if(!n)throw new D(E.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zk(t){if(!O.isDocumentKey(t))throw new D(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hk(t){if(O.isDocumentKey(t))throw new D(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":H()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xm(t);throw new D(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Bk{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new D(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Kue(t,e,n,r){if(!0===e&&!0===r)throw new D(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Fk(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new D(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new D(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new D(E.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bk(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new $se;switch(r.type){case"firstParty":return new Kse(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new D(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Lk.get(n);r&&(A("ComponentProvider","Removing Datastore"),Lk.delete(n),r.terminate())}(this),Promise.resolve()}}class ln{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ln(this.firestore,e,this._query)}}class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}}class yi extends ln{constructor(e,n,r){super(e,n,Wc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new O(e))}withConverter(e){return new yi(this.firestore,e,this._path)}}function Yue(t,e,...n){if(t=ht(t),fE("collection","path",e),t instanceof Sf){const r=_e.fromString(e,...n);return Hk(r),new yi(t,null,r)}{if(!(t instanceof Dt||t instanceof yi))throw new D(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return Hk(r),new yi(t.firestore,null,r)}}function jk(t,e,...n){if(t=ht(t),1===arguments.length&&(e=Jx.newId()),fE("doc","path",e),t instanceof Sf){const r=_e.fromString(e,...n);return zk(r),new Dt(t,null,new O(r))}{if(!(t instanceof Dt||t instanceof yi))throw new D(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return zk(r),new Dt(t.firestore,t instanceof yi?t.converter:null,new O(r))}}class Xue{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new aI(this,"async_queue_retry"),this.iu=()=>{const n=$m();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=$m();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=$m();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new zt;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return m(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!zo(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,At("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=AI.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&H()}verifyOperationInProgress(){}uu(){var e=this;return m(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function hE(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class $e extends Sf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Xue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qk(this),this._firestoreClient.terminate()}}function Zue(t,e){const r="string"==typeof t?t:e||"(default)",i=ui("object"==typeof t?t:bc(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(t=>{const e=XM("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();o&&function Que(t,e,n,r={}){var i;const o=(t=fe(t,Sf))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Wt.MOCK_USER;else{a=function Gee(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pg(JSON.stringify({alg:"none",type:"JWT"})),pg(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new D(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Wt(u)}t._authCredentials=new qse(new Yx(a,c))}}(i,...o)}return i}function Mt(t){return t._firestoreClient||qk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qk(t){var e,n,r;const i=t._freezeSettings(),o=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new bae(t._databaseId,c,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Fk(l.experimentalLongPollingOptions),l.useFetchStreams));var c,l;t._firestoreClient=new Fue(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(Ht.fromBase64String(e))}catch(n){throw new D(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ia(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pE{constructor(e){this._methodName=e}}class gE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const tle=/^__.*__$/;class nle{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new to(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jc(e,this.data,n,this.fieldTransforms)}}class Kk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new to(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}class Jm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return e1(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Qk(this.Iu)&&tle.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class rle{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bf(e)}pu(e,n,r,i=!1){return new Jm({Iu:e,methodName:n,gu:r,path:nt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vu(t){const e=t._freezeSettings(),n=bf(t._databaseId);return new rle(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mE(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);yE("Data must be an object, but it was:",s,r);const a=eO(r,s);let c,u;if(o.merge)c=new Qn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const f=Pf(e,d,n);if(!s.contains(f))throw new D(E.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);nO(l,f)||l.push(f)}c=new Qn(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new nle(new un(a),c,u)}class Mf extends pE{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mf}}function oa(t,e){if(tO(t=ht(t)))return yE("Unsupported field value:",e,t),eO(t,e);if(t instanceof pE)return function(r,i){if(!Qk(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let c=oa(a,i.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=ht(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return $9(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=ct.fromDate(r);return{timestampValue:eu(i.serializer,o)}}if(r instanceof ct){const o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eu(i.serializer,o)}}if(r instanceof gE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ia)return{bytesValue:dN(i.serializer,r._byteString)};if(r instanceof Dt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:O3(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Xm(r)}`)}(t,e)}function eO(t,e){const n={};return f9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(t,(r,i)=>{const o=oa(i,e.Eu(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function tO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof gE||t instanceof ia||t instanceof Dt||t instanceof pE)}function yE(t,e,n){if(!tO(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Xm(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Pf(t,e,n){if((e=ht(e))instanceof yu)return e._internalPath;if("string"==typeof e)return Zm(t,e);throw e1("Field path arguments must be of type string or ",t,!1,void 0,n)}const ale=new RegExp("[~\\*/\\[\\]]");function Zm(t,e,n){if(e.search(ale)>=0)throw e1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yu(...e.split("."))._internalPath}catch{throw e1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function e1(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new D(E.INVALID_ARGUMENT,a+t+c)}function nO(t,e){return t.some(n=>n.isEqual(e))}class vE{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(t1("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class cle extends vE{data(){return super.data()}}function t1(t,e){return"string"==typeof e?Zm(t,e):e instanceof yu?e._internalPath:e._delegate._internalPath}class IE{}class EE extends IE{}function ule(t,e,...n){let r=[];e instanceof IE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof Iu).length,a=o.filter(c=>c instanceof Rf).length;if(s>1||s>0&&a>0)throw new D(E.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Rf extends EE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rf(e,n,r)}_apply(e){const n=this._parse(e);return aO(e._query,n),new ln(e.firestore,e.converter,S3(e._query,n))}_parse(e){const n=vu(e.firestore);return function(o,s,a,c,u,l,d){let f;if(u.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new D(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){sO(d,l);const h=[];for(const p of d)h.push(oO(c,o,p));f={arrayValue:{values:h}}}else f=oO(c,o,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||sO(d,l),f=function Zk(t,e,n,r=!1){return oa(n,t.pu(r?4:3,e))}(a,"where",d,"in"===l||"not-in"===l);return de.create(u,l,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function lle(t,e,n){const r=e,i=t1("where",t);return Rf._create(i,r,n)}class Iu extends IE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iu(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Re.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const c of a)aO(s,c),s=S3(s,c)}(e._query,n),new ln(e.firestore,e.converter,S3(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wE extends EE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wE(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new D(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new D(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tf(o,s)}(e._query,this._field,this._direction);return new ln(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Zi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function dle(t,e="asc"){const n=e,r=t1("orderBy",t);return wE._create(r,n)}class n1 extends EE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new n1(e,n,r)}_apply(e){return new ln(e.firestore,e.converter,bm(e._query,this._limit,this._limitType))}}function fle(t){return function Uk(t,e){if(e<=0)throw new D(E.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),n1._create("limit",t,"F")}function oO(t,e,n){if("string"==typeof(n=ht(n))){if(""===n)throw new D(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A3(e)&&-1!==n.indexOf("/"))throw new D(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_e.fromString(n));if(!O.isDocumentKey(r))throw new D(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ws(t,new O(r))}if(n instanceof Dt)return Ws(t,n._key);throw new D(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xm(n)}.`)}function sO(t,e){if(!Array.isArray(t)||0===t.length)throw new D(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aO(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new D(E.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hle{convertValue(e,n="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw H()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ho(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new gE(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ym(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xd(e));default:return null}}convertTimestamp(e){const n=Uo(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);$(EN(r));const i=new Gs(r.get(1),r.get(3)),o=new O(r.popFirst(5));return i.isEqual(n)||At(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class sa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eu extends vE{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new o1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(t1("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class o1 extends Eu{data(e={}){return super.data(e)}}class wu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new o1(this._firestore,this._userDataWriter,r.key,r,new sa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new o1(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new o1(i._firestore,i._userDataWriter,a.doc.key,a.doc,new sa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,l=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:gle(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gle(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}class Jo extends hle{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function mle(t,e,n,...r){t=fe(t,Dt);const i=fe(t.firestore,$e),o=vu(i);let s;return s="string"==typeof(e=ht(e))||e instanceof yu?function Jk(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[Pf(e,r,n)],c=[i];if(o.length%2!=0)throw new D(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(Pf(e,o[f])),c.push(o[f+1]);const u=[],l=un.empty();for(let f=a.length-1;f>=0;--f)if(!nO(u,a[f])){const h=a[f];let p=c[f];p=ht(p);const g=s.Ru(h);if(p instanceof Mf)u.push(h);else{const _=oa(p,g);null!=_&&(u.push(h),l.set(h,_))}}const d=new Qn(u);return new Kk(l,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function Xk(t,e,n,r){const i=t.pu(1,e,n);yE("Data must be an object, but it was:",i,r);const o=[],s=un.empty();Ho(r,(c,u)=>{const l=Zm(e,c,n);u=ht(u);const d=i.Ru(l);if(u instanceof Mf)o.push(l);else{const f=oa(u,d);null!=f&&(o.push(l),s.set(l,f))}});const a=new Qn(o);return new Kk(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),xf(i,[s.toMutation(t._key,rt.exists(!0))])}function _le(t){return xf(fe(t.firestore,$e),[new Zc(t._key,rt.none())])}function yle(t,e){const n=fe(t.firestore,$e),r=jk(t),i=function CE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return xf(n,[mE(vu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,rt.exists(!1))]).then(()=>r)}function xf(t,e){return function(r,i){const o=new zt;return r.asyncQueue.enqueueAndForget(m(function*(){return function _ue(t,e,n){return FI.apply(this,arguments)}(yield function lE(t){return Ym(t).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(Mt(t),e)}!function(e,n=!0){zc=Cc,Cr(new sr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new $e(new Gse(r.getProvider("auth-internal")),new Qse(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new D(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gs(u.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),pt(Qx,"4.3.2",e),pt(Qx,"4.3.2","esm2017")}();var c1=function(){return c1=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},c1.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var xle={includeMetadataChanges:!1};function SE(t,e){return void 0===e&&(e=xle),new we(function(n){var r=function vle(t,...e){var n,r,i;t=ht(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||hE(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(hE(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,u,l;if(t instanceof Dt)u=fe(t.firestore,$e),l=Wc(t._key.path),c={next:d=>{e[s]&&e[s](function bE(t,e,n){const r=n.docs.get(e._key),i=new Jo(t);return new Eu(t,i,e._key,r,new sa(n.hasPendingWrites,n.fromCache),e.converter)}(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=fe(t,ln);u=fe(d.firestore,$e),l=d._query;const f=new Jo(u);c={next:h=>{e[s]&&e[s](new wu(u,f,d,h))},error:e[s+1],complete:e[s+2]},function rO(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const _=new Km(g),I=new xI(h,_,p);return f.asyncQueue.enqueueAndForget(m(function*(){return function SI(t,e){return DI.apply(this,arguments)}(yield _u(f),I)})),()=>{_.Na(),f.asyncQueue.enqueueAndForget(m(function*(){return function MI(t,e){return PI.apply(this,arguments)}(yield _u(f),I)}))}}(Mt(u),l,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function kle(t,e){return void 0===e&&(e={}),function Nle(t){return SE(t,{includeMetadataChanges:!0})}(t).pipe(Ie(function(n){return fO(n,e)}))}function fO(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?c1(c1({},r),((n={})[e.idField]=t.id,n)):r}function Hle(t,e){return void 0===e&&(e={}),function zle(t){return SE(t,{includeMetadataChanges:!0}).pipe(Ie(function(e){return e.docs}))}(t).pipe(Ie(function(n){return n.map(function(r){return fO(r,e)})}))}class vi{constructor(e){return e}}const mO="firestore",PE=new z("angularfire2.firestore-instances");function $le(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new vi(r)}}const qle={provide:class Ble{constructor(){return wg(mO)}},deps:[[new jt,PE]]},Gle={provide:vi,useFactory:function jle(t,e){const n=Eg(mO,t,e);return n&&new vi(n)},deps:[[new jt,PE],xs]};let Wle=(()=>{var t;class e{constructor(){pt("angularfire",xo.full,"fst")}}return t=e,Ae(e,"\u0275fac",function(r){return new(r||t)}),Ae(e,"\u0275mod",Xe({type:t})),Ae(e,"\u0275inj",Ge({providers:[Gle,qle]})),e})();function aa(t,...e){return{ngModule:Wle,providers:[{provide:PE,useFactory:$le(t),multi:!0,deps:[ve,Ft,ld,dd,[new jt,RR],[new jt,mv],...e]}]}}const Cu=gt(Hle,!0),Kle=gt(kle,!0),_O=gt(yle,!0),Ii=gt(Yue,!0),Qle=gt(_le,!0),u1=gt(jk,!0),ca=gt(Zue,!0),yO=gt(fle,!0),l1=gt(dle,!0),bu=gt(ule,!0),vO=gt(mle,!0),Zo=gt(lle,!0);class IO{constructor(e,n,r){this._user=e,this._value=JSON.stringify(n),this._ttl=r,this._expiry=Date.now()+r}get user(){return this._user}set user(e){this._user=e}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{user:this.user,ttl:this.ttl,expiry:this.expiry,value:this.value}}}var Tu,wn=function(t){return t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.ACTIVE_ORDERS="active-orders",t.VERSION="version",t.UPDATE_AVAILABLE="update-available",t}(wn||{});class Ei{constructor(){this.cachedUsername=null}cache(e,n,r=0){const i=new IO(this.username(),n,r);localStorage.setItem(e,JSON.stringify(i))}getVersion(){return localStorage.getItem(wn.VERSION)}get(e){const n=localStorage.getItem(e);if(!n)return null;const r=Object.assign(IO,JSON.parse(n));return this.username()!==r.user||r.ttl>0&&Date.now()>r.expiry?(localStorage.removeItem(e),null):JSON.parse(r.value)}remove(e){localStorage.removeItem(e)}username(){if(null==this.cachedUsername){let e=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();0==e.indexOf("[")&&4==e.indexOf("]")&&(e=e.substring(5,e.length)),this.cachedUsername=e.toLowerCase()}return this.cachedUsername}}(Tu=Ei).\u0275fac=function(e){return new(e||Tu)},Tu.\u0275prov=B({token:Tu,factory:Tu.\u0275fac,providedIn:"platform"}),D2([M2(2,jt())],Ei.prototype,"cache",null);let EO=(()=>{var t;class e{constructor(){this.firestore=T(vi),this.localStorageService=T(Ei)}subscribeToFleetOrders(r,i,o){let s=Ii(this.firestore,"orders");Cu(bu(s,Zo("user","==",r),Zo("executed","==",!1)),{idField:"id"}).forEach(a=>{i.next(a.length),a.length>0?this.localStorageService.cache(wn.ACTIVE_ORDERS,a.length):this.localStorageService.remove(wn.ACTIVE_ORDERS),o.detectChanges(),document.querySelector(".local-orders-badge")&&(document.querySelector(".local-orders-badge").style.display="none")}).catch(a=>{console.log(a)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class RE{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class wO{constructor(){this._orbit=0,this._ground=0,this._workers=new RE,this._soldiers=new RE,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class xE{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Yle=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let o=new wO,s=i.querySelectorAll(".resourceLine .left > span"),a=[];s.forEach(u=>{let l=u.textContent.split(/\s+/),d=new xE;d.name=u.parentElement.className.split(/\s+/)[2],d.stored=parseInt(l[0].replace(/,/g,"")),d.production=parseInt(l[1].substring(1,l[1].length-1).replace(/,/g,"")),d.abundance=parseInt(l[2].replace(/,/g,"")),a.push(d)}),o.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];o.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),o.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),o.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),o.name=i.querySelectorAll(".planetName > a")[0].innerHTML,o.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),o.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),o.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(o)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class CO{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new RE,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{id:this.id,resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var Cn=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(Cn||{});class Xle{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Jle{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var qe=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(qe||{});class bO{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let Zle=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let o,r=new CO,i=document.querySelectorAll("#contentBox #planetHeader")[1];switch(i.querySelectorAll(".planetHeadSection .resource > span").length){case 5:o=Cn.SURFACE;break;case 2:o=Cn.RESOURCE;break;case 0:o=Cn.FLEET;break;default:o=Cn.UNKNOWN}let s=new Xle(r,o);if(o!==Cn.UNKNOWN){s.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();s.planetScan.owner="This planet is unoccupied."!==c?new bO(c.split("Owner:")[1].trim(),""):new bO("Uninhabited Planet",a.substring(1,a.length-1))}if((o===Cn.RESOURCE||o===Cn.SURFACE)&&(s.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),s.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim()),s.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")),o===Cn.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new xE;c.name=a.textContent.trim().toLowerCase(),s.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{s.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),o===Cn.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let u=new xE;u.name=c.textContent.trim().toLowerCase(),s.planetScan.resources.push(u)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,u)=>{s.planetScan.resources[u].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,u)=>{s.planetScan.resources[u].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span")[4].textContent.trim().split(/\s+/)[0];s.planetScan.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),s.planetScan.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),s.planetScan.workers.available=parseInt(a.substring(1,a.length).replace(/,/g,"")),s.planetScan.soldiers=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[2].textContent.trim().replace(/,/g,"")),i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{s.planetScan.structures.push(new Jle(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),s.planetScan.structures.forEach(c=>{switch(c.name){case qe.OUTPOST:s.planetScan.resources[0].production+=300,s.planetScan.resources[1].production+=200,s.planetScan.resources[2].production+=100;break;case qe.METAL_MINE:s.planetScan.resources[0].production+=300*c.quantity;break;case qe.MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=200*c.quantity;break;case qe.FARM:s.planetScan.resources[2].production+=300*c.quantity;break;case qe.SOLAR_GENERATOR:s.planetScan.resources[3].production+=100*c.quantity;break;case qe.CORE_METAL_MINE:s.planetScan.resources[0].production+=900*c.quantity;break;case qe.CORE_MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=600*c.quantity;break;case qe.HYDROPONICS_LAB:s.planetScan.resources[2].production+=900*c.quantity;break;case qe.SOLAR_ARRAY:s.planetScan.resources[3].production+=300*c.quantity;break;case qe.STRIP_METAL_MINE:s.planetScan.resources[0].production+=9e3*c.quantity;break;case qe.STRIP_MINERAL_EXTRACTOR:s.planetScan.resources[1].production+=6e3*c.quantity;break;case qe.HYDROPONICS_DOME:s.planetScan.resources[2].production+=9e3*c.quantity;break;case qe.SOLAR_STATION:s.planetScan.resources[3].production+=3e3*c.quantity}})}return s.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),s}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),ede=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let o=new wO;o.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(o)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class tde{get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get note(){return this._note}set note(e){this._note=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,note:this.note,dgId:this.dgId,kickEta:this.kickEta}}}let nde=(()=>{var t;class e{constructor(){this.localStorageService=T(Ei)}extract(){let r=this.localStorageService.get(wn.ALLIANCE_MEMBERS)||[];return 0==r.length&&!document.querySelector('[action="/alliances/join/"]')&&(document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&i.querySelectorAll(".player").forEach(o=>{let s=new tde;if(null!=o.querySelector("div.note")?s.note=o.querySelector("div.note").childNodes[0].textContent.trim():null!=o.querySelector('input[name="note"]')&&(s.note=o.querySelector('input[name="note"]').value.trim()),null!=o.querySelector('[action^="/alliances/note/"]')){let a=o.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);s.dgId=a[a.length-2]}null==o.querySelector('[action="/alliances/kick/"] input')&&null!=o.querySelector(".right>b")&&(s.kickEta=o.querySelector(".right>b").textContent.trim().toLowerCase()),null!=o.querySelector("div.name")&&(s.name=o.querySelector("div.name").childNodes[0].textContent.trim(),r.push(s))})}),this.localStorageService.cache(wn.ALLIANCE_MEMBERS,r,432e5)),r}cleanAfterExtract(){document.querySelector(".dgt-orders-manager-panel.user")&&document.querySelector(".dgt-orders-manager-panel.user").remove(),document.querySelectorAll(".allianceBox").forEach(r=>{r.querySelector(".plainHeader")&&"member list"===r.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(r.querySelector(".plainHeader").remove(),r.querySelector(".playerList").remove())})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Au;class io{constructor(){this.planetListExtractor=T(Yle),this.planetScanExtractor=T(Zle),this.navigationSystemPlanetsExtractor=T(ede),this.allianceMembersExtractor=T(nde),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}allianceMembers(e){let n=this.allianceMembersExtractor.extract();return e&&this.allianceMembersExtractor.cleanAfterExtract(),n}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}(Au=io).\u0275fac=function(e){return new(e||Au)},Au.\u0275prov=B({token:Au,factory:Au.\u0275fac,providedIn:"platform"}),D2([M2(0,jt())],io.prototype,"username",null);class NE{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Nf=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(Nf||{});let Su=(()=>{var t;class e{constructor(){this.localStorageService=T(Ei),this._authState=new ot,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}setUpFirebaseAuthSubscription(r,i){null!=this.authSubscription&&this.authSubscription.unsubscribe(),this.authSubscription=xR(r).subscribe(o=>{null!=o?Cu(bu(Ii(i,"valid-users"),Zo("email","==",o.email),yO(1))).subscribe(s=>{if(s.length>0){let a=Object.assign({email:"",enabled:!1,role:Nf.USER},s[0]);a.enabled?(this.localStorageService.cache(wn.USER,{user:o.email}),this._authState.emit(new NE(!0,a.role))):this.signOut(r,!1)}else this.signOut(r,!1)}):(this.localStorageService.remove(wn.USER),this._authState.emit(new NE(!1,null)))})}signInWithEmailAndPassword(r,i,o,s){Ooe(r,i,o).then(()=>{s&&location.reload()}).catch(a=>{window.alert(a.message)})}signInWithGoogle(r,i){Voe(r,new xre).then(()=>{i&&location.reload()}).catch(o=>{window.alert(o.message)})}signOut(r,i){this.localStorageService.remove(wn.USER),this._refreshInProgress=i,this._authState.emit(new NE(!0,null)),r.signOut().then(()=>{i&&location.reload()}).catch(o=>{window.alert(o.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function oo(t,e){return It((n,r)=>{let i=0;n.subscribe(lt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function kE(...t){return function ide(){return Ch(1)}()(fn(t,Yu(t)))}function TO(...t){const e=Yu(t);return It((n,r)=>{(e?kE(t,n,e):kE(t,n)).subscribe(r)})}const sde=(t,e)=>e.some(n=>t instanceof n);let AO,SO;const DO=new WeakMap,OE=new WeakMap,MO=new WeakMap,VE=new WeakMap,FE=new WeakMap;let LE={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return OE.get(t);if("objectStoreNames"===e)return t.objectStoreNames||MO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function hde(t){return"function"==typeof t?function fde(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cde(){return SO||(SO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(zE(this),e),es(DO.get(this))}:function(...e){return es(t.apply(zE(this),e))}:function(e,...n){const r=t.call(zE(this),e,...n);return MO.set(r,e.sort?e.sort():[e]),es(r)}}(t):(t instanceof IDBTransaction&&function lde(t){if(OE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});OE.set(t,e)}(t),sde(t,function ade(){return AO||(AO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,LE):t)}function es(t){if(t instanceof IDBRequest)return function ude(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(es(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&DO.set(n,t)}).catch(()=>{}),FE.set(e,t),e}(t);if(VE.has(t))return VE.get(t);const e=hde(t);return e!==t&&(VE.set(t,e),FE.set(e,t)),e}const zE=t=>FE.get(t),gde=["get","getKey","getAll","getAllKeys","count"],mde=["put","add","delete","clear"],HE=new Map;function PO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(HE.get(e))return HE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mde.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gde.includes(n))return;const o=function(){var s=m(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return HE.set(e,o),o}!function dde(t){LE=t(LE)}(t=>({...t,get:(e,n,r)=>PO(e,n)||t.get(e,n,r),has:(e,n)=>!!PO(e,n)||t.has(e,n)}));const RO="@firebase/installations",UE="0.6.4",xO=1e4,NO=`w:${UE}`,kO="FIS_v2",_de="https://firebaseinstallations.googleapis.com/v1",yde=36e5,so=new Po("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function OO(t){return t instanceof Br&&t.code.includes("request-failed")}function BE({projectId:t}){return`${_de}/projects/${t}/installations`}function VO(t){return{token:t.token,requestStatus:2,expiresIn:wde(t.expiresIn),creationTime:Date.now()}}function jE(t,e){return $E.apply(this,arguments)}function $E(){return $E=m(function*(t,e){const r=(yield e.json()).error;return so.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),$E.apply(this,arguments)}function FO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qE(t){return GE.apply(this,arguments)}function GE(){return GE=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),GE.apply(this,arguments)}function wde(t){return Number(t.replace("s","000"))}function WE(){return WE=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=BE(t),i=FO(t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:kO,appId:t.appId,sdkVersion:NO})},c=yield qE(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:VO(u.authToken)}}throw yield jE("Create Installation",c)}),WE.apply(this,arguments)}function zO(t){return new Promise(e=>{setTimeout(e,t)})}const Ade=/^[cdef][\w-]{21}$/,KE="";function Sde(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Dde(t){return function Tde(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Ade.test(n)?n:KE}catch{return KE}}function Du(t){return`${t.appName}!${t.appId}`}const Mu=new Map;function HO(t,e){const n=Du(t);UO(n,e),function Rde(t,e){const n=function BO(){return!ua&&"BroadcastChannel"in self&&(ua=new BroadcastChannel("[Firebase] FID Change"),ua.onmessage=t=>{UO(t.data.key,t.data.fid)}),ua}();n&&n.postMessage({key:t,fid:e}),function jO(){0===Mu.size&&ua&&(ua.close(),ua=null)}()}(n,e)}function UO(t,e){const n=Mu.get(t);if(n)for(const r of n)r(e)}let ua=null;const xde="firebase-installations-database",Nde=1,la="firebase-installations-store";let QE=null;function YE(){return QE||(QE=function pde(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=es(s);return r&&s.addEventListener("upgradeneeded",c=>{r(es(s.result),c.oldVersion,c.newVersion,es(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(xde,Nde,{upgrade:(t,e)=>{0===e&&t.createObjectStore(la)}})),QE}function d1(t,e){return XE.apply(this,arguments)}function XE(){return XE=m(function*(t,e){const n=Du(t),i=(yield YE()).transaction(la,"readwrite"),o=i.objectStore(la),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&HO(t,e.fid),e}),XE.apply(this,arguments)}function JE(t){return ZE.apply(this,arguments)}function ZE(){return ZE=m(function*(t){const e=Du(t),r=(yield YE()).transaction(la,"readwrite");yield r.objectStore(la).delete(e),yield r.done}),ZE.apply(this,arguments)}function kf(t,e){return ew.apply(this,arguments)}function ew(){return ew=m(function*(t,e){const n=Du(t),i=(yield YE()).transaction(la,"readwrite"),o=i.objectStore(la),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&HO(t,a.fid),a}),ew.apply(this,arguments)}function tw(t){return nw.apply(this,arguments)}function nw(){return nw=m(function*(t){let e;const n=yield kf(t.appConfig,r=>{const i=function kde(t){return qO(t||{fid:Sde(),registrationStatus:0})}(r),o=function Ode(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(so.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Vde(t,e){return rw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Fde(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===KE?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),nw.apply(this,arguments)}function rw(){return rw=m(function*(t,e){try{const n=yield function bde(t,e){return WE.apply(this,arguments)}(t,e);return d1(t.appConfig,n)}catch(n){throw OO(n)&&409===n.customData.serverCode?yield JE(t.appConfig):yield d1(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),rw.apply(this,arguments)}function Fde(t){return iw.apply(this,arguments)}function iw(){return iw=m(function*(t){let e=yield $O(t.appConfig);for(;1===e.registrationStatus;)yield zO(100),e=yield $O(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield tw(t);return r||n}return e}),iw.apply(this,arguments)}function $O(t){return kf(t,e=>{if(!e)throw so.create("installation-not-found");return qO(e)})}function qO(t){return function Lde(t){return 1===t.registrationStatus&&t.registrationTime+xO<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function ow(){return ow=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Hde(t,{fid:e}){return`${BE(t)}/${e}/authTokens:generate`}(t,n),i=function LO(t,{refreshToken:e}){const n=FO(t);return n.append("Authorization",function Cde(t){return`${kO} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:NO,appId:t.appId}})},c=yield qE(()=>fetch(r,a));if(c.ok)return VO(yield c.json());throw yield jE("Generate Auth Token",c)}),ow.apply(this,arguments)}function sw(t){return aw.apply(this,arguments)}function aw(){return aw=m(function*(t,e=!1){let n;const r=yield kf(t.appConfig,o=>{if(!WO(o))throw so.create("not-registered");const s=o.authToken;if(!e&&function jde(t){return 2===t.requestStatus&&!function $de(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+yde}(t)}(s))return o;if(1===s.requestStatus)return n=function Ude(t,e){return cw.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw so.create("app-offline");const a=function qde(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function Bde(t,e){return uw.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),aw.apply(this,arguments)}function cw(){return cw=m(function*(t,e){let n=yield GO(t.appConfig);for(;1===n.authToken.requestStatus;)yield zO(100),n=yield GO(t.appConfig);const r=n.authToken;return 0===r.requestStatus?sw(t,e):r}),cw.apply(this,arguments)}function GO(t){return kf(t,e=>{if(!WO(e))throw so.create("not-registered");return function Gde(t){return 1===t.requestStatus&&t.requestTime+xO<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function uw(){return uw=m(function*(t,e){try{const n=yield function zde(t,e){return ow.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield d1(t.appConfig,r),n}catch(n){if(!OO(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield d1(t.appConfig,r)}else yield JE(t.appConfig);throw n}}),uw.apply(this,arguments)}function WO(t){return void 0!==t&&2===t.registrationStatus}function lw(){return lw=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield tw(e);return r?r.catch(console.error):sw(e).catch(console.error),n.fid}),lw.apply(this,arguments)}function dw(){return dw=m(function*(t,e=!1){const n=t;return yield function Qde(t){return fw.apply(this,arguments)}(n),(yield sw(n,e)).token}),dw.apply(this,arguments)}function fw(){return fw=m(function*(t){const{registrationPromise:e}=yield tw(t);e&&(yield e)}),fw.apply(this,arguments)}function gw(t){return so.create("missing-app-config-values",{valueName:t})}const KO="installations",efe=t=>{const e=t.getProvider("app").getImmediate(),n=function Jde(t){if(!t||!t.options)throw gw("App Configuration");if(!t.name)throw gw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ui(e,"heartbeat"),_delete:()=>Promise.resolve()}},tfe=t=>{const n=ui(t.getProvider("app").getImmediate(),KO).getImmediate();return{getId:()=>function Wde(t){return lw.apply(this,arguments)}(n),getToken:i=>function Kde(t){return dw.apply(this,arguments)}(n,i)}};(function nfe(){Cr(new sr(KO,efe,"PUBLIC")),Cr(new sr("installations-internal",tfe,"PRIVATE"))})(),pt(RO,UE),pt(RO,UE,"esm2017");const f1="analytics",rfe="firebase_id",ife="origin",ofe=6e4,sfe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mw="https://www.googletagmanager.com/gtag/js",Yt=new ad("@firebase/analytics"),Fn=new Po("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cfe(t){if(!t.startsWith(mw)){const e=Fn.create("invalid-gtag-resource",{gtagURL:t});return Yt.warn(e.message),""}return t}function QO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _w(){return _w=m(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield QO(n)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Yt.error(a)}t("config",i,o)}),_w.apply(this,arguments)}function yw(){return yw=m(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield QO(n);for(const c of s){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Yt.error(o)}}),yw.apply(this,arguments)}const _fe=30,YO=new class vfe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ife(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function vw(){return vw=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Ife(r)},o=sfe.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}),vw.apply(this,arguments)}function Iw(){return Iw=m(function*(t,e=YO,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Fn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Fn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Tfe;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:ofe),XO({appId:r,apiKey:i,measurementId:o},s,a,e)}),Iw.apply(this,arguments)}function XO(t,e,n){return Ew.apply(this,arguments)}function Ew(){return Ew=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=YO){var o;const{appId:s,measurementId:a}=t;try{yield function Cfe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Yt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Efe(t){return vw.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function bfe(t){if(!(t instanceof Br&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return Yt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const l=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?rv(n,i.intervalMillis,_fe):rv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),Yt.debug(`Calling attemptFetch again in ${l} millis`),XO(t,d,r,i)}}),Ew.apply(this,arguments)}class Tfe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ww,Mw;function Cw(){return Cw=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}}),Cw.apply(this,arguments)}function Tw(){return Tw=m(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),Tw.apply(this,arguments)}function Pw(){return Pw=m(function*(){if(!nd())return Yt.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ev()}catch(t){return Yt.warn(Fn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),Pw.apply(this,arguments)}function Rw(){return Rw=m(function*(t,e,n,r,i,o,s){var a;const c=function wfe(t){return Iw.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Yt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Yt.error(h)),e.push(c);const u=function xfe(){return Pw.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function mfe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(mw)&&n.src.includes(t))return n;return null})(o)||function lfe(t,e){const n=function ufe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:cfe}),r=document.createElement("script"),i=`${mw}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),Mw&&(i("consent","default",Mw),function JO(t){Mw=t}(void 0)),i("js",new Date);const f=null!==(a=s?.config)&&void 0!==a?a:{};return f[ife]="firebase",f.update=!0,null!=d&&(f[rfe]=d),i("config",l.measurementId,f),ww&&(i("set",ww),function ZO(t){ww=t}(void 0)),l.measurementId}),Rw.apply(this,arguments)}class kfe{constructor(e){this.app=e}_delete(){return delete wi[this.app.options.appId],Promise.resolve()}}let wi={},eV=[];const tV={};let rV,Ci,h1="dataLayer",xw=!1;function Vfe(t,e,n){!function Ofe(){const t=[];if(Zy()&&t.push("This is a browser extension environment."),eP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Fn.create("invalid-analytics-context",{errorInfo:e});Yt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Fn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Fn.create("no-api-key");Yt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wi[r])throw Fn.create("already-exists",{id:r});if(!xw){!function dfe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(h1);const{wrappedGtag:o,gtagCore:s}=function gfe(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function pfe(t,e,n,r){function o(){return o=m(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function hfe(t,e,n,r,i){return yw.apply(this,arguments)}(t,e,n,c,u)}else if("config"===s){const[c,u]=a;yield function ffe(t,e,n,r,i,o){return _w.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===s){const[c]=a;t("consent","update",c)}else if("get"===s){const[c,u,l]=a;t("get",c,u,l)}else if("set"===s){const[c]=a;t("set",c)}else t(s,...a)}catch(c){Yt.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(wi,eV,tV,h1,"gtag");Ci=o,rV=s,xw=!0}return wi[r]=function Nfe(t,e,n,r,i,o,s){return Rw.apply(this,arguments)}(t,eV,tV,e,rV,h1,n),new kfe(t)}function Ffe(t=bc()){const e=ui(t=ht(t),f1);return e.isInitialized()?e.getImmediate():function Lfe(t,e={}){const n=ui(t,f1);if(n.isInitialized()){const i=n.getImmediate();if(rd(e,n.getOptions()))return i;throw Fn.create("already-initialized")}return n.initialize({options:e})}(t)}function zfe(){return Nw.apply(this,arguments)}function Nw(){return(Nw=m(function*(){if(Zy()||!eP()||!nd())return!1;try{return yield ev()}catch{return!1}})).apply(this,arguments)}function Hfe(t,e,n){t=ht(t),function Dfe(t,e,n,r){return Tw.apply(this,arguments)}(Ci,wi[t.app.options.appId],e,n).catch(r=>Yt.error(r))}function iV(t,e,n,r){t=ht(t),function Afe(t,e,n,r,i){return Cw.apply(this,arguments)}(Ci,wi[t.app.options.appId],e,n,r).catch(i=>Yt.error(i))}const oV="@firebase/analytics";!function Ufe(){Cr(new sr(f1,(e,{options:n})=>Vfe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Cr(new sr("analytics-internal",function t(e){try{const n=e.getProvider(f1).getImmediate();return{logEvent:(r,i,o)=>iV(n,r,i,o)}}catch(n){throw Fn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),pt(oV,"0.10.0"),pt(oV,"0.10.0","esm2017")}();const p1=Ku(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:jfe}=Array,{getPrototypeOf:$fe,prototype:qfe,keys:Gfe}=Object;function aV(t){if(1===t.length){const e=t[0];if(jfe(e))return{args:e,keys:null};if(function Wfe(t){return t&&"object"==typeof t&&$fe(t)===qfe}(e)){const n=Gfe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Kfe}=Array;function cV(t){return Ie(e=>function Qfe(t,e){return Kfe(e)?t(...e):t(e)}(t,e))}function uV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function lV(...t){const e=Yu(t),n=i8(t),{args:r,keys:i}=aV(t);if(0===r.length)return fn([],e);const o=new we(function Yfe(t,e,n=go){return r=>{dV(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)dV(e,()=>{const u=fn(t[c],e);let l=!1;u.subscribe(lt(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>uV(i,s):go));return n?o.pipe(cV(n)):o}function dV(t,e,n){t?Di(n,t,e):e()}function fV(t){return new we(e=>{Hn(t()).subscribe(e)})}function Of(t,e){const n=Ne(t)?t:()=>t,r=i=>i.error(n());return new we(e?i=>e.schedule(r,0,i):r)}function Ow(){return It((t,e)=>{let n=null;t._refCount++;const r=lt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class hV extends we{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Bb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new zn;const n=this.getSubject();e.add(this.source.subscribe(lt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=zn.EMPTY)}return e}refCount(){return Ow()(this)}}function Pu(t){return t<=0?()=>Yr:It((e,n)=>{let r=0;e.subscribe(lt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function g1(t){return It((e,n)=>{let r=!1;e.subscribe(lt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function pV(t=Xfe){return It((e,n)=>{let r=!1;e.subscribe(lt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Xfe(){return new p1}function da(t,e){const n=arguments.length>=2;return r=>r.pipe(t?oo((i,o)=>t(i,o,r)):go,Pu(1),n?g1(e):pV(()=>new p1))}function m1(t,e){return Ne(e)?Jt(t,e,1):Jt(t,1)}function fa(t){return It((e,n)=>{let o,r=null,i=!1;r=e.subscribe(lt(n,void 0,void 0,s=>{o=Hn(t(s,fa(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Vw(t){return t<=0?()=>Yr:It((e,n)=>{let r=[];e.subscribe(lt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Fw(t){return It((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ce="primary",Vf=Symbol("RouteTitle");class rhe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ru(t){return new rhe(t)}function ihe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function bi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gV(t[i],e[i]))return!1;return!0}function gV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function mV(t){return t.length>0?t[t.length-1]:null}function ts(t){return function Bfe(t){return!!t&&(t instanceof we||Ne(t.lift)&&Ne(t.subscribe))}(t)?t:Vl(t)?fn(Promise.resolve(t)):ee(t)}const she={exact:function vV(t,e,n){if(!ha(t.segments,e.segments)||!_1(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!vV(t.children[r],e.children[r],n))return!1;return!0},subset:IV},_V={exact:function ahe(t,e){return bi(t,e)},subset:function che(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gV(t[n],e[n]))},ignored:()=>!0};function yV(t,e,n){return she[n.paths](t.root,e.root,n.matrixParams)&&_V[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function IV(t,e,n){return EV(t,e,e.segments,n)}function EV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!ha(i,n)||e.hasChildren()||!_1(i,n,r))}if(t.segments.length===n.length){if(!ha(t.segments,n)||!_1(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!IV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(ha(t.segments,i)&&_1(t.segments,i,r)&&t.children[ce])&&EV(t.children[ce],e,o,r)}}function _1(t,e,n){return e.every((r,i)=>_V[n](t[i].parameters,r.parameters))}class xu{constructor(e=new xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ru(this.queryParams)),this._queryParamMap}toString(){return dhe.serialize(this)}}class xe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return y1(this)}}class Ff{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ru(this.parameters)),this._parameterMap}toString(){return bV(this)}}function ha(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Lf=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return new Lw},providedIn:"root"}),e})();class Lw{parse(e){const n=new whe(e);return new xu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${zf(e.root,!0)}`,r=function phe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${v1(n)}=${v1(i)}`).join("&"):`${v1(n)}=${v1(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function fhe(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const dhe=new Lw;function y1(t){return t.segments.map(e=>bV(e)).join("/")}function zf(t,e){if(!t.hasChildren())return y1(t);if(e){const n=t.children[ce]?zf(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${zf(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function lhe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===ce?[zf(t.children[ce],!1)]:[`${i}:${zf(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ce]?`${y1(t)}/${n[0]}`:`${y1(t)}/(${n.join("//")})`}}function wV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function v1(t){return wV(t).replace(/%3B/gi,";")}function zw(t){return wV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function I1(t){return decodeURIComponent(t)}function CV(t){return I1(t.replace(/\+/g,"%20"))}function bV(t){return`${zw(t.path)}${function hhe(t){return Object.keys(t).map(e=>`;${zw(e)}=${zw(t[e])}`).join("")}(t.parameters)}`}const ghe=/^[^\/()?;#]+/;function Hw(t){const e=t.match(ghe);return e?e[0]:""}const mhe=/^[^\/()?;=#]+/,yhe=/^[^=?&#]+/,Ihe=/^[^&#]+/;class whe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new xe(e,n)),r}parseSegment(){const e=Hw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Ff(I1(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function _he(t){const e=t.match(mhe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Hw(this.remaining);i&&(r=i,this.capture(r))}e[I1(n)]=I1(r)}parseQueryParam(e){const n=function vhe(t){const e=t.match(yhe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Ehe(t){const e=t.match(Ihe);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=CV(n),o=CV(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hw(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[ce]:new xe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}}function TV(t){return t.segments.length>0?new xe([],{[ce]:t}):t}function AV(t){const e={};for(const r of Object.keys(t.children)){const o=AV(t.children[r]);if(r===ce&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Che(t){if(1===t.numberOfChildren&&t.children[ce]){const e=t.children[ce];return new xe(t.segments.concat(e.segments),e.children)}return t}(new xe(t.segments,e))}function pa(t){return t instanceof xu}function SV(t){let e;const i=TV(function n(o){const s={};for(const c of o.children){const u=n(c);s[c.outlet]=u}const a=new xe(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function DV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Uw(i,i,i,n,r);const o=function The(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new PV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new PV(n,e,r)}(e);if(o.toRoot())return Uw(i,i,new xe([],{}),n,r);const s=function Ahe(t,e,n){if(t.isAbsolute)return new w1(e,!0,0);if(!n)return new w1(e,!1,NaN);if(null===n.parent)return new w1(n,!0,0);const r=E1(t.commands[0])?0:1;return function She(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new w1(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Uf(s.segmentGroup,s.index,o.commands):RV(s.segmentGroup,s.index,o.commands);return Uw(i,s.segmentGroup,a,n,r)}function E1(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hf(t){return"object"==typeof t&&null!=t&&t.outlets}function Uw(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=t===e?n:MV(t,e,n);const a=TV(AV(s));return new xu(a,o,i)}function MV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:MV(o,e,n)}),new xe(t.segments,r)}class PV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&E1(r[0]))throw new S(4003,!1);const i=r.find(Hf);if(i&&i!==mV(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class w1{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function RV(t,e,n){if(t||(t=new xe([],{})),0===t.segments.length&&t.hasChildren())return Uf(t,e,n);const r=function Mhe(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Hf(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!NV(c,u,s))return o;r+=2}else{if(!NV(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new xe(t.segments.slice(0,r.pathIndex),{});return o.children[ce]=new xe(t.segments.slice(r.pathIndex),t.children),Uf(o,0,i)}return r.match&&0===i.length?new xe(t.segments,{}):r.match&&!t.hasChildren()?Bw(t,e,n):r.match?Uf(t,0,i):Bw(t,e,n)}function Uf(t,e,n){if(0===n.length)return new xe(t.segments,{});{const r=function Dhe(t){return Hf(t[0])?t[0].outlets:{[ce]:t}}(n),i={};if(Object.keys(r).some(o=>o!==ce)&&t.children[ce]&&1===t.numberOfChildren&&0===t.children[ce].segments.length){const o=Uf(t.children[ce],e,n);return new xe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=RV(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new xe(t.segments,i)}}function Bw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Hf(o)){const c=Phe(o.outlets);return new xe(r,c)}if(0===i&&E1(n[0])){r.push(new Ff(t.segments[e].path,xV(n[0]))),i++;continue}const s=Hf(o)?o.outlets[ce]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&E1(a)?(r.push(new Ff(s,xV(a))),i+=2):(r.push(new Ff(s,{})),i++)}return new xe(r,{})}function Phe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Bw(new xe([],{}),0,r))}),e}function xV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function NV(t,e,n){return t==n.path&&bi(e,n.parameters)}const Bf="imperative";class Ti{constructor(e,n){this.id=e,this.url=n}}class jw extends Ti{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nu extends Ti{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jf extends Ti{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $f extends Ti{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class C1 extends Ti{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kV extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rhe extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xhe extends Ti{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nhe extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class khe extends Ti{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ohe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vhe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fhe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lhe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zhe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OV{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $w{}class qw{constructor(e){this.url=e}}class Hhe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qf,this.attachRef=null}}let qf=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Hhe,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class VV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Gw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Gw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Ww(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ww(e,this._root).map(n=>n.value)}}function Gw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Gw(t,n);if(r)return r}return null}function Ww(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ww(t,n);if(r.length)return r.unshift(e),r}return[]}class ao{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ku(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class FV extends VV{constructor(e,n){super(e),this.snapshot=n,Kw(this,e)}toString(){return this.snapshot.toString()}}function LV(t,e){const n=function Uhe(t,e){const s=new b1([],{},{},"",{},ce,e,null,{});return new HV("",new ao(s,[]))}(0,e),r=new gr([new Ff("",{})]),i=new gr({}),o=new gr({}),s=new gr({}),a=new gr(""),c=new Ou(r,i,s,a,o,ce,e,n.root);return c.snapshot=n.root,new FV(new ao(c,[]),n)}class Ou{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ie(u=>u[Vf]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(e=>Ru(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(e=>Ru(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Bhe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class b1{get title(){return this.data?.[Vf]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ru(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ru(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HV extends VV{constructor(e,n){super(n),this.url=e,Kw(this,n)}toString(){return UV(this._root)}}function Kw(t,e){e.value._routerState=t,e.children.forEach(n=>Kw(t,n))}function UV(t){const e=t.children.length>0?` { ${t.children.map(UV).join(", ")} } `:"";return`${t.value}${e}`}function Qw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,bi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),bi(e.params,n.params)||t.paramsSubject.next(n.params),function ohe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!bi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),bi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Yw(t,e){const n=bi(t.params,e.params)&&function uhe(t,e){return ha(t,e)&&t.every((n,r)=>bi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Yw(t.parent,e.parent))}let BV=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new ot,this.deactivateEvents=new ot,this.attachEvents=new ot,this.detachEvents=new ot,this.parentContexts=T(qf),this.location=T(Lr),this.changeDetector=T(Ui),this.environmentInjector=T(kr),this.inputBinder=T(T1,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=r;const o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new jhe(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Q({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dn]}),e})();class jhe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ou?this.route:e===qf?this.childContexts:this.parent.get(e,n)}}const T1=new z("");function Gf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function qhe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Gf(t,r,i);return Gf(t,r)})}(t,e,n);return new ao(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Gf(t,a)),s}}const r=function Ghe(t){return new Ou(new gr(t.url),new gr(t.params),new gr(t.queryParams),new gr(t.fragment),new gr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Gf(t,o));return new ao(r,i)}}const Xw="ngNavigationCancelingError";function $V(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=pa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qV(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function qV(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Xw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function GV(t){return t&&t[Xw]}let Jw=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tn({type:t,selectors:[["ng-component"]],standalone:!0,features:[P5],decls:1,vars:0,template:function(r,i){1&r&&Ce(0,"router-outlet")},dependencies:[BV],encapsulation:2}),e})();function Zw(t){const e=t.children&&t.children.map(Zw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=Jw),n}function Gr(t){return t.outlet||ce}function Wf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class epe{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Qw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ku(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ku(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ku(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=ku(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new OV(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Lhe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Qw(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qw(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Wf(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class WV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class A1{constructor(e,n){this.component=e,this.route=n}}function tpe(t,e,n){const r=t._root;return Kf(r,e?e._root:null,n,[r.value])}function Vu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function TB(t){return null!==Dh(t)}(t)?e.get(t):t:r}function Kf(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ku(e);return t.children.forEach(s=>{(function rpe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function ipe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ha(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ha(t.url,e.url)||!bi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yw(t,e)||!bi(t.queryParams,e.queryParams);default:return!Yw(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new WV(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Kf(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new A1(a.outlet.component,s))}else s&&Qf(e,a,i),i.canActivateChecks.push(new WV(r)),Kf(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qf(a,n.getContext(s),i)),i}function Qf(t,e,n){const r=ku(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Qf(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new A1(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Yf(t){return"function"==typeof t}function KV(t){return t instanceof p1||"EmptyError"===t?.name}const S1=Symbol("INITIAL_VALUE");function Fu(){return Sr(t=>lV(t.map(e=>e.pipe(Pu(1),TO(S1)))).pipe(Ie(e=>{for(const n of e)if(!0!==n){if(n===S1)return S1;if(!1===n||n instanceof xu)return n}return!0}),oo(e=>e!==S1),Pu(1)))}function QV(t){return function xU(...t){return zb(t)}(on(e=>{if(pa(e))throw $V(0,e)}),Ie(e=>!0===e))}class D1{constructor(e){this.segmentGroup=e||null}}class YV{constructor(e){this.urlTree=e}}function Lu(t){return Of(new D1(t))}function XV(t){return Of(new YV(t))}class bpe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new S(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[ce])return Of(new S(4e3,!1));i=i.children[ce]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new xu(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new xe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const eC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tpe(t,e,n,r,i){const o=tC(t,e,n);return o.matched?(r=function Khe(t,e){return t.providers&&!t._injector&&(t._injector=M5(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Epe(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ee(i.map(s=>{const a=Vu(s,t);return ts(function lpe(t){return t&&Yf(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Fu(),QV()):ee(!0)}(r,e,n).pipe(Ie(s=>!0===s?o:{...eC}))):ee(o)}function tC(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...eC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ihe)(n,t,e);if(!i)return{...eC};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function JV(t,e,n,r){return n.length>0&&function Dpe(t,e,n){return n.some(r=>M1(t,e,r)&&Gr(r)!==ce)}(t,n,r)?{segmentGroup:new xe(e,Spe(r,new xe(n,t.children))),slicedSegments:[]}:0===n.length&&function Mpe(t,e,n){return n.some(r=>M1(t,e,r))}(t,n,r)?{segmentGroup:new xe(t.segments,Ape(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:n}}function Ape(t,e,n,r,i){const o={};for(const s of r)if(M1(t,n,s)&&!i[Gr(s)]){const a=new xe([],{});o[Gr(s)]=a}return{...i,...o}}function Spe(t,e){const n={};n[ce]=e;for(const r of t)if(""===r.path&&Gr(r)!==ce){const i=new xe([],{});n[Gr(r)]=i}return n}function M1(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Npe{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new bpe(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,!1)}recognize(){const e=JV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(fa(n=>{if(n instanceof YV)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof D1?this.noMatchError(n):n}),Ie(n=>{const r=new b1([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),i=new ao(r,n),o=new HV("",i),s=function bhe(t,e,n=null,r=null){return DV(SV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ce).pipe(fa(r=>{throw r instanceof D1?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=zV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return fn(i).pipe(m1(o=>{const s=r.children[o],a=function Jhe(t,e){const n=t.filter(r=>Gr(r)===e);return n.push(...t.filter(r=>Gr(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function Zfe(t,e){return It(function Jfe(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(lt(s,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),g1(null),function ehe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?oo((i,o)=>t(i,o,r)):go,Vw(1),n?g1(e):pV(()=>new p1))}(),Jt(o=>{if(null===o)return Lu(r);const s=ZV(o);return function kpe(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ee(s)}))}processSegment(e,n,r,i,o,s){return fn(n).pipe(m1(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(fa(c=>{if(c instanceof D1)return ee(null);throw c}))),da(a=>!!a),fa(a=>{if(KV(a))return function Rpe(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ee([]):Lu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function Ppe(t,e,n,r){return!!(Gr(t)===r||r!==ce&&M1(e,n,t))&&("**"===t.path||tC(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Lu(i):Lu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?XV(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Jt(s=>{const a=new xe(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=tC(n,i,o);if(!a)return Lu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?XV(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Jt(f=>this.processSegment(e,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?mV(i).parameters:{};a=ee({snapshot:new b1(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eF(r),Gr(r),r.component??r._loadedComponent??null,r,tF(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Tpe(n,r,i,e).pipe(Ie(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new b1(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eF(r),Gr(r),r.component??r._loadedComponent??null,r,tF(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(Sr(c=>null===c?Lu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Sr(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=JV(n,f,h,u);if(0===g.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(Ie(I=>null===I?null:[new ao(d,I)]));if(0===u.length&&0===g.length)return ee([new ao(d,[])]);const _=Gr(r)===o;return this.processSegment(l,u,p,g,_?ce:o,!0).pipe(Ie(I=>[new ao(d,I)]))}))))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):function Ipe(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ee(!0):ee(i.map(s=>{const a=Vu(s,t);return ts(function spe(t){return t&&Yf(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Fu(),QV())}(e,n,r).pipe(Jt(i=>i?this.configLoader.loadChildren(e,n).pipe(on(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function Cpe(t){return Of(qV(!1,3))}())):ee({routes:[],injector:e})}}function Ope(t){const e=t.value.routeConfig;return e&&""===e.path}function ZV(t){const e=[],n=new Set;for(const r of t){if(!Ope(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=ZV(r.children);e.push(new ao(r.value,i))}return e.filter(r=>!n.has(r))}function eF(t){return t.data||{}}function tF(t){return t.resolve||{}}function nF(t){return"string"==typeof t.title||null===t.title}function nC(t){return Sr(e=>{const n=t(e);return n?fn(n).pipe(Ie(()=>e)):ee(e)})}const P1=new z("ROUTES");let rF=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=T(lX)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ee(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ts(r.loadComponent()).pipe(Ie(iF),on(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Fw(()=>{this.componentLoaders.delete(r)})),o=new hV(i,()=>new pr).pipe(Ow());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function Bpe(t,e,n,r){return ts(t.loadChildren()).pipe(Ie(iF),Jt(i=>i instanceof S5||Array.isArray(i)?ee(i):fn(e.compileModuleAsync(i))),Ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(P1,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zw),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(Fw(()=>{this.childrenLoaders.delete(i)})),a=new hV(s,()=>new pr).pipe(Ow());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function iF(t){return function jpe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let R1=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pr,this.transitionAbortSubject=new pr,this.configLoader=T(rF),this.environmentInjector=T(kr),this.urlSerializer=T(Lf),this.rootContexts=T(qf),this.inputBindingEnabled=null!==T(T1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Vhe(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Ohe(o))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,o){return this.transitions=new gr({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bf,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(oo(s=>0!==s.id),Ie(s=>({...s,extractedUrl:r.urlHandlingStrategy.extract(s.rawUrl)})),Sr(s=>{this.currentTransition=s;let a=!1,c=!1;return ee(s).pipe(on(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Sr(u=>{const l=u.currentBrowserUrl.toString(),d=!r.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!d&&"reload"!==(u.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new $f(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Yr}if(r.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(Sr(h=>{const p=this.transitions?.getValue();return this.events.next(new jw(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Yr:Promise.resolve(h)}),function Vpe(t,e,n,r,i,o){return Jt(s=>function xpe(t,e,n,r,i,o,s="emptyOnly"){return new Npe(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(Ie(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),on(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new kV(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:_,extras:I}=u,y=new jw(h,this.urlSerializer.serialize(p),g,_);this.events.next(y);const w=LV(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:w,urlAfterRedirects:p,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},ee(s)}{const h="";return this.events.next(new $f(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Yr}}),on(u=>{const l=new Rhe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Ie(u=>(this.currentTransition=s={...u,guards:tpe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function fpe(t,e){return Jt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ee({...n,guardsResult:!0}):function hpe(t,e,n,r){return fn(t).pipe(Jt(i=>function vpe(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ee(o.map(a=>{const c=Wf(e)??i,u=Vu(a,c);return ts(function upe(t){return t&&Yf(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(da())})).pipe(Fu()):ee(!0)}(i.component,i.route,n,e,r)),da(i=>!0!==i,!0))}(s,r,i,t).pipe(Jt(a=>a&&function ope(t){return"boolean"==typeof t}(a)?function ppe(t,e,n,r){return fn(e).pipe(m1(i=>kE(function mpe(t,e){return null!==t&&e&&e(new Fhe(t)),ee(!0)}(i.route.parent,r),function gpe(t,e){return null!==t&&e&&e(new zhe(t)),ee(!0)}(i.route,r),function ype(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function npe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>fV(()=>ee(s.guards.map(c=>{const u=Wf(s.node)??n,l=Vu(c,u);return ts(function cpe(t){return t&&Yf(t.canActivateChild)}(l)?l.canActivateChild(r,t):u.runInContext(()=>l(r,t))).pipe(da())})).pipe(Fu())));return ee(o).pipe(Fu())}(t,i.path,n),function _pe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(o=>fV(()=>{const s=Wf(e)??n,a=Vu(o,s);return ts(function ape(t){return t&&Yf(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(da())}));return ee(i).pipe(Fu())}(t,i.route,n))),da(i=>!0!==i,!0))}(r,o,t,e):ee(a)),Ie(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),on(u=>{if(s.guardsResult=u.guardsResult,pa(u.guardsResult))throw $V(0,u.guardsResult);const l=new xhe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),oo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),nC(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(on(l=>{const d=new Nhe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Sr(l=>{let d=!1;return ee(l).pipe(function Fpe(t,e){return Jt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let o=0;return fn(i).pipe(m1(s=>function Lpe(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!nF(i)&&(o[Vf]=i.title),function zpe(t,e,n,r){const i=function Hpe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ee({});const o={};return fn(i).pipe(Jt(s=>function Upe(t,e,n,r){const i=Wf(e)??r,o=Vu(t,i);return ts(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(da(),on(a=>{o[s]=a}))),Vw(1),function the(t){return Ie(()=>t)}(o),fa(s=>KV(s)?Yr:Of(s)))}(o,t,e,r).pipe(Ie(s=>(t._resolvedData=s,t.data=zV(t,n).resolve,i&&nF(i)&&(t.data[Vf]=i.title),null)))}(s.route,r,t,e)),on(()=>o++),Vw(1),Jt(s=>o===i.length?ee(n):Yr))})}(r.paramsInheritanceStrategy,this.environmentInjector),on({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),on(l=>{const d=new khe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),nC(u=>{const l=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(on(h=>{d.component=h}),Ie(()=>{})));for(const h of d.children)f.push(...l(h));return f};return lV(l(u.targetSnapshot.root)).pipe(g1(),Pu(1))}),nC(()=>this.afterPreactivation()),Ie(u=>{const l=function $he(t,e,n){const r=Gf(t,e._root,n?n._root:void 0);return new FV(r,e)}(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:l},s}),on(()=>{this.events.next(new $w)}),((t,e,n,r)=>Ie(i=>(new epe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Pu(1),on({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),r.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function nhe(t){return It((e,n)=>{Hn(t).subscribe(lt(n,()=>n.complete(),I2)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(on(u=>{throw u}))),Fw(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),fa(u=>{if(c=!0,GV(u))this.events.next(new jf(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function Whe(t){return GV(t)&&pa(t.url)}(u)?this.events.next(new qw(u.url)):s.resolve(!1);else{this.events.next(new C1(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(u))}catch(l){s.reject(l)}}return Yr}))}))}cancelNavigationTransition(r,i,o){const s=new jf(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function oF(t){return t!==Bf}let sF=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[Vf]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return T($pe)},providedIn:"root"}),e})(),$pe=(()=>{var t;class e extends sF{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(W(Qy))},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),qpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return T(Wpe)},providedIn:"root"}),e})();class Gpe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Wpe=(()=>{var t;class e extends Gpe{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=rn(t)))(i||t)}}(),t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const rC=new z("",{providedIn:"root",factory:()=>({})});let Kpe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:function(){return T(Qpe)},providedIn:"root"}),e})(),Qpe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Xf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Xf||{});function Ype(t){throw t}function Xpe(t,e,n){return e.parse("/")}const Jpe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zpe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=T(C7),this.isNgZoneEnabled=!1,this._events=new pr,this.options=T(rC,{optional:!0})||{},this.pendingTasks=T(b7),this.errorHandler=this.options.errorHandler||Ype,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Xpe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=T(Kpe),this.routeReuseStrategy=T(qpe),this.titleStrategy=T(sF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=T(P1,{optional:!0})?.flat()??[],this.navigationTransitions=T(R1),this.urlSerializer=T(Lf),this.location=T(Cy),this.componentInputBindingEnabled=!!T(T1,{optional:!0}),this.eventsSubscription=new zn,this.isNgZoneEnabled=T(ve)instanceof ve&&ve.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LV(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(cF(i)&&this._events.next(i));if(i instanceof jw)oF(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof $f)this.rawUrlTree=o.rawUrl;else if(i instanceof kV){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(s,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof $w)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof jf)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof qw){const s=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),a={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oF(o.source)};this.scheduleNavigation(s,Bf,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof C1&&this.restoreHistory(o,!0),i instanceof Nu&&(this.navigated=!0),cF(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bf,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Zw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{f=SV(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return DV(f,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=pa(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Bf,null,i)}navigate(r,i={skipLocationChange:!1}){return function ege(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new S(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return i}isActive(r,i){let o;if(o=!0===i?{...Jpe}:!1===i?{...Zpe}:i,pa(r))return yV(this.currentUrlTree,r,o);const s=this.parseUrl(r);return yV(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.keys(r).reduce((i,o)=>{const s=r[o];return null!=s&&(i[o]=s),i},{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((f,h)=>{c=f,u=h});const d=this.pendingTasks.add();return function aF(t,e){t.events.pipe(oo(n=>n instanceof Nu||n instanceof jf||n instanceof C1||n instanceof $f),Ie(n=>n instanceof Nu||n instanceof $f?Xf.COMPLETE:n instanceof jf&&(0===n.code||1===n.code)?Xf.REDIRECTING:Xf.FAILED),oo(n=>n!==Xf.REDIRECTING),Pu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function cF(t){return!(t instanceof $w||t instanceof qw)}class zu{constructor(e){return e}}const gF="analytics",aC="__angularfire_symbol__analyticsIsSupportedValue",mF="__angularfire_symbol__analyticsIsSupported";globalThis[mF]||=zfe().then(t=>globalThis[aC]=t).catch(()=>globalThis[aC]=!1);const x1={async:()=>globalThis[mF],sync:()=>{const t=globalThis[aC];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},_F=x1.async,uge=gt(Ffe,!0),Jf=gt(iV,!0),lge=gt(Hfe,!0);let yF=(()=>{var t;class e{constructor(r,i,o){let s;Ae(this,"initialized",void 0),Ae(this,"disposables",[]),pt("angularfire",xo.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{s=a})),_F().then(()=>{const a=o.get(zu);a?this.disposables=[xR(r).subscribe(c=>{lge(a,c?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,Ae(e,"\u0275fac",function(r){return new(r||t)(W(bd),W(ve),W(Ft))}),Ae(e,"\u0275prov",B({token:t,factory:t.\u0275fac})),e})();const vF="firebase_screen_id",cC="outlet",Zf="screen_class",IF="screen_name";let wge=Math.floor(Math.random()*(2**32-1))-2**31;const uC={},Cge=t=>{const e=[t[Zf],t[cC]].join("#");if(uC.hasOwnProperty(e))return uC[e];{const n=wge++;return uC[e]=n,n}},bge=(t,e,n)=>t.events.pipe(oo(i=>i instanceof OV)).pipe(Sr(i=>{const s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return ee(null);let c=a;for(;c.firstChild;)c=c.firstChild;const u=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",l={[IF]:u,page_path:`/${s}`,firebase_event_origin:"auto",firebase_screen:u,[cC]:i.snapshot.outlet};e&&(l.page_title=e.getTitle());let d=a.component;if(d){if(d===Jw){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return ee({...l,[Zf]:d});if(d){const f=n.resolveComponentFactory(d);return ee({...l,[Zf]:f.selector})}return ee(null)}),oo(i=>!!i),Ie(i=>({firebase_screen_class:i[Zf],[vF]:Cge(i),...i})),function rde(t,e,n,r){return It((i,o)=>{let s;e&&"function"!=typeof e?({duration:n,element:s,connector:r}=e):s=e;const a=new Map,c=p=>{a.forEach(p),p(o)},u=p=>c(g=>g.error(p));let l=0,d=!1;const f=new jb(o,p=>{try{const g=t(p);let _=a.get(g);if(!_){a.set(g,_=r?r():new pr);const I=function h(p,g){const _=new we(I=>{l++;const y=g.subscribe(I);return()=>{y.unsubscribe(),0==--l&&d&&f.unsubscribe()}});return _.key=p,_}(g,_);if(o.next(I),n){const y=lt(_,()=>{_.complete(),y?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(Hn(n(I)).subscribe(y))}}_.next(s?s(p):p)}catch(g){u(g)}},()=>c(p=>p.complete()),u,()=>a.clear(),()=>(d=!0,0===l));i.subscribe(f)})}(i=>i[cC]),Jt(i=>i.pipe(a8((o,s)=>JSON.stringify(o)===JSON.stringify(s)),TO(void 0),function ode(){return It((t,e)=>{let n,r=!1;t.subscribe(lt(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}(),Ie(([o,s])=>o?{firebase_previous_class:o[Zf],firebase_previous_screen:o[IF],firebase_previous_id:o[vF],...s}:s))));let Tge=(()=>{var t;class e{constructor(r,i,o,s,a,c){Ae(this,"disposable",void 0),pt("angularfire",xo.full,"screen-tracking"),_F().then(()=>{const u=c.get(zu);!r||!u||s.runOutsideAngular(()=>{this.disposable=bge(r,i,o).pipe(Sr(function(){var l=m(function*(d){return a&&(yield a.initialized),Jf(u,"screen_view",d)});return function(d){return l.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,Ae(e,"\u0275fac",function(r){return new(r||t)(W(Wr,8),W(Qy,8),W(Al),W(ve),W(yF,8),W(Ft))}),Ae(e,"\u0275prov",B({token:t,factory:t.\u0275fac})),e})();const lC=new z("angularfire2.analytics-instances");function Sge(t){return(e,n)=>{if(!x1.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new zu(r)}}const Dge={provide:class cge{constructor(){return wg(gF)}},deps:[[new jt,lC]]},Mge={provide:zu,useFactory:function Age(t,e){if(!x1.sync())return null;const n=Eg(gF,t,e);return n&&new zu(n)},deps:[[new jt,lC],xs]};let Pge=(()=>{var t;class e{constructor(r,i){pt("angularfire",xo.full,"analytics")}}return t=e,Ae(e,"\u0275fac",function(r){return new(r||t)(W(Tge,8),W(yF,8))}),Ae(e,"\u0275mod",Xe({type:t})),Ae(e,"\u0275inj",Ge({providers:[Mge,Dge,{provide:w7,useValue:x1.async,multi:!0}]})),e})();function Rge(t,...e){return{ngModule:Pge,providers:[{provide:lC,useFactory:Sge(t),multi:!0,deps:[ve,Ft,ld,dd,...e]}]}}let xge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Q({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Ll("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();function Nge(t,e){1&t&&(M(0,"span",26),j(1,"1"),R())}function kge(t,e){if(1&t&&(M(0,"span",27),j(1),R()),2&t){const n=st();V(1),He(n.localOrdersBadge)}}function Oge(t,e){if(1&t&&(M(0,"span",26),j(1),ke(2,"async"),R()),2&t){const n=st();V(1),He(bt(2,1,n.fleetOrdersNotification))}}let Vge=(()=>{var t;class e{constructor(){this.badgeService=T(EO),this.dgAPI=T(io),this.changeDetection=T(Ui),this.authService=T(Su),this.localStorageService=T(Ei),this.analytics=T(zu),this.localOrdersBadge=0,this.updateAvailable=!1;let r=window.location.pathname.split("/");Jf(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),Jf(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailable=this.localStorageService.get(wn.UPDATE_AVAILABLE),this.localOrdersBadge=this.localStorageService.get(wn.ACTIVE_ORDERS),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&(this.fleetOrdersNotification=new we(o=>{this.badgeService.subscribeToFleetOrders(this.dgAPI.username(),o,this.changeDetection)})),this.changeDetection.detectChanges()})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tn({type:t,selectors:[["dgt-navbar"]],decls:41,vars:12,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["style","z-index: 0","class","local-orders-badge notification-badge",4,"ngIf"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],[1,"local-orders-badge","notification-badge",2,"z-index","0"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"ul",1)(2,"li",2),Ct(3,Nge,2,0,"span",3),M(4,"a",4),Ce(5,"img",5),M(6,"span",6),j(7,"home"),R()()(),M(8,"li",7)(9,"a",8),Ce(10,"img",9),M(11,"span",6),j(12,"planets"),R()()(),M(13,"li",10)(14,"a",11),Ce(15,"img",12),M(16,"span",6),j(17,"radar"),R()()(),M(18,"li",13),Ct(19,kge,2,1,"span",14),Ct(20,Oge,3,3,"span",3),ke(21,"async"),M(22,"a",15),Ce(23,"img",16),M(24,"span",6),j(25,"fleets"),R()()(),M(26,"li",17)(27,"a",18),Ce(28,"img",19),M(29,"span",6),j(30,"navigation"),R()()(),M(31,"li",20)(32,"a",21),Ce(33,"img",22),M(34,"span",6),j(35,"research"),R()()(),M(36,"li",23)(37,"a",24),Ce(38,"img",25),M(39,"span",6),j(40,"alliances"),R()()()()()),2&r&&(V(2),Y("tabName","home"),V(1),Y("ngIf",i.updateAvailable),V(5),Y("tabName","planets"),V(5),Y("tabName","radar"),V(5),Y("tabName","fleets"),V(1),Y("ngIf",i.localOrdersBadge>0),V(1),Y("ngIf",i.active&&bt(21,10,i.fleetOrdersNotification)),V(6),Y("tabName","navigation"),V(5),Y("tabName","research"),V(5),Y("tabName","alliances"))},dependencies:[Do,xge,Ic],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}"]}),e})();const Xn_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},dC=new Map,EF={activated:!1,tokenObservers:[]},Fge={initialized:!1,enabled:!1};function yt(t){return dC.get(t)||Object.assign({},EF)}function N1(){return Fge}const fC="https://content-firebaseappcheck.googleapis.com/v1",Uge="exchangeDebugToken",wF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class jge{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new wc,yield function $ge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new wc,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const dn=new Po("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function k1(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function hC(t){if(!yt(t).activated)throw dn.create("use-before-activation",{appName:t.name})}function pC(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),o=e-3600*n*24-3600*r-60*i;let s="";return n&&(s+=O1(n)+"d:"),r&&(s+=O1(r)+"h:"),s+=O1(i)+"m:"+O1(o)+"s",s}function O1(t){return 0===t?"00":t>=10?t.toString():"0"+t}function V1(t,e){return gC.apply(this,arguments)}function gC(){return gC=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw dn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw dn.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw dn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw dn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}),gC.apply(this,arguments)}function CF(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${fC}/projects/${n}/apps/${r}:${Uge}?key=${i}`,body:{debug_token:e}}}const Kge="firebase-app-check-database",Qge=1,eh="firebase-app-check-store",bF="debug-token";let F1=null;function TF(){return F1||(F1=new Promise((t,e)=>{try{const n=indexedDB.open(Kge,Qge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(dn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(eh,{keyPath:"compositeKey"})}}catch(n){e(dn.create("storage-open",{originalErrorMessage:n?.message}))}}),F1)}function AF(t,e){return mC.apply(this,arguments)}function mC(){return mC=m(function*(t,e){const r=(yield TF()).transaction(eh,"readwrite"),o=r.objectStore(eh).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(dn.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})}),mC.apply(this,arguments)}function SF(t){return _C.apply(this,arguments)}function _C(){return _C=m(function*(t){const n=(yield TF()).transaction(eh,"readonly"),i=n.objectStore(eh).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{const c=a.target.result;o(c?c.value:void 0)},n.onerror=a=>{var c;s(dn.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),_C.apply(this,arguments)}function DF(t){return`${t.options.appId}-${t.name}`}const th=new ad("@firebase/app-check");function yC(){return yC=m(function*(t){if(nd()){let e;try{e=yield function Yge(t){return SF(DF(t))}(t)}catch(n){th.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),yC.apply(this,arguments)}function vC(t,e){return nd()?function Xge(t,e){return AF(DF(t),e)}(t,e).catch(n=>{th.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function IC(){return IC=m(function*(){let t;try{t=yield function Zge(){return SF(bF)}()}catch{}if(t)return t;{const e=ite();return function Jge(t){return AF(bF,t)}(e).catch(n=>th.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),IC.apply(this,arguments)}function EC(){return N1().enabled}function wC(){return CC.apply(this,arguments)}function CC(){return CC=m(function*(){const t=N1();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),CC.apply(this,arguments)}const rme={error:"UNKNOWN_ERROR"};function ime(t){return Jy.encodeString(JSON.stringify(t),!1)}function L1(t){return bC.apply(this,arguments)}function bC(){return bC=m(function*(t,e=!1){const n=t.app;hC(n);const r=yt(n);let o,i=r.token;if(i&&!Hu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Hu(c)?i=c:yield vC(n,void 0))}if(!e&&i&&Hu(i))return{token:i.token};let a,s=!1;if(EC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=V1(CF(n,yield wC()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield vC(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield yt(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?th.warn(c.message):th.error(c),o=c}return i?o?a=Hu(i)?{token:i.token,internalError:o}:xF(o):(a={token:i.token},r.token=i,yield vC(n,i)):a=xF(o),s&&RF(n,a),a}),bC.apply(this,arguments)}function TC(){return TC=m(function*(t){const e=t.app;hC(e);const{provider:n}=yt(e);if(EC()){const r=yield wC(),{token:i}=yield V1(CF(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),TC.apply(this,arguments)}function AC(t,e,n,r){const{app:i}=t,o=yt(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Hu(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),PF(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>PF(t))}function SC(t,e){const n=yt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function PF(t){const{app:e}=t,n=yt(e);let r=n.tokenRefresher;r||(r=function ome(t){const{app:e}=t;return new jge(m(function*(){let r;if(r=yt(e).token?yield L1(t,!0):yield L1(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=yt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},wF.RETRIAL_MIN_WAIT,wF.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function RF(t,e){const n=yt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Hu(t){return t.expireTimeMillis-Date.now()>0}function xF(t){return{token:ime(rme),error:t}}class sme{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=yt(this.app);for(const n of e)SC(this.app,n.next);return Promise.resolve()}}function hme(t,e){const n=new wc;yt(t).reCAPTCHAState={initialized:n};const i=function NF(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),o=k1(!1);return o?z1(t,e,o,i,n):function mme(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const s=k1(!1);if(!s)throw new Error("no recaptcha");z1(t,e,s,i,n)}),n.promise}function z1(t,e,n,r,i){n.ready(()=>{(function gme(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{yt(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{yt(t).reCAPTCHAState.succeeded=!1}}),o=yt(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function DC(){return DC=m(function*(t){hC(t);const n=yield yt(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=yt(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}),DC.apply(this,arguments)}class uo{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return m(function*(){var n,r,i;!function LF(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw dn.create("throttled",{time:pC(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const o=yield function kF(t){return DC.apply(this,arguments)}(e._app).catch(a=>{throw dn.create("recaptcha-error")});if(null===(n=yt(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw dn.create("recaptcha-error");let s;try{s=yield V1(function Gge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${fC}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,o),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function FF(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=rv(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),dn.create("throttled",{time:pC(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,s})()}initialize(e){this._app=e,this._heartbeatServiceProvider=ui(e,"heartbeat"),hme(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof uo&&this._siteKey===e._siteKey}}function yme(t=bc(),e){const n=ui(t=ht(t),"app-check");if(N1().initialized||function nme(){const t=YM(),e=N1();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new wc;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function tme(){return IC.apply(this,arguments)}())}(),EC()&&wC().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw dn.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function vme(t,e,n){const r=function Lge(t,e){return dC.set(t,e),dC.get(t)}(t,Object.assign({},EF));r.activated=!0,r.provider=e,r.cachedTokenPromise=function eme(t){return yC.apply(this,arguments)}(t).then(i=>(i&&Hu(i)&&(r.token=i,RF(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),yt(t).isTokenAutoRefreshEnabled&&AC(r,"INTERNAL",()=>{}),r}const zF="app-check-internal";!function Eme(){Cr(new sr("app-check",t=>function ame(t,e){return new sme(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(zF).initialize()})),Cr(new sr(zF,t=>function cme(t){return{getToken:e=>L1(t,e),getLimitedUseToken:()=>function MF(t){return TC.apply(this,arguments)}(t),addTokenListener:e=>AC(t,"INTERNAL",e),removeTokenListener:e=>SC(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),pt("@firebase/app-check","0.8.0")}();class PC{constructor(e){return e}}const RC=new z("angularfire2.app-check-instances"),Cme=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function bme(t){return(e,n,r)=>{!zy(r)&&Cme&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new PC(i)}}const Tme={provide:mv,deps:[[new jt,RC]]},Ame={provide:PC,useFactory:function wme(t,e){const n=Eg(IP,t,e);return n&&new PC(n)},deps:[[new jt,RC],xs,Oi]};let Sme=(()=>{var t;class e{constructor(){pt("angularfire",xo.full,"app-check")}}return t=e,Ae(e,"\u0275fac",function(r){return new(r||t)}),Ae(e,"\u0275mod",Xe({type:t})),Ae(e,"\u0275inj",Ge({providers:[Ame,Tme]})),e})();function ga(t,...e){return{ngModule:Sme,providers:[{provide:RC,useFactory:bme(t),multi:!0,deps:[ve,Ft,Oi,ld,dd,...e]}]}}const ma=gt(yme,!0);let Dme=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t,bootstrap:[Vge]}),t.\u0275inj=Ge({providers:[EO],imports:[Ur,Ns(()=>Os(Xn_firebase)),Pc(()=>Rc()),aa(()=>ca()),ga(()=>ma(ks(),{provider:new uo(Xn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),Rge(()=>uge())]}),e})();class Mme{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class Pme{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class HF{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class UF{constructor(){this._resources=new Pme,this._workers=new HF,this._soldiers=new HF,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var kt=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(kt||{});let BF=(()=>{var t;class e{constructor(){this.dgAPI=T(io)}extractStats(){let r=new Mme;return r.stats.set(kt.ALL,new UF),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new UF),r.stats.get(kt.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(kt.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(kt.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(kt.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(kt.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(kt.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(o=>{switch(o.name){case kt.METAL:r.stats.get(kt.ALL).resources.metalStored+=o.stored,r.stats.get(kt.ALL).resources.metalProduction+=o.production,r.stats.get(i.location[0]).resources.metalStored+=o.stored,r.stats.get(i.location[0]).resources.metalProduction+=o.production;break;case kt.MINERAL:r.stats.get(kt.ALL).resources.mineralStored+=o.stored,r.stats.get(kt.ALL).resources.mineralProduction+=o.production,r.stats.get(i.location[0]).resources.mineralStored+=o.stored,r.stats.get(i.location[0]).resources.mineralProduction+=o.production;break;case kt.FOOD:r.stats.get(kt.ALL).resources.foodStored+=o.stored,r.stats.get(kt.ALL).resources.foodProduction+=o.production,r.stats.get(i.location[0]).resources.foodStored+=o.stored,r.stats.get(i.location[0]).resources.foodProduction+=o.production;break;case kt.ENERGY:r.stats.get(kt.ALL).resources.energyStored+=o.stored,r.stats.get(kt.ALL).resources.energyProduction+=o.production,r.stats.get(i.location[0]).resources.energyStored+=o.stored,r.stats.get(i.location[0]).resources.energyProduction+=o.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Rme=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Bt({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),xC=(()=>{var t;class e{constructor(){this.decimalPipe=T(Ec)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Bt({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const xme=function(t){return{"dgt-stats-totals-last-row":t}},Ar=function(t){return{"dgt-padding-bottom-xs":t}};function Nme(t,e){if(1&t&&(M(0,"tr",4)(1,"th",5)(2,"span",6),j(3),ke(4,"galaxyNameFormatter"),R(),M(5,"span",7),j(6),R()(),M(7,"td",8)(8,"div",9),Ce(9,"img",10),M(10,"span",11),j(11),ke(12,"number"),R()()(),M(13,"td",12)(14,"div",9)(15,"span",11),j(16),ke(17,"resourceProductionFormatter"),R()()(),M(18,"td",13)(19,"div",14),Ce(20,"img",15),M(21,"span",11),j(22),ke(23,"number"),R()()(),M(24,"td",12)(25,"div",14)(26,"span",11),j(27),ke(28,"resourceProductionFormatter"),R()()(),M(29,"td",13)(30,"div",16),Ce(31,"img",17),M(32,"span",11),j(33),ke(34,"number"),R()()(),M(35,"td",12)(36,"div",16)(37,"span",11),j(38),ke(39,"resourceProductionFormatter"),R()()(),M(40,"td",13)(41,"div",18),Ce(42,"img",19),M(43,"span",11),j(44),ke(45,"number"),R()()(),M(46,"td",20)(47,"div",18)(48,"span",11),j(49),ke(50,"resourceProductionFormatter"),R()()(),M(51,"td",21)(52,"div",22),Ce(53,"img",23),M(54,"span",11),j(55),ke(56,"number"),R()()(),M(57,"td",24)(58,"div",25),Ce(59,"img",26),M(60,"span",11),j(61),ke(62,"number"),R()()(),M(63,"td",27)(64,"div",28),Ce(65,"img",29),M(66,"span",11),j(67),ke(68,"number"),R()()()()),2&t){const n=e.$implicit,r=e.index,i=st();Y("ngClass",Gn(64,xme,r==i.panel.stats.size-1)),V(1),Y("ngClass",Gn(66,Ar,r==i.panel.stats.size-2)),V(2),He(bt(4,26,n.key)),V(3),Cs("[",n.value.count,"]"),V(1),Y("ngClass",Gn(68,Ar,r==i.panel.stats.size-2)),V(4),He(To(12,28,n.value.resources.metalStored,"1.0","en-US")),V(2),Y("ngClass",Gn(70,Ar,r==i.panel.stats.size-2)),V(3),He(bt(17,32,n.value.resources.metalProduction)),V(2),Y("ngClass",Gn(72,Ar,r==i.panel.stats.size-2)),V(4),He(To(23,34,n.value.resources.mineralStored,"1.0","en-US")),V(2),Y("ngClass",Gn(74,Ar,r==i.panel.stats.size-2)),V(3),He(bt(28,38,n.value.resources.mineralProduction)),V(2),Y("ngClass",Gn(76,Ar,r==i.panel.stats.size-2)),V(4),He(To(34,40,n.value.resources.foodStored,"1.0","en-US")),V(2),Y("ngClass",Gn(78,Ar,r==i.panel.stats.size-2)),V(3),He(bt(39,44,n.value.resources.foodProduction)),V(2),Y("ngClass",Gn(80,Ar,r==i.panel.stats.size-2)),V(4),He(To(45,46,n.value.resources.energyStored,"1.0","en-US")),V(2),Y("ngClass",Gn(82,Ar,r==i.panel.stats.size-2)),V(3),He(bt(50,50,n.value.resources.energyProduction)),V(2),Y("ngClass",Gn(84,Ar,r==i.panel.stats.size-2)),V(4),He(To(56,52,n.value.resources.ground,"1.0","en-US")),V(2),Y("ngClass",Gn(86,Ar,r==i.panel.stats.size-2)),V(4),He(To(62,56,n.value.resources.orbit,"1.0","en-US")),V(2),Y("ngClass",Gn(88,Ar,r==i.panel.stats.size-2)),V(4),He(To(68,60,n.value.soldiers.total,"1.0","en-US"))}}let kme=(()=>{var t;class e{constructor(){this.statsPanelService=T(BF)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tn({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/FPuGoOV.png","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OTTk4eY.png","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/7gmDfoF.png","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/DEv8NW9.png","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/HesibsH.png","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/KKdM7BA.png","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/FHlHgxL.png","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"table",2),Ct(3,Nme,69,90,"tr",3),ke(4,"keyvalue"),R()()()),2&r&&(V(3),Y("ngForOf",bt(4,1,i.panel.stats)))},dependencies:[ky,lg,Ec,wM,Rme,xC],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function jF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jF(Object(n),!0).forEach(function(r){Ut(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H1(t){return(H1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NC(t,e){return function zme(t){if(Array.isArray(t))return t}(t)||function Ume(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,a,r=[],i=!0,o=!1;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(c){o=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(o)throw a}}return r}}(t,e)||qF(t,e)||function jme(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rh(t){return function Lme(t){if(Array.isArray(t))return kC(t)}(t)||function Hme(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||qF(t)||function Bme(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qF(t,e){if(t){if("string"==typeof t)return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function kC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var GF=function(){},OC={},WF={},KF=null,QF={mark:GF,measure:GF};try{typeof window<"u"&&(OC=window),typeof document<"u"&&(WF=document),typeof MutationObserver<"u"&&(KF=MutationObserver),typeof performance<"u"&&(QF=performance)}catch{}var j1,$1,q1,G1,W1,YF=(OC.navigator||{}).userAgent,XF=void 0===YF?"":YF,ns=OC,Qe=WF,JF=KF,B1=QF,lo=!!Qe.documentElement&&!!Qe.head&&"function"==typeof Qe.addEventListener&&"function"==typeof Qe.createElement,ZF=~XF.indexOf("MSIE")||~XF.indexOf("Trident/"),fo="___FONT_AWESOME___",eL="fa",tL="svg-inline--fa",_a="data-fa-i2svg",FC="data-fa-pseudo-element",qme="data-fa-pseudo-element-pending",LC="data-prefix",zC="data-icon",nL="fontawesome-i2svg",Gme="async",Wme=["HTML","HEAD","STYLE","SCRIPT"],rL=function(){try{return!0}catch{return!1}}(),Ye="classic",vt="sharp",HC=[Ye,vt];function ih(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ye]}})}var oh=ih((Ut(j1={},Ye,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Ut(j1,vt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),j1)),sh=ih((Ut($1={},Ye,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Ut($1,vt,{solid:"fass",regular:"fasr",light:"fasl"}),$1)),ah=ih((Ut(q1={},Ye,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Ut(q1,vt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),q1)),Kme=ih((Ut(G1={},Ye,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Ut(G1,vt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),G1)),Qme=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,iL="fa-layers-text",Yme=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Xme=ih((Ut(W1={},Ye,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Ut(W1,vt,{900:"fass",400:"fasr",300:"fasl"}),W1)),oL=[1,2,3,4,5,6,7,8,9,10],Jme=oL.concat([11,12,13,14,15,16,17,18,19,20]),Zme=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ya={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ch=new Set;Object.keys(sh[Ye]).map(ch.add.bind(ch)),Object.keys(sh[vt]).map(ch.add.bind(ch));var e1e=[].concat(HC,rh(ch),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ya.GROUP,ya.SWAP_OPACITY,ya.PRIMARY,ya.SECONDARY]).concat(oL.map(function(t){return"".concat(t,"x")})).concat(Jme.map(function(t){return"w-".concat(t)})),uh=ns.FontAwesomeConfig||{};Qe&&"function"==typeof Qe.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=NC(t,2),r=e[1],i=function n1e(t){return""===t||"false"!==t&&("true"===t||t)}(function t1e(t){var e=Qe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(uh[r]=i)});var sL={styleDefault:"solid",familyDefault:"classic",cssPrefix:eL,replacementClass:tL,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};uh.familyPrefix&&(uh.cssPrefix=uh.familyPrefix);var Uu=U(U({},sL),uh);Uu.autoReplaceSvg||(Uu.observeMutations=!1);var q={};Object.keys(sL).forEach(function(t){Object.defineProperty(q,t,{enumerable:!0,set:function(n){Uu[t]=n,lh.forEach(function(r){return r(q)})},get:function(){return Uu[t]}})}),Object.defineProperty(q,"familyPrefix",{enumerable:!0,set:function(e){Uu.cssPrefix=e,lh.forEach(function(n){return n(q)})},get:function(){return Uu.cssPrefix}}),ns.FontAwesomeConfig=q;var lh=[],Ai={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},s1e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function dh(){for(var t=12,e="";t-- >0;)e+=s1e[62*Math.random()|0];return e}function Bu(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function UC(t){return t.classList?Bu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function aL(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function K1(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function BC(t){return t.size!==Ai.size||t.x!==Ai.x||t.y!==Ai.y||t.rotate!==Ai.rotate||t.flipX||t.flipY}var l1e=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function cL(){var t=eL,e=tL,n=q.cssPrefix,r=q.replacementClass,i=l1e;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var uL=!1;function jC(){q.autoAddCss&&!uL&&(function o1e(t){if(t&&lo){var e=Qe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Qe.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}Qe.head.insertBefore(e,r)}}(cL()),uL=!0)}var d1e={mixout:function(){return{dom:{css:cL,insertCss:jC}}},hooks:function(){return{beforeDOMElementCreation:function(){jC()},beforeI2svg:function(){jC()}}}},ho=ns||{};ho[fo]||(ho[fo]={}),ho[fo].styles||(ho[fo].styles={}),ho[fo].hooks||(ho[fo].hooks={}),ho[fo].shims||(ho[fo].shims=[]);var Kr=ho[fo],lL=[],Q1=!1;function fh(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?aL(t):"<".concat(e," ").concat(function a1e(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(aL(t[n]),'" ')},"").trim()}(r),">").concat(o.map(fh).join(""),"</").concat(e,">")}function dL(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}lo&&((Q1=(Qe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Qe.readyState))||Qe.addEventListener("DOMContentLoaded",function t(){Qe.removeEventListener("DOMContentLoaded",t),Q1=1,lL.map(function(e){return e()})}));var $C=function(e,n,r,i){var c,u,l,o=Object.keys(e),s=o.length,a=void 0!==i?function(e,n){return function(r,i,o,s){return e.call(n,r,i,o,s)}}(n,i):n;for(void 0===r?(c=1,l=e[o[0]]):(c=0,l=r);c<s;c++)l=a(l,e[u=o[c]],u,e);return l};function qC(t){var e=function g1e(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function fL(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function GC(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,o=fL(e);"function"!=typeof Kr.hooks.addPack||i?Kr.styles[t]=U(U({},Kr.styles[t]||{}),o):Kr.hooks.addPack(t,fL(e)),"fas"===t&&GC("fa",e)}var Y1,X1,J1,ju=Kr.styles,_1e=Kr.shims,y1e=(Ut(Y1={},Ye,Object.values(ah[Ye])),Ut(Y1,vt,Object.values(ah[vt])),Y1),WC=null,hL={},pL={},gL={},mL={},_L={},v1e=(Ut(X1={},Ye,Object.keys(oh[Ye])),Ut(X1,vt,Object.keys(oh[vt])),X1);var yL=function(){var e=function(o){return $C(ju,function(s,a,c){return s[c]=$C(a,o,{}),s},{})};hL=e(function(i,o,s){return o[3]&&(i[o[3]]=s),o[2]&&o[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=s}),i}),pL=e(function(i,o,s){return i[s]=s,o[2]&&o[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=s}),i}),_L=e(function(i,o,s){var a=o[2];return i[s]=s,a.forEach(function(c){i[c]=s}),i});var n="far"in ju||q.autoFetchSvg,r=$C(_1e,function(i,o){var s=o[0],a=o[1],c=o[2];return"far"===a&&!n&&(a="fas"),"string"==typeof s&&(i.names[s]={prefix:a,iconName:c}),"number"==typeof s&&(i.unicodes[s.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});gL=r.names,mL=r.unicodes,WC=Z1(q.styleDefault,{family:q.familyDefault})};function KC(t,e){return(hL[t]||{})[e]}function va(t,e){return(_L[t]||{})[e]}function vL(t){return gL[t]||{prefix:null,iconName:null}}function is(){return WC}(function i1e(t){lh.push(t)})(function(t){WC=Z1(t.styleDefault,{family:q.familyDefault})}),yL();var QC=function(){return{prefix:null,iconName:null,rest:[]}};function Z1(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?Ye:n;return sh[r][t]||sh[r][oh[r][t]]||(t in Kr.styles?t:null)||null}var IL=(Ut(J1={},Ye,Object.keys(ah[Ye])),Ut(J1,vt,Object.keys(ah[vt])),J1);function e2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,o=(Ut(e={},Ye,"".concat(q.cssPrefix,"-").concat(Ye)),Ut(e,vt,"".concat(q.cssPrefix,"-").concat(vt)),e),s=null,a=Ye;(t.includes(o[Ye])||t.some(function(u){return IL[Ye].includes(u)}))&&(a=Ye),(t.includes(o[vt])||t.some(function(u){return IL[vt].includes(u)}))&&(a=vt);var c=t.reduce(function(u,l){var d=function E1e(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function I1e(t){return~e1e.indexOf(t)}(i)?null:i}(q.cssPrefix,l);if(ju[l]?(l=y1e[a].includes(l)?Kme[a][l]:l,s=l,u.prefix=l):v1e[a].indexOf(l)>-1?(s=l,u.prefix=Z1(l,{family:a})):d?u.iconName=d:l!==q.replacementClass&&l!==o[Ye]&&l!==o[vt]&&u.rest.push(l),!i&&u.prefix&&u.iconName){var f="fa"===s?vL(u.iconName):{},h=va(u.prefix,u.iconName);f.prefix&&(s=null),u.iconName=f.iconName||h||u.iconName,u.prefix=f.prefix||u.prefix,"far"===u.prefix&&!ju.far&&ju.fas&&!q.autoFetchSvg&&(u.prefix="fas")}return u},QC());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===vt&&(ju.fass||q.autoFetchSvg)&&(c.prefix="fass",c.iconName=va(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===s)&&(c.prefix=is()||"fas"),c}var b1e=function(){function t(){(function Ome(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function Vme(t,e,n){e&&$F(t.prototype,e),n&&$F(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(a){n.definitions[a]=U(U({},n.definitions[a]||{}),s[a]),GC(a,s[a]);var c=ah[Ye][a];c&&GC(c,s[a]),yL()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var s=i[o],a=s.prefix,c=s.iconName,u=s.icon,l=u[2];n[a]||(n[a]={}),l.length>0&&l.forEach(function(d){"string"==typeof d&&(n[a][d]=u)}),n[a][c]=u}),n}}]),t}(),EL=[],$u={},qu={},T1e=Object.keys(qu);function YC(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return($u[t]||[]).forEach(function(s){e=s.apply(null,[e].concat(r))}),e}function Ia(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];($u[t]||[]).forEach(function(o){o.apply(null,n)})}function po(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return qu[t]?qu[t].apply(null,e):void 0}function XC(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||is();if(e)return e=va(n,e)||e,dL(wL.definitions,n,e)||dL(Kr.styles,n,e)}var wL=new b1e,D1e={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lo?(Ia("beforeI2svg",e),po("pseudoElements2svg",e),po("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===q.autoReplaceSvg&&(q.autoReplaceSvg=!0),q.observeMutations=!0,function h1e(t){lo&&(Q1?setTimeout(t,0):lL.push(t))}(function(){P1e({autoReplaceSvgRoot:n}),Ia("watch",e)})}},fr={noAuto:function(){q.autoReplaceSvg=!1,q.observeMutations=!1,Ia("noAuto")},config:q,dom:D1e,parse:{icon:function(e){if(null===e)return null;if("object"===H1(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:va(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=Z1(e[0]);return{prefix:r,iconName:va(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(q.cssPrefix,"-"))>-1||e.match(Qme))){var i=e2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||is(),iconName:va(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var o=is();return{prefix:o,iconName:va(o,e)||e}}}},library:wL,findIconDefinition:XC,toHtml:fh},P1e=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Qe:n;(Object.keys(Kr.styles).length>0||q.autoFetchSvg)&&lo&&q.autoReplaceSvg&&fr.dom.i2svg({node:r})};function t2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return fh(r)})}}),Object.defineProperty(t,"node",{get:function(){if(lo){var r=Qe.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function JC(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,c=t.title,u=t.maskId,l=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,_=p.height,I="fak"===i,y=[q.replacementClass,o?"".concat(q.cssPrefix,"-").concat(o):""].filter(function(Xt){return-1===d.classes.indexOf(Xt)}).filter(function(Xt){return""!==Xt||!!Xt}).concat(d.classes).join(" "),w={children:[],attributes:U(U({},d.attributes),{},{"data-prefix":i,"data-icon":o,class:y,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(_)})},P=I&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/_*16*.0625,"em")}:{};h&&(w.attributes[_a]=""),c&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(l||dh())},children:[c]}),delete w.attributes.title);var N=U(U({},w),{},{prefix:i,iconName:o,main:n,mask:r,maskId:u,transform:s,symbol:a,styles:U(U({},P),d.styles)}),K=r.found&&n.found?po("generateAbstractMask",N)||{children:[],attributes:{}}:po("generateAbstractIcon",N)||{children:[],attributes:{}},ut=K.attributes;return N.children=K.children,N.attributes=ut,a?function x1e(t){var n=t.iconName,r=t.children,i=t.attributes,o=t.symbol,s=!0===o?"".concat(t.prefix,"-").concat(q.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:U(U({},i),{},{id:s}),children:r}]}]}(N):function R1e(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(BC(s)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=K1(U(U({},o),{},{"transform-origin":"".concat(u.x+s.x/16,"em ").concat(u.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(N)}function CL(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,s=t.extra,a=t.watchable,c=void 0!==a&&a,u=U(U(U({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});c&&(u[_a]="");var l=U({},s.styles);BC(i)&&(l.transform=function u1e(t){var e=t.transform,n=t.width,i=t.height,o=void 0===i?16:i,s=t.startCentered,a=void 0!==s&&s,c="";return c+=a&&ZF?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-o/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var d=K1(l);d.length>0&&(u.style=d);var f=[];return f.push({tag:"span",attributes:u,children:[e]}),o&&f.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),f}var ZC=Kr.styles;function eb(t){var e=t[0],n=t[1],o=NC(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(q.cssPrefix,"-").concat(ya.GROUP)},children:[{tag:"path",attributes:{class:"".concat(q.cssPrefix,"-").concat(ya.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(q.cssPrefix,"-").concat(ya.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var k1e={found:!1,width:512,height:512};function tb(t,e){var n=e;return"fa"===e&&null!==q.styleDefault&&(e=is()),new Promise(function(r,i){if(po("missingIconAbstract"),"fa"===n){var s=vL(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&ZC[e]&&ZC[e][t])return r(eb(ZC[e][t]));(function O1e(t,e){!rL&&!q.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(U(U({},k1e),{},{icon:q.showMissingIcons&&t&&po("missingIconAbstract")||{}}))})}var bL=function(){},nb=q.measurePerformance&&B1&&B1.mark&&B1.measure?B1:{mark:bL,measure:bL},hh='FA "6.4.2"',TL=function(e){nb.mark("".concat(hh," ").concat(e," ends")),nb.measure("".concat(hh," ").concat(e),"".concat(hh," ").concat(e," begins"),"".concat(hh," ").concat(e," ends"))},rb={begin:function(e){return nb.mark("".concat(hh," ").concat(e," begins")),function(){return TL(e)}},end:TL},n2=function(){};function AL(t){return"string"==typeof(t.getAttribute?t.getAttribute(_a):null)}function H1e(t){return Qe.createElementNS("http://www.w3.org/2000/svg",t)}function U1e(t){return Qe.createElement(t)}function SL(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?H1e:U1e:n;if("string"==typeof t)return Qe.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){i.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){i.appendChild(SL(s,{ceFn:r}))}),i}var r2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(SL(i),n)}),null===n.getAttribute(_a)&&q.keepOriginalSource){var r=Qe.createComment(function B1e(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~UC(n).indexOf(q.replacementClass))return r2.replace(e);var i=new RegExp("".concat(q.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(a,c){return c===q.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var s=r.map(function(a){return fh(a)}).join("\n");n.setAttribute(_a,""),n.innerHTML=s}};function DL(t){t()}function ML(t,e){var n="function"==typeof e?e:n2;if(0===t.length)n();else{var r=DL;q.mutateApproach===Gme&&(r=ns.requestAnimationFrame||DL),r(function(){var i=function z1e(){return!0===q.autoReplaceSvg?r2.replace:r2[q.autoReplaceSvg]||r2.replace}(),o=rb.begin("mutate");t.map(i),o(),n()})}}var ib=!1;function PL(){ib=!0}function ob(){ib=!1}var o2=null;function RL(t){if(JF&&q.observeMutations){var e=t.treeCallback,n=void 0===e?n2:e,r=t.nodeCallback,i=void 0===r?n2:r,o=t.pseudoElementsCallback,s=void 0===o?n2:o,a=t.observeMutationsRoot,c=void 0===a?Qe:a;o2=new JF(function(u){if(!ib){var l=is();Bu(u).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!AL(d.addedNodes[0])&&(q.searchPseudoElements&&s(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&q.searchPseudoElements&&s(d.target.parentNode),"attributes"===d.type&&AL(d.target)&&~Zme.indexOf(d.attributeName))if("class"===d.attributeName&&function F1e(t){var e=t.getAttribute?t.getAttribute(LC):null,n=t.getAttribute?t.getAttribute(zC):null;return e&&n}(d.target)){var f=e2(UC(d.target)),p=f.iconName;d.target.setAttribute(LC,f.prefix||l),p&&d.target.setAttribute(zC,p)}else(function L1e(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(q.replacementClass)})(d.target)&&i(d.target)})}}),lo&&o2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function xL(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function q1e(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=e2(UC(t));return i.prefix||(i.prefix=is()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function w1e(t,e){return(pL[t]||{})[e]}(i.prefix,t.innerText)||KC(i.prefix,qC(t.innerText))),!i.iconName&&q.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,o=n.rest,s=function G1e(t){var e=Bu(t.attributes).reduce(function(i,o){return"class"!==i.name&&"style"!==i.name&&(i[o.name]=o.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return q.autoA11y&&(n?e["aria-labelledby"]="".concat(q.replacementClass,"-title-").concat(r||dh()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=YC("parseNodeAttributes",{},t),c=e.styleParser?function $1e(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var o=i.split(":"),s=o[0],a=o.slice(1);return s&&a.length>0&&(r[s]=a.join(":").trim()),r},{})),n}(t):[];return U({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Ai,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:c,attributes:s}},a)}var K1e=Kr.styles;function NL(t){var e="nest"===q.autoReplaceSvg?xL(t,{styleParser:!1}):xL(t);return~e.extra.classes.indexOf(iL)?po("generateLayersText",t,e):po("generateSvgReplacementMutation",t,e)}var os=new Set;function kL(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!lo)return Promise.resolve();var n=Qe.documentElement.classList,r=function(d){return n.add("".concat(nL,"-").concat(d))},i=function(d){return n.remove("".concat(nL,"-").concat(d))},o=q.autoFetchSvg?os:HC.map(function(l){return"fa-".concat(l)}).concat(Object.keys(K1e));o.includes("fa")||o.push("fa");var s=[".".concat(iL,":not([").concat(_a,"])")].concat(o.map(function(l){return".".concat(l,":not([").concat(_a,"])")})).join(", ");if(0===s.length)return Promise.resolve();var a=[];try{a=Bu(t.querySelectorAll(s))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=rb.begin("onTree"),u=a.reduce(function(l,d){try{var f=NL(d);f&&l.push(f)}catch(h){rL||"MissingIcon"===h.name&&console.error(h)}return l},[]);return new Promise(function(l,d){Promise.all(u).then(function(f){ML(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),l()})}).catch(function(f){c(),d(f)})})}function Q1e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;NL(t).then(function(n){n&&ML([n],e)})}function Y1e(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:XC(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:XC(i||{})),t(r,U(U({},n),{},{mask:i}))}}HC.map(function(t){os.add("fa-".concat(t))}),Object.keys(oh[Ye]).map(os.add.bind(os)),Object.keys(oh[vt]).map(os.add.bind(os)),os=rh(os);var X1e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?Ai:r,o=n.symbol,s=void 0!==o&&o,a=n.mask,c=void 0===a?null:a,u=n.maskId,l=void 0===u?null:u,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,_=void 0===g?[]:g,I=n.attributes,y=void 0===I?{}:I,w=n.styles,P=void 0===w?{}:w;if(e){var N=e.prefix,K=e.iconName,ue=e.icon;return t2(U({type:"icon"},e),function(){return Ia("beforeDOMElementCreation",{iconDefinition:e,params:n}),q.autoA11y&&(f?y["aria-labelledby"]="".concat(q.replacementClass,"-title-").concat(p||dh()):(y["aria-hidden"]="true",y.focusable="false")),JC({icons:{main:eb(ue),mask:c?eb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:N,iconName:K,transform:U(U({},Ai),i),symbol:s,title:f,maskId:l,titleId:p,extra:{attributes:y,styles:P,classes:_}})})}},J1e={mixout:function(){return{icon:Y1e(X1e)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=kL,n.nodeCallback=Q1e,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,o=n.callback;return kL(void 0===r?Qe:r,void 0===o?function(){}:o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,o=r.title,s=r.titleId,a=r.prefix,c=r.transform,u=r.symbol,l=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([tb(i,a),l.iconName?tb(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var _=NC(g,2);h([n,JC({icons:{main:_[0],mask:_[1]},prefix:a,iconName:i,transform:c,symbol:u,maskId:d,title:o,titleId:s,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var u,r=n.children,i=n.attributes,o=n.main,s=n.transform,c=K1(n.styles);return c.length>0&&(i.style=c),BC(s)&&(u=po("generateAbstractTransformGrouping",{main:o,transform:s,containerWidth:o.width,iconWidth:o.width})),r.push(u||o.icon),{children:r,attributes:i}}}},Z1e={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,o=void 0===i?[]:i;return t2({type:"layer"},function(){Ia("beforeDOMElementCreation",{assembler:n,params:r});var s=[];return n(function(a){Array.isArray(a)?a.map(function(c){s=s.concat(c.abstract)}):s=s.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(q.cssPrefix,"-layers")].concat(rh(o)).join(" ")},children:s}]})}}}},e2e={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,o=void 0===i?null:i,s=r.classes,a=void 0===s?[]:s,c=r.attributes,u=void 0===c?{}:c,l=r.styles,d=void 0===l?{}:l;return t2({type:"counter",content:n},function(){return Ia("beforeDOMElementCreation",{content:n,params:r}),function N1e(t){var e=t.content,n=t.title,r=t.extra,i=U(U(U({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=K1(r.styles);o.length>0&&(i.style=o);var s=[];return s.push({tag:"span",attributes:i,children:[e]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:n.toString(),title:o,extra:{attributes:u,styles:d,classes:["".concat(q.cssPrefix,"-layers-counter")].concat(rh(a))}})})}}}},t2e={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,o=void 0===i?Ai:i,s=r.title,a=void 0===s?null:s,c=r.classes,u=void 0===c?[]:c,l=r.attributes,d=void 0===l?{}:l,f=r.styles,h=void 0===f?{}:f;return t2({type:"text",content:n},function(){return Ia("beforeDOMElementCreation",{content:n,params:r}),CL({content:n,transform:U(U({},Ai),o),title:a,extra:{attributes:d,styles:h,classes:["".concat(q.cssPrefix,"-layers-text")].concat(rh(u))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,o=r.transform,s=r.extra,a=null,c=null;if(ZF){var u=parseInt(getComputedStyle(n).fontSize,10),l=n.getBoundingClientRect();a=l.width/u,c=l.height/u}return q.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),Promise.resolve([n,CL({content:n.innerHTML,width:a,height:c,transform:o,title:i,extra:s,watchable:!0})])}}},n2e=new RegExp('"',"ug"),OL=[1105920,1112319];function VL(t,e){var n="".concat(qme).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var s=Bu(t.children).filter(function(ue){return ue.getAttribute(FC)===e})[0],a=ns.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(Yme),u=a.getPropertyValue("font-weight"),l=a.getPropertyValue("content");if(s&&!c)return t.removeChild(s),r();if(c&&"none"!==l&&""!==l){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?vt:Ye,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?sh[f][c[2].toLowerCase()]:Xme[f][u],p=function r2e(t){var e=t.replace(n2e,""),n=function m1e(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=OL[0]&&n<=OL[1],i=2===e.length&&e[0]===e[1];return{value:qC(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,_=p.isSecondary,I=c[0].startsWith("FontAwesome"),y=KC(h,g),w=y;if(I){var P=function C1e(t){var e=mL[t],n=KC("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);P.iconName&&P.prefix&&(y=P.iconName,h=P.prefix)}if(!y||_||s&&s.getAttribute(LC)===h&&s.getAttribute(zC)===w)r();else{t.setAttribute(n,w),s&&t.removeChild(s);var N=function W1e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ai,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),K=N.extra;K.attributes[FC]=e,tb(y,h).then(function(ue){var ut=JC(U(U({},N),{},{icons:{main:ue,mask:QC()},prefix:h,iconName:w,extra:K,watchable:!0})),Xt=Qe.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(Xt,t.firstChild):t.appendChild(Xt),Xt.outerHTML=ut.map(function(us){return fh(us)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function i2e(t){return Promise.all([VL(t,"::before"),VL(t,"::after")])}function o2e(t){return!(t.parentNode===document.head||~Wme.indexOf(t.tagName.toUpperCase())||t.getAttribute(FC)||t.parentNode&&"svg"===t.parentNode.tagName)}function FL(t){if(lo)return new Promise(function(e,n){var r=Bu(t.querySelectorAll("*")).filter(o2e).map(i2e),i=rb.begin("searchPseudoElements");PL(),Promise.all(r).then(function(){i(),ob(),e()}).catch(function(){i(),ob(),n()})})}var LL=!1,zL=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),s=o[0],a=o.slice(1).join("-");if(s&&"h"===a)return r.flipX=!0,r;if(s&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(s){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},sb={x:0,y:0,width:"100%",height:"100%"};function HL(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function u2e(t){return"g"===t.tag?t.children:[t]}var l2e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),o=i?e2(i.split(" ").map(function(s){return s.trim()})):QC();return o.prefix||(o.prefix=is()),n.mask=o,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.mask,a=n.maskId,l=o.icon,f=s.icon,h=function c1e(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:s.width,iconWidth:o.width}),p={tag:"rect",attributes:U(U({},sb),{},{fill:"white"})},g=l.children?{children:l.children.map(HL)}:{},_={tag:"g",attributes:U({},h.inner),children:[HL(U({tag:l.tag,attributes:U(U({},l.attributes),h.path)},g))]},I={tag:"g",attributes:U({},h.outer),children:[_]},y="mask-".concat(a||dh()),w="clip-".concat(a||dh()),P={tag:"mask",attributes:U(U({},sb),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,I]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:u2e(f)},P]};return r.push(N,{tag:"rect",attributes:U({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(y,")")},sb)}),{children:r,attributes:i}}}};!function A1e(t,e){var n=e.mixoutsTo;EL=t,$u={},Object.keys(qu).forEach(function(r){-1===T1e.indexOf(r)&&delete qu[r]}),EL.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(s){"function"==typeof i[s]&&(n[s]=i[s]),"object"===H1(i[s])&&Object.keys(i[s]).forEach(function(a){n[s]||(n[s]={}),n[s][a]=i[s][a]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(s){$u[s]||($u[s]=[]),$u[s].push(o[s])})}r.provides&&r.provides(qu)})}([d1e,J1e,Z1e,e2e,t2e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=FL,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;q.searchPseudoElements&&FL(void 0===r?Qe:r)}}},{mixout:function(){return{dom:{unwatch:function(){PL(),LL=!0}}}},hooks:function(){return{bootstrap:function(){RL(YC("mutationObserverCallbacks",{}))},noAuto:function(){!function j1e(){o2&&o2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;LL?ob():RL(YC("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return zL(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=zL(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),l="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(u," ").concat(l)},path:{transform:"translate(".concat(s/2*-1," -256)")}};return{tag:"g",attributes:U({},h.outer),children:[{tag:"g",attributes:U({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:U(U({},r.icon.attributes),h.path)}]}]}}}},l2e,{provides:function(e){var n=!1;ns.matchMedia&&(n=ns.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:U(U({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=U(U({},o),{},{attributeName:"opacity"}),a={tag:"circle",attributes:U(U({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:U(U({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:U(U({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:U(U({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:U(U({},s),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:U(U({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:U(U({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:fr});var p2e=fr.parse,g2e=fr.icon;const m2e=["*"],v2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let w2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),ab=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const o of i.icon[2])"string"==typeof o&&(this.definitions[i.prefix][o]=i)}}addIconPacks(...r){for(const i of r){const o=Object.keys(i).map(s=>i[s]);this.addIcons(...o)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),C2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Q({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Dn]}),e})(),b2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(b(ii),b(gn))},t.\u0275cmp=Tn({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Dn],ngContentSelectors:m2e,decls:1,vars:0,template:function(r,i){1&r&&(function lD(t){const e=C()[wt][hn];if(!e.projection){const r=e.projection=gl(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?iK(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),function dD(t,e=0,n){const r=C(),i=me(),o=nc(i,le+t,16,null,n||null);null===o.projection&&(o.projection=e),s_(),(!r[Ri]||Na())&&32!=(32&o.flags)&&function nq(t,e,n){fA(e[re],0,e,n,k_(t,n,e),sA(n.parent||e[hn],n,e))}(i,r,o)}(0))},encapsulation:2}),e})(),UL=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,o,s,a){this.sanitizer=r,this.config=i,this.iconLibrary=o,this.stackItem=s,this.classes=[],null!=a&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const o=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=o){const s=this.buildParams();this.renderIcon(o,s)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?p2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...v2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const o=g2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(b($M),b(w2e),b(ab),b(C2e,8),b(b2e,8))},t.\u0275cmp=Tn({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(U0("innerHTML",i.renderedIconHTML,TA),Or("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Dn],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),cb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t}),t.\u0275inj=Ge({}),e})(),T2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t,bootstrap:[kme]}),t.\u0275inj=Ge({providers:[Ec,BF],imports:[Ur,cb]}),e})(),BL=(()=>{var t;class e{constructor(){this.firestore=T(vi),this.dgAPI=T(io)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){let i=Ii(this.firestore,"scans");null!=this.planetScanSubscription&&this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=Cu(bu(i,Zo("location","==",r.planetScan.location),yO(1)),{idField:"id"}).subscribe(o=>{let s=Object.assign(new CO,o[0]);s.location=r.planetScan.location,s.turn=r.planetScan.turn,s.owner=r.planetScan.owner,(r.type==Cn.RESOURCE||r.type==Cn.SURFACE)&&(s.orbit=r.planetScan.orbit,s.ground=r.planetScan.ground),r.type==Cn.RESOURCE&&(s.resources.length>0?s.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):s.resources=r.planetScan.resources),r.type==Cn.SURFACE&&(s.resources=r.planetScan.resources,s.workers=r.planetScan.workers,s.soldiers=r.planetScan.soldiers,s.structures=r.planetScan.structures),r.type==Cn.FLEET?s.fleets=r.planetScan.fleets:0==o.length?_O(i,JSON.parse(JSON.stringify(s))).catch(a=>{console.log(a)}):vO(u1(i,s.id),JSON.parse(JSON.stringify(s))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe()})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function A2e(t,e){1&t&&(M(0,"p",1),j(1,"Shared scans are active! Each scan will be uploaded and shared with your allies!"),R())}let S2e=(()=>{var t;class e{constructor(){this.scanService=T(BL),this.authService=T(Su),this.changeDetection=T(Ui),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.changeDetection.detectChanges()}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tn({type:t,selectors:[["dgt-shared-scans-collector"]],decls:1,vars:1,consts:[["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&Ct(0,A2e,2,0,"p",0),2&r&&Y("ngIf",i.active)},dependencies:[Do],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}"]}),e})(),D2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t,bootstrap:[S2e]}),t.\u0275inj=Ge({providers:[BL],imports:[Ur,Ns(()=>Os(Xn_firebase)),Pc(()=>Rc()),aa(()=>ca()),ga(()=>ma(ks(),{provider:new uo(Xn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),jL=(()=>{var t;class e{constructor(){this.firestore=T(vi),this.dgAPI=T(io),this.resourceProductionFormatterPipe=T(xC),this.decimalPipe=T(Ec)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){let i=r.map(o=>o.location.join("."));Cu(bu(Ii(this.firestore,"scans"),Zo("location","in",i))).forEach(o=>{let a=Object.assign([],o).reduce((c,u)=>c.set(u.location,u),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let u=c.querySelector("div.coords > span").textContent.trim(),l=a.get(u);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",l){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(l.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=l.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=l.orbit,l.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=l.structures.map(h=>h.name);d.includes(qe.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(qe.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(qe.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(qe.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(qe.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(qe.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(qe.HOLO_GENERATOR)&&(c.querySelector(".dgt-navigation-scan-structures-data .hg").textContent="HG"),d.includes(qe.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(qe.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(qe.MEDICAL_CENTRE)&&(f+=.3),d.includes(qe.LEISURE_CENTRE)&&(f+=.4),d.includes(qe.HOSPITAL)&&(f+=.3),l.workers.currentNumber>0||l.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(l.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(l.soldiers,"1.0","en_US");let h=l.workers.currentNumber/15+l.soldiers/2*3+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"})}).catch(o=>{console.log(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function M2e(t,e){1&t&&(M(0,"p",1),j(1,"Shared scans are active! All scanned planets will display their summaries directly into navigation screen!"),R())}let P2e=(()=>{var t;class e{constructor(){this.scanService=T(jL),this.authService=T(Su),this.active=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status){let i=this.scanService.extractSummaries();i.length>0&&this.scanService.fillScans(i)}})}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tn({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:1,vars:1,consts:[["style","padding-left: 10px; color: rgb(255, 220, 45);",4,"ngIf"],[2,"padding-left","10px","color","rgb(255, 220, 45)"]],template:function(r,i){1&r&&Ct(0,M2e,2,0,"p",0),2&r&&Y("ngIf",i.active)},dependencies:[Do]}),e})(),R2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t,bootstrap:[P2e]}),t.\u0275inj=Ge({providers:[Ec,xC,jL],imports:[Ur,Ns(()=>Os(Xn_firebase)),Pc(()=>Rc()),aa(()=>ca()),ga(()=>ma(ks(),{provider:new uo(Xn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function x2e(t,e){if(1&t){const n=Es();M(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),j(6,"DGT Login"),R()()(),M(7,"tr",3)(8,"td"),Ce(9,"input",4,5),R(),M(11,"td"),Ce(12,"input",6,7),R()(),M(14,"tr",8)(15,"td",2)(16,"button",9),Ze("click",function(){xr(n);const i=k0(10),o=k0(13);return Nr(st().signInWithEmailAndPassword(i.value,o.value,!0))}),j(17,"Login"),R(),M(18,"button",10),Ze("click",function(){return xr(n),Nr(st().signInWithGoogle(!0))}),Ce(19,"img",11),R()()()()()()}}let N2e=(()=>{var t;class e{constructor(){this.authService=T(Su),this.auth=T(bd),this.firestore=T(vi),this.localStorageService=T(Ei),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new we(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(wn.USER)&&!this.authService.refreshInProgress)})})}signInWithEmailAndPassword(r,i,o){this.authService.signInWithEmailAndPassword(this.auth,r,i,o)}signInWithGoogle(r){this.authService.signInWithGoogle(this.auth,r)}signOut(r){this.authService.signOut(this.auth,r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tn({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(Ct(0,x2e,20,0,"div",0),ke(1,"async")),2&r&&Y("ngIf",bt(1,1,i.displayLogin))},dependencies:[Do,Ic],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),k2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t,bootstrap:[N2e]}),t.\u0275inj=Ge({imports:[Ur,Ns(()=>Os(Xn_firebase)),Pc(()=>Rc()),aa(()=>ca()),ga(()=>ma(ks(),{provider:new uo(Xn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),$L=(()=>{var t;class e{constructor(){this.firestore=T(vi),this.dgApi=T(io)}updateOrder(r){r.from=this.dgApi.username(!1);let i=Ii(this.firestore,"orders");_O(i,JSON.parse(JSON.stringify(r))).catch(o=>{console.log(o)})}deleteOrder(r){Qle(u1(Ii(this.firestore,"orders"),r)).catch(i=>{console.log(i)})}getAllOrders(r,i,o,s){document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(c=>{c.classList.add("show"),c.classList.remove("hide")});let a=Ii(this.firestore,"orders");Cu(bu(a,Zo("user","==",r),l1("executed","asc"),l1("wait","asc")),{idField:"id"}).forEach(c=>{let u=Object.assign([],c);u.forEach(l=>{l.wait-=i-l.turn}),s.next(u),o.detectChanges(),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.member")&&document.querySelectorAll("dgt-alliance-orders-manager-panel .dgt-spinner-container.member").forEach(l=>{l.classList.add("hide"),l.classList.remove("show")})}).catch(c=>{console.log(c)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class O2e{get from(){return this._from}set from(e){this._from=e}get instructions(){return this._instructions}set instructions(e){this._instructions=e}get target(){return this._target}set target(e){this._target=e}get turn(){return this._turn}set turn(e){this._turn=e}get executed(){return this._executed}set executed(e){this._executed=e}get user(){return this._user}set user(e){this._user=e}get wait(){return this._wait}set wait(e){this._wait=e}get id(){return this._id}set id(e){this._id=e}toJSON(){return{instructions:this._instructions,wait:this.wait,user:this.user,executed:this.executed,turn:this.turn,target:this.target,from:this.from}}}var db={prefix:"far",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"]},pb={prefix:"far",iconName:"circle-right",icon:[512,512,[61838,"arrow-alt-circle-right"],"f35a","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM294.6 135.1c-4.2-4.5-10.1-7.1-16.3-7.1C266 128 256 138 256 150.3V208H160c-17.7 0-32 14.3-32 32v32c0 17.7 14.3 32 32 32h96v57.7c0 12.3 10 22.3 22.3 22.3c6.2 0 12.1-2.6 16.3-7.1l99.9-107.1c3.5-3.8 5.5-8.7 5.5-13.8s-2-10.1-5.5-13.8L294.6 135.1z"]},a2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let pH=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(b(ii),b(gn))},t.\u0275dir=Q({type:t}),e})(),Ea=(()=>{var t;class e extends pH{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=rn(t)))(i||t)}}(),t.\u0275dir=Q({type:t,features:[Me]}),e})();const Si=new z("NgValueAccessor"),Wye={provide:Si,useExisting:Fe(()=>c2),multi:!0},Qye=new z("CompositionEventMode");let c2=(()=>{var t;class e extends pH{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Kye(){const t=So()?So().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(b(ii),b(gn),b(Qye,8))},t.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ze("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[et([Wye]),Me]}),e})();const bn=new z("NgValidators"),as=new z("NgAsyncValidators");function TH(t){return null!=t}function AH(t){return Vl(t)?fn(t):t}function SH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function DH(t,e){return e.map(n=>n(t))}function MH(t){return t.map(e=>function Xye(t){return!t.validate}(e)?e:n=>e.validate(n))}function mb(t){return null!=t?function PH(t){if(!t)return null;const e=t.filter(TH);return 0==e.length?null:function(n){return SH(DH(n,e))}}(MH(t)):null}function _b(t){return null!=t?function RH(t){if(!t)return null;const e=t.filter(TH);return 0==e.length?null:function(n){return function qye(...t){const e=i8(t),{args:n,keys:r}=aV(t),i=new we(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;Hn(n[l]).subscribe(lt(o,f=>{d||(d=!0,u--),a[l]=f},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?uV(r,a):a),o.complete())}))}});return e?i.pipe(cV(e)):i}(DH(n,e).map(AH)).pipe(Ie(SH))}}(MH(t)):null}function xH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function yb(t){return t?Array.isArray(t)?t:[t]:[]}function l2(t,e){return Array.isArray(t)?t.includes(e):t===e}function OH(t,e){const n=yb(e);return yb(t).forEach(i=>{l2(n,i)||n.push(i)}),n}function VH(t,e){return yb(e).filter(n=>!l2(t,n))}class FH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_b(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ln extends FH{get formDirective(){return null}get path(){return null}}class cs extends FH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class LH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zH=(()=>{var t;class e extends LH{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(b(cs,2))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ll("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Me]}),e})(),HH=(()=>{var t;class e extends LH{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(b(Ln,10))},t.\u0275dir=Q({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ll("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Me]}),e})();const ph="VALID",f2="INVALID",Gu="PENDING",gh="DISABLED";function Eb(t){return(h2(t)?t.validators:t)||null}function wb(t,e){return(h2(e)?e.asyncValidators:t)||null}function h2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class $H{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ph}get invalid(){return this.status===f2}get pending(){return this.status==Gu}get disabled(){return this.status===gh}get enabled(){return this.status!==gh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(OH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(OH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VH(e,this._rawAsyncValidators))}hasValidator(e){return l2(this._rawValidators,e)}hasAsyncValidator(e){return l2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=gh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ph,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ph||this.status===Gu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gh:ph}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gu,this._hasOwnPendingAsyncValidator=!0;const n=AH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?gh:this.errors?f2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gu)?Gu:this._anyControlsHaveStatus(f2)?f2:ph}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){h2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function tve(t){return Array.isArray(t)?mb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function nve(t){return Array.isArray(t)?_b(t):t||null}(this._rawAsyncValidators)}}class Cb extends $H{constructor(e,n,r){super(Eb(n),wb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function jH(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function BH(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Wu=new z("CallSetDisabledState",{providedIn:"root",factory:()=>p2}),p2="always";function mh(t,e,n=p2){bb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function ove(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&qH(t,e)})}(t,e),function ave(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function sve(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&qH(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function ive(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function _2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function bb(t,e){const n=function NH(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(xH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function kH(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(xH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();_2(e._rawValidators,i),_2(e._rawAsyncValidators,i)}function qH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const fve={provide:Ln,useExisting:Fe(()=>v2)},_h=(()=>Promise.resolve())();let v2=(()=>{var t;class e extends Ln{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ot,this.form=new Cb({},mb(r),_b(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){_h.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),mh(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){_h.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){_h.then(()=>{const i=this._findContainer(r.path),o=new Cb({});(function GH(t,e){bb(t,e)})(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){_h.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){_h.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function WH(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(b(bn,10),b(as,10),b(Wu,8))},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Ze("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[et([fve]),Me]}),e})();function KH(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function QH(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const YH=class extends $H{constructor(e=null,n,r){super(Eb(n),wb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),h2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=QH(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){QH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},gve={provide:cs,useExisting:Fe(()=>Db)},ZH=(()=>Promise.resolve())();let Db=(()=>{var t;class e extends cs{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new YH,this._registered=!1,this.name="",this.update=new ot,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function Sb(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===c2?n=o:function lve(t){return Object.getPrototypeOf(t.constructor)===Ea}(o)?r=o:i=o}),i||r||n||null}(0,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function Ab(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){ZH.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,o=0!==i&&function yc(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);ZH.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function g2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(b(Ln,9),b(bn,10),b(as,10),b(Si,10),b(Ui,8),b(Wu,8))},t.\u0275dir=Q({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[et([gve]),Me,Dn]}),e})(),eU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Q({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),nU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t}),t.\u0275inj=Ge({}),e})(),zve=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t}),t.\u0275inj=Ge({imports:[nU]}),e})(),Uve=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Wu,useValue:r.callSetDisabledState??p2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t}),t.\u0275inj=Ge({imports:[zve]}),e})(),Bve=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9.]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(b(gn))},t.\u0275dir=Q({type:t,selectors:[["","dgtNavigationTarget",""]],hostBindings:function(r,i){1&r&&Ze("keypress",function(s){return i.validateInput(s)})("paste",function(s){return i.validatePaste(s)})}}),e})(),jve=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(b(gn))},t.\u0275dir=Q({type:t,selectors:[["","dgtWaitTurns",""]],hostBindings:function(r,i){1&r&&Ze("keypress",function(s){return i.validateInput(s)})("paste",function(s){return i.validatePaste(s)})}}),e})(),$ve=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Bt({name:"kickMemberFormatter",type:t,pure:!0}),e})(),qve=(()=>{var t;class e{transform(r){return"/alliances/note/"+r+"/"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Bt({name:"updateNoteFormatter",type:t,pure:!0}),e})();function Gve(t,e){if(1&t&&(M(0,"span",9),j(1),R()),2&t){const n=st().$implicit;V(1),Cs("Note: ",n.note,"")}}function Wve(t,e){if(1&t&&(M(0,"div",5)(1,"div",6)(2,"span",7),j(3),R(),Ct(4,Gve,2,1,"span",8),R()()),2&t){const n=e.$implicit;V(3),He(n.name),V(1),Y("ngIf",null!=n.note)}}const IU=function(){return["far","circle-xmark"]};function Kve(t,e){if(1&t){const n=Es();M(0,"div",27)(1,"form",28,29),Ze("ngSubmit",function(i){return xr(n),Nr(st(3).onSubmitKickMember(i))}),Ce(3,"input",30),ke(4,"kickMemberFormatter"),M(5,"button",31),Ce(6,"fa-icon",23),R()()()}if(2&t){const n=st().$implicit;V(3),Fl("name",bt(4,2,n.dgId)),V(3),Y("icon",gc(4,IU))}}function Qve(t,e){if(1&t&&(M(0,"span",32),j(1),R()),2&t){const n=st().$implicit;V(1),Cs("[",n.kickEta,"]")}}function Yve(t,e){if(1&t&&(M(0,"span",9),j(1),R()),2&t){const n=st().$implicit;V(1),Cs("Note: ",n.note,"")}}const EU=function(){return["far","circle-right"]};function Xve(t,e){if(1&t){const n=Es();M(0,"div",33)(1,"span",34),j(2,"Note:"),R(),M(3,"form",35,29),Ze("ngSubmit",function(i){return xr(n),Nr(st(3).onSubmitUpdateNote(i))}),ke(5,"updateNoteFormatter"),Ce(6,"input",36),M(7,"button",31),Ce(8,"fa-icon",23),R()()()}if(2&t){const n=st().$implicit;V(3),Fl("action",bt(5,3,n.dgId),$_),V(3),Fl("value",n.note),V(2),Y("icon",gc(5,EU))}}const Jve=function(t,e){return{executed:t,"in-progress":e}};function Zve(t,e){if(1&t){const n=Es();M(0,"div",37)(1,"div",15)(2,"span",34),j(3,"Target:"),R(),M(4,"span",38),j(5),R()(),M(6,"div",17)(7,"span",34),j(8,"Wait:"),R(),M(9,"span",38),j(10),R()(),M(11,"div",19)(12,"span",34),j(13,"Instructions:"),R(),M(14,"span",38),j(15),R()(),M(16,"div",39)(17,"button",22),Ze("click",function(){const o=xr(n).$implicit;return Nr(st(3).deleteOrder(o.id))}),Ce(18,"fa-icon",23),R()()()}if(2&t){const n=e.$implicit;Y("ngClass",F5(5,Jve,n.executed,!n.executed)),V(5),He(n.target),V(5),He(n.wait),V(5),He(n.instructions),V(3),Y("icon",gc(8,IU))}}function e4e(t,e){if(1&t){const n=Es();M(0,"div",5)(1,"div",6)(2,"span",7),j(3),R(),Ct(4,Kve,7,5,"div",11),ke(5,"async"),Ct(6,Qve,2,1,"span",12),Ct(7,Yve,2,1,"span",8),ke(8,"async"),Ct(9,Xve,9,6,"div",13),ke(10,"async"),R(),M(11,"div",14)(12,"div",15)(13,"span",15),j(14,"Target:"),R(),M(15,"input",16),Ze("ngModelChange",function(i){const s=xr(n).index;return Nr(st(2).controls.target[s]=i)}),R()(),M(16,"div",17)(17,"span",17),j(18,"Wait:"),R(),M(19,"input",18),Ze("ngModelChange",function(i){const s=xr(n).index;return Nr(st(2).controls.wait[s]=i)}),R()(),M(20,"div",19)(21,"span",19),j(22,"Instructions:"),R(),M(23,"textarea",20),Ze("ngModelChange",function(i){const s=xr(n).index;return Nr(st(2).controls.instructions[s]=i)}),R()(),M(24,"div",21)(25,"button",22),Ze("click",function(){const o=xr(n).index;return Nr(st(2).createOrder(o))}),Ce(26,"fa-icon",23),R()()(),M(27,"div",24)(28,"div",25),Ce(29,"span",1),R(),Ct(30,Zve,19,9,"div",26),ke(31,"async"),R()()}if(2&t){const n=e.$implicit,r=e.index,i=st(2);V(3),He(n.name),V(1),Y("ngIf",null==n.kickEta&&bt(5,10,i.role)===i.UserRole.ADMIN),V(2),Y("ngIf",null!=n.kickEta),V(1),Y("ngIf",null!=n.note&&n.note.length>0&&bt(8,12,i.role)===i.UserRole.TEAM_LEADER),V(2),Y("ngIf",bt(10,14,i.role)===i.UserRole.ADMIN),V(6),Y("ngModel",i.controls.target[r]),V(4),Y("ngModel",i.controls.wait[r]),V(4),Y("ngModel",i.controls.instructions[r]),V(3),Y("icon",gc(18,EU)),V(4),Y("ngForOf",bt(31,16,i.orders.get(n.name.toLowerCase())))}}function t4e(t,e){if(1&t&&(M(0,"div",10),Ct(1,e4e,32,19,"div",3),R()),2&t){const n=st();V(1),Y("ngForOf",n.allianceMembers)}}let n4e=(()=>{var t;class e{constructor(r){this.UserRole=Nf,this.orderService=T($L),this.dgAPI=T(io),this.authService=T(Su),this.changeDetection=T(Ui),this.localStorageService=T(Ei),this.orders=new Map,this.controls={target:[],wait:[],instructions:[]},r.addIcons(a2,pb),this.allianceMembers=this.dgAPI.allianceMembers(!0),this.authService.authState.subscribe(i=>{document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("show"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("hide")),i.status&&(this.controls.target=[],this.controls.wait=[],this.controls.instructions=[],this.role=new we(o=>{o.next(i.role),o.complete()}),(i.role===Nf.ADMIN||i.role===Nf.TEAM_LEADER)&&(this.allianceMembers=this.dgAPI.allianceMembers(!0),this.allianceMembers.forEach(o=>{this.orders.set(o.name.toLowerCase(),new we(s=>{this.orderService.getAllOrders(o.name.toLowerCase(),this.dgAPI.gameTurn(),this.changeDetection,s)}))})),this.changeDetection.detectChanges()),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main")&&(document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.add("hide"),document.querySelector("dgt-alliance-orders-manager-panel .dgt-spinner-container.main").classList.remove("show"))})}createOrder(r){let i=new O2e;i.wait=this.controls.wait[r],i.instructions=this.controls.instructions[r],i.target=this.controls.target[r],i.executed=!1,i.turn=this.dgAPI.gameTurn(),i.user=this.allianceMembers[r].name.toLowerCase(),this.orderService.updateOrder(i)}deleteOrder(r){this.orderService.deleteOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(wn.ALLIANCE_MEMBERS),r.target.submit()}onSubmitUpdateNote(r){this.localStorageService.remove(wn.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(b(ab))},t.\u0275cmp=Tn({type:t,selectors:[["dgt-alliance-orders-manager-panel"]],decls:7,vars:6,consts:[[1,"dgt-spinner-container","main"],[1,"dgt-spinner"],[1,"dgt-orders-manager-panel","user"],["class","dgt-orders-manager-member",4,"ngFor","ngForOf"],["class","dgt-orders-manager-panel admin",4,"ngIf"],[1,"dgt-orders-manager-member"],[1,"player"],[1,"name"],["class","note",4,"ngIf"],[1,"note"],[1,"dgt-orders-manager-panel","admin"],["class","dgt-orders-manager-kick",4,"ngIf"],["class","kick-eta",4,"ngIf"],["class","note-update",4,"ngIf"],[1,"dgt-orders-launcher"],[1,"target"],["type","text","placeholder","Ex: 1.1.1.1","dgtNavigationTarget","",3,"ngModel","ngModelChange"],[1,"wait"],["type","text","dgtWaitTurns","",3,"ngModel","ngModelChange"],[1,"instructions"],["placeholder","Ex: min 100xFighter",3,"ngModel","ngModelChange"],[1,"create"],[3,"click"],[3,"icon"],[1,"dgt-orders-history"],[1,"dgt-spinner-container","member"],["class","dgt-orders-history-details",3,"ngClass",4,"ngFor","ngForOf"],[1,"dgt-orders-manager-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[1,"kick-eta"],[1,"note-update"],[1,"label"],["method","post",3,"action","ngSubmit"],["type","text","name","note","placeholder","Player Note",3,"value"],[1,"dgt-orders-history-details",3,"ngClass"],[1,"value"],[1,"delete"]],template:function(r,i){1&r&&(M(0,"div",0),Ce(1,"span",1),R(),M(2,"div",2),Ct(3,Wve,5,2,"div",3),R(),Ct(4,t4e,2,1,"div",4),ke(5,"async"),ke(6,"async")),2&r&&(V(3),Y("ngForOf",i.allianceMembers),V(1),Y("ngIf",bt(5,2,i.role)===i.UserRole.TEAM_LEADER||bt(6,4,i.role)===i.UserRole.ADMIN))},dependencies:[ky,lg,Do,eU,c2,zH,HH,Db,v2,UL,Bve,jve,Ic,$ve,qve],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{height:28px;font-size:12px;background:rgba(0,0,0,.4);color:#fff;border:none!important;text-align:left;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px}textarea[_ngcontent-%COMP%]{padding:5px!important}.target[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:75px;margin-right:20px}.wait[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:30px;margin-right:20px}.instructions[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{margin-right:5px;width:370px}span.target[_ngcontent-%COMP%], span.wait[_ngcontent-%COMP%], span.instructions[_ngcontent-%COMP%]{float:left;line-height:26px;margin-right:5px}.dgt-orders-launcher[_ngcontent-%COMP%]{width:calc(100% - 10px);margin-left:5px;margin-right:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.72);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-orders-manager-member[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px;color:#ffd46f;float:left}.dgt-orders-manager-member[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400!important;float:right}.dgt-orders-manager-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-orders-manager-panel[_ngcontent-%COMP%], .dgt-orders-manager-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-orders-history-details[_ngcontent-%COMP%]{border:1px solid transparent;width:calc(100% - 12px);border-radius:5px;padding:3px 5px;margin-top:5px}.dgt-orders-history-details[_ngcontent-%COMP%]:nth-child(2){margin-top:10px!important}.dgt-orders-history-details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:22px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:5px}.dgt-orders-history-details[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#ffffffad;margin-right:20px}.dgt-orders-history-details.executed[_ngcontent-%COMP%]{background:#7BBD1A3D}.dgt-orders-history-details.in-progress[_ngcontent-%COMP%]{background:#FF3B303B}.dgt-orders-history[_ngcontent-%COMP%]{width:calc(100% - 10px)!important;margin-left:5px;margin-right:5px;position:relative}.dgt-orders-history[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#ffffffad;font-weight:400}.dgt-orders-history[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:135px;margin-left:2px}.dgt-orders-history[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:70px}.create[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-orders-manager-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.delete[_ngcontent-%COMP%]{float:right!important;margin-right:2px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:22px}.create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:28px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:20px!important;line-height:22px}.note-update[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%], .create[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.note-update[_ngcontent-%COMP%]{float:right!important}.note-update[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{float:left;font-weight:400;line-height:22px;margin-right:5px}.note-update[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{float:left}.note-update[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:22px;margin-right:5px;border-radius:4px}span.note[_ngcontent-%COMP%]{line-height:20px}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.name[_ngcontent-%COMP%]{color:#ffffffad!important;font-weight:400!important;width:35%!important;font-size:1em!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:5px!important}.dgt-orders-manager-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   .dgt-orders-manager-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}.dgt-orders-manager-panel.user[_ngcontent-%COMP%]   span.note[_ngcontent-%COMP%]{line-height:16px!important;width:65%;text-align:left;font-size:1em!important}.dgt-spinner-container.member[_ngcontent-%COMP%]{position:relative;margin-top:5px}.dgt-spinner-container.member[_ngcontent-%COMP%]   .dgt-spinner[_ngcontent-%COMP%]{top:10px!important}"]}),e})(),r4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t,bootstrap:[n4e]}),t.\u0275inj=Ge({providers:[$L],imports:[Ur,Uve,cb,Ns(()=>Os(Xn_firebase)),Pc(()=>Rc()),aa(()=>ca()),ga(()=>ma(ks(),{provider:new uo(Xn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),wU=(()=>{var t;class e{constructor(){this.firestore=T(vi)}getActiveOrders(r,i,o,s){let a=Ii(this.firestore,"orders");Cu(bu(a,Zo("user","==",r),Zo("executed","==",!1),l1("executed","asc"),l1("wait","asc")),{idField:"id"}).forEach(c=>{let u=Object.assign([],c);u.forEach(l=>{l.wait-=i-l.turn}),s.next(u),o.detectChanges()}).catch(c=>{console.log(c)})}completeOrder(r){let i=Ii(this.firestore,"orders");vO(u1(i,r),{executed:!0}).catch(o=>{console.log(o)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const i4e=function(){return["far","circle-check"]};function o4e(t,e){if(1&t){const n=Es();M(0,"div",6)(1,"div",7)(2,"span",8),j(3,"From:"),R(),M(4,"span",9),j(5),R()(),M(6,"div",10)(7,"span",8),j(8,"Target:"),R(),M(9,"span",9),j(10),R()(),M(11,"div",11)(12,"span",8),j(13,"Wait:"),R(),M(14,"span",9),j(15),R()(),M(16,"div",12)(17,"span",8),j(18,"Instructions:"),R(),M(19,"span",9),j(20),R()(),M(21,"div",13)(22,"button",14),Ze("click",function(){const o=xr(n).$implicit;return Nr(st(3).onCompleteClick(o.id))}),Ce(23,"fa-icon",15),R()()()}if(2&t){const n=e.$implicit;V(5),He(n.from),V(5),He(n.target),V(5),He(n.wait),V(5),He(n.instructions),V(3),Y("icon",gc(5,i4e))}}function s4e(t,e){if(1&t&&(M(0,"div",4),Ct(1,o4e,24,6,"div",5),ke(2,"async"),R()),2&t){const n=st(2);V(1),Y("ngForOf",bt(2,1,n.orders))}}function a4e(t,e){if(1&t&&(Op(0),Ct(1,s4e,3,3,"div",3),ke(2,"async"),Vp()),2&t){const n=st();let r;V(1),Y("ngIf",(null==(r=bt(2,1,n.orders))?null:r.length)>0)}}let c4e=(()=>{var t;class e{constructor(r){this.orderService=T(wU),this.dgAPI=T(io),this.changeDetection=T(Ui),this.authService=T(Su),this.active=!1,r.addIcons(db),this.authService.authState.subscribe(i=>{document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("show"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("hide")),this.active=i.status,i.status&&(this.orders=new we(o=>{this.orderService.getActiveOrders(this.dgAPI.username(),this.dgAPI.gameTurn(),this.changeDetection,o)})),this.changeDetection.detectChanges(),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container")&&(document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-fleet-orders-list-panel .dgt-spinner-container").classList.remove("show"))})}onCompleteClick(r){this.orderService.completeOrder(r)}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)(b(ab))},t.\u0275cmp=Tn({type:t,selectors:[["dgt-fleet-orders-list-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-fleet-order-container",4,"ngIf"],[1,"dgt-fleet-order-container"],["class","dgt-fleet-order",4,"ngFor","ngForOf"],[1,"dgt-fleet-order"],[1,"from"],[1,"label"],[1,"value"],[1,"target"],[1,"wait"],[1,"instructions"],[1,"complete"],[3,"click"],[3,"icon"]],template:function(r,i){1&r&&(M(0,"div",0),Ce(1,"span",1),R(),Ct(2,a4e,3,3,"ng-container",2)),2&r&&(V(2),Y("ngIf",i.active))},dependencies:[lg,Do,UL,Ic],styles:[".dgt-fleet-order-container[_ngcontent-%COMP%]{margin:5px 5px 0!important;background:rgb(75,75,75);padding:7px;border-radius:5px;border:1px solid #5e5e5e}.dgt-fleet-order[_ngcontent-%COMP%]{float:left;background:#784946;border:none;width:calc(100% - 10px);border-radius:5px;height:22px;line-height:22px;padding:5px;margin-bottom:5px}.dgt-fleet-order[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-fleet-order[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:10px;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#c8a960a1!important;font-size:16px!important;line-height:22px}.dgt-fleet-order[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffd46fd4!important}.dgt-fleet-order[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:22px;display:inline-block}.dgt-fleet-order[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{padding-right:5px;color:#dcdcdc;float:left}.dgt-fleet-order[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#dcdcdc}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%], .dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{padding-right:30px}.dgt-fleet-order[_ngcontent-%COMP%]   .target[_ngcontent-%COMP%]{min-width:145px}.dgt-fleet-order[_ngcontent-%COMP%]   .wait[_ngcontent-%COMP%]{min-width:85px}.dgt-fleet-order[_ngcontent-%COMP%]   .complete[_ngcontent-%COMP%]{float:right;margin-right:2px}.dgt-fleet-order[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{margin-left:2px;min-width:150px}.dgt-spinner-container[_ngcontent-%COMP%]{border:1px solid #5e5e5e;margin:5px 5px 0!important;width:calc(100% - 12px)!important;height:calc(100% - 12px)!important;position:relative}"]}),e})(),u4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t,bootstrap:[c4e]}),t.\u0275inj=Ge({providers:[wU],imports:[Ur,cb,Ns(()=>Os(Xn_firebase)),Pc(()=>Rc()),aa(()=>ca()),ga(()=>ma(ks(),{provider:new uo(Xn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),l4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tn({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),d4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t,bootstrap:[l4e]}),t.\u0275inj=Ge({imports:[Ur]}),e})(),f4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tn({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),h4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t,bootstrap:[f4e]}),t.\u0275inj=Ge({imports:[Ur]}),e})(),CU=(()=>{var t;class e{constructor(){this.firestore=T(vi),this.localStorageService=T(Ei)}checkVersion(r,i){let o=Ii(this.firestore,"config");Kle(u1(o,"version")).forEach(s=>{let a=Object.assign({value:""},s).value;this.localStorageService.getVersion()!==a?(this.localStorageService.cache(wn.UPDATE_AVAILABLE,!0),i.next(!0)):(this.localStorageService.cache(wn.UPDATE_AVAILABLE,!1),i.next(!1)),i.complete(),r.detectChanges(),document.querySelector("dgt-changelog .dgt-spinner-container")&&(document.querySelector("dgt-changelog .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-changelog .dgt-spinner-container").classList.remove("show"))}).catch(s=>{console.log(s)})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function p4e(t,e){1&t&&(M(0,"div",6)(1,"span"),j(2,"There is a new update for DarkGalaxy Toolbox. "),M(3,"a",7),j(4,"Click here"),R(),j(5," to install it."),R()())}let g4e=(()=>{var t;class e{constructor(){this.changeLogService=T(CU),this.changeDetection=T(Ui),this.localStorageService=T(Ei),this.changed=new we(r=>{this.changeLogService.checkVersion(this.changeDetection,r)}),this.version=this.localStorageService.getVersion()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tn({type:t,selectors:[["dgt-changelog"]],decls:25,vars:4,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container"],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-important"],["id","dgt-update"],["target","_blank","href","https://github.com/vberezan/dg-toolbox/raw/main/tampermonkey/dg-toolbox.user.js"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"h2"),j(2,"DarkGalaxy Tools "),M(3,"span"),j(4),R()(),M(5,"div",1),Ce(6,"span",2),R(),Ct(7,p4e,6,0,"div",3),ke(8,"async"),M(9,"div",4)(10,"div")(11,"span"),j(12,"Changelog:"),R()(),M(13,"ul")(14,"li"),j(15,"fix - scan screen"),R()()(),M(16,"div",5)(17,"div")(18,"span"),j(19,"Important:"),R()(),M(20,"ul")(21,"li")(22,"b"),j(23,"disable browser ads-blocking plugins on game domain"),R(),j(24," - some of them are interfering with Firebase communication"),R()()()()),2&r&&(V(4),He(i.version),V(3),Y("ngIf",bt(8,2,i.changed)))},dependencies:[Do,Ic],styles:["#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border:1px solid #5e5e5e;border-radius:5px;background:rgb(75,75,75)}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin-top:0;font-size:18px;font-weight:700;border-bottom:1px solid #5e5e5e;margin-bottom:6px;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{background:#576740;margin:5px;border-radius:3px;padding:5px 10px!important;color:#ffffffad}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#784946;border-radius:3px;display:block;margin:0 5px;color:#ffffffad}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}"]}),e})(),m4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t,bootstrap:[g4e]}),t.\u0275inj=Ge({providers:[CU],imports:[Ur,Ns(()=>Os(Xn_firebase)),aa(()=>ca()),ga(()=>ma(ks(),{provider:new uo(Xn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),_4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Tn({type:t,selectors:[["dgt-admin-load-data-panel"]],decls:11,vars:0,consts:[[1,"opacBackground","lightBorder","noPadding","seperatorLarge"],[1,"opacDarkBackground","padding"],[1,"noPadding","ofHidden"],[2,"padding","3px","font-weight","bold"],["href","#"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"b"),j(3,"DGT Admin Panel"),R()(),M(4,"div",2)(5,"div",3)(6,"a",4),j(7,"Load Planets"),R()(),M(8,"div",3)(9,"a",4),j(10,"Load Rankings"),R()()()())}}),e})(),y4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Xe({type:t,bootstrap:[_4e]}),t.\u0275inj=Ge({imports:[Ur]}),e})();const Qr=Aee();let hr=window.location.pathname.split(/\//g);Qr.bootstrapModule(h4e).catch(t=>console.error(t)),Qr.bootstrapModule(d4e).catch(t=>console.error(t)),Qr.bootstrapModule(k2e).catch(t=>console.error(t)),Qr.bootstrapModule(Dme).catch(t=>console.error(t)),2===hr.length&&0===hr[1].trim().length&&(Qr.bootstrapModule(m4e).catch(t=>console.error(t)),Qr.bootstrapModule(y4e).catch(t=>console.error(t))),"planets"===hr[1]&&Qr.bootstrapModule(T2e).catch(t=>console.error(t)),"planet"===hr[1]&&"comms"===(5===hr.length&&hr[3])&&Qr.bootstrapModule(D2e).catch(t=>console.error(t)),"navigation"===hr[1]&&6===hr.length&&!isNaN(+hr[2])&&!isNaN(+hr[3])&&!isNaN(+hr[4])&&Qr.bootstrapModule(R2e).catch(t=>console.error(t)),"alliances"===hr[1]&&Qr.bootstrapModule(r4e).catch(t=>console.error(t)),"fleets"===hr[1]&&Qr.bootstrapModule(u4e).catch(t=>console.error(t))}},Ne=>{Ne(Ne.s=851)}]);