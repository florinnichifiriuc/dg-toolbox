(self.webpackChunktoolbox_app=self.webpackChunktoolbox_app||[]).push([[179],{618:(Ee,Ie,V)=>{"use strict";function P(t){return"function"==typeof t}function I(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const $=I(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function z(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class J{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(P(r))try{r()}catch(s){e=s instanceof $?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_(s)}catch(o){e=e??[],o instanceof $?e=[...e,...o.errors]:e.push(o)}}if(e)throw new $(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_(e);else{if(e instanceof J){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&z(n,e)}remove(e){const{_finalizers:n}=this;n&&z(n,e),e instanceof J&&e._removeParent(this)}}J.EMPTY=(()=>{const t=new J;return t.closed=!0,t})();const N=J.EMPTY;function W(t){return t instanceof J||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function _(t){P(t)?t():t.unsubscribe()}const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},M={setTimeout(t,e,...n){const{delegate:r}=M;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=M;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function E(t){M.setTimeout(()=>{const{onUnhandledError:e}=b;if(!e)throw t;e(t)})}function T(){}const x=F("C",void 0,void 0);function F(t,e,n){return{kind:t,value:e,error:n}}let k=null;function m(t){if(b.useDeprecatedSynchronousErrorHandling){const e=!k;if(e&&(k={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=k;if(k=null,n)throw r}}else t()}class L extends J{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,W(e)&&e.add(this)):this.destination=Q}static create(e,n,r){return new de(e,n,r)}next(e){this.isStopped?Ae(function A(t){return F("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ae(function D(t){return F("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ae(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function H(t,e){return O.call(t,e)}class j{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){le(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){le(r)}else le(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){le(n)}}}class de extends L{constructor(e,n,r){let i;if(super(),P(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&b.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&H(e.next,s),error:e.error&&H(e.error,s),complete:e.complete&&H(e.complete,s)}):i=e}this.destination=new j(i)}}function le(t){b.useDeprecatedSynchronousErrorHandling?function C(t){b.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=t)}(t):E(t)}function Ae(t,e){const{onStoppedNotification:n}=b;n&&M.setTimeout(()=>n(t,e))}const Q={closed:!0,next:T,error:function pe(t){throw t},complete:T},ue="function"==typeof Symbol&&Symbol.observable||"@@observable";function ye(t){return t}function Oe(t){return 0===t.length?ye:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Z(t){return t&&t instanceof L||function nt(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}(t)&&W(t)}(n)?n:new de(n,r,i);return m(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ke(r))((i,s)=>{const o=new de({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ue](){return this}pipe(...n){return Oe(n)(this)}toPromise(n){return new(n=Ke(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ke(t){var e;return null!==(e=t??b.Promise)&&void 0!==e?e:Promise}const ae=I(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ne=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new oe(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ae}next(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?N:(this.currentObservers=null,s.push(n),new J(()=>{this.currentObservers=null,z(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new fe;return n.source=this,n}}return t.create=(e,n)=>new oe(e,n),t})();class oe extends ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:N}}function Pt(t){return P(t?.lift)}function Ve(t){return e=>{if(Pt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(t,e,n,r,i){return new et(t,e,n,r,i)}class et extends L{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Xe(t,e){return Ve((n,r)=>{let i=0;n.subscribe(rt(r,s=>{r.next(t.call(e,s,i++))}))})}function ir(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Wt(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function _r(t,e){return function(n,r){e(n,r,t)}}function Mi(t){return this instanceof Mi?(this.v=t,this):new Mi(t)}function $p(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Oc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Qp=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function ad(t){return P(t?.then)}function Xp(t){return P(t[ue])}function Jp(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function cd(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ld=function u_(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sr(t){return P(t?.[ld])}function Ri(t){return function Ls(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function c(f){f.value instanceof Mi?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Mi(n.read());if(i)return yield Mi(void 0);yield yield Mi(r)}}finally{n.releaseLock()}})}function ud(t){return P(t?.getReader)}function or(t){if(t instanceof fe)return t;if(null!=t){if(Xp(t))return function aj(t){return new fe(e=>{const n=t[ue]();if(P(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Qp(t))return function cj(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(ad(t))return function lj(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,E)})}(t);if(Jp(t))return bw(t);if(sr(t))return function uj(t){return new fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(ud(t))return function dj(t){return bw(Ri(t))}(t)}throw cd(t)}function bw(t){return new fe(e=>{(function fj(t,e){var n,r,i,s;return function kr(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=$p(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Bs(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function $n(t,e,n=1/0){return P(e)?$n((r,i)=>Xe((s,o)=>e(r,s,i,o))(or(t(r,i))),n):("number"==typeof e&&(n=e),Ve((r,i)=>function hj(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let y=!1;or(n(g,u++)).subscribe(rt(e,S=>{i?.(S),s?h(S):e.next(S)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){const S=c.shift();o?Bs(e,o,()=>p(S)):p(S)}f()}catch(S){e.error(S)}}))};return t.subscribe(rt(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function Zp(t=1/0){return $n(ye,t)}const Ji=new fe(t=>t.complete());function d_(t){return t[t.length-1]}function ww(t){return P(d_(t))?t.pop():void 0}function dd(t){return function gj(t){return t&&P(t.schedule)}(d_(t))?t.pop():void 0}function e0(t,e=0){return Ve((n,r)=>{n.subscribe(rt(r,i=>Bs(r,t,()=>r.next(i),e),()=>Bs(r,t,()=>r.complete(),e),i=>Bs(r,t,()=>r.error(i),e)))})}function t0(t,e=0){return Ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Aw(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{Bs(n,e,()=>{const r=t[Symbol.asyncIterator]();Bs(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Gn(t,e){return e?function Cj(t,e){if(null!=t){if(Xp(t))return function _j(t,e){return or(t).pipe(t0(e),e0(e))}(t,e);if(Qp(t))return function yj(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(ad(t))return function vj(t,e){return or(t).pipe(t0(e),e0(e))}(t,e);if(Jp(t))return Aw(t,e);if(sr(t))return function Ej(t,e){return new fe(n=>{let r;return Bs(n,e,()=>{r=t[ld](),Bs(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}(t,e);if(ud(t))return function xj(t,e){return Aw(Ri(t),e)}(t,e)}throw cd(t)}(t,e):or(t)}class gi extends ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Le(...t){return Gn(t,dd(t))}function Tw(t={}){const{connector:e=(()=>new ne),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return Ve((g,y)=>{l++,!d&&!u&&f();const S=c=c??e();y.add(()=>{l--,0===l&&!d&&!u&&(a=f_(p,i))}),S.subscribe(y),!o&&l>0&&(o=new de({next:w=>S.next(w),error:w=>{d=!0,f(),a=f_(h,n,w),S.error(w)},complete:()=>{u=!0,f(),a=f_(h,r),S.complete()}}),or(g).subscribe(o))})(s)}}function f_(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new de({next:()=>{r.unsubscribe(),t()}});return or(e(...n)).subscribe(r)}function mi(t,e){return Ve((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(rt(r,c=>{i?.unsubscribe();let l=0;const u=s++;or(t(c,u)).subscribe(i=rt(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Dw(t,e=ye){return t=t??bj,Ve((n,r)=>{let i,s=!0;n.subscribe(rt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function bj(t,e){return t===e}function Et(t){for(let e in t)if(t[e]===Et)return e;throw Error("Could not find renamed property on target object.")}function n0(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function An(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(An).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h_(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const wj=Et({__forward_ref__:Et});function Rt(t){return t.__forward_ref__=Rt,t.toString=function(){return An(this())},t}function ze(t){return p_(t)?t():t}function p_(t){return"function"==typeof t&&t.hasOwnProperty(wj)&&t.__forward_ref__===Rt}function g_(t){return t&&!!t.\u0275providers}const Sw="https://g.co/ng/security#xss";class re extends Error{constructor(e,n){super(function r0(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function $e(t){return"string"==typeof t?t:null==t?"":String(t)}function m_(t,e){throw new re(-201,!1)}function _i(t,e){null==t&&function Be(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function be(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return{providers:t.providers||[],imports:t.imports||[]}}function s0(t){return Pw(t,a0)||Pw(t,Mw)}function Pw(t,e){return t.hasOwnProperty(e)?t[e]:null}function o0(t){return t&&(t.hasOwnProperty(__)||t.hasOwnProperty(kj))?t[__]:null}const a0=Et({\u0275prov:Et}),__=Et({\u0275inj:Et}),Mw=Et({ngInjectableDef:Et}),kj=Et({ngInjectorDef:Et});var at=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(at||{});let v_;function Or(t){const e=v_;return v_=t,e}function kw(t,e,n){const r=s0(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&at.Optional?null:void 0!==e?e:void m_(An(t))}const kt=globalThis;class xe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=be({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fd={},I_="__NG_DI_FLAG__",c0="ngTempTokenPath",Fj=/\n/gm,Ow="__source";let Fc;function To(t){const e=Fc;return Fc=t,e}function Bj(t,e=at.Default){if(void 0===Fc)throw new re(-203,!1);return null===Fc?kw(t,void 0,e):Fc.get(t,e&at.Optional?null:void 0,e)}function Se(t,e=at.Default){return(function Rw(){return v_}()||Bj)(ze(t),e)}function q(t,e=at.Default){return Se(t,l0(e))}function l0(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function b_(t){const e=[];for(let n=0;n<t.length;n++){const r=ze(t[n]);if(Array.isArray(r)){if(0===r.length)throw new re(900,!1);let i,s=at.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Hj(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(Se(i,s))}else e.push(Se(r))}return e}function hd(t,e){return t[I_]=e,t.prototype[I_]=e,t}function Hj(t){return t[I_]}function Hs(t){return{toString:t}.toString()}var u0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(u0||{}),ki=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ki||{});const Zi={},gt=[],d0=Et({\u0275cmp:Et}),w_=Et({\u0275dir:Et}),A_=Et({\u0275pipe:Et}),Vw=Et({\u0275mod:Et}),zs=Et({\u0275fac:Et}),pd=Et({__NG_ELEMENT_ID__:Et}),Lw=Et({__NG_ENV_ID__:Et});function Bw(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function T_(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];zw(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Hw(t){return 3===t||4===t||6===t}function zw(t){return 64===t.charCodeAt(0)}function gd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Uw(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Uw(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const jw="ng-template";function jj(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Bw(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function $w(t){return 4===t.type&&t.value!==jw}function $j(t,e,n){return e===(4!==t.type||n?t.value:jw)}function Gj(t,e,n){let r=4;const i=t.attrs||[],s=function Kj(t){for(let e=0;e<t.length;e++)if(Hw(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!$j(t,c,n)||""===c&&1===e.length){if(Ni(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!jj(t.attrs,l,n)){if(Ni(r))return!1;o=!0}continue}const d=qj(8&r?"class":c,i,$w(t),n);if(-1===d){if(Ni(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Bw(h,l,0)||2&r&&l!==f){if(Ni(r))return!1;o=!0}}}}else{if(!o&&!Ni(r)&&!Ni(c))return!1;if(o&&Ni(c))continue;o=!1,r=c|1&r}}return Ni(r)||o}function Ni(t){return 0==(1&t)}function qj(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Yj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Gw(t,e,n=!1){for(let r=0;r<e.length;r++)if(Gj(t,e[r],n))return!0;return!1}function Qj(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function qw(t,e){return t?":not("+e.trim()+")":e}function Xj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ni(o)&&(e+=qw(s,i),i=""),r=o,s=s||!Ni(r);n++}return""!==i&&(e+=qw(s,i)),e}function Nn(t){return Hs(()=>{const e=Kw(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===u0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ki.Emulated,styles:t.styles||gt,_:null,schemas:t.schemas||null,tView:null,id:""};Yw(n);const r=t.dependencies;return n.directiveDefs=f0(r,!1),n.pipeDefs=f0(r,!0),n.id=function s$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function t$(t){return lt(t)||qn(t)}function n$(t){return null!==t}function At(t){return Hs(()=>({type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ww(t,e){if(null==t)return Zi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Fe(t){return Hs(()=>{const e=Kw(t);return Yw(e),e})}function On(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function lt(t){return t[d0]||null}function qn(t){return t[w_]||null}function vr(t){return t[A_]||null}function Zr(t,e){const n=t[Vw]||null;if(!n&&!0===e)throw new Error(`Type ${An(t)} does not have '\u0275mod' property.`);return n}function Kw(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Zi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ww(t.inputs,e),outputs:Ww(t.outputs)}}function Yw(t){t.features?.forEach(e=>e(t))}function f0(t,e){if(!t)return null;const n=e?vr:t$;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(n$)}const sn=0,we=1,Ye=2,Kt=3,Oi=4,md=5,ar=6,Lc=7,hn=8,Do=9,Bc=10,Ge=11,_d=12,Qw=13,Hc=14,pn=15,vd=16,zc=17,es=18,yd=19,Xw=20,So=21,Us=22,Ed=23,xd=24,it=25,D_=1,Jw=2,ts=7,Uc=9,Wn=11;function Fr(t){return Array.isArray(t)&&"object"==typeof t[D_]}function yr(t){return Array.isArray(t)&&!0===t[D_]}function S_(t){return 0!=(4&t.flags)}function wa(t){return t.componentOffset>-1}function p0(t){return 1==(1&t.flags)}function Fi(t){return!!t.template}function P_(t){return 0!=(512&t[Ye])}function Aa(t,e){return t.hasOwnProperty(zs)?t[zs]:null}let Kn=null,g0=!1;function vi(t){const e=Kn;return Kn=t,e}const tA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function rA(t){if(!Id(t)||t.dirty){if(!t.producerMustRecompute(t)&&!oA(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function sA(t){t.dirty=!0,function iA(t){if(void 0===t.liveConsumerNode)return;const e=g0;g0=!0;try{for(const n of t.liveConsumerNode)n.dirty||sA(n)}finally{g0=e}}(t),t.consumerMarkedDirty?.(t)}function R_(t){return t&&(t.nextProducerIndex=0),vi(t)}function k_(t,e){if(vi(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Id(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)m0(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function oA(t){jc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(rA(n),r!==n.version))return!0}return!1}function aA(t){if(jc(t),Id(t))for(let e=0;e<t.producerNode.length;e++)m0(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function m0(t,e){if(function lA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),jc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)m0(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];jc(i),i.producerIndexOfThis[r]=e}}function Id(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function jc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let uA=null;function hA(t){const e=vi(null);try{return t()}finally{vi(e)}}const pA=()=>{},v$=(()=>({...tA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:pA}))();class y${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Er(){return gA}function gA(t){return t.type.prototype.ngOnChanges&&(t.setInput=x$),E$}function E$(){const t=_A(this),e=t?.current;if(e){const n=t.previous;if(n===Zi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function x$(t,e,n,r){const i=this.declaredInputs[n],s=_A(t)||function C$(t,e){return t[mA]=e}(t,{previous:Zi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new y$(c&&c.currentValue,e,a===Zi),t[r]=e}Er.ngInherit=!0;const mA="__ngSimpleChanges__";function _A(t){return t[mA]||null}const ns=function(t,e,n){};function Nt(t){for(;Array.isArray(t);)t=t[sn];return t}function _0(t,e){return Nt(e[t])}function Vr(t,e){return Nt(e[t.index])}function EA(t,e){return t.data[e]}function $c(t,e){return t[e]}function ei(t,e){const n=e[t];return Fr(n)?n:n[sn]}function Mo(t,e){return null==e?null:t[e]}function xA(t){t[zc]=0}function D$(t){1024&t[Ye]||(t[Ye]|=1024,IA(t,1))}function CA(t){1024&t[Ye]&&(t[Ye]&=-1025,IA(t,-1))}function IA(t,e){let n=t[Kt];if(null===n)return;n[md]+=e;let r=n;for(n=n[Kt];null!==n&&(1===e&&1===r[md]||-1===e&&0===r[md]);)n[md]+=e,r=n,n=n[Kt]}const He={lFrame:NA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function AA(){return He.bindingsEnabled}function Gc(){return null!==He.skipHydrationRootTNode}function ee(){return He.lFrame.lView}function ut(){return He.lFrame.tView}function Lr(t){return He.lFrame.contextLView=t,t[hn]}function Br(t){return He.lFrame.contextLView=null,t}function Yn(){let t=TA();for(;null!==t&&64===t.type;)t=t.parent;return t}function TA(){return He.lFrame.currentTNode}function rs(t,e){const n=He.lFrame;n.currentTNode=t,n.isParent=e}function L_(){return He.lFrame.isParent}function B_(){He.lFrame.isParent=!1}function xr(){const t=He.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function qc(){return He.lFrame.bindingIndex++}function H$(t,e){const n=He.lFrame;n.bindingIndex=n.bindingRootIndex=t,H_(e)}function H_(t){He.lFrame.currentDirectiveIndex=t}function MA(){return He.lFrame.currentQueryIndex}function U_(t){He.lFrame.currentQueryIndex=t}function U$(t){const e=t[we];return 2===e.type?e.declTNode:1===e.type?t[ar]:null}function RA(t,e,n){if(n&at.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&at.Host||(i=U$(s),null===i||(s=s[Hc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=He.lFrame=kA();return r.currentTNode=e,r.lView=t,!0}function j_(t){const e=kA(),n=t[we];He.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function kA(){const t=He.lFrame,e=null===t?null:t.child;return null===e?NA(t):e}function NA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function OA(){const t=He.lFrame;return He.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const FA=OA;function $_(){const t=OA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Cr(){return He.lFrame.selectedIndex}function Ta(t){He.lFrame.selectedIndex=t}function tn(){const t=He.lFrame;return EA(t.tView,t.selectedIndex)}let LA=!0;function v0(){return LA}function Ro(t){LA=t}function y0(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function E0(t,e,n){BA(t,e,3,n)}function x0(t,e,n,r){(3&t[Ye])===n&&BA(t,e,n,r)}function G_(t,e){let n=t[Ye];(3&n)===e&&(n&=8191,n+=1,t[Ye]=n)}function BA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[zc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[zc]+=65536),(a<s||-1==s)&&(Q$(t,n,e,c),t[zc]=(4294901760&t[zc])+c+2),c++}function HA(t,e){ns(4,t,e);const n=vi(null);try{e.call(t)}finally{vi(n),ns(5,t,e)}}function Q$(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Ye]>>13<t[zc]>>16&&(3&t[Ye])===e&&(t[Ye]+=8192,HA(a,s)):HA(a,s)}const Wc=-1;class wd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function W_(t){return t!==Wc}function Ad(t){return 32767&t}function Td(t,e){let n=function eG(t){return t>>16}(t),r=e;for(;n>0;)r=r[Hc],n--;return r}let K_=!0;function C0(t){const e=K_;return K_=t,e}const zA=255,UA=5;let tG=0;const is={};function I0(t,e){const n=jA(t,e);if(-1!==n)return n;const r=e[we];r.firstCreatePass&&(t.injectorIndex=e.length,Y_(r.data,t),Y_(e,null),Y_(r.blueprint,null));const i=b0(t,e),s=t.injectorIndex;if(W_(i)){const o=Ad(i),a=Td(i,e),c=a[we].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Y_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function jA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function b0(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=QA(i),null===r)return Wc;if(n++,i=i[Hc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Wc}function Q_(t,e,n){!function nG(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(pd)&&(r=n[pd]),null==r&&(r=n[pd]=tG++);const i=r&zA;e.data[t+(i>>UA)]|=1<<i}(t,e,n)}function $A(t,e,n){if(n&at.Optional||void 0!==t)return t;m_()}function GA(t,e,n,r){if(n&at.Optional&&void 0===r&&(r=null),!(n&(at.Self|at.Host))){const i=t[Do],s=Or(void 0);try{return i?i.get(e,r,n&at.Optional):kw(e,r,n&at.Optional)}finally{Or(s)}}return $A(r,0,n)}function qA(t,e,n,r=at.Default,i){if(null!==t){if(2048&e[Ye]&&!(r&at.Self)){const o=function cG(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Ye]&&!(512&o[Ye]);){const a=WA(s,o,n,r|at.Self,is);if(a!==is)return a;let c=s.parent;if(!c){const l=o[Xw];if(l){const u=l.get(n,is,r);if(u!==is)return u}c=QA(o),o=o[Hc]}s=c}return i}(t,e,n,r,is);if(o!==is)return o}const s=WA(t,e,n,r,is);if(s!==is)return s}return GA(e,n,r,i)}function WA(t,e,n,r,i){const s=function sG(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(pd)?t[pd]:void 0;return"number"==typeof e?e>=0?e&zA:aG:e}(n);if("function"==typeof s){if(!RA(e,t,r))return r&at.Host?$A(i,0,r):GA(e,n,r,i);try{let o;if(o=s(r),null!=o||r&at.Optional)return o;m_()}finally{FA()}}else if("number"==typeof s){let o=null,a=jA(t,e),c=Wc,l=r&at.Host?e[pn][ar]:null;for((-1===a||r&at.SkipSelf)&&(c=-1===a?b0(t,e):e[a+8],c!==Wc&&YA(r,!1)?(o=e[we],a=Ad(c),e=Td(c,e)):a=-1);-1!==a;){const u=e[we];if(KA(s,a,u.data)){const d=iG(a,e,n,o,r,l);if(d!==is)return d}c=e[a+8],c!==Wc&&YA(r,e[we].data[a+8]===l)&&KA(s,a,e)?(o=u,a=Ad(c),e=Td(c,e)):a=-1}}return i}function iG(t,e,n,r,i,s){const o=e[we],a=o.data[t+8],u=w0(a,o,n,null==r?wa(a)&&K_:r!=o&&0!=(3&a.type),i&at.Host&&s===a);return null!==u?Da(e,o,u,a):is}function w0(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){const h=o[c];if(h&&Fi(h)&&h.type===n)return c}return null}function Da(t,e,n,r){let i=t[n];const s=e.data;if(function X$(t){return t instanceof wd}(i)){const o=i;o.resolving&&function Aj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new re(-200,`Circular dependency in DI detected for ${t}${n}`)}(function yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$e(t)}(s[n]));const a=C0(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Or(o.injectImpl):null;RA(t,r,at.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Y$(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=gA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&Or(l),C0(a),o.resolving=!1,FA()}}return i}function KA(t,e,n){return!!(n[e+(t>>UA)]&1<<t)}function YA(t,e){return!(t&at.Self||t&at.Host&&e)}class Ir{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qA(this._tNode,this._lView,e,l0(r),n)}}function aG(){return new Ir(Yn(),ee())}function Qn(t){return Hs(()=>{const e=t.prototype.constructor,n=e[zs]||X_(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[zs]||X_(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function X_(t){return p_(t)?()=>{const e=X_(ze(t));return e&&e()}:Aa(t)}function QA(t){const e=t[we],n=e.type;return 2===n?e.declTNode:1===n?t[ar]:null}const Yc="__parameters__";function Xc(t,e,n){return Hs(()=>{const r=function J_(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(Yc)?c[Yc]:Object.defineProperty(c,Yc,{value:[]})[Yc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Zc(t,e){t.forEach(n=>Array.isArray(n)?Zc(n,e):e(n))}function JA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function T0(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Pd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ti(t,e,n){let r=el(t,e);return r>=0?t[1|r]=n:(r=~r,function gG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Z_(t,e){const n=el(t,e);if(n>=0)return t[1|n]}function el(t,e){return function ZA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const zt=hd(Xc("Optional"),8),tv=hd(Xc("SkipSelf"),4);function k0(t){return 128==(128&t.flags)}var ko=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ko||{});const FG=/^>|^->|<!--|-->|--!>|<!-$/g,VG=/(<|>)/g,LG="\u200b$1\u200b";const sv=new Map;let BG=0;const av="__ngContext__";function cr(t,e){Fr(e)?(t[av]=e[yd],function zG(t){sv.set(t[yd],t)}(e)):t[av]=e}let cv;function lv(t,e){return cv(t,e)}function kd(t){const e=t[Kt];return yr(e)?e[Kt]:e}function y5(t){return x5(t[_d])}function E5(t){return x5(t[Oi])}function x5(t){for(;null!==t&&!yr(t);)t=t[Oi];return t}function rl(t,e,n,r,i){if(null!=r){let s,o=!1;yr(r)?s=r:Fr(r)&&(o=!0,r=r[sn]);const a=Nt(r);0===t&&null!==n?null==i?w5(e,n,a):Sa(e,n,a,i||null,!0):1===t&&null!==n?Sa(e,n,a,i||null,!0):2===t?function H0(t,e,n){const r=L0(t,e);r&&function oq(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function lq(t,e,n,r,i){const s=n[ts];s!==Nt(n)&&rl(e,t,r,s,i);for(let a=Wn;a<n.length;a++){const c=n[a];Od(c[we],c,t,e,r,s)}}(e,t,s,n,i)}}function uv(t,e){return t.createComment(function d5(t){return t.replace(FG,e=>e.replace(VG,LG))}(e))}function F0(t,e,n){return t.createElement(e,n)}function I5(t,e){const n=t[Uc],r=n.indexOf(e);CA(e),n.splice(r,1)}function V0(t,e){if(t.length<=Wn)return;const n=Wn+e,r=t[n];if(r){const i=r[vd];null!==i&&i!==t&&I5(i,r),e>0&&(t[n-1][Oi]=r[Oi]);const s=T0(t,Wn+e);!function JG(t,e){Od(t,e,e[Ge],2,null,null),e[sn]=null,e[ar]=null}(r[we],r);const o=s[es];null!==o&&o.detachView(s[we]),r[Kt]=null,r[Oi]=null,r[Ye]&=-129}return r}function dv(t,e){if(!(256&e[Ye])){const n=e[Ge];e[Ed]&&aA(e[Ed]),e[xd]&&aA(e[xd]),n.destroyNode&&Od(t,e,n,3,null,null),function tq(t){let e=t[_d];if(!e)return fv(t[we],t);for(;e;){let n=null;if(Fr(e))n=e[_d];else{const r=e[Wn];r&&(n=r)}if(!n){for(;e&&!e[Oi]&&e!==t;)Fr(e)&&fv(e[we],e),e=e[Kt];null===e&&(e=t),Fr(e)&&fv(e[we],e),n=e&&e[Oi]}e=n}}(e)}}function fv(t,e){if(!(256&e[Ye])){e[Ye]&=-129,e[Ye]|=256,function sq(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof wd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];ns(4,a,c);try{c.call(a)}finally{ns(5,a,c)}}else{ns(4,i,s);try{s.call(i)}finally{ns(5,i,s)}}}}}(t,e),function iq(t,e){const n=t.cleanup,r=e[Lc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Lc]=null);const i=e[So];if(null!==i){e[So]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[we].type&&e[Ge].destroy();const n=e[vd];if(null!==n&&yr(e[Kt])){n!==e[Kt]&&I5(n,e);const r=e[es];null!==r&&r.detachView(t)}!function UG(t){sv.delete(t[yd])}(e)}}function hv(t,e,n){return function b5(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[sn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ki.None||s===ki.Emulated)return null}return Vr(r,n)}}(t,e.parent,n)}function Sa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function w5(t,e,n){t.appendChild(e,n)}function A5(t,e,n,r,i){null!==r?Sa(t,e,n,r,i):w5(t,e,n)}function L0(t,e){return t.parentNode(e)}function T5(t,e,n){return S5(t,e,n)}let pv,z0,vv,U0,S5=function D5(t,e,n){return 40&t.type?Vr(t,n):null};function B0(t,e,n,r){const i=hv(t,r,e),s=e[Ge],a=T5(r.parent||e[ar],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)A5(s,i,n[c],a,!1);else A5(s,i,n,a,!1);void 0!==pv&&pv(s,r,e,n,i)}function Nd(t,e){if(null!==e){const n=e.type;if(3&n)return Vr(e,t);if(4&n)return gv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Nd(t,r);{const i=t[e.index];return yr(i)?gv(-1,i):Nt(i)}}if(32&n)return lv(e,t)()||Nt(t[e.index]);{const r=M5(t,e);return null!==r?Array.isArray(r)?r[0]:Nd(kd(t[pn]),r):Nd(t,e.next)}}return null}function M5(t,e){return null!==e?t[pn][ar].projection[e.projection]:null}function gv(t,e){const n=Wn+t+1;if(n<e.length){const r=e[n],i=r[we].firstChild;if(null!==i)return Nd(r,i)}return e[ts]}function mv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&cr(Nt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)mv(t,e,n.child,r,i,s,!1),rl(e,t,i,a,s);else if(32&c){const l=lv(n,r);let u;for(;u=l();)rl(e,t,i,u,s);rl(e,t,i,a,s)}else 16&c?k5(t,e,r,n,i,s):rl(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Od(t,e,n,r,i,s){mv(n,r,t.firstChild,e,i,s,!1)}function k5(t,e,n,r,i,s){const o=n[pn],c=o[ar].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)rl(e,t,i,c[l],s);else{let l=c;const u=o[Kt];k0(r)&&(l.flags|=128),mv(t,e,l,u,i,s,!0)}}function N5(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function O5(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&T_(t,e,r),null!==i&&N5(t,e,i),null!==s&&function dq(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function il(t){return function _v(){if(void 0===z0&&(z0=null,kt.trustedTypes))try{z0=kt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return z0}()?.createHTML(t)||t}function sl(){if(void 0!==vv)return vv;if(typeof document<"u")return document;throw new re(210,!1)}function F5(t){return function yv(){if(void 0===U0&&(U0=null,kt.trustedTypes))try{U0=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return U0}()?.createHTML(t)||t}class Pa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sw})`}}class mq extends Pa{getTypeName(){return"HTML"}}class _q extends Pa{getTypeName(){return"Style"}}class vq extends Pa{getTypeName(){return"Script"}}class yq extends Pa{getTypeName(){return"URL"}}class Eq extends Pa{getTypeName(){return"ResourceURL"}}function ni(t){return t instanceof Pa?t.changingThisBreaksApplicationSecurity:t}function ss(t,e){const n=function xq(t){return t instanceof Pa&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Sw})`)}return n===e}class Tq{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(il(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class Dq{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=il(e),n}}const Pq=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function j0(t){return(t=String(t)).match(Pq)?t:"unsafe:"+t}function Gs(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Fd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const H5=Gs("area,br,col,hr,img,wbr"),z5=Gs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),U5=Gs("rp,rt"),Ev=Fd(H5,Fd(z5,Gs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fd(U5,Gs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fd(U5,z5)),xv=Gs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),j5=Fd(xv,Gs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mq=Gs("script,style,template");class Rq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Ev.hasOwnProperty(n))return this.sanitizedSomething=!0,!Mq.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!j5.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;xv[a]&&(c=j0(c)),this.buf.push(" ",o,'="',$5(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Ev.hasOwnProperty(n)&&!H5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push($5(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const kq=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nq=/([^\#-~ |!])/g;function $5(t){return t.replace(/&/g,"&amp;").replace(kq,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Nq,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $0;function G5(t,e){let n=null;try{$0=$0||function B5(t){const e=new Dq(t);return function Sq(){try{return!!(new window.DOMParser).parseFromString(il(""),"text/html")}catch{return!1}}()?new Tq(e):e}(t);let r=e?String(e):"";n=$0.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=$0.getInertBodyElement(r)}while(r!==s);return il((new Rq).sanitizeChildren(Cv(n)||n))}finally{if(n){const r=Cv(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Cv(t){return"content"in t&&function Oq(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ei=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ei||{});function q5(t){const e=function Vd(){const t=ee();return t&&t[Bc].sanitizer}();return e?F5(e.sanitize(Ei.HTML,t)||""):ss(t,"HTML")?F5(ni(t)):G5(sl(),$e(t))}const Ld=new xe("ENVIRONMENT_INITIALIZER"),Q5=new xe("INJECTOR",-1),X5=new xe("INJECTOR_DEF_TYPES");class Iv{get(e,n=fd){if(n===fd){const r=new Error(`NullInjectorError: No provider for ${An(e)}!`);throw r.name="NullInjectorError",r}return n}}function zq(...t){return{\u0275providers:J5(0,t),\u0275fromNgModule:!0}}function J5(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Zc(e,o=>{const a=o;G0(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Z5(i,s),n}function Z5(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];wv(i,s=>{e(s,r)})}}function G0(t,e,n,r){if(!(t=ze(t)))return!1;let i=null,s=o0(t);const o=!s&&lt(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=o0(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)G0(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Zc(s.imports,u=>{G0(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&Z5(l,e)}if(!a){const l=Aa(i)||(()=>new i);e({provide:i,useFactory:l,deps:gt},i),e({provide:X5,useValue:i,multi:!0},i),e({provide:Ld,useValue:()=>Se(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;wv(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function wv(t,e){for(let n of t)g_(n)&&(n=n.\u0275providers),Array.isArray(n)?wv(n,e):e(n)}const Uq=Et({provide:String,useValue:Et});function Av(t){return null!==t&&"object"==typeof t&&Uq in t}function Ma(t){return"function"==typeof t}const Tv=new xe("Set Injector scope."),q0={},$q={};let Dv;function W0(){return void 0===Dv&&(Dv=new Iv),Dv}class xi{}class ol extends xi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pv(e,o=>this.processProvider(o)),this.records.set(Q5,al(void 0,this)),i.has("environment")&&this.records.set(xi,al(void 0,this));const s=this.records.get(Tv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(X5.multi,gt,at.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=To(this),r=Or(void 0);try{return e()}finally{To(n),Or(r)}}get(e,n=fd,r=at.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Lw))return e[Lw](this);r=l0(r);const s=To(this),o=Or(void 0);try{if(!(r&at.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function Yq(t){return"function"==typeof t||"object"==typeof t&&t instanceof xe}(e)&&s0(e);c=l&&this.injectableDefInScope(l)?al(Sv(e),q0):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&at.Self?W0():this.parent).get(e,n=r&at.Optional&&n===fd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[c0]=a[c0]||[]).unshift(An(e)),s)throw a;return function zj(t,e,n,r){const i=t[c0];throw e[Ow]&&i.unshift(e[Ow]),t.message=function Uj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=An(e);if(Array.isArray(e))i=e.map(An).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):An(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Fj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[c0]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Or(o),To(s)}}resolveInjectorInitializers(){const e=To(this),n=Or(void 0);try{const i=this.get(Ld.multi,gt,at.Self);for(const s of i)s()}finally{To(e),Or(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(An(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(e){let n=Ma(e=ze(e))?e:ze(e&&e.provide);const r=function qq(t){return Av(t)?al(void 0,t.useValue):al(nT(t),q0)}(e);if(Ma(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=al(void 0,q0,!0),i.factory=()=>b_(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===q0&&(n.value=$q,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Kq(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ze(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Sv(t){const e=s0(t),n=null!==e?e.factory:Aa(t);if(null!==n)return n;if(t instanceof xe)throw new re(204,!1);if(t instanceof Function)return function Gq(t){const e=t.length;if(e>0)throw Pd(e,"?"),new re(204,!1);const n=function Rj(t){return t&&(t[a0]||t[Mw])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new re(204,!1)}function nT(t,e,n){let r;if(Ma(t)){const i=ze(t);return Aa(i)||Sv(i)}if(Av(t))r=()=>ze(t.useValue);else if(function tT(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...b_(t.deps||[]));else if(function eT(t){return!(!t||!t.useExisting)}(t))r=()=>Se(ze(t.useExisting));else{const i=ze(t&&(t.useClass||t.provide));if(!function Wq(t){return!!t.deps}(t))return Aa(i)||Sv(i);r=()=>new i(...b_(t.deps))}return r}function al(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Pv(t,e){for(const n of t)Array.isArray(n)?Pv(n,e):n&&g_(n)?Pv(n.\u0275providers,e):e(n)}const K0=new xe("AppId",{providedIn:"root",factory:()=>Qq}),Qq="ng",rT=new xe("Platform Initializer"),os=new xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iT=new xe("CSP nonce",{providedIn:"root",factory:()=>sl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let sT=(t,e,n)=>null;function Lv(t,e,n=!1){return sT(t,e,n)}class oW{}class cT{}class cW{resolveComponentFactory(e){throw function aW(t){const e=Error(`No component factory found for ${An(t)}.`);return e.ngComponent=t,e}(e)}}let zd=(()=>{class e{}return e.NULL=new cW,e})();function lW(){return ul(Yn(),ee())}function ul(t,e){return new br(Vr(t,e))}let br=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=lW,e})();function uW(t){return t instanceof br?t.nativeElement:t}class uT{}let as=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function dW(){const t=ee(),n=ei(Yn().index,t);return(Fr(n)?n:t)[Ge]}(),e})(),fW=(()=>{var t;class e{}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>null}),e})();class dl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const dT=new dl("16.2.12"),zv={};function gT(t,e=null,n=null,r){const i=mT(t,e,n,r);return i.resolveInjectorInitializers(),i}function mT(t,e=null,n=null,r,i=new Set){const s=[n||gt,zq(t)];return r=r||("object"==typeof t?void 0:An(t)),new ol(s,e||W0(),r||null,i)}let Dn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return gT({name:""},i,r,"");{const s=r.name??"";return gT({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=fd,t.NULL=new Iv,t.\u0275prov=be({token:t,providedIn:"any",factory:()=>Se(Q5)}),t.__NG_ELEMENT_ID__=-1,e})();function jv(t){return t.ngOriginalError}class qs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&jv(e);for(;n&&jv(n);)n=jv(n);return n||null}}function Gv(t){return e=>{setTimeout(t,void 0,e)}}const Tt=class yW extends ne{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Gv(s),i&&(i=Gv(i)),o&&(o=Gv(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof J&&e.add(a),a}};function vT(...t){}class pt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tt(!1),this.onMicrotaskEmpty=new Tt(!1),this.onStable=new Tt(!1),this.onError=new Tt(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function EW(){const t="function"==typeof kt.requestAnimationFrame;let e=kt[t?"requestAnimationFrame":"setTimeout"],n=kt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function IW(t){const e=()=>{!function CW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Wv(t),t.isCheckStableRunning=!0,qv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Wv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function wW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return yT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ET(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return yT(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),ET(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Wv(t),qv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pt.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(pt.isInAngularZone())throw new re(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,xW,vT,vT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const xW={};function qv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function yT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ET(t){t._nesting--,qv(t)}class bW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tt,this.onMicrotaskEmpty=new Tt,this.onStable=new Tt,this.onError=new Tt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const xT=new xe("",{providedIn:"root",factory:CT});function CT(){const t=q(pt);let e=!0;return function Ij(...t){const e=dd(t),n=function mj(t,e){return"number"==typeof d_(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?or(r[0]):Zp(n)(Gn(r,e)):Ji}(new fe(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new fe(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{pt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Tw()))}function Ws(t){return t instanceof Function?t():t}let Kv=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function Ud(t){for(;t;){t[Ye]|=64;const e=kd(t);if(P_(t)&&!e)return t;t=e}return null}const TT=new xe("",{providedIn:"root",factory:()=>!1});let tg=null;function MT(t,e){return t[e]??NT()}function RT(t,e){const n=NT();n.producerNode?.length&&(t[e]=tg,n.lView=t,tg=kT())}const OW={...tA,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ud(t.lView)},lView:null};function kT(){return Object.create(OW)}function NT(){return tg??=kT(),tg}const We={};function me(t){OT(ut(),ee(),Cr()+t,!1)}function OT(t,e,n,r){if(!r)if(3==(3&e[Ye])){const s=t.preOrderCheckHooks;null!==s&&E0(e,s,n)}else{const s=t.preOrderHooks;null!==s&&x0(e,s,0,n)}Ta(n)}function te(t,e=at.Default){const n=ee();return null===n?Se(t,e):qA(Yn(),n,ze(t),e)}function ng(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[sn]=i,d[Ye]=140|r,(null!==l||t&&2048&t[Ye])&&(d[Ye]|=2048),xA(d),d[Kt]=d[Hc]=t,d[hn]=n,d[Bc]=o||t&&t[Bc],d[Ge]=a||t&&t[Ge],d[Do]=c||t&&t[Do]||null,d[ar]=s,d[yd]=function HG(){return BG++}(),d[Us]=u,d[Xw]=l,d[pn]=2==e.type?t[pn]:d,d}function pl(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Yv(t,e,n,r,i){const s=TA(),o=L_(),c=t.data[e]=function $W(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Gc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function B$(){return He.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function bd(){const t=He.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return rs(s,!0),s}function jd(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function FT(t,e,n,r,i){const s=MT(e,Ed),o=Cr(),a=2&r;try{Ta(-1),a&&e.length>it&&OT(t,e,it,!1),ns(a?2:0,i);const l=a?s:null,u=R_(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{k_(l,u)}}finally{a&&null===e[Ed]&&RT(e,Ed),Ta(o),ns(a?3:1,i)}}function Qv(t,e,n){if(S_(e)){const r=vi(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{vi(r)}}}function Xv(t,e,n){AA()&&(function XW(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;wa(n)&&function iK(t,e,n){const r=Vr(e,t),i=VT(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=rg(t,ng(t,i,null,o,r,e,null,t[Bc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||I0(n,e),cr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=Da(e,t,a,n);cr(l,e),null!==o&&sK(0,a-i,l,c,0,o),Fi(c)&&(ei(n.index,e)[hn]=Da(e,t,a,n))}}(t,e,n,Vr(n,e)),64==(64&n.flags)&&UT(t,e,n))}function Jv(t,e,n=Vr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function VT(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Zv(t,e,n,r,i,s,o,a,c,l,u){const d=it+r,f=d+i,h=function LW(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:We);return n}(d,f),p="function"==typeof l?l():l;return h[we]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let LT=t=>null;function BT(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?HT(n,e,i,s):r.hasOwnProperty(i)&&HT(n,e,r[i],s)}return n}function HT(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function ri(t,e,n,r,i,s,o,a){const c=Vr(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(iy(t,n,u,r,i),wa(e)&&function WW(t,e){const n=ei(e,t);16&n[Ye]||(n[Ye]|=64)}(n,e.index)):3&e.type&&(r=function qW(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function ey(t,e,n,r){if(AA()){const i=null===r?null:{"":-1},s=function ZW(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Gw(e,o.selectors,!1))if(r||(r=[]),Fi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ty(t,e,a.length)}else r.unshift(o),ty(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&zT(t,e,n,o,i,a),i&&function eK(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new re(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=gd(n.mergedAttrs,n.attrs)}function zT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Q_(I0(n,e),t,r[l].type);!function nK(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=jd(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=gd(n.mergedAttrs,u.hostAttrs),rK(t,n,e,c,u),tK(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function GW(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;c=BT(d.inputs,u,c,f?f.inputs:null),l=BT(d.outputs,u,l,p);const g=null===c||null===o||$w(e)?null:oK(c,u,o);a.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function UT(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function z$(){return He.lFrame.currentDirectiveIndex}();try{Ta(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];H_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&JW(c,l)}}finally{Ta(-1),H_(o)}}function JW(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ty(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tK(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fi(e)&&(n[""]=t)}}function rK(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Aa(i.type)),o=new wd(s,Fi(i),te);t.blueprint[r]=o,n[r]=o,function YW(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function QW(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,jd(t,n,i.hostVars,We),i)}function cs(t,e,n,r,i,s){const o=Vr(t,e);!function ny(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?$e(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[Ge],o,s,t.value,n,r,i)}function sK(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)jT(r,n,o[a++],o[a++],o[a++])}function jT(t,e,n,r,i){const s=vi(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{vi(s)}}function oK(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $T(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function GT(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];U_(n[r]),o.contentQueries(2,e[s],s)}}}function rg(t,e){return t[_d]?t[Qw][Oi]=e:t[_d]=e,t[Qw]=e,e}function ry(t,e,n){U_(0);const r=vi(null);try{e(t,n)}finally{vi(r)}}function qT(t){return t[Lc]||(t[Lc]=[])}function WT(t){return t.cleanup||(t.cleanup=[])}function YT(t,e){const n=t[Do],r=n?n.get(qs,null):null;r&&r.handleError(e)}function iy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];jT(t.data[o],e[o],r,a,i)}}function aK(t,e){const n=ei(e,t),r=n[we];!function cK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[sn];null!==i&&null===n[Us]&&(n[Us]=Lv(i,n[Do])),sy(r,n,n[hn])}function sy(t,e,n){j_(e);try{const r=t.viewQuery;null!==r&&ry(1,r,n);const i=t.template;null!==i&&FT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&GT(t,e),t.staticViewQueries&&ry(2,t.viewQuery,n);const s=t.components;null!==s&&function lK(t,e){for(let n=0;n<e.length;n++)aK(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ye]&=-5,$_()}}let QT=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function _$(t,e,n){const r=Object.create(v$);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>sA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!oA(r))return;r.hasRun=!0;const o=R_(r);try{r.cleanupFn(),r.cleanupFn=pA,r.fn(i)}finally{k_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:()=>new t}),e})();function ig(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=h_(i,a):2==s&&(r=h_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function $d(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(Nt(s)),yr(s)&&XT(s,r);const o=n.type;if(8&o)$d(t,e,n.child,r);else if(32&o){const a=lv(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=M5(e,n);if(Array.isArray(a))r.push(...a);else{const c=kd(e[pn]);$d(c[we],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function XT(t,e){for(let n=Wn;n<t.length;n++){const r=t[n],i=r[we].firstChild;null!==i&&$d(r[we],r,i,e)}t[ts]!==t[sn]&&e.push(t[ts])}function sg(t,e,n,r=!0){const i=e[Bc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{JT(t,e,t.template,n)}catch(c){throw r&&YT(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function JT(t,e,n,r){const i=e[Ye];if(256!=(256&i)){e[Bc].effectManager?.flush(),j_(e);try{xA(e),function SA(t){return He.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&FT(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&E0(e,l,null)}else{const l=t.preOrderHooks;null!==l&&x0(e,l,0,null),G_(e,0)}if(function fK(t){for(let e=y5(t);null!==e;e=E5(e)){if(!e[Jw])continue;const n=e[Uc];for(let r=0;r<n.length;r++){D$(n[r])}}}(e),ZT(e,2),null!==t.contentQueries&&GT(t,e),o){const l=t.contentCheckHooks;null!==l&&E0(e,l)}else{const l=t.contentHooks;null!==l&&x0(e,l,1),G_(e,1)}!function VW(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=MT(e,xd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ta(~s);else{const o=s,a=n[++i],c=n[++i];H$(a,o),r.dirty=!1;const l=R_(r);try{c(2,e[o])}finally{k_(r,l)}}}}finally{null===e[xd]&&RT(e,xd),Ta(-1)}}(t,e);const a=t.components;null!==a&&tD(e,a,0);const c=t.viewQuery;if(null!==c&&ry(2,c,r),o){const l=t.viewCheckHooks;null!==l&&E0(e,l)}else{const l=t.viewHooks;null!==l&&x0(e,l,2),G_(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Ye]&=-73,CA(e)}finally{$_()}}}function ZT(t,e){for(let n=y5(t);null!==n;n=E5(n))for(let r=Wn;r<n.length;r++)eD(n[r],e)}function hK(t,e,n){eD(ei(e,t),n)}function eD(t,e){if(!function A$(t){return 128==(128&t[Ye])}(t))return;const n=t[we],r=t[Ye];if(80&r&&0===e||1024&r||2===e)JT(n,t,n.template,t[hn]);else if(t[md]>0){ZT(t,1);const i=n.components;null!==i&&tD(t,i,1)}}function tD(t,e,n){for(let r=0;r<e.length;r++)hK(t,e[r],n)}class Gd{get rootNodes(){const e=this._lView,n=e[we];return $d(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hn]}set context(e){this._lView[hn]=e}get destroyed(){return 256==(256&this._lView[Ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Kt];if(yr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(V0(e,r),T0(n,r))}this._attachedToViewContainer=!1}dv(this._lView[we],this._lView)}onDestroy(e){!function bA(t,e){if(256==(256&t[Ye]))throw new re(911,!1);null===t[So]&&(t[So]=[]),t[So].push(e)}(this._lView,e)}markForCheck(){Ud(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ye]&=-129}reattach(){this._lView[Ye]|=128}detectChanges(){sg(this._lView[we],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function eq(t,e){Od(t,e,e[Ge],2,null,null)}(this._lView[we],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=e}}class pK extends Gd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;sg(e[we],e,e[hn],!1)}checkNoChanges(){}get context(){return null}}class nD extends zd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=lt(e);return new qd(n,this.ngModule)}}function rD(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class mK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=l0(r);const i=this.injector.get(e,zv,r);return i!==zv||n===zv?i:this.parentInjector.get(e,n,r)}}class qd extends cT{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=rD(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return rD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Jj(t){return t.map(Xj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof xi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new mK(e,s):e,a=o.get(uT,null);if(null===a)throw new re(407,!1);const d={rendererFactory:a,sanitizer:o.get(fW,null),effectManager:o.get(QT,null),afterRenderEventManager:o.get(Kv,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function BW(t,e,n,r){const s=r.get(TT,!1)||n===ki.ShadowDom,o=t.selectRootElement(e,s);return function HW(t){LT(t)}(o),o}(f,r,this.componentDef.encapsulation,o):F0(f,h,function gK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),S=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let w=null;null!==p&&(w=Lv(p,o,!0));const U=Zv(0,null,null,1,0,null,null,null,null,null,null),Y=ng(null,U,null,S,null,null,d,f,o,null,w);let he,Re;j_(Y);try{const Qe=this.componentDef;let en,kn=null;Qe.findHostDirectiveDefs?(en=[],kn=new Map,Qe.findHostDirectiveDefs(Qe,en,kn),en.push(Qe)):en=[Qe];const Ea=function vK(t,e){const n=t[we],r=it;return t[r]=e,pl(n,r,2,"#host",null)}(Y,p),y3e=function yK(t,e,n,r,i,s,o){const a=i[we];!function EK(t,e,n,r){for(const i of t)e.mergedAttrs=gd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(ig(e,e.mergedAttrs,!0),null!==n&&O5(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=Lv(e,i[Do]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=ng(i,VT(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&ty(a,t,r.length-1),rg(i,d),i[t.index]=d}(Ea,p,Qe,en,Y,d,f);Re=EA(U,it),p&&function CK(t,e,n,r){if(r)T_(t,n,["ng-version",dT.full]);else{const{attrs:i,classes:s}=function Zj(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ni(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&T_(t,n,i),s&&s.length>0&&N5(t,n,s.join(" "))}}(f,Qe,p,r),void 0!==n&&function IK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Re,this.ngContentSelectors,n),he=function xK(t,e,n,r,i,s){const o=Yn(),a=i[we],c=Vr(o,i);zT(a,i,o,n,null,r);for(let u=0;u<n.length;u++)cr(Da(i,a,o.directiveStart+u,o),i);UT(a,i,o),c&&cr(c,i);const l=Da(i,a,o.directiveStart+o.componentOffset,o);if(t[hn]=i[hn]=l,null!==s)for(const u of s)u(l,e);return Qv(a,o,t),l}(y3e,Qe,en,kn,Y,[bK]),sy(U,Y,null)}finally{$_()}return new _K(this.componentType,he,ul(Re,Y),Y,Re)}}class _K extends oW{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new pK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;iy(s[we],s,i,e,n),this.previousInputValues.set(e,n),Ud(ei(this._tNode.index,s))}}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bK(){const t=Yn();y0(ee()[we],t)}function Ct(t){let e=function iD(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Fi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new re(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=og(t.inputs),o.inputTransforms=og(t.inputTransforms),o.declaredInputs=og(t.declaredInputs),o.outputs=og(t.outputs);const a=i.hostBindings;a&&DK(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&AK(t,c),l&&TK(t,l),n0(t.inputs,i.inputs),n0(t.declaredInputs,i.declaredInputs),n0(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),n0(o.inputTransforms,i.inputTransforms)),Fi(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ct&&(n=!1)}}e=Object.getPrototypeOf(e)}!function wK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=gd(i.hostAttrs,n=gd(n,i.hostAttrs))}}(r)}function og(t){return t===Zi?{}:t===gt?[]:t}function AK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function TK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function DK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function ag(t){return!!oy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function oy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ls(t,e,n){return t[e]=n}function Wd(t,e){return t[e]}function lr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ra(t,e,n,r){const i=lr(t,e,n);return lr(t,e+1,r)||i}function Vi(t,e,n,r){const i=ee();return lr(i,qc(),e)&&(ut(),cs(tn(),i,t,e,n,r)),Vi}function ml(t,e,n,r){return lr(t,qc(),n)?e+$e(n)+r:We}function Dt(t,e,n,r,i,s,o,a){const c=ee(),l=ut(),u=t+it,d=l.firstCreatePass?function ZK(t,e,n,r,i,s,o,a,c){const l=e.consts,u=pl(e,t,4,o||null,Mo(l,a));ey(e,n,u,Mo(l,c)),y0(e,u);const d=u.tView=Zv(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];rs(d,!1);const f=xD(l,c,d,t);v0()&&B0(l,c,f,d),cr(f,c),rg(c,c[u]=$T(f,c,f,d)),p0(d)&&Xv(l,c,d),null!=o&&Jv(c,d,a)}let xD=function CD(t,e,n,r){return Ro(!0),e[Ge].createComment("")};function fy(t){return $c(function L$(){return He.lFrame.contextLView}(),it+t)}function Ne(t,e,n){const r=ee();return lr(r,qc(),e)&&ri(ut(),tn(),r,t,e,r[Ge],n,!1),Ne}function hy(t,e,n,r,i){const o=i?"class":"style";iy(t,n,e.inputs[o],o,r)}function G(t,e,n,r){const i=ee(),s=ut(),o=it+t,a=i[Ge],c=s.firstCreatePass?function rY(t,e,n,r,i,s){const o=e.consts,c=pl(e,t,2,r,Mo(o,i));return ey(e,n,c,Mo(o,s)),null!==c.attrs&&ig(c,c.attrs,!1),null!==c.mergedAttrs&&ig(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=ID(s,i,c,a,e,t);i[o]=l;const u=p0(c);return rs(c,!0),O5(a,l,c),32!=(32&c.flags)&&v0()&&B0(s,i,l,c),0===function P$(){return He.lFrame.elementDepthCount}()&&cr(l,i),function M$(){He.lFrame.elementDepthCount++}(),u&&(Xv(s,i,c),Qv(s,c,i)),null!==r&&Jv(i,c),G}function K(){let t=Yn();L_()?B_():(t=t.parent,rs(t,!1));const e=t;(function k$(t){return He.skipHydrationRootTNode===t})(e)&&function V$(){He.skipHydrationRootTNode=null}(),function R$(){He.lFrame.elementDepthCount--}();const n=ut();return n.firstCreatePass&&(y0(n,t),S_(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function J$(t){return 0!=(8&t.flags)}(e)&&hy(n,e,ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Z$(t){return 0!=(16&t.flags)}(e)&&hy(n,e,ee(),e.stylesWithoutHost,!1),K}function Ue(t,e,n,r){return G(t,e,n,r),K(),Ue}let ID=(t,e,n,r,i,s)=>(Ro(!0),F0(r,i,function VA(){return He.lFrame.currentNamespace}()));function ka(t,e,n){const r=ee(),i=ut(),s=t+it,o=i.firstCreatePass?function oY(t,e,n,r,i){const s=e.consts,o=Mo(s,r),a=pl(e,t,8,"ng-container",o);return null!==o&&ig(a,o,!0),ey(e,n,a,Mo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];rs(o,!0);const a=wD(i,r,o,t);return r[s]=a,v0()&&B0(i,r,a,o),cr(a,r),p0(o)&&(Xv(i,r,o),Qv(i,o,r)),null!=n&&Jv(r,o),ka}function Na(){let t=Yn();const e=ut();return L_()?B_():(t=t.parent,rs(t,!1)),e.firstCreatePass&&(y0(e,t),S_(t)&&e.queries.elementEnd(t)),Na}let wD=(t,e,n,r)=>(Ro(!0),uv(e[Ge],""));function bl(){return ee()}function Xd(t){return!!t&&"function"==typeof t.then}function AD(t){return!!t&&"function"==typeof t.subscribe}function Ot(t,e,n,r){const i=ee(),s=ut(),o=Yn();return function DD(t,e,n,r,i,s,o){const a=p0(r),l=t.firstCreatePass&&WT(t),u=e[hn],d=qT(e);let f=!0;if(3&r.type||o){const g=Vr(r,e),y=o?o(g):g,S=d.length,w=o?Y=>o(Nt(Y[r.index])):r.index;let U=null;if(!o&&a&&(U=function lY(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Lc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,f=!1;else{s=PD(r,e,u,s,!1);const Y=n.listen(y,i,s);d.push(s,Y),l&&l.push(i,w,S,S+1)}}else s=PD(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const he=e[p[y]][p[y+1]].subscribe(s),Re=d.length;d.push(s,he),l&&l.push(i,r.index,Re,-(Re+1))}}}(s,i,i[Ge],o,t,e,r),Ot}function SD(t,e,n,r){try{return ns(6,e,n),!1!==n(r)}catch(i){return YT(t,i),!1}finally{ns(7,e,n)}}function PD(t,e,n,r,i){return function s(o){if(o===Function)return r;Ud(t.componentOffset>-1?ei(t.index,e):e);let c=SD(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=SD(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Ut(t=1){return function j$(t){return(He.lFrame.contextLView=function $$(t,e){for(;t>0;)e=e[Hc],t--;return e}(t,He.lFrame.contextLView))[hn]}(t)}function uY(t,e){let n=null;const r=function Wj(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Gw(t,s,!0):Qj(r,s))return i}else n=i}return n}function py(t,e,n){return gy(t,"",e,"",n),py}function gy(t,e,n,r,i){const s=ee(),o=ml(s,e,n,r);return o!==We&&ri(ut(),tn(),s,t,o,s[Ge],i,!1),gy}function fg(t,e){return t<<17|e<<2}function No(t){return t>>17&32767}function my(t){return 2|t}function Oa(t){return(131068&t)>>2}function _y(t,e){return-131069&t|e<<2}function vy(t){return 1|t}function zD(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?No(s):Oa(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];mY(t[a],e)&&(c=!0,t[a+1]=r?vy(u):my(u)),a=r?No(u):Oa(u)}c&&(t[n+1]=r?my(s):vy(s))}function mY(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&el(t,e)>=0}function Jd(t,e){return function Li(t,e,n,r){const i=ee(),s=ut(),o=function $s(t){const e=He.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function QD(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Cr()],o=function YD(t,e){return e>=t.expandoStartIndex}(t,n);(function eS(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function wY(t,e,n,r){const i=function z_(t){const e=He.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Zd(n=yy(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=yy(i,t,e,n,r),null===s){let c=function AY(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Oa(r))return t[No(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=yy(null,t,e,c[1],r),c=Zd(c,e.attrs,r),function TY(t,e,n,r){t[No(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function DY(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Zd(r,t[s].hostAttrs,n);return Zd(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function pY(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=No(o),c=Oa(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||el(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=No(t[a+1]);t[r+1]=fg(f,a),0!==f&&(t[f+1]=_y(t[f+1],r)),t[a+1]=function fY(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=fg(a,0),0!==a&&(t[a+1]=_y(t[a+1],r)),a=r;else t[r+1]=fg(c,0),0===a?a=r:t[c+1]=_y(t[c+1],r),c=r;l&&(t[r+1]=my(t[r+1])),zD(t,u,r,!0),zD(t,u,r,!1),function gY(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&el(s,e)>=0&&(n[r+1]=vy(n[r+1]))}(e,u,t,r,s),o=fg(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==We&&lr(i,o,e)&&function JD(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function hY(t){return 1==(1&t)}(l)?ZD(c,e,n,i,Oa(l),o):void 0;hg(u)||(hg(s)||function dY(t){return 2==(2&t)}(l)&&(s=ZD(c,null,n,i,a,o)),function uq(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:ko.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ko.Important),t.setStyle(n,r,i,s))}}(r,o,_0(Cr(),n),i,s))}(s,s.data[Cr()],i,i[Ge],t,i[o+1]=function RY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=An(ni(t)))),t}(e,n),r,o)}(t,e,null,!0),Jd}function yy(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Zd(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Zd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ti(t,o,!!n||e[++s]))}return void 0===t?null:t}function ZD(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===We&&(f=d?gt:void 0);let h=d?Z_(f,r):u===r?f:void 0;if(l&&!hg(h)&&(h=Z_(c,r)),hg(h)&&(a=h,o))return a;const p=t[i+1];i=o?No(p):Oa(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Z_(c,r))}return a}function hg(t){return void 0!==t}function X(t,e=""){const n=ee(),r=ut(),i=t+it,s=r.firstCreatePass?pl(r,i,1,e,null):r.data[i],o=tS(r,n,s,e,t);n[i]=o,v0()&&B0(r,n,o,s),rs(s,!1)}let tS=(t,e,n,r,i)=>(Ro(!0),function O0(t,e){return t.createText(e)}(e[Ge],r));function dt(t){return Fa("",t,""),dt}function Fa(t,e,n){const r=ee(),i=ml(r,t,e,n);return i!==We&&function Ks(t,e,n){const r=_0(e,t);!function C5(t,e,n){t.setValue(e,n)}(t[Ge],r,n)}(r,Cr(),i),Fa}function Ey(t,e,n){const r=ee();return lr(r,qc(),e)&&ri(ut(),tn(),r,t,e,r[Ge],n,!0),Ey}const Va=void 0;var eQ=["en",[["a","p"],["AM","PM"],Va],[["AM","PM"],Va,Va],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Va,"{1} 'at' {0}",Va],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZY(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Al={};function wr(t){const e=function tQ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=xS(e);if(n)return n;const r=e.split("-")[0];if(n=xS(r),n)return n;if("en"===r)return eQ;throw new re(701,!1)}function xS(t){return t in Al||(Al[t]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[t]),Al[t]}var Ft=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ft||{});const Tl="en-US";let CS=Tl;function Iy(t,e,n,r,i){if(t=ze(t),Array.isArray(t))for(let s=0;s<t.length;s++)Iy(t[s],e,n,r,i);else{const s=ut(),o=ee(),a=Yn();let c=Ma(t)?t:ze(t.provide);const l=nT(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Ma(t)||!t.multi){const h=new wd(l,i,te),p=wy(c,e,i?u:u+f,d);-1===p?(Q_(I0(a,o),s,c),by(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=wy(c,e,u+f,d),p=wy(c,e,u,u+f),y=p>=0&&n[p];if(i&&!y||!i&&!(h>=0&&n[h])){Q_(I0(a,o),s,c);const S=function ZQ(t,e,n,r,i){const s=new wd(t,n,te);return s.multi=[],s.index=e,s.componentProviders=0,WS(s,i,r&&!n),s}(i?JQ:XQ,n.length,i,r,l);!i&&y&&(n[p].providerFactory=S),by(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),o.push(S)}else by(s,t,h>-1?h:p,WS(n[i?p:h],l,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function by(t,e,n,r){const i=Ma(e),s=function jq(t){return!!t.useClass}(e);if(i||s){const c=(s?ze(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function WS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function XQ(t,e,n,r){return Ay(this.multi,[])}function JQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Da(n,n[we],this.providerFactory.index,r);s=a.slice(0,o),Ay(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Ay(i,s);return s}function Ay(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Yt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function QQ(t,e,n){const r=ut();if(r.firstCreatePass){const i=Fi(t);Iy(n,r.data,r.blueprint,i,!0),Iy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class La{}class KS{}class Ty extends La{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nD(this);const i=Zr(e);this._bootstrapComponents=Ws(i.bootstrap),this._r3Injector=mT(e,n,[{provide:La,useValue:this},{provide:zd,useValue:this.componentFactoryResolver},...r],An(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Dy extends KS{constructor(e){super(),this.moduleType=e}create(e){return new Ty(this.moduleType,e,[])}}class YS extends La{constructor(e){super(),this.componentFactoryResolver=new nD(this),this.instance=null;const n=new ol([...e.providers,{provide:La,useValue:this},{provide:zd,useValue:this.componentFactoryResolver}],e.parent||W0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function QS(t,e,n=null){return new YS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let nX=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=J5(0,r.type),s=i.length>0?QS([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=be({token:t,providedIn:"environment",factory:()=>new t(Se(xi))}),e})();function XS(t){t.getStandaloneInjector=e=>e.get(nX).getOrCreateStandaloneInjector(t)}function Ur(t,e,n,r){return o7(ee(),xr(),t,e,n,r)}function s7(t,e,n,r,i,s,o,a){const c=xr()+t,l=ee(),u=function Ci(t,e,n,r,i,s){const o=Ra(t,e,n,r);return Ra(t,e+2,i,s)||o}(l,c,n,r,i,s);return lr(l,c+4,o)||u?ls(l,c+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Wd(l,c+5)}function af(t,e){const n=t[e];return n===We?void 0:n}function o7(t,e,n,r,i,s){const o=e+n;return lr(t,o,i)?ls(t,o+1,s?r.call(s,i):r(i)):af(t,o+1)}function c7(t,e,n,r,i,s,o,a){const c=e+n;return function cg(t,e,n,r,i){const s=Ra(t,e,n,r);return lr(t,e+2,i)||s}(t,c,i,s,o)?ls(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):af(t,c+3)}function Qt(t,e){const n=ut();let r;const i=t+it;n.firstCreatePass?(r=function vX(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Aa(r.type)),a=Or(te);try{const c=C0(!1),l=s();return C0(c),function nY(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ee(),i,l),l}finally{Or(a)}}function Ii(t,e,n){const r=t+it,i=ee(),s=$c(i,r);return cf(i,r)?o7(i,xr(),e,s.transform,n,s):s.transform(n)}function d7(t,e,n,r){const i=t+it,s=ee(),o=$c(s,i);return cf(s,i)?function a7(t,e,n,r,i,s,o){const a=e+n;return Ra(t,a,i,s)?ls(t,a+2,o?r.call(o,i,s):r(i,s)):af(t,a+2)}(s,xr(),e,o.transform,n,r,o):o.transform(n,r)}function bi(t,e,n,r,i){const s=t+it,o=ee(),a=$c(o,s);return cf(o,s)?c7(o,xr(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function cf(t,e){return t[we].data[e].pure}function xX(){return this._results[Symbol.iterator]()}class Py{get changes(){return this._changes||(this._changes=new Tt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Py.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=xX)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function yi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function hG(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function IX(t,e,n,r=!0){const i=e[we];if(function nq(t,e,n,r){const i=Wn+r,s=n.length;r>0&&(n[i-1][Oi]=e),r<s-Wn?(e[Oi]=n[i],JA(n,Wn+r,e)):(n.push(e),e[Oi]=null),e[Kt]=n;const o=e[vd];null!==o&&n!==o&&function rq(t,e){const n=t[Uc];e[pn]!==e[Kt][Kt][pn]&&(t[Jw]=!0),null===n?t[Uc]=[e]:n.push(e)}(o,e);const a=e[es];null!==a&&a.insertView(t),e[Ye]|=128}(i,e,t,n),r){const s=gv(n,t),o=e[Ge],a=L0(o,t[ts]);null!==a&&function ZG(t,e,n,r,i,s){r[sn]=i,r[ar]=e,Od(t,r,n,1,i,s)}(i,t[ar],o,e,a,s)}}let Ys=(()=>{class e{}return e.__NG_ELEMENT_ID__=AX,e})();const bX=Ys,wX=class extends bX{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function CX(t,e,n,r){const i=e.tView,a=ng(t,i,n,4096&t[Ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[vd]=t[e.index];const l=t[es];return null!==l&&(a[es]=l.createEmbeddedView(i)),sy(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Gd(i)}};function AX(){return vg(Yn(),ee())}function vg(t,e){return 4&t.type?new wX(e,t,ul(t,e)):null}let Hi=(()=>{class e{}return e.__NG_ELEMENT_ID__=RX,e})();function RX(){return v7(Yn(),ee())}const kX=Hi,m7=class extends kX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ul(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){const e=b0(this._hostTNode,this._hostLView);if(W_(e)){const n=Td(e,this._hostLView),r=Ad(e);return new Ir(n[we].data[r+8],n)}return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=_7(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Wn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Sd(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const c=o?e:new qd(lt(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const y=(o?l:this.parentInjector).get(xi,null);y&&(s=y)}lt(c.componentType??{});const h=c.create(l,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function T$(t){return yr(t[Kt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Kt],u=new m7(l,l[ar],l[Kt]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return IX(a,i,o,!r),e.attachToViewContainerRef(),JA(My(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=_7(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=V0(this._lContainer,n);r&&(T0(My(this._lContainer),n),dv(r[we],r))}detach(e){const n=this._adjustIndex(e,-1),r=V0(this._lContainer,n);return r&&null!=T0(My(this._lContainer),n)?new Gd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _7(t){return t[8]}function My(t){return t[8]||(t[8]=[])}function v7(t,e){let n;const r=e[t.index];return yr(r)?n=r:(n=$T(r,e,null,t),e[t.index]=n,rg(e,n)),y7(n,e,t,r),new m7(n,t,e)}let y7=function E7(t,e,n,r){if(t[ts])return;let i;i=8&n.type?Nt(r):function NX(t,e){const n=t[Ge],r=n.createComment(""),i=Vr(e,t);return Sa(n,L0(n,i),r,function aq(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[ts]=i};class Ry{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ry(this.queryList)}setDirty(){this.queryList.setDirty()}}class ky{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new ky(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==A7(e,n).matches&&this.queries[n].setDirty()}}class x7{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Ny{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Ny(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Oy{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Oy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,VX(n,s)),this.matchTNodeWithReadOption(e,n,w0(n,e,s,!1,!1))}else r===Ys?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,w0(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===br||i===Hi||i===Ys&&4&n.type)this.addMatch(n.index,-2);else{const s=w0(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function VX(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function BX(t,e,n,r){return-1===n?function LX(t,e){return 11&t.type?ul(t,e):4&t.type?vg(t,e):null}(e,t):-2===n?function HX(t,e,n){return n===br?ul(e,t):n===Ys?vg(e,t):n===Hi?v7(e,t):void 0}(t,e,r):Da(t,t[we],n,e)}function C7(t,e,n,r){const i=e[es].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:BX(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function Fy(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=C7(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=Wn;d<u.length;d++){const f=u[d];f[vd]===f[Kt]&&Fy(f[we],f,l,r)}if(null!==u[Uc]){const d=u[Uc];for(let f=0;f<d.length;f++){const h=d[f];Fy(h[we],h,l,r)}}}}}return r}function jr(t){const e=ee(),n=ut(),r=MA();U_(r+1);const i=A7(n,r);if(t.dirty&&function w$(t){return 4==(4&t[Ye])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Fy(n,e,r,[]):C7(n,e,i,r);t.reset(s,uW),t.notifyOnChanges()}return!0}return!1}function ii(t,e,n){const r=ut();r.firstCreatePass&&(function w7(t,e,n){null===t.queries&&(t.queries=new Ny),t.queries.track(new Oy(e,n))}(r,new x7(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function b7(t,e,n){const r=new Py(4==(4&n));(function jW(t,e,n,r){const i=qT(e);i.push(n),t.firstCreatePass&&WT(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[es]&&(e[es]=new ky),e[es].queries.push(new Ry(r))}(r,ee(),e)}function $r(){return function zX(t,e){return t[es].queries[e].queryList}(ee(),MA())}function A7(t,e){return t.queries.getByIndex(e)}const j7=new xe("Application Initializer");let Uy=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=q(j7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Xd(o))r.push(o);else if(AD(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$7=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Qs=new xe("LocaleId",{providedIn:"root",factory:()=>q(Qs,at.Optional|at.SkipSelf)||function uJ(){return typeof $localize<"u"&&$localize.locale||Tl}()});let xg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gi(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class hJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let pJ=(()=>{var t;class e{compileModuleSync(r){return new Dy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Ws(Zr(r).declarations).reduce((a,c)=>{const l=lt(c);return l&&a.push(new qd(l)),a},[]);return new hJ(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const K7=new xe(""),Ig=new xe("");let Wy,Gy=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wy||(function FJ(t){Wy=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(pt),Se(qy),Se(Ig))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})(),qy=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Wy?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Oo=null;const Y7=new xe("AllowMultipleToken"),Ky=new xe("PlatformDestroyListeners"),Q7=new xe("appBootstrapListener");function Z7(t,e,n=[]){const r=`Platform: ${e}`,i=new xe(r);return(s=[])=>{let o=Yy();if(!o||o.injector.get(Y7,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function BJ(t){if(Oo&&!Oo.get(Y7,!1))throw new re(400,!1);(function X7(){!function f$(t){uA=t}(()=>{throw new re(600,!1)})})(),Oo=t;const e=t.get(tP);(function J7(t){t.get(rT,null)?.forEach(n=>n())})(t)}(function eP(t=[],e){return Dn.create({name:e,providers:[{provide:Tv,useValue:"platform"},{provide:Ky,useValue:new Set([()=>Oo=null])},...t]})}(a,r))}return function zJ(t){const e=Yy();if(!e)throw new re(401,!1);return e}()}}function Yy(){return Oo?.get(tP)??null}let tP=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function UJ(t="zone.js",e){return"noop"===t?new bW:"zone.js"===t?new pt(e):t}(i?.ngZone,function nP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function tX(t,e,n){return new Ty(t,e,n)}(r.moduleType,this.injector,function aP(t){return[{provide:pt,useFactory:t},{provide:Ld,multi:!0,useFactory:()=>{const e=q($J,{optional:!0});return()=>e.initialize()}},{provide:oP,useFactory:jJ},{provide:xT,useFactory:CT}]}(()=>s)),a=o.injector.get(qs,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{bg(this._modules,o),c.unsubscribe()})}),function rP(t,e,n){try{const r=n();return Xd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(Uy);return c.runInitializers(),c.donePromise.then(()=>(function IS(t){_i(t,"Expected localeId to be defined"),"string"==typeof t&&(CS=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Qs,Tl)||Tl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=iP({},i);return function VJ(t,e,n){const r=new Dy(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(df);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new re(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Ky,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Dn))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function iP(t,e){return Array.isArray(e)?e.reduce(iP,t):{...t,...e}}let df=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=q(oP),this.zoneIsStable=q(xT),this.componentTypes=[],this.components=[],this.isStable=q(xg).hasPendingTasks.pipe(mi(r=>r?Le(!1):this.zoneIsStable),Dw(),Tw()),this._injector=q(xi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof cT;if(!this._injector.get(Uy).done)throw!s&&function Vc(t){const e=lt(t)||qn(t)||vr(t);return null!==e&&e.standalone}(r),new re(405,!1);let a;a=s?r:this._injector.get(zd).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function LJ(t){return t.isBoundToModule}(a)?void 0:this._injector.get(La),u=a.create(Dn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(K7,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),bg(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;bg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(Q7,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>bg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new re(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oP=new xe("",{providedIn:"root",factory:()=>q(qs).handleError.bind(void 0)});function jJ(){const t=q(pt),e=q(qs);return n=>t.runOutsideAngular(()=>e.handleError(n))}let $J=(()=>{var t;class e{constructor(){this.zone=q(pt),this.applicationRef=q(df)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let fs=(()=>{class e{}return e.__NG_ELEMENT_ID__=WJ,e})();function WJ(t){return function KJ(t,e,n){if(wa(t)&&!n){const r=ei(t.index,e);return new Gd(r,r)}return 47&t.type?new Gd(e[pn],e):null}(Yn(),ee(),16==(16&t))}class dP{constructor(){}supports(e){return ag(e)}create(e){return new eZ(e)}}const ZJ=(t,e)=>e;class eZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ZJ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<hP(r,i,s)?n:r,a=hP(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ag(e))throw new re(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function OK(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new tZ(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new fP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class tZ{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class fP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new nZ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class pP{constructor(){}supports(e){return e instanceof Map||oy(e)}create(){return new rZ}}class rZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||oy(e)))throw new re(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new iZ(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class iZ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gP(){return new Tg([new dP])}let Tg=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||gP()),deps:[[e,new tv,new zt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:gP}),e})();function mP(){return new ff([new pP])}let ff=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||mP()),deps:[[e,new tv,new zt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new re(901,!1)}}return(t=e).\u0275prov=be({token:t,providedIn:"root",factory:mP}),e})();const aZ=Z7(null,"core",[]);let cZ=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(df))},t.\u0275mod=At({type:t}),t.\u0275inj=xt({}),e})();let t4=null;function Fo(){return t4}class xZ{}const qr=new xe("DocumentToken");let wP=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return q(CZ)},providedIn:"platform"}),e})(),CZ=(()=>{var t;class e extends wP{constructor(){super(),this._doc=q(qr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fo().getBaseHref(this._doc)}onPopState(r){const i=Fo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Fo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function AP(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function TP(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ha(t){return t&&"?"!==t[0]?"?"+t:t}let Sg=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return q(bZ)},providedIn:"root"}),e})();const IZ=new xe("appBaseHref");let bZ=(()=>{var t;class e extends Sg{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??q(qr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return AP(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Ha(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Ha(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Ha(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(wP),Se(IZ,8))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),n4=(()=>{var t;class e{constructor(r){this._subject=new Tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function TZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(TP(DP(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ha(i))}normalize(r){return e.stripTrailingSlash(function AZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,DP(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ha(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ha(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Ha,t.joinWithSlash=AP,t.stripTrailingSlash=TP,t.\u0275fac=function(r){return new(r||t)(Se(Sg))},t.\u0275prov=be({token:t,factory:function(){return function wZ(){return new n4(Se(Sg))}()},providedIn:"root"}),e})();function DP(t){return t.replace(/\/index.html$/,"")}var Pg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Pg||{}),gn=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(gn||{});function wi(t,e){const n=wr(t),r=n[Ft.NumberSymbols][e];if(typeof r>"u"){if(e===gn.CurrencyDecimal)return n[Ft.NumberSymbols][gn.Decimal];if(e===gn.CurrencyGroup)return n[Ft.NumberSymbols][gn.Group]}return r}const eee=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function u4(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function VP(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const f4=/\s+/,LP=[];let h4=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=LP,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(f4):LP}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(f4):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(f4).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Tg),te(ff),te(br),te(as))},t.\u0275dir=Fe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class fee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hg=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new fee(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),HP(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{HP(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Hi),te(Ys),te(Tg))},t.\u0275dir=Fe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function HP(t,e){t.context.$implicit=e.item}let hs=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new hee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){zP("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){zP("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Hi),te(Ys))},t.\u0275dir=Fe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class hee{constructor(){this.$implicit=null,this.ngIf=null}}function zP(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${An(e)}'.`)}function Ui(t,e){return new re(2100,!1)}class mee{createSubscription(e,n){return hA(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){hA(()=>e.unsubscribe())}}class _ee{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const vee=new _ee,yee=new mee;let gf=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Xd(r))return vee;if(AD(r))return yee;throw Ui()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(te(fs,16))},t.\u0275pipe=On({name:"async",type:t,pure:!1,standalone:!0}),e})(),jP=(()=>{var t;class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=$P}transform(r,i=$P){if(!r||!(r instanceof Map)&&"object"!=typeof r)return null;this.differ||(this.differ=this.differs.find(r).create());const s=this.differ.diff(r),o=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function Ree(t,e){return{key:t,value:e}}(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(t=e).\u0275fac=function(r){return new(r||t)(te(ff,16))},t.\u0275pipe=On({name:"keyvalue",type:t,pure:!1,standalone:!0}),e})();function $P(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}let ps=(()=>{var t;class e{constructor(r){this._locale=r}transform(r,i,s){if(!function m4(t){return!(null==t||""===t||t!=t)}(r))return null;s=s||this._locale;try{return function oee(t,e,n){return function c4(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let l=function cee(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(l=function aee(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){const w=s.match(eee);if(null===w)throw new Error(`${s} is not a valid digit info`);const U=w[1],Y=w[3],he=w[5];null!=U&&(u=u4(U)),null!=Y&&(d=u4(Y)),null!=he?f=u4(he):null!=Y&&d>f&&(f=d)}!function lee(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,c&&(0===p[h]&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}(l,d,f);let h=l.digits,p=l.integerLen;const g=l.exponent;let y=[];for(c=h.every(w=>!w);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?y=h.splice(p,h.length):(y=h,h=[0]);const S=[];for(h.length>=e.lgSize&&S.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)S.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&S.unshift(h.join("")),a=S.join(wi(n,r)),y.length&&(a+=wi(n,i)+y.join("")),g&&(a+=wi(n,gn.Exponential)+"+"+g)}else a=wi(n,gn.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function l4(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const d=c.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){const u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf("#");n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function r4(t,e){return wr(t)[Ft.NumberFormats][e]}(e,Pg.Decimal),wi(e,gn.MinusSign)),e,gn.Group,gn.Decimal,n)}(function _4(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),s,i)}catch(o){throw Ui()}}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Qs,16))},t.\u0275pipe=On({name:"number",type:t,pure:!0,standalone:!0}),e})();let Oee=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({}),e})();const Fee="server";function v4(t){return t===Fee}class qP{}class cte extends xZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class x4 extends cte{static makeCurrent(){!function EZ(t){t4||(t4=t)}(new x4)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function lte(){return _f=_f||document.querySelector("base"),_f?_f.getAttribute("href"):null}();return null==n?null:function ute(t){jg=jg||document.createElement("a"),jg.setAttribute("href",t);const e=jg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){_f=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return VP(document.cookie,e)}}let jg,_f=null,fte=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const C4=new xe("EventManagerPlugins");let XP=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new re(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(C4),Se(pt))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class JP{constructor(e){this._doc=e}}const I4="ng-app-id";let ZP=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=v4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${I4}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(I4),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(I4,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr),Se(K0),Se(iT,8),Se(os))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const b4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},w4=/%COMP%/g,mte=new xe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function tM(t,e){return e.map(n=>n.replace(w4,t))}let nM=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=v4(c),this.defaultRenderer=new A4(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ki.ShadowDom&&(i={...i,encapsulation:ki.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof iM?s.applyToHost(r):s instanceof T4&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case ki.Emulated:o=new iM(l,u,i,this.appId,d,a,c,f);break;case ki.ShadowDom:return new Ete(l,u,r,i,a,c,this.nonce,f);default:o=new T4(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(XP),Se(ZP),Se(K0),Se(mte),Se(qr),Se(os),Se(pt),Se(iT))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();class A4{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(b4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new re(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=b4[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=b4[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ko.DashCase|ko.Important)?e.style.setProperty(n,r,i&ko.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ko.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Fo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function rM(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Ete extends A4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=tM(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class T4 extends A4{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?tM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class iM extends T4{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function _te(t){return"_ngcontent-%COMP%".replace(w4,t)}(l),this.hostAttr=function vte(t){return"_nghost-%COMP%".replace(w4,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let xte=(()=>{var t;class e extends JP{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const sM=["alt","control","meta","shift"],Cte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ite={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bte=(()=>{var t;class e extends JP{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fo().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),sM.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=Cte[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),sM.forEach(a=>{a!==s&&(0,Ite[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const aM=[{provide:os,useValue:"browser"},{provide:rT,useValue:function wte(){x4.makeCurrent()},multi:!0},{provide:qr,useFactory:function Tte(){return function gq(t){vv=t}(document),document},deps:[]}],Dte=Z7(aZ,"browser",aM),Ste=new xe(""),cM=[{provide:Ig,useClass:class dte{addToWindow(e){kt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new re(5103,!1);return s},kt.getAllAngularTestabilities=()=>e.getAllTestabilities(),kt.getAllAngularRootElements=()=>e.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(r=>{const i=kt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Fo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:K7,useClass:Gy,deps:[pt,qy,Ig]},{provide:Gy,useClass:Gy,deps:[pt,qy,Ig]}],lM=[{provide:Tv,useValue:"root"},{provide:qs,useFactory:function Ate(){return new qs},deps:[]},{provide:C4,useClass:xte,multi:!0,deps:[qr,pt,os]},{provide:C4,useClass:bte,multi:!0,deps:[qr]},nM,ZP,XP,{provide:uT,useExisting:nM},{provide:qP,useClass:fte,deps:[]},[]];let Wr=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:K0,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Ste,12))},t.\u0275mod=At({type:t}),t.\u0275inj=xt({providers:[...lM,...cM],imports:[Oee,cZ]}),e})(),D4=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function Mte(){return new D4(Se(qr))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let fM=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new(r||t):Se(hM),i},providedIn:"root"}),e})(),hM=(()=>{var t;class e extends fM{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case Ei.NONE:return i;case Ei.HTML:return ss(i,"HTML")?ni(i):G5(this._doc,String(i)).toString();case Ei.STYLE:return ss(i,"Style")?ni(i):i;case Ei.SCRIPT:if(ss(i,"Script"))return ni(i);throw new re(5200,!1);case Ei.URL:return ss(i,"URL")?ni(i):j0(String(i));case Ei.RESOURCE_URL:if(ss(i,"ResourceURL"))return ni(i);throw new re(5201,!1);default:throw new re(5202,!1)}}bypassSecurityTrustHtml(r){return function Cq(t){return new mq(t)}(r)}bypassSecurityTrustStyle(r){return function Iq(t){return new _q(t)}(r)}bypassSecurityTrustScript(r){return function bq(t){return new vq(t)}(r)}bypassSecurityTrustUrl(r){return function wq(t){return new yq(t)}(r)}bypassSecurityTrustResourceUrl(r){return function Aq(t){return new Eq(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr))},t.\u0275prov=be({token:t,factory:function(r){let i=null;return i=r?new r:function Ote(t){return new hM(t.get(qr))}(Se(Dn)),i},providedIn:"root"}),e})();class P4{constructor(){this._available=0,this._currentNumber=0,this._maximumNumber=0}get available(){return this._available}set available(e){this._available=e}get currentNumber(){return this._currentNumber}set currentNumber(e){this._currentNumber=e}get maximumNumber(){return this._maximumNumber}set maximumNumber(e){this._maximumNumber=e}toJSON(){return{available:this.available,currentNumber:this.currentNumber,maximumNumber:this.maximumNumber}}}class gM{constructor(){this._orbit=0,this._ground=0,this._workers=new P4,this._soldiers=new P4,this._resources=[]}get location(){return this._location}set location(e){this._location=e}get name(){return this._name}set name(e){this._name=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}class M4{constructor(){this._abundance=0,this._production=0,this._stored=0}get name(){return this._name}set name(e){this._name=e}get stored(){return this._stored}set stored(e){this._stored=e}get abundance(){return this._abundance}set abundance(e){this._abundance=e}get production(){return this._production}set production(e){this._production=e}toJSON(){return{name:this.name,abundance:this.abundance,production:this.production,stored:this.stored}}}let Fte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("#planetList > #planetList").forEach(i=>{let s=new gM,o=i.querySelectorAll(".resourceLine .left > span"),a=[];o.forEach(l=>{let u=l.textContent.split(/\s+/),d=new M4;d.name=l.parentElement.className.split(/\s+/)[2],d.stored=parseInt(u[0].replace(/,/g,"")),d.production=parseInt(u[1].substring(1,u[1].length-1).replace(/,/g,"")),d.abundance=parseInt(u[2].replace(/,/g,"")),a.push(d)}),s.resources=a;let c=i.querySelectorAll(".planetHeadSection .resource span")[4].innerHTML.split(/\s+/)[0];s.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),s.workers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[0].replace(/,/g,"")),s.workers.maximumNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[3].innerHTML.split(/\//g)[1].replace(/,/g,"")),s.soldiers.currentNumber=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[2].innerHTML.replace(/,/g,"")),s.name=i.querySelectorAll(".planetName > a")[0].innerHTML,s.location=i.querySelectorAll(".coords > span")[0].innerHTML.split(/\./),s.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[0].innerHTML),s.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource span")[1].innerHTML),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class mM{constructor(){this._resources=[],this._ground=0,this._orbit=0,this._workers=new P4,this._soldiers=0,this._structures=[],this._fleets=[]}get owner(){return this._owner}set owner(e){this._owner=e}get turn(){return this._turn}set turn(e){this._turn=e}get location(){return this._location}set location(e){this._location=e}get resources(){return this._resources}set resources(e){this._resources=e}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}get structures(){return this._structures}set structures(e){this._structures=e}get fleets(){return this._fleets}set fleets(e){this._fleets=e}toJSON(){return{resources:this.resources,ground:this.ground,orbit:this.orbit,workers:this.workers,soldiers:this.soldiers,structures:this.structures,fleets:this.fleets,location:this.location,turn:this.turn,owner:this.owner}}}var ur=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.RESOURCE=0]="RESOURCE",t[t.SURFACE=1]="SURFACE",t[t.FLEET=2]="FLEET",t}(ur||{});class Vte{constructor(e,n){this._planetScan=e,this._type=n}get planetScan(){return this._planetScan}set planetScan(e){this._planetScan=e}get type(){return this._type}set type(e){this._type=e}}class Lte{constructor(e,n){this._quantity=0,this._name=e,this._quantity=n}get name(){return this._name}set name(e){this._name=e}get quantity(){return this._quantity}set quantity(e){this._quantity=e}toJSON(){return{name:this.name,quantity:this.quantity}}}var Lt=function(t){return t.OUTPOST="outpost",t.METAL_MINE="metal mine",t.MINERAL_EXTRACTOR="mineral extractor",t.FARM="farm",t.SOLAR_GENERATOR="solar generator",t.CORE_METAL_MINE="core metal mine",t.CORE_MINERAL_EXTRACTOR="core mineral extractor",t.HYDROPONICS_LAB="hydroponics lab",t.SOLAR_ARRAY="solar array",t.STRIP_METAL_MINE="strip metal mine",t.STRIP_MINERAL_EXTRACTOR="strip mineral extractor",t.HYDROPONICS_DOME="hydroponics dome",t.SOLAR_STATION="solar station",t.JUMP_GATE="jump gate",t.HYPERSPACE_BEACON="hyperspace beacon",t.SHIP_YARD="ship yard",t.LIGHT_WEAPONS_FACTORY="light weapons factory",t.HEAVY_WEAPONS_FACTORY="heavy weapons factory",t.SPACE_DOCK="space dock",t.HOLO_GENERATOR="holo generator",t.SPACE_TETHER="space tether",t.ARMY_BARRACKS="army barracks",t.LEISURE_CENTRE="leisure centre",t.MEDICAL_CENTRE="medical centre",t.HOSPITAL="hospital",t.COMMS_SATELLITE="comms satellite",t}(Lt||{});class _M{constructor(e,n){this._name=e,this._alliance=n}get name(){return this._name}set name(e){this._name=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}toJSON(){return{name:this.name,alliance:this.alliance}}}let Bte=(()=>{var t;class e{extract(){if(document.querySelectorAll("#contentBox #planetHeader").length<=1)return null;let s,r=new mM,i=document.querySelectorAll("#contentBox #planetHeader")[1];document.querySelectorAll('input[name="scanId"]').forEach((a,c)=>{if(a.hasAttribute("checked"))switch(c){case 0:s=ur.RESOURCE;break;case 1:s=ur.SURFACE;break;case 2:s=ur.FLEET;break;default:s=ur.UNKNOWN}});let o=new Vte(r,s);if(s!==ur.UNKNOWN){o.planetScan.turn=parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""));let a=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1]?i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[1].textContent.trim():"[-]",c=i.querySelectorAll(".planetHeadSection .opacBackground>.left>span")[0].textContent.trim();o.planetScan.owner="This planet is unoccupied."!==c?new _M(c.split("Owner:")[1].trim(),""):new _M("Uninhabited Planet",a.substring(1,a.length-1)),o.planetScan.location=i.querySelectorAll(".planetHeadSection .coords")[0].textContent.trim().replace(/\s+/,"")}if((s===ur.RESOURCE||s===ur.SURFACE)&&(o.planetScan.orbit=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[0].textContent.trim()),o.planetScan.ground=parseInt(i.querySelectorAll(".planetHeadSection .resource > span")[1].textContent.trim())),s===ur.RESOURCE&&(i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(a=>{let c=new M4;c.name=a.textContent.trim().toLowerCase(),o.planetScan.resources.push(c)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((a,c)=>{o.planetScan.resources[c].abundance=parseInt(a.textContent.trim())})),s===ur.SURFACE){i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(1) > .data:not(:first-child)").forEach(c=>{let l=new M4;l.name=c.textContent.trim().toLowerCase(),o.planetScan.resources.push(l)}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(2) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].stored=parseInt(c.textContent.trim().replace(/,/g,""))}),i.querySelectorAll(".planetHeadSection .resourceRow:nth-child(3) > .data:not(:first-child)").forEach((c,l)=>{o.planetScan.resources[l].abundance=parseInt(c.textContent.trim())});let a=i.querySelectorAll(".planetHeadSection .resource > span");if(a.length>4){let c=a[4].textContent.trim().split(/\s+/)[0];o.planetScan.workers.available=parseInt(c.substring(1,c.length).replace(/,/g,"")),o.planetScan.workers.currentNumber=parseInt(a[3].textContent.trim().split(/\//g)[0].replace(/,/g,"")),o.planetScan.workers.maximumNumber=parseInt(a[3].textContent.trim().split(/\//g)[1].replace(/,/g,"")),o.planetScan.soldiers=parseInt(a[2].textContent.trim().replace(/,/g,""))}i.parentElement.querySelectorAll("div.entry > .left:not(.structureImageSmall)").forEach(c=>{o.planetScan.structures.push(new Lte(c.textContent.split(/x\s+/)[1].trim().replace(/_/g," ").toLowerCase(),parseInt(c.textContent.split(/x\s+/)[0].trim())))}),o.planetScan.structures.forEach(c=>{switch(c.name){case Lt.OUTPOST:o.planetScan.resources[0].production+=300,o.planetScan.resources[1].production+=200,o.planetScan.resources[2].production+=100;break;case Lt.METAL_MINE:o.planetScan.resources[0].production+=300*c.quantity;break;case Lt.MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=200*c.quantity;break;case Lt.FARM:o.planetScan.resources[2].production+=300*c.quantity;break;case Lt.SOLAR_GENERATOR:o.planetScan.resources[3].production+=100*c.quantity;break;case Lt.CORE_METAL_MINE:o.planetScan.resources[0].production+=900*c.quantity;break;case Lt.CORE_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=600*c.quantity;break;case Lt.HYDROPONICS_LAB:o.planetScan.resources[2].production+=900*c.quantity;break;case Lt.SOLAR_ARRAY:o.planetScan.resources[3].production+=300*c.quantity;break;case Lt.STRIP_METAL_MINE:o.planetScan.resources[0].production+=9e3*c.quantity;break;case Lt.STRIP_MINERAL_EXTRACTOR:o.planetScan.resources[1].production+=6e3*c.quantity;break;case Lt.HYDROPONICS_DOME:o.planetScan.resources[2].production+=9e3*c.quantity;break;case Lt.SOLAR_STATION:o.planetScan.resources[3].production+=3e3*c.quantity}})}return o.planetScan.resources.forEach(a=>{a.production=Math.ceil(a.production*a.abundance/100)}),o}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Hte=(()=>{var t;class e{extract(){let r=[];return document.querySelectorAll("div.navigation div.planets").forEach(i=>{let s=new gM;s.location=i.querySelector(".coords>span").textContent.trim().split(/\./),r.push(s)}),r}cleanAfterExtract(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();var Rl;class gs{constructor(){this.planetListExtractor=q(Fte),this.planetScanExtractor=q(Bte),this.navigationSystemPlanetsExtractor=q(Hte),this.cachedUsername=null}planetsSummaries(){return this.planetListExtractor.extract()}planetScan(){return this.planetScanExtractor.extract()}navigationSystemPlanets(){return this.navigationSystemPlanetsExtractor.extract()}gameTurn(){return parseInt(document.querySelector("#turnNumber").textContent.trim().replace(/,/g,""))}getCountDownMinutes(){return parseInt(document.querySelector("#countdownField").textContent.trim().split(/:/)[0])}username(e=!0){if(null==this.cachedUsername||!e){let n=document.querySelector("#header>#playerBox>.header>div.left:nth-child(2)").textContent.split("Welcome")[1].trim();return 0==n.indexOf("[")&&4==n.indexOf("]")&&(n=n.substring(5,n.length)),e&&(this.cachedUsername=n.toLowerCase()),n}return this.cachedUsername}}function vf(t){return(vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vt(t,e,n){return(e=function Ute(t){var e=function zte(t,e){if("object"!==vf(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vf(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vM(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){vM(s,r,i,o,a,"next",c)}function a(c){vM(s,r,i,o,a,"throw",c)}o(void 0)})}}(Rl=gs).\u0275fac=function(e){return new(e||Rl)},Rl.\u0275prov=be({token:Rl,factory:Rl.\u0275fac,providedIn:"platform"}),Wt([_r(0,zt())],gs.prototype,"username",null);const yM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},k4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new qte;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $g=function(t){return function(t){const e=yM(t);return k4.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Gg=function(t){try{return k4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qg=()=>{try{return xM().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},CM=t=>{var e,n;return null===(n=null===(e=qg())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},IM=()=>{var t;return null===(t=qg())||void 0===t?void 0:t.config},bM=t=>{var e;return null===(e=qg())||void 0===e?void 0:e[`_${t}`]};class kl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Fn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function N4(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function yf(){try{return"object"==typeof indexedDB}catch{return!1}}function O4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function wM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function sne(t,e){return t.replace(one,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new ji(i,`${this.serviceName}: ${o} (${i}).`,r)}}const one=/\{\$([^}]+)}/g;function Ef(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(TM(s)&&TM(o)){if(!Ef(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TM(t){return null!==t&&"object"==typeof t}function xf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function If(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class lne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function une(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=F4),void 0===i.error&&(i.error=F4),void 0===i.complete&&(i.complete=F4);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F4(){}const dne=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},fne=1e3,hne=2,pne=144e5,gne=.5;function L4(t,e=fne,n=hne){const r=e*Math.pow(n,t),i=Math.round(gne*r*(Math.random()-.5)*2);return Math.min(pne,r+i)}function an(t){return t&&t._delegate?t._delegate:t}class oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const za="[DEFAULT]";class _ne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function yne(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===za?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ene{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _ne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const B4=[];var ct=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ct||{});const DM={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},xne=ct.INFO,Cne={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},Ine=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Cne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class bf{constructor(e){this.name=e,this._logLevel=xne,this._logHandler=Ine,this._userLogHandler=null,B4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?DM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const bne=(t,e)=>e.some(n=>t instanceof n);let SM,PM;const MM=new WeakMap,H4=new WeakMap,RM=new WeakMap,z4=new WeakMap,U4=new WeakMap;let j4={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return H4.get(t);if("objectStoreNames"===e)return t.objectStoreNames||RM.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Mne(t){return"function"==typeof t?function Pne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ane(){return PM||(PM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply($4(this),e),Bo(MM.get(this))}:function(...e){return Bo(t.apply($4(this),e))}:function(e,...n){const r=t.call($4(this),e,...n);return RM.set(r,e.sort?e.sort():[e]),Bo(r)}}(t):(t instanceof IDBTransaction&&function Dne(t){if(H4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});H4.set(t,e)}(t),bne(t,function wne(){return SM||(SM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,j4):t)}function Bo(t){if(t instanceof IDBRequest)return function Tne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MM.set(n,t)}).catch(()=>{}),U4.set(e,t),e}(t);if(z4.has(t))return z4.get(t);const e=Mne(t);return e!==t&&(z4.set(t,e),U4.set(e,t)),e}const $4=t=>U4.get(t),kne=["get","getKey","getAll","getAllKeys","count"],Nne=["put","add","delete","clear"],G4=new Map;function kM(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(G4.get(e))return G4.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Nne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!kne.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return G4.set(e,s),s}!function Sne(t){j4=t(j4)}(t=>({...t,get:(e,n,r)=>kM(e,n)||t.get(e,n,r),has:(e,n)=>!!kM(e,n)||t.has(e,n)}));class One{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Fne(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const q4="@firebase/app",Ua=new bf("@firebase/app"),Kg="[DEFAULT]",cre={[q4]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ja=new Map,Yg=new Map;function lre(t,e){try{t.container.addComponent(e)}catch(n){Ua.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ti(t){const e=t.name;if(Yg.has(e))return Ua.debug(`There were multiple attempts to register component ${e}.`),!1;Yg.set(e,t);for(const n of ja.values())lre(n,t);return!0}function ms(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Zs=new Lo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dre{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const Nl="10.5.2";function OM(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Kg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Zs.create("bad-app-name",{appName:String(i)});if(n||(n=IM()),!n)throw Zs.create("no-options");const s=ja.get(i);if(s){if(Ef(n,s.options)&&Ef(r,s.config))return s;throw Zs.create("duplicate-app",{appName:i})}const o=new Ene(i);for(const c of Yg.values())o.addComponent(c);const a=new dre(n,r,o);return ja.set(i,a),a}function Ol(t=Kg){const e=ja.get(t);if(!e&&t===Kg&&IM())return OM();if(!e)throw Zs.create("no-app",{appName:t});return e}function FM(){return Array.from(ja.values())}function cn(t,e,n){var r;let i=null!==(r=cre[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ua.warn(a.join(" "))}Ti(new oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const fre="firebase-heartbeat-database",hre=1,wf="firebase-heartbeat-store";let K4=null;function VM(){return K4||(K4=function Rne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Bo(o.result),c.oldVersion,c.newVersion,Bo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(fre,hre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(wf)}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),K4}function Y4(){return(Y4=v(function*(t){try{return yield(yield VM()).transaction(wf).objectStore(wf).get(BM(t))}catch(e){if(e instanceof ji)Ua.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e?.message});Ua.warn(n.message)}}})).apply(this,arguments)}function LM(t,e){return Q4.apply(this,arguments)}function Q4(){return(Q4=v(function*(t,e){try{const r=(yield VM()).transaction(wf,"readwrite");yield r.objectStore(wf).put(e,BM(t)),yield r.done}catch(n){if(n instanceof ji)Ua.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n?.message});Ua.warn(r.message)}}})).apply(this,arguments)}function BM(t){return`${t.name}!${t.options.appId}`}class _re{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=HM();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=HM(),{heartbeatsToSend:r,unsentEntries:i}=function vre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=$g(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function HM(){return(new Date).toISOString().substring(0,10)}class yre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!yf()&&O4().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function pre(t){return Y4.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return LM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return LM(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function zM(t){return $g(JSON.stringify({version:2,heartbeats:t})).length}!function Ere(t){Ti(new oi("platform-logger",e=>new One(e),"PRIVATE")),Ti(new oi("heartbeat",e=>new _re(e),"PRIVATE")),cn(q4,"0.9.22",t),cn(q4,"0.9.22","esm2017"),cn("fire-js","")}(""),cn("firebase","10.5.2","app");class Ire extends J{constructor(e,n){super()}schedule(e,n=0){return this}}const Qg={setInterval(t,e,...n){const{delegate:r}=Qg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Qg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class UM extends Ire{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Qg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Qg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,z(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const jM={now:()=>(jM.delegate||Date).now(),delegate:void 0};class Af{constructor(e,n=Af.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Af.now=jM.now;class $M extends Af{constructor(e,n=Af.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Are=new class wre extends $M{}(class bre extends UM{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Tre=new $M(UM);function Xn(t,e,n){const r=P(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ve((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(rt(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):ye}const Ho=new dl("ANGULARFIRE2_VERSION");function Xg(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const Jg=(t,e)=>{const n=e?[e]:FM(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class X4{constructor(){return Jg(GM)}}const GM="app-check";function Fl(){}class qM{constructor(e,n=Are){vt(this,"zone",void 0),vt(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Sre{constructor(e){vt(this,"zone",void 0),vt(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl)),n.pipe(Xn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tf=(()=>{var t;class e{constructor(r){vt(this,"ngZone",void 0),vt(this,"outsideAngular",void 0),vt(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new qM(Zone.current)),this.insideAngular=r.run(()=>new qM(Zone.current,Tre)),globalThis.\u0275AngularFireScheduler||=this}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(pt))}),vt(e,"\u0275prov",be({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Vl(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function $a(t){return Vl().ngZone.run(()=>t())}function Mre(t){return function Rre(t){return function(n){return(n=n.lift(new Sre(t.ngZone))).pipe(t0(t.outsideAngular),e0(t.insideAngular))}}(Vl())(t)}const kre=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),$a(()=>t.apply(void 0,r))},xn=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||=$a(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fl,{},Fl,Fl))),r[s]=kre(r[s],n));const i=function Pre(t){return Vl().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof fe){const s=Vl();return i.pipe(t0(s.outsideAngular),e0(s.insideAngular))}return $a(()=>i)}return i instanceof fe?i.pipe(Mre):i instanceof Promise?$a(()=>new Promise((s,o)=>i.then(a=>$a(()=>s(a)),a=>$a(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:$a(()=>i)};class Ga{constructor(e){return e}}class Df{constructor(){return FM()}}const J4=new xe("angularfire2._apps"),Ore={provide:Ga,useFactory:function Nre(t){return t&&1===t.length?t[0]:new Ga(Ol())},deps:[[new zt,J4]]},Fre={provide:Df,deps:[[new zt,J4]]};function Vre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ga(r)}}let Lre=(()=>{var t;class e{constructor(r){cn("angularfire",Ho.full,"core"),cn("angularfire",Ho.full,"app"),cn("angular",dT.full,r.toString())}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(os))}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",xt({providers:[Ore,Fre]})),e})();function eo(t,...e){return{ngModule:Lre,providers:[{provide:J4,useFactory:Vre(t),multi:!0,deps:[pt,Dn,Tf,...e]}]}}const to=xn(Ol,!0),no=xn(OM,!0);const Bre=function WM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},KM=new Lo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zg=new bf("@firebase/auth");function e1(t,...e){Zg.logLevel<=ct.ERROR&&Zg.error(`Auth (${Nl}): ${t}`,...e)}function Kr(t,...e){throw Z4(t,...e)}function ai(t,...e){return Z4(t,...e)}function YM(t,e,n){const r=Object.assign(Object.assign({},Bre()),{[e]:n});return new Lo("auth","Firebase",r).create(e,{appName:t.name})}function Z4(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KM.create(t,...e)}function ge(t,e,...n){if(!t)throw Z4(e,...n)}function _s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw e1(e),new Error(e)}function ro(t,e){t||_s(e)}function Sf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function QM(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ro(n>e,"Short delay should be less than long delay!"),this.isMobile=function ene(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}()||function nne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function zre(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function e6(){return"http:"===QM()||"https:"===QM()}()||N4()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function t6(t,e){ro(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class XM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void _s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void _s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void _s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$re=new Pf(3e4,6e4);function Xt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function nn(t,e,n,r){return n6.apply(this,arguments)}function n6(){return(n6=v(function*(t,e,n,r,i={}){return JM(t,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=xf(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),XM.fetch()(ZM(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function JM(t,e,n){return r6.apply(this,arguments)}function r6(){return(r6=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},jre),e);try{const i=new qre(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Mf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Mf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Mf(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Mf(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw YM(t,u,l);Kr(t,u)}}catch(i){if(i instanceof ji)throw i;Kr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function io(t,e,n,r){return i6.apply(this,arguments)}function i6(){return(i6=v(function*(t,e,n,r,i={}){const s=yield nn(t,e,n,r,i);return"mfaPendingCredential"in s&&Kr(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function ZM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?t6(t.config,i):`${t.config.apiScheme}://${i}`}function Gre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qre{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),$re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ai(t,e,r);return i.customData._tokenResponse=n,i}function tR(t){return void 0!==t&&void 0!==t.enterprise}class nR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Gre(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function rR(t,e){return o6.apply(this,arguments)}function o6(){return(o6=v(function*(t,e){return nn(t,"GET","/v2/recaptchaConfig",Xt(t,e))})).apply(this,arguments)}function a6(){return(a6=v(function*(t,e){return nn(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function l6(){return(l6=v(function*(t,e){return nn(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Rf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function u6(){return(u6=v(function*(t,e=!1){const n=an(t),r=yield n.getIdToken(e),i=t1(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Rf(d6(i.auth_time)),issuedAtTime:Rf(d6(i.iat)),expirationTime:Rf(d6(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function d6(t){return 1e3*Number(t)}function t1(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return e1("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gg(n);return i?JSON.parse(i):(e1("Failed to decode base64 JWT payload"),null)}catch(i){return e1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function so(t,e){return f6.apply(this,arguments)}function f6(){return(f6=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ji&&function Zre({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class eie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class iR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rf(this.lastLoginAt),this.creationTime=Rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kf(t){return h6.apply(this,arguments)}function h6(){return h6=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield so(t,function Qre(t,e){return l6.apply(this,arguments)}(n,{idToken:r}));ge(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function rie(t){return t.map(e=>{var{providerId:n}=e,r=ir(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function nie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new iR(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),h6.apply(this,arguments)}function p6(){return(p6=v(function*(t){const e=an(t);yield kf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function g6(){return(g6=v(function*(t,e){const n=yield JM(t,{},v(function*(){const r=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ZM(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XM.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Nf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Jre(t){const e=t1(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return ge(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function iie(t,e){return g6.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Nf;return r&&(ge("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(ge("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(ge("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nf,this.toJSON())}_performRefresh(){return _s("not implemented")}}function zo(t,e){ge("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class qa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ir(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new iR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield so(n,n.stsTokenManager.getToken(n.auth,e));return ge(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Xre(t){return u6.apply(this,arguments)}(this,e)}reload(){return function tie(t){return p6.apply(this,arguments)}(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield kf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield so(e,function Kre(t,e){return a6.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,S=null!==(l=n.createdAt)&&void 0!==l?l:void 0,w=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:U,emailVerified:Y,isAnonymous:he,providerData:Re,stsTokenManager:Qe}=n;ge(U&&Qe,e,"internal-error");const en=Nf.fromJSON(this.name,Qe);ge("string"==typeof U,e,"internal-error"),zo(d,e.name),zo(f,e.name),ge("boolean"==typeof Y,e,"internal-error"),ge("boolean"==typeof he,e,"internal-error"),zo(h,e.name),zo(p,e.name),zo(g,e.name),zo(y,e.name),zo(S,e.name),zo(w,e.name);const kn=new qa({uid:U,auth:e,email:f,emailVerified:Y,displayName:d,isAnonymous:he,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:en,createdAt:S,lastLoginAt:w});return Re&&Array.isArray(Re)&&(kn.providerData=Re.map(Ea=>Object.assign({},Ea))),y&&(kn._redirectEventId=y),kn}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new Nf;i.updateFromServerResponse(n);const s=new qa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield kf(s),s})()}}const sR=new Map;function oo(t){ro(t instanceof Function,"Expected a class definition");let e=sR.get(t);return e?(ro(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sR.set(t,e),e)}const oR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function n1(t,e,n){return`firebase:${t}:${e}:${n}`}class Bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=n1(this.userKey,i.apiKey,s),this.fullPersistenceKey=n1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?qa._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new Bl(oo(oR),e,r);const i=(yield Promise.all(n.map(function(){var l=v(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||oo(oR);const o=n1(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=qa._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Bl(s,e,r)):new Bl(s,e,r)})()}}function aR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fR(e))return"Blackberry";if(hR(e))return"Webos";if(m6(e))return"Safari";if((e.includes("chrome/")||lR(e))&&!e.includes("edge/"))return"Chrome";if(dR(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function cR(t=Fn()){return/firefox\//i.test(t)}function m6(t=Fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lR(t=Fn()){return/crios\//i.test(t)}function uR(t=Fn()){return/iemobile/i.test(t)}function dR(t=Fn()){return/android/i.test(t)}function fR(t=Fn()){return/blackberry/i.test(t)}function hR(t=Fn()){return/webos/i.test(t)}function r1(t=Fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pR(t=Fn()){return r1(t)||dR(t)||hR(t)||fR(t)||/windows phone/i.test(t)||uR(t)}function gR(t,e=[]){let n;switch(t){case"Browser":n=aR(Fn());break;case"Worker":n=`${aR(Fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nl}/${r}`}class cie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function _6(){return(_6=v(function*(t,e={}){return nn(t,"GET","/v2/passwordPolicy",Xt(t,e))})).apply(this,arguments)}class die{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class fie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mR(this),this.idTokenSubscription=new mR(this),this.beforeStateQueue=new cie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=oo(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Bl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return ge(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield kf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ure(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?an(e):null;return r&&ge(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&ge(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(oo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return v(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return v(function*(){const n=yield function lie(t){return _6.apply(this,arguments)}(e),r=new die(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&oo(e)||n._popupRedirectResolver;ge(r,n,"argument-error"),n.redirectPersistenceManager=yield Bl.create(n,[oo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Hre(t,...e){Zg.logLevel<=ct.WARN&&Zg.warn(`Auth (${Nl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Cn(t){return an(t)}class mR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function cne(t,e){const n=new lne(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function v6(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ai("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function hie(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function _R(t){return`__${t}${Math.floor(1e6*Math.random())}`}class vR{constructor(e){this.type="recaptcha-enterprise",this.auth=Cn(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=v(function*(l,u){rR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new nR(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;tR(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&tR(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));v6("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function yR(t,e,n){return y6.apply(this,arguments)}function y6(){return(y6=v(function*(t,e,n,r=!1){const i=new vR(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function E6(){return E6=v(function*(t,e,n,r){var i;if(null!==(i=t._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield yR(t,e,n,"getOobCode"===n);return r(t,s)}return r(t,e).catch(function(){var s=v(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield yR(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),E6.apply(this,arguments)}function ER(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class C6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}function IR(t,e){return b6.apply(this,arguments)}function b6(){return(b6=v(function*(t,e){return nn(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function bie(t,e){return A6.apply(this,arguments)}function A6(){return(A6=v(function*(t,e){return io(t,"POST","/v1/accounts:signInWithPassword",Xt(t,e))})).apply(this,arguments)}function R6(){return(R6=v(function*(t,e){return io(t,"POST","/v1/accounts:signInWithEmailLink",Xt(t,e))})).apply(this,arguments)}function k6(){return(k6=v(function*(t,e){return io(t,"POST","/v1/accounts:signInWithEmailLink",Xt(t,e))})).apply(this,arguments)}class Of extends C6{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Of(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Of(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return v(function*(){switch(n.signInMethod){case"password":return function i1(t,e,n,r){return E6.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",bie);case"emailLink":return function Sie(t,e){return R6.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Kr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return v(function*(){switch(r.signInMethod){case"password":return IR(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Pie(t,e){return k6.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Kr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function ao(t,e){return N6.apply(this,arguments)}function N6(){return(N6=v(function*(t,e){return io(t,"POST","/v1/accounts:signInWithIdp",Xt(t,e))})).apply(this,arguments)}class Hl extends C6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ir(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return ao(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xf(n)}return e}}class Vf{constructor(e){var n,r,i,s,o,a;const c=Cf(If(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function Vie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);ge(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Lie(t){const e=Cf(If(t)).link,n=e?Cf(If(e)).deep_link_id:null,r=Cf(If(t)).deep_link_id;return(r?Cf(If(r)).link:null)||r||n||e||t}(e);try{return new Vf(n)}catch{return null}}}let bR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Of._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Vf.parseLink(r);return ge(i,"argument-error"),Of._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Uo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wR extends Uo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Bie=(()=>{class t extends wR{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Hl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(function*(){const s=yield qa._fromIdTokenResponse(e,r,i),o=TR(r);return new Di({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=TR(r);return new Di({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function TR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class a1 extends ji{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,a1.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new a1(e,n,r,i)}}function DR(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?a1._fromErrorAndOperation(t,s,e,r):s})}function $6(){return($6=v(function*(t,e,n=!1){const r=yield so(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Di._forOperation(t,"link",r)})).apply(this,arguments)}function q6(){return(q6=v(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield so(t,DR(r,i,e,t),n);ge(s.idToken,r,"internal-error");const o=t1(s.idToken);ge(o,r,"internal-error");const{sub:a}=o;return ge(t.uid===a,r,"user-mismatch"),Di._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Kr(r,"user-mismatch"),s}})).apply(this,arguments)}function MR(t,e){return W6.apply(this,arguments)}function W6(){return(W6=v(function*(t,e,n=!1){const r="signIn",i=yield DR(t,r,e),s=yield Di._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Y6(){return(Y6=v(function*(t,e){return MR(Cn(t),e)})).apply(this,arguments)}function i3(){return(i3=v(function*(t){const e=Cn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function qie(t,e,n){return function K6(t,e){return Y6.apply(this,arguments)}(an(t),bR.credential(e,n)).catch(function(){var r=v(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&function r3(t){return i3.apply(this,arguments)}(t),i});return function(i){return r.apply(this,arguments)}}())}const u1="__sak";class kR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(u1,"1"),this.storage.removeItem(u1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const use=(()=>{class t extends kR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ase(){const t=Fn();return m6(t)||r1(t)}()&&function aie(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function oie(){return function rne(){const t=Fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),NR=(()=>{class t extends kR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let fse=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=v(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function dse(t){return Promise.all(t.map(function(){var e=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function d1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class hse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=d1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function In(){return window}function A3(){return typeof In().WorkerGlobalScope<"u"&&"function"==typeof In().importScripts}function T3(){return(T3=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const OR="firebaseLocalStorageDb",f1="firebaseLocalStorage",FR="fbase_key";class Bf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function h1(t,e){return t.transaction([f1],e?"readwrite":"readonly").objectStore(f1)}function D3(){const t=indexedDB.open(OR,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(f1,{keyPath:FR})}catch(i){n(i)}}),t.addEventListener("success",v(function*(){const r=t.result;r.objectStoreNames.contains(f1)?e(r):(r.close(),yield function yse(){const t=indexedDB.deleteDatabase(OR);return new Bf(t).toPromise()}(),e(yield D3()))}))})}function VR(t,e,n){return S3.apply(this,arguments)}function S3(){return(S3=v(function*(t,e,n){const r=h1(t,!0).put({[FR]:e,value:n});return new Bf(r).toPromise()})).apply(this,arguments)}function P3(){return(P3=v(function*(t,e){const n=h1(t,!1).get(e),r=yield new Bf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function LR(t,e){const n=h1(t,!0).delete(e);return new Bf(n).toPromise()}const Ise=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield D3()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return A3()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=fse._getInstance(function _se(){return A3()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function gse(){return T3.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new hse(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function mse(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield D3();return yield VR(n,u1,"1"),yield LR(n,u1),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>VR(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(s=>function Ese(t,e){return P3.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>LR(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(o=>{const a=h1(o,!1).getAll();return new Bf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Ka(t,e){return e?oo(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}_R("rcb"),new Pf(3e4,6e4);class B3 extends C6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Bse(t){return MR(t.auth,new B3(t),t.bypassAuthState)}function Hse(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),function PR(t,e){return q6.apply(this,arguments)}(n,new B3(t),t.bypassAuthState)}function zse(t){return H3.apply(this,arguments)}function H3(){return(H3=v(function*(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),function j6(t,e){return $6.apply(this,arguments)}(n,new B3(t),t.bypassAuthState)})).apply(this,arguments)}class HR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bse;case"linkViaPopup":case"linkViaRedirect":return zse;case"reauthViaPopup":case"reauthViaRedirect":return Hse;default:Kr(this.auth,"internal-error")}}resolve(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Use=new Pf(2e3,1e4);function jse(t,e,n){return z3.apply(this,arguments)}function z3(){return(z3=v(function*(t,e,n){const r=Cn(t);!function Ll(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Kr(t,"argument-error"),YM(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Uo);const i=Ka(r,n);return new $3(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let $3=(()=>{class t extends HR{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return v(function*(){const r=yield n.execute();return ge(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return v(function*(){ro(1===n.filter.length,"Popup operations only handle one event");const r=d1();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(ai(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(n,Use.get())};n()}}return t.currentPopupAction=null,t})();const $se="pendingRedirect",Hf=new Map;class Gse extends HR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return v(function*(){let r=Hf.get(n.auth._key());if(!r){try{const s=(yield function qse(t,e){return G3.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Hf.set(n.auth._key(),r)}return n.bypassAuthState||Hf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function G3(){return(G3=v(function*(t,e){const n=function UR(t){return n1($se,t.config.apiKey,t.name)}(e),r=function zR(t){return oo(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Wse(t,e){Hf.set(t._key(),e)}function jR(t,e){return J3.apply(this,arguments)}function J3(){return(J3=v(function*(t,e,n=!1){const r=Cn(t),i=Ka(r,e),o=yield new Gse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Jse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Zse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qR(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qR(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(GR(e))}saveEventToCache(e){this.cachedEventUids.add(GR(e)),this.lastProcessedEventTime=Date.now()}}function GR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qR({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function eE(){return(eE=v(function*(t,e={}){return nn(t,"GET","/v1/projects",e)})).apply(this,arguments)}const toe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,noe=/^https?/;function tE(){return tE=v(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function eoe(t){return eE.apply(this,arguments)}(t);for(const n of e)try{if(ioe(n))return}catch{}Kr(t,"unauthorized-domain")}),tE.apply(this,arguments)}function ioe(t){const e=Sf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!noe.test(n))return!1;if(toe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const soe=new Pf(3e4,6e4);function WR(){const t=In().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let g1=null;const coe=new Pf(5e3,15e3),loe="__/auth/iframe",uoe="emulator/auth/iframe",doe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},foe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hoe(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?t6(e,uoe):`https://${t.config.authDomain}/${loe}`,r={apiKey:e.apiKey,appName:t.name,v:Nl},i=foe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xf(r).slice(1)}`}function nE(){return nE=v(function*(t){const e=yield function aoe(t){return g1=g1||function ooe(t){return new Promise((e,n)=>{var r,i,s;function o(){WR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WR(),n(ai(t,"network-request-failed"))},timeout:soe.get()})}if(null!==(i=null===(r=In().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=In().gapi)||void 0===s||!s.load){const a=_R("iframefcb");return In()[a]=()=>{gapi.load?o():n(ai(t,"network-request-failed"))},v6(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw g1=null,e})}(t),g1}(t),n=In().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:hoe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:doe,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ai(t,"network-request-failed"),c=In().setTimeout(()=>{o(a)},coe.get());function l(){In().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),nE.apply(this,arguments)}const goe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class KR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Coe="__/auth/handler",Ioe="emulator/auth/handler",boe=encodeURIComponent("fac");function YR(t,e,n,r,i,s){return rE.apply(this,arguments)}function rE(){return(rE=v(function*(t,e,n,r,i,s){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nl,eventId:i};if(e instanceof Uo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function ane(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof wR){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${boe}=${encodeURIComponent(c)}`:"";return`${function woe({config:t}){return t.emulator?t6(t,Ioe):`https://${t.authDomain}/${Coe}`}(t)}?${xf(a).slice(1)}${l}`})).apply(this,arguments)}const iE="webStorageSupport",Toe=class Aoe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NR,this._completeRedirectFn=jR,this._overrideRedirectResult=Wse}_openPopup(e,n,r,i){var s=this;return v(function*(){var o;ro(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield YR(e,n,r,Sf(),i);return function Eoe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},goe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Fn().toLowerCase();n&&(a=lR(l)?"_blank":n),cR(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(function sie(t=Fn()){var e;return r1(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function xoe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new KR(null);const d=window.open(e||"",a,u);ge(d,t,"popup-blocked");try{d.focus()}catch{}return new KR(d)}(e,a,d1())})()}_openRedirect(e,n,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function pse(t){In().location.href=t}(yield YR(e,n,r,Sf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ro(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return v(function*(){const r=yield function poe(t){return nE.apply(this,arguments)}(e),i=new Jse(e);return r.register("authEvent",s=>(ge(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iE,{type:iE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[iE];void 0!==o&&n(!!o),Kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function roe(t){return tE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pR()||m6()||r1()}};var JR="@firebase/auth";class Doe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Roe=bM("authIdTokenMaxAge")||300;let e9=null;const koe=t=>function(){var e=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Roe)return;const s=r?.token;e9!==s&&(e9=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Noe(t=Ol()){const e=ms(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function vie(t,e){const n=ms(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Ef(n.getOptions(),e??{}))return i;Kr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Toe,persistence:[Ise,use,NR]}),r=bM("authTokenSyncURL");if(r){const s=koe(r);(function tse(t,e,n){an(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function ese(t,e,n,r){an(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=CM("auth");return i&&function Eie(t,e,n){const r=Cn(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=ER(e),{host:o,port:a}=function xie(t){const e=ER(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xR(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:xR(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Cie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Ooe(t){return new fe(function(e){var n=function nse(t,e,n,r){return an(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Poe(t){Ti(new oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gR(t)},l=new fie(r,i,s,c);return function yie(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(oo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ti(new oi("auth-internal",e=>{const n=Cn(e.getProvider("auth").getImmediate());return new Doe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cn(JR,"1.3.2",function Soe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),cn(JR,"1.3.2","esm2017")}("Browser");class zf{constructor(e){return e}}class n9{constructor(){return Jg("auth")}}const oE=new xe("angularfire2.auth-instances");function Loe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new zf(r)}}const Boe={provide:n9,deps:[[new zt,oE]]},Hoe={provide:zf,useFactory:function Voe(t,e){const n=Xg("auth",t,e);return n&&new zf(n)},deps:[[new zt,oE],Ga]};let zoe=(()=>{var t;class e{constructor(){cn("angularfire",Ho.full,"auth")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",xt({providers:[Hoe,Boe]})),e})();function jo(t,...e){return{ngModule:zoe,providers:[{provide:oE,useFactory:Loe(t),multi:!0,deps:[pt,Dn,Tf,Df,[new zt,X4],...e]}]}}const r9=xn(Ooe,!0),$o=xn(Noe,!0),Uoe=xn(qie,!0),joe=xn(jse,!0);var Ce,$oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$i={},aE=aE||{},qe=$oe||self;function _1(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Uf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var cE="closure_uid_"+(1e9*Math.random()>>>0),qoe=0;function Woe(t,e,n){return t.call.apply(t.bind,arguments)}function Koe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dr(t,e,n){return(dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Woe:Koe).apply(null,arguments)}function v1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Vn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Go(){this.s=this.s,this.o=this.o}Go.prototype.s=!1,Go.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Goe(t){Object.prototype.hasOwnProperty.call(t,cE)&&t[cE]||(t[cE]=++qoe)}(this)},Go.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const i9=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function lE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function s9(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(_1(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function fr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}fr.prototype.h=function(){this.defaultPrevented=!0};var Qoe=function(){if(!qe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{qe.addEventListener("test",()=>{},e),qe.removeEventListener("test",()=>{},e)}catch{}return t}();function jf(t){return/^[\s\xa0]*$/.test(t)}function y1(){var t=qe.navigator;return t&&(t=t.userAgent)?t:""}function vs(t){return-1!=y1().indexOf(t)}function uE(t){return uE[" "](t),t}uE[" "]=function(){};var fE,t,Joe=vs("Opera"),zl=vs("Trident")||vs("MSIE"),o9=vs("Edge"),dE=o9||zl,a9=vs("Gecko")&&!(-1!=y1().toLowerCase().indexOf("webkit")&&!vs("Edge"))&&!(vs("Trident")||vs("MSIE"))&&!vs("Edge"),Zoe=-1!=y1().toLowerCase().indexOf("webkit")&&!vs("Edge");function c9(){var t=qe.document;return t?t.documentMode:void 0}e:{var hE="",pE=(t=y1(),a9?/rv:([^\);]+)(\)|;)/.exec(t):o9?/Edge\/([\d\.]+)/.exec(t):zl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zoe?/WebKit\/(\S+)/.exec(t):Joe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(pE&&(hE=pE?pE[1]:""),zl){var gE=c9();if(null!=gE&&gE>parseFloat(hE)){fE=String(gE);break e}}fE=hE}var eae=qe.document&&zl&&(c9()||parseInt(fE,10))||void 0;function $f(t,e){if(fr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(a9){e:{try{uE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tae[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$f.$.h.call(this)}}Vn($f,fr);var tae={2:"touch",3:"pen",4:"mouse"};$f.prototype.h=function(){$f.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gf="closure_listenable_"+(1e6*Math.random()|0),nae=0;function rae(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++nae,this.fa=this.ia=!1}function E1(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function _E(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function u9(t){const e={};for(const n in t)e[n]=t[n];return e}const d9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f9(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<d9.length;s++)n=d9[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function x1(t){this.src=t,this.g={},this.h=0}function vE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=i9(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(E1(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function yE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}x1.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=yE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new rae(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var EE="closure_lm_"+(1e6*Math.random()|0),xE={};function h9(t,e,n,r,i){if(r&&r.once)return g9(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)h9(t,e[s],n,r,i);return null}return n=wE(n),t&&t[Gf]?t.O(e,n,Uf(r)?!!r.capture:!!r,i):p9(t,e,n,!1,r,i)}function p9(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Uf(i)?!!i.capture:!!i,a=IE(t);if(a||(t[EE]=a=new x1(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function sae(){const e=oae;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Qoe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_9(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function g9(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)g9(t,e[s],n,r,i);return null}return n=wE(n),t&&t[Gf]?t.P(e,n,Uf(r)?!!r.capture:!!r,i):p9(t,e,n,!0,r,i)}function m9(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)m9(t,e[s],n,r,i);else r=Uf(r)?!!r.capture:!!r,n=wE(n),t&&t[Gf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=yE(s=t.g[e],n,r,i))&&(E1(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=IE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yE(e,n,r,i)),(n=-1<t?e[t]:null)&&CE(n))}function CE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Gf])vE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=IE(e))?(vE(n,t),0==n.h&&(n.src=null,e[EE]=null)):E1(t)}}}function _9(t){return t in xE?xE[t]:xE[t]="on"+t}function oae(t,e){if(t.fa)t=!0;else{e=new $f(e,this);var n=t.listener,r=t.la||t.src;t.ia&&CE(t),t=n.call(r,e)}return t}function IE(t){return(t=t[EE])instanceof x1?t:null}var bE="__closure_events_fn_"+(1e9*Math.random()>>>0);function wE(t){return"function"==typeof t?t:(t[bE]||(t[bE]=function(e){return t.handleEvent(e)}),t[bE])}function Ln(){Go.call(this),this.i=new x1(this),this.S=this,this.J=null}function Jn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new fr(e,t);else if(e instanceof fr)e.target=e.target||t;else{var i=e;f9(e=new fr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=C1(o,r,!0,e)&&i}if(i=C1(o=e.g=t,r,!0,e)&&i,i=C1(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=C1(o=e.g=n[s],r,!1,e)&&i}function C1(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&vE(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Vn(Ln,Go),Ln.prototype[Gf]=!0,Ln.prototype.removeEventListener=function(t,e,n,r){m9(this,t,e,n,r)},Ln.prototype.N=function(){if(Ln.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)E1(n[r]);delete t.g[e],t.h--}}this.J=null},Ln.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ln.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var AE=qe.JSON.stringify;function cae(){var t=TE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var v9=new class aae{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new uae,t=>t.reset());class uae{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dae(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function fae(t){qe.setTimeout(()=>{throw t},0)}let qf,Wf=!1,TE=new class lae{constructor(){this.h=this.g=null}add(e,n){const r=v9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},y9=()=>{const t=qe.Promise.resolve(void 0);qf=()=>{t.then(hae)}};var hae=()=>{for(var t;t=cae();){try{t.h.call(t.g)}catch(n){fae(n)}var e=v9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Wf=!1};function I1(t,e){Ln.call(this),this.h=t||1,this.g=e||qe,this.j=dr(this.qb,this),this.l=Date.now()}function DE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function SE(t,e,n){if("function"==typeof t)n&&(t=dr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=dr(t.handleEvent,t)}return 2147483647<Number(e)?-1:qe.setTimeout(t,e||0)}function E9(t){t.g=SE(()=>{t.g=null,t.i&&(t.i=!1,E9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Vn(I1,Ln),(Ce=I1.prototype).ga=!1,Ce.T=null,Ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jn(this,"tick"),this.ga&&(DE(this),this.start()))}},Ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ce.N=function(){I1.$.N.call(this),DE(this),delete this.g};class pae extends Go{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:E9(this)}N(){super.N(),this.g&&(qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kf(t){Go.call(this),this.h=t,this.g={}}Vn(Kf,Go);var x9=[];function C9(t,e,n,r){Array.isArray(n)||(n&&(x9[0]=n.toString()),n=x9);for(var i=0;i<n.length;i++){var s=h9(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function I9(t){_E(t.g,function(e,n){this.g.hasOwnProperty(n)&&CE(e)},t),t.g={}}function b1(){this.g=!0}function Ul(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return AE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Kf.prototype.N=function(){Kf.$.N.call(this),I9(this)},Kf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},b1.prototype.Ea=function(){this.g=!1},b1.prototype.info=function(){};var Ya={},b9=null;function w1(){return b9=b9||new Ln}function w9(t){fr.call(this,Ya.Ta,t)}function Yf(t){const e=w1();Jn(e,new w9(e))}function A9(t,e){fr.call(this,Ya.STAT_EVENT,t),this.stat=e}function Dr(t){const e=w1();Jn(e,new A9(e,t))}function T9(t,e){fr.call(this,Ya.Ua,t),this.size=e}function Qf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return qe.setTimeout(function(){t()},e)}Ya.Ta="serverreachability",Vn(w9,fr),Ya.STAT_EVENT="statevent",Vn(A9,fr),Ya.Ua="timingevent",Vn(T9,fr);var A1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},D9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function PE(){}function P9(){}PE.prototype.h=null;var kE,Xf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ME(){fr.call(this,"d")}function RE(){fr.call(this,"c")}function T1(){}function Jf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Kf(this),this.P=yae,this.V=new I1(t=dE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new M9}function M9(){this.i=null,this.g="",this.h=!1}Vn(ME,fr),Vn(RE,fr),Vn(T1,PE),T1.prototype.g=function(){return new XMLHttpRequest},T1.prototype.i=function(){return{}},kE=new T1;var yae=45e3,NE={},D1={};function OE(t,e,n){t.L=1,t.v=R1(co(e)),t.s=n,t.S=!0,R9(t,null)}function R9(t,e){t.G=Date.now(),Zf(t),t.A=co(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),U9(n.i,"t",r),t.C=0,n=t.l.J,t.h=new M9,t.g=fk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new pae(dr(t.Pa,t,t.g),t.O)),C9(t.U,t.g,"readystatechange",t.nb),e=t.I?u9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Yf(),function gae(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function k9(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function N9(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Eae(t,n),i==D1){4==e&&(t.o=4,Dr(14),r=!1),Ul(t.j,t.m,null,"[Incomplete Response]");break}if(i==NE){t.o=4,Dr(15),Ul(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ul(t.j,t.m,i,null),FE(t,i)}k9(t)&&i!=D1&&i!=NE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Dr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jE(e),e.M=!0,Dr(11))):(Ul(t.j,t.m,n,"[Invalid Chunked Response]"),Qa(t),eh(t))}function Eae(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?D1:(n=Number(e.substring(n,r)),isNaN(n)?NE:(r+=1)+n>e.length?D1:(e=e.slice(r,r+n),t.C=r+n,e))}function Zf(t){t.Y=Date.now()+t.P,O9(t,t.P)}function O9(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Qf(dr(t.lb,t),e)}function S1(t){t.B&&(qe.clearTimeout(t.B),t.B=null)}function eh(t){0==t.l.H||t.J||ck(t.l,t)}function Qa(t){S1(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,DE(t.V),I9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function FE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||VE(n.i,t)))if(!t.K&&VE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;L1(n),F1(n)}UE(n),Dr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Qf(dr(n.ib,n),6e3));if(1>=G9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ja(n,11)}else if((t.K||n.g==t)&&L1(n),!jf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(LE(s,s.h),s.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,jt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=dk(r,r.J?r.pa:null,r.Y),o.K){q9(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(S1(a),Zf(a)),r.g=o}else ok(r);0<n.j.length&&V1(n)}else"stop"!=l[0]&&"close"!=l[0]||Ja(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ja(n,7):zE(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Yf()}catch{}}function F9(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(_1(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Cae(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_1(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function xae(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(_1(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(Ce=Jf.prototype).setTimeout=function(t){this.P=t},Ce.nb=function(t){t=t.target;const e=this.M;e&&3==ys(t)?e.l():this.Pa(t)},Ce.Pa=function(t){try{if(t==this.g)e:{const u=ys(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||dE||this.g&&(this.h.h||this.g.ja()||ek(this.g)))){this.J||4!=u||7==e||Yf(),S1(this);var n=this.g.da();this.ca=n;t:if(k9(this)){var r=ek(this.g);t="";var i=r.length,s=4==ys(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qa(this),eh(this);var o="";break t}this.h.i=new qe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function mae(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Dr(12),Qa(this),eh(this);break e}Ul(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,FE(this,n)}this.S?(N9(this,u,o),dE&&this.i&&3==u&&(C9(this.U,this.V,"tick",this.mb),this.V.start())):(Ul(this.j,this.m,o,null),FE(this,o)),4==u&&Qa(this),this.i&&!this.J&&(4==u?ck(this.l,this):(this.i=!1,Zf(this)))}else(function Hae(t){const e={};t=(t.g&&2<=ys(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(jf(t[r]))continue;var n=dae(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function iae(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Dr(12)):(this.o=0,Dr(13)),Qa(this),eh(this)}}}catch{}},Ce.mb=function(){if(this.g){var t=ys(this.g),e=this.g.ja();this.C<e.length&&(S1(this),N9(this,t,e),this.i&&4!=t&&Zf(this))}},Ce.cancel=function(){this.J=!0,Qa(this)},Ce.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function _ae(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yf(),Dr(17)),Qa(this),this.o=2,eh(this)):O9(this,this.Y-t)};var V9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xa){this.h=t.h,P1(this,t.j),this.s=t.s,this.g=t.g,M1(this,t.m),this.l=t.l;var e=t.i,n=new rh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),L9(this,n),this.o=t.o}else t&&(e=String(t).match(V9))?(this.h=!1,P1(this,e[1]||"",!0),this.s=th(e[2]||""),this.g=th(e[3]||"",!0),M1(this,e[4]),this.l=th(e[5]||"",!0),L9(this,e[6]||"",!0),this.o=th(e[7]||"")):(this.h=!1,this.i=new rh(null,this.h))}function co(t){return new Xa(t)}function P1(t,e,n){t.j=n?th(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function M1(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function L9(t,e,n){e instanceof rh?(t.i=e,function Sae(t,e){e&&!t.j&&(qo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(H9(this,r),U9(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=nh(e,Tae)),t.i=new rh(e,t.h))}function jt(t,e,n){t.i.set(e,n)}function R1(t){return jt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function th(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,bae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bae(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nh(e,B9,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(nh(e,B9,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(nh(n,"/"==n.charAt(0)?Aae:wae,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nh(n,Dae)),t.join("")};var B9=/[#\/\?@]/g,wae=/[#\?:]/g,Aae=/[#\?]/g,Tae=/[#\?@]/g,Dae=/#/g;function rh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qo(t){t.g||(t.g=new Map,t.h=0,t.i&&function Iae(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function H9(t,e){qo(t),e=jl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function z9(t,e){return qo(t),e=jl(t,e),t.g.has(e)}function U9(t,e,n){H9(t,e),0<n.length&&(t.i=null,t.g.set(jl(t,e),lE(n)),t.h+=n.length)}function jl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function j9(t){this.l=t||Mae,t=qe.PerformanceNavigationTiming?0<(t=qe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(qe.g&&qe.g.Ka&&qe.g.Ka()&&qe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ce=rh.prototype).add=function(t,e){qo(this),this.i=null,t=jl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ce.forEach=function(t,e){qo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ce.ta=function(){qo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},Ce.Z=function(t){qo(this);let e=[];if("string"==typeof t)z9(this,t)&&(e=e.concat(this.g.get(jl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ce.set=function(t,e){return qo(this),this.i=null,z9(this,t=jl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ce.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Mae=10;function $9(t){return!!t.h||!!t.g&&t.g.size>=t.j}function G9(t){return t.h?1:t.g?t.g.size:0}function VE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function LE(t,e){t.g?t.g.add(e):t.h=e}function q9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function W9(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return lE(t.i)}j9.prototype.cancel=function(){if(this.i=W9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Rae=class{stringify(t){return qe.JSON.stringify(t,void 0)}parse(t){return qe.JSON.parse(t,void 0)}};function kae(){this.g=new Rae}function Nae(t,e,n){const r=n||"";try{F9(t,function(i,s){let o=i;Uf(i)&&(o=AE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function k1(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ih(t){this.l=t.ec||null,this.j=t.ob||!1}function N1(t,e){Ln.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=BE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vn(ih,PE),ih.prototype.g=function(){return new N1(this.l,this.j)},ih.prototype.i=function(t){return function(){return t}}({}),Vn(N1,Ln);var BE=0;function K9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function sh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,oh(t)}function oh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ce=N1.prototype).open=function(t,e){if(this.readyState!=BE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,oh(this)},Ce.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||qe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sh(this)),this.readyState=BE},Ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,oh(this)),this.g&&(this.readyState=3,oh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof qe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sh(this):oh(this),3==this.readyState&&K9(this)}},Ce.Za=function(t){this.g&&(this.response=this.responseText=t,sh(this))},Ce.Ya=function(t){this.g&&(this.response=t,sh(this))},Ce.ka=function(){this.g&&sh(this)},Ce.setRequestHeader=function(t,e){this.v.append(t,e)},Ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(N1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Fae=qe.JSON.parse;function ln(t){Ln.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Y9,this.L=this.M=!1}Vn(ln,Ln);var Y9="",Vae=/^https?$/i,Lae=["POST","PUT"];function Q9(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,X9(t),O1(t)}function X9(t){t.F||(t.F=!0,Jn(t,"complete"),Jn(t,"error"))}function J9(t){if(t.h&&typeof aE<"u"&&(!t.C[1]||4!=ys(t)||2!=t.da()))if(t.v&&4==ys(t))SE(t.La,0,t);else if(Jn(t,"readystatechange"),4==ys(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(V9)[1]||null;!i&&qe.self&&qe.self.location&&(i=qe.self.location.protocol.slice(0,-1)),r=!Vae.test(i?i.toLowerCase():"")}n=r}if(n)Jn(t,"complete"),Jn(t,"success");else{t.m=6;try{var s=2<ys(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",X9(t)}}finally{O1(t)}}}function O1(t,e){if(t.g){Z9(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Jn(t,"ready");try{n.onreadystatechange=r}catch{}}}function Z9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(qe.clearTimeout(t.A),t.A=null)}function ys(t){return t.g?t.g.readyState:0}function ek(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Y9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tk(t){let e="";return _E(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function HE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tk(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):jt(t,e,n))}function ah(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nk(t){this.Ga=0,this.j=[],this.l=new b1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ah("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ah("baseRetryDelayMs",5e3,t),this.hb=ah("retryDelaySeedMs",1e4,t),this.eb=ah("forwardChannelMaxRetries",2,t),this.xa=ah("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new j9(t&&t.concurrentRequestLimit),this.Ja=new kae,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function zE(t){if(rk(t),3==t.H){var e=t.W++,n=co(t.I);if(jt(n,"SID",t.K),jt(n,"RID",e),jt(n,"TYPE","terminate"),ch(t,n),(e=new Jf(t,t.l,e)).L=2,e.v=R1(co(n)),n=!1,qe.navigator&&qe.navigator.sendBeacon)try{n=qe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&qe.Image&&((new Image).src=e.v,n=!0),n||(e.g=fk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zf(e)}uk(t)}function F1(t){t.g&&(jE(t),t.g.cancel(),t.g=null)}function rk(t){F1(t),t.u&&(qe.clearTimeout(t.u),t.u=null),L1(t),t.i.cancel(),t.m&&("number"==typeof t.m&&qe.clearTimeout(t.m),t.m=null)}function V1(t){if(!$9(t.i)&&!t.m){t.m=!0;var e=t.Na;qf||y9(),Wf||(qf(),Wf=!0),TE.add(e,t),t.C=0}}function ik(t,e){var n;n=e?e.m:t.W++;const r=co(t.I);jt(r,"SID",t.K),jt(r,"RID",n),jt(r,"AID",t.V),ch(t,r),t.o&&t.s&&HE(r,t.o,t.s),n=new Jf(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),LE(t.i,n),OE(n,r,e)}function ch(t,e){t.na&&_E(t.na,function(n,r){jt(e,r,n)}),t.h&&F9({},function(n,r){jt(e,r,n)})}function sk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{Nae(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ok(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;qf||y9(),Wf||(qf(),Wf=!0),TE.add(e,t),t.A=0}}function UE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Qf(dr(t.Ma,t),lk(t,t.A)),t.A++,0))}function jE(t){null!=t.B&&(qe.clearTimeout(t.B),t.B=null)}function ak(t){t.g=new Jf(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=co(t.wa);jt(e,"RID","rpc"),jt(e,"SID",t.K),jt(e,"AID",t.V),jt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&jt(e,"TO",t.qa),jt(e,"TYPE","xmlhttp"),ch(t,e),t.o&&t.s&&HE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=R1(co(e)),n.s=null,n.S=!0,R9(n,t)}function L1(t){null!=t.v&&(qe.clearTimeout(t.v),t.v=null)}function ck(t,e){var n=null;if(t.g==e){L1(t),jE(t),t.g=null;var r=2}else{if(!VE(t.i,e))return;n=e.F,q9(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Jn(r=w1(),new T9(r,n)),V1(t)}else ok(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function zae(t,e){return!(G9(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Qf(dr(t.Na,t,e),lk(t,t.C)),t.C++,0)))}(t,e)||2==r&&UE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ja(t,5);break;case 4:Ja(t,10);break;case 3:Ja(t,6);break;default:Ja(t,2)}}function lk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ja(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=dr(t.pb,t);n||(n=new Xa("//www.google.com/images/cleardot.gif"),qe.location&&"http"==qe.location.protocol||P1(n,"https"),R1(n)),function Oae(t,e){const n=new b1;if(qe.Image){const r=new Image;r.onload=v1(k1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=v1(k1,n,r,"TestLoadImage: error",!1,e),r.onabort=v1(k1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=v1(k1,n,r,"TestLoadImage: timeout",!1,e),qe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Dr(2);t.H=0,t.h&&t.h.za(e),uk(t),rk(t)}function uk(t){if(t.H=0,t.ma=[],t.h){const e=W9(t.i);(0!=e.length||0!=t.j.length)&&(s9(t.ma,e),s9(t.ma,t.j),t.i.i.length=0,lE(t.j),t.j.length=0),t.h.ya()}}function dk(t,e,n){var r=n instanceof Xa?co(n):new Xa(n);if(""!=r.g)e&&(r.g=e+"."+r.g),M1(r,r.m);else{var i=qe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xa(null);r&&P1(s,r),e&&(s.g=e),i&&M1(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&jt(r,n,e),jt(r,"VER",t.ra),ch(t,r),r}function fk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ln(n&&t.Ha&&!t.va?new ih({ob:!0}):t.va)).Oa(t.J),e}function hk(){}function B1(){if(zl&&!(10<=Number(eae)))throw Error("Environmental error: no available transport.")}function ci(t,e){Ln.call(this),this.g=new nk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!jf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new $l(this)}function pk(t){ME.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function gk(){RE.call(this),this.status=1}function $l(t){this.g=t}function Gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $E(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function It(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(Ce=ln.prototype).Oa=function(t){this.M=t},Ce.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():kE.g(),this.C=function S9(t){return t.h||(t.h=t.i())}(this.u?this.u:kE),this.g.onreadystatechange=dr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void Q9(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=qe.FormData&&t instanceof qe.FormData,!(0<=i9(Lae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Z9(this),0<this.B&&((this.L=function Bae(t){return zl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dr(this.ua,this)):this.A=SE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Q9(this,s)}},Ce.ua=function(){typeof aE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jn(this,"timeout"),this.abort(8))},Ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Jn(this,"complete"),Jn(this,"abort"),O1(this))},Ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),O1(this,!0)),ln.$.N.call(this)},Ce.La=function(){this.s||(this.G||this.v||this.l?J9(this):this.kb())},Ce.kb=function(){J9(this)},Ce.isActive=function(){return!!this.g},Ce.da=function(){try{return 2<ys(this)?this.g.status:-1}catch{return-1}},Ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Fae(e)}},Ce.Ia=function(){return this.m},Ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ce=nk.prototype).ra=8,Ce.H=1,Ce.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Jf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=u9(s),f9(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sk(this,i,e),jt(n=co(this.I),"RID",t),jt(n,"CVER",22),this.F&&jt(n,"X-HTTP-Session-Id",this.F),ch(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(tk(s)))+"&"+e:this.o&&HE(n,this.o,s)),LE(this.i,i),this.bb&&jt(n,"TYPE","init"),this.P?(jt(n,"$req",e),jt(n,"SID","null"),i.aa=!0,OE(i,n,null)):OE(i,n,e),this.H=2}}else 3==this.H&&(t?ik(this,t):0==this.j.length||$9(this.i)||ik(this))},Ce.Ma=function(){if(this.u=null,ak(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qf(dr(this.jb,this),t)}},Ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Dr(10),F1(this),ak(this))},Ce.ib=function(){null!=this.v&&(this.v=null,F1(this),UE(this),Dr(19))},Ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Dr(2)):(this.l.info("Failed to ping google.com"),Dr(1))},Ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ce=hk.prototype).Ba=function(){},Ce.Aa=function(){},Ce.za=function(){},Ce.ya=function(){},Ce.isActive=function(){return!0},Ce.Va=function(){},B1.prototype.g=function(t,e){return new ci(t,e)},Vn(ci,Ln),ci.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Dr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dk(t,null,t.Y),V1(t)},ci.prototype.close=function(){zE(this.g)},ci.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=AE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&V1(e)},ci.prototype.N=function(){this.g.h=null,delete this.j,zE(this.g),delete this.g,ci.$.N.call(this)},Vn(pk,ME),Vn(gk,RE),Vn($l,hk),$l.prototype.Ba=function(){Jn(this.g,"a")},$l.prototype.Aa=function(t){Jn(this.g,new pk(t))},$l.prototype.za=function(t){Jn(this.g,new gk)},$l.prototype.ya=function(){Jn(this.g,"b")},Vn(Gi,function Uae(){this.blockSize=-1}),Gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)$E(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){$E(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){$E(this,r),i=0;break}}this.h=i,this.i+=e},Gi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var jae={};function GE(t){return-128<=t&&128>t?function Xoe(t,e){var n=jae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new It([0|e],0>e?-1:0)}):new It([0|t],0>t?-1:0)}function Es(t){if(isNaN(t)||!isFinite(t))return Gl;if(0>t)return Zn(Es(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qE;return new It(e,0)}var qE=4294967296,Gl=GE(0),WE=GE(1),_k=GE(16777216);function lo(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Si(t){return-1==t.h}function Zn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new It(n,~t.h).add(WE)}function H1(t,e){return t.add(Zn(e))}function z1(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function lh(t,e){this.g=t,this.h=e}function U1(t,e){if(lo(e))throw Error("division by zero");if(lo(t))return new lh(Gl,Gl);if(Si(t))return e=U1(Zn(t),e),new lh(Zn(e.g),Zn(e.h));if(Si(e))return e=U1(t,Zn(e)),new lh(Zn(e.g),e.h);if(30<t.g.length){if(Si(t)||Si(e))throw Error("slowDivide_ only works with positive integers.");for(var n=WE,r=e;0>=r.X(t);)n=vk(n),r=vk(r);var i=ql(n,1),s=ql(r,1);for(r=ql(r,2),n=ql(n,2);!lo(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ql(r,1),n=ql(n,1)}return e=H1(t,i.R(e)),new lh(i,e)}for(i=Gl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Es(n)).R(e);Si(o)||0<o.X(t);)o=(s=Es(n-=r)).R(e);lo(s)&&(s=WE),i=i.add(s),t=H1(t,o)}return new lh(i,t)}function vk(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new It(n,t.h)}function ql(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new It(i,t.h)}(Ce=It.prototype).ea=function(){if(Si(this))return-Zn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qE+r)*e,e*=qE}return t},Ce.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(lo(this))return"0";if(Si(this))return"-"+Zn(this).toString(t);for(var e=Es(Math.pow(t,6)),n=this,r="";;){var i=U1(n,e).g,s=((0<(n=H1(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(lo(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ce.X=function(t){return Si(t=H1(this,t))?-1:lo(t)?0:1},Ce.abs=function(){return Si(this)?Zn(this):this},Ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new It(n,-2147483648&n[n.length-1]?-1:0)},Ce.R=function(t){if(lo(this)||lo(t))return Gl;if(Si(this))return Si(t)?Zn(this).R(Zn(t)):Zn(Zn(this).R(t));if(Si(t))return Zn(this.R(Zn(t)));if(0>this.X(_k)&&0>t.X(_k))return Es(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,z1(n,2*r+2*i),n[2*r+2*i+1]+=s*c,z1(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,z1(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,z1(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new It(n,0)},Ce.gb=function(t){return U1(this,t).h},Ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new It(n,this.h&t.h)},Ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new It(n,this.h|t.h)},Ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new It(n,this.h^t.h)},B1.prototype.createWebChannel=B1.prototype.g,ci.prototype.send=ci.prototype.u,ci.prototype.open=ci.prototype.m,ci.prototype.close=ci.prototype.close,A1.NO_ERROR=0,A1.TIMEOUT=8,A1.HTTP_ERROR=6,D9.COMPLETE="complete",P9.EventType=Xf,Xf.OPEN="a",Xf.CLOSE="b",Xf.ERROR="c",Xf.MESSAGE="d",Ln.prototype.listen=Ln.prototype.O,ln.prototype.listenOnce=ln.prototype.P,ln.prototype.getLastError=ln.prototype.Sa,ln.prototype.getLastErrorCode=ln.prototype.Ia,ln.prototype.getStatus=ln.prototype.da,ln.prototype.getResponseJson=ln.prototype.Wa,ln.prototype.getResponseText=ln.prototype.ja,ln.prototype.send=ln.prototype.ha,ln.prototype.setWithCredentials=ln.prototype.Oa,Gi.prototype.digest=Gi.prototype.l,Gi.prototype.reset=Gi.prototype.reset,Gi.prototype.update=Gi.prototype.j,It.prototype.add=It.prototype.add,It.prototype.multiply=It.prototype.R,It.prototype.modulo=It.prototype.gb,It.prototype.compare=It.prototype.X,It.prototype.toNumber=It.prototype.ea,It.prototype.toString=It.prototype.toString,It.prototype.getBits=It.prototype.D,It.fromNumber=Es,It.fromString=function mk(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Zn(mk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Es(Math.pow(e,8)),r=Gl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Es(Math.pow(e,s)),r=r.R(s).add(Es(o))):r=(r=r.R(n)).add(Es(o))}return r};var $ae=$i.createWebChannelTransport=function(){return new B1},Gae=$i.getStatEventTarget=function(){return w1()},KE=$i.ErrorCode=A1,qae=$i.EventType=D9,Wae=$i.Event=Ya,yk=$i.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kae=$i.FetchXmlHttpFactory=ih,j1=$i.WebChannel=P9,Yae=$i.XhrIo=ln,Qae=$i.Md5=Gi,Wl=$i.Integer=It;const Ek="@firebase/firestore";class Bn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");let Kl="10.5.2";const Wo=new bf("@firebase/firestore");function Yl(){return Wo.logLevel}function ie(t,...e){if(Wo.logLevel<=ct.DEBUG){const n=e.map(YE);Wo.debug(`Firestore (${Kl}): ${t}`,...n)}}function mn(t,...e){if(Wo.logLevel<=ct.ERROR){const n=e.map(YE);Wo.error(`Firestore (${Kl}): ${t}`,...n)}}function li(t,...e){if(Wo.logLevel<=ct.WARN){const n=e.map(YE);Wo.warn(`Firestore (${Kl}): ${t}`,...n)}}function YE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Te(t="Unexpected state"){const e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+t;throw mn(e),new Error(e)}function Pe(t,e){t||Te()}function _e(t,e){return t}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class xk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class Jae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zae{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Pn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(v(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Pn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe("string"==typeof r.accessToken),new xk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(null===e||"string"==typeof e),new Bn(e)}}class ece{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class tce{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ece(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ck{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe("string"==typeof n.token),this.R=n.token,new Ck(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Ik{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=rce(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function Ql(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new rn(0,0))}static max(){return new ke(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class uh{constructor(e,n,r){void 0===n?n=0:n>e.length&&Te(),void 0===r?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===uh.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ft extends uh{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const ice=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends uh{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return ice.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new se(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new se(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new se(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ft.fromString(e))}static fromName(e){return new ve(ft.fromString(e).popFirst(5))}static empty(){return new ve(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ft.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ft(e.slice()))}}function Ak(t){return new ui(t.readTime,t.key,-1)}class ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ui(ke.min(),ve.empty(),-1)}static max(){return new ui(ke.max(),ve.empty(),-1)}}function XE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ve.comparator(t.documentKey,e.documentKey),0!==n?n:je(t.largestBatchId,e.largestBatchId))}const Tk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ace{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ko(t){return JE.apply(this,arguments)}function JE(){return JE=v(function*(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Tk)throw t;ie("LocalStore","Unexpectedly lost primary lease")}),JE.apply(this,arguments)}class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Yo(t){return"IndexedDbTransactionError"===t.name}let di=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function fh(t){return null==t}function hh(t){return 0===t&&1/t==-1/0}function Fk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Bt{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new q1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new q1(this.root,e,this.comparator,!1)}getReverseIterator(){return new q1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new q1(this.root,e,this.comparator,!0)}}class q1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??er.RED,this.left=i??er.EMPTY,this.right=s??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new er(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1,er.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class St{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lk(this.data.getIterator())}getIteratorFrom(e){return new Lk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class Lk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yr{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Yr([])}unionWith(e){let n=new St(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Bk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bk("Invalid base64 string: "+s):s}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const Pce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(t){if(Pe(!!t),"string"==typeof t){let e=0;const n=Pce.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:un(t.seconds),nanos:un(t.nanos)}}function un(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function uo(t){return"string"==typeof t?Mn.fromBase64String(t):Mn.fromUint8Array(t)}function W1(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function K1(t){const e=t.mapValue.fields.__previous_value__;return W1(e)?K1(e):e}function ph(t){const e=Xo(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}class Mce{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class nc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}const Jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?W1(t)?4:jk(t)?9007199254740991:10:Te()}function Cs(t,e){if(t===e)return!0;const n=Zo(t);if(n!==Zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ph(t).isEqual(ph(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Xo(i.timestampValue),a=Xo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,uo(t.bytesValue).isEqual(uo(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return un(i.geoPointValue.latitude)===un(s.geoPointValue.latitude)&&un(i.geoPointValue.longitude)===un(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return un(i.integerValue)===un(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=un(i.doubleValue),a=un(s.doubleValue);return o===a?hh(o)===hh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ql(t.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Fk(o)!==Fk(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!Cs(o[c],a[c])))return!1;return!0}(t,e);default:return Te()}var s}function gh(t,e){return void 0!==(t.values||[]).find(n=>Cs(n,e))}function ea(t,e){if(t===e)return 0;const n=Zo(t),r=Zo(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=un(s.integerValue||s.doubleValue),c=un(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Hk(t.timestampValue,e.timestampValue);case 4:return Hk(ph(t),ph(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(s,o){const a=uo(s),c=uo(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=je(a[l],c[l]);if(0!==u)return u}return je(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=je(un(s.latitude),un(o.latitude));return 0!==a?a:je(un(s.longitude),un(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=ea(a[l],c[l]);if(u)return u}return je(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Jo.mapValue&&o===Jo.mapValue)return 0;if(s===Jo.mapValue)return 1;if(o===Jo.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){const f=je(c[d],u[d]);if(0!==f)return f;const h=ea(a[c[d]],l[u[d]]);if(0!==h)return h}return je(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Te()}}function Hk(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return je(t,e);const n=Xo(t),r=Xo(e),i=je(n.seconds,r.seconds);return 0!==i?i:je(n.nanos,r.nanos)}function eu(t){return t8(t)}function t8(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?uo(t.bytesValue).toBase64():"referenceValue"in t?ve.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=t8(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${t8(n.fields[o])}`;return i+"}"}(t.mapValue):Te()}function rc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function n8(t){return!!t&&"integerValue"in t}function mh(t){return!!t&&"arrayValue"in t}function zk(t){return!!t&&"nullValue"in t}function Uk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function X1(t){return!!t&&"mapValue"in t}function _h(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_h(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_h(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jk(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!X1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_h(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=_h(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());X1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];X1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tr(_h(this.value))}}function qk(t){const e=[];return Qo(t.fields,(n,r)=>{const i=new Jt([n]);if(X1(r)){const s=qk(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yr(e)}class $t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,ke.min(),ke.min(),ke.min(),tr.empty(),0)}static newFoundDocument(e,n,r,i){return new $t(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new $t(e,2,n,ke.min(),ke.min(),tr.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,ke.min(),ke.min(),tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ta{constructor(e,n){this.position=e,this.inclusive=n}}function Wk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ve.comparator(ve.fromName(o.referenceValue),n.key):ea(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Kk(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cs(t.position[n],e.position[n]))return!1;return!0}class vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Yk{}class st extends Yk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Oce(e,n,r):"array-contains"===n?new Lce(e,r):"in"===n?new tN(e,r):"not-in"===n?new Bce(e,r):"array-contains-any"===n?new Hce(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Fce(e,r):new Vce(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ea(n,this.value)):null!==n&&Zo(this.value)===Zo(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bt extends Yk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new bt(e,n)}matches(e){return tu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function tu(t){return"and"===t.op}function i8(t){return function Qk(t){for(const e of t.filters)if(e instanceof bt)return!1;return!0}(t)&&tu(t)}function s8(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+eu(t.value);if(i8(t))return t.filters.map(e=>s8(e)).join(",");{const e=t.filters.map(n=>s8(n)).join(",");return`${t.op}(${e})`}}function Xk(t,e){return t instanceof st?(r=t,(i=e)instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&Cs(r.value,i.value)):t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&Xk(o,i.filters[a]),!0)}(t,e):void Te();var r,i}function Zk(t){return t instanceof st?`${(n=t).field.canonicalString()} ${n.op} ${eu(n.value)}`:t instanceof bt?function(n){return n.op.toString()+" {"+n.getFilters().map(Zk).join(" ,")+"}"}(t):"Filter";var n}class Oce extends st{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class Fce extends st{constructor(e,n){super(e,"in",n),this.keys=eN(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Vce extends st{constructor(e,n){super(e,"not-in",n),this.keys=eN(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eN(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class Lce extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mh(n)&&gh(n.arrayValue,this.value)}}class tN extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&gh(this.value.arrayValue,n)}}class Bce extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!gh(this.value.arrayValue,n)}}class Hce extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gh(this.value.arrayValue,r))}}class zce{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function o8(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zce(t,e,n,r,i,s,o)}function ic(t){const e=_e(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>s8(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>eu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>eu(r)).join(",")),e.ce=n}return e.ce}function yh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kk(t.startAt,e.startAt)&&Kk(t.endAt,e.endAt)}function J1(t){return ve.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class fo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function nu(t){return new fo(t)}function sN(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function a8(t){return null!==t.collectionGroup}function ru(t){const e=_e(t);if(null===e.le){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new St(Jt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new vh(s,r))}),n.has(Jt.keyField().canonicalString())||e.le.push(new vh(Jt.keyField(),r))}return e.le}function Sr(t){const e=_e(t);return e.he||(e.he=function oN(t,e){if("F"===t.limitType)return o8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new vh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ta(t.startAt.position,t.startAt.inclusive):null;return o8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,ru(t))),e.he}function c8(t,e){const n=t.filters.concat([e]);return new fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function em(t,e,n){return new fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return yh(Sr(t),Sr(e))&&t.limitType===e.limitType}function aN(t){return`${ic(Sr(t))}|lt:${t.limitType}`}function iu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Zk(i)).join(", ")}]`),fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>eu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>eu(i)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ru(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,c){const l=Wk(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,ru(r),i)||r.endAt&&!function(o,a,c){const l=Wk(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,ru(r),i)));var r,i}function lN(t){return(e,n)=>{let r=!1;for(const i of ru(t)){const s=Uce(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Uce(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),l=a.data.field(s);return null!==c&&null!==l?ea(c,l):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Vk(this.inner)}size(){return this.innerSize}}const jce=new Bt(ve.comparator);function Qr(){return jce}const uN=new Bt(ve.comparator);function Ch(...t){let e=uN;for(const n of t)e=e.insert(n.key,n);return e}function dN(t){let e=uN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Is(){return Ih()}function fN(){return Ih()}function Ih(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const $ce=new Bt(ve.comparator),Gce=new St(ve.comparator);function Je(...t){let e=Gce;for(const n of t)e=e.add(n);return e}const qce=new St(je);function hN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function pN(t){return{integerValue:""+t}}function gN(t,e){return function Sk(t){return"number"==typeof t&&Number.isInteger(t)&&!hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?pN(e):hN(t,e)}class tm{constructor(){this._=void 0}}function Wce(t,e,n){return t instanceof su?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&W1(s)&&(s=K1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof sc?_N(t,e):t instanceof oc?vN(t,e):function(i,s){const o=mN(i,s),a=yN(o)+yN(i.Ie);return n8(o)&&n8(i.Ie)?pN(a):hN(i.serializer,a)}(t,e)}function Kce(t,e,n){return t instanceof sc?_N(t,e):t instanceof oc?vN(t,e):n}function mN(t,e){return t instanceof ou?n8(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class su extends tm{}class sc extends tm{constructor(e){super(),this.elements=e}}function _N(t,e){const n=EN(e);for(const r of t.elements)n.some(i=>Cs(i,r))||n.push(r);return{arrayValue:{values:n}}}class oc extends tm{constructor(e){super(),this.elements=e}}function vN(t,e){let n=EN(e);for(const r of t.elements)n=n.filter(i=>!Cs(i,r));return{arrayValue:{values:n}}}class ou extends tm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function yN(t){return un(t.integerValue||t.doubleValue)}function EN(t){return mh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Qce{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nm(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class rm{}function xN(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new cu(t.key,Zt.none()):new au(t.key,t.data,Zt.none());{const n=t.data,r=tr.empty();let i=new St(Jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new po(t.key,r,new Yr(i.toArray()),Zt.none())}}function Xce(t,e,n){t instanceof au?function(i,s,o){const a=i.value.clone(),c=bN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof po?function(i,s,o){if(!nm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=bN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(IN(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function wh(t,e,n,r){return t instanceof au?function(s,o,a,c){if(!nm(s.precondition,o))return a;const l=s.value.clone(),u=wN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof po?function(s,o,a,c){if(!nm(s.precondition,o))return a;const l=wN(s.fieldTransforms,c,o),u=o.data;return u.setAll(IN(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,nm(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Jce(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mN(r.transform,i||null);null!=s&&(null===n&&(n=tr.empty()),n.set(r.field,s))}return n||null}function CN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Ql(r,i,(s,o)=>function Yce(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof sc&&i instanceof sc||r instanceof oc&&i instanceof oc?Ql(r.elements,i.elements,Cs):r instanceof ou&&i instanceof ou?Cs(r.Ie,i.Ie):r instanceof su&&i instanceof su);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class au extends rm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class po extends rm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bN(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Kce(o,a,n[i]))}return r}function wN(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Wce(s,o,e))}return r}class cu extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u8 extends rm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class d8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Xce(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=xN(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(n,r)=>CN(n,r))&&Ql(this.baseMutations,e.baseMutations,(n,r)=>CN(n,r))}}class f8{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=$ce;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new f8(e,n,r,i)}}class h8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ele{constructor(e,n){this.count=e,this.unchangedNames=n}}var bn,ht;function TN(t){if(void 0===t)return mn("GRPC error has no .code"),B.UNKNOWN;switch(t){case bn.OK:return B.OK;case bn.CANCELLED:return B.CANCELLED;case bn.UNKNOWN:return B.UNKNOWN;case bn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case bn.INTERNAL:return B.INTERNAL;case bn.UNAVAILABLE:return B.UNAVAILABLE;case bn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case bn.NOT_FOUND:return B.NOT_FOUND;case bn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case bn.ABORTED:return B.ABORTED;case bn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case bn.DATA_LOSS:return B.DATA_LOSS;default:return Te()}}(ht=bn||(bn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";const tle=new Wl([4294967295,4294967295],0);function SN(t){const e=function DN(){return new TextEncoder}().encode(t),n=new Qae;return n.update(e),new Uint8Array(n.digest())}function PN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wl([n,r],0),new Wl([i,s],0)]}class p8{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ah(`Invalid padding: ${n}`);if(r<0)throw new Ah(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ah(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Ah(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Wl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Wl.fromNumber(r)));return 1===i.compare(tle)&&(i=new Wl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=SN(e),[r,i]=PN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new p8(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const n=SN(e),[r,i]=PN(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Dh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Th(ke.min(),i,new Bt(je),Qr(),Je())}}class Dh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dh(r,n,Je(),Je(),Je())}}class sm{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class MN{constructor(e,n){this.targetId=e,this.fe=n}}class RN{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kN{constructor(){this.ge=0,this.pe=ON(),this.ye=Mn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Je(),n=Je(),r=Je();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Dh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=ON()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class nle{constructor(e){this.Le=e,this.ke=new Map,this.qe=Qr(),this.Qe=NN(),this.Ke=new Bt(je)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(J1(s))if(0===r){const o=new ve(s.path);this.We(n,o,$t.newNoDocument(o,ke.min()))}else Pe(1===r);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(n),this.Ke=this.Ke.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=uo(r).toUint8Array()}catch(c){if(c instanceof Bk)return li("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new p8(o,i,s)}catch(c){return li(c instanceof Ah?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&J1(a.target)){const c=new ve(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,$t.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Je();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Th(e,n,this.Ke,this.qe,r);return this.qe=Qr(),this.Qe=NN(),this.Ke=new Bt(je),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new kN,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new St(je),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new kN),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function NN(){return new Bt(ve.comparator)}function ON(){return new Bt(ve.comparator)}const rle={asc:"ASCENDING",desc:"DESCENDING"},ile={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sle={and:"AND",or:"OR"};class ole{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function g8(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ale(t,e){return lu(t,e.toTimestamp())}function _n(t){return Pe(!!t),ke.fromTimestamp(function(n){const r=Xo(n);return new rn(r.seconds,r.nanos)}(t))}function m8(t,e){return(r=t,new ft(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function VN(t){const e=ft.fromString(t);return Pe(qN(e)),e}function Sh(t,e){return m8(t.databaseId,e.path)}function bs(t,e){const n=VN(e);if(n.get(1)!==t.databaseId.projectId)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(BN(n))}function _8(t,e){return m8(t.databaseId,e)}function Ph(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BN(t){return Pe(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function HN(t,e,n){return{name:Sh(t,e),fields:n.value.mapValue.fields}}function UN(t,e){return{documents:[_8(t,e.path)]}}function y8(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=_8(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_8(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return GN(bt.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(l=>{return{field:na((d=l).field),direction:fle(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=g8(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n;var c}function jN(t){let e=function LN(t){const e=VN(t);return 4===e.length?ft.emptyPath():BN(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=$N(d);return f instanceof bt&&i8(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>{return new vh(uu((p=f).field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,fh(f)?null:f}(n.limit));let c=null;var d;n.startAt&&(c=new ta((d=n.startAt).values||[],!!d.before));let l=null;return n.endAt&&(l=function(d){return new ta(d.values||[],!d.before)}(n.endAt)),function iN(t,e,n,r,i,s,o,a){return new fo(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",c,l)}function $N(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uu(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uu(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uu(n.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uu(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):void 0!==t.fieldFilter?st.create(uu((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return bt.create(n.compositeFilter.filters.map(r=>$N(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te();var n}function fle(t){return rle[t]}function hle(t){return ile[t]}function ple(t){return sle[t]}function na(t){return{fieldPath:t.canonicalString()}}function uu(t){return Jt.fromServerFormat(t.fieldPath)}function GN(t){return t instanceof st?function(n){if("=="===n.op){if(Uk(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NAN"}};if(zk(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Uk(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NAN"}};if(zk(n.value))return{unaryFilter:{field:na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:na(n.field),op:hle(n.op),value:n.value}}}(t):t instanceof bt?function(n){const r=n.getFilters().map(i=>GN(i));return 1===r.length?r[0]:{compositeFilter:{op:ple(n.op),filters:r}}}(t):Te()}function gle(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qN(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class go{constructor(e,n,r,i,s=ke.min(),o=ke.min(),a=Mn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WN{constructor(e){this.ut=e}}function E8(t){const e=jN({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?em(e,e.limit,"L"):e}class uc{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(un(e.integerValue));else if("doubleValue"in e){const r=un(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),hh(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),"string"==typeof r?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(uo(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?jk(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Te()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),ve.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}uc.St=new uc;class Ile{constructor(){this.on=new A8}addToCollectionParentIndex(e,n){return this.on.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(ui.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class A8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(ft.comparator)).toArray()}}new Uint8Array(0);class pr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(41943040,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class fc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new fc(0)}static Nn(){return new fc(-1)}}class Sle{constructor(){this.changes=new ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rle{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class EO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&wh(r.mutation,i,Yr.empty(),rn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Je()){const i=Is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ch();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Je()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Qr();const o=Ih(),a=Ih();return n.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof po)?s=s.insert(l.key,l):void 0!==u?(o.set(l.key,u.mutation.getFieldMask()),wh(u.mutation,l,u.mutation.getFieldMask(),rn.now())):o.set(l.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new Rle(u,null!==(d=o.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ih();let i=new Bt((o,a)=>o-a),s=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(null===l)return;let u=r.get(c)||Yr.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Je()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=fN();u.forEach(f=>{if(!s.has(f)){const h=xN(n.get(f),r.get(f));null!==h&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return ve.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):a8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(Is());let a=-1,c=s;return o.next(l=>R.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?R.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,Je())).next(u=>({batchId:a,changes:dN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=Ch();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ch();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,c=>{const l=(d=n,f=c.child(s),new fo(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,f;return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{const u=l.getKey();null===o.get(u)&&(o=o.insert(u,$t.newInvalidDocument(u)))});let a=Ch();return o.forEach((c,l)=>{const u=s.get(c);void 0!==u&&wh(u.mutation,l,Yr.empty(),rn.now()),xh(n,l)&&(a=a.insert(c,l))}),a})}}class kle{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return R.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(i=n).id,version:i.version,createTime:_n(i.createTime)}),R.resolve();var i}getNamedQuery(e,n){return R.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(i=n).name,query:E8(i.bundledQuery),readTime:_n(i.readTime)}),R.resolve();var i}}class Nle{constructor(){this.overlays=new Bt(ve.comparator),this.lr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Is();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=Is(),s=n.length+1,o=new ve(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Bt((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);null===u&&(u=Is(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Is(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return R.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new h8(n,r));let s=this.lr.get(n);void 0===s&&(s=Je(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}class T8{constructor(){this.hr=new St(zn.Pr),this.Ir=new St(zn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new zn(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new zn(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ve(new ft([])),r=new zn(n,e),i=new zn(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ve(new ft([])),r=new zn(n,e),i=new zn(n,e+1);let s=Je();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new zn(e,0),r=this.hr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class zn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ve.comparator(e.key,n.key)||je(e.gr,n.gr)}static Tr(e,n){return je(e.gr,n.gr)||ve.comparator(e.key,n.key)}}class Ole{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new St(zn.Pr)}checkEmpty(e){return R.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++;const o=new d8(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new zn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Sr(n+1),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zn(n,0),i=new zn(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(je);return n.forEach(i=>{const s=new zn(i,0),o=new zn(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),R.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const o=new zn(new ve(s),0);let a=new St(je);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.gr)),!0)},o),R.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Pe(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return R.forEach(n.mutations,i=>{const s=new zn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new zn(n,0),i=this.yr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return R.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Fle{constructor(e){this.Cr=e,this.docs=new Bt(ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=Qr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qr();const o=n.path,a=new ve(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||XE(Ak(u),r)<=0||(i.has(u.key)||xh(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te()}vr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Vle(this)}getSize(e){return R.resolve(this.size)}}class Vle extends Sle{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Lle{constructor(e){this.persistence=e,this.Fr=new ho(n=>ic(n),yh),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Mr=0,this.Or=new T8,this.targetCount=0,this.Nr=fc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),R.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new fc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.kn(n),R.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Or.containsKey(n))}}class D8{constructor(e,n){this.Br={},this.overlays={},this.Lr=new di(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Lle(this),this.indexManager=new Ile,this.remoteDocumentCache=new Fle(r=>this.referenceDelegate.Qr(r)),this.serializer=new WN(n),this.Kr=new kle(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Nle,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Ole(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new Ble(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Ble extends ace{constructor(e){super(),this.currentSequenceNumber=e}}class hm{constructor(e){this.persistence=e,this.Gr=new T8,this.zr=null}static jr(e){return new hm(e)}get Hr(){if(this.zr)return this.zr;throw Te()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Hr,r=>{const i=ve.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return R.or([()=>R.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class R8{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Je(),i=Je();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new R8(e,n.fromCache,r,i)}}class zle{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CO{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zle;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Yl()<=ct.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",iu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),R.resolve()):(Yl()<=ct.DEBUG&&ie("QueryEngine","Query:",iu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Yl()<=ct.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",iu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):R.resolve())}zi(e,n){if(sN(n))return R.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=em(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Je(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,em(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,i){return sN(n)||i.isEqual(ke.min())?R.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?R.resolve(null):(Yl()<=ct.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),iu(n)),this.Xi(e,o,n,function wk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(1e9===r?new rn(n+1,0):new rn(n,r));return new ui(i,ve.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,n){let r=new St(lN(e));return n.forEach((i,s)=>{xh(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Yl()<=ct.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",iu(n)),this.Gi.getDocumentsMatchingQuery(e,n,ui.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Ule{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Bt(je),this.ns=new ho(s=>ic(s),yh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function bO(t,e){return k8.apply(this,arguments)}function k8(){return k8=v(function*(t,e){const n=_e(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Je();for(const l of i){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of s){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}),k8.apply(this,arguments)}function wO(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Gle(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mu(t,e,n){return N8.apply(this,arguments)}function N8(){return N8=v(function*(t,e,n){const r=_e(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Yo(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),N8.apply(this,arguments)}function mm(t,e,n){const r=_e(t);let i=ke.min(),s=Je();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const d=_e(c),f=d.ns.get(u);return void 0!==f?R.resolve(d.ts.get(f)):d.qr.getTargetData(l,u)}(r,o,Sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:Je())).next(a=>(function SO(t,e,n){let r=t.rs.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}(r,function cN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ls:s})))}class B8{constructor(){this.activeTargetIds=function l8(){return qce}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RO{constructor(){this.eo=new B8,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new B8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kle{ro(e){}shutdown(){}}class kO{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ym=null;function z8(){return null===ym?ym=268435456+Math.round(2147483648*Math.random()):ym++,"0x"+ym.toString(16)}const Yle={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qle{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const gr="WebChannelConnection";class Xle extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=z8(),c=this.So(n,r);ie("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,c,l,i).then(u=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw li("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Kl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){return`${this.mo}/v1/${r}:${Yle[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=z8();return new Promise((o,a)=>{const c=new Yae;c.setWithCredentials(!0),c.listenOnce(qae.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case KE.NO_ERROR:const u=c.getResponseJson();ie(gr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case KE.TIMEOUT:ie(gr,`RPC '${e}' ${s} timed out`),a(new se(B.DEADLINE_EXCEEDED,"Request time out"));break;case KE.HTTP_ERROR:const d=c.getStatus();if(ie(gr,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f?.error;if(h&&h.status&&h.message){const p=function(y){const S=y.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(S)>=0?S:B.UNKNOWN}(h.status);a(new se(p,h.message))}else a(new se(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new se(B.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ie(gr,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);ie(gr,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}vo(e,n,r){const i=z8(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$ae(),a=Gae(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Kae({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=s.join("");ie(gr,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=o.createWebChannel(u,c);let f=!1,h=!1;const p=new Qle({co:y=>{h?ie(gr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(ie(gr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ie(gr,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),g=(y,S,w)=>{y.listen(S,U=>{try{w(U)}catch(Y){setTimeout(()=>{throw Y},0)}})};return g(d,j1.EventType.OPEN,()=>{h||ie(gr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,j1.EventType.CLOSE,()=>{h||(h=!0,ie(gr,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,j1.EventType.ERROR,y=>{h||(h=!0,li(gr,`RPC '${e}' stream ${i} transport errored:`,y),p.Ro(new se(B.UNAVAILABLE,"The operation could not be completed")))}),g(d,j1.EventType.MESSAGE,y=>{var S;if(!h){const w=y.data[0];Pe(!!w);const Y=w.error||(null===(S=w[0])||void 0===S?void 0:S.error);if(Y){ie(gr,`RPC '${e}' stream ${i} received error:`,Y);const he=Y.status;let Re=function(kn){const Ea=bn[kn];if(void 0!==Ea)return TN(Ea)}(he),Qe=Y.message;void 0===Re&&(Re=B.INTERNAL,Qe="Unknown error status: "+he+" with message "+Y.message),h=!0,p.Ro(new se(Re,Qe)),d.close()}else ie(gr,`RPC '${e}' stream ${i} received:`,w),p.Vo(w)}}),g(a,Wae.STAT_EVENT,y=>{y.stat===yk.PROXY?ie(gr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===yk.NOPROXY&&ie(gr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Em(){return typeof document<"u"?document:null}function Bh(t){return new ole(t,!0)}class U8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class OO{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new U8(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return v(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return v(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var r=this;return v(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(mn(n.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):n&&n.code===B.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new se(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(v(function*(){e.state=0,e.start()}))}o_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jle extends OO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function lle(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Te(),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Pe(void 0===u||"string"==typeof u),Mn.fromBase64String(u||"")):(Pe(void 0===u||u instanceof Uint8Array),Mn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=void 0===l.code?B.UNKNOWN:TN(l.code);return new se(u,l.message||"")}(o);n=new RN(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=bs(t,r.document.name),s=_n(r.document.updateTime),o=r.document.createTime?_n(r.document.createTime):ke.min(),a=new tr({mapValue:{fields:r.document.fields}}),c=$t.newFoundDocument(i,s,o,a);n=new sm(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=bs(t,r.document),s=r.readTime?_n(r.readTime):ke.min(),o=$t.newNoDocument(i,s);n=new sm([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=bs(t,r.document);n=new sm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Te();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new ele(i,s);n=new MN(r.targetId,o)}}var l;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?_n(o.readTime):ke.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Ph(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=J1(c)?{documents:UN(s,c)}:{query:y8(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FN(s,o.resumeToken);const l=g8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=lu(s,o.snapshotVersion.toTimestamp());const l=g8(s,o.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const r=function dle(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Ph(this.serializer),n.removeTarget=e,this.e_(n)}}class Zle extends OO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function ule(t,e){return t&&t.length>0?(Pe(void 0!==e),t.map(n=>function(i,s){let o=_n(i.updateTime?i.updateTime:s);return o.isEqual(ke.min())&&(o=_n(s)),new Qce(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=_n(e.commitTime);return this.listener.I_(r,n)}return Pe(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ph(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Mh(t,e){let n;if(e instanceof au)n={update:HN(t,e.key,e.value)};else if(e instanceof cu)n={delete:Sh(t,e.key)};else if(e instanceof po)n={update:HN(t,e.key,e.data),updateMask:gle(e.fieldMask)};else{if(!(e instanceof u8))return Te();n={verify:Sh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof su)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof oc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ou)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:ale(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Te()),n;var s}(this.serializer,r))};this.e_(n)}}class eue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(B.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(B.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class nue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(mn(n),this.f_=!1):ie("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class rue{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(v(function*(){var c;oa(o)&&(ie("RemoteStore","Restarting streams for network reachability change."),yield(c=v(function*(u){const d=_e(u);d.C_.add(4),yield _u(d),d.M_.set("Unknown"),d.C_.delete(4),yield Hh(d)}),function l(u){return c.apply(this,arguments)})(o))}))}),this.M_=new nue(r,i)}}function Hh(t){return $8.apply(this,arguments)}function $8(){return $8=v(function*(t){if(oa(t))for(const e of t.v_)yield e(!0)}),$8.apply(this,arguments)}function _u(t){return G8.apply(this,arguments)}function G8(){return G8=v(function*(t){for(const e of t.v_)yield e(!1)}),G8.apply(this,arguments)}function xm(t,e){const n=_e(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),K8(n)?W8(n):yu(n).Ho()&&q8(n,e))}function zh(t,e){const n=_e(t),r=yu(n);n.D_.delete(e),r.Ho()&&FO(n,e),0===n.D_.size&&(r.Ho()?r.Zo():oa(n)&&n.M_.set("Unknown"))}function q8(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yu(t).u_(e)}function FO(t,e){t.x_.Oe(e),yu(t).c_(e)}function W8(t){t.x_=new nle({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),yu(t).start(),t.M_.g_()}function K8(t){return oa(t)&&!yu(t).jo()&&t.D_.size>0}function oa(t){return 0===_e(t).C_.size}function VO(t){t.x_=void 0}function iue(t){return Y8.apply(this,arguments)}function Y8(){return Y8=v(function*(t){t.D_.forEach((e,n)=>{q8(t,e)})}),Y8.apply(this,arguments)}function sue(t,e){return Q8.apply(this,arguments)}function Q8(){return Q8=v(function*(t,e){VO(t),K8(t)?(t.M_.w_(e),W8(t)):t.M_.set("Unknown")}),Q8.apply(this,arguments)}function oue(t,e,n){return X8.apply(this,arguments)}function X8(){return X8=v(function*(t,e,n){if(t.M_.set("Online"),e instanceof RN&&2===e.state&&e.cause)try{yield(r=v(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cm(t,r)}else if(e instanceof sm?t.x_.$e(e):e instanceof MN?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ke.min()))try{const r=yield wO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=s.D_.get(l);u&&s.D_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=s.D_.get(c);if(!u)return;s.D_.set(c,u.withResumeToken(Mn.EMPTY_BYTE_STRING,u.snapshotVersion)),FO(s,c);const d=new go(u.target,c,l,u.sequenceNumber);q8(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),yield Cm(t,r)}var r}),X8.apply(this,arguments)}function Cm(t,e,n){return J8.apply(this,arguments)}function J8(){return J8=v(function*(t,e,n){if(!Yo(e))throw e;t.C_.add(1),yield _u(t),t.M_.set("Offline"),n||(n=()=>wO(t.localStore)),t.asyncQueue.enqueueRetryable(v(function*(){ie("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield Hh(t)}))}),J8.apply(this,arguments)}function LO(t,e){return e().catch(n=>Cm(t,n,e))}function vu(t){return Z8.apply(this,arguments)}function Z8(){return Z8=v(function*(t){const e=_e(t),n=aa(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;aue(e);)try{const i=yield Gle(e.localStore,r);if(null===i){0===e.b_.length&&n.Zo();break}r=i.batchId,cue(e,i)}catch(i){yield Cm(e,i)}BO(e)&&HO(e)}),Z8.apply(this,arguments)}function aue(t){return oa(t)&&t.b_.length<10}function cue(t,e){t.b_.push(e);const n=aa(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function BO(t){return oa(t)&&!aa(t).jo()&&t.b_.length>0}function HO(t){aa(t).start()}function lue(t){return ex.apply(this,arguments)}function ex(){return ex=v(function*(t){aa(t).E_()}),ex.apply(this,arguments)}function uue(t){return tx.apply(this,arguments)}function tx(){return tx=v(function*(t){const e=aa(t);for(const n of t.b_)e.P_(n.mutations)}),tx.apply(this,arguments)}function due(t,e,n){return nx.apply(this,arguments)}function nx(){return nx=v(function*(t,e,n){const r=t.b_.shift(),i=f8.from(r,e,n);yield LO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vu(t)}),nx.apply(this,arguments)}function fue(t,e){return rx.apply(this,arguments)}function rx(){return rx=v(function*(t,e){var n;e&&aa(t).h_&&(yield(n=v(function*(i,s){if(function AN(t){switch(t){default:return Te();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}(a=s.code)&&a!==B.ABORTED){const o=i.b_.shift();aa(i).Yo(),yield LO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield vu(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),BO(t)&&HO(t)}),rx.apply(this,arguments)}function zO(t,e){return ix.apply(this,arguments)}function ix(){return ix=v(function*(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=oa(n);n.C_.add(3),yield _u(n),r&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Hh(n)}),ix.apply(this,arguments)}function ox(){return ox=v(function*(t,e){const n=_e(t);e?(n.C_.delete(2),yield Hh(n)):e||(n.C_.add(2),yield _u(n),n.M_.set("Unknown"))}),ox.apply(this,arguments)}function yu(t){return t.O_||(t.O_=function(n,r,i){const s=_e(n);return s.A_(),new Jle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:iue.bind(null,t),Io:sue.bind(null,t),a_:oue.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.O_.Yo(),K8(t)?W8(t):t.M_.set("Unknown")):(yield t.O_.stop(),VO(t))});return function(n){return e.apply(this,arguments)}}())),t.O_}function aa(t){return t.N_||(t.N_=function(n,r,i){const s=_e(n);return s.A_(),new Zle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:lue.bind(null,t),Io:fue.bind(null,t),T_:uue.bind(null,t),I_:due.bind(null,t)}),t.v_.push(function(){var e=v(function*(n){n?(t.N_.Yo(),yield vu(t)):(yield t.N_.stop(),t.b_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))});return function(n){return e.apply(this,arguments)}}())),t.N_}class ax{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ax(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eu(t,e){if(mn("AsyncQueue",`${e}: ${t}`),Yo(t))return new se(B.UNAVAILABLE,`${e}: ${t}`);throw t}class xu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Ch(),this.sortedSet=new Bt(this.comparator)}static emptySet(e){return new xu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class UO{constructor(){this.B_=new Bt(ve.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(n):1===e.type&&2===r.type?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Te():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cu{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Cu(e,n,xu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class hue{constructor(){this.k_=void 0,this.listeners=[]}}class pue{constructor(){this.queries=new ho(e=>aN(e),Eh),this.onlineState="Unknown",this.q_=new Set}}function lx(){return lx=v(function*(t,e){const n=_e(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new hue),i)try{s.k_=yield n.onListen(r)}catch(o){const a=Eu(o,`Initialization of query '${iu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&fx(n)}),lx.apply(this,arguments)}function dx(){return dx=v(function*(t,e){const n=_e(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),dx.apply(this,arguments)}function gue(t,e){const n=_e(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&fx(n)}function mue(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function fx(t){t.q_.forEach(e=>{e.next()})}class hx{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class GO{constructor(e){this.key=e}}class qO{constructor(e){this.key=e}}class WO{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Je(),this.mutatedKeys=Je(),this._a=lN(e),this.aa=new xu(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new UO,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=xh(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),y=!0):this.ha(f,h)||(r.track({type:2,doc:h}),y=!0,(c&&this._a(h,c)>0||l&&this._a(h,l)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),y=!0):f&&!h&&(r.track({type:1,doc:f}),y=!0,(c||l)&&(a=!0)),y&&(h?(o=o.add(h),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((l,u)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return p(f)-p(h)}(l.type,u.type)||this._a(l.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new Cu(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new UO,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Je(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new qO(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new GO(r))}),n}da(e){this.ia=e.ls,this.oa=Je();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Cu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class yue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Eue{constructor(e){this.key=e,this.Ra=!1}}class xue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ho(a=>aN(a),Eh),this.fa=new Map,this.ga=new Set,this.pa=new Bt(ve.comparator),this.ya=new Map,this.wa=new T8,this.Sa={},this.ba=new Map,this.Da=fc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Cue(t,e){return px.apply(this,arguments)}function px(){return px=v(function*(t,e){const n=function Vx(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wue.bind(null,e),e.Va.a_=gue.bind(null,e.eventManager),e.Va.Fa=mue.bind(null,e.eventManager),e}(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function gu(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new go(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}(n.localStore,Sr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function gx(t,e,n,r,i){return mx.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&xm(n.remoteStore,o)}return i}),px.apply(this,arguments)}function mx(){return mx=v(function*(t,e,n,r,i){t.va=(d,f,h)=>{return(p=v(function*(y,S,w,U){let Y=S.view.ca(w);Y.Zi&&(Y=yield mm(y.localStore,S.query,!1).then(({documents:Qe})=>S.view.ca(Qe,Y)));const he=U&&U.targetChanges.get(S.targetId),Re=S.view.applyChanges(Y,y.isPrimaryClient,he);return Ax(y,S.targetId,Re.Ta),Re.snapshot}),function g(y,S,w,U){return p.apply(this,arguments)})(t,d,f,h);var p};const s=yield mm(t.localStore,e,!0),o=new WO(e,s.ls),a=o.ca(s.documents),c=Dh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,c);Ax(t,n,l.Ta);const u=new yue(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}),mx.apply(this,arguments)}function Iue(t,e){return _x.apply(this,arguments)}function _x(){return _x=v(function*(t,e){const n=_e(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Eh(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),zh(n.remoteStore,r.targetId),Iu(n,r.targetId)}).catch(Ko))):(Iu(n,r.targetId),yield mu(n.localStore,r.targetId,!0))}),_x.apply(this,arguments)}function vx(){return vx=v(function*(t,e,n){const r=function Lx(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tue.bind(null,e),e}(t);try{const i=yield function(o,a){const c=_e(o),l=rn.now(),u=a.reduce((h,p)=>h.add(p.key),Je());let d,f;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Qr(),g=Je();return c.ss.getEntries(h,u).next(y=>{p=y,p.forEach((S,w)=>{w.isValidDocument()||(g=g.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,p)).next(y=>{d=y;const S=[];for(const w of a){const U=Jce(w,d.get(w.key).overlayedDocument);null!=U&&S.push(new po(w.key,U,qk(U.value.mapValue),Zt.exists(!0)))}return c.mutationQueue.addMutationBatch(h,l,S,a)}).next(y=>{f=y;const S=y.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(h,y.batchId,S)})}).then(()=>({batchId:f.batchId,changes:dN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Bt(je)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield mo(r,i.changes),yield vu(r.remoteStore)}catch(i){const s=Eu(i,"Failed to persist write");n.reject(s)}}),vx.apply(this,arguments)}function KO(t,e){return yx.apply(this,arguments)}function yx(){return yx=v(function*(t,e){const n=_e(t);try{const r=yield function $le(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);var g,y,S;null!==e.targetMismatches.get(d)?h=h.withResumeToken(Mn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),y=h,S=u,(0===(g=f).resumeToken.approximateByteSize()||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0)&&a.push(n.qr.updateTargetData(s,h))});let c=Qr(),l=Je();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function AO(t,e,n){let r=Je(),i=Je();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Qr();return n.forEach((a,c)=>{const l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!r.isEqual(ke.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ts=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Pe(o.Ra):i.removedDocuments.size>0&&(Pe(o.Ra),o.Ra=!1))}),yield mo(n,r,e)}catch(r){yield Ko(r)}}),yx.apply(this,arguments)}function YO(t,e,n){const r=_e(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=_e(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(l=!0)}),l&&fx(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wue(t,e,n){return Ex.apply(this,arguments)}function Ex(){return Ex=v(function*(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Bt(ve.comparator);o=o.insert(s,$t.newNoDocument(s,ke.min()));const a=Je().add(s),c=new Th(ke.min(),new Map,new Bt(je),o,a);yield KO(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),Tx(r)}else yield mu(r.localStore,e,!1).then(()=>Iu(r,e,n)).catch(Ko)}),Ex.apply(this,arguments)}function Aue(t,e){return xx.apply(this,arguments)}function xx(){return xx=v(function*(t,e){const n=_e(t),r=e.batch.batchId;try{const i=yield function jle(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const d=l.batch,f=d.keys();let h=R.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(c,p)).next(g=>{const y=l.docVersions.get(p);Pe(null!==y),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Je();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);wx(n,r,null),bx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield mo(n,i)}catch(i){yield Ko(i)}}),xx.apply(this,arguments)}function Tue(t,e,n){return Cx.apply(this,arguments)}function Cx(){return Cx=v(function*(t,e,n){const r=_e(t);try{const i=yield function(o,a){const c=_e(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Pe(null!==d),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);wx(r,e,n),bx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield mo(r,i)}catch(i){yield Ko(i)}}),Cx.apply(this,arguments)}function bx(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function wx(t,e,n){const r=_e(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Iu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||QO(t,r)})}function QO(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);null!==n&&(zh(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Tx(t))}function Ax(t,e,n){for(const r of n)r instanceof GO?(t.wa.addReference(r.key,e),Sue(t,r)):r instanceof qO?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||QO(t,r.key)):Te()}function Sue(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.ga.add(r),Tx(t))}function Tx(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ve(ft.fromString(e)),r=t.Da.next();t.ya.set(r,new Eue(n)),t.pa=t.pa.insert(n,r),xm(t.remoteStore,new go(Sr(nu(n.path)),r,"TargetPurposeLimboResolution",di._e))}}function mo(t,e,n){return Dx.apply(this,arguments)}function Dx(){return Dx=v(function*(t,e,n){const r=_e(t),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=R8.Qi(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=v(function*(l,u){const d=_e(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>R.forEach(u,h=>R.forEach(h.ki,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>R.forEach(h.qi,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Yo(f))throw f;ie("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.ts.get(h),y=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(h,y)}}}),function c(l,u){return a.apply(this,arguments)})(r.localStore,s))}),Dx.apply(this,arguments)}function Pue(t,e){return Sx.apply(this,arguments)}function Sx(){return Sx=v(function*(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=yield bO(n.localStore,e);n.currentUser=e,(s=n).ba.forEach(a=>{a.forEach(c=>{c.reject(new se(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield mo(n,r._s)}var s}),Sx.apply(this,arguments)}function Mue(t,e){const n=_e(t),r=n.ya.get(e);if(r&&r.Ra)return Je().add(r.key);{let i=Je();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class Im{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=Bh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function IO(t,e,n,r){return new Ule(t,e,n,r)}(this.persistence,new CO,e.initialUser,this.serializer)}createPersistence(e){return new D8(hm.jr,this.serializer)}createSharedClientState(e){return new RO}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bu{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>YO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Pue.bind(null,r.syncEngine),yield function sx(t,e){return ox.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pue}createDatastore(e){const n=Bh(e.databaseInfo.databaseId),r=new Xle(e.databaseInfo);return new eue(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>YO(this.syncEngine,n,0),a=kO.D()?new kO:new Kle,new rue(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){const d=new xue(i,s,o,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=v(function*(r){const i=_e(r);ie("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield _u(i),i.F_.shutdown(),i.M_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class bm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):mn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class $ue{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bn.UNAUTHENTICATED,this.clientId=Ik.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){ie("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Eu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function wm(t,e){return Bx.apply(this,arguments)}function Bx(){return Bx=v(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield bO(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Bx.apply(this,arguments)}function Hx(t,e){return zx.apply(this,arguments)}function zx(){return zx=v(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Ux(t){return jx.apply(this,arguments)}(t);ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>zO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>zO(e.remoteStore,s)),t._onlineComponents=e}),zx.apply(this,arguments)}function jx(){return jx=v(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function nF(t){return"FirebaseError"===t.name?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;li("Error using user provided cache. Falling back to memory cache: "+n),yield wm(t,new Im)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),yield wm(t,new Im);return t._offlineComponents}),jx.apply(this,arguments)}function Am(t){return $x.apply(this,arguments)}function $x(){return $x=v(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hx(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),yield Hx(t,new bu))),t._onlineComponents}),$x.apply(this,arguments)}function Au(t){return qx.apply(this,arguments)}function qx(){return qx=v(function*(t){const e=yield Am(t),n=e.eventManager;return n.onListen=Cue.bind(null,e.syncEngine),n.onUnlisten=Iue.bind(null,e.syncEngine),n}),qx.apply(this,arguments)}function cF(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const lF=new Map;function Wx(t,e,n){if(!n)throw new se(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uF(t){if(!ve.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dF(t){if(ve.isDocumentKey(t))throw new se(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Te()}function ot(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tm(t);throw new se(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class hF{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new se(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new se(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function tde(t,e,n,r){if(!0===e&&!0===r)throw new se(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=cF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new se(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Xae;switch(r.type){case"firstParty":return new tce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lF.get(n);r&&(ie("ComponentProvider","Removing Datastore"),lF.delete(n),r.terminate())}(this),Promise.resolve()}}class nr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nr(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class ws extends nr{constructor(e,n,r){super(e,n,nu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ve(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function rde(t,e,...n){if(t=an(t),Wx("collection","path",e),t instanceof Uh){const r=ft.fromString(e,...n);return dF(r),new ws(t,null,r)}{if(!(t instanceof vn||t instanceof ws))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return dF(r),new ws(t.firestore,null,r)}}function pF(t,e,...n){if(t=an(t),1===arguments.length&&(e=Ik.newId()),Wx("doc","path",e),t instanceof Uh){const r=ft.fromString(e,...n);return uF(r),new vn(t,null,new ve(r))}{if(!(t instanceof vn||t instanceof ws))throw new se(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return uF(r),new vn(t.firestore,t instanceof ws?t.converter:null,new ve(r))}}class ide{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new U8(this,"async_queue_retry"),this.iu=()=>{const n=Em();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Em();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Em();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Pn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return v(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Yo(n))throw n;ie("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,mn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ax.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Te()}verifyOperationInProgress(){}uu(){var e=this;return v(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Kx(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class Ht extends Uh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ide,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mF(this),this._firestoreClient.terminate()}}function ode(t,e){const r="string"==typeof t?t:e||"(default)",i=ms("object"==typeof t?t:Ol(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=CM("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&function nde(t,e,n,r={}){var i;const s=(t=ot(t,Uh))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Bn.MOCK_USER;else{a=function Zte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$g(JSON.stringify({alg:"none",type:"JWT"})),$g(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Bn(l)}t._authCredentials=new Jae(new xk(a,c))}}(i,...s)}return i}function yn(t){return t._firestoreClient||mF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mF(t){var e,n,r;const i=t._freezeSettings(),s=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Mce(t._databaseId,c,t._persistenceKey,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,cF(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;t._firestoreClient=new $ue(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pc(Mn.fromBase64String(e))}catch(n){throw new se(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pc(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new se(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yx{constructor(e){this._methodName=e}}class Qx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}const cde=/^__.*__$/;class lde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class yF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function EF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Dm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Pm(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(EF(this.Iu)&&cde.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class ude{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bh(e)}pu(e,n,r,i=!1){return new Dm({Iu:e,methodName:n,gu:r,path:Jt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Du(t){const e=t._freezeSettings(),n=Bh(t._databaseId);return new ude(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Xx(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Zx("Data must be an object, but it was:",o,r);const a=wF(r,o);let c,l;if(s.merge)c=new Yr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=Gh(e,d,n);if(!o.contains(f))throw new se(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);TF(u,f)||u.push(f)}c=new Yr(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new lde(new tr(a),c,l)}class $h extends Yx{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function gc(t,e){if(AF(t=an(t)))return Zx("Unsupported field value:",e,t),wF(t,e);if(t instanceof Yx)return function(r,i){if(!EF(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=gc(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=an(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return gN(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=rn.fromDate(r);return{timestampValue:lu(i.serializer,s)}}if(r instanceof rn){const s=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lu(i.serializer,s)}}if(r instanceof Qx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pc)return{bytesValue:FN(i.serializer,r._byteString)};if(r instanceof vn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:m8(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Tm(r)}`)}(t,e)}function wF(t,e){const n={};return Vk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(t,(r,i)=>{const s=gc(i,e.Eu(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function AF(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof Qx||t instanceof pc||t instanceof vn||t instanceof Yx)}function Zx(t,e,n){if(!AF(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Tm(n);throw e.mu("an object"===r?t+" a custom object":t+" "+r)}var i}function Gh(t,e,n){if((e=an(e))instanceof Tu)return e._internalPath;if("string"==typeof e)return Sm(t,e);throw Pm("Field path arguments must be of type string or ",t,!1,void 0,n)}const pde=new RegExp("[~\\*/\\[\\]]");function Sm(t,e,n){if(e.search(pde)>=0)throw Pm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tu(...e.split("."))._internalPath}catch{throw Pm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new se(B.INVALID_ARGUMENT,a+t+c)}function TF(t,e){return t.some(n=>n.isEqual(e))}class eC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class gde extends eC{data(){return super.data()}}function Mm(t,e){return"string"==typeof e?Sm(t,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}class tC{}class SF extends tC{}function mde(t,e,...n){let r=[];e instanceof tC&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Su).length,a=s.filter(c=>c instanceof qh).length;if(o>1||o>0&&a>0)throw new se(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class qh extends SF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qh(e,n,r)}_apply(e){const n=this._parse(e);return kF(e._query,n),new nr(e.firestore,e.converter,c8(e._query,n))}_parse(e){const n=Du(e.firestore);return function(s,o,a,c,l,u,d){let f;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new se(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){RF(d,u);const h=[];for(const p of d)h.push(MF(c,s,p));f={arrayValue:{values:h}}}else f=MF(c,s,d)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||RF(d,u),f=function bF(t,e,n,r=!1){return gc(n,t.pu(r?4:3,e))}(a,"where",d,"in"===u||"not-in"===u);return st.create(l,u,f)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function _de(t,e,n){const r=e,i=Mm("where",t);return qh._create(i,r,n)}class Su extends tC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Su(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:bt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)kF(o,c),o=c8(o,c)}(e._query,n),new nr(e.firestore,e.converter,c8(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Rm extends SF{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Rm(e,n,r)}_apply(e){return new nr(e.firestore,e.converter,em(e._query,this._limit,this._limitType))}}function vde(t){return function fF(t,e){if(e<=0)throw new se(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Rm._create("limit",t,"F")}function MF(t,e,n){if("string"==typeof(n=an(n))){if(""===n)throw new se(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a8(e)&&-1!==n.indexOf("/"))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!ve.isDocumentKey(r))throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rc(t,new ve(r))}if(n instanceof vn)return rc(t,n._key);throw new se(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tm(n)}.`)}function RF(t,e){if(!Array.isArray(t)||0===t.length)throw new se(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kF(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new se(B.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yde{convertValue(e,n="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Qx(un(e.latitude),un(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=K1(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ph(e));default:return null}}convertTimestamp(e){const n=Xo(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);Pe(qN(r));const i=new nc(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||mn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pu extends eC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Om extends Pu{data(e={}){return super.data(e)}}class Mu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Om(this._firestore,this._userDataWriter,r.key,r,new mc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Om(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new Om(i._firestore,i._userDataWriter,a.doc.key,a.doc,new mc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:xde(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class ca extends yde{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function Cde(t,e,n){t=ot(t,vn);const r=ot(t.firestore,Ht),i=function rC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Wh(r,[Xx(Du(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Zt.none())])}function Ide(t,e,n,...r){t=ot(t,vn);const i=ot(t.firestore,Ht),s=Du(i);let o;return o="string"==typeof(e=an(e))||e instanceof Tu?function IF(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Gh(e,r,n)],c=[i];if(s.length%2!=0)throw new se(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Gh(e,s[f])),c.push(s[f+1]);const l=[],u=tr.empty();for(let f=a.length-1;f>=0;--f)if(!TF(l,a[f])){const h=a[f];let p=c[f];p=an(p);const g=o.Ru(h);if(p instanceof $h)l.push(h);else{const y=gc(p,g);null!=y&&(l.push(h),u.set(h,y))}}const d=new Yr(l);return new yF(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function CF(t,e,n,r){const i=t.pu(1,e,n);Zx("Data must be an object, but it was:",i,r);const s=[],o=tr.empty();Qo(r,(c,l)=>{const u=Sm(e,c,n);l=an(l);const d=i.Ru(u);if(l instanceof $h)s.push(u);else{const f=gc(l,d);null!=f&&(s.push(u),o.set(u,f))}});const a=new Yr(s);return new yF(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Wh(i,[o.toMutation(t._key,Zt.exists(!0))])}function Wh(t,e){return function(r,i){const s=new Pn;return r.asyncQueue.enqueueAndForget(v(function*(){return function bue(t,e,n){return vx.apply(this,arguments)}(yield function Gx(t){return Am(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(yn(t),e)}!function(e,n=!0){Kl=Nl,Ti(new oi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ht(new Zae(r.getProvider("auth-internal")),new nce(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new se(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),cn(Ek,"4.3.2",e),cn(Ek,"4.3.2","esm2017")}();var Lm=function(){return Lm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},Lm.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Vde={includeMetadataChanges:!1};function aC(t,e){return void 0===e&&(e=Vde),new fe(function(n){var r=function bde(t,...e){var n,r,i;t=an(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Kx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Kx(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let c,l,u;if(t instanceof vn)l=ot(t.firestore,Ht),u=nu(t._key.path),c={next:d=>{e[o]&&e[o](function iC(t,e,n){const r=n.docs.get(e._key),i=new ca(t);return new Pu(t,i,e._key,r,new mc(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ot(t,nr);l=ot(d.firestore,Ht),u=d._query;const f=new ca(l);c={next:h=>{e[o]&&e[o](new Mu(l,f,d,h))},error:e[o+1],complete:e[o+2]},function DF(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new se(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(f,h,p,g){const y=new bm(g),S=new hx(h,y,p);return f.asyncQueue.enqueueAndForget(v(function*(){return function cx(t,e){return lx.apply(this,arguments)}(yield Au(f),S)})),()=>{y.Na(),f.asyncQueue.enqueueAndForget(v(function*(){return function ux(t,e){return dx.apply(this,arguments)}(yield Au(f),S)}))}}(yn(l),u,a,c)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Bde(t,e){return void 0===e&&(e={}),function Lde(t){return aC(t,{includeMetadataChanges:!0})}(t).pipe(Xe(function(n){return LF(n,e)}))}function LF(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?Lm(Lm({},r),((n={})[e.idField]=t.id,n)):r}function Gde(t,e){return void 0===e&&(e={}),function $de(t){return aC(t,{includeMetadataChanges:!0}).pipe(Xe(function(e){return e.docs}))}(t).pipe(Xe(function(n){return n.map(function(r){return LF(r,e)})}))}class As{constructor(e){return e}}const UF="firestore",uC=new xe("angularfire2.firestore-instances");function Yde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new As(r)}}const Qde={provide:class Wde{constructor(){return Jg(UF)}},deps:[[new zt,uC]]},Xde={provide:As,useFactory:function Kde(t,e){const n=Xg(UF,t,e);return n&&new As(n)},deps:[[new zt,uC],Ga]};let Jde=(()=>{var t;class e{constructor(){cn("angularfire",Ho.full,"fst")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",xt({providers:[Xde,Qde]})),e})();function _c(t,...e){return{ngModule:Jde,providers:[{provide:uC,useFactory:Yde(t),multi:!0,deps:[pt,Dn,Tf,Df,[new zt,n9],[new zt,X4],...e]}]}}const Bm=xn(Gde,!0),Hm=xn(Bde,!0),_o=xn(rde,!0),fi=xn(pF,!0),vc=xn(ode,!0),jF=xn(vde,!0),zm=xn(mde,!0),Kh=xn(Cde,!0),Um=xn(Ide,!0),dC=xn(_de,!0);class jm{constructor(e,n){this._status=e,this._role=n}get status(){return this._status}get role(){return this._role}}var Ru,fC=function(t){return t.USER="user",t.ADMIN="admin",t.TEAM_LEADER="tl",t}(fC||{}),tt=function(t){return t.GAME_ENDPOINT="game-endpoint",t.USER="user",t.ALLIANCE_MEMBERS="alliance-members",t.PLAYERS_STATS="players-stats",t.LOCAL_METADATA="local-metadata",t.REMOTE_METADATA="remote-metadata",t.JS_VERSION="js-version",t.PLAYERS_RANKINGS_SORT="players-rankings-sort",t}(tt||{});class $F{constructor(e,n){this._value=JSON.stringify(e),this._ttl=n,this._expiry=Date.now()+n}get value(){return this._value}get expiry(){return this._expiry}get ttl(){return this._ttl}set value(e){this._value=e}set expiry(e){this._expiry=e}set ttl(e){this._ttl=e}toJSON(){return{ttl:this.ttl,expiry:this.expiry,value:this.value}}}class Pr{clearAll(){localStorage.clear()}cache(e,n,r=0){const i=new $F(n,r);localStorage.setItem(e,JSON.stringify(i))}get(e,n=!0){const r=localStorage.getItem(e);if(!r)return null;const i=Object.assign($F,JSON.parse(r));return i.ttl>0&&Date.now()>i.expiry&&n?(localStorage.removeItem(e),null):JSON.parse(i.value)}remoteMetadata(){return this.get(tt.REMOTE_METADATA)}localMetadata(){return this.get(tt.LOCAL_METADATA)}remove(e){localStorage.removeItem(e)}}(Ru=Pr).\u0275fac=function(e){return new(e||Ru)},Ru.\u0275prov=be({token:Ru,factory:Ru.\u0275fac,providedIn:"platform"}),Wt([_r(2,zt())],Pr.prototype,"cache",null),Wt([_r(1,zt())],Pr.prototype,"get",null);var ku,hC=V(874);class Ts{constructor(){this.localStorageService=q(Pr),this._authState=new Tt,this._refreshInProgress=!1}ngOnDestroy(){null!=this.authSubscription&&this.authSubscription.unsubscribe()}checkLoginValidity(e=!0){if(null===this.localStorageService.get(tt.USER))return!1;let n=this.localStorageService.get(tt.USER).session.timeToken,r=this.localStorageService.get(tt.USER).session.refreshToken,i=Date.parse(hC.AES.decrypt(n,r).toString(hC.enc.Utf8)),s=Date.now()-i<=6048e5;return s&&e&&this._authState.emit(new jm(s,this.localStorageService.get(tt.USER).session.role)),s}setUpFirebaseAuthSubscription(e,n){if(!this.checkLoginValidity(!1)){if(null!==this.localStorageService.get(tt.USER)&&this.signOut(e),this.authSubscription)return;this.authSubscription=r9(e).subscribe(r=>{if(null!=r){let i=Bm(zm(_o(n,"valid-users"),dC("email","==",r.email),jF(1))).subscribe(s=>{if(s.length>0){let o=Object.assign({email:"",enabled:!1,role:fC.USER},s[0]);o.enabled?(this.localStorageService.cache(tt.USER,{session:{timeToken:hC.AES.encrypt(r.metadata.lastSignInTime,r.refreshToken).toString(),refreshToken:r.refreshToken,role:o.role}}),this._authState.emit(new jm(!0,o.role)),window.location.reload()):this.signOut(e)}else this.signOut(e);i.unsubscribe()})}else this.localStorageService.remove(tt.USER),this._authState.emit(new jm(!1,null))})}}signInWithEmailAndPassword(e,n,r){Uoe(e,n,r).catch(i=>{window.alert(i.message)})}signInWithGoogle(e){joe(e,new Bie).catch(n=>{window.alert(n.message)})}signOut(e){this.localStorageService.remove(tt.USER),this._refreshInProgress=!0,this._authState.emit(new jm(!1,null)),this.authSubscription&&(this.authSubscription.unsubscribe(),this.authSubscription=null),e.signOut().then(()=>{window.location.reload()}).catch(n=>{window.alert(n.message)})}get authState(){return this._authState}get refreshInProgress(){return this._refreshInProgress}}function Ds(t,e){return Ve((n,r)=>{let i=0;n.subscribe(rt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function pC(...t){return function efe(){return Zp(1)}()(Gn(t,dd(t)))}function GF(...t){const e=dd(t);return Ve((n,r)=>{(e?pC(t,n,e):pC(t,n)).subscribe(r)})}(ku=Ts).\u0275fac=function(e){return new(e||ku)},ku.\u0275prov=be({token:ku,factory:ku.\u0275fac,providedIn:"platform"}),Wt([_r(0,zt())],Ts.prototype,"checkLoginValidity",null);const nfe=(t,e)=>e.some(n=>t instanceof n);let qF,WF;const KF=new WeakMap,gC=new WeakMap,YF=new WeakMap,mC=new WeakMap,_C=new WeakMap;let vC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return gC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||YF.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return la(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lfe(t){return"function"==typeof t?function cfe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ife(){return WF||(WF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(yC(this),e),la(KF.get(this))}:function(...e){return la(t.apply(yC(this),e))}:function(e,...n){const r=t.call(yC(this),e,...n);return YF.set(r,e.sort?e.sort():[e]),la(r)}}(t):(t instanceof IDBTransaction&&function ofe(t){if(gC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gC.set(t,e)}(t),nfe(t,function rfe(){return qF||(qF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,vC):t)}function la(t){if(t instanceof IDBRequest)return function sfe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(la(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&KF.set(n,t)}).catch(()=>{}),_C.set(e,t),e}(t);if(mC.has(t))return mC.get(t);const e=lfe(t);return e!==t&&(mC.set(t,e),_C.set(e,t)),e}const yC=t=>_C.get(t),dfe=["get","getKey","getAll","getAllKeys","count"],ffe=["put","add","delete","clear"],EC=new Map;function QF(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(EC.get(e))return EC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ffe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!dfe.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return EC.set(e,s),s}!function afe(t){vC=t(vC)}(t=>({...t,get:(e,n,r)=>QF(e,n)||t.get(e,n,r),has:(e,n)=>!!QF(e,n)||t.has(e,n)}));const XF="@firebase/installations",xC="0.6.4",JF=1e4,ZF=`w:${xC}`,eV="FIS_v2",hfe="https://firebaseinstallations.googleapis.com/v1",pfe=36e5,vo=new Lo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tV(t){return t instanceof ji&&t.code.includes("request-failed")}function CC({projectId:t}){return`${hfe}/projects/${t}/installations`}function nV(t){return{token:t.token,requestStatus:2,expiresIn:vfe(t.expiresIn),creationTime:Date.now()}}function IC(t,e){return bC.apply(this,arguments)}function bC(){return bC=v(function*(t,e){const r=(yield e.json()).error;return vo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),bC.apply(this,arguments)}function rV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wC(t){return AC.apply(this,arguments)}function AC(){return AC=v(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e}),AC.apply(this,arguments)}function vfe(t){return Number(t.replace("s","000"))}function TC(){return TC=v(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=CC(t),i=rV(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:eV,appId:t.appId,sdkVersion:ZF})},c=yield wC(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:nV(l.authToken)}}throw yield IC("Create Installation",c)}),TC.apply(this,arguments)}function sV(t){return new Promise(e=>{setTimeout(e,t)})}const Cfe=/^[cdef][\w-]{21}$/,DC="";function Ife(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function bfe(t){return function xfe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Cfe.test(n)?n:DC}catch{return DC}}function Nu(t){return`${t.appName}!${t.appId}`}const Ou=new Map;function oV(t,e){const n=Nu(t);aV(n,e),function Tfe(t,e){const n=function cV(){return!yc&&"BroadcastChannel"in self&&(yc=new BroadcastChannel("[Firebase] FID Change"),yc.onmessage=t=>{aV(t.data.key,t.data.fid)}),yc}();n&&n.postMessage({key:t,fid:e}),function lV(){0===Ou.size&&yc&&(yc.close(),yc=null)}()}(n,e)}function aV(t,e){const n=Ou.get(t);if(n)for(const r of n)r(e)}let yc=null;const Dfe="firebase-installations-database",Sfe=1,Ec="firebase-installations-store";let SC=null;function PC(){return SC||(SC=function ufe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=la(o);return r&&o.addEventListener("upgradeneeded",c=>{r(la(o.result),c.oldVersion,c.newVersion,la(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Dfe,Sfe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ec)}})),SC}function $m(t,e){return MC.apply(this,arguments)}function MC(){return MC=v(function*(t,e){const n=Nu(t),i=(yield PC()).transaction(Ec,"readwrite"),s=i.objectStore(Ec),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&oV(t,e.fid),e}),MC.apply(this,arguments)}function RC(t){return kC.apply(this,arguments)}function kC(){return kC=v(function*(t){const e=Nu(t),r=(yield PC()).transaction(Ec,"readwrite");yield r.objectStore(Ec).delete(e),yield r.done}),kC.apply(this,arguments)}function Yh(t,e){return NC.apply(this,arguments)}function NC(){return NC=v(function*(t,e){const n=Nu(t),i=(yield PC()).transaction(Ec,"readwrite"),s=i.objectStore(Ec),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&oV(t,a.fid),a}),NC.apply(this,arguments)}function OC(t){return FC.apply(this,arguments)}function FC(){return FC=v(function*(t){let e;const n=yield Yh(t.appConfig,r=>{const i=function Pfe(t){return dV(t||{fid:Ife(),registrationStatus:0})}(r),s=function Mfe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(vo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Rfe(t,e){return VC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:kfe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===DC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),FC.apply(this,arguments)}function VC(){return VC=v(function*(t,e){try{const n=yield function Efe(t,e){return TC.apply(this,arguments)}(t,e);return $m(t.appConfig,n)}catch(n){throw tV(n)&&409===n.customData.serverCode?yield RC(t.appConfig):yield $m(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),VC.apply(this,arguments)}function kfe(t){return LC.apply(this,arguments)}function LC(){return LC=v(function*(t){let e=yield uV(t.appConfig);for(;1===e.registrationStatus;)yield sV(100),e=yield uV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield OC(t);return r||n}return e}),LC.apply(this,arguments)}function uV(t){return Yh(t,e=>{if(!e)throw vo.create("installation-not-found");return dV(e)})}function dV(t){return function Nfe(t){return 1===t.registrationStatus&&t.registrationTime+JF<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function BC(){return BC=v(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Ffe(t,{fid:e}){return`${CC(t)}/${e}/authTokens:generate`}(t,n),i=function iV(t,{refreshToken:e}){const n=rV(t);return n.append("Authorization",function yfe(t){return`${eV} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:ZF,appId:t.appId}})},c=yield wC(()=>fetch(r,a));if(c.ok)return nV(yield c.json());throw yield IC("Generate Auth Token",c)}),BC.apply(this,arguments)}function HC(t){return zC.apply(this,arguments)}function zC(){return zC=v(function*(t,e=!1){let n;const r=yield Yh(t.appConfig,s=>{if(!hV(s))throw vo.create("not-registered");const o=s.authToken;if(!e&&function Bfe(t){return 2===t.requestStatus&&!function Hfe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+pfe}(t)}(o))return s;if(1===o.requestStatus)return n=function Vfe(t,e){return UC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw vo.create("app-offline");const a=function zfe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Lfe(t,e){return jC.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),zC.apply(this,arguments)}function UC(){return UC=v(function*(t,e){let n=yield fV(t.appConfig);for(;1===n.authToken.requestStatus;)yield sV(100),n=yield fV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?HC(t,e):r}),UC.apply(this,arguments)}function fV(t){return Yh(t,e=>{if(!hV(e))throw vo.create("not-registered");return function Ufe(t){return 1===t.requestStatus&&t.requestTime+JF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function jC(){return jC=v(function*(t,e){try{const n=yield function Ofe(t,e){return BC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield $m(t.appConfig,r),n}catch(n){if(!tV(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield $m(t.appConfig,r)}else yield RC(t.appConfig);throw n}}),jC.apply(this,arguments)}function hV(t){return void 0!==t&&2===t.registrationStatus}function $C(){return $C=v(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield OC(e);return r?r.catch(console.error):HC(e).catch(console.error),n.fid}),$C.apply(this,arguments)}function GC(){return GC=v(function*(t,e=!1){const n=t;return yield function Gfe(t){return qC.apply(this,arguments)}(n),(yield HC(n,e)).token}),GC.apply(this,arguments)}function qC(){return qC=v(function*(t){const{registrationPromise:e}=yield OC(t);e&&(yield e)}),qC.apply(this,arguments)}function YC(t){return vo.create("missing-app-config-values",{valueName:t})}const pV="installations",Qfe=t=>{const e=t.getProvider("app").getImmediate(),n=function Kfe(t){if(!t||!t.options)throw YC("App Configuration");if(!t.name)throw YC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw YC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ms(e,"heartbeat"),_delete:()=>Promise.resolve()}},Xfe=t=>{const n=ms(t.getProvider("app").getImmediate(),pV).getImmediate();return{getId:()=>function jfe(t){return $C.apply(this,arguments)}(n),getToken:i=>function $fe(t){return GC.apply(this,arguments)}(n,i)}};(function Jfe(){Ti(new oi(pV,Qfe,"PUBLIC")),Ti(new oi("installations-internal",Xfe,"PRIVATE"))})(),cn(XF,xC),cn(XF,xC,"esm2017");const Gm="analytics",Zfe="firebase_id",ehe="origin",the=6e4,nhe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",QC="https://www.googletagmanager.com/gtag/js",Un=new bf("@firebase/analytics"),Mr=new Lo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ihe(t){if(!t.startsWith(QC)){const e=Mr.create("invalid-gtag-resource",{gtagURL:t});return Un.warn(e.message),""}return t}function gV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function XC(){return XC=v(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield gV(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Un.error(a)}t("config",i,s)}),XC.apply(this,arguments)}function JC(){return JC=v(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield gV(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Un.error(s)}}),JC.apply(this,arguments)}const hhe=30,mV=new class ghe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function mhe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function ZC(){return ZC=v(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:mhe(r)},s=nhe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Mr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),ZC.apply(this,arguments)}function eI(){return eI=v(function*(t,e=mV,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Mr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Mr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new xhe;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:the),_V({appId:r,apiKey:i,measurementId:s},o,a,e)}),eI.apply(this,arguments)}function _V(t,e,n){return tI.apply(this,arguments)}function tI(){return tI=v(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=mV){var s;const{appId:o,measurementId:a}=t;try{yield function yhe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function _he(t){return ZC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function Ehe(t){if(!(t instanceof ji&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return Un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?L4(n,i.intervalMillis,hhe):L4(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),Un.debug(`Calling attemptFetch again in ${u} millis`),_V(t,d,r,i)}}),tI.apply(this,arguments)}class xhe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let nI,lI;function rI(){return rI=v(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}}),rI.apply(this,arguments)}function sI(){return sI=v(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})}),sI.apply(this,arguments)}function uI(){return uI=v(function*(){if(!yf())return Un.warn(Mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield O4()}catch(t){return Un.warn(Mr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0}),uI.apply(this,arguments)}function dI(){return dI=v(function*(t,e,n,r,i,s,o){var a;const c=function vhe(t){return eI.apply(this,arguments)}(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Un.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Un.error(h)),e.push(c);const l=function Dhe(){return uI.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function fhe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(QC)&&n.src.includes(t))return n;return null})(s)||function ohe(t,e){const n=function she(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:ihe}),r=document.createElement("script"),i=`${QC}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),lI&&(i("consent","default",lI),function vV(t){lI=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[ehe]="firebase",f.update=!0,null!=d&&(f[Zfe]=d),i("config",u.measurementId,f),nI&&(i("set",nI),function yV(t){nI=t}(void 0)),u.measurementId}),dI.apply(this,arguments)}class Phe{constructor(e){this.app=e}_delete(){return delete Ss[this.app.options.appId],Promise.resolve()}}let Ss={},EV=[];const xV={};let IV,Ps,qm="dataLayer",fI=!1;function Rhe(t,e,n){!function Mhe(){const t=[];if(N4()&&t.push("This is a browser extension environment."),wM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mr.create("invalid-analytics-context",{errorInfo:e});Un.warn(n.message)}}();const r=t.options.appId;if(!r)throw Mr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Mr.create("no-api-key");Un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ss[r])throw Mr.create("already-exists",{id:r});if(!fI){!function ahe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(qm);const{wrappedGtag:s,gtagCore:o}=function dhe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function uhe(t,e,n,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function lhe(t,e,n,r,i){return JC.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function che(t,e,n,r,i,s){return XC.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){Un.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Ss,EV,xV,qm,"gtag");Ps=s,IV=o,fI=!0}return Ss[r]=function She(t,e,n,r,i,s,o){return dI.apply(this,arguments)}(t,EV,xV,e,IV,qm,n),new Phe(t)}function khe(t=Ol()){const e=ms(t=an(t),Gm);return e.isInitialized()?e.getImmediate():function Nhe(t,e={}){const n=ms(t,Gm);if(n.isInitialized()){const i=n.getImmediate();if(Ef(e,n.getOptions()))return i;throw Mr.create("already-initialized")}return n.initialize({options:e})}(t)}function Ohe(){return hI.apply(this,arguments)}function hI(){return(hI=v(function*(){if(N4()||!wM()||!yf())return!1;try{return yield O4()}catch{return!1}})).apply(this,arguments)}function Fhe(t,e,n){t=an(t),function bhe(t,e,n,r){return sI.apply(this,arguments)}(Ps,Ss[t.app.options.appId],e,n).catch(r=>Un.error(r))}function bV(t,e,n,r){t=an(t),function Che(t,e,n,r,i){return rI.apply(this,arguments)}(Ps,Ss[t.app.options.appId],e,n,r).catch(i=>Un.error(i))}const wV="@firebase/analytics";!function Vhe(){Ti(new oi(Gm,(e,{options:n})=>Rhe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Ti(new oi("analytics-internal",function t(e){try{const n=e.getProvider(Gm).getImmediate();return{logEvent:(r,i,s)=>bV(n,r,i,s)}}catch(n){throw Mr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),cn(wV,"0.10.0"),cn(wV,"0.10.0","esm2017")}();const Qh=I(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Bhe}=Array,{getPrototypeOf:Hhe,prototype:zhe,keys:Uhe}=Object;function TV(t){if(1===t.length){const e=t[0];if(Bhe(e))return{args:e,keys:null};if(function jhe(t){return t&&"object"==typeof t&&Hhe(t)===zhe}(e)){const n=Uhe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:$he}=Array;function DV(t){return Xe(e=>function Ghe(t,e){return $he(e)?t(...e):t(e)}(t,e))}function SV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function PV(...t){const e=dd(t),n=ww(t),{args:r,keys:i}=TV(t);if(0===r.length)return Gn([],e);const s=new fe(function qhe(t,e,n=ye){return r=>{MV(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)MV(e,()=>{const l=Gn(t[c],e);let u=!1;l.subscribe(rt(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>SV(i,o):ye));return n?s.pipe(DV(n)):s}function MV(t,e,n){t?Bs(n,t,e):e()}function RV(t){return new fe(e=>{or(t()).subscribe(e)})}function Xh(t,e){const n=P(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function gI(){return Ve((t,e)=>{let n=null;t._refCount++;const r=rt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class kV extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new J;const n=this.getSubject();e.add(this.source.subscribe(rt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=J.EMPTY)}return e}refCount(){return gI()(this)}}function Fu(t){return t<=0?()=>Ji:Ve((e,n)=>{let r=0;e.subscribe(rt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Wm(t){return Ve((e,n)=>{let r=!1;e.subscribe(rt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function NV(t=Whe){return Ve((e,n)=>{let r=!1;e.subscribe(rt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Whe(){return new Qh}function xc(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ds((i,s)=>t(i,s,r)):ye,Fu(1),n?Wm(e):NV(()=>new Qh))}function Jh(t,e){return P(e)?$n(t,e,1):$n(t,1)}function Cc(t){return Ve((e,n)=>{let s,r=null,i=!1;r=e.subscribe(rt(n,void 0,void 0,o=>{s=or(t(o,Cc(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function mI(t){return t<=0?()=>Ji:Ve((e,n)=>{let r=[];e.subscribe(rt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Zh(t){return Ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Ze="primary",ep=Symbol("RouteTitle");class Zhe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Vu(t){return new Zhe(t)}function epe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ms(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!OV(t[i],e[i]))return!1;return!0}function OV(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function FV(t){return t.length>0?t[t.length-1]:null}function ua(t){return function Lhe(t){return!!t&&(t instanceof fe||P(t.lift)&&P(t.subscribe))}(t)?t:Xd(t)?Gn(Promise.resolve(t)):Le(t)}const npe={exact:function BV(t,e,n){if(!Ic(t.segments,e.segments)||!Km(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!BV(t.children[r],e.children[r],n))return!1;return!0},subset:HV},VV={exact:function rpe(t,e){return Ms(t,e)},subset:function ipe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>OV(t[n],e[n]))},ignored:()=>!0};function LV(t,e,n){return npe[n.paths](t.root,e.root,n.matrixParams)&&VV[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function HV(t,e,n){return zV(t,e,e.segments,n)}function zV(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Ic(i,n)||e.hasChildren()||!Km(i,n,r))}if(t.segments.length===n.length){if(!Ic(t.segments,n)||!Km(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!HV(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ic(t.segments,i)&&Km(t.segments,i,r)&&t.children[Ze])&&zV(t.children[Ze],e,s,r)}}function Km(t,e,n){return e.every((r,i)=>VV[n](t[i].parameters,r.parameters))}class Lu{constructor(e=new wt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap}toString(){return ape.serialize(this)}}class wt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ym(this)}}class tp{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Vu(this.parameters)),this._parameterMap}toString(){return $V(this)}}function Ic(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let np=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return new _I},providedIn:"root"}),e})();class _I{parse(e){const n=new vpe(e);return new Lu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${rp(e.root,!0)}`,r=function upe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Qm(n)}=${Qm(i)}`).join("&"):`${Qm(n)}=${Qm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function cpe(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const ape=new _I;function Ym(t){return t.segments.map(e=>$V(e)).join("/")}function rp(t,e){if(!t.hasChildren())return Ym(t);if(e){const n=t.children[Ze]?rp(t.children[Ze],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Ze&&r.push(`${i}:${rp(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function ope(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ze&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ze&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Ze?[rp(t.children[Ze],!1)]:[`${i}:${rp(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ze]?`${Ym(t)}/${n[0]}`:`${Ym(t)}/(${n.join("//")})`}}function UV(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qm(t){return UV(t).replace(/%3B/gi,";")}function vI(t){return UV(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xm(t){return decodeURIComponent(t)}function jV(t){return Xm(t.replace(/\+/g,"%20"))}function $V(t){return`${vI(t.path)}${function lpe(t){return Object.keys(t).map(e=>`;${vI(e)}=${vI(t[e])}`).join("")}(t.parameters)}`}const dpe=/^[^\/()?;#]+/;function yI(t){const e=t.match(dpe);return e?e[0]:""}const fpe=/^[^\/()?;=#]+/,ppe=/^[^=?&#]+/,mpe=/^[^&#]+/;class vpe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ze]=new wt(e,n)),r}parseSegment(){const e=yI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new re(4009,!1);return this.capture(e),new tp(Xm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function hpe(t){const e=t.match(fpe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=yI(this.remaining);i&&(r=i,this.capture(r))}e[Xm(n)]=Xm(r)}parseQueryParam(e){const n=function gpe(t){const e=t.match(ppe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function _pe(t){const e=t.match(mpe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=jV(n),s=jV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new re(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ze);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Ze]:new wt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new re(4011,!1)}}function GV(t){return t.segments.length>0?new wt([],{[Ze]:t}):t}function qV(t){const e={};for(const r of Object.keys(t.children)){const s=qV(t.children[r]);if(r===Ze&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function ype(t){if(1===t.numberOfChildren&&t.children[Ze]){const e=t.children[Ze];return new wt(t.segments.concat(e.segments),e.children)}return t}(new wt(t.segments,e))}function bc(t){return t instanceof Lu}function WV(t){let e;const i=GV(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new wt(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function KV(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return EI(i,i,i,n,r);const s=function xpe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new QV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new QV(n,e,r)}(e);if(s.toRoot())return EI(i,i,new wt([],{}),n,r);const o=function Cpe(t,e,n){if(t.isAbsolute)return new Zm(e,!0,0);if(!n)return new Zm(e,!1,NaN);if(null===n.parent)return new Zm(n,!0,0);const r=Jm(t.commands[0])?0:1;return function Ipe(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new re(4005,!1);i=r.segments.length}return new Zm(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?sp(o.segmentGroup,o.index,s.commands):XV(o.segmentGroup,o.index,s.commands);return EI(i,o.segmentGroup,a,n,r)}function Jm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ip(t){return"object"==typeof t&&null!=t&&t.outlets}function EI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:YV(t,e,n);const a=GV(qV(o));return new Lu(a,s,i)}function YV(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:YV(s,e,n)}),new wt(t.segments,r)}class QV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Jm(r[0]))throw new re(4003,!1);const i=r.find(ip);if(i&&i!==FV(r))throw new re(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zm{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function XV(t,e,n){if(t||(t=new wt([],{})),0===t.segments.length&&t.hasChildren())return sp(t,e,n);const r=function wpe(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ip(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!ZV(c,l,o))return s;r+=2}else{if(!ZV(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new wt(t.segments.slice(0,r.pathIndex),{});return s.children[Ze]=new wt(t.segments.slice(r.pathIndex),t.children),sp(s,0,i)}return r.match&&0===i.length?new wt(t.segments,{}):r.match&&!t.hasChildren()?xI(t,e,n):r.match?sp(t,0,i):xI(t,e,n)}function sp(t,e,n){if(0===n.length)return new wt(t.segments,{});{const r=function bpe(t){return ip(t[0])?t[0].outlets:{[Ze]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Ze)&&t.children[Ze]&&1===t.numberOfChildren&&0===t.children[Ze].segments.length){const s=sp(t.children[Ze],e,n);return new wt(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=XV(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new wt(t.segments,i)}}function xI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ip(s)){const c=Ape(s.outlets);return new wt(r,c)}if(0===i&&Jm(n[0])){r.push(new tp(t.segments[e].path,JV(n[0]))),i++;continue}const o=ip(s)?s.outlets[Ze]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Jm(a)?(r.push(new tp(o,JV(a))),i+=2):(r.push(new tp(o,{})),i++)}return new wt(r,{})}function Ape(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=xI(new wt([],{}),0,r))}),e}function JV(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ZV(t,e,n){return t==n.path&&Ms(e,n.parameters)}const op="imperative";class Rs{constructor(e,n){this.id=e,this.url=n}}class CI extends Rs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bu extends Rs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ap extends Rs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cp extends Rs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class e2 extends Rs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eL extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tpe extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dpe extends Rs{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Spe extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ppe extends Rs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mpe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rpe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kpe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Npe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ope{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class II{}class bI{constructor(e){this.url=e}}class Fpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new lp,this.attachRef=null}}let lp=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Fpe,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class nL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=wI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=wI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=AI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return AI(e,this._root).map(n=>n.value)}}function wI(t,e){if(t===e.value)return e;for(const n of e.children){const r=wI(t,n);if(r)return r}return null}function AI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=AI(t,n);if(r.length)return r.unshift(e),r}return[]}class yo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Hu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class rL extends nL{constructor(e,n){super(e),this.snapshot=n,TI(this,e)}toString(){return this.snapshot.toString()}}function iL(t,e){const n=function Vpe(t,e){const o=new t2([],{},{},"",{},Ze,e,null,{});return new oL("",new yo(o,[]))}(0,e),r=new gi([new tp("",{})]),i=new gi({}),s=new gi({}),o=new gi({}),a=new gi(""),c=new zu(r,i,o,a,s,Ze,e,n.root);return c.snapshot=n.root,new rL(new yo(c,[]),n)}class zu{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Xe(l=>l[ep]))??Le(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Xe(e=>Vu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Xe(e=>Vu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sL(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Lpe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class t2{get title(){return this.data?.[ep]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oL extends nL{constructor(e,n){super(n),this.url=e,TI(this,n)}toString(){return aL(this._root)}}function TI(t,e){e.value._routerState=t,e.children.forEach(n=>TI(t,n))}function aL(t){const e=t.children.length>0?` { ${t.children.map(aL).join(", ")} } `:"";return`${t.value}${e}`}function DI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ms(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ms(e.params,n.params)||t.paramsSubject.next(n.params),function tpe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ms(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ms(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function SI(t,e){const n=Ms(t.params,e.params)&&function spe(t,e){return Ic(t,e)&&t.every((n,r)=>Ms(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||SI(t.parent,e.parent))}let cL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ze,this.activateEvents=new Tt,this.deactivateEvents=new Tt,this.attachEvents=new Tt,this.detachEvents=new Tt,this.parentContexts=q(lp),this.location=q(Hi),this.changeDetector=q(fs),this.environmentInjector=q(xi),this.inputBinder=q(n2,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new re(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new re(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new re(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new re(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Bpe(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Fe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Er]}),e})();class Bpe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===zu?this.route:e===lp?this.childContexts:this.parent.get(e,n)}}const n2=new xe("");function up(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function zpe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return up(t,r,i);return up(t,r)})}(t,e,n);return new yo(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>up(t,a)),o}}const r=function Upe(t){return new zu(new gi(t.url),new gi(t.params),new gi(t.queryParams),new gi(t.fragment),new gi(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>up(t,s));return new yo(r,i)}}const PI="ngNavigationCancelingError";function uL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=bc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=dL(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function dL(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[PI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function fL(t){return t&&t[PI]}let MI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["ng-component"]],standalone:!0,features:[XS],decls:1,vars:0,template:function(r,i){1&r&&Ue(0,"router-outlet")},dependencies:[cL],encapsulation:2}),e})();function RI(t){const e=t.children&&t.children.map(RI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ze&&(n.component=MI),n}function Wi(t){return t.outlet||Ze}function dp(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Qpe{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),DI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Hu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Hu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Hu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Hu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new tL(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Npe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(DI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),DI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=dp(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class hL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class r2{constructor(e,n){this.component=e,this.route=n}}function Xpe(t,e,n){const r=t._root;return fp(r,e?e._root:null,n,[r.value])}function Uu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Mj(t){return null!==s0(t)}(t)?e.get(t):t:r}function fp(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Hu(e);return t.children.forEach(o=>{(function Zpe(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function e0e(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ic(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ic(t.url,e.url)||!Ms(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SI(t,e)||!Ms(t.queryParams,e.queryParams);default:return!SI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new hL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),fp(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new r2(a.outlet.component,o))}else o&&hp(e,a,i),i.canActivateChecks.push(new hL(r)),fp(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>hp(a,n.getContext(o),i)),i}function hp(t,e,n){const r=Hu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{hp(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new r2(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function pp(t){return"function"==typeof t}function pL(t){return t instanceof Qh||"EmptyError"===t?.name}const s2=Symbol("INITIAL_VALUE");function ju(){return mi(t=>PV(t.map(e=>e.pipe(Fu(1),GF(s2)))).pipe(Xe(e=>{for(const n of e)if(!0!==n){if(n===s2)return s2;if(!1===n||n instanceof Lu)return n}return!0}),Ds(e=>e!==s2),Fu(1)))}function gL(t){return function ce(...t){return Oe(t)}(Xn(e=>{if(bc(e))throw uL(0,e)}),Xe(e=>!0===e))}class o2{constructor(e){this.segmentGroup=e||null}}class mL{constructor(e){this.urlTree=e}}function $u(t){return Xh(new o2(t))}function _L(t){return Xh(new mL(t))}class E0e{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new re(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Le(r);if(i.numberOfChildren>1||!i.children[Ze])return Xh(new re(4e3,!1));i=i.children[Ze]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Lu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new wt(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new re(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const kI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function x0e(t,e,n,r,i){const s=NI(t,e,n);return s.matched?(r=function $pe(t,e){return t.providers&&!t._injector&&(t._injector=QS(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function _0e(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Le(i.map(o=>{const a=Uu(o,t);return ua(function o0e(t){return t&&pp(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ju(),gL()):Le(!0)}(r,e,n).pipe(Xe(o=>!0===o?s:{...kI}))):Le(s)}function NI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...kI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||epe)(n,t,e);if(!i)return{...kI};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function vL(t,e,n,r){return n.length>0&&function b0e(t,e,n){return n.some(r=>a2(t,e,r)&&Wi(r)!==Ze)}(t,n,r)?{segmentGroup:new wt(e,I0e(r,new wt(n,t.children))),slicedSegments:[]}:0===n.length&&function w0e(t,e,n){return n.some(r=>a2(t,e,r))}(t,n,r)?{segmentGroup:new wt(t.segments,C0e(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new wt(t.segments,t.children),slicedSegments:n}}function C0e(t,e,n,r,i){const s={};for(const o of r)if(a2(t,n,o)&&!i[Wi(o)]){const a=new wt([],{});s[Wi(o)]=a}return{...i,...s}}function I0e(t,e){const n={};n[Ze]=e;for(const r of t)if(""===r.path&&Wi(r)!==Ze){const i=new wt([],{});n[Wi(r)]=i}return n}function a2(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class S0e{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new E0e(this.urlSerializer,this.urlTree)}noMatchError(e){return new re(4002,!1)}recognize(){const e=vL(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ze).pipe(Cc(n=>{if(n instanceof mL)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof o2?this.noMatchError(n):n}),Xe(n=>{const r=new t2([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ze,this.rootComponentType,null,{}),i=new yo(r,n),s=new oL("",i),o=function Epe(t,e,n=null,r=null){return KV(WV(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ze).pipe(Cc(r=>{throw r instanceof o2?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=sL(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Gn(i).pipe(Jh(s=>{const o=r.children[s],a=function Kpe(t,e){const n=t.filter(r=>Wi(r)===e);return n.push(...t.filter(r=>Wi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function Yhe(t,e){return Ve(function Khe(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(rt(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Wm(null),function Qhe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ds((i,s)=>t(i,s,r)):ye,mI(1),n?Wm(e):NV(()=>new Qh))}(),$n(s=>{if(null===s)return $u(r);const o=yL(s);return function P0e(t){t.sort((e,n)=>e.value.outlet===Ze?-1:n.value.outlet===Ze?1:e.value.outlet.localeCompare(n.value.outlet))}(o),Le(o)}))}processSegment(e,n,r,i,s,o){return Gn(n).pipe(Jh(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Cc(c=>{if(c instanceof o2)return Le(null);throw c}))),xc(a=>!!a),Cc(a=>{if(pL(a))return function T0e(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?Le([]):$u(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function A0e(t,e,n,r){return!!(Wi(t)===r||r!==Ze&&a2(e,n,t))&&("**"===t.path||NI(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):$u(i):$u(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_L(s):this.applyRedirects.lineralizeSegments(r,s).pipe($n(o=>{const a=new wt(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=NI(n,i,s);if(!a)return $u(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?_L(d):this.applyRedirects.lineralizeSegments(i,d).pipe($n(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?FV(i).parameters:{};a=Le({snapshot:new t2(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EL(r),Wi(r),r.component??r._loadedComponent??null,r,xL(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=x0e(n,r,i,e).pipe(Xe(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new t2(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EL(r),Wi(r),r.component??r._loadedComponent??null,r,xL(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(mi(c=>null===c?$u(n):this.getChildConfig(e=r._injector??e,r,i).pipe(mi(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:p,slicedSegments:g}=vL(n,f,h,l);if(0===g.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(Xe(S=>null===S?null:[new yo(d,S)]));if(0===l.length&&0===g.length)return Le([new yo(d,[])]);const y=Wi(r)===s;return this.processSegment(u,l,p,g,y?Ze:s,!0).pipe(Xe(S=>[new yo(d,S)]))}))))}getChildConfig(e,n,r){return n.children?Le({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Le({routes:n._loadedRoutes,injector:n._loadedInjector}):function m0e(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Le(!0):Le(i.map(o=>{const a=Uu(o,t);return ua(function n0e(t){return t&&pp(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ju(),gL())}(e,n,r).pipe($n(i=>i?this.configLoader.loadChildren(e,n).pipe(Xn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function y0e(t){return Xh(dL(!1,3))}())):Le({routes:[],injector:e})}}function M0e(t){const e=t.value.routeConfig;return e&&""===e.path}function yL(t){const e=[],n=new Set;for(const r of t){if(!M0e(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=yL(r.children);e.push(new yo(r.value,i))}return e.filter(r=>!n.has(r))}function EL(t){return t.data||{}}function xL(t){return t.resolve||{}}function CL(t){return"string"==typeof t.title||null===t.title}function OI(t){return mi(e=>{const n=t(e);return n?Gn(n).pipe(Xe(()=>e)):Le(e)})}const c2=new xe("ROUTES");let IL=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(pJ)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Le(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=ua(r.loadComponent()).pipe(Xe(bL),Xn(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Zh(()=>{this.componentLoaders.delete(r)})),s=new kV(i,()=>new ne).pipe(gI());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Le({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function L0e(t,e,n,r){return ua(t.loadChildren()).pipe(Xe(bL),$n(i=>i instanceof KS||Array.isArray(i)?Le(i):Gn(e.compileModuleAsync(i))),Xe(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(c2,[],{optional:!0,self:!0}).flat()),{routes:o.map(RI),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(Zh(()=>{this.childrenLoaders.delete(i)})),a=new kV(o,()=>new ne).pipe(gI());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bL(t){return function B0e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let l2=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ne,this.transitionAbortSubject=new ne,this.configLoader=q(IL),this.environmentInjector=q(xi),this.urlSerializer=q(np),this.rootContexts=q(lp),this.inputBindingEnabled=null!==q(n2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Le(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Rpe(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Mpe(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new gi({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:op,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ds(o=>0!==o.id),Xe(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),mi(o=>{this.currentTransition=o;let a=!1,c=!1;return Le(o).pipe(Xn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mi(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new cp(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Ji}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Le(l).pipe(mi(h=>{const p=this.transitions?.getValue();return this.events.next(new CI(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Ji:Promise.resolve(h)}),function R0e(t,e,n,r,i,s){return $n(o=>function D0e(t,e,n,r,i,s,o="emptyOnly"){return new S0e(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Xe(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Xn(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new eL(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:y,extras:S}=l,w=new CI(h,this.urlSerializer.serialize(p),g,y);this.events.next(w);const U=iL(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:U,urlAfterRedirects:p,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},Le(o)}{const h="";return this.events.next(new cp(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Ji}}),Xn(l=>{const u=new Tpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Xe(l=>(this.currentTransition=o={...l,guards:Xpe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function c0e(t,e){return $n(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Le({...n,guardsResult:!0}):function l0e(t,e,n,r){return Gn(t).pipe($n(i=>function g0e(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Le(s.map(a=>{const c=dp(e)??i,l=Uu(a,c);return ua(function s0e(t){return t&&pp(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(xc())})).pipe(ju()):Le(!0)}(i.component,i.route,n,e,r)),xc(i=>!0!==i,!0))}(o,r,i,t).pipe($n(a=>a&&function t0e(t){return"boolean"==typeof t}(a)?function u0e(t,e,n,r){return Gn(e).pipe(Jh(i=>pC(function f0e(t,e){return null!==t&&e&&e(new kpe(t)),Le(!0)}(i.route.parent,r),function d0e(t,e){return null!==t&&e&&e(new Ope(t)),Le(!0)}(i.route,r),function p0e(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Jpe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>RV(()=>Le(o.guards.map(c=>{const l=dp(o.node)??n,u=Uu(c,l);return ua(function i0e(t){return t&&pp(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(xc())})).pipe(ju())));return Le(s).pipe(ju())}(t,i.path,n),function h0e(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Le(!0);const i=r.map(s=>RV(()=>{const o=dp(e)??n,a=Uu(s,o);return ua(function r0e(t){return t&&pp(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(xc())}));return Le(i).pipe(ju())}(t,i.route,n))),xc(i=>!0!==i,!0))}(r,s,t,e):Le(a)),Xe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Xn(l=>{if(o.guardsResult=l.guardsResult,bc(l.guardsResult))throw uL(0,l.guardsResult);const u=new Dpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ds(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),OI(l=>{if(l.guards.canActivateChecks.length)return Le(l).pipe(Xn(u=>{const d=new Spe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),mi(u=>{let d=!1;return Le(u).pipe(function k0e(t,e){return $n(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Le(n);let s=0;return Gn(i).pipe(Jh(o=>function N0e(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!CL(i)&&(s[ep]=i.title),function O0e(t,e,n,r){const i=function F0e(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Le({});const s={};return Gn(i).pipe($n(o=>function V0e(t,e,n,r){const i=dp(e)??r,s=Uu(t,i);return ua(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(xc(),Xn(a=>{s[o]=a}))),mI(1),function Xhe(t){return Xe(()=>t)}(s),Cc(o=>pL(o)?Ji:Xh(o)))}(s,t,e,r).pipe(Xe(o=>(t._resolvedData=o,t.data=sL(t,n).resolve,i&&CL(i)&&(t.data[ep]=i.title),null)))}(o.route,r,t,e)),Xn(()=>s++),mI(1),$n(o=>s===i.length?Le(n):Ji))})}(r.paramsInheritanceStrategy,this.environmentInjector),Xn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Xn(u=>{const d=new Ppe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),OI(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Xn(h=>{d.component=h}),Xe(()=>{})));for(const h of d.children)f.push(...u(h));return f};return PV(u(l.targetSnapshot.root)).pipe(Wm(),Fu(1))}),OI(()=>this.afterPreactivation()),Xe(l=>{const u=function Hpe(t,e,n){const r=up(t,e._root,n?n._root:void 0);return new rL(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Xn(()=>{this.events.next(new II)}),((t,e,n,r)=>Xe(i=>(new Qpe(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Fu(1),Xn({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),function Jhe(t){return Ve((e,n)=>{or(t).subscribe(rt(n,()=>n.complete(),T)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Xn(l=>{throw l}))),Zh(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Cc(l=>{if(c=!0,fL(l))this.events.next(new ap(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function jpe(t){return fL(t)&&bc(t.url)}(l)?this.events.next(new bI(l.url)):o.resolve(!1);else{this.events.next(new e2(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return Ji}))}))}cancelNavigationTransition(r,i,s){const o=new ap(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function wL(t){return t!==op}let AL=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Ze);return i}getResolvedTitleForRoute(r){return r.data[ep]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return q(H0e)},providedIn:"root"}),e})(),H0e=(()=>{var t;class e extends AL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(D4))},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),z0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return q(j0e)},providedIn:"root"}),e})();class U0e{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let j0e=(()=>{var t;class e extends U0e{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Qn(t)))(i||t)}}(),t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const FI=new xe("",{providedIn:"root",factory:()=>({})});let $0e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:function(){return q(G0e)},providedIn:"root"}),e})(),G0e=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var gp=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(gp||{});function q0e(t){throw t}function W0e(t,e,n){return e.parse("/")}const K0e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Y0e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ki=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=q($7),this.isNgZoneEnabled=!1,this._events=new ne,this.options=q(FI,{optional:!0})||{},this.pendingTasks=q(xg),this.errorHandler=this.options.errorHandler||q0e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||W0e,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=q($0e),this.routeReuseStrategy=q(z0e),this.titleStrategy=q(AL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=q(c2,{optional:!0})?.flat()??[],this.navigationTransitions=q(l2),this.urlSerializer=q(np),this.location=q(n4),this.componentInputBindingEnabled=!!q(n2,{optional:!0}),this.eventsSubscription=new J,this.isNgZoneEnabled=q(pt)instanceof pt&&pt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iL(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(DL(i)&&this._events.next(i));if(i instanceof CI)wL(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof cp)this.rawUrlTree=s.rawUrl;else if(i instanceof eL){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof II)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof ap)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof bI){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||wL(s.source)};this.scheduleNavigation(o,op,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof e2&&this.restoreHistory(s,!0),i instanceof Bu&&(this.navigated=!0),DL(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),op,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(RI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=WV(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return KV(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=bc(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,op,null,i)}navigate(r,i={skipLocationChange:!1}){return function Q0e(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new re(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...K0e}:!1===i?{...Y0e}:i,bc(r))return LV(this.currentUrlTree,r,s);const o=this.parseUrl(r);return LV(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});const d=this.pendingTasks.add();return function TL(t,e){t.events.pipe(Ds(n=>n instanceof Bu||n instanceof ap||n instanceof e2||n instanceof cp),Xe(n=>n instanceof Bu||n instanceof cp?gp.COMPLETE:n instanceof ap&&(0===n.code||1===n.code)?gp.REDIRECTING:gp.FAILED),Ds(n=>n!==gp.REDIRECTING),Fu(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function DL(t){return!(t instanceof II||t instanceof bI)}class Gu{constructor(e){return e}}const OL="analytics",HI="__angularfire_symbol__analyticsIsSupportedValue",FL="__angularfire_symbol__analyticsIsSupported";globalThis[FL]||=Ohe().then(t=>globalThis[HI]=t).catch(()=>globalThis[HI]=!1);const u2={async:()=>globalThis[FL],sync:()=>{const t=globalThis[HI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}},VL=u2.async,sge=xn(khe,!0),mp=xn(bV,!0),oge=xn(Fhe,!0);let LL=(()=>{var t;class e{constructor(r,i,s){let o;vt(this,"initialized",void 0),vt(this,"disposables",[]),cn("angularfire",Ho.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(a=>{o=a})),VL().then(()=>{const a=s.get(Gu);a?this.disposables=[r9(r).subscribe(c=>{oge(a,c?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(zf),Se(pt),Se(Dn))}),vt(e,"\u0275prov",be({token:t,factory:t.\u0275fac})),e})();const BL="firebase_screen_id",zI="outlet",_p="screen_class",HL="screen_name";let vge=Math.floor(Math.random()*(2**32-1))-2**31;const UI={},yge=t=>{const e=[t[_p],t[zI]].join("#");if(UI.hasOwnProperty(e))return UI[e];{const n=vge++;return UI[e]=n,n}},Ege=(t,e,n)=>t.events.pipe(Ds(i=>i instanceof tL)).pipe(mi(i=>{const o=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet]?.toString()||"",a=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!a)return Le(null);let c=a;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>f.routeConfig?.path).filter(f=>f).join("/")||"/",u={[HL]:l,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:l,[zI]:i.snapshot.outlet};e&&(u.page_title=e.getTitle());let d=a.component;if(d){if(d===MI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;d=f.component}}else d=i.snapshot.component;if("string"==typeof d)return Le({...u,[_p]:d});if(d){const f=n.resolveComponentFactory(d);return Le({...u,[_p]:f.selector})}return Le(null)}),Ds(i=>!!i),Xe(i=>({firebase_screen_class:i[_p],[BL]:yge(i),...i})),function Zde(t,e,n,r){return Ve((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,c=p=>{a.forEach(p),p(s)},l=p=>c(g=>g.error(p));let u=0,d=!1;const f=new et(s,p=>{try{const g=t(p);let y=a.get(g);if(!y){a.set(g,y=r?r():new ne);const S=function h(p,g){const y=new fe(S=>{u++;const w=g.subscribe(S);return()=>{w.unsubscribe(),0==--u&&d&&f.unsubscribe()}});return y.key=p,y}(g,y);if(s.next(S),n){const w=rt(y,()=>{y.complete(),w?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(or(n(S)).subscribe(w))}}y.next(o?o(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(f)})}(i=>i[zI]),$n(i=>i.pipe(Dw((s,o)=>JSON.stringify(s)===JSON.stringify(o)),GF(void 0),function tfe(){return Ve((t,e)=>{let n,r=!1;t.subscribe(rt(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),Xe(([s,o])=>s?{firebase_previous_class:s[_p],firebase_previous_screen:s[HL],firebase_previous_id:s[BL],...o}:o))));let xge=(()=>{var t;class e{constructor(r,i,s,o,a,c){vt(this,"disposable",void 0),cn("angularfire",Ho.full,"screen-tracking"),VL().then(()=>{const l=c.get(Gu);!r||!l||o.runOutsideAngular(()=>{this.disposable=Ege(r,i,s).pipe(mi(function(){var u=v(function*(d){return a&&(yield a.initialized),mp(l,"screen_view",d)});return function(d){return u.apply(this,arguments)}}())).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(Ki,8),Se(D4,8),Se(zd),Se(pt),Se(LL,8),Se(Dn))}),vt(e,"\u0275prov",be({token:t,factory:t.\u0275fac})),e})();const jI=new xe("angularfire2.analytics-instances");function Ige(t){return(e,n)=>{if(!u2.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new Gu(r)}}const bge={provide:class ige{constructor(){return Jg(OL)}},deps:[[new zt,jI]]},wge={provide:Gu,useFactory:function Cge(t,e){if(!u2.sync())return null;const n=Xg(OL,t,e);return n&&new Gu(n)},deps:[[new zt,jI],Ga]};let Age=(()=>{var t;class e{constructor(r,i){cn("angularfire",Ho.full,"analytics")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)(Se(xge,8),Se(LL,8))}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",xt({providers:[wge,bge,{provide:j7,useValue:u2.async,multi:!0}]})),e})();function Tge(t,...e){return{ngModule:Age,providers:[{provide:jI,useFactory:Ige(t),multi:!0,deps:[pt,Dn,Tf,Df,...e]}]}}let zL=(()=>{var t;class e{constructor(){this.localStorageService=q(Pr),this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}checkForUpdate(r,i){if(null===this.localStorageService.remoteMetadata()||null===this.localStorageService.localMetadata())return;let s=this.localStorageService.remoteMetadata().dgtVersion,o=this.localStorageService.localMetadata().dgtVersion;i.next(null!==s&&s!==o&&s.trim().length>0),i.complete(),r.detectChanges()}showComponent(r){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"))}installUpdate(r){r.nativeElement.classList.add("show"),r.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(5e3).then(()=>{let i=this.localStorageService.localMetadata();i.dgtVersion=this.localStorageService.remoteMetadata().dgtVersion;const s=this.localStorageService.get(tt.USER);this.localStorageService.clearAll(),this.localStorageService.cache(tt.USER,s),this.localStorageService.cache(tt.JS_VERSION,i.dgtVersion),this.localStorageService.cache(tt.LOCAL_METADATA,i),r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),window.location.reload()})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Dge=(()=>{var t;class e{constructor(){this.isActive=!1}ngOnInit(){switch(this.tabName){case"home":""===window.location.pathname.split(/\//g)[1]&&(this.isActive=!0);break;case"planets":["planets","planet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"radar":["radar"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"fleets":["fleets","fleet"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"navigation":["navigation"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"research":["research"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0);break;case"alliances":["alliances"].includes(window.location.pathname.split(/\//g)[1])&&(this.isActive=!0)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Fe({type:t,selectors:[["","dgtActiveTab",""]],hostVars:2,hostBindings:function(r,i){2&r&&Jd("active",i.isActive)},inputs:{tabName:"tabName"}}),e})();const Sge=["updateNotification"];function Pge(t,e){1&t&&Ue(0,"span",25,26)}let Mge=(()=>{var t;class e{constructor(){this.dgAPI=q(gs),this.changeDetector=q(fs),this.authService=q(Ts),this.changelogService=q(zL),this.analytics=q(Gu),this.active=!1,this.initialized=!1,this.window=window;let r=window.location.pathname.split("/");mp(this.analytics,0===r[1].length?"/home":"comms"===r[r.length-2]?"/scan":"/"+r[1]),mp(this.analytics,"page_view",{page_location:window.location.href,page_path:window.location.pathname,page_title:this.dgAPI.username()}),this.updateAvailableNotification=new fe(i=>{this.changelogService.checkForUpdate(this.changeDetector,i)}),this.authService.authState.subscribe(i=>{this.active=i.status,i.status&&!this.initialized&&(this.initialized=!0)}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-navbar"]],viewQuery:function(r,i){if(1&r&&ii(Sge,5),2&r){let s;jr(s=$r())&&(i.updateNotification=s.first)}},decls:39,vars:10,consts:[[1,"dgt-navbar"],[1,"dgt-navbar-tab-container"],["dgtActiveTab","",1,"dgt-navbar-tab","home-tab",3,"tabName"],["style","z-index: 0","class","notification-badge",4,"ngIf"],["href","/",1,"home","dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/a6OzUZb.png","alt","Home",1,"icon"],[1,"dgt-navbar-tab-text"],["dgtActiveTab","",1,"dgt-navbar-tab","planets-tab",3,"tabName"],["href","/planets",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/Biq82rs.png","alt","Planets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","radar-tab",3,"tabName"],["href","/radar",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/3ic1WXh.png","alt","Radar",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","fleets-tab",3,"tabName"],["href","/fleets",1,"dgt-navbar-tab-link",2,"position","relative","z-index","1"],["src","https://i.imgur.com/5Byl54Z.png","alt","Fleets",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","navigation-tab",3,"tabName"],["href","/navigation",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/HcC4l22.png","alt","Navigation",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","research-tab",3,"tabName"],["href","/research",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/nOepTmD.png","alt","Research",1,"icon"],["dgtActiveTab","",1,"dgt-navbar-tab","alliances-tab",3,"tabName"],["href","/alliances",1,"dgt-navbar-tab-link"],["src","https://i.imgur.com/kmvKRUN.png","alt","Alliances",1,"icon"],[1,"notification-badge",2,"z-index","0"],["updateNotification",""]],template:function(r,i){1&r&&(G(0,"div",0)(1,"ul",1)(2,"li",2),Dt(3,Pge,2,0,"span",3),Qt(4,"async"),G(5,"a",4),Ue(6,"img",5),G(7,"span",6),X(8,"home"),K()()(),G(9,"li",7)(10,"a",8),Ue(11,"img",9),G(12,"span",6),X(13,"planets"),K()()(),G(14,"li",10)(15,"a",11),Ue(16,"img",12),G(17,"span",6),X(18,"radar"),K()()(),G(19,"li",13)(20,"a",14),Ue(21,"img",15),G(22,"span",6),X(23,"fleets"),K()()(),G(24,"li",16)(25,"a",17),Ue(26,"img",18),G(27,"span",6),X(28,"navigation"),K()()(),G(29,"li",19)(30,"a",20),Ue(31,"img",21),G(32,"span",6),X(33,"research"),K()()(),G(34,"li",22)(35,"a",23),Ue(36,"img",24),G(37,"span",6),X(38,"alliances"),K()()()()()),2&r&&(me(2),Ne("tabName","home"),me(1),Ne("ngIf",Ii(4,8,i.updateAvailableNotification)&&2!==i.window.location.pathname.split("/").length),me(6),Ne("tabName","planets"),me(5),Ne("tabName","radar"),me(5),Ne("tabName","fleets"),me(5),Ne("tabName","navigation"),me(5),Ne("tabName","research"),me(5),Ne("tabName","alliances"))},dependencies:[hs,Dge,gf],styles:[".dgt-navbar[_ngcontent-%COMP%]{display:block;width:100%}.dgt-navbar-tab-container[_ngcontent-%COMP%]{list-style-type:none;padding:0!important;display:flex;border:1px solid #7a7a7a;border-bottom:0!important;border-top-left-radius:5px;border-top-right-radius:5px}.dgt-navbar-tab[_ngcontent-%COMP%]{float:left;flex:auto;background:#5c5c5c;text-align:center}.dgt-navbar-tab[_ngcontent-%COMP%]:first-child, .dgt-navbar-tab[_ngcontent-%COMP%]:first-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-left-radius:4px;border-right:none!important}.dgt-navbar-tab[_ngcontent-%COMP%]:last-child, .dgt-navbar-tab[_ngcontent-%COMP%]:last-child   .dgt-navbar-tab-link[_ngcontent-%COMP%]{border-top-right-radius:4px}.dgt-navbar-tab.active[_ngcontent-%COMP%], .dgt-navbar-tab[_ngcontent-%COMP%]:hover{background:#484848}.dgt-navbar-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{float:left;width:20px;padding-top:8px;padding-left:18%;padding-right:3px}.dgt-navbar-tab.fleets-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding-right:4px!important}.dgt-navbar-tab.research-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:24px!important;padding-top:6px!important}.dgt-navbar-tab.navigation-tab[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px!important}.dgt-navbar-tab-text[_ngcontent-%COMP%]{float:left;font-family:DarkGalaxy,sans-serif;font-size:20px;line-height:40px;color:#eee;text-transform:uppercase;display:inline-flex;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000}.dgt-navbar-tab-link[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.notification-badge[_ngcontent-%COMP%]{background:#d84343;top:14px;right:15px!important;padding:3px;color:#fff;font-size:0;line-height:8px;height:5px;width:5px;position:relative;float:right;border-radius:100px;animation:pulse-red 2s infinite}"]}),e})();const jn_firebase={apiKey:"AIzaSyDifSxPXVI7ZnorkGi-OZT9cEtq64jbTIw",authDomain:"dg-tools-fd936.firebaseapp.com",projectId:"dg-tools-fd936",storageBucket:"dg-tools-fd936.appspot.com",messagingSenderId:"740995977873",appId:"1:740995977873:web:756583aeec86bc76c3a530",measurementId:"G-DBBD8N8LCR",appCheck:{recaptchaSiteKey:"6Le5AyQoAAAAAEqVW9cQF-nT73cKe3Zp9N8mxTsO"}},$I=new Map,UL={activated:!1,tokenObservers:[]},Rge={initialized:!1,enabled:!1};function dn(t){return $I.get(t)||Object.assign({},UL)}function d2(){return Rge}const GI="https://content-firebaseappcheck.googleapis.com/v1",Fge="exchangeDebugToken",jL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Lge{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new kl,yield function Bge(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new kl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const rr=new Lo("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function f2(t=!1){var e;return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function qI(t){if(!dn(t).activated)throw rr.create("use-before-activation",{appName:t.name})}function WI(t){const e=Math.round(t/1e3),n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600),i=Math.floor((e-3600*n*24-3600*r)/60),s=e-3600*n*24-3600*r-60*i;let o="";return n&&(o+=h2(n)+"d:"),r&&(o+=h2(r)+"h:"),o+=h2(i)+"m:"+h2(s)+"s",o}function h2(t){return 0===t?"00":t>=10?t.toString():"0"+t}function p2(t,e){return KI.apply(this,arguments)}function KI(){return KI=v(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw rr.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw rr.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw rr.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}),KI.apply(this,arguments)}function $L(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${GI}/projects/${n}/apps/${r}:${Fge}?key=${i}`,body:{debug_token:e}}}const jge="firebase-app-check-database",$ge=1,vp="firebase-app-check-store",GL="debug-token";let g2=null;function qL(){return g2||(g2=new Promise((t,e)=>{try{const n=indexedDB.open(jge,$ge);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(rr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(vp,{keyPath:"compositeKey"})}}catch(n){e(rr.create("storage-open",{originalErrorMessage:n?.message}))}}),g2)}function WL(t,e){return YI.apply(this,arguments)}function YI(){return YI=v(function*(t,e){const r=(yield qL()).transaction(vp,"readwrite"),s=r.objectStore(vp).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(rr.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})}),YI.apply(this,arguments)}function KL(t){return QI.apply(this,arguments)}function QI(){return QI=v(function*(t){const n=(yield qL()).transaction(vp,"readonly"),i=n.objectStore(vp).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{var c;o(rr.create("storage-get",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))}})}),QI.apply(this,arguments)}function YL(t){return`${t.options.appId}-${t.name}`}const yp=new bf("@firebase/app-check");function XI(){return XI=v(function*(t){if(yf()){let e;try{e=yield function Gge(t){return KL(YL(t))}(t)}catch(n){yp.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}),XI.apply(this,arguments)}function JI(t,e){return yf()?function qge(t,e){return WL(YL(t),e)}(t,e).catch(n=>{yp.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ZI(){return ZI=v(function*(){let t;try{t=yield function Kge(){return KL(GL)}()}catch{}if(t)return t;{const e=dne();return function Wge(t){return WL(GL,t)}(e).catch(n=>yp.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}),ZI.apply(this,arguments)}function eb(){return d2().enabled}function tb(){return nb.apply(this,arguments)}function nb(){return nb=v(function*(){const t=d2();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),nb.apply(this,arguments)}const Jge={error:"UNKNOWN_ERROR"};function Zge(t){return k4.encodeString(JSON.stringify(t),!1)}function m2(t){return rb.apply(this,arguments)}function rb(){return rb=v(function*(t,e=!1){const n=t.app;qI(n);const r=dn(n);let s,i=r.token;if(i&&!qu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(qu(c)?i=c:yield JI(n,void 0))}if(!e&&i&&qu(i))return{token:i.token};let a,o=!1;if(eb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=p2($L(n,yield tb()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield JI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield dn(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?yp.warn(c.message):yp.error(c),s=c}return i?s?a=qu(i)?{token:i.token,internalError:s}:ZL(s):(a={token:i.token},r.token=i,yield JI(n,i)):a=ZL(s),o&&JL(n,a),a}),rb.apply(this,arguments)}function ib(){return ib=v(function*(t){const e=t.app;qI(e);const{provider:n}=dn(e);if(eb()){const r=yield tb(),{token:i}=yield p2($L(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),ib.apply(this,arguments)}function sb(t,e,n,r){const{app:i}=t,s=dn(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&qu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),XL(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>XL(t))}function ob(t,e){const n=dn(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function XL(t){const{app:e}=t,n=dn(e);let r=n.tokenRefresher;r||(r=function e1e(t){const{app:e}=t;return new Lge(v(function*(){let r;if(r=dn(e).token?yield m2(t,!0):yield m2(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=dn(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},jL.RETRIAL_MIN_WAIT,jL.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function JL(t,e){const n=dn(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function qu(t){return t.expireTimeMillis-Date.now()>0}function ZL(t){return{token:Zge(Jge),error:t}}class t1e{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=dn(this.app);for(const n of e)ob(this.app,n.next);return Promise.resolve()}}function c1e(t,e){const n=new kl;dn(t).reCAPTCHAState={initialized:n};const i=function eB(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}(t),s=f2(!1);return s?_2(t,e,s,i,n):function d1e(t){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=t,document.head.appendChild(e)}(()=>{const o=f2(!1);if(!o)throw new Error("no recaptcha");_2(t,e,o,i,n)}),n.promise}function _2(t,e,n,r,i){n.ready(()=>{(function u1e(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{dn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{dn(t).reCAPTCHAState.succeeded=!1}}),s=dn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})})(t,e,n,r),i.resolve(n)})}function ab(){return ab=v(function*(t){qI(t);const n=yield dn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=dn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}),ab.apply(this,arguments)}class Yi{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return v(function*(){var n,r,i;!function sB(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw rr.create("throttled",{time:WI(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}(e._throttleData);const s=yield function tB(t){return ab.apply(this,arguments)}(e._app).catch(a=>{throw rr.create("recaptcha-error")});if(null===(n=dn(e._app).reCAPTCHAState)||void 0===n||!n.succeeded)throw rr.create("recaptcha-error");let o;try{o=yield p2(function zge(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${GI}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:e}}}(e._app,s),e._heartbeatServiceProvider)}catch(a){throw null!==(r=a.code)&&void 0!==r&&r.includes("fetch-status-error")?(e._throttleData=function iB(t,e){if(404===t||403===t)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:t};{const n=e?e.backoffCount:0,r=L4(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}(Number(null===(i=a.customData)||void 0===i?void 0:i.httpStatus),e._throttleData),rr.create("throttled",{time:WI(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):a}return e._throttleData=null,o})()}initialize(e){this._app=e,this._heartbeatServiceProvider=ms(e,"heartbeat"),c1e(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Yi&&this._siteKey===e._siteKey}}function h1e(t=Ol(),e){const n=ms(t=an(t),"app-check");if(d2().initialized||function Xge(){const t=xM(),e=d2();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new kl;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function Qge(){return ZI.apply(this,arguments)}())}(),eb()&&tb().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw rr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function p1e(t,e,n){const r=function kge(t,e){return $I.set(t,e),$I.get(t)}(t,Object.assign({},UL));r.activated=!0,r.provider=e,r.cachedTokenPromise=function Yge(t){return XI.apply(this,arguments)}(t).then(i=>(i&&qu(i)&&(r.token=i,JL(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),dn(t).isTokenAutoRefreshEnabled&&sb(r,"INTERNAL",()=>{}),r}const oB="app-check-internal";!function m1e(){Ti(new oi("app-check",t=>function n1e(t,e){return new t1e(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(oB).initialize()})),Ti(new oi(oB,t=>function r1e(t){return{getToken:e=>m2(t,e),getLimitedUseToken:()=>function QL(t){return ib.apply(this,arguments)}(t),addTokenListener:e=>sb(t,"INTERNAL",e),removeTokenListener:e=>ob(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),cn("@firebase/app-check","0.8.0")}();class lb{constructor(e){return e}}const ub=new xe("angularfire2.app-check-instances"),v1e=typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function y1e(t){return(e,n,r)=>{!v4(r)&&v1e&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN??=!0);const i=e.runOutsideAngular(()=>t(n));return new lb(i)}}const E1e={provide:X4,deps:[[new zt,ub]]},x1e={provide:lb,useFactory:function _1e(t,e){const n=Xg(GM,t,e);return n&&new lb(n)},deps:[[new zt,ub],Ga,os]};let C1e=(()=>{var t;class e{constructor(){cn("angularfire",Ho.full,"app-check")}}return t=e,vt(e,"\u0275fac",function(r){return new(r||t)}),vt(e,"\u0275mod",At({type:t})),vt(e,"\u0275inj",xt({providers:[x1e,E1e]})),e})();function xo(t,...e){return{ngModule:C1e,providers:[{provide:ub,useFactory:y1e(t),multi:!0,deps:[pt,Dn,os,Tf,Df,...e]}]}}const Co=xn(h1e,!0);let I1e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[Mge]}),t.\u0275inj=xt({imports:[Wr,eo(()=>no(jn_firebase)),jo(()=>$o()),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0})),Tge(()=>sge())]}),e})();class b1e{constructor(){this._stats=new Map}get stats(){return this._stats}set stats(e){this._stats=e}}class w1e{constructor(){this._ground=0,this._orbit=0,this._metalStored=0,this._mineralStored=0,this._foodStored=0,this._energyStored=0,this._metalProduction=0,this._mineralProduction=0,this._foodProduction=0,this._energyProduction=0}get ground(){return this._ground}set ground(e){this._ground=e}get orbit(){return this._orbit}set orbit(e){this._orbit=e}get metalStored(){return this._metalStored}set metalStored(e){this._metalStored=e}get mineralStored(){return this._mineralStored}set mineralStored(e){this._mineralStored=e}get foodStored(){return this._foodStored}set foodStored(e){this._foodStored=e}get energyStored(){return this._energyStored}set energyStored(e){this._energyStored=e}get metalProduction(){return this._metalProduction}set metalProduction(e){this._metalProduction=e}get mineralProduction(){return this._mineralProduction}set mineralProduction(e){this._mineralProduction=e}get foodProduction(){return this._foodProduction}set foodProduction(e){this._foodProduction=e}get energyProduction(){return this._energyProduction}set energyProduction(e){this._energyProduction=e}}class aB{constructor(){this._total=0,this._available=0,this._maximum=0}get total(){return this._total}set total(e){this._total=e}get available(){return this._available}set available(e){this._available=e}get maximum(){return this._maximum}set maximum(e){this._maximum=e}}class cB{constructor(){this._resources=new w1e,this._workers=new aB,this._soldiers=new aB,this._count=0}get count(){return this._count}set count(e){this._count=e}get resources(){return this._resources}set resources(e){this._resources=e}get workers(){return this._workers}set workers(e){this._workers=e}get soldiers(){return this._soldiers}set soldiers(e){this._soldiers=e}}var wn=function(t){return t.MINERAL="mineral",t.METAL="metal",t.FOOD="food",t.ENERGY="energy",t.ALL="all",t}(wn||{});let lB=(()=>{var t;class e{constructor(){this.dgAPI=q(gs)}extractStats(){let r=new b1e;return r.stats.set(wn.ALL,new cB),this.dgAPI.planetsSummaries().forEach(i=>{r.stats.has(i.location[0])||r.stats.set(i.location[0],new cB),r.stats.get(wn.ALL).count++,r.stats.get(i.location[0]).count++,r.stats.get(wn.ALL).workers.total+=i.workers.currentNumber,r.stats.get(i.location[0]).workers.total+=i.workers.currentNumber,r.stats.get(wn.ALL).workers.maximum+=i.workers.maximumNumber,r.stats.get(i.location[0]).workers.maximum+=i.workers.maximumNumber,r.stats.get(wn.ALL).soldiers.total+=i.soldiers.currentNumber,r.stats.get(i.location[0]).soldiers.total+=i.soldiers.currentNumber,r.stats.get(wn.ALL).resources.ground+=i.ground,r.stats.get(i.location[0]).resources.ground+=i.ground,r.stats.get(wn.ALL).resources.orbit+=i.orbit,r.stats.get(i.location[0]).resources.orbit+=i.orbit,i.resources.forEach(s=>{switch(s.name){case wn.METAL:r.stats.get(wn.ALL).resources.metalStored+=s.stored,r.stats.get(wn.ALL).resources.metalProduction+=s.production,r.stats.get(i.location[0]).resources.metalStored+=s.stored,r.stats.get(i.location[0]).resources.metalProduction+=s.production;break;case wn.MINERAL:r.stats.get(wn.ALL).resources.mineralStored+=s.stored,r.stats.get(wn.ALL).resources.mineralProduction+=s.production,r.stats.get(i.location[0]).resources.mineralStored+=s.stored,r.stats.get(i.location[0]).resources.mineralProduction+=s.production;break;case wn.FOOD:r.stats.get(wn.ALL).resources.foodStored+=s.stored,r.stats.get(wn.ALL).resources.foodProduction+=s.production,r.stats.get(i.location[0]).resources.foodStored+=s.stored,r.stats.get(i.location[0]).resources.foodProduction+=s.production;break;case wn.ENERGY:r.stats.get(wn.ALL).resources.energyStored+=s.stored,r.stats.get(wn.ALL).resources.energyProduction+=s.production,r.stats.get(i.location[0]).resources.energyStored+=s.stored,r.stats.get(i.location[0]).resources.energyProduction+=s.production}})}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),A1e=(()=>{var t;class e{transform(r){switch(r){case"all":return"Total";case"0":return"Home";default:return"G"+("0"+r).slice(-2)}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=On({name:"galaxyNameFormatter",type:t,pure:!0}),e})(),db=(()=>{var t;class e{constructor(){this.decimalPipe=q(ps)}transform(r){return isNaN(r)?" [N/A]":0===r?" [0.0]":" [+"+this.decimalPipe.transform(r,"1.0","en_US")+"]"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=On({name:"resourceProductionFormatter",type:t,pure:!0}),e})();const T1e=function(t){return{"dgt-stats-totals-last-row":t}},Pi=function(t){return{"dgt-padding-bottom-xs":t}};function D1e(t,e){if(1&t&&(G(0,"tr",4)(1,"th",5)(2,"span",6),X(3),Qt(4,"galaxyNameFormatter"),K(),G(5,"span",7),X(6),K()(),G(7,"td",8)(8,"div",9),Ue(9,"img",10),G(10,"span",11),X(11),Qt(12,"number"),K()()(),G(13,"td",12)(14,"div",9)(15,"span",11),X(16),Qt(17,"resourceProductionFormatter"),K()()(),G(18,"td",13)(19,"div",14),Ue(20,"img",15),G(21,"span",11),X(22),Qt(23,"number"),K()()(),G(24,"td",12)(25,"div",14)(26,"span",11),X(27),Qt(28,"resourceProductionFormatter"),K()()(),G(29,"td",13)(30,"div",16),Ue(31,"img",17),G(32,"span",11),X(33),Qt(34,"number"),K()()(),G(35,"td",12)(36,"div",16)(37,"span",11),X(38),Qt(39,"resourceProductionFormatter"),K()()(),G(40,"td",13)(41,"div",18),Ue(42,"img",19),G(43,"span",11),X(44),Qt(45,"number"),K()()(),G(46,"td",20)(47,"div",18)(48,"span",11),X(49),Qt(50,"resourceProductionFormatter"),K()()(),G(51,"td",21)(52,"div",22),Ue(53,"img",23),G(54,"span",11),X(55),Qt(56,"number"),K()()(),G(57,"td",24)(58,"div",25),Ue(59,"img",26),G(60,"span",11),X(61),Qt(62,"number"),K()()(),G(63,"td",27)(64,"div",28),Ue(65,"img",29),G(66,"span",11),X(67),Qt(68,"number"),K()()()()),2&t){const n=e.$implicit,r=e.index,i=Ut();Ne("ngClass",Ur(64,T1e,r==i.panel.stats.size-1)),me(1),Ne("ngClass",Ur(66,Pi,r==i.panel.stats.size-2)),me(2),dt(Ii(4,26,n.key)),me(3),Fa("[",n.value.count,"]"),me(1),Ne("ngClass",Ur(68,Pi,r==i.panel.stats.size-2)),me(4),dt(bi(12,28,n.value.resources.metalStored,"1.0","en-US")),me(2),Ne("ngClass",Ur(70,Pi,r==i.panel.stats.size-2)),me(3),dt(Ii(17,32,n.value.resources.metalProduction)),me(2),Ne("ngClass",Ur(72,Pi,r==i.panel.stats.size-2)),me(4),dt(bi(23,34,n.value.resources.mineralStored,"1.0","en-US")),me(2),Ne("ngClass",Ur(74,Pi,r==i.panel.stats.size-2)),me(3),dt(Ii(28,38,n.value.resources.mineralProduction)),me(2),Ne("ngClass",Ur(76,Pi,r==i.panel.stats.size-2)),me(4),dt(bi(34,40,n.value.resources.foodStored,"1.0","en-US")),me(2),Ne("ngClass",Ur(78,Pi,r==i.panel.stats.size-2)),me(3),dt(Ii(39,44,n.value.resources.foodProduction)),me(2),Ne("ngClass",Ur(80,Pi,r==i.panel.stats.size-2)),me(4),dt(bi(45,46,n.value.resources.energyStored,"1.0","en-US")),me(2),Ne("ngClass",Ur(82,Pi,r==i.panel.stats.size-2)),me(3),dt(Ii(50,50,n.value.resources.energyProduction)),me(2),Ne("ngClass",Ur(84,Pi,r==i.panel.stats.size-2)),me(4),dt(bi(56,52,n.value.resources.ground,"1.0","en-US")),me(2),Ne("ngClass",Ur(86,Pi,r==i.panel.stats.size-2)),me(4),dt(bi(62,56,n.value.resources.orbit,"1.0","en-US")),me(2),Ne("ngClass",Ur(88,Pi,r==i.panel.stats.size-2)),me(4),dt(bi(68,60,n.value.soldiers.total,"1.0","en-US"))}}let S1e=(()=>{var t;class e{constructor(){this.statsPanelService=q(lB)}ngOnInit(){this.panel=this.statsPanelService.extractStats()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-planet-list-stats-panel"]],decls:5,vars:3,consts:[[1,"dgt-stats-panel"],[1,"dgt-stats-totals"],[1,"dgt-stats-totals-table"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"dgt-padding-right-xl",3,"ngClass"],[1,"name"],[1,"count"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","metal"],["src","https://i.imgur.com/V9Yv4MJ.jpg","title","Metal","width","17","height","17"],[1,"dgt-value"],[1,"dgt-resource-td","medium","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource-td","medium","dgt-padding-right-xxs",3,"ngClass"],[1,"dgt-resource","resource","mineral"],["src","https://i.imgur.com/OdLTSDl.jpg","title","Mineral","width","17","height","17"],[1,"dgt-resource","resource","food"],["src","https://i.imgur.com/bhfaalb.jpg","title","Food","width","17","height","17"],[1,"dgt-resource","resource","energy"],["src","https://i.imgur.com/IkkDId3.jpg","title","Energy","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource-td","small","dgt-padding-left-xs","dgt-padding-right-xs",3,"ngClass"],[1,"dgt-resource","resource","ground"],["src","https://i.imgur.com/cSsBIwv.jpg","title","Ground Space","width","17","height","17"],[1,"dgt-resource-td","small","dgt-padding-right-xl",3,"ngClass"],[1,"dgt-resource","resource","orbit"],["src","https://i.imgur.com/7wtJcXw.jpg","title","Orbit Space","width","17","height","17"],[1,"dgt-resource-td","medium","dgt-padding-right-xs","dgt-padding-left-xs",3,"ngClass"],[1,"dgt-resource","resource","soldier"],["src","https://i.imgur.com/0varSGq.jpg","title","Soldiers","width","17","height","17"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"div",1)(2,"table",2),Dt(3,D1e,69,90,"tr",3),Qt(4,"keyvalue"),K()()()),2&r&&(me(3),Ne("ngForOf",Ii(4,1,i.panel.stats)))},dependencies:[h4,Hg,ps,jP,A1e,db],styles:[".dgt-stats-totals[_ngcontent-%COMP%]{background:rgb(75,75,75)!important;border-radius:5px!important;margin-bottom:5px!important;padding:5px!important;border:1px solid #5e5e5e!important}.dgt-stats-totals-table[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-collapse:collapse;margin:0;padding:0}.dgt-stats-totals-table[_ngcontent-%COMP%]{padding:5px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:20px;width:65px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;float:left}.dgt-stats-totals-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{display:block;float:right;font-weight:400!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:20px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xs[_ngcontent-%COMP%]{padding-right:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xxs[_ngcontent-%COMP%]{padding-right:2px}.dgt-stats-totals-table[_ngcontent-%COMP%]   th.dgt-padding-right-xl[_ngcontent-%COMP%], .dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-right-xl[_ngcontent-%COMP%]{padding-right:10px;border-right:1px solid rgba(0,0,0,.25)}.dgt-stats-totals-last-row[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.25)}.dgt-padding-bottom-xs[_ngcontent-%COMP%]{padding-bottom:2px!important}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-padding-left-xs[_ngcontent-%COMP%]{padding-left:10px}.dgt-stats-totals-table[_ngcontent-%COMP%]   td.dgt-no-padding-right[_ngcontent-%COMP%]{padding-right:0!important}.resource[_ngcontent-%COMP%] > img.dgt-resource-img[_ngcontent-%COMP%]{float:left}.dgt-resource[_ngcontent-%COMP%]{height:23px!important;padding:0;vertical-align:middle;display:table-cell}.resource[_ngcontent-%COMP%] > span.dgt-value[_ngcontent-%COMP%]{float:right;padding-left:4px;line-height:23px}.dgt-resource[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:14px!important}.dgt-resource[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:3px;border:1px solid #767676;height:15px;width:15px;vertical-align:middle}"]}),e})();function uB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uB(Object(n),!0).forEach(function(r){Rn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v2(t){return(v2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fb(t,e){return function N1e(t){if(Array.isArray(t))return t}(t)||function F1e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(c){s=!0,a=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(s)throw a}}return r}}(t,e)||fB(t,e)||function L1e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xp(t){return function k1e(t){if(Array.isArray(t))return hb(t)}(t)||function O1e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||fB(t)||function V1e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fB(t,e){if(t){if("string"==typeof t)return hb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(t,e)}}function hb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hB=function(){},pb={},pB={},gB=null,mB={mark:hB,measure:hB};try{typeof window<"u"&&(pb=window),typeof document<"u"&&(pB=document),typeof MutationObserver<"u"&&(gB=MutationObserver),typeof performance<"u"&&(mB=performance)}catch{}var x2,C2,I2,b2,w2,_B=(pb.navigator||{}).userAgent,vB=void 0===_B?"":_B,da=pb,Gt=pB,yB=gB,E2=mB,Io=!!Gt.documentElement&&!!Gt.head&&"function"==typeof Gt.addEventListener&&"function"==typeof Gt.createElement,EB=~vB.indexOf("MSIE")||~vB.indexOf("Trident/"),bo="___FONT_AWESOME___",xB="fa",CB="svg-inline--fa",wc="data-fa-i2svg",mb="data-fa-pseudo-element",H1e="data-fa-pseudo-element-pending",_b="data-prefix",vb="data-icon",IB="fontawesome-i2svg",z1e="async",U1e=["HTML","HEAD","STYLE","SCRIPT"],bB=function(){try{return!0}catch{return!1}}(),qt="classic",fn="sharp",yb=[qt,fn];function Cp(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[qt]}})}var Ip=Cp((Rn(x2={},qt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Rn(x2,fn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),x2)),bp=Cp((Rn(C2={},qt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Rn(C2,fn,{solid:"fass",regular:"fasr",light:"fasl"}),C2)),wp=Cp((Rn(I2={},qt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Rn(I2,fn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),I2)),j1e=Cp((Rn(b2={},qt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Rn(b2,fn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),b2)),$1e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,wB="fa-layers-text",G1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,q1e=Cp((Rn(w2={},qt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Rn(w2,fn,{900:"fass",400:"fasr",300:"fasl"}),w2)),AB=[1,2,3,4,5,6,7,8,9,10],W1e=AB.concat([11,12,13,14,15,16,17,18,19,20]),K1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ac={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ap=new Set;Object.keys(bp[qt]).map(Ap.add.bind(Ap)),Object.keys(bp[fn]).map(Ap.add.bind(Ap));var Y1e=[].concat(yb,xp(Ap),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ac.GROUP,Ac.SWAP_OPACITY,Ac.PRIMARY,Ac.SECONDARY]).concat(AB.map(function(t){return"".concat(t,"x")})).concat(W1e.map(function(t){return"w-".concat(t)})),Tp=da.FontAwesomeConfig||{};Gt&&"function"==typeof Gt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=fb(t,2),r=e[1],i=function X1e(t){return""===t||"false"!==t&&("true"===t||t)}(function Q1e(t){var e=Gt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(Tp[r]=i)});var TB={styleDefault:"solid",familyDefault:"classic",cssPrefix:xB,replacementClass:CB,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Tp.familyPrefix&&(Tp.cssPrefix=Tp.familyPrefix);var Wu=De(De({},TB),Tp);Wu.autoReplaceSvg||(Wu.observeMutations=!1);var Me={};Object.keys(TB).forEach(function(t){Object.defineProperty(Me,t,{enumerable:!0,set:function(n){Wu[t]=n,Dp.forEach(function(r){return r(Me)})},get:function(){return Wu[t]}})}),Object.defineProperty(Me,"familyPrefix",{enumerable:!0,set:function(e){Wu.cssPrefix=e,Dp.forEach(function(n){return n(Me)})},get:function(){return Wu.cssPrefix}}),da.FontAwesomeConfig=Me;var Dp=[],ks={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},tme="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Sp(){for(var t=12,e="";t-- >0;)e+=tme[62*Math.random()|0];return e}function Ku(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Eb(t){return t.classList?Ku(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function DB(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A2(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function xb(t){return t.size!==ks.size||t.x!==ks.x||t.y!==ks.y||t.rotate!==ks.rotate||t.flipX||t.flipY}var sme=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function SB(){var t=xB,e=CB,n=Me.cssPrefix,r=Me.replacementClass,i=sme;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var PB=!1;function Cb(){Me.autoAddCss&&!PB&&(function eme(t){if(t&&Io){var e=Gt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Gt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Gt.head.insertBefore(e,r)}}(SB()),PB=!0)}var ome={mixout:function(){return{dom:{css:SB,insertCss:Cb}}},hooks:function(){return{beforeDOMElementCreation:function(){Cb()},beforeI2svg:function(){Cb()}}}},wo=da||{};wo[bo]||(wo[bo]={}),wo[bo].styles||(wo[bo].styles={}),wo[bo].hooks||(wo[bo].hooks={}),wo[bo].shims||(wo[bo].shims=[]);var Qi=wo[bo],MB=[],T2=!1;function Pp(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,s=void 0===i?[]:i;return"string"==typeof t?DB(t):"<".concat(e," ").concat(function nme(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(DB(t[n]),'" ')},"").trim()}(r),">").concat(s.map(Pp).join(""),"</").concat(e,">")}function RB(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Io&&((T2=(Gt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Gt.readyState))||Gt.addEventListener("DOMContentLoaded",function t(){Gt.removeEventListener("DOMContentLoaded",t),T2=1,MB.map(function(e){return e()})}));var Ib=function(e,n,r,i){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}}(n,i):n;for(void 0===r?(c=1,u=e[s[0]]):(c=0,u=r);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function bb(t){var e=function ume(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);return 1===e.length?e[0].toString(16):null}function kB(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function wb(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,s=kB(e);"function"!=typeof Qi.hooks.addPack||i?Qi.styles[t]=De(De({},Qi.styles[t]||{}),s):Qi.hooks.addPack(t,kB(e)),"fas"===t&&wb("fa",e)}var D2,S2,P2,Yu=Qi.styles,fme=Qi.shims,hme=(Rn(D2={},qt,Object.values(wp[qt])),Rn(D2,fn,Object.values(wp[fn])),D2),Ab=null,NB={},OB={},FB={},VB={},LB={},pme=(Rn(S2={},qt,Object.keys(Ip[qt])),Rn(S2,fn,Object.keys(Ip[fn])),S2);var BB=function(){var e=function(s){return Ib(Yu,function(o,a,c){return o[c]=Ib(a,s,{}),o},{})};NB=e(function(i,s,o){return s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),OB=e(function(i,s,o){return i[o]=o,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),LB=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(c){i[c]=o}),i});var n="far"in Yu||Me.autoFetchSvg,r=Ib(fme,function(i,s){var o=s[0],a=s[1],c=s[2];return"far"===a&&!n&&(a="fas"),"string"==typeof o&&(i.names[o]={prefix:a,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:a,iconName:c}),i},{names:{},unicodes:{}});FB=r.names,VB=r.unicodes,Ab=M2(Me.styleDefault,{family:Me.familyDefault})};function Tb(t,e){return(NB[t]||{})[e]}function Tc(t,e){return(LB[t]||{})[e]}function HB(t){return FB[t]||{prefix:null,iconName:null}}function ha(){return Ab}(function Z1e(t){Dp.push(t)})(function(t){Ab=M2(t.styleDefault,{family:Me.familyDefault})}),BB();var Db=function(){return{prefix:null,iconName:null,rest:[]}};function M2(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===n?qt:n;return bp[r][t]||bp[r][Ip[r][t]]||(t in Qi.styles?t:null)||null}var zB=(Rn(P2={},qt,Object.keys(wp[qt])),Rn(P2,fn,Object.keys(wp[fn])),P2);function R2(t){var e,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,s=(Rn(e={},qt,"".concat(Me.cssPrefix,"-").concat(qt)),Rn(e,fn,"".concat(Me.cssPrefix,"-").concat(fn)),e),o=null,a=qt;(t.includes(s[qt])||t.some(function(l){return zB[qt].includes(l)}))&&(a=qt),(t.includes(s[fn])||t.some(function(l){return zB[fn].includes(l)}))&&(a=fn);var c=t.reduce(function(l,u){var d=function mme(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||function gme(t){return~Y1e.indexOf(t)}(i)?null:i}(Me.cssPrefix,u);if(Yu[u]?(u=hme[a].includes(u)?j1e[a][u]:u,o=u,l.prefix=u):pme[a].indexOf(u)>-1?(o=u,l.prefix=M2(u,{family:a})):d?l.iconName=d:u!==Me.replacementClass&&u!==s[qt]&&u!==s[fn]&&l.rest.push(u),!i&&l.prefix&&l.iconName){var f="fa"===o?HB(l.iconName):{},h=Tc(l.prefix,l.iconName);f.prefix&&(o=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!Yu.far&&Yu.fas&&!Me.autoFetchSvg&&(l.prefix="fas")}return l},Db());return(t.includes("fa-brands")||t.includes("fab"))&&(c.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(c.prefix="fad"),!c.prefix&&a===fn&&(Yu.fass||Me.autoFetchSvg)&&(c.prefix="fass",c.iconName=Tc(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===o)&&(c.prefix=ha()||"fas"),c}var yme=function(){function t(){(function P1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function M1e(t,e,n){e&&dB(t.prototype,e),n&&dB(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=De(De({},n.definitions[a]||{}),o[a]),wb(a,o[a]);var c=wp[qt][a];c&&wb(c,o[a]),BB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,c=o.iconName,l=o.icon,u=l[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(n[a][d]=l)}),n[a][c]=l}),n}}]),t}(),UB=[],Qu={},Xu={},Eme=Object.keys(Xu);function Sb(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Qu[t]||[]).forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Dc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Qu[t]||[]).forEach(function(s){s.apply(null,n)})}function Ao(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Xu[t]?Xu[t].apply(null,e):void 0}function Pb(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||ha();if(e)return e=Tc(n,e)||e,RB(jB.definitions,n,e)||RB(Qi.styles,n,e)}var jB=new yme,Ime={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Io?(Dc("beforeI2svg",e),Ao("pseudoElements2svg",e),Ao("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===Me.autoReplaceSvg&&(Me.autoReplaceSvg=!0),Me.observeMutations=!0,function cme(t){Io&&(T2?setTimeout(t,0):MB.push(t))}(function(){wme({autoReplaceSvgRoot:n}),Dc("watch",e)})}},hi={noAuto:function(){Me.autoReplaceSvg=!1,Me.observeMutations=!1,Dc("noAuto")},config:Me,dom:Ime,parse:{icon:function(e){if(null===e)return null;if("object"===v2(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Tc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=M2(e[0]);return{prefix:r,iconName:Tc(r,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(Me.cssPrefix,"-"))>-1||e.match($1e))){var i=R2(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||ha(),iconName:Tc(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var s=ha();return{prefix:s,iconName:Tc(s,e)||e}}}},library:jB,findIconDefinition:Pb,toHtml:Pp},wme=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===n?Gt:n;(Object.keys(Qi.styles).length>0||Me.autoFetchSvg)&&Io&&Me.autoReplaceSvg&&hi.dom.i2svg({node:r})};function k2(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Pp(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Io){var r=Gt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Mb(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,f=t.watchable,h=void 0!==f&&f,p=r.found?r:n,g=p.width,y=p.height,S="fak"===i,w=[Me.replacementClass,s?"".concat(Me.cssPrefix,"-").concat(s):""].filter(function(kn){return-1===d.classes.indexOf(kn)}).filter(function(kn){return""!==kn||!!kn}).concat(d.classes).join(" "),U={children:[],attributes:De(De({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:w,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(y)})},Y=S&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/y*16*.0625,"em")}:{};h&&(U.attributes[wc]=""),c&&(U.children.push({tag:"title",attributes:{id:U.attributes["aria-labelledby"]||"title-".concat(u||Sp())},children:[c]}),delete U.attributes.title);var he=De(De({},U),{},{prefix:i,iconName:s,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:De(De({},Y),d.styles)}),Re=r.found&&n.found?Ao("generateAbstractMask",he)||{children:[],attributes:{}}:Ao("generateAbstractIcon",he)||{children:[],attributes:{}},en=Re.attributes;return he.children=Re.children,he.attributes=en,a?function Tme(t){var n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=!0===s?"".concat(t.prefix,"-").concat(Me.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:De(De({},i),{},{id:o}),children:r}]}]}(he):function Ame(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(xb(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=A2(De(De({},s),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(he)}function $B(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,c=void 0!==a&&a,l=De(De(De({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[wc]="");var u=De({},o.styles);xb(i)&&(u.transform=function ime(t){var e=t.transform,n=t.width,i=t.height,s=void 0===i?16:i,o=t.startCentered,a=void 0!==o&&o,c="";return c+=a&&EB?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-s/2,"em) "):a?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(c+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=A2(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}var Rb=Qi.styles;function kb(t){var e=t[0],n=t[1],s=fb(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Me.cssPrefix,"-").concat(Ac.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Me.cssPrefix,"-").concat(Ac.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Me.cssPrefix,"-").concat(Ac.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var Sme={found:!1,width:512,height:512};function Nb(t,e){var n=e;return"fa"===e&&null!==Me.styleDefault&&(e=ha()),new Promise(function(r,i){if(Ao("missingIconAbstract"),"fa"===n){var o=HB(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&Rb[e]&&Rb[e][t])return r(kb(Rb[e][t]));(function Pme(t,e){!bB&&!Me.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),r(De(De({},Sme),{},{icon:Me.showMissingIcons&&t&&Ao("missingIconAbstract")||{}}))})}var GB=function(){},Ob=Me.measurePerformance&&E2&&E2.mark&&E2.measure?E2:{mark:GB,measure:GB},Mp='FA "6.4.2"',qB=function(e){Ob.mark("".concat(Mp," ").concat(e," ends")),Ob.measure("".concat(Mp," ").concat(e),"".concat(Mp," ").concat(e," begins"),"".concat(Mp," ").concat(e," ends"))},Fb={begin:function(e){return Ob.mark("".concat(Mp," ").concat(e," begins")),function(){return qB(e)}},end:qB},N2=function(){};function WB(t){return"string"==typeof(t.getAttribute?t.getAttribute(wc):null)}function Ome(t){return Gt.createElementNS("http://www.w3.org/2000/svg",t)}function Fme(t){return Gt.createElement(t)}function KB(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===n?"svg"===t.tag?Ome:Fme:n;if("string"==typeof t)return Gt.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])}),(t.children||[]).forEach(function(o){i.appendChild(KB(o,{ceFn:r}))}),i}var O2={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(KB(i),n)}),null===n.getAttribute(wc)&&Me.keepOriginalSource){var r=Gt.createComment(function Vme(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Eb(n).indexOf(Me.replacementClass))return O2.replace(e);var i=new RegExp("".concat(Me.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,c){return c===Me.replacementClass||c.match(i)?a.toSvg.push(c):a.toNode.push(c),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Pp(a)}).join("\n");n.setAttribute(wc,""),n.innerHTML=o}};function YB(t){t()}function QB(t,e){var n="function"==typeof e?e:N2;if(0===t.length)n();else{var r=YB;Me.mutateApproach===z1e&&(r=da.requestAnimationFrame||YB),r(function(){var i=function Nme(){return!0===Me.autoReplaceSvg?O2.replace:O2[Me.autoReplaceSvg]||O2.replace}(),s=Fb.begin("mutate");t.map(i),s(),n()})}}var Vb=!1;function XB(){Vb=!0}function Lb(){Vb=!1}var F2=null;function JB(t){if(yB&&Me.observeMutations){var e=t.treeCallback,n=void 0===e?N2:e,r=t.nodeCallback,i=void 0===r?N2:r,s=t.pseudoElementsCallback,o=void 0===s?N2:s,a=t.observeMutationsRoot,c=void 0===a?Gt:a;F2=new yB(function(l){if(!Vb){var u=ha();Ku(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!WB(d.addedNodes[0])&&(Me.searchPseudoElements&&o(d.target),n(d.target)),"attributes"===d.type&&d.target.parentNode&&Me.searchPseudoElements&&o(d.target.parentNode),"attributes"===d.type&&WB(d.target)&&~K1e.indexOf(d.attributeName))if("class"===d.attributeName&&function Rme(t){var e=t.getAttribute?t.getAttribute(_b):null,n=t.getAttribute?t.getAttribute(vb):null;return e&&n}(d.target)){var f=R2(Eb(d.target)),p=f.iconName;d.target.setAttribute(_b,f.prefix||u),p&&d.target.setAttribute(vb,p)}else(function kme(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Me.replacementClass)})(d.target)&&i(d.target)})}}),Io&&F2.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function ZB(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function Hme(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=R2(Eb(t));return i.prefix||(i.prefix=ha()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function _me(t,e){return(OB[t]||{})[e]}(i.prefix,t.innerText)||Tb(i.prefix,bb(t.innerText))),!i.iconName&&Me.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=n.iconName,i=n.prefix,s=n.rest,o=function zme(t){var e=Ku(t.attributes).reduce(function(i,s){return"class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Me.autoA11y&&(n?e["aria-labelledby"]="".concat(Me.replacementClass,"-title-").concat(r||Sp()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),a=Sb("parseNodeAttributes",{},t),c=e.styleParser?function Bme(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}(t):[];return De({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:ks,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},a)}var jme=Qi.styles;function eH(t){var e="nest"===Me.autoReplaceSvg?ZB(t,{styleParser:!1}):ZB(t);return~e.extra.classes.indexOf(wB)?Ao("generateLayersText",t,e):Ao("generateSvgReplacementMutation",t,e)}var pa=new Set;function tH(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Io)return Promise.resolve();var n=Gt.documentElement.classList,r=function(d){return n.add("".concat(IB,"-").concat(d))},i=function(d){return n.remove("".concat(IB,"-").concat(d))},s=Me.autoFetchSvg?pa:yb.map(function(u){return"fa-".concat(u)}).concat(Object.keys(jme));s.includes("fa")||s.push("fa");var o=[".".concat(wB,":not([").concat(wc,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(wc,"])")})).join(", ");if(0===o.length)return Promise.resolve();var a=[];try{a=Ku(t.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");var c=Fb.begin("onTree"),l=a.reduce(function(u,d){try{var f=eH(d);f&&u.push(f)}catch(h){bB||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){QB(f,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),u()})}).catch(function(f){c(),d(f)})})}function $me(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;eH(t).then(function(n){n&&QB([n],e)})}function Gme(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Pb(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Pb(i||{})),t(r,De(De({},n),{},{mask:i}))}}yb.map(function(t){pa.add("fa-".concat(t))}),Object.keys(Ip[qt]).map(pa.add.bind(pa)),Object.keys(Ip[fn]).map(pa.add.bind(pa)),pa=xp(pa);var qme=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?ks:r,s=n.symbol,o=void 0!==s&&s,a=n.mask,c=void 0===a?null:a,l=n.maskId,u=void 0===l?null:l,d=n.title,f=void 0===d?null:d,h=n.titleId,p=void 0===h?null:h,g=n.classes,y=void 0===g?[]:g,S=n.attributes,w=void 0===S?{}:S,U=n.styles,Y=void 0===U?{}:U;if(e){var he=e.prefix,Re=e.iconName,Qe=e.icon;return k2(De({type:"icon"},e),function(){return Dc("beforeDOMElementCreation",{iconDefinition:e,params:n}),Me.autoA11y&&(f?w["aria-labelledby"]="".concat(Me.replacementClass,"-title-").concat(p||Sp()):(w["aria-hidden"]="true",w.focusable="false")),Mb({icons:{main:kb(Qe),mask:c?kb(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:he,iconName:Re,transform:De(De({},ks),i),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:w,styles:Y,classes:y}})})}},Wme={mixout:function(){return{icon:Gme(qme)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=tH,n.nodeCallback=$me,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=n.callback;return tH(void 0===r?Gt:r,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,c=r.transform,l=r.symbol,u=r.mask,d=r.maskId,f=r.extra;return new Promise(function(h,p){Promise.all([Nb(i,a),u.iconName?Nb(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var y=fb(g,2);h([n,Mb({icons:{main:y[0],mask:y[1]},prefix:a,iconName:i,transform:c,symbol:l,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(p)})},e.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,s=n.main,o=n.transform,c=A2(n.styles);return c.length>0&&(i.style=c),xb(o)&&(l=Ao("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(l||s.icon),{children:r,attributes:i}}}},Kme={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,s=void 0===i?[]:i;return k2({type:"layer"},function(){Dc("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(c){o=o.concat(c.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Me.cssPrefix,"-layers")].concat(xp(s)).join(" ")},children:o}]})}}}},Yme={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,s=void 0===i?null:i,o=r.classes,a=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,u=r.styles,d=void 0===u?{}:u;return k2({type:"counter",content:n},function(){return Dc("beforeDOMElementCreation",{content:n,params:r}),function Dme(t){var e=t.content,n=t.title,r=t.extra,i=De(De(De({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=A2(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:n.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(Me.cssPrefix,"-layers-counter")].concat(xp(a))}})})}}}},Qme={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,s=void 0===i?ks:i,o=r.title,a=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,u=r.attributes,d=void 0===u?{}:u,f=r.styles,h=void 0===f?{}:f;return k2({type:"text",content:n},function(){return Dc("beforeDOMElementCreation",{content:n,params:r}),$B({content:n,transform:De(De({},ks),s),title:a,extra:{attributes:d,styles:h,classes:["".concat(Me.cssPrefix,"-layers-text")].concat(xp(l))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,c=null;if(EB){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,c=u.height/l}return Me.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,$B({content:n.innerHTML,width:a,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},Xme=new RegExp('"',"ug"),nH=[1105920,1112319];function rH(t,e){var n="".concat(H1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(n))return r();var o=Ku(t.children).filter(function(Qe){return Qe.getAttribute(mb)===e})[0],a=da.getComputedStyle(t,e),c=a.getPropertyValue("font-family").match(G1e),l=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&"none"!==u&&""!==u){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?fn:qt,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?bp[f][c[2].toLowerCase()]:q1e[f][l],p=function Jme(t){var e=t.replace(Xme,""),n=function dme(t,e){var i,n=t.length,r=t.charCodeAt(e);return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=n>=nH[0]&&n<=nH[1],i=2===e.length&&e[0]===e[1];return{value:bb(i?e[0]:e),isSecondary:r||i}}(d),g=p.value,y=p.isSecondary,S=c[0].startsWith("FontAwesome"),w=Tb(h,g),U=w;if(S){var Y=function vme(t){var e=VB[t],n=Tb("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);Y.iconName&&Y.prefix&&(w=Y.iconName,h=Y.prefix)}if(!w||y||o&&o.getAttribute(_b)===h&&o.getAttribute(vb)===U)r();else{t.setAttribute(n,U),o&&t.removeChild(o);var he=function Ume(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ks,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Re=he.extra;Re.attributes[mb]=e,Nb(w,h).then(function(Qe){var en=Mb(De(De({},he),{},{icons:{main:Qe,mask:Db()},prefix:h,iconName:U,extra:Re,watchable:!0})),kn=Gt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(kn,t.firstChild):t.appendChild(kn),kn.outerHTML=en.map(function(Ea){return Pp(Ea)}).join("\n"),t.removeAttribute(n),r()}).catch(i)}}else r()})}function Zme(t){return Promise.all([rH(t,"::before"),rH(t,"::after")])}function e2e(t){return!(t.parentNode===document.head||~U1e.indexOf(t.tagName.toUpperCase())||t.getAttribute(mb)||t.parentNode&&"svg"===t.parentNode.tagName)}function iH(t){if(Io)return new Promise(function(e,n){var r=Ku(t.querySelectorAll("*")).filter(e2e).map(Zme),i=Fb.begin("searchPseudoElements");XB(),Promise.all(r).then(function(){i(),Lb(),e()}).catch(function(){i(),Lb(),n()})})}var sH=!1,oH=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return r.flipX=!0,r;if(o&&"v"===a)return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Bb={x:0,y:0,width:"100%",height:"100%"};function aH(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function i2e(t){return"g"===t.tag?t.children:[t]}var s2e={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?R2(i.split(" ").map(function(o){return o.trim()})):Db();return s.prefix||(s.prefix=ha()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,u=s.icon,f=o.icon,h=function rme(t){var e=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:s.width}),p={tag:"rect",attributes:De(De({},Bb),{},{fill:"white"})},g=u.children?{children:u.children.map(aH)}:{},y={tag:"g",attributes:De({},h.inner),children:[aH(De({tag:u.tag,attributes:De(De({},u.attributes),h.path)},g))]},S={tag:"g",attributes:De({},h.outer),children:[y]},w="mask-".concat(a||Sp()),U="clip-".concat(a||Sp()),Y={tag:"mask",attributes:De(De({},Bb),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,S]},he={tag:"defs",children:[{tag:"clipPath",attributes:{id:U},children:i2e(f)},Y]};return r.push(he,{tag:"rect",attributes:De({fill:"currentColor","clip-path":"url(#".concat(U,")"),mask:"url(#".concat(w,")")},Bb)}),{children:r,attributes:i}}}};!function xme(t,e){var n=e.mixoutsTo;UB=t,Qu={},Object.keys(Xu).forEach(function(r){-1===Eme.indexOf(r)&&delete Xu[r]}),UB.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===v2(i[o])&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Qu[o]||(Qu[o]=[]),Qu[o].push(s[o])})}r.provides&&r.provides(Xu)})}([ome,Wme,Kme,Yme,Qme,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=iH,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node;Me.searchPseudoElements&&iH(void 0===r?Gt:r)}}},{mixout:function(){return{dom:{unwatch:function(){XB(),sH=!0}}}},hooks:function(){return{bootstrap:function(){JB(Sb("mutationObserverCallbacks",{}))},noAuto:function(){!function Lme(){F2&&F2.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;sH?Lb():JB(Sb("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return oH(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=oH(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),h={outer:a,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:De({},h.outer),children:[{tag:"g",attributes:De({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:De(De({},r.icon.attributes),h.path)}]}]}}}},s2e,{provides:function(e){var n=!1;da.matchMedia&&(n=da.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:De(De({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=De(De({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:De(De({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:De(De({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:De(De({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:De(De({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:De(De({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:De(De({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:De(De({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:hi});var l2e=hi.parse,u2e=hi.icon;const d2e=["*"],p2e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let _2e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),cH=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...r){for(const i of r){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const s of i.icon[2])"string"==typeof s&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...r){for(const i of r){const s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(r,i){return r in this.definitions&&i in this.definitions[r]?this.definitions[r][i]:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),v2e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(r){if("size"in r)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Fe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Er]}),e})(),y2e=(()=>{var t;class e{constructor(r,i){this.renderer=r,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(r){"size"in r&&(null!=r.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${r.size.currentValue}`),null!=r.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${r.size.previousValue}`))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(as),te(br))},t.\u0275cmp=Nn({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Er],ngContentSelectors:d2e,decls:1,vars:0,template:function(r,i){1&r&&(function MD(t){const e=ee()[pn][ar];if(!e.projection){const r=e.projection=Pd(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?uY(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),function RD(t,e=0,n){const r=ee(),i=ut(),s=pl(i,it+t,16,null,n||null);null===s.projection&&(s.projection=e),B_(),(!r[Us]||Gc())&&32!=(32&s.flags)&&function cq(t,e,n){k5(e[Ge],0,e,n,hv(t,n,e),T5(n.parent||e[ar],n,e))}(i,r,s)}(0))},encapsulation:2}),e})(),E2e=(()=>{var t;class e{set spin(r){this.animation=r?"spin":void 0}set pulse(r){this.animation=r?"spin-pulse":void 0}constructor(r,i,s,o,a){this.sanitizer=r,this.config=i,this.iconLibrary=s,this.stackItem=o,this.classes=[],null!=a&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(r){if(null!=this.icon||null!=this.config.fallbackIcon){if(r){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const o=this.buildParams();this.renderIcon(s,o)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(r){const i=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(r,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(i),null)}buildParams(){const r={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?l2e.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...p2e(r),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(r,i){const s=u2e(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return(t=e).\u0275fac=function(r){return new(r||t)(te(fM),te(_2e),te(cH),te(v2e,8),te(y2e,8))},t.\u0275cmp=Nn({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(Ey("innerHTML",i.renderedIconHTML,q5),Vi("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Er],decls:0,vars:0,template:function(r,i){},encapsulation:2}),e})(),Hb=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({}),e})(),x2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[S1e]}),t.\u0275inj=xt({providers:[ps,lB],imports:[Wr,Hb]}),e})(),lH=(()=>{var t;class e{constructor(){this.firestore=q(As),this.dgAPI=q(gs)}extractScan(){return this.dgAPI.planetScan()}updateScan(r){if(this.planetScanSubscription)return;const i=_o(this.firestore,"scans-g"+r.planetScan.location.split(/\./)[0]);this.planetScanSubscription=Bm(zm(i,dC("location","==",r.planetScan.location),jF(1))).subscribe(s=>{let o=Object.assign(new mM,s[0]);o.location=r.planetScan.location,o.turn=r.planetScan.turn,o.owner=r.planetScan.owner,(r.type==ur.RESOURCE||r.type==ur.SURFACE)&&(o.orbit=r.planetScan.orbit,o.ground=r.planetScan.ground),r.type==ur.RESOURCE&&(o.resources.length>0?o.resources.forEach((a,c)=>{a.abundance=r.planetScan.resources[c].abundance,a.name=r.planetScan.resources[c].name}):o.resources=r.planetScan.resources),r.type==ur.SURFACE&&(o.resources=r.planetScan.resources,o.workers=r.planetScan.workers,o.soldiers=r.planetScan.soldiers,o.structures=r.planetScan.structures),r.type==ur.FLEET?o.fleets=r.planetScan.fleets:(0==s.length?Kh(fi(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}):Um(fi(i,o.location),JSON.parse(JSON.stringify(o))).catch(a=>{console.log(a)}),this.planetScanSubscription.unsubscribe(),this.planetScanSubscription=null)})}ngOnDestroy(){this.planetScanSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function C2e(t,e){1&t&&(G(0,"p",3),X(1,"Each scan will be cached and shared with your alliance members "),Ue(2,"img",4),K())}let I2e=(()=>{var t;class e{constructor(){this.scanService=q(lH),this.authService=q(Ts),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,r.status&&!this.initialized){let i=this.scanService.extractScan();null!=i&&this.scanService.updateScan(i),this.initialized=!0}document.querySelector("dgt-shared-scans-collector .dgt-spinner-container")&&(document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-shared-scans-collector .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-shared-scans-collector"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"]],template:function(r,i){1&r&&(G(0,"div",0),Ue(1,"span",1),K(),Dt(2,C2e,3,0,"p",2)),2&r&&(me(2),Ne("ngIf",i.active))},dependencies:[hs],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0!important;padding:5px!important}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:0!important;border-radius:0!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),b2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[I2e]}),t.\u0275inj=xt({providers:[lH],imports:[Wr,eo(()=>no(jn_firebase)),jo(()=>$o()),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),uH=(()=>{var t;class e{constructor(){this.firestore=q(As),this.dgAPI=q(gs),this.resourceProductionFormatterPipe=q(db),this.decimalPipe=q(ps)}extractSummaries(){return this.dgAPI.navigationSystemPlanets()}fillScans(r){if(this.scansSubscription)return;let i=r.map(s=>s.location.join("."));this.scansSubscription=Bm(zm(_o(this.firestore,"scans-g"+i[0].split(/\./)[0]),dC("location","in",i))).subscribe(s=>{let a=Object.assign([],s).reduce((c,l)=>c.set(l.location,l),new Map);document.querySelectorAll("div.navigation div.planets").forEach(c=>{let l=c.querySelector("div.coords > span").textContent.trim(),u=a.get(l);if(c.querySelector("img:first-child").style.filter="grayscale(100%)",u){c.querySelector("#dgt-navigation-scan-turn").textContent="Turn: "+this.decimalPipe.transform(u.turn,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-size-ground span").textContent=u.ground,c.querySelector(".dgt-navigation-scan-size-orbit span").textContent=u.orbit,u.resources.forEach(h=>{c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .abundance").textContent=h.abundance.toString()+"%",c.querySelector(".dgt-navigation-scan .dgt-navigation-scan-resource."+h.name+" .production").textContent=this.resourceProductionFormatterPipe.transform(h.production).trim()});let d=u.structures.map(h=>h.name);d.includes(Lt.JUMP_GATE)&&(c.querySelector(".dgt-navigation-scan-structures-data .jg").textContent="JG"),d.includes(Lt.HYPERSPACE_BEACON)&&(c.querySelector(".dgt-navigation-scan-structures-data .hb").textContent="HB"),d.includes(Lt.SPACE_TETHER)&&(c.querySelector(".dgt-navigation-scan-structures-data .st").textContent="ST"),d.includes(Lt.LIGHT_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .lw").textContent="LW"),d.includes(Lt.HEAVY_WEAPONS_FACTORY)&&(c.querySelector(".dgt-navigation-scan-structures-data .hw").textContent="HW"),d.includes(Lt.SHIP_YARD)&&(c.querySelector(".dgt-navigation-scan-structures-data .sy").textContent="SY"),d.includes(Lt.SPACE_DOCK)&&(c.querySelector(".dgt-navigation-scan-structures-data .sd").textContent="SD"),d.includes(Lt.ARMY_BARRACKS)&&(c.querySelector(".dgt-navigation-scan-soldiers-ab").textContent="AB"),d.includes(Lt.COMMS_SATELLITE)&&(c.querySelector(".dgt-navigation-scan-structures-data .cs").textContent="CS");let f=1;if(d.includes(Lt.MEDICAL_CENTRE)&&(f+=.3),d.includes(Lt.LEISURE_CENTRE)&&(f+=.4),d.includes(Lt.HOSPITAL)&&(f+=.3),u.workers.currentNumber>0||u.soldiers>0){c.querySelector(".dgt-navigation-scan-workers-value").textContent=this.decimalPipe.transform(u.workers.currentNumber,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-workers-gr").textContent=this.decimalPipe.transform(f,"1.0","en_US"),c.querySelector(".dgt-navigation-scan-soldiers-value").textContent=this.decimalPipe.transform(u.soldiers,"1.0","en_US");let h=u.workers.currentNumber/15+1.5*u.soldiers+1;c.querySelector(".dgt-navigation-scan-structures-data .invasion-value").textContent=this.decimalPipe.transform(Math.ceil(h),"1.0","en_US"),c.querySelector(".dgt-navigation-scan-population").style.display="",c.querySelector(".dgt-navigation-scan-structures").style.display=""}c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="visible",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="visible"}else c.querySelector("#dgt-navigation-scan-turn").textContent="",c.querySelector(".dgt-navigation-scan-resource.metal .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.mineral .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.food .abundance").textContent="",c.querySelector(".dgt-navigation-scan-resource.energy .abundance").textContent="",c.querySelector(".dgt-navigation-scan-size-ground").style.visibility="hidden",c.querySelector(".dgt-navigation-scan-size-orbit").style.visibility="hidden"}),this.scansSubscription.unsubscribe()})}ngOnDestroy(){this.scansSubscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function w2e(t,e){1&t&&(G(0,"p",3),X(1,"AB - Army Barracks | ST - Space Tether | HB - Hyperspace Beacon | JG - Jump Gate | CS - Comms Satellite | LW - Light Weapons | HW - Heavy Weapons | SY - Ship Yard | SD - Space Dock | 1/1.4/1.7/2 - Population growth rate"),K())}let A2e=(()=>{var t;class e{constructor(){this.scanService=q(uH),this.authService=q(Ts),this.active=!1,this.initialized=!1}ngOnInit(){this.authService.authState.subscribe(r=>{if(this.active=r.status,this.active&&!this.initialized){let i=this.scanService.extractSummaries();i.length>0&&(this.scanService.fillScans(i),this.initialized=!0)}document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container")&&(document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.add("hide"),document.querySelector("dgt-navigation-scan-data-panel .dgt-spinner-container").classList.remove("show"))}),this.authService.checkLoginValidity()}ngOnDestroy(){this.authService.authState.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-navigation-scan-data-panel"]],decls:3,vars:1,consts:[[1,"dgt-spinner-container"],[1,"dgt-spinner"],["class","component-message",4,"ngIf"],[1,"component-message"]],template:function(r,i){1&r&&(G(0,"div",0),Ue(1,"span",1),K(),Dt(2,w2e,2,0,"p",2)),2&r&&(me(2),Ne("ngIf",i.active))},dependencies:[hs],styles:[".component-message[_ngcontent-%COMP%]{color:#ffffffad;background:#576740;margin:0;padding:5px;border-radius:5px}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px!important;border-radius:5px!important}img[_ngcontent-%COMP%]{height:20px;margin-bottom:-6px;margin-top:-6px}"]}),e})(),T2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[A2e]}),t.\u0275inj=xt({providers:[ps,db,uH],imports:[Wr,eo(()=>no(jn_firebase)),jo(()=>$o()),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();function D2e(t,e){if(1&t){const n=bl();G(0,"div",1)(1,"table")(2,"tbody")(3,"tr")(4,"td",2)(5,"span"),X(6,"DGT Login"),K()()(),G(7,"tr",3)(8,"td"),Ue(9,"input",4,5),K(),G(11,"td"),Ue(12,"input",6,7),K()(),G(14,"tr",8)(15,"td",2)(16,"button",9),Ot("click",function(){Lr(n);const i=fy(10),s=fy(13);return Br(Ut().signInWithEmailAndPassword(i.value,s.value))}),X(17,"Login"),K(),G(18,"button",10),Ot("click",function(){return Lr(n),Br(Ut().signInWithGoogle())}),Ue(19,"img",11),K()()()()()()}}let S2e=(()=>{var t;class e{constructor(){this.authService=q(Ts),this.auth=q(zf),this.firestore=q(As),this.localStorageService=q(Pr),this.changeDetection=q(fs),this.authService.setUpFirebaseAuthSubscription(this.auth,this.firestore),this.displayLogin=new fe(r=>{r.next(!1),this.authService.authState.subscribe(()=>{r.next(null==this.localStorageService.get(tt.USER)&&!this.authService.refreshInProgress),this.changeDetection.detectChanges()})})}signInWithEmailAndPassword(r,i){this.authService.signInWithEmailAndPassword(this.auth,r,i)}signInWithGoogle(){this.authService.signInWithGoogle(this.auth)}signOut(){this.authService.signOut(this.auth)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-authentication"]],decls:2,vars:3,consts:[["class","login","id","dgt-login",4,"ngIf"],["id","dgt-login",1,"login"],["colspan","2"],[1,"dgt-login-table-credentials"],["type","text","placeholder","email","required","",1,"dgt-login"],["userName",""],["type","password","placeholder","password","required","",1,"dgt-password"],["userPassword",""],[1,"dgt-login-table-signin"],[1,"dgt-login-button",3,"click"],[1,"dgt-login-with-google-button",3,"click"],["src","https://i.imgur.com/kQiZ3fy.png","alt","Google Login"]],template:function(r,i){1&r&&(Dt(0,D2e,20,0,"div",0),Qt(1,"async")),2&r&&Ne("ngIf",Ii(1,1,i.displayLogin))},dependencies:[hs,gf],styles:[".logout[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{overflow:hidden;background-color:#4b4b4b99;position:relative}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:rgba(0,0,0,.35);color:#fff;border:1px solid #555555;padding:8px;margin:0;border-radius:2px;width:100%;display:block;box-sizing:border-box}.logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.dgt-login-button[_ngcontent-%COMP%]{min-width:75px;float:left}.dgt-login-with-google-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin:0;vertical-align:middle}.dgt-login-with-google-button[_ngcontent-%COMP%]{margin-left:5px;min-width:30px;padding:0;height:26px!important;float:left}.login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff9;position:absolute;right:10px;bottom:10px;font-size:12px}.login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:1px;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;font-family:DarkGalaxy,sans-serif;font-size:18px;color:#fff;line-height:14px}"]}),e})(),P2e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[S2e]}),t.\u0275inj=xt({imports:[Wr,eo(()=>no(jn_firebase)),jo(()=>$o()),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();var L2={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};let Hye=(()=>{var t;class e{constructor(){this.localStorageService=q(Pr)}sortMembersByScore(r){for(let i=0;i<r.length-1;i++)for(let s=i+1;s<r.length;s++)if(r[i].stats&&r[s].stats&&r[i].stats.score<r[s].stats.score){const o=r[i];r[i]=r[s],r[s]=o}}showComponent(r,i){r.nativeElement&&r.nativeElement.classList.contains("show")&&(r.nativeElement.classList.add("hide"),r.nativeElement.classList.remove("show")),i.nativeElement&&i.nativeElement.classList.contains("hide")&&(i.nativeElement.classList.add("show"),i.nativeElement.classList.remove("hide"))}fetchAndClean(){let r=this.localStorageService.get(tt.ALLIANCE_MEMBERS)||[];return document.querySelectorAll(".allianceBox").forEach(i=>{i.querySelector(".plainHeader")&&"member list"===i.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&(i.querySelector(".plainHeader").remove(),i.querySelector(".playerList").remove())}),r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Fz=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(as),te(br))},t.\u0275dir=Fe({type:t}),e})(),Sc=(()=>{var t;class e extends Fz{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Qn(t)))(i||t)}}(),t.\u0275dir=Fe({type:t,features:[Ct]}),e})();const Ns=new xe("NgValueAccessor"),jye={provide:Ns,useExisting:Rt(()=>B2),multi:!0},Gye=new xe("CompositionEventMode");let B2=(()=>{var t;class e extends Fz{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $ye(){const t=Fo()?Fo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(as),te(br),te(Gye,8))},t.\u0275dir=Fe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Ot("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Yt([jye]),Ct]}),e})();const mr=new xe("NgValidators"),ma=new xe("NgAsyncValidators");function Wz(t){return null!=t}function Kz(t){return Xd(t)?Gn(t):t}function Yz(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Qz(t,e){return e.map(n=>n(t))}function Xz(t){return t.map(e=>function Wye(t){return!t.validate}(e)?e:n=>e.validate(n))}function qb(t){return null!=t?function Jz(t){if(!t)return null;const e=t.filter(Wz);return 0==e.length?null:function(n){return Yz(Qz(n,e))}}(Xz(t)):null}function Wb(t){return null!=t?function Zz(t){if(!t)return null;const e=t.filter(Wz);return 0==e.length?null:function(n){return function zye(...t){const e=ww(t),{args:n,keys:r}=TV(t),i=new fe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;or(n[u]).subscribe(rt(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?SV(r,a):a),s.complete())}))}});return e?i.pipe(DV(e)):i}(Qz(n,e).map(Kz)).pipe(Xe(Yz))}}(Xz(t)):null}function eU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Kb(t){return t?Array.isArray(t)?t:[t]:[]}function z2(t,e){return Array.isArray(t)?t.includes(e):t===e}function rU(t,e){const n=Kb(e);return Kb(t).forEach(i=>{z2(n,i)||n.push(i)}),n}function iU(t,e){return Kb(e).filter(n=>!z2(t,n))}class sU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Rr extends sU{get formDirective(){return null}get path(){return null}}class _a extends sU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let aU=(()=>{var t;class e extends oU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(_a,2))},t.\u0275dir=Fe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Jd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ct]}),e})(),Yb=(()=>{var t;class e extends oU{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Rr,10))},t.\u0275dir=Fe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Jd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ct]}),e})();const Rp="VALID",j2="INVALID",Ju="PENDING",kp="DISABLED";function Jb(t){return($2(t)?t.validators:t)||null}function Zb(t,e){return($2(e)?e.asyncValidators:t)||null}function $2(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class dU{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Rp}get invalid(){return this.status===j2}get pending(){return this.status==Ju}get disabled(){return this.status===kp}get enabled(){return this.status!==kp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iU(e,this._rawAsyncValidators))}hasValidator(e){return z2(this._rawValidators,e)}hasAsyncValidator(e){return z2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ju,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Rp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rp||this.status===Ju)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kp:Rp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ju,this._hasOwnPendingAsyncValidator=!0;const n=Kz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Tt,this.statusChanges=new Tt}_calculateStatus(){return this._allControlsDisabled()?kp:this.errors?j2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ju)?Ju:this._anyControlsHaveStatus(j2)?j2:Rp}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Xye(t){return Array.isArray(t)?qb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Jye(t){return Array.isArray(t)?Wb(t):t||null}(this._rawAsyncValidators)}}class ew extends dU{constructor(e,n,r){super(Jb(n),Zb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function uU(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new re(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function lU(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new re(1e3,"");if(!r[n])throw new re(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Zu=new xe("CallSetDisabledState",{providedIn:"root",factory:()=>G2}),G2="always";function Np(t,e,n=G2){tw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function t4e(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&fU(t,e)})}(t,e),function r4e(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function n4e(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&fU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function e4e(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function K2(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function tw(t,e){const n=function tU(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(eU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function nU(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(eU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();K2(e._rawValidators,i),K2(e._rawAsyncValidators,i)}function fU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const c4e={provide:Rr,useExisting:Rt(()=>Fp)},Op=(()=>Promise.resolve())();let Fp=(()=>{var t;class e extends Rr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Tt,this.form=new ew({},qb(r),Wb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Op.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Np(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Op.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Op.then(()=>{const i=this._findContainer(r.path),s=new ew({});(function hU(t,e){tw(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Op.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Op.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function pU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(te(mr,10),te(ma,10),te(Zu,8))},t.\u0275dir=Fe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Ot("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yt([c4e]),Ct]}),e})();function gU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function mU(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const _U=class extends dU{constructor(e=null,n,r){super(Jb(n),Zb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$2(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=mU(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){mU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},d4e={provide:_a,useExisting:Rt(()=>sw)},EU=(()=>Promise.resolve())();let sw=(()=>{var t;class e extends _a{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new _U,this._registered=!1,this.name="",this.update=new Tt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function iw(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===B2?n=s:function o4e(t){return Object.getPrototypeOf(t.constructor)===Sc}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function rw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Np(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){EU.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function Pl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);EU.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function q2(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(te(Rr,9),te(mr,10),te(ma,10),te(Ns,10),te(fs,8),te(Zu,8))},t.\u0275dir=Fe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Yt([d4e]),Ct,Er]}),e})(),ow=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Fe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),CU=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({}),e})(),O4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({imports:[CU]}),e})(),hw=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:Zu,useValue:r.callSetDisabledState??G2}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({imports:[O4e]}),e})(),V4e=(()=>{var t;class e{transform(r){return"kick."+r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=On({name:"kickMemberFormatter",type:t,pure:!0}),e})();const L4e=["dgtSpinner"],B4e=["dgtMainContainer"];function H4e(t,e){if(1&t&&(G(0,"span",18),X(1),K()),2&t){const n=Ut().$implicit;me(1),Fa("[",n.kickEta,"]")}}const z4e=function(){return["far","circle-xmark"]};function U4e(t,e){if(1&t){const n=bl();G(0,"div",19)(1,"form",20,21),Ot("ngSubmit",function(i){return Lr(n),Br(Ut(4).onSubmitKickMember(i))}),Ue(3,"input",22),Qt(4,"kickMemberFormatter"),G(5,"button",23),Ue(6,"fa-icon",24),K()()()}if(2&t){const n=Ut().$implicit;me(3),py("name",Ii(4,2,n.dgId)),me(3),Ne("icon",function i7(t,e,n){const r=xr()+t,i=ee();return i[r]===We?ls(i,r,n?e.call(n):e()):Wd(i,r)}(4,z4e))}}function j4e(t,e){if(1&t&&(G(0,"div",8)(1,"div",9)(2,"span",10),X(3),K(),G(4,"span",11),X(5,"Rank: "),G(6,"span",12),X(7),Qt(8,"number"),K()(),Dt(9,H4e,2,1,"span",13),G(10,"span",14),X(11,"Score: "),G(12,"span",12),X(13),Qt(14,"number"),K()(),G(15,"span",15),X(16,"Combat: "),G(17,"span",12),X(18),Qt(19,"number"),K()(),G(20,"span",16),X(21,"Planets: "),G(22,"span",12),X(23),K()(),Dt(24,U4e,7,5,"div",17),K()()),2&t){const n=e.$implicit,r=Ut(2).ngIf,i=Ut();me(3),dt(n.name),me(4),dt(bi(8,7,n.stats.rank,"1.0","en-US")),me(2),Ne("ngIf",null!=n.kickEta),me(4),dt(bi(14,11,n.stats.score,"1.0","en-US")),me(5),dt(bi(19,15,n.stats.combatScore,"1.0","en-US")),me(5),dt(n.stats.planets),me(1),Ne("ngIf",null==n.kickEta&&r===i.UserRole.ADMIN)}}function $4e(t,e){if(1&t&&(G(0,"div",5,6),Dt(2,j4e,25,19,"div",7),K()),2&t){const n=Ut(2);me(2),Ne("ngForOf",n.allianceMembers)}}function G4e(t,e){if(1&t&&(ka(0),Dt(1,$4e,3,1,"div",4),Na()),2&t){const n=Ut();me(1),Ne("ngIf",n.active)}}let q4e=(()=>{var t;class e{constructor(r){this.authService=q(Ts),this.localStorageService=q(Pr),this.membersPanelService=q(Hye),this.active=!1,this.initialized=!1,this.UserRole=fC,r.addIcons(L2),this.authService.authState.subscribe(i=>{i.status&&!this.initialized&&(this.allianceMembers=this.membersPanelService.fetchAndClean(),this.active=i.status,this.role=new fe(s=>{s.next(i.role),s.complete()}),this.membersPanelService.sortMembersByScore(this.allianceMembers),this.initialized=!0)}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.membersPanelService.showComponent(this.loadSpinner,this.mainContainer)}ngOnDestroy(){this.authService.authState.unsubscribe()}onSubmitKickMember(r){this.localStorageService.remove(tt.ALLIANCE_MEMBERS),r.target.submit()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(cH))},t.\u0275cmp=Nn({type:t,selectors:[["dgt-alliance-members"]],viewQuery:function(r,i){if(1&r&&(ii(L4e,5),ii(B4e,5)),2&r){let s;jr(s=$r())&&(i.loadSpinner=s.first),jr(s=$r())&&(i.mainContainer=s.first)}},decls:5,vars:3,consts:[[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],[4,"ngIf"],["class","dgt-alliance-members-panel user hide",4,"ngIf"],[1,"dgt-alliance-members-panel","user","hide"],["dgtMainContainer",""],["class","dgt-alliance-members-member",4,"ngFor","ngForOf"],[1,"dgt-alliance-members-member"],[1,"player","user"],[1,"name"],[1,"rank","stats"],[1,"value"],["class","kick-eta",4,"ngIf"],[1,"score","stats"],[1,"combat-score","stats"],[1,"planets","stats"],["class","dgt-alliance-members-kick",4,"ngIf"],[1,"kick-eta"],[1,"dgt-alliance-members-kick"],["action","/alliances/kick/","method","post",3,"ngSubmit"],["f","ngForm"],["type","hidden","value","Kick Member",3,"name"],["type","submit"],[3,"icon"]],template:function(r,i){1&r&&(G(0,"div",0,1),Ue(2,"span",2),K(),Dt(3,G4e,2,1,"ng-container",3),Qt(4,"async")),2&r&&(me(3),Ne("ngIf",Ii(4,1,i.role)))},dependencies:[Hg,hs,ow,Yb,Fp,E2e,gf,ps,V4e],styles:[".dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);width:calc(100% - 10px);border-radius:5px;margin-bottom:5px;padding:5px 5px 10px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:calc(100% - 10px);float:left;border-bottom:1px solid rgba(0,0,0,.25);font-weight:700;margin-left:5px;margin-bottom:5px;padding-bottom:5px}.dgt-alliance-members-member[_ngcontent-%COMP%]   .kick-eta[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-left:5px;color:#ffffffad;font-weight:400!important;float:left}.dgt-alliance-members-panel.show[_ngcontent-%COMP%]{display:block}.dgt-alliance-members-panel.hide[_ngcontent-%COMP%]{display:none}.dgt-alliance-members-panel[_ngcontent-%COMP%], .dgt-alliance-members-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{float:left}.dgt-alliance-members-kick[_ngcontent-%COMP%]{float:right!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0!important;padding:0;border:none;border-radius:100px;vertical-align:middle;background:transparent;cursor:pointer}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:5px!important}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#a2a2a2!important;font-size:14px!important;line-height:22px}.dgt-alliance-members-kick[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#ffffffcf!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]{margin:0!important;border-radius:0!important;padding-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px!important;border-top-right-radius:5px!important;padding-top:5px!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:5px!important;border-bottom-right-radius:5px!important;padding-bottom:0!important}.dgt-alliance-members-member[_ngcontent-%COMP%]:last-child{margin-bottom:0!important}.dgt-alliance-members-panel.user[_ngcontent-%COMP%]   .dgt-alliance-members-member[_ngcontent-%COMP%]:last-child   .player[_ngcontent-%COMP%]{border-bottom:none!important}span.stats[_ngcontent-%COMP%]{color:#fff!important;font-size:12px!important;font-weight:400!important;margin-left:0;line-height:22px}span.name[_ngcontent-%COMP%]{font-weight:400!important;font-size:1em!important;width:175px!important;display:inline-block;color:#ffd46f}.player[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#7bbd1a!important}.player.user[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .planets[_ngcontent-%COMP%], .player.user[_ngcontent-%COMP%]   .combat-score[_ngcontent-%COMP%]{width:auto;display:inline-block;min-width:100px}"]}),e})(),W4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[q4e]}),t.\u0275inj=xt({imports:[Wr,hw,Hb,eo(()=>no(jn_firebase)),jo(()=>$o()),xo(()=>Co(to(),{provider:new Yi(jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),K4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-darkgalaxy-ui-parser"]],decls:0,vars:0,template:function(r,i){}}),e})(),Y4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[K4e]}),t.\u0275inj=xt({imports:[Wr]}),e})(),Q4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-local-storage-manager"]],decls:0,vars:0,template:function(r,i){}}),e})(),X4e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[Q4e]}),t.\u0275inj=xt({imports:[Wr]}),e})();const J4e=["dgtSpinner"],Z4e=["dgtUpdatingModel"];function e6e(t,e){if(1&t){const n=bl();G(0,"div",11)(1,"span"),X(2,"There is a new update: "),G(3,"i")(4,"b"),X(5),K(),X(6," - "),K(),G(7,"a",12),Ot("click",function(){return Lr(n),Br(Ut().installUpdate())}),X(8,"click here"),K(),X(9," to update your data"),K()()}if(2&t){const n=Ut();me(5),dt(n.newVersion)}}let t6e=(()=>{var t;class e{constructor(){this.changeLogService=q(zL),this.changeDetector=q(fs),this.localStorageService=q(Pr),this.version="N/A",this.newVersion="N/A",this.updateAvailable=new fe(r=>{this.changeLogService.checkForUpdate(this.changeDetector,r)}),null!==this.localStorageService.remoteMetadata()&&(this.newVersion=this.localStorageService.remoteMetadata().dgtVersion),null!==this.localStorageService.localMetadata()&&(this.version=this.localStorageService.localMetadata().dgtVersion)}installUpdate(){this.changeLogService.installUpdate(this.dgtUpdatingModel)}ngAfterViewInit(){this.changeLogService.showComponent(this.loadSpinner)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-changelog"]],viewQuery:function(r,i){if(1&r&&(ii(J4e,5),ii(Z4e,5)),2&r){let s;jr(s=$r())&&(i.loadSpinner=s.first),jr(s=$r())&&(i.dgtUpdatingModel=s.first)}},decls:76,vars:5,consts:[["id","dgt-update-changelog-container"],[1,"dgt-spinner-container","show"],["dgtSpinner",""],[1,"dgt-spinner"],["id","dgt-update",4,"ngIf"],["id","dgt-update-changelog"],["id","dgt-important"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-update"],["href","javascript:void(0);",3,"click"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"h2"),X(2,"DarkGalaxy Tools "),G(3,"span"),X(4),K()(),G(5,"div",1,2),Ue(7,"span",3),K(),Dt(8,e6e,10,1,"div",4),Qt(9,"async"),G(10,"div",5)(11,"div")(12,"span"),X(13,"Changelog:"),K()(),G(14,"ul")(15,"li"),X(16,"new - "),G(17,"b"),X(18,"Player Rankings"),K(),X(19," screen - now you can sort (asc/desc) by any column by clicking on the header of that column"),K(),G(20,"li"),X(21,"new - "),G(22,"b"),X(23,"Player Rankings"),K(),X(24," screen - page size increased to 100 players / page"),K()(),G(25,"div")(26,"span"),X(27,"Upcoming:"),K()(),G(28,"ul")(29,"li")(30,"b"),X(31,"Alliance Rankings"),K(),X(32," screen - added planets stats"),K(),G(33,"li"),X(34,"Notification for "),G(35,"b"),X(36,"Radar"),K(),X(37," when at least one allied planet (including yours) is attacked"),K(),G(38,"li")(39,"b"),X(40,"Research"),K(),X(41," queue cancel confirmation popup"),K(),G(42,"li")(43,"b"),X(44,"Navigation"),K(),X(45," NAP color (yellow) (eg: SOL planets will be seen with a yellow border)"),K(),G(46,"li"),X(47,"Integration with Google Sheets"),K(),G(48,"li"),X(49,"Copy to clipboard various stats"),K(),G(50,"li"),X(51,"Fleet Scan statistics, including a fight simulation"),K()()(),G(52,"div",6)(53,"div")(54,"span"),X(55,"Important:"),K()(),G(56,"ul")(57,"li"),X(58,"please report any bug on "),G(59,"b"),X(60,"Whatsapp#Toolbox"),K(),X(61," channel"),K(),G(62,"li")(63,"b"),X(64,"disable browser ads-blocking plugins for https://*.darkgalaxy.com"),K(),X(65," - some of them are interfering with Firebase communication"),K()()()(),G(66,"div",7,8)(68,"div",9)(69,"span"),X(70,"Installing "),G(71,"i")(72,"b"),X(73),K()(),X(74,"..."),K(),Ue(75,"img",10),K()()),2&r&&(me(4),dt(i.version),me(4),Ne("ngIf",Ii(9,3,i.updateAvailable)),me(65),dt(i.newVersion))},dependencies:[hs,gf],styles:["a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited{color:#72bde0!important}#dgt-update-changelog-container[_ngcontent-%COMP%]{margin-bottom:5px;border-radius:5px;background:#364a36;border:1px solid #3a593a}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffd46f;margin:0!important;font-size:18px;font-weight:700;border-bottom:1px solid #3a593a;padding:5px}#dgt-update-changelog-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;font-size:13px!important;font-weight:400}#dgt-important[_ngcontent-%COMP%], #dgt-update-changelog[_ngcontent-%COMP%]{margin:5px;border-radius:3px;color:#dcdcdc}#dgt-update[_ngcontent-%COMP%]{margin-bottom:5px;animation:neo-pulse-red 2s infinite}#dgt-update[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px!important;background:#bd4747;display:block;color:#dcdcdc}.dgt-spinner-container[_ngcontent-%COMP%]{width:100%!important;height:58px;position:relative;margin-bottom:10px}#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}"]}),e})();function Vp(t,e){const n="object"==typeof e;return new Promise((r,i)=>{const s=new de({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Qh)}});t.subscribe(s)})}class Q2{}class X2{}class Os{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Os?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Os;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Os?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class n6e{encodeKey(e){return HU(e)}encodeValue(e){return HU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const i6e=/%(\d[a-f0-9])/gi,s6e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function HU(t){return encodeURIComponent(t).replace(i6e,(e,n)=>s6e[n]??e)}function J2(t){return`${t}`}class va{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new n6e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function r6e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(J2):[J2(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new va({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(J2(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(J2(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class o6e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function zU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function UU(t){return typeof Blob<"u"&&t instanceof Blob}function jU(t){return typeof FormData<"u"&&t instanceof FormData}class Lp{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function a6e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Os),this.context||(this.context=new o6e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new va,this.urlWithParams=n}serializeBody(){return null===this.body?null:zU(this.body)||UU(this.body)||jU(this.body)||function c6e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof va?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jU(this.body)?null:UU(this.body)?this.body.type||null:zU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof va?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new Lp(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var ed=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ed||{});class pw{constructor(e,n=200,r="OK"){this.headers=e.headers||new Os,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class gw extends pw{constructor(e={}){super(e),this.type=ed.ResponseHeader}clone(e={}){return new gw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class td extends pw{constructor(e={}){super(e),this.type=ed.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new td({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $U extends pw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function mw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Z2=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Lp)o=r;else{let l,u;l=s.headers instanceof Os?s.headers:new Os(s.headers),s.params&&(u=s.params instanceof va?s.params:new va({fromObject:s.params})),o=new Lp(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Le(o).pipe(Jh(l=>this.handler.handle(l)));if(r instanceof Lp||"events"===s.observe)return a;const c=a.pipe(Ds(l=>l instanceof td));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Xe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Xe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Xe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(Xe(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new va).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,mw(s,i))}post(r,i,s={}){return this.request("POST",r,mw(s,i))}put(r,i,s={}){return this.request("PUT",r,mw(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(Q2))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function WU(t,e){return e(t)}function u6e(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const f6e=new xe(""),Bp=new xe(""),KU=new xe("");function h6e(){let t=null;return(e,n)=>{null===t&&(t=(q(f6e,{optional:!0})??[]).reduceRight(u6e,WU));const r=q(xg),i=r.add();return t(e,n).pipe(Zh(()=>r.remove(i)))}}let YU=(()=>{var t;class e extends Q2{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=q(xg)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Bp),...this.injector.get(KU,[])]));this.chain=s.reduceRight((o,a)=>function d6e(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),WU)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Zh(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(X2),Se(xi))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const _6e=/^\)\]\}',?\n/;let XU=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new re(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Gn(i.\u0275loadImpl()):Le(null)).pipe(mi(()=>new fe(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((y,S)=>a.setRequestHeader(y,S.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const y=r.detectContentTypeHeader();null!==y&&a.setRequestHeader("Content-Type",y)}if(r.responseType){const y=r.responseType.toLowerCase();a.responseType="json"!==y?y:"text"}const c=r.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const y=a.statusText||"OK",S=new Os(a.getAllResponseHeaders()),w=function v6e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return l=new gw({headers:S,status:a.status,statusText:y,url:w}),l},d=()=>{let{headers:y,status:S,statusText:w,url:U}=u(),Y=null;204!==S&&(Y=typeof a.response>"u"?a.responseText:a.response),0===S&&(S=Y?200:0);let he=S>=200&&S<300;if("json"===r.responseType&&"string"==typeof Y){const Re=Y;Y=Y.replace(_6e,"");try{Y=""!==Y?JSON.parse(Y):null}catch(Qe){Y=Re,he&&(he=!1,Y={error:Qe,text:Y})}}he?(o.next(new td({body:Y,headers:y,status:S,statusText:w,url:U||void 0})),o.complete()):o.error(new $U({error:Y,headers:y,status:S,statusText:w,url:U||void 0}))},f=y=>{const{url:S}=u(),w=new $U({error:y,status:a.status||0,statusText:a.statusText||"Unknown Error",url:S||void 0});o.error(w)};let h=!1;const p=y=>{h||(o.next(u()),h=!0);let S={type:ed.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(S.total=y.total),"text"===r.responseType&&a.responseText&&(S.partialText=a.responseText),o.next(S)},g=y=>{let S={type:ed.UploadProgress,loaded:y.loaded};y.lengthComputable&&(S.total=y.total),o.next(S)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==c&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),o.next({type:ed.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==c&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qP))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();const _w=new xe("XSRF_ENABLED"),JU=new xe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ZU=new xe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ej{}let x6e=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=VP(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(Se(qr),Se(os),Se(JU))},t.\u0275prov=be({token:t,factory:t.\u0275fac}),e})();function C6e(t,e){const n=t.url.toLowerCase();if(!q(_w)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=q(ej).getToken(),i=q(ZU);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ya=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ya||{});function Mc(t,e){return{\u0275kind:t,\u0275providers:e}}function I6e(...t){const e=[Z2,XU,YU,{provide:Q2,useExisting:YU},{provide:X2,useExisting:XU},{provide:Bp,useValue:C6e,multi:!0},{provide:_w,useValue:!0},{provide:ej,useClass:x6e}];for(const n of t)e.push(...n.\u0275providers);return function bv(t){return{\u0275providers:t}}(e)}const tj=new xe("LEGACY_INTERCEPTOR_FN");let nj=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t}),t.\u0275inj=xt({providers:[I6e(Mc(ya.LegacyInterceptors,[{provide:tj,useFactory:h6e},{provide:Bp,useExisting:tj,multi:!0}]))]}),e})();class vw{constructor(){this._planets=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0,this._relation="neutral"}get relation(){return this._relation}set relation(e){this._relation=e}get rank(){return this._rank}set rank(e){this._rank=e}get name(){return this._name}set name(e){this._name=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get score(){return this._score}set score(e){this._score=e}get combatScore(){return this._combatScore}set combatScore(e){this._combatScore=e}get combinedScore(){return this._combinedScore}set combinedScore(e){this._combinedScore=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get planets(){return this._planets}set planets(e){this._planets=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{relation:this.relation,playerId:this.playerId,score:this.score,combatScore:this.combatScore,combinedScore:this.combinedScore,planets:this.planets,name:this.name,rank:this.rank,alliance:this.alliance,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}class P6e{constructor(){this._stats=new vw}get stats(){return this._stats}set stats(e){this._stats=e}get kickEta(){return this._kickEta}set kickEta(e){this._kickEta=e}get name(){return this._name}set name(e){this._name=e}get dgId(){return this._dgId}set dgId(e){this._dgId=e}toJSON(){return{name:this.name,dgId:this.dgId,kickEta:this.kickEta,stats:this.stats}}}class M6e{get dgtVersion(){return this._dgtVersion}set dgtVersion(e){this._dgtVersion=e}get playersRankingsTurn(){return this._playersRankingsTurn}set playersRankingsTurn(e){this._playersRankingsTurn=e}get allianceMembersTurn(){return this._allianceMembersTurn}set allianceMembersTurn(e){this._allianceMembersTurn=e}get planetsTurn(){return this._planetsTurn}set planetsTurn(e){this._planetsTurn=e}toJSON(){return{dgtVersion:this.dgtVersion,playersRankingsTurn:this.playersRankingsTurn,allianceMembersTurn:this.allianceMembersTurn,planetsTurn:this.planetsTurn}}}class yw{constructor(){this._planets=[],this._total=1,this._g1Total=0,this._g213Total=0,this._g1449Total=0}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get playerId(){return this._playerId}set playerId(e){this._playerId=e}get planets(){return this._planets}set planets(e){this._planets=e}get name(){return this._name}set name(e){this._name=e}get g1Total(){return this._g1Total}set g1Total(e){this._g1Total=e}get g213Total(){return this._g213Total}set g213Total(e){this._g213Total=e}get g1449Total(){return this._g1449Total}set g1449Total(e){this._g1449Total=e}toJSON(){return{playerId:this.playerId,planets:this.planets,name:this.name,turn:this.turn,total:this.total,g1Total:this.g1Total,g213Total:this.g213Total,g1449Total:this.g1449Total}}}class t_{constructor(e,n,r){this._page=e,this._total=n,this._action=r}get page(){return this._page}set page(e){this._page=e}get total(){return this._total}set total(e){this._total=e}get action(){return this._action}set action(e){this._action=e}}class rj{constructor(e){this._number=e}get number(){return this._number}set number(e){this._number=e}}let Hp=class{constructor(e,n,r=!1){this._lock=!1,this._turn=e,this._version=n,this._lock=r}get lock(){return this._lock}set lock(e){this._lock=e}get turn(){return this._turn}set turn(e){this._turn=e}get version(){return this._version}set version(e){this._version=e}toJSON(){return{turn:this.turn,version:this.version,lock:this.lock}}};Hp=Wt([_r(2,zt())],Hp);let ij=(()=>{var t;class e{constructor(){this.httpClient=q(Z2),this.firestore=q(As),this.localStorageService=q(Pr),this.dgAPI=q(gs),this.PLAYER_RANKINGS_URL=this.localStorageService.get(tt.GAME_ENDPOINT)+"/rankings/players/",this.PLAYER_COMBAT_RANKINGS_URL=this.localStorageService.get(tt.GAME_ENDPOINT)+"/rankings/combat/players/",this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}()}scanPlayersRankingsScreens(r){var i=this;return v(function*(){const s=100+Math.floor(100*Math.random()),o=_o(i.firestore,"players-planets");let a=new rj(0),c=new Map,l=yield i.getNumberOfPages();for(let u=1;u<=l;u++)yield i.scanRankingsPage(c,r,a,s,u,l),yield i.scanCombatRankingsPage(c,r,a,s,u,l);yield i.cacheRankings(c,o,r,new rj(0))})()}getNumberOfPages(){var r=this;return v(function*(){let i=yield Vp(r.httpClient.get(r.PLAYER_RANKINGS_URL,{responseType:"text"})),s=(new DOMParser).parseFromString(i,"text/html");return parseInt(s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of")[s.querySelector(".right.lightBorder.opacDarkBackground.padding").textContent.trim().split("of").length-1].trim())})()}scanRankingsPage(r,i,s,o,a,c){var l=this;return v(function*(){let u=yield Vp(l.httpClient.get(l.PLAYER_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new vw);let p=r.get(h);p.playerId=h,p.name=f.querySelector(".playerName").textContent.trim().toLowerCase(),p.rank=parseInt(f.querySelector(".rank").textContent.trim().replace(/,/g,"")),p.score=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score,p.alliance=f.querySelector(".allianceName")?f.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.classList.contains("myRow")?p.relation="self":f.querySelector(".hostile")?p.relation="neutral":f.querySelector(".allied")&&(p.relation="allied"),"sol"===p.alliance&&(p.relation="nap"),("wp"===p.alliance||"skol"===p.alliance)&&(p.relation="hostile")}),s.number+=(yield l.atomicIncrement()),i.emit(new t_(s.number,2*c,"load")),yield l.delay(o)})()}scanCombatRankingsPage(r,i,s,o,a,c){var l=this;return v(function*(){let u=yield Vp(l.httpClient.get(l.PLAYER_COMBAT_RANKINGS_URL+a,{responseType:"text"}));(new DOMParser).parseFromString(u,"text/html").querySelectorAll(".rankingsList .entry").forEach(f=>{const h=parseInt(f.querySelector(".playerName").attributes.playerId.value.trim());r.has(h)||r.set(h,new vw);let p=r.get(h);p.combatScore=parseInt(f.querySelector(".score").textContent.trim().replace(/,/g,"")),p.combinedScore=p.combatScore+p.score}),s.number+=(yield l.atomicIncrement()),i.emit(new t_(s.number,2*c,"load")),yield l.delay(o)})()}cacheRankings(r,i,s,o){var a=this;return v(function*(){let c=[],l=0;r.forEach((u,d)=>{setTimeout(()=>{let f=Hm(fi(i,d.toString())).subscribe(h=>{if(h){const p=Object.assign(new yw,h);u.planets=p.total,u.g1Total=p.g1Total,u.g213Total=p.g213Total,u.g1449Total=p.g1449Total}else u.planets=1;c.push(u),s.emit(new t_(++o.number,r.size,"save")),f.unsubscribe()})},25*++l)}),yield a.delay(35*++l).then(()=>{a.localStorageService.cache(tt.PLAYERS_STATS,c);let u=a.localStorageService.localMetadata();u.playersRankingsTurn=new Hp(a.dgAPI.gameTurn(),0),a.localStorageService.cache(tt.LOCAL_METADATA,u)})})()}atomicIncrement(){return v(function*(){return 1})()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var nd;class n_{constructor(){this.httpClient=q(Z2),this.firestore=q(As),this.localStorageService=q(Pr),this.playersRankingsLoaderService=q(ij),this._updatesEmitter=new Tt,this.ALLIANCES_URL=this.localStorageService.get(tt.GAME_ENDPOINT)+"/alliances/",this._playersRankingsEmitter=new Tt}updateMetadata(e){const n=_o(this.firestore,"metadata");let r=Bm(zm(n)).subscribe(i=>{const s=Object.assign([],i);let o=new M6e;o.dgtVersion=s[0].version,o.planetsTurn=s[1],o.playersRankingsTurn=s[2],this.localStorageService.cache(tt.REMOTE_METADATA,o),e.next(!0),e.complete(),r.unsubscribe()})}loadPlanets(e,n){var r=this;return v(function*(){let i=r.localStorageService.localMetadata();const s=r.localStorageService.get(tt.REMOTE_METADATA);if(0===i.planetsTurn.turn||s.planetsTurn.turn>i.planetsTurn.turn||s.planetsTurn.turn==i.planetsTurn.turn&&s.planetsTurn.version>i.planetsTurn.version){console.log("Loading new planets data... "),r._updatesEmitter.emit(1);let l=r.localStorageService.localMetadata(),u=r.localStorageService.remoteMetadata();l.planetsTurn.turn=u.planetsTurn.turn,l.planetsTurn.version=u.planetsTurn.version,l.dgtVersion=u.dgtVersion,r.localStorageService.cache(tt.LOCAL_METADATA,l),r._updatesEmitter.emit(-1)}else e>i.playersRankingsTurn.turn&&n>5&&n<57&&r._updatesEmitter.emit(-1)})()}loadRankings(e,n,r=!1){const i=this.localStorageService.localMetadata(),s=this.localStorageService.get(tt.PLAYERS_STATS);(!s||0===i.playersRankingsTurn.turn||e>i.playersRankingsTurn.turn&&n>5&&n<57||r)&&(this._updatesEmitter.emit(2),this.loadPlayersRankings(this._playersRankingsEmitter));const c=this.localStorageService.get(tt.ALLIANCE_MEMBERS);s&&(!c||0===i.allianceMembersTurn.turn||e>i.allianceMembersTurn.turn)&&(this._updatesEmitter.emit(1),this.loadAllianceMembers(e).then(()=>{this._updatesEmitter.emit(0)}).catch(d=>console.log(d)))}loadPlayersRankings(e){this.playersRankingsLoaderService.scanPlayersRankingsScreens(e).then(()=>{this._updatesEmitter.emit(1),this.loadAllianceMembers(this.localStorageService.localMetadata().playersRankingsTurn.turn).then(()=>{this._updatesEmitter.emit(0)})})}loadAllianceMembers(e){var n=this;return v(function*(){const r=yield Vp(n.httpClient.get(n.ALLIANCES_URL,{responseType:"text"})),i=(new DOMParser).parseFromString(r,"text/html"),s=n.localStorageService.get(tt.PLAYERS_STATS);if(!i.querySelector('[action="/alliances/join/"]')){let o=[];i.querySelectorAll(".allianceBox").forEach(c=>{c.querySelector(".plainHeader")&&"member list"===c.querySelector(".plainHeader").childNodes[0].textContent.trim().toLowerCase()&&c.querySelectorAll(".player").forEach(l=>{let u=new P6e;if(null!=l.querySelector('[action^="/alliances/note/"]')){let d=l.querySelector('[action^="/alliances/note/"]').getAttribute("action").trim().toLocaleLowerCase().split(/\//g);u.dgId=d[d.length-2]}null==l.querySelector('[action="/alliances/kick/"] input')&&null!=l.querySelector(".right>b")&&(u.kickEta=l.querySelector(".right>b").textContent.trim().toLowerCase()),null!=l.querySelector("div.name")&&(u.name=l.querySelector("div.name").childNodes[0].textContent.trim(),u.stats=s.find(d=>d.name.toLowerCase()===u.name.toLowerCase()),o.push(u))})});let a=n.localStorageService.localMetadata();a.allianceMembersTurn.turn=e,n.localStorageService.cache(tt.ALLIANCE_MEMBERS,o),n.localStorageService.cache(tt.LOCAL_METADATA,a)}})()}get updatesEmitter(){return this._updatesEmitter}get playersRankingsEmitter(){return this._playersRankingsEmitter}}(nd=n_).\u0275fac=function(e){return new(e||nd)},nd.\u0275prov=be({token:nd,factory:nd.\u0275fac,providedIn:"root"}),Wt([_r(2,zt())],n_.prototype,"loadRankings",null);let R6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[t6e]}),t.\u0275inj=xt({providers:[n_],imports:[Wr,eo(()=>no(jn_firebase)),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();class k6e{get playerId(){return this._playerId}set playerId(e){this._playerId=e}get location(){return this._location}set location(e){this._location=e}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get system(){return this._system}set system(e){this._system=e}get sector(){return this._sector}set sector(e){this._sector=e}get planet(){return this._planet}set planet(e){this._planet=e}get owner(){return this._owner}set owner(e){this._owner=e}get alliance(){return this._alliance}set alliance(e){this._alliance=e}get turn(){return this._turn}set turn(e){this._turn=e}toJSON(){return{location:this.location,turn:this.turn,owner:this.owner,alliance:this.alliance,galaxy:this.galaxy,system:this.system,sector:this.sector,planet:this.planet,playerId:this.playerId}}}class sj{constructor(e,n){this._planets=[],this._galaxy=e,this._planets=n}get galaxy(){return this._galaxy}set galaxy(e){this._galaxy=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{galaxy:this.galaxy,planets:this.planets}}}let r_=(()=>{var t;class e{constructor(){this.firestore=q(As),this.dgAPI=q(gs),this.metadataPath=_o(this.firestore,"metadata"),this.localStorageService=q(Pr)}updateMetadataTurns(r){let i=Hm(fi(this.metadataPath,r)).subscribe(s=>{if(s){let o=Object.assign(new Hp(0,0),s);o.turn===this.dgAPI.gameTurn()?o.version++:(o.turn=this.dgAPI.gameTurn(),o.version=1),o.lock=!1,Um(fi(this.metadataPath,r),JSON.parse(JSON.stringify(o))).catch(a=>console.log(a))}else Kh(fi(this.metadataPath,r),JSON.parse(JSON.stringify(new Hp(this.dgAPI.gameTurn(),1)))).catch(o=>console.log(o));i.unsubscribe()})}resetSortingMaps(){-1===window.location.pathname.indexOf("/rankings/players")&&this.localStorageService.remove(tt.PLAYERS_RANKINGS_SORT)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();class oj{constructor(){this._planets=[]}get tag(){return this._tag}set tag(e){this._tag=e}get turn(){return this._turn}set turn(e){this._turn=e}get total(){return this._total}set total(e){this._total=e}get planets(){return this._planets}set planets(e){this._planets=e}toJSON(){return{tag:this.tag,planets:this.planets,turn:this.turn,total:this.total}}}var rd;class Ew{constructor(){this.GALAXIES=49,this.G1_SECTORS=25,this.G2_G13_SECTORS=6,this.G14_G49_SECTORS=2,this.SYSTEMS=4,this.httpClient=q(Z2),this.firestore=q(As),this.dgAPI=q(gs),this.metadataService=q(r_),this.localStorageService=q(Pr),this._systemScanEmitter=new Tt,this._planetScanEmitter=new Tt,this.NAVIGATION_BASE_URL=this.localStorageService.get(tt.GAME_ENDPOINT)+"/navigation/",this.delay=function(){var e=v(function*(n){return new Promise(r=>setTimeout(r,n))});return function(n){return e.apply(this,arguments)}}()}scanPlanets(e,n=[]){var r=this;return v(function*(){const i=250+Math.floor(250*Math.random()),s=r.filterValidGalaxies(n);let o=0,a=!0,c=e.subscribe(u=>{a=!u});const l=r.totalSystemsNr(n);for(let u=0;u<s.length;u++){let d=new Map,f=new Map;const h=_o(r.firestore,"planets-g"+s[u]);let p;p=1===s[u]?r.G1_SECTORS:s[u]>1&&s[u]<14?r.G2_G13_SECTORS:r.G14_G49_SECTORS;for(let g=1;g<=p;g++)for(let y=1;y<=r.SYSTEMS;y++)a&&(yield r.parseAndSave(s[u],g,y,d,f,h),r._systemScanEmitter.emit(new t_(++o,l,"load-save")),yield r.delay(i));r.mergePlayerPlanets(d),r.mergeAlliancePlanets(f),yield r.delay(i)}r.metadataService.updateMetadataTurns("planets-turn"),c.unsubscribe(),yield r.delay(i)})()}mergeAlliancePlanets(e){const n=_o(this.firestore,"alliances-planets");e.forEach((r,i)=>{let s=Hm(fi(n,i)).subscribe(o=>{o?(Object.assign(new oj,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.total=0,r.planets.forEach(c=>{r.total+=c.planets.length}),Um(fi(n,r.tag),JSON.parse(JSON.stringify(r))).catch(c=>console.log(c))):(r.total=0,r.planets.forEach(a=>{r.total+=a.planets.length}),Kh(fi(n,r.tag),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a))),s.unsubscribe()})})}mergePlayerPlanets(e){const n=_o(this.firestore,"players-planets");e.forEach((r,i)=>{let s=Hm(fi(n,i.toString())).subscribe(o=>{o&&Object.assign(new yw,o).planets.forEach(c=>{r.planets.some(u=>u.galaxy===c.galaxy)||r.planets.push(c)}),r.planets.forEach(a=>{1===a.galaxy?r.g1Total+=a.planets.length:a.galaxy>1&&a.galaxy<14?r.g213Total+=a.planets.length:r.g1449Total+=a.planets.length,r.total+=a.planets.length}),o?Um(fi(n,i.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)):Kh(fi(n,r.playerId.toString()),JSON.parse(JSON.stringify(r))).catch(a=>console.log(a)),s.unsubscribe()})})}parseAndSave(e,n,r,i,s,o){var a=this;return v(function*(){const c=yield Vp(a.httpClient.get(a.NAVIGATION_BASE_URL+e+"/"+n+"/"+r,{responseType:"text"}));(new DOMParser).parseFromString(c,"text/html").querySelectorAll(".navigation .planets").forEach((u,d)=>{setTimeout(()=>{let f=new k6e;const h=u.querySelector(".coords span").textContent.trim(),p=h.split(/\./);if(a.planetScanEmitter.emit(h),f.location=h,f.galaxy=parseInt(p[0]),f.sector=parseInt(p[1]),f.system=parseInt(p[2]),f.planet=parseInt(p[3]),u.classList.contains("neutral")?(f.owner="none",f.playerId=-1,f.alliance="-"):(f.alliance=u.querySelector(".allianceName")?u.querySelector(".allianceName").textContent.trim().toLowerCase().replace(/\[/g,"").replace(/]/g,""):"-",f.owner=u.querySelector(".playerName").textContent.trim().toLowerCase(),f.playerId=parseInt(u.querySelector(".playerName").attributes.playerId.value.trim())),f.turn=a.dgAPI.gameTurn(),f.playerId>=0){i.has(f.playerId)||i.set(f.playerId,new yw);let g=i.get(f.playerId).planets;if(g.some(S=>S.galaxy===e)?g.filter(w=>w.galaxy===e&&!w.planets.includes(f.location)).forEach(w=>w.planets.push(f.location)):i.get(f.playerId).planets.push(new sj(e,[f.location])),i.get(f.playerId).name=f.owner,i.get(f.playerId).playerId=f.playerId,i.get(f.playerId).turn=f.turn,"-"!==f.alliance){s.has(f.alliance)||s.set(f.alliance,new oj);let S=s.get(f.alliance).planets;S.some(U=>U.galaxy===e)?S.filter(Y=>Y.galaxy===e&&!Y.planets.includes(f.location)).forEach(Y=>Y.planets.push(f.location)):s.get(f.alliance).planets.push(new sj(e,[f.location])),s.get(f.alliance).tag=f.alliance,s.get(f.alliance).turn=f.turn}Kh(fi(o,f.location),JSON.parse(JSON.stringify(f))).catch(S=>console.log(S))}},25*d)})})()}filterValidGalaxies(e){let n=[];if(1===e.length)switch(e[0]){case 149:n.push(...this.allGalaxies());break;case 213:n.push(...Array.from({length:12},(r,i)=>i+2));break;case 1449:n.push(...Array.from({length:36},(r,i)=>i+14));break;default:e[0]>0&&e[0]<=this.GALAXIES&&n.push(e[0])}else n.push(...e.filter(r=>r>0&&r<=this.GALAXIES));return n}totalSystemsNr(e){return this.filterValidGalaxies(e).reduce((r,i)=>1===i?r+this.G1_SECTORS*this.SYSTEMS:i>1&&i<14?r+this.G2_G13_SECTORS*this.SYSTEMS:r+this.G14_G49_SECTORS*this.SYSTEMS,0)}allGalaxies(){return Array.from({length:this.GALAXIES},(e,n)=>n+1)}get systemScanEmitter(){return this._systemScanEmitter}get planetScanEmitter(){return this._planetScanEmitter}}(rd=Ew).\u0275fac=function(e){return new(e||rd)},rd.\u0275prov=be({token:rd,factory:rd.\u0275fac,providedIn:"root"}),Wt([_r(1,zt())],Ew.prototype,"scanPlanets",null);let N6e=(()=>{var t;class e{constructor(r){this.el=r,this.specialKeys=["Backspace","Tab","End","Home","Delete","Del","ArrowLeft","ArrowRight","Left","Right"],this.regex=new RegExp(/^[0-9,]+$/)}validateInput(r){r.ctrlKey||r.metaKey||r.shiftKey||r.altKey||"Enter"===r.key||-1!==this.specialKeys.indexOf(r.key)||this.regex.test(this.el.nativeElement.value+r.key)||r.preventDefault()}validatePaste(r){this.regex.test(r.clipboardData.getData("text"))||r.preventDefault()}}return(t=e).\u0275fac=function(r){return new(r||t)(te(br))},t.\u0275dir=Fe({type:t,selectors:[["","dgtAllianceList",""]],hostBindings:function(r,i){1&r&&Ot("keypress",function(o){return i.validateInput(o)})("paste",function(o){return i.validatePaste(o)})}}),e})();const O6e=["planetsLoadModal"],F6e=["planetProgressBar"],V6e=["playersProgressBar"],L6e=["planetCounter"];function B6e(t,e){if(1&t){const n=bl();ka(0),G(1,"div",1)(2,"div",2)(3,"b",3),X(4,"DGT Admin Panel"),K()(),G(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7)(9,"b"),X(10,"Universe Scan"),K()(),G(11,"span",8),X(12,"Use this with caution. It's a very expensive operation for both DG server and DGT database!"),K(),G(13,"span",8),X(14,"Usage examples:"),K(),G(15,"ul")(16,"li"),X(17,"1,2 - G01 and G02"),K(),G(18,"li"),X(19,"34 - G34"),K(),G(20,"li"),X(21,"special: 213 - first ring (G02-G13)"),K(),G(22,"li"),X(23,"special: 1449 - second ring (G14-G49)"),K(),G(24,"li"),X(25,"special: 149 - everything (G01-G49)"),K()()(),G(26,"form")(27,"input",9),Ot("ngModelChange",function(i){return Lr(n),Br(Ut().controls.galaxies=i)}),K(),G(28,"button",10),Ot("click",function(){return Lr(n),Br(Ut().scanNavigationScreen())}),X(29,"Fetch"),K()()()()(),G(30,"div",11,12)(32,"div",13)(33,"div",14)(34,"span",15),X(35),K(),G(36,"span",16,17),X(38),K()(),G(39,"div",18)(40,"span",19),X(41),K(),Ue(42,"span",20,21),K(),G(44,"div",22)(45,"button",23),Ot("click",function(){return Lr(n),Br(Ut().cancelScan())}),X(46,"Cancel"),K()()()(),Na()}if(2&t){const n=Ut();me(27),Ne("ngModel",n.controls.galaxies),me(8),dt(n.loadedSystem),me(3),dt(n.loadedPlanet),me(3),Fa("",n.planetPercentage,"%")}}let H6e=(()=>{var t;class e{constructor(){this.planetsLoaderService=q(Ew),this.changeDetection=q(fs),this.authService=q(Ts),this.cancelScanEmitter=new Tt,this.authenticated=!1,this.controls={galaxies:""},this.loadedPlanet="",this.planetPercentage=0,this.playersPercentage=0,this.authService.authState.subscribe(r=>{this.authenticated=r.status&&("admin"===r.role||"tl"===r.role)}),this.authService.checkLoginValidity()}scanNavigationScreen(){var r=this;return v(function*(){if(r.authenticated){let i=r.controls.galaxies.trim().split(",").map(function(s){return parseInt(s,10)});r.loadedSystem="Loading planet systems: ",r.planetProgressBar.nativeElement.style.width="0%",r.planetsLoadModal.nativeElement.classList.add("show"),r.planetsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),r.systemCountSubscription=r.planetsLoaderService.systemScanEmitter.subscribe(s=>{r.loadedSystem="Loading "+s.page+"/"+s.total+" system: ",r.changeDetection.detectChanges(),r.planetPercentage=Math.floor(100*s.page/s.total),r.planetProgressBar.nativeElement.style.width=r.planetPercentage+"%"}),r.planetsCountSubscription=r.planetsLoaderService.planetScanEmitter.subscribe(s=>{r.planetCounter.nativeElement.style.visibility="hidden",r.loadedPlanet=s,r.planetCounter.nativeElement.style.visibility="visible"}),yield r.planetsLoaderService.scanPlanets(r.cancelScanEmitter,i),r.cancelScan()}})()}cancelScan(){this.authenticated&&(this.cancelScanEmitter.emit(!0),document.body.classList.remove("dgt-overlay-open"),this.planetsLoadModal.nativeElement.classList.add("hide"),this.planetsLoadModal.nativeElement.classList.remove("show"),this.systemCountSubscription&&this.systemCountSubscription.unsubscribe(),this.planetsCountSubscription&&this.planetsCountSubscription.unsubscribe())}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-admin-load-data-panel"]],viewQuery:function(r,i){if(1&r&&(ii(O6e,5),ii(F6e,5),ii(V6e,5),ii(L6e,5)),2&r){let s;jr(s=$r())&&(i.planetsLoadModal=s.first),jr(s=$r())&&(i.planetProgressBar=s.first),jr(s=$r())&&(i.playersProgressBar=s.first),jr(s=$r())&&(i.planetCounter=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-admin-panel-wrapper",1,"opacBackground","lightBorder","noPadding","seperatorLarge"],["id","dgt-admin-panel-header",1,"opacDarkBackground","padding"],[2,"color","#ffd46f !important"],["id","dgt-admin-panel-body",1,"noPadding","ofHidden"],["id","admin-load-planets"],[1,"load-example"],[1,"usage-warning",2,"color","#ffd46f !important"],[1,"usage-warning"],["type","text","placeholder","Galaxies (Ex: 1,2)","dgtAllianceList","",3,"ngModel","ngModelChange"],["type","submit",3,"click"],["id","dgt-load-planets-overlay-modal",1,"hide","dgt-overlay-modal"],["planetsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"system-counter"],[1,"planet-counter"],["planetCounter",""],[1,"progressbar"],[1,"percentage"],[1,"progress"],["planetProgressBar",""],[1,"actions"],["type","button",3,"click"]],template:function(r,i){1&r&&Dt(0,B6e,47,4,"ng-container",0),2&r&&Ne("ngIf",i.authenticated)},dependencies:[hs,ow,B2,aU,Yb,sw,Fp,N6e],styles:["#dgt-load-planets-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;height:24px;line-height:20px;font-size:13px;min-width:65px!important}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}span.system-counter[_ngcontent-%COMP%], span.planet-counter[_ngcontent-%COMP%]{transition:all .1s;color:#dcdc}.load-example[_ngcontent-%COMP%]{display:table}.load-example[_ngcontent-%COMP%]{font-weight:400!important;color:#dcdcdc!important;font-size:11px;text-align:left;margin-bottom:10px}.load-example[_ngcontent-%COMP%]   .usage-warning[_ngcontent-%COMP%], .load-example[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:left}#admin-load-planets[_ngcontent-%COMP%]{margin-bottom:5px!important}#admin-load-planets[_ngcontent-%COMP%]{padding:5px!important;display:inline-table}#admin-load-planets[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:24px;font-size:12px;background:rgba(0,0,0,.25);color:#fff;border:none!important;margin:0;border-radius:3px;display:block;box-sizing:border-box;padding:3px 5px;overflow:hidden;float:left;line-height:18px;width:135px;text-align:left}#admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 15px;border:1px solid #5a7b5a!important;border-radius:3px;background:#3e6e3e;cursor:pointer;width:auto;margin:0!important;height:24px;line-height:20px;font-size:13px;min-width:65px!important;float:right}#admin-load-planets[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border:1px solid #365036!important;background:#203b20!important}#admin-load-separator[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important;margin:5px 5px 3px!important;display:block}#dgt-admin-panel-body[_ngcontent-%COMP%], #dgt-admin-panel-header[_ngcontent-%COMP%]{background:#364a36!important}#dgt-admin-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid #3a593a!important}#dgt-admin-panel-wrapper[_ngcontent-%COMP%]{border:1px solid #3a593a!important}"]}),e})(),z6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[H6e]}),t.\u0275inj=xt({providers:[r_],imports:[Wr,hw,nj,eo(()=>no(jn_firebase)),jo(()=>$o()),_c(()=>vc()),xo(()=>Co(to(),{provider:new Yi(jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),U6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-alliance-rankings"]],decls:0,vars:0,template:function(r,i){}}),e})(),j6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[U6e]}),t.\u0275inj=xt({imports:[Wr]}),e})();const $6e=["dgtUpdatingModel"],G6e=["rankingsLoadModal"],q6e=["playersProgressBar"];function W6e(t,e){if(1&t&&(ka(0),G(1,"div",1,2)(3,"div",3)(4,"span"),X(5,"Downloading DGT metadata updates..."),K(),Ue(6,"img",4),K()(),G(7,"div",5,6)(9,"div",7)(10,"div",8)(11,"span",9),X(12),K()(),G(13,"div",10)(14,"span",11),X(15),K(),Ue(16,"span",12,13),K()()(),Na()),2&t){const n=Ut();me(12),dt(n.loadedRankings),me(3),Fa("",n.playersPercentage,"%")}}let K6e=(()=>{var t;class e{constructor(){this.synchronizerService=q(n_),this.dgAPI=q(gs),this.authService=q(Ts),this.changeDetection=q(fs),this.metadataService=q(r_),this.authenticated=!1,this.playersPercentage=0,this.delay=function(){var r=v(function*(i){return new Promise(s=>setTimeout(s,i))});return function(i){return r.apply(this,arguments)}}(),this.authService.authState.subscribe(r=>{this.authenticated=r.status}),this.authService.checkLoginValidity()}ngAfterViewInit(){this.metadataService.resetSortingMaps(),this.prepareRankingsLoader(),this.synchronizerService.updatesEmitter.subscribe(i=>{switch(i){case-1:console.log("Planets loaded! Reloading rankings... "),this.synchronizerService.loadRankings(this.dgAPI.gameTurn(),this.dgAPI.getCountDownMinutes(),!0);break;case 0:this.delay(1e3).then(()=>{this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),window.location.reload()});break;case 1:this.rankingsLoadModal.nativeElement.classList.add("hide"),this.rankingsLoadModal.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.dgtUpdatingModel.nativeElement.classList.add("show"),this.dgtUpdatingModel.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open"),this.delay(1e3).then(()=>{});break;case 2:this.dgtUpdatingModel.nativeElement.classList.add("hide"),this.dgtUpdatingModel.nativeElement.classList.remove("show"),document.body.classList.remove("dgt-overlay-open"),this.playersProgressBar.nativeElement.style.width="0%",this.loadedRankings="Loading ranking pages",this.rankingsLoadModal.nativeElement.classList.add("show"),this.rankingsLoadModal.nativeElement.classList.remove("hide"),document.body.classList.add("dgt-overlay-open")}});let r=new fe(i=>{this.synchronizerService.updateMetadata(i)}).subscribe(i=>{i&&(this.synchronizerService.loadPlanets(this.dgAPI.gameTurn(),this.dgAPI.getCountDownMinutes()).catch(s=>console.log(s)),r.unsubscribe())})}prepareRankingsLoader(){this.rankingsCountSubscription=this.synchronizerService.playersRankingsEmitter.subscribe(r=>{switch(r.action){case"load":this.loadedRankings="Loading "+r.page+"/"+r.total+" ranking page",this.changeDetection.detectChanges(),this.playersPercentage=Math.floor(100*r.page/r.total),this.playersProgressBar.nativeElement.style.width=this.playersPercentage+"%";break;case"save":this.loadedRankings="Caching "+r.page+"/"+r.total+" players",this.changeDetection.detectChanges(),this.playersPercentage=Math.floor(100*r.page/r.total),this.playersProgressBar.nativeElement.style.width=this.playersPercentage+"%",r.page==r.total&&this.rankingsCountSubscription.unsubscribe()}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-local-storage-synchronizer"]],viewQuery:function(r,i){if(1&r&&(ii($6e,5),ii(G6e,5),ii(q6e,5)),2&r){let s;jr(s=$r())&&(i.dgtUpdatingModel=s.first),jr(s=$r())&&(i.rankingsLoadModal=s.first),jr(s=$r())&&(i.playersProgressBar=s.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-update-data",1,"hide","dgt-overlay-modal"],["dgtUpdatingModel",""],["id","dgt-update-message"],["src","https://i.imgur.com/a6OzUZb.png","alt","beer"],["id","dgt-load-rankings-overlay-modal",1,"hide","dgt-overlay-modal"],["rankingsLoadModal",""],[1,"dgt-display-info"],[1,"counter"],[1,"rankings-counter"],[1,"progressbar"],[1,"percentage"],[1,"progress"],["playersProgressBar",""]],template:function(r,i){1&r&&Dt(0,W6e,18,2,"ng-container",0),2&r&&Ne("ngIf",i.authenticated)},dependencies:[hs],styles:["#dgt-update-message[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border-radius:5px;padding:10px;vertical-align:middle;text-align:center;position:fixed;color:#dcdcdc;background:#364a36;border:1px solid #3a593a}#dgt-update-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:100%;margin-bottom:10px}#dgt-update-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}#dgt-update-data.show[_ngcontent-%COMP%]{display:flex!important}#dgt-update-data.hide[_ngcontent-%COMP%]{display:none!important}#dgt-load-rankings-overlay-modal[_ngcontent-%COMP%]   .dgt-display-info[_ngcontent-%COMP%]{height:90px}.dgt-display-info[_ngcontent-%COMP%]{margin:auto;width:300px;left:calc(50% - 150px);top:calc(50% - 45px);border:1px solid #364a36;border-radius:5px;padding:10px;vertical-align:middle;text-align:center;background:#3a593a;position:fixed}.progressbar[_ngcontent-%COMP%]{position:relative;display:block;max-width:200px;width:100%;margin:10px auto;height:20px;background:#fff;overflow:hidden;border-radius:5px}span.progress[_ngcontent-%COMP%]{display:block;position:absolute;left:0;top:0;bottom:0;width:0;transition:all .3s;height:100%;background:#4ac54a!important}span.percentage[_ngcontent-%COMP%]{width:100%;position:relative;float:left;background:transparent;z-index:9999;height:100%;line-height:20px;color:#000;font-size:15px}"]}),e})(),Y6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[K6e]}),t.\u0275inj=xt({providers:[ij,r_],imports:[Wr,nj,eo(()=>no(jn_firebase)),_c(()=>vc()),jo(()=>$o()),xo(()=>Co(to(),{provider:new Yi(jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})(),Q6e=(()=>{class e{static get times(){return this._times}}return e._times=[[1,42],[2,42],[3,60],[4,60],[5,72],[6,100],[7,42],[8,42],[9,60],[10,60],[11,72],[12,100],[13,36],[14,36],[15,72],[16,72],[17,60],[18,48],[19,60],[20,72],[21,24],[22,48],[23,36],[24,60],[25,48],[26,120],[27,18],[28,18],[29,18],[30,18],[31,18],[32,36],[33,36],[34,36],[35,36],[36,36],[37,12],[38,12],[39,12],[40,24],[41,24],[42,24],[43,48],[44,48],[45,36],[46,36],[47,36],[48,36],[49,24],[50,24],[51,24],[52,24],[53,18],[54,18],[55,18],[56,18],[57,12],[58,12]],e})(),X6e=(()=>{var t;class e{fixQueuedResearchTimes(){document.querySelectorAll(".researchButton").forEach((r,i)=>{if(r.classList.contains("researchQueued")){let s=r.querySelector(".infoText");s.classList.add("queuePosition");let o=document.createElement("div");o.classList.add("infoText","researchTime"),o.innerHTML=Q6e.times[i][1].toString(),s.parentNode.insertBefore(o,s)}})}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),J6e=(()=>{var t;class e{constructor(){this.preloadResearchTimesService=q(X6e)}ngAfterViewInit(){this.preloadResearchTimesService.fixQueuedResearchTimes()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Nn({type:t,selectors:[["dgt-research-panel"]],decls:0,vars:0,template:function(r,i){}}),e})(),Z6e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[J6e]}),t.\u0275inj=xt({imports:[Wr]}),e})();var id;class xw{constructor(){this.localStorageService=q(Pr)}fetchAndClear(e,n,r,i,s=!1){let o=new Map;const a=this.localStorageService.get(tt.PLAYERS_STATS);if(null===a)return o;for(let c=0;c<a.length-1;c++)for(let l=c+1;l<a.length;l++){let u=!1;switch(e){case"score":case"planets":case"g1Total":case"g213Total":case"g1449Total":u="desc"===n?a[c][e]<a[l][e]:a[c][e]>a[l][e];break;case"scorePerPlanet":u="desc"===n?a[c].score/a[c].planets<a[l].score/a[l].planets:a[c].score/a[c].planets>a[l].score/a[l].planets}if(u){const d=a[c];a[c]=a[l],a[l]=d}}if(a.length>i*r)for(let c=i*(r-1);c<i*r;c++)a[c].rank=c+1,o.set(a[c].playerId,a[c]);else for(let c=a.length-100;c<a.length;c++)a[c].rank=c+1,o.set(a[c].playerId,a[c]);return s&&document.querySelector(".playerRankingsList").remove(),o}fixPaginationDisplay(e){if(null===this.localStorageService.get(tt.PLAYERS_STATS))return;const n=this.localStorageService.get(tt.PLAYERS_STATS).length;document.querySelector("#ranking-navigation > div:nth-child(2)").innerHTML="Page "+e+" / "+Math.ceil(n/100),e===Math.ceil(n/100)&&document.querySelector("#ranking-navigation > div:nth-child(1)").remove()}}(id=xw).\u0275fac=function(e){return new(e||id)},id.\u0275prov=be({token:id,factory:id.\u0275fac,providedIn:"root"}),Wt([_r(4,zt())],xw.prototype,"fetchAndClear",null);let e3e=(()=>{var t;class e{constructor(){this.decimalPipe=q(ps)}transform(r,i){return this.decimalPipe.transform(Math.round(r/i),"1.0","en_US")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275pipe=On({name:"scorePerPlanetFormatter",type:t,pure:!0}),e})();var zp;function t3e(t,e){1&t&&Ue(0,"img",19)}function n3e(t,e){1&t&&Ue(0,"img",20)}function r3e(t,e){1&t&&Ue(0,"img",19)}function i3e(t,e){1&t&&Ue(0,"img",20)}function s3e(t,e){1&t&&Ue(0,"img",19)}function o3e(t,e){1&t&&Ue(0,"img",20)}function a3e(t,e){1&t&&Ue(0,"img",19)}function c3e(t,e){1&t&&Ue(0,"img",20)}function l3e(t,e){1&t&&Ue(0,"img",19)}function u3e(t,e){1&t&&Ue(0,"img",20)}function d3e(t,e){1&t&&Ue(0,"img",19)}function f3e(t,e){1&t&&Ue(0,"img",20)}const h3e=function(t,e,n,r,i){return{neutral:t,hostile:e,allied:n,self:r,nap:i}};function p3e(t,e){if(1&t&&(G(0,"tr",21)(1,"td",3),X(2),K(),G(3,"td",4),X(4),K(),G(5,"td",5),X(6),K(),G(7,"td",6)(8,"a",22),X(9),K()(),G(10,"td",10)(11,"a",22),X(12),K()(),G(13,"td",11)(14,"a",22),X(15),K()(),G(16,"td",12)(17,"a",22),X(18),K()(),Ue(19,"td",13),G(20,"td",14),X(21),Qt(22,"scorePerPlanetFormatter"),K(),G(23,"td",15),X(24),Qt(25,"number"),K()()),2&t){const n=e.$implicit;Ne("ngClass",s7(17,h3e,"neutral"===n.relation,"hostile"===n.relation,"allied"===n.relation,"self"===n.relation,"nap"===n.relation)),me(2),dt(n.rank),me(2),dt(n.alliance),me(2),dt(n.name),me(3),dt(n.planets),me(3),dt(n.g1Total),me(3),dt(n.g213Total),me(3),dt(n.g1449Total),me(3),dt(d7(22,10,n.score,n.planets)),me(3),dt(bi(25,13,n.score,"1.0","en-US"))}}function g3e(t,e){if(1&t){const n=bl();ka(0),G(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),X(6,"#"),K(),G(7,"th",4),X(8,"Tag"),K(),G(9,"th",5),X(10,"Player"),K(),G(11,"th",6)(12,"a",7),Ot("click",function(){return Lr(n),Br(Ut().orderBy("planets"))}),X(13,"Planets"),K(),Dt(14,t3e,1,0,"img",8),Dt(15,n3e,1,0,"img",9),K(),G(16,"th",10)(17,"a",7),Ot("click",function(){return Lr(n),Br(Ut().orderBy("g1Total"))}),X(18,"G1"),K(),Dt(19,r3e,1,0,"img",8),Dt(20,i3e,1,0,"img",9),K(),G(21,"th",11)(22,"a",7),Ot("click",function(){return Lr(n),Br(Ut().orderBy("g213Total"))}),X(23,"Inner"),K(),Dt(24,s3e,1,0,"img",8),Dt(25,o3e,1,0,"img",9),K(),G(26,"th",12)(27,"a",7),Ot("click",function(){return Lr(n),Br(Ut().orderBy("g1449Total"))}),X(28,"Outer"),K(),Dt(29,a3e,1,0,"img",8),Dt(30,c3e,1,0,"img",9),K(),Ue(31,"th",13),G(32,"th",14)(33,"a",7),Ot("click",function(){return Lr(n),Br(Ut().orderBy("scorePerPlanet"))}),X(34,"Score/Planet"),K(),Dt(35,l3e,1,0,"img",8),Dt(36,u3e,1,0,"img",9),K(),G(37,"th",15)(38,"a",7),Ot("click",function(){return Lr(n),Br(Ut().orderBy("score"))}),X(39,"Score"),K(),Dt(40,d3e,1,0,"img",8),Dt(41,f3e,1,0,"img",9),K()()(),G(42,"tbody"),Dt(43,p3e,26,23,"tr",16),K()()(),G(44,"div",17)(45,"div",18)(46,"h2"),X(47,"Riddick"),K(),G(48,"table")(49,"tr")(50,"th"),X(51,"G7"),K(),G(52,"td"),X(53,"7.4.1.2, 7.4.1.3, 7.4.1.4, 7.4.1.5, 7.4.1.6, 7.4.1.7, 7.4.2.7, 7.4.3.3, 7.4.4.6, 7.6.1.1, 7.6.1.4, 7.6.1.5, 7.6.1.6, 7.6.1.7, 7.6.1.8, 7.6.1.9, 7.6.2.2, 7.6.2.4, 7.6.2.5, 7.6.2.6, 7.6.2.7, 7.6.2.8, 7.6.2.9, 7.6.3.1, 7.6.3.2, 7.6.3.3, 7.6.3.4, 7.6.3.6, 7.6.3.7, 7.6.4.1, 7.6.4.2, 7.6.4.3, 7.6.4.6, 7.6.4.7, 7.6.4.8, 7.6.4.9 "),K()(),G(54,"tr")(55,"th"),X(56,"G8"),K(),G(57,"td"),X(58,"8.4.3.5"),K()(),G(59,"tr")(60,"th"),X(61,"G9"),K(),G(62,"td"),X(63,"9.3.3.1, 9.3.3.2, 9.3.3.3, 9.3.3.5, 9.3.3.6, 9.3.3.7, 9.3.3.8, 9.3.3.9"),K()()()()(),Na()}if(2&t){const n=Ut();me(14),Ne("ngIf","desc"===n.sortOrder&&"planets"===n.sortKey),me(1),Ne("ngIf","asc"===n.sortOrder&&"planets"===n.sortKey),me(4),Ne("ngIf","desc"===n.sortOrder&&"g1Total"===n.sortKey),me(1),Ne("ngIf","asc"===n.sortOrder&&"g1Total"===n.sortKey),me(4),Ne("ngIf","desc"===n.sortOrder&&"g213Total"===n.sortKey),me(1),Ne("ngIf","asc"===n.sortOrder&&"g213Total"===n.sortKey),me(4),Ne("ngIf","desc"===n.sortOrder&&"g1449Total"===n.sortKey),me(1),Ne("ngIf","asc"===n.sortOrder&&"g1449Total"===n.sortKey),me(5),Ne("ngIf","desc"===n.sortOrder&&"scorePerPlanet"===n.sortKey),me(1),Ne("ngIf","asc"===n.sortOrder&&"scorePerPlanet"===n.sortKey),me(4),Ne("ngIf","desc"===n.sortOrder&&"score"===n.sortKey),me(1),Ne("ngIf","asc"===n.sortOrder&&"score"===n.sortKey),me(2),Ne("ngForOf",n.rankings.values())}}class Cw{constructor(){this.playerRankingsService=q(xw),this.authService=q(Ts),this.localStorageService=q(Pr),this.changeDetector=q(fs),this.rankings=new Map,this.authenticated=!1,this.Math=Math,this.sortOrder="desc",this.sortKey="score";const e=window.location.pathname.split(/\//);switch(e.length){case 4:default:this.page=1;break;case 5:this.page=parseInt(e[3])}this.authService.authState.subscribe(n=>{if(this.authenticated=n.status,this.authenticated){null===this.localStorageService.get(tt.PLAYERS_RANKINGS_SORT)&&this.localStorageService.cache(tt.PLAYERS_RANKINGS_SORT,"score:desc");const r=this.localStorageService.get(tt.PLAYERS_RANKINGS_SORT).split(/:/)[0];this.orderBy(r,!1)}}),this.authService.checkLoginValidity(),this.playerRankingsService.fixPaginationDisplay(this.page)}ngAfterViewInit(){this.changeDetector.detectChanges()}orderBy(e,n=!0){let r=this.localStorageService.get(tt.PLAYERS_RANKINGS_SORT);null===r&&(r="score:desc");let[i,s]=r.split(/:/);e!==i&&(s="asc"),n&&(s="desc"===s?"asc":"desc"),r=e.concat(":",s),this.rankings=this.playerRankingsService.fetchAndClear(e,s,this.page,100),this.sortKey=e,this.sortOrder=s,n&&this.changeDetector.detectChanges(),this.localStorageService.cache(tt.PLAYERS_RANKINGS_SORT,r)}}(zp=Cw).\u0275fac=function(e){return new(e||zp)},zp.\u0275cmp=Nn({type:zp,selectors:[["dgt-players-rankings"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","dgt-players-rankings-wrapper"],["id","dgt-rankings-table"],[1,"rank"],[1,"alliance"],[1,"name"],[1,"planets"],["href","javascript:void(0);",3,"click"],["alt","descending","class","icon desc","src","https://i.imgur.com/ntiN5vu.png",4,"ngIf"],["alt","ascending","class","icon asc","src","https://i.imgur.com/768mrAd.png",4,"ngIf"],[1,"g1"],[1,"inner"],[1,"outer"],[1,"empty"],[1,"score-per-planet"],[1,"score"],[3,"ngClass",4,"ngFor","ngForOf"],["id","dgt-player-planets-overlay-modal",1,"hide","dgt-overlay-modal"],[1,"dgt-display-info"],["alt","descending","src","https://i.imgur.com/ntiN5vu.png",1,"icon","desc"],["alt","ascending","src","https://i.imgur.com/768mrAd.png",1,"icon","asc"],[3,"ngClass"],["href","javascript:void(0);"]],template:function(e,n){1&e&&Dt(0,g3e,64,13,"ng-container",0),2&e&&Ne("ngIf",n.authenticated)},dependencies:[h4,Hg,hs,ps,e3e],styles:[".hostile[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%], .self[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]{color:#fff}.hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important}.name[_ngcontent-%COMP%]{width:150px;text-transform:capitalize;padding-left:10px!important}.planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{width:50px}.empty[_ngcontent-%COMP%]{width:100px}.score[_ngcontent-%COMP%]{width:75px}.score-per-planet[_ngcontent-%COMP%]{width:50px;text-align:center}.rank[_ngcontent-%COMP%]{width:30px;text-align:center}.alliance[_ngcontent-%COMP%]{width:50px;padding-left:10px}.score[_ngcontent-%COMP%], .planets[_ngcontent-%COMP%], .g1[_ngcontent-%COMP%], .inner[_ngcontent-%COMP%], .outer[_ngcontent-%COMP%]{text-align:center}.hostile[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .hostile[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4b2b2b!important;color:#df4a4a!important}.nap[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .nap[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#4e4e17!important;color:#b9b916!important}.allied[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .allied[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#18354b!important;color:#08baff!important}.self[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .self[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#426300!important;color:#7bbd1a!important}.neutral[_ngcontent-%COMP%]   .alliance[_ngcontent-%COMP%], .neutral[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{background:#3b3b3b!important;color:#fff!important}.neutral[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#dcdcdc}td.alliance[_ngcontent-%COMP%]{text-transform:uppercase}td.name[_ngcontent-%COMP%]{color:#fff}#dgt-players-rankings-wrapper[_ngcontent-%COMP%]{background:rgba(87,87,87,.75);border-radius:3px;padding:5px!important;margin-bottom:5px!important}table[_ngcontent-%COMP%]{padding:0!important;margin:0!important;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{line-height:26px;border-bottom:1px solid rgba(0,0,0,.25)}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}th[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], th[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#72bde0!important;float:left;left:25%;position:relative}th[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:left;width:11px;height:23px;margin-left:3px;margin-top:1px;left:25%;position:relative}"]}),Wt([_r(1,zt())],Cw.prototype,"orderBy",null);let m3e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=At({type:t,bootstrap:[Cw]}),t.\u0275inj=xt({providers:[ps],imports:[Wr,hw,Hb,eo(()=>no(jn_firebase)),jo(()=>$o()),xo(()=>Co(to(),{provider:new Yi(jn_firebase.appCheck.recaptchaSiteKey),isTokenAutoRefreshEnabled:!0}))]}),e})();const Xr=Dte();let _3e=window.location.pathname.split(/\//g);Xr.bootstrapModule(X4e).then(()=>{Xr.bootstrapModule(Y4e).then(()=>{Xr.bootstrapModule(P2e).then(()=>{Xr.bootstrapModule(Y6e).then(()=>{Xr.bootstrapModule(I1e).then(()=>{!function v3e(t){2===t.length&&0===t[1].trim().length&&(Xr.bootstrapModule(R6e).catch(e=>console.error("Error loading ChangelogModule: "+e)),Xr.bootstrapModule(z6e).catch(e=>console.error("Error loading FetchDataModule: "+e))),"planets"===t[1]&&Xr.bootstrapModule(x2e).catch(e=>console.error("Error loading PlanetListStatsModule: "+e)),"planet"===t[1]&&"comms"===(5===t.length&&t[3])&&Xr.bootstrapModule(b2e).catch(e=>console.error("Error loading SharedScansModule: "+e)),"navigation"===t[1]&&6===t.length&&!isNaN(+t[2])&&!isNaN(+t[3])&&!isNaN(+t[4])&&Xr.bootstrapModule(T2e).catch(e=>console.error("Error loading NavigationScansModule: "+e)),"alliances"===t[1]&&document.querySelector("dgt-alliance-members")&&Xr.bootstrapModule(W4e).catch(e=>console.error("Error loading AllianceMembersModule: "+e)),"rankings"===t[1]&&"alliances"===t[2]&&Xr.bootstrapModule(j6e).catch(e=>console.error("Error loading AllianceRankingsModule: "+e)),"rankings"===t[1]&&"players"===t[2]&&Xr.bootstrapModule(m3e).catch(e=>console.error("Error loading PlayerRankingsModule: "+e)),"research"===t[1]&&Xr.bootstrapModule(Z6e).catch(e=>console.error("Error loading ResearchModule: "+e))}(_3e)}).catch(t=>console.error("Error loading NavbarModule: "+t))}).catch(t=>console.error("Error loading LocalStorageSynchronizerModule: "+t))}).catch(t=>console.error("Error loading AuthenticationModule: "+t))}).catch(t=>console.error("Error loading DarkgalaxyUiParserModule: "+t))}).catch(t=>console.error("Error loading LocalStorageManagerModule: "+t))},42:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,z=I.lib.BlockCipher,J=I.algo,N=[],W=[],_=[],b=[],M=[],E=[],T=[],x=[],D=[],A=[];!function(){for(var m=[],C=0;C<256;C++)m[C]=C<128?C<<1:C<<1^283;var L=0,O=0;for(C=0;C<256;C++){var H=O^O<<1^O<<2^O<<3^O<<4;N[L]=H=H>>>8^255&H^99,W[H]=L;var pe,j=m[L],de=m[j],le=m[de];_[L]=(pe=257*m[H]^16843008*H)<<24|pe>>>8,b[L]=pe<<16|pe>>>16,M[L]=pe<<8|pe>>>24,E[L]=pe,T[H]=(pe=16843009*le^65537*de^257*j^16843008*L)<<24|pe>>>8,x[H]=pe<<16|pe>>>16,D[H]=pe<<8|pe>>>24,A[H]=pe,L?(L=j^m[m[m[le^j]]],O^=m[m[O]]):L=O=1}}();var F=[0,1,2,4,8,16,32,64,128,27,54],k=J.AES=z.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var C=this._keyPriorReset=this._key,L=C.words,O=C.sigBytes/4,j=4*((this._nRounds=O+6)+1),de=this._keySchedule=[],le=0;le<j;le++)le<O?de[le]=L[le]:(m=de[le-1],le%O?O>6&&le%O==4&&(m=N[m>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m]):(m=N[(m=m<<8|m>>>24)>>>24]<<24|N[m>>>16&255]<<16|N[m>>>8&255]<<8|N[255&m],m^=F[le/O|0]<<24),de[le]=de[le-O]^m);for(var pe=this._invKeySchedule=[],Ae=0;Ae<j;Ae++){if(le=j-Ae,Ae%4)var m=de[le];else m=de[le-4];pe[Ae]=Ae<4||le<=4?m:T[N[m>>>24]]^x[N[m>>>16&255]]^D[N[m>>>8&255]]^A[N[255&m]]}}},encryptBlock:function(m,C){this._doCryptBlock(m,C,this._keySchedule,_,b,M,E,N)},decryptBlock:function(m,C){var L=m[C+1];m[C+1]=m[C+3],m[C+3]=L,this._doCryptBlock(m,C,this._invKeySchedule,T,x,D,A,W),L=m[C+1],m[C+1]=m[C+3],m[C+3]=L},_doCryptBlock:function(m,C,L,O,H,j,de,le){for(var pe=this._nRounds,Ae=m[C]^L[0],Q=m[C+1]^L[1],ue=m[C+2]^L[2],ye=m[C+3]^L[3],ce=4,Oe=1;Oe<pe;Oe++){var fe=O[Ae>>>24]^H[Q>>>16&255]^j[ue>>>8&255]^de[255&ye]^L[ce++],Ke=O[Q>>>24]^H[ue>>>16&255]^j[ye>>>8&255]^de[255&Ae]^L[ce++],nt=O[ue>>>24]^H[ye>>>16&255]^j[Ae>>>8&255]^de[255&Q]^L[ce++],Z=O[ye>>>24]^H[Ae>>>16&255]^j[Q>>>8&255]^de[255&ue]^L[ce++];Ae=fe,Q=Ke,ue=nt,ye=Z}fe=(le[Ae>>>24]<<24|le[Q>>>16&255]<<16|le[ue>>>8&255]<<8|le[255&ye])^L[ce++],Ke=(le[Q>>>24]<<24|le[ue>>>16&255]<<16|le[ye>>>8&255]<<8|le[255&Ae])^L[ce++],nt=(le[ue>>>24]<<24|le[ye>>>16&255]<<16|le[Ae>>>8&255]<<8|le[255&Q])^L[ce++],Z=(le[ye>>>24]<<24|le[Ae>>>16&255]<<16|le[Q>>>8&255]<<8|le[255&ue])^L[ce++],m[C]=fe,m[C+1]=Ke,m[C+2]=nt,m[C+3]=Z},keySize:8});I.AES=z._createHelper(k)}(),P.AES)},172:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,z=I.lib.BlockCipher;const N=16,W=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],_=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var b={pbox:[],sbox:[]};function M(A,F){let O=A.sbox[0][F>>24&255]+A.sbox[1][F>>16&255];return O^=A.sbox[2][F>>8&255],O+=A.sbox[3][255&F],O}function E(A,F,k){let L,m=F,C=k;for(let O=0;O<N;++O)m^=A.pbox[O],C=M(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[N],m^=A.pbox[N+1],{left:m,right:C}}var D=I.algo.Blowfish=z.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var A=this._keyPriorReset=this._key;!function x(A,F,k){for(let H=0;H<4;H++){A.sbox[H]=[];for(let j=0;j<256;j++)A.sbox[H][j]=_[H][j]}let m=0;for(let H=0;H<N+2;H++)A.pbox[H]=W[H]^F[m],m++,m>=k&&(m=0);let C=0,L=0,O=0;for(let H=0;H<N+2;H+=2)O=E(A,C,L),C=O.left,L=O.right,A.pbox[H]=C,A.pbox[H+1]=L;for(let H=0;H<4;H++)for(let j=0;j<256;j+=2)O=E(A,C,L),C=O.left,L=O.right,A.sbox[H][j]=C,A.sbox[H][j+1]=L;return!0}(b,A.words,A.sigBytes/4)}},encryptBlock:function(A,F){var k=E(b,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},decryptBlock:function(A,F){var k=function T(A,F,k){let L,m=F,C=k;for(let O=N+1;O>1;--O)m^=A.pbox[O],C=M(A,m)^C,L=m,m=C,C=L;return L=m,m=C,C=L,C^=A.pbox[1],m^=A.pbox[0],{left:m,right:C}}(b,A[F],A[F+1]);A[F]=k.left,A[F+1]=k.right},blockSize:2,keySize:4,ivSize:2});I.Blowfish=z._createHelper(D)}(),P.Blowfish)},270:function(Ee,Ie,V){var $,z,J,N,W,_,M,T,x,A,F,k,C,O,j,de,pe,Ae,P;Ee.exports=(P=V(12),V(66),void(P.lib.Cipher||($=P,z=$.lib,J=z.Base,N=z.WordArray,W=z.BufferedBlockAlgorithm,_=$.enc,M=_.Base64,T=$.algo.EvpKDF,x=z.Cipher=W.extend({cfg:J.extend(),createEncryptor:function(Q,ue){return this.create(this._ENC_XFORM_MODE,Q,ue)},createDecryptor:function(Q,ue){return this.create(this._DEC_XFORM_MODE,Q,ue)},init:function(Q,ue,ye){this.cfg=this.cfg.extend(ye),this._xformMode=Q,this._key=ue,this.reset()},reset:function(){W.reset.call(this),this._doReset()},process:function(Q){return this._append(Q),this._process()},finalize:function(Q){return Q&&this._append(Q),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Q(ue){return"string"==typeof ue?Ae:de}return function(ue){return{encrypt:function(ye,ce,Oe){return Q(ce).encrypt(ue,ye,ce,Oe)},decrypt:function(ye,ce,Oe){return Q(ce).decrypt(ue,ye,ce,Oe)}}}}()}),z.StreamCipher=x.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),A=$.mode={},F=z.BlockCipherMode=J.extend({createEncryptor:function(Q,ue){return this.Encryptor.create(Q,ue)},createDecryptor:function(Q,ue){return this.Decryptor.create(Q,ue)},init:function(Q,ue){this._cipher=Q,this._iv=ue}}),k=A.CBC=function(){var Q=F.extend();function ue(ye,ce,Oe){var fe,Ke=this._iv;Ke?(fe=Ke,this._iv=undefined):fe=this._prevBlock;for(var nt=0;nt<Oe;nt++)ye[ce+nt]^=fe[nt]}return Q.Encryptor=Q.extend({processBlock:function(ye,ce){var Oe=this._cipher,fe=Oe.blockSize;ue.call(this,ye,ce,fe),Oe.encryptBlock(ye,ce),this._prevBlock=ye.slice(ce,ce+fe)}}),Q.Decryptor=Q.extend({processBlock:function(ye,ce){var Oe=this._cipher,fe=Oe.blockSize,Ke=ye.slice(ce,ce+fe);Oe.decryptBlock(ye,ce),ue.call(this,ye,ce,fe),this._prevBlock=Ke}}),Q}(),C=($.pad={}).Pkcs7={pad:function(Q,ue){for(var ye=4*ue,ce=ye-Q.sigBytes%ye,Oe=ce<<24|ce<<16|ce<<8|ce,fe=[],Ke=0;Ke<ce;Ke+=4)fe.push(Oe);var nt=N.create(fe,ce);Q.concat(nt)},unpad:function(Q){Q.sigBytes-=255&Q.words[Q.sigBytes-1>>>2]}},z.BlockCipher=x.extend({cfg:x.cfg.extend({mode:k,padding:C}),reset:function(){var Q;x.reset.call(this);var ue=this.cfg,ye=ue.iv,ce=ue.mode;this._xformMode==this._ENC_XFORM_MODE?Q=ce.createEncryptor:(Q=ce.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Q?this._mode.init(this,ye&&ye.words):(this._mode=Q.call(ce,this,ye&&ye.words),this._mode.__creator=Q)},_doProcessBlock:function(Q,ue){this._mode.processBlock(Q,ue)},_doFinalize:function(){var Q,ue=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ue.pad(this._data,this.blockSize),Q=this._process(!0)):(Q=this._process(!0),ue.unpad(Q)),Q},blockSize:4}),O=z.CipherParams=J.extend({init:function(Q){this.mixIn(Q)},toString:function(Q){return(Q||this.formatter).stringify(this)}}),j=($.format={}).OpenSSL={stringify:function(Q){var ye=Q.ciphertext,ce=Q.salt;return(ce?N.create([1398893684,1701076831]).concat(ce).concat(ye):ye).toString(M)},parse:function(Q){var ue,ye=M.parse(Q),ce=ye.words;return 1398893684==ce[0]&&1701076831==ce[1]&&(ue=N.create(ce.slice(2,4)),ce.splice(0,4),ye.sigBytes-=16),O.create({ciphertext:ye,salt:ue})}},de=z.SerializableCipher=J.extend({cfg:J.extend({format:j}),encrypt:function(Q,ue,ye,ce){ce=this.cfg.extend(ce);var Oe=Q.createEncryptor(ye,ce),fe=Oe.finalize(ue),Ke=Oe.cfg;return O.create({ciphertext:fe,key:ye,iv:Ke.iv,algorithm:Q,mode:Ke.mode,padding:Ke.padding,blockSize:Q.blockSize,formatter:ce.format})},decrypt:function(Q,ue,ye,ce){return ce=this.cfg.extend(ce),ue=this._parse(ue,ce.format),Q.createDecryptor(ye,ce).finalize(ue.ciphertext)},_parse:function(Q,ue){return"string"==typeof Q?ue.parse(Q,this):Q}}),pe=($.kdf={}).OpenSSL={execute:function(Q,ue,ye,ce,Oe){if(ce||(ce=N.random(8)),Oe)var fe=T.create({keySize:ue+ye,hasher:Oe}).compute(Q,ce);else fe=T.create({keySize:ue+ye}).compute(Q,ce);var Ke=N.create(fe.words.slice(ue),4*ye);return fe.sigBytes=4*ue,O.create({key:fe,iv:Ke,salt:ce})}},Ae=z.PasswordBasedCipher=de.extend({cfg:de.cfg.extend({kdf:pe}),encrypt:function(Q,ue,ye,ce){var Oe=(ce=this.cfg.extend(ce)).kdf.execute(ye,Q.keySize,Q.ivSize,ce.salt,ce.hasher);ce.iv=Oe.iv;var fe=de.encrypt.call(this,Q,ue,Oe.key,ce);return fe.mixIn(Oe),fe},decrypt:function(Q,ue,ye,ce){ce=this.cfg.extend(ce),ue=this._parse(ue,ce.format);var Oe=ce.kdf.execute(ye,Q.keySize,Q.ivSize,ue.salt,ce.hasher);return ce.iv=Oe.iv,de.decrypt.call(this,Q,ue,Oe.key,ce)}}))))},12:function(Ee,Ie,V){var P;Ee.exports=(P=P||function(I,$){var z;if(typeof window<"u"&&window.crypto&&(z=window.crypto),typeof self<"u"&&self.crypto&&(z=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(z=globalThis.crypto),!z&&typeof window<"u"&&window.msCrypto&&(z=window.msCrypto),!z&&typeof global<"u"&&global.crypto&&(z=global.crypto),!z)try{z=V(480)}catch{}var J=function(){if(z){if("function"==typeof z.getRandomValues)try{return z.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof z.randomBytes)try{return z.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},N=Object.create||function(){function m(){}return function(C){var L;return m.prototype=C,L=new m,m.prototype=null,L}}(),W={},_=W.lib={},b=_.Base={extend:function(m){var C=N(this);return m&&C.mixIn(m),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var C in m)m.hasOwnProperty(C)&&(this[C]=m[C]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}},M=_.WordArray=b.extend({init:function(m,C){m=this.words=m||[],this.sigBytes=null!=C?C:4*m.length},toString:function(m){return(m||T).stringify(this)},concat:function(m){var C=this.words,L=m.words,O=this.sigBytes,H=m.sigBytes;if(this.clamp(),O%4)for(var j=0;j<H;j++)C[O+j>>>2]|=(L[j>>>2]>>>24-j%4*8&255)<<24-(O+j)%4*8;else for(var le=0;le<H;le+=4)C[O+le>>>2]=L[le>>>2];return this.sigBytes+=H,this},clamp:function(){var m=this.words,C=this.sigBytes;m[C>>>2]&=4294967295<<32-C%4*8,m.length=I.ceil(C/4)},clone:function(){var m=b.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var C=[],L=0;L<m;L+=4)C.push(J());return new M.init(C,m)}}),E=W.enc={},T=E.Hex={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],H=0;H<L;H++){var j=C[H>>>2]>>>24-H%4*8&255;O.push((j>>>4).toString(16)),O.push((15&j).toString(16))}return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O+=2)L[O>>>3]|=parseInt(m.substr(O,2),16)<<24-O%8*4;return new M.init(L,C/2)}},x=E.Latin1={stringify:function(m){for(var C=m.words,L=m.sigBytes,O=[],H=0;H<L;H++)O.push(String.fromCharCode(C[H>>>2]>>>24-H%4*8&255));return O.join("")},parse:function(m){for(var C=m.length,L=[],O=0;O<C;O++)L[O>>>2]|=(255&m.charCodeAt(O))<<24-O%4*8;return new M.init(L,C)}},D=E.Utf8={stringify:function(m){try{return decodeURIComponent(escape(x.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return x.parse(unescape(encodeURIComponent(m)))}},A=_.BufferedBlockAlgorithm=b.extend({reset:function(){this._data=new M.init,this._nDataBytes=0},_append:function(m){"string"==typeof m&&(m=D.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var C,L=this._data,O=L.words,H=L.sigBytes,j=this.blockSize,le=H/(4*j),pe=(le=m?I.ceil(le):I.max((0|le)-this._minBufferSize,0))*j,Ae=I.min(4*pe,H);if(pe){for(var Q=0;Q<pe;Q+=j)this._doProcessBlock(O,Q);C=O.splice(0,pe),L.sigBytes-=Ae}return new M.init(C,Ae)},clone:function(){var m=b.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),k=(_.Hasher=A.extend({cfg:b.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){A.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){return m&&this._append(m),this._doFinalize()},blockSize:16,_createHelper:function(m){return function(C,L){return new m.init(L).finalize(C)}},_createHmacHelper:function(m){return function(C,L){return new k.HMAC.init(m,L).finalize(C)}}}),W.algo={});return W}(Math),P)},506:function(Ee,Ie,V){var P,z;Ee.exports=(P=V(12),z=P.lib.WordArray,P.enc.Base64={stringify:function(_){var b=_.words,M=_.sigBytes,E=this._map;_.clamp();for(var T=[],x=0;x<M;x+=3)for(var k=(b[x>>>2]>>>24-x%4*8&255)<<16|(b[x+1>>>2]>>>24-(x+1)%4*8&255)<<8|b[x+2>>>2]>>>24-(x+2)%4*8&255,m=0;m<4&&x+.75*m<M;m++)T.push(E.charAt(k>>>6*(3-m)&63));var C=E.charAt(64);if(C)for(;T.length%4;)T.push(C);return T.join("")},parse:function(_){var b=_.length,M=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var T=0;T<M.length;T++)E[M.charCodeAt(T)]=T}var x=M.charAt(64);if(x){var D=_.indexOf(x);-1!==D&&(b=D)}return function W(_,b,M){for(var E=[],T=0,x=0;x<b;x++)if(x%4){var D=M[_.charCodeAt(x-1)]<<x%4*2,A=M[_.charCodeAt(x)]>>>6-x%4*2;E[T>>>2]|=(D|A)<<24-T%4*8,T++}return z.create(E,T)}(_,b,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},P.enc.Base64)},523:function(Ee,Ie,V){var P,z;Ee.exports=(P=V(12),z=P.lib.WordArray,P.enc.Base64url={stringify:function(_,b){void 0===b&&(b=!0);var M=_.words,E=_.sigBytes,T=b?this._safe_map:this._map;_.clamp();for(var x=[],D=0;D<E;D+=3)for(var m=(M[D>>>2]>>>24-D%4*8&255)<<16|(M[D+1>>>2]>>>24-(D+1)%4*8&255)<<8|M[D+2>>>2]>>>24-(D+2)%4*8&255,C=0;C<4&&D+.75*C<E;C++)x.push(T.charAt(m>>>6*(3-C)&63));var L=T.charAt(64);if(L)for(;x.length%4;)x.push(L);return x.join("")},parse:function(_,b){void 0===b&&(b=!0);var M=_.length,E=b?this._safe_map:this._map,T=this._reverseMap;if(!T){T=this._reverseMap=[];for(var x=0;x<E.length;x++)T[E.charCodeAt(x)]=x}var D=E.charAt(64);if(D){var A=_.indexOf(D);-1!==A&&(M=A)}return function W(_,b,M){for(var E=[],T=0,x=0;x<b;x++)if(x%4){var D=M[_.charCodeAt(x-1)]<<x%4*2,A=M[_.charCodeAt(x)]>>>6-x%4*2;E[T>>>2]|=(D|A)<<24-T%4*8,T++}return z.create(E,T)}(_,M,T)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},P.enc.Base64url)},454:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),function(){var z=P.lib.WordArray,J=P.enc;function W(_){return _<<8&4278255360|_>>>8&16711935}J.Utf16=J.Utf16BE={stringify:function(_){for(var b=_.words,M=_.sigBytes,E=[],T=0;T<M;T+=2)E.push(String.fromCharCode(b[T>>>2]>>>16-T%4*8&65535));return E.join("")},parse:function(_){for(var b=_.length,M=[],E=0;E<b;E++)M[E>>>1]|=_.charCodeAt(E)<<16-E%2*16;return z.create(M,2*b)}},J.Utf16LE={stringify:function(_){for(var b=_.words,M=_.sigBytes,E=[],T=0;T<M;T+=2){var x=W(b[T>>>2]>>>16-T%4*8&65535);E.push(String.fromCharCode(x))}return E.join("")},parse:function(_){for(var b=_.length,M=[],E=0;E<b;E++)M[E>>>1]|=W(_.charCodeAt(E)<<16-E%2*16);return z.create(M,2*b)}}}(),P.enc.Utf16)},66:function(Ee,Ie,V){var I,$,z,J,N,_,P;Ee.exports=(P=V(12),V(446),V(990),J=($=(I=P).lib).WordArray,_=(N=I.algo).EvpKDF=(z=$.Base).extend({cfg:z.extend({keySize:4,hasher:N.MD5,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,M){for(var E,T=this.cfg,x=T.hasher.create(),D=J.create(),A=D.words,F=T.keySize,k=T.iterations;A.length<F;){E&&x.update(E),E=x.update(b).finalize(M),x.reset();for(var m=1;m<k;m++)E=x.finalize(E),x.reset();D.concat(E)}return D.sigBytes=4*F,D}}),I.EvpKDF=function(b,M,E){return _.create(E).compute(b,M)},P.EvpKDF)},826:function(Ee,Ie,V){var P,J,W;Ee.exports=(P=V(12),V(270),J=P.lib.CipherParams,W=P.enc.Hex,P.format.Hex={stringify:function(M){return M.ciphertext.toString(W)},parse:function(M){var E=W.parse(M);return J.create({ciphertext:E})}},P.format.Hex)},990:function(Ee,Ie,V){var P,N;Ee.exports=(P=V(12),N=P.enc.Utf8,void(P.algo.HMAC=P.lib.Base.extend({init:function(b,M){b=this._hasher=new b.init,"string"==typeof M&&(M=N.parse(M));var E=b.blockSize,T=4*E;M.sigBytes>T&&(M=b.finalize(M)),M.clamp();for(var x=this._oKey=M.clone(),D=this._iKey=M.clone(),A=x.words,F=D.words,k=0;k<E;k++)A[k]^=1549556828,F[k]^=909522486;x.sigBytes=D.sigBytes=T,this.reset()},reset:function(){var b=this._hasher;b.reset(),b.update(this._iKey)},update:function(b){return this._hasher.update(b),this},finalize:function(b){var M=this._hasher,E=M.finalize(b);return M.reset(),M.finalize(this._oKey.clone().concat(E))}})))},874:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(802),V(37),V(454),V(506),V(523),V(873),V(446),V(78),V(811),V(870),V(913),V(545),V(558),V(990),V(538),V(66),V(270),V(228),V(392),V(584),V(15),V(594),V(237),V(501),V(4),V(297),V(738),V(826),V(42),V(769),V(195),V(969),V(848),V(172),P)},37:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),function(){if("function"==typeof ArrayBuffer){var z=P.lib.WordArray,J=z.init,N=z.init=function(W){if(W instanceof ArrayBuffer&&(W=new Uint8Array(W)),(W instanceof Int8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)&&(W=new Uint8Array(W.buffer,W.byteOffset,W.byteLength)),W instanceof Uint8Array){for(var _=W.byteLength,b=[],M=0;M<_;M++)b[M>>>2]|=W[M]<<24-M%4*8;J.call(this,b,_)}else J.apply(this,arguments)};N.prototype=z}}(),P.lib.WordArray)},873:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),function(I){var $=P,z=$.lib,J=z.WordArray,N=z.Hasher,W=$.algo,_=[];!function(){for(var D=0;D<64;D++)_[D]=4294967296*I.abs(I.sin(D+1))|0}();var b=W.MD5=N.extend({_doReset:function(){this._hash=new J.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(D,A){for(var F=0;F<16;F++){var k=A+F,m=D[k];D[k]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8)}var C=this._hash.words,L=D[A+0],O=D[A+1],H=D[A+2],j=D[A+3],de=D[A+4],le=D[A+5],pe=D[A+6],Ae=D[A+7],Q=D[A+8],ue=D[A+9],ye=D[A+10],ce=D[A+11],Oe=D[A+12],fe=D[A+13],Ke=D[A+14],nt=D[A+15],Z=C[0],ae=C[1],ne=C[2],oe=C[3];Z=M(Z,ae,ne,oe,L,7,_[0]),oe=M(oe,Z,ae,ne,O,12,_[1]),ne=M(ne,oe,Z,ae,H,17,_[2]),ae=M(ae,ne,oe,Z,j,22,_[3]),Z=M(Z,ae,ne,oe,de,7,_[4]),oe=M(oe,Z,ae,ne,le,12,_[5]),ne=M(ne,oe,Z,ae,pe,17,_[6]),ae=M(ae,ne,oe,Z,Ae,22,_[7]),Z=M(Z,ae,ne,oe,Q,7,_[8]),oe=M(oe,Z,ae,ne,ue,12,_[9]),ne=M(ne,oe,Z,ae,ye,17,_[10]),ae=M(ae,ne,oe,Z,ce,22,_[11]),Z=M(Z,ae,ne,oe,Oe,7,_[12]),oe=M(oe,Z,ae,ne,fe,12,_[13]),ne=M(ne,oe,Z,ae,Ke,17,_[14]),Z=E(Z,ae=M(ae,ne,oe,Z,nt,22,_[15]),ne,oe,O,5,_[16]),oe=E(oe,Z,ae,ne,pe,9,_[17]),ne=E(ne,oe,Z,ae,ce,14,_[18]),ae=E(ae,ne,oe,Z,L,20,_[19]),Z=E(Z,ae,ne,oe,le,5,_[20]),oe=E(oe,Z,ae,ne,ye,9,_[21]),ne=E(ne,oe,Z,ae,nt,14,_[22]),ae=E(ae,ne,oe,Z,de,20,_[23]),Z=E(Z,ae,ne,oe,ue,5,_[24]),oe=E(oe,Z,ae,ne,Ke,9,_[25]),ne=E(ne,oe,Z,ae,j,14,_[26]),ae=E(ae,ne,oe,Z,Q,20,_[27]),Z=E(Z,ae,ne,oe,fe,5,_[28]),oe=E(oe,Z,ae,ne,H,9,_[29]),ne=E(ne,oe,Z,ae,Ae,14,_[30]),Z=T(Z,ae=E(ae,ne,oe,Z,Oe,20,_[31]),ne,oe,le,4,_[32]),oe=T(oe,Z,ae,ne,Q,11,_[33]),ne=T(ne,oe,Z,ae,ce,16,_[34]),ae=T(ae,ne,oe,Z,Ke,23,_[35]),Z=T(Z,ae,ne,oe,O,4,_[36]),oe=T(oe,Z,ae,ne,de,11,_[37]),ne=T(ne,oe,Z,ae,Ae,16,_[38]),ae=T(ae,ne,oe,Z,ye,23,_[39]),Z=T(Z,ae,ne,oe,fe,4,_[40]),oe=T(oe,Z,ae,ne,L,11,_[41]),ne=T(ne,oe,Z,ae,j,16,_[42]),ae=T(ae,ne,oe,Z,pe,23,_[43]),Z=T(Z,ae,ne,oe,ue,4,_[44]),oe=T(oe,Z,ae,ne,Oe,11,_[45]),ne=T(ne,oe,Z,ae,nt,16,_[46]),Z=x(Z,ae=T(ae,ne,oe,Z,H,23,_[47]),ne,oe,L,6,_[48]),oe=x(oe,Z,ae,ne,Ae,10,_[49]),ne=x(ne,oe,Z,ae,Ke,15,_[50]),ae=x(ae,ne,oe,Z,le,21,_[51]),Z=x(Z,ae,ne,oe,Oe,6,_[52]),oe=x(oe,Z,ae,ne,j,10,_[53]),ne=x(ne,oe,Z,ae,ye,15,_[54]),ae=x(ae,ne,oe,Z,O,21,_[55]),Z=x(Z,ae,ne,oe,Q,6,_[56]),oe=x(oe,Z,ae,ne,nt,10,_[57]),ne=x(ne,oe,Z,ae,pe,15,_[58]),ae=x(ae,ne,oe,Z,fe,21,_[59]),Z=x(Z,ae,ne,oe,de,6,_[60]),oe=x(oe,Z,ae,ne,ce,10,_[61]),ne=x(ne,oe,Z,ae,H,15,_[62]),ae=x(ae,ne,oe,Z,ue,21,_[63]),C[0]=C[0]+Z|0,C[1]=C[1]+ae|0,C[2]=C[2]+ne|0,C[3]=C[3]+oe|0},_doFinalize:function(){var D=this._data,A=D.words,F=8*this._nDataBytes,k=8*D.sigBytes;A[k>>>5]|=128<<24-k%32;var m=I.floor(F/4294967296),C=F;A[15+(k+64>>>9<<4)]=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),A[14+(k+64>>>9<<4)]=16711935&(C<<8|C>>>24)|4278255360&(C<<24|C>>>8),D.sigBytes=4*(A.length+1),this._process();for(var L=this._hash,O=L.words,H=0;H<4;H++){var j=O[H];O[H]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8)}return L},clone:function(){var D=N.clone.call(this);return D._hash=this._hash.clone(),D}});function M(D,A,F,k,m,C,L){var O=D+(A&F|~A&k)+m+L;return(O<<C|O>>>32-C)+A}function E(D,A,F,k,m,C,L){var O=D+(A&k|F&~k)+m+L;return(O<<C|O>>>32-C)+A}function T(D,A,F,k,m,C,L){var O=D+(A^F^k)+m+L;return(O<<C|O>>>32-C)+A}function x(D,A,F,k,m,C,L){var O=D+(F^(A|~k))+m+L;return(O<<C|O>>>32-C)+A}$.MD5=N._createHelper(b),$.HmacMD5=N._createHmacHelper(b)}(Math),P.MD5)},228:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(270),P.mode.CFB=function(){var I=P.lib.BlockCipherMode.extend();function $(z,J,N,W){var _,b=this._iv;b?(_=b.slice(0),this._iv=void 0):_=this._prevBlock,W.encryptBlock(_,0);for(var M=0;M<N;M++)z[J+M]^=_[M]}return I.Encryptor=I.extend({processBlock:function(z,J){var N=this._cipher,W=N.blockSize;$.call(this,z,J,W,N),this._prevBlock=z.slice(J,J+W)}}),I.Decryptor=I.extend({processBlock:function(z,J){var N=this._cipher,W=N.blockSize,_=z.slice(J,J+W);$.call(this,z,J,W,N),this._prevBlock=_}}),I}(),P.mode.CFB)},584:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(270),P.mode.CTRGladman=function(){var I=P.lib.BlockCipherMode.extend();function $(N){if(255==(N>>24&255)){var W=N>>16&255,_=N>>8&255,b=255&N;255===W?(W=0,255===_?(_=0,255===b?b=0:++b):++_):++W,N=0,N+=W<<16,N+=_<<8,N+=b}else N+=1<<24;return N}var J=I.Encryptor=I.extend({processBlock:function(N,W){var _=this._cipher,b=_.blockSize,M=this._iv,E=this._counter;M&&(E=this._counter=M.slice(0),this._iv=void 0),function z(N){return 0===(N[0]=$(N[0]))&&(N[1]=$(N[1])),N}(E);var T=E.slice(0);_.encryptBlock(T,0);for(var x=0;x<b;x++)N[W+x]^=T[x]}});return I.Decryptor=J,I}(),P.mode.CTRGladman)},392:function(Ee,Ie,V){var I,$,P;Ee.exports=(P=V(12),V(270),P.mode.CTR=($=(I=P.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(z,J){var N=this._cipher,W=N.blockSize,_=this._iv,b=this._counter;_&&(b=this._counter=_.slice(0),this._iv=void 0);var M=b.slice(0);N.encryptBlock(M,0),b[W-1]=b[W-1]+1|0;for(var E=0;E<W;E++)z[J+E]^=M[E]}}),I.Decryptor=$,I),P.mode.CTR)},594:function(Ee,Ie,V){var I,P;Ee.exports=(P=V(12),V(270),P.mode.ECB=((I=P.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function($,z){this._cipher.encryptBlock($,z)}}),I.Decryptor=I.extend({processBlock:function($,z){this._cipher.decryptBlock($,z)}}),I),P.mode.ECB)},15:function(Ee,Ie,V){var I,$,P;Ee.exports=(P=V(12),V(270),P.mode.OFB=($=(I=P.lib.BlockCipherMode.extend()).Encryptor=I.extend({processBlock:function(z,J){var N=this._cipher,W=N.blockSize,_=this._iv,b=this._keystream;_&&(b=this._keystream=_.slice(0),this._iv=void 0),N.encryptBlock(b,0);for(var M=0;M<W;M++)z[J+M]^=b[M]}}),I.Decryptor=$,I),P.mode.OFB)},237:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(270),P.pad.AnsiX923={pad:function(I,$){var z=I.sigBytes,J=4*$,N=J-z%J,W=z+N-1;I.clamp(),I.words[W>>>2]|=N<<24-W%4*8,I.sigBytes+=N},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},P.pad.Ansix923)},501:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(270),P.pad.Iso10126={pad:function(I,$){var z=4*$,J=z-I.sigBytes%z;I.concat(P.lib.WordArray.random(J-1)).concat(P.lib.WordArray.create([J<<24],1))},unpad:function(I){I.sigBytes-=255&I.words[I.sigBytes-1>>>2]}},P.pad.Iso10126)},4:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(270),P.pad.Iso97971={pad:function(I,$){I.concat(P.lib.WordArray.create([2147483648],1)),P.pad.ZeroPadding.pad(I,$)},unpad:function(I){P.pad.ZeroPadding.unpad(I),I.sigBytes--}},P.pad.Iso97971)},738:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(270),P.pad.NoPadding={pad:function(){},unpad:function(){}},P.pad.NoPadding)},297:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(270),P.pad.ZeroPadding={pad:function(I,$){var z=4*$;I.clamp(),I.sigBytes+=z-(I.sigBytes%z||z)},unpad:function(I){var $=I.words,z=I.sigBytes-1;for(z=I.sigBytes-1;z>=0;z--)if($[z>>>2]>>>24-z%4*8&255){I.sigBytes=z+1;break}}},P.pad.ZeroPadding)},538:function(Ee,Ie,V){var I,$,z,J,N,_,b,P;Ee.exports=(P=V(12),V(78),V(990),J=($=(I=P).lib).WordArray,_=(N=I.algo).HMAC,b=N.PBKDF2=(z=$.Base).extend({cfg:z.extend({keySize:4,hasher:N.SHA256,iterations:25e4}),init:function(M){this.cfg=this.cfg.extend(M)},compute:function(M,E){for(var T=this.cfg,x=_.create(T.hasher,M),D=J.create(),A=J.create([1]),F=D.words,k=A.words,m=T.keySize,C=T.iterations;F.length<m;){var L=x.update(E).finalize(A);x.reset();for(var O=L.words,H=O.length,j=L,de=1;de<C;de++){j=x.finalize(j),x.reset();for(var le=j.words,pe=0;pe<H;pe++)O[pe]^=le[pe]}D.concat(L),k[0]++}return D.sigBytes=4*m,D}}),I.PBKDF2=function(M,E,T){return b.create(T).compute(M,E)},P.PBKDF2)},848:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,z=I.lib.StreamCipher,N=[],W=[],_=[],b=I.algo.RabbitLegacy=z.extend({_doReset:function(){var E=this._key.words,T=this.cfg.iv,x=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],D=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];this._b=0;for(var A=0;A<4;A++)M.call(this);for(A=0;A<8;A++)D[A]^=x[A+4&7];if(T){var F=T.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,H=L<<16|65535&C;for(D[0]^=C,D[1]^=O,D[2]^=L,D[3]^=H,D[4]^=C,D[5]^=O,D[6]^=L,D[7]^=H,A=0;A<4;A++)M.call(this)}},_doProcessBlock:function(E,T){var x=this._X;M.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var D=0;D<4;D++)N[D]=16711935&(N[D]<<8|N[D]>>>24)|4278255360&(N[D]<<24|N[D]>>>8),E[T+D]^=N[D]},blockSize:4,ivSize:2});function M(){for(var E=this._X,T=this._C,x=0;x<8;x++)W[x]=T[x];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<W[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<W[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<W[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<W[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<W[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<W[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<W[6]>>>0?1:0)|0,this._b=T[7]>>>0<W[7]>>>0?1:0,x=0;x<8;x++){var D=E[x]+T[x],A=65535&D,F=D>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&D)*D|0)+((65535&D)*D|0)}E[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,E[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,E[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,E[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,E[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,E[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,E[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,E[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}I.RabbitLegacy=z._createHelper(b)}(),P.RabbitLegacy)},969:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,z=I.lib.StreamCipher,N=[],W=[],_=[],b=I.algo.Rabbit=z.extend({_doReset:function(){for(var E=this._key.words,T=this.cfg.iv,x=0;x<4;x++)E[x]=16711935&(E[x]<<8|E[x]>>>24)|4278255360&(E[x]<<24|E[x]>>>8);var D=this._X=[E[0],E[3]<<16|E[2]>>>16,E[1],E[0]<<16|E[3]>>>16,E[2],E[1]<<16|E[0]>>>16,E[3],E[2]<<16|E[1]>>>16],A=this._C=[E[2]<<16|E[2]>>>16,4294901760&E[0]|65535&E[1],E[3]<<16|E[3]>>>16,4294901760&E[1]|65535&E[2],E[0]<<16|E[0]>>>16,4294901760&E[2]|65535&E[3],E[1]<<16|E[1]>>>16,4294901760&E[3]|65535&E[0]];for(this._b=0,x=0;x<4;x++)M.call(this);for(x=0;x<8;x++)A[x]^=D[x+4&7];if(T){var F=T.words,k=F[0],m=F[1],C=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),L=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),O=C>>>16|4294901760&L,H=L<<16|65535&C;for(A[0]^=C,A[1]^=O,A[2]^=L,A[3]^=H,A[4]^=C,A[5]^=O,A[6]^=L,A[7]^=H,x=0;x<4;x++)M.call(this)}},_doProcessBlock:function(E,T){var x=this._X;M.call(this),N[0]=x[0]^x[5]>>>16^x[3]<<16,N[1]=x[2]^x[7]>>>16^x[5]<<16,N[2]=x[4]^x[1]>>>16^x[7]<<16,N[3]=x[6]^x[3]>>>16^x[1]<<16;for(var D=0;D<4;D++)N[D]=16711935&(N[D]<<8|N[D]>>>24)|4278255360&(N[D]<<24|N[D]>>>8),E[T+D]^=N[D]},blockSize:4,ivSize:2});function M(){for(var E=this._X,T=this._C,x=0;x<8;x++)W[x]=T[x];for(T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<W[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<W[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<W[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<W[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<W[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<W[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<W[6]>>>0?1:0)|0,this._b=T[7]>>>0<W[7]>>>0?1:0,x=0;x<8;x++){var D=E[x]+T[x],A=65535&D,F=D>>>16;_[x]=((A*A>>>17)+A*F>>>15)+F*F^((4294901760&D)*D|0)+((65535&D)*D|0)}E[0]=_[0]+(_[7]<<16|_[7]>>>16)+(_[6]<<16|_[6]>>>16)|0,E[1]=_[1]+(_[0]<<8|_[0]>>>24)+_[7]|0,E[2]=_[2]+(_[1]<<16|_[1]>>>16)+(_[0]<<16|_[0]>>>16)|0,E[3]=_[3]+(_[2]<<8|_[2]>>>24)+_[1]|0,E[4]=_[4]+(_[3]<<16|_[3]>>>16)+(_[2]<<16|_[2]>>>16)|0,E[5]=_[5]+(_[4]<<8|_[4]>>>24)+_[3]|0,E[6]=_[6]+(_[5]<<16|_[5]>>>16)+(_[4]<<16|_[4]>>>16)|0,E[7]=_[7]+(_[6]<<8|_[6]>>>24)+_[5]|0}I.Rabbit=z._createHelper(b)}(),P.Rabbit)},195:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,z=I.lib.StreamCipher,J=I.algo,N=J.RC4=z.extend({_doReset:function(){for(var b=this._key,M=b.words,E=b.sigBytes,T=this._S=[],x=0;x<256;x++)T[x]=x;x=0;for(var D=0;x<256;x++){var A=x%E,k=T[x];T[x]=T[D=(D+T[x]+(M[A>>>2]>>>24-A%4*8&255))%256],T[D]=k}this._i=this._j=0},_doProcessBlock:function(b,M){b[M]^=W.call(this)},keySize:8,ivSize:0});function W(){for(var b=this._S,M=this._i,E=this._j,T=0,x=0;x<4;x++){var D=b[M=(M+1)%256];b[M]=b[E=(E+b[M])%256],b[E]=D,T|=b[(b[M]+b[E])%256]<<24-8*x}return this._i=M,this._j=E,T}I.RC4=z._createHelper(N);var _=J.RC4Drop=N.extend({cfg:N.cfg.extend({drop:192}),_doReset:function(){N._doReset.call(this);for(var b=this.cfg.drop;b>0;b--)W.call(this)}});I.RC4Drop=z._createHelper(_)}(),P.RC4)},558:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),function(I){var $=P,z=$.lib,J=z.WordArray,N=z.Hasher,W=$.algo,_=J.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),b=J.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),M=J.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),E=J.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),T=J.create([0,1518500249,1859775393,2400959708,2840853838]),x=J.create([1352829926,1548603684,1836072691,2053994217,0]),D=W.RIPEMD160=N.extend({_doReset:function(){this._hash=J.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,H){for(var j=0;j<16;j++){var de=H+j,le=O[de];O[de]=16711935&(le<<8|le>>>24)|4278255360&(le<<24|le>>>8)}var fe,Ke,nt,Z,ae,ne,oe,Pt,Ve,rt,et,pe=this._hash.words,Ae=T.words,Q=x.words,ue=_.words,ye=b.words,ce=M.words,Oe=E.words;for(ne=fe=pe[0],oe=Ke=pe[1],Pt=nt=pe[2],Ve=Z=pe[3],rt=ae=pe[4],j=0;j<80;j+=1)et=fe+O[H+ue[j]]|0,et+=j<16?A(Ke,nt,Z)+Ae[0]:j<32?F(Ke,nt,Z)+Ae[1]:j<48?k(Ke,nt,Z)+Ae[2]:j<64?m(Ke,nt,Z)+Ae[3]:C(Ke,nt,Z)+Ae[4],et=(et=L(et|=0,ce[j]))+ae|0,fe=ae,ae=Z,Z=L(nt,10),nt=Ke,Ke=et,et=ne+O[H+ye[j]]|0,et+=j<16?C(oe,Pt,Ve)+Q[0]:j<32?m(oe,Pt,Ve)+Q[1]:j<48?k(oe,Pt,Ve)+Q[2]:j<64?F(oe,Pt,Ve)+Q[3]:A(oe,Pt,Ve)+Q[4],et=(et=L(et|=0,Oe[j]))+rt|0,ne=rt,rt=Ve,Ve=L(Pt,10),Pt=oe,oe=et;et=pe[1]+nt+Ve|0,pe[1]=pe[2]+Z+rt|0,pe[2]=pe[3]+ae+ne|0,pe[3]=pe[4]+fe+oe|0,pe[4]=pe[0]+Ke+Pt|0,pe[0]=et},_doFinalize:function(){var O=this._data,H=O.words,j=8*this._nDataBytes,de=8*O.sigBytes;H[de>>>5]|=128<<24-de%32,H[14+(de+64>>>9<<4)]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8),O.sigBytes=4*(H.length+1),this._process();for(var le=this._hash,pe=le.words,Ae=0;Ae<5;Ae++){var Q=pe[Ae];pe[Ae]=16711935&(Q<<8|Q>>>24)|4278255360&(Q<<24|Q>>>8)}return le},clone:function(){var O=N.clone.call(this);return O._hash=this._hash.clone(),O}});function A(O,H,j){return O^H^j}function F(O,H,j){return O&H|~O&j}function k(O,H,j){return(O|~H)^j}function m(O,H,j){return O&j|H&~j}function C(O,H,j){return O^(H|~j)}function L(O,H){return O<<H|O>>>32-H}$.RIPEMD160=N._createHelper(D),$.HmacRIPEMD160=N._createHmacHelper(D)}(Math),P.RIPEMD160)},446:function(Ee,Ie,V){var I,$,z,J,W,_,P;Ee.exports=(P=V(12),z=($=(I=P).lib).WordArray,W=[],_=I.algo.SHA1=(J=$.Hasher).extend({_doReset:function(){this._hash=new z.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(b,M){for(var E=this._hash.words,T=E[0],x=E[1],D=E[2],A=E[3],F=E[4],k=0;k<80;k++){if(k<16)W[k]=0|b[M+k];else{var m=W[k-3]^W[k-8]^W[k-14]^W[k-16];W[k]=m<<1|m>>>31}var C=(T<<5|T>>>27)+F+W[k];C+=k<20?1518500249+(x&D|~x&A):k<40?1859775393+(x^D^A):k<60?(x&D|x&A|D&A)-1894007588:(x^D^A)-899497514,F=A,A=D,D=x<<30|x>>>2,x=T,T=C}E[0]=E[0]+T|0,E[1]=E[1]+x|0,E[2]=E[2]+D|0,E[3]=E[3]+A|0,E[4]=E[4]+F|0},_doFinalize:function(){var b=this._data,M=b.words,E=8*this._nDataBytes,T=8*b.sigBytes;return M[T>>>5]|=128<<24-T%32,M[14+(T+64>>>9<<4)]=Math.floor(E/4294967296),M[15+(T+64>>>9<<4)]=E,b.sigBytes=4*M.length,this._process(),this._hash},clone:function(){var b=J.clone.call(this);return b._hash=this._hash.clone(),b}}),I.SHA1=J._createHelper(_),I.HmacSHA1=J._createHmacHelper(_),P.SHA1)},811:function(Ee,Ie,V){var I,z,J,N,W,P;Ee.exports=(P=V(12),V(78),z=(I=P).lib.WordArray,W=(J=I.algo).SHA224=(N=J.SHA256).extend({_doReset:function(){this._hash=new z.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var _=N._doFinalize.call(this);return _.sigBytes-=4,_}}),I.SHA224=N._createHelper(W),I.HmacSHA224=N._createHmacHelper(W),P.SHA224)},78:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),function(I){var $=P,z=$.lib,J=z.WordArray,N=z.Hasher,W=$.algo,_=[],b=[];!function(){function T(F){for(var k=I.sqrt(F),m=2;m<=k;m++)if(!(F%m))return!1;return!0}function x(F){return 4294967296*(F-(0|F))|0}for(var D=2,A=0;A<64;)T(D)&&(A<8&&(_[A]=x(I.pow(D,.5))),b[A]=x(I.pow(D,1/3)),A++),D++}();var M=[],E=W.SHA256=N.extend({_doReset:function(){this._hash=new J.init(_.slice(0))},_doProcessBlock:function(T,x){for(var D=this._hash.words,A=D[0],F=D[1],k=D[2],m=D[3],C=D[4],L=D[5],O=D[6],H=D[7],j=0;j<64;j++){if(j<16)M[j]=0|T[x+j];else{var de=M[j-15],pe=M[j-2];M[j]=((de<<25|de>>>7)^(de<<14|de>>>18)^de>>>3)+M[j-7]+((pe<<15|pe>>>17)^(pe<<13|pe>>>19)^pe>>>10)+M[j-16]}var ue=A&F^A&k^F&k,Oe=H+((C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25))+(C&L^~C&O)+b[j]+M[j];H=O,O=L,L=C,C=m+Oe|0,m=k,k=F,F=A,A=Oe+(((A<<30|A>>>2)^(A<<19|A>>>13)^(A<<10|A>>>22))+ue)|0}D[0]=D[0]+A|0,D[1]=D[1]+F|0,D[2]=D[2]+k|0,D[3]=D[3]+m|0,D[4]=D[4]+C|0,D[5]=D[5]+L|0,D[6]=D[6]+O|0,D[7]=D[7]+H|0},_doFinalize:function(){var T=this._data,x=T.words,D=8*this._nDataBytes,A=8*T.sigBytes;return x[A>>>5]|=128<<24-A%32,x[14+(A+64>>>9<<4)]=I.floor(D/4294967296),x[15+(A+64>>>9<<4)]=D,T.sigBytes=4*x.length,this._process(),this._hash},clone:function(){var T=N.clone.call(this);return T._hash=this._hash.clone(),T}});$.SHA256=N._createHelper(E),$.HmacSHA256=N._createHmacHelper(E)}(Math),P.SHA256)},545:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(802),function(I){var $=P,z=$.lib,J=z.WordArray,N=z.Hasher,_=$.x64.Word,b=$.algo,M=[],E=[],T=[];!function(){for(var A=1,F=0,k=0;k<24;k++){M[A+5*F]=(k+1)*(k+2)/2%64;var C=(2*A+3*F)%5;A=F%5,F=C}for(A=0;A<5;A++)for(F=0;F<5;F++)E[A+5*F]=F+(2*A+3*F)%5*5;for(var L=1,O=0;O<24;O++){for(var H=0,j=0,de=0;de<7;de++){if(1&L){var le=(1<<de)-1;le<32?j^=1<<le:H^=1<<le-32}128&L?L=L<<1^113:L<<=1}T[O]=_.create(H,j)}}();var x=[];!function(){for(var A=0;A<25;A++)x[A]=_.create()}();var D=b.SHA3=N.extend({cfg:N.cfg.extend({outputLength:512}),_doReset:function(){for(var A=this._state=[],F=0;F<25;F++)A[F]=new _.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(A,F){for(var k=this._state,m=this.blockSize/2,C=0;C<m;C++){var L=A[F+2*C],O=A[F+2*C+1];L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),(H=k[C]).high^=O=16711935&(O<<8|O>>>24)|4278255360&(O<<24|O>>>8),H.low^=L}for(var j=0;j<24;j++){for(var de=0;de<5;de++){for(var le=0,pe=0,Ae=0;Ae<5;Ae++)le^=(H=k[de+5*Ae]).high,pe^=H.low;var Q=x[de];Q.high=le,Q.low=pe}for(de=0;de<5;de++){var ue=x[(de+4)%5],ye=x[(de+1)%5],ce=ye.high,Oe=ye.low;for(le=ue.high^(ce<<1|Oe>>>31),pe=ue.low^(Oe<<1|ce>>>31),Ae=0;Ae<5;Ae++)(H=k[de+5*Ae]).high^=le,H.low^=pe}for(var fe=1;fe<25;fe++){var Ke=(H=k[fe]).high,nt=H.low,Z=M[fe];Z<32?(le=Ke<<Z|nt>>>32-Z,pe=nt<<Z|Ke>>>32-Z):(le=nt<<Z-32|Ke>>>64-Z,pe=Ke<<Z-32|nt>>>64-Z);var ae=x[E[fe]];ae.high=le,ae.low=pe}var ne=x[0],oe=k[0];for(ne.high=oe.high,ne.low=oe.low,de=0;de<5;de++)for(Ae=0;Ae<5;Ae++){var Pt=x[fe=de+5*Ae],Ve=x[(de+1)%5+5*Ae],rt=x[(de+2)%5+5*Ae];(H=k[fe]).high=Pt.high^~Ve.high&rt.high,H.low=Pt.low^~Ve.low&rt.low}var H,et=T[j];(H=k[0]).high^=et.high,H.low^=et.low}},_doFinalize:function(){var A=this._data,F=A.words,m=8*A.sigBytes,C=32*this.blockSize;F[m>>>5]|=1<<24-m%32,F[(I.ceil((m+1)/C)*C>>>5)-1]|=128,A.sigBytes=4*F.length,this._process();for(var L=this._state,O=this.cfg.outputLength/8,H=O/8,j=[],de=0;de<H;de++){var le=L[de],pe=le.high,Ae=le.low;pe=16711935&(pe<<8|pe>>>24)|4278255360&(pe<<24|pe>>>8),j.push(Ae=16711935&(Ae<<8|Ae>>>24)|4278255360&(Ae<<24|Ae>>>8)),j.push(pe)}return new J.init(j,O)},clone:function(){for(var A=N.clone.call(this),F=A._state=this._state.slice(0),k=0;k<25;k++)F[k]=F[k].clone();return A}});$.SHA3=N._createHelper(D),$.HmacSHA3=N._createHmacHelper(D)}(Math),P.SHA3)},913:function(Ee,Ie,V){var I,$,z,J,N,W,_,P;Ee.exports=(P=V(12),V(802),V(870),z=($=(I=P).x64).Word,J=$.WordArray,_=(N=I.algo).SHA384=(W=N.SHA512).extend({_doReset:function(){this._hash=new J.init([new z.init(3418070365,3238371032),new z.init(1654270250,914150663),new z.init(2438529370,812702999),new z.init(355462360,4144912697),new z.init(1731405415,4290775857),new z.init(2394180231,1750603025),new z.init(3675008525,1694076839),new z.init(1203062813,3204075428)])},_doFinalize:function(){var b=W._doFinalize.call(this);return b.sigBytes-=16,b}}),I.SHA384=W._createHelper(_),I.HmacSHA384=W._createHmacHelper(_),P.SHA384)},870:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(802),function(){var I=P,z=I.lib.Hasher,J=I.x64,N=J.Word,W=J.WordArray,_=I.algo;function b(){return N.create.apply(N,arguments)}var M=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],E=[];!function(){for(var x=0;x<80;x++)E[x]=b()}();var T=_.SHA512=z.extend({_doReset:function(){this._hash=new W.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(x,D){for(var A=this._hash.words,F=A[0],k=A[1],m=A[2],C=A[3],L=A[4],O=A[5],H=A[6],j=A[7],de=F.high,le=F.low,pe=k.high,Ae=k.low,Q=m.high,ue=m.low,ye=C.high,ce=C.low,Oe=L.high,fe=L.low,Ke=O.high,nt=O.low,Z=H.high,ae=H.low,ne=j.high,oe=j.low,Pt=de,Ve=le,rt=pe,et=Ae,Xe=Q,Xi=ue,sd=ye,Fs=ce,ir=Oe,Wt=fe,_r=Ke,Rc=nt,od=Z,kc=ae,Up=ne,xa=oe,kr=0;kr<80;kr++){var Nr,pi,Nc=E[kr];if(kr<16)pi=Nc.high=0|x[D+2*kr],Nr=Nc.low=0|x[D+2*kr+1];else{var Oc=E[kr-15],Vs=Oc.high,Ca=Oc.low,jp=(Ca>>>1|Vs<<31)^(Ca>>>8|Vs<<24)^(Ca>>>7|Vs<<25),Mi=E[kr-2],Ls=Mi.high,Ia=Mi.low,Gp=(Ia>>>19|Ls<<13)^(Ia<<3|Ls>>>29)^(Ia>>>6|Ls<<26),qp=E[kr-7],Wp=E[kr-16],Kp=Wp.low;Nc.high=pi=(pi=(pi=((Vs>>>1|Ca<<31)^(Vs>>>8|Ca<<24)^Vs>>>7)+qp.high+((Nr=jp+qp.low)>>>0<jp>>>0?1:0))+((Ls>>>19|Ia<<13)^(Ls<<3|Ia>>>29)^Ls>>>6)+((Nr+=Gp)>>>0<Gp>>>0?1:0))+Wp.high+((Nr+=Kp)>>>0<Kp>>>0?1:0),Nc.low=Nr}var sr,c_=ir&_r^~ir&od,Yp=Wt&Rc^~Wt&kc,l_=Pt&rt^Pt&Xe^rt&Xe,ad=(Ve>>>28|Pt<<4)^(Ve<<30|Pt>>>2)^(Ve<<25|Pt>>>7),cd=M[kr],ld=cd.low,Ri=Up+((ir>>>14|Wt<<18)^(ir>>>18|Wt<<14)^(ir<<23|Wt>>>9))+((sr=xa+((Wt>>>14|ir<<18)^(Wt>>>18|ir<<14)^(Wt<<23|ir>>>9)))>>>0<xa>>>0?1:0),ud=ad+(Ve&et^Ve&Xi^et&Xi);Up=od,xa=kc,od=_r,kc=Rc,_r=ir,Rc=Wt,ir=sd+(Ri=(Ri=(Ri=Ri+c_+((sr+=Yp)>>>0<Yp>>>0?1:0))+cd.high+((sr+=ld)>>>0<ld>>>0?1:0))+pi+((sr+=Nr)>>>0<Nr>>>0?1:0))+((Wt=Fs+sr|0)>>>0<Fs>>>0?1:0)|0,sd=Xe,Fs=Xi,Xe=rt,Xi=et,rt=Pt,et=Ve,Pt=Ri+(((Pt>>>28|Ve<<4)^(Pt<<30|Ve>>>2)^(Pt<<25|Ve>>>7))+l_+(ud>>>0<ad>>>0?1:0))+((Ve=sr+ud|0)>>>0<sr>>>0?1:0)|0}le=F.low=le+Ve,F.high=de+Pt+(le>>>0<Ve>>>0?1:0),Ae=k.low=Ae+et,k.high=pe+rt+(Ae>>>0<et>>>0?1:0),ue=m.low=ue+Xi,m.high=Q+Xe+(ue>>>0<Xi>>>0?1:0),ce=C.low=ce+Fs,C.high=ye+sd+(ce>>>0<Fs>>>0?1:0),fe=L.low=fe+Wt,L.high=Oe+ir+(fe>>>0<Wt>>>0?1:0),nt=O.low=nt+Rc,O.high=Ke+_r+(nt>>>0<Rc>>>0?1:0),ae=H.low=ae+kc,H.high=Z+od+(ae>>>0<kc>>>0?1:0),oe=j.low=oe+xa,j.high=ne+Up+(oe>>>0<xa>>>0?1:0)},_doFinalize:function(){var x=this._data,D=x.words,A=8*this._nDataBytes,F=8*x.sigBytes;return D[F>>>5]|=128<<24-F%32,D[30+(F+128>>>10<<5)]=Math.floor(A/4294967296),D[31+(F+128>>>10<<5)]=A,x.sigBytes=4*D.length,this._process(),this._hash.toX32()},clone:function(){var x=z.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:32});I.SHA512=z._createHelper(T),I.HmacSHA512=z._createHmacHelper(T)}(),P.SHA512)},769:function(Ee,Ie,V){var P;Ee.exports=(P=V(12),V(506),V(873),V(66),V(270),function(){var I=P,$=I.lib,z=$.WordArray,J=$.BlockCipher,N=I.algo,W=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],_=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],b=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],M=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],E=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],T=N.DES=J.extend({_doReset:function(){for(var k=this._key.words,m=[],C=0;C<56;C++){var L=W[C]-1;m[C]=k[L>>>5]>>>31-L%32&1}for(var O=this._subKeys=[],H=0;H<16;H++){var j=O[H]=[],de=b[H];for(C=0;C<24;C++)j[C/6|0]|=m[(_[C]-1+de)%28]<<31-C%6,j[4+(C/6|0)]|=m[28+(_[C+24]-1+de)%28]<<31-C%6;for(j[0]=j[0]<<1|j[0]>>>31,C=1;C<7;C++)j[C]=j[C]>>>4*(C-1)+3;j[7]=j[7]<<5|j[7]>>>27}var le=this._invSubKeys=[];for(C=0;C<16;C++)le[C]=O[15-C]},encryptBlock:function(F,k){this._doCryptBlock(F,k,this._subKeys)},decryptBlock:function(F,k){this._doCryptBlock(F,k,this._invSubKeys)},_doCryptBlock:function(F,k,m){this._lBlock=F[k],this._rBlock=F[k+1],x.call(this,4,252645135),x.call(this,16,65535),D.call(this,2,858993459),D.call(this,8,16711935),x.call(this,1,1431655765);for(var C=0;C<16;C++){for(var L=m[C],O=this._lBlock,H=this._rBlock,j=0,de=0;de<8;de++)j|=M[de][((H^L[de])&E[de])>>>0];this._lBlock=H,this._rBlock=O^j}var le=this._lBlock;this._lBlock=this._rBlock,this._rBlock=le,x.call(this,1,1431655765),D.call(this,8,16711935),D.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),F[k]=this._lBlock,F[k+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function x(F,k){var m=(this._lBlock>>>F^this._rBlock)&k;this._rBlock^=m,this._lBlock^=m<<F}function D(F,k){var m=(this._rBlock>>>F^this._lBlock)&k;this._lBlock^=m,this._rBlock^=m<<F}I.DES=J._createHelper(T);var A=N.TripleDES=J.extend({_doReset:function(){var k=this._key.words;if(2!==k.length&&4!==k.length&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=k.slice(0,2),C=k.length<4?k.slice(0,2):k.slice(2,4),L=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=T.createEncryptor(z.create(m)),this._des2=T.createEncryptor(z.create(C)),this._des3=T.createEncryptor(z.create(L))},encryptBlock:function(F,k){this._des1.encryptBlock(F,k),this._des2.decryptBlock(F,k),this._des3.encryptBlock(F,k)},decryptBlock:function(F,k){this._des3.decryptBlock(F,k),this._des2.encryptBlock(F,k),this._des1.decryptBlock(F,k)},keySize:6,ivSize:2,blockSize:2});I.TripleDES=J._createHelper(A)}(),P.TripleDES)},802:function(Ee,Ie,V){var z,J,N,W,P;Ee.exports=(P=V(12),J=(z=P.lib).Base,N=z.WordArray,(W=P.x64={}).Word=J.extend({init:function(M,E){this.high=M,this.low=E}}),W.WordArray=J.extend({init:function(M,E){M=this.words=M||[],this.sigBytes=null!=E?E:8*M.length},toX32:function(){for(var M=this.words,E=M.length,T=[],x=0;x<E;x++){var D=M[x];T.push(D.high),T.push(D.low)}return N.create(T,this.sigBytes)},clone:function(){for(var M=J.clone.call(this),E=M.words=this.words.slice(0),T=E.length,x=0;x<T;x++)E[x]=E[x].clone();return M}}),P)},480:()=>{}},Ee=>{Ee(Ee.s=618)}]);